try{
(function(B){var O,ay="2.5.1",x=this,T=Math.round,Z,t=0,e=1,aM=2,s=3,ar=4,q=5,Q=6,au={},aG={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},ai=(typeof module!=="undefined"&&module.exports&&typeof require!=="undefined"),b=/^\/?Date\((\-?\d+)/i,aV=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,aA=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,al=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Y=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,f=/\d\d?/,aa=/\d{1,3}/,C=/\d{1,4}/,a2=/[+\-]?\d{1,6}/,aR=/\d+/,G=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,n=/Z|[\+\-]\d\d:?\d\d/gi,j=/T/i,aJ=/[\+\-]?\d+(\.\d{1,3})?/,X=/\d/,o=/\d\d/,aU=/\d{3}/,aI=/\d{4}/,ae=/[+-]?\d{6}/,V=/[+-]?\d+/,aE=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,R="YYYY-MM-DDTHH:mm:ssZ",aT=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],E=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],W=/([\+\-]|\d\d)/gi,aB="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),A={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},c={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},aQ={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ah={},aL="DDD w W M D d".split(" "),aj="M D H h m s w W".split(" "),aN={M:function(){return this.month()+1},MMM:function(i){return this.lang().monthsShort(this,i)},MMMM:function(i){return this.lang().months(this,i)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(i){return this.lang().weekdaysMin(this,i)},ddd:function(i){return this.lang().weekdaysShort(this,i)},dddd:function(i){return this.lang().weekdays(this,i)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return H(this.year()%100,2)},YYYY:function(){return H(this.year(),4)},YYYYY:function(){return H(this.year(),5)},YYYYYY:function(){var a4=this.year(),i=a4>=0?"+":"-";return i+H(Math.abs(a4),6)},gg:function(){return H(this.weekYear()%100,2)},gggg:function(){return H(this.weekYear(),4)},ggggg:function(){return H(this.weekYear(),5)},GG:function(){return H(this.isoWeekYear()%100,2)},GGGG:function(){return H(this.isoWeekYear(),4)},GGGGG:function(){return H(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return J(this.milliseconds()/100)},SS:function(){return H(J(this.milliseconds()/10),2)},SSS:function(){return H(this.milliseconds(),3)},SSSS:function(){return H(this.milliseconds(),3)},Z:function(){var a4=-this.zone(),i="+";if(a4<0){a4=-a4;i="-"}return i+H(J(a4/60),2)+":"+H(J(a4)%60,2)},ZZ:function(){var a4=-this.zone(),i="+";if(a4<0){a4=-a4;i="-"}return i+H(J(a4/60),2)+H(J(a4)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},S=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function ac(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function L(a4,i){return function(a5){return H(a4.call(this,a5),i)}}function g(i,a4){return function(a5){return this.lang().ordinal(i.call(this,a5),a4)}}while(aL.length){Z=aL.pop();aN[Z+"o"]=g(aN[Z],Z)}while(aj.length){Z=aj.pop();aN[Z+Z]=L(aN[Z],2)}aN.DDDD=L(aN.DDD,3);function aC(){}function I(i){aZ(i);aw(this,i)}function ab(a6){var a9=l(a6),a8=a9.year||0,a4=a9.month||0,i=a9.week||0,bc=a9.day||0,ba=a9.hour||0,a7=a9.minute||0,bb=a9.second||0,a5=a9.millisecond||0;this._milliseconds=+a5+bb*1000+a7*60000+ba*3600000;this._days=+bc+i*7;this._months=+a4+a8*12;this._data={};this._bubble()}function aw(a5,a4){for(var a6 in a4){if(a4.hasOwnProperty(a6)){a5[a6]=a4[a6]}}if(a4.hasOwnProperty("toString")){a5.toString=a4.toString}if(a4.hasOwnProperty("valueOf")){a5.valueOf=a4.valueOf}return a5}function a1(a5){var a4={},a6;for(a6 in a5){if(a5.hasOwnProperty(a6)&&aG.hasOwnProperty(a6)){a4[a6]=a5[a6]}}return a4}function k(i){if(i<0){return Math.ceil(i)}else{return Math.floor(i)}}function H(a7,a6,a5){var a4=""+Math.abs(a7),i=a7>=0;while(a4.length<a6){a4="0"+a4}return(i?(a5?"+":""):"-")+a4}function D(a6,a5,a9,a8){var a4=a5._milliseconds,bb=a5._days,i=a5._months,a7,ba;if(a4){a6._d.setTime(+a6._d+a4*a9)}if(bb||i){a7=a6.minute();ba=a6.hour()}if(bb){a6.date(a6.date()+bb*a9)}if(i){a6.month(a6.month()+i*a9)}if(a4&&!a8){O.updateOffset(a6)}if(bb||i){a6.minute(a7);a6.hour(ba)}}function a(i){return Object.prototype.toString.call(i)==="[object Array]"}function d(i){return Object.prototype.toString.call(i)==="[object Date]"||i instanceof Date}function aK(a9,a8,a5){var a4=Math.min(a9.length,a8.length),a6=Math.abs(a9.length-a8.length),ba=0,a7;for(a7=0;a7<a4;a7++){if((a5&&a9[a7]!==a8[a7])||(!a5&&J(a9[a7])!==J(a8[a7]))){ba++}}return ba+a6}function aP(a4){if(a4){var i=a4.toLowerCase().replace(/(.)s$/,"$1");a4=c[a4]||aQ[i]||i}return a4}function l(a5){var a4={},i,a6;for(a6 in a5){if(a5.hasOwnProperty(a6)){i=aP(a6);if(i){a4[i]=a5[a6]}}}return a4}function ao(a4){var i,a5;if(a4.indexOf("week")===0){i=7;a5="day"}else{if(a4.indexOf("month")===0){i=12;a5="month"}else{return}}O[a4]=function(ba,a7){var a9,a6,bb=O.fn._lang[a4],a8=[];if(typeof ba==="number"){a7=ba;ba=B}a6=function(bd){var bc=O().utc().set(a5,bd);return bb.call(O.fn._lang,bc,ba||"")};if(a7!=null){return a6(a7)}else{for(a9=0;a9<i;a9++){a8.push(a6(a9))}return a8}}}function J(i){var a5=+i,a4=0;if(a5!==0&&isFinite(a5)){if(a5>=0){a4=Math.floor(a5)}else{a4=Math.ceil(a5)}}return a4}function aX(i,a4){return new Date(Date.UTC(i,a4+1,0)).getUTCDate()}function aS(i){return aF(i)?366:365}function aF(i){return(i%4===0&&i%100!==0)||i%400===0}function aZ(i){var a4;if(i._a&&i._pf.overflow===-2){a4=i._a[e]<0||i._a[e]>11?e:i._a[aM]<1||i._a[aM]>aX(i._a[t],i._a[e])?aM:i._a[s]<0||i._a[s]>23?s:i._a[ar]<0||i._a[ar]>59?ar:i._a[q]<0||i._a[q]>59?q:i._a[Q]<0||i._a[Q]>999?Q:-1;if(i._pf._overflowDayOfYear&&(a4<t||a4>aM)){a4=aM}i._pf.overflow=a4}}function ax(i){if(i._isValid==null){i._isValid=!isNaN(i._d.getTime())&&i._pf.overflow<0&&!i._pf.empty&&!i._pf.invalidMonth&&!i._pf.nullInput&&!i._pf.invalidFormat&&!i._pf.userInvalidated;if(i._strict){i._isValid=i._isValid&&i._pf.charsLeftOver===0&&i._pf.unusedTokens.length===0}}return i._isValid}function z(i){return i?i.toLowerCase().replace("_","-"):i}function u(i,a4){return a4._isUTC?O(i).zone(a4._offset||0):O(i).local()}aw(aC.prototype,{set:function(a4){var a6,a5;for(a5 in a4){a6=a4[a5];if(typeof a6==="function"){this[a5]=a6}else{this["_"+a5]=a6}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(i){return this._months[i.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(i){return this._monthsShort[i.month()]},monthsParse:function(a4){var a5,a7,a6;if(!this._monthsParse){this._monthsParse=[]}for(a5=0;a5<12;a5++){if(!this._monthsParse[a5]){a7=O.utc([2000,a5]);a6="^"+this.months(a7,"")+"|^"+this.monthsShort(a7,"");this._monthsParse[a5]=new RegExp(a6.replace(".",""),"i")}if(this._monthsParse[a5].test(a4)){return a5}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(i){return this._weekdays[i.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(i){return this._weekdaysShort[i.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(i){return this._weekdaysMin[i.day()]},weekdaysParse:function(a7){var a4,a6,a5;if(!this._weekdaysParse){this._weekdaysParse=[]}for(a4=0;a4<7;a4++){if(!this._weekdaysParse[a4]){a6=O([2000,1]).day(a4);a5="^"+this.weekdays(a6,"")+"|^"+this.weekdaysShort(a6,"")+"|^"+this.weekdaysMin(a6,"");this._weekdaysParse[a4]=new RegExp(a5.replace(".",""),"i")}if(this._weekdaysParse[a4].test(a7)){return a4}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a4){var i=this._longDateFormat[a4];if(!i&&this._longDateFormat[a4.toUpperCase()]){i=this._longDateFormat[a4.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a5){return a5.slice(1)});this._longDateFormat[a4]=i}return i},isPM:function(i){return((i+"").toLowerCase().charAt(0)==="p")},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(i,a4,a5){if(i>11){return a5?"pm":"PM"}else{return a5?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a4,a5){var i=this._calendar[a4];return typeof i==="function"?i.apply(a5):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a6,a5,a4,a7){var i=this._relativeTime[a4];return(typeof i==="function")?i(a6,a5,a4,a7):i.replace(/%d/i,a6)},pastFuture:function(a5,i){var a4=this._relativeTime[a5>0?"future":"past"];return typeof a4==="function"?a4(i):a4.replace(/%s/i,i)},ordinal:function(i){return this._ordinal.replace("%d",i)},_ordinal:"%d",preparse:function(i){return i},postformat:function(i){return i},week:function(i){return y(i,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function ag(a4,i){i.abbr=a4;if(!au[a4]){au[a4]=new aC()}au[a4].set(i);return au[a4]}function aW(i){delete au[i]}function av(a8){var a7=0,a5,ba,a9,a6,a4=function(i){if(!au[i]&&ai){try{require("./lang/"+i)}catch(bb){}}return au[i]};if(!a8){return O.fn._lang}if(!a(a8)){ba=a4(a8);if(ba){return ba}a8=[a8]}while(a7<a8.length){a6=z(a8[a7]).split("-");a5=a6.length;a9=z(a8[a7+1]);a9=a9?a9.split("-"):null;while(a5>0){ba=a4(a6.slice(0,a5).join("-"));if(ba){return ba}if(a9&&a9.length>=a5&&aK(a6,a9,true)>=a5-1){break}a5--}a7++}return O.fn._lang}function af(i){if(i.match(/\[[\s\S]/)){return i.replace(/^\[|\]$/g,"")}return i.replace(/\\/g,"")}function p(a6){var a7=a6.match(al),a4,a5;for(a4=0,a5=a7.length;a4<a5;a4++){if(aN[a7[a4]]){a7[a4]=aN[a7[a4]]}else{a7[a4]=af(a7[a4])}}return function(a8){var i="";for(a4=0;a4<a5;a4++){i+=a7[a4] instanceof Function?a7[a4].call(a8,a6):a7[a4]}return i}}function ak(i,a4){if(!i.isValid()){return i.lang().invalidDate()}a4=a3(a4,i.lang());if(!ah[a4]){ah[a4]=p(a4)}return ah[a4](i)}function a3(a6,a7){var a4=5;function a5(i){return a7.longDateFormat(i)||i}Y.lastIndex=0;while(a4>=0&&Y.test(a6)){a6=a6.replace(Y,a5);Y.lastIndex=0;a4-=1}return a6}function an(a6,a5){var a4,i=a5._strict;switch(a6){case"DDDD":return aU;case"YYYY":case"GGGG":case"gggg":return i?aI:C;case"Y":case"G":case"g":return V;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?ae:a2;case"S":if(i){return X}case"SS":if(i){return o}case"SSS":if(i){return aU}case"DDD":return aa;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return G;case"a":case"A":return av(a5._l)._meridiemParse;case"X":return aJ;case"Z":case"ZZ":return n;case"T":return j;case"SSSS":return aR;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?o:f;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return f;default:a4=new RegExp(a0(aq(a6.replace("\\","")),"i"));return a4}}function v(a4){a4=a4||"";var i=(a4.match(n)||[]),a7=i[i.length-1]||[],a6=(a7+"").match(W)||["-",0,0],a5=+(a6[1]*60)+J(a6[2]);return a6[0]==="+"?-a5:a5}function ap(a7,a5,a6){var a4,i=a6._a;switch(a7){case"M":case"MM":if(a5!=null){i[e]=J(a5)-1}break;case"MMM":case"MMMM":a4=av(a6._l).monthsParse(a5);if(a4!=null){i[e]=a4}else{a6._pf.invalidMonth=a5}break;case"D":case"DD":if(a5!=null){i[aM]=J(a5)}break;case"DDD":case"DDDD":if(a5!=null){a6._dayOfYear=J(a5)}break;case"YY":i[t]=J(a5)+(J(a5)>68?1900:2000);break;case"YYYY":case"YYYYY":case"YYYYYY":i[t]=J(a5);break;case"a":case"A":a6._isPm=av(a6._l).isPM(a5);break;case"H":case"HH":case"h":case"hh":i[s]=J(a5);break;case"m":case"mm":i[ar]=J(a5);break;case"s":case"ss":i[q]=J(a5);break;case"S":case"SS":case"SSS":case"SSSS":i[Q]=J(("0."+a5)*1000);break;case"X":a6._d=new Date(parseFloat(a5)*1000);break;case"Z":case"ZZ":a6._useUTC=true;a6._tzm=v(a5);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":a7=a7.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":a7=a7.substr(0,2);if(a5){a6._w=a6._w||{};a6._w[a7]=a5}break}}function ad(a8){var ba,a9,bd=[],a6,bc,a5,be,bf,a7,bb,a4;if(a8._d){return}a6=m(a8);if(a8._w&&a8._a[aM]==null&&a8._a[e]==null){a5=function(bg){var i=parseInt(bg,10);return bg?(bg.length<3?(i>68?1900+i:2000+i):i):(a8._a[t]==null?O().weekYear():a8._a[t])};be=a8._w;if(be.GG!=null||be.W!=null||be.E!=null){bf=r(a5(be.GG),be.W||1,be.E,4,1)}else{a7=av(a8._l);bb=be.d!=null?aY(be.d,a7):(be.e!=null?parseInt(be.e,10)+a7._week.dow:0);a4=parseInt(be.w,10)||1;if(be.d!=null&&bb<a7._week.dow){a4++}bf=r(a5(be.gg),a4,bb,a7._week.doy,a7._week.dow)}a8._a[t]=bf.year;a8._dayOfYear=bf.dayOfYear}if(a8._dayOfYear){bc=a8._a[t]==null?a6[t]:a8._a[t];if(a8._dayOfYear>aS(bc)){a8._pf._overflowDayOfYear=true}a9=F(bc,0,a8._dayOfYear);a8._a[e]=a9.getUTCMonth();a8._a[aM]=a9.getUTCDate()}for(ba=0;ba<3&&a8._a[ba]==null;++ba){a8._a[ba]=bd[ba]=a6[ba]}for(;ba<7;ba++){a8._a[ba]=bd[ba]=(a8._a[ba]==null)?(ba===2?1:0):a8._a[ba]}bd[s]+=J((a8._tzm||0)/60);bd[ar]+=J((a8._tzm||0)%60);a8._d=(a8._useUTC?F:am).apply(null,bd)}function az(a4){var i;if(a4._d){return}i=l(a4._i);a4._a=[i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond];ad(a4)}function m(a4){var i=new Date();if(a4._useUTC){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]}else{return[i.getFullYear(),i.getMonth(),i.getDate()]}}function N(a7){a7._a=[];a7._pf.empty=true;var a6=av(a7._l),ba=""+a7._i,a9,a5,bd,a8,bc,a4=ba.length,bb=0;bd=a3(a7._f,a6).match(al)||[];for(a9=0;a9<bd.length;a9++){a8=bd[a9];a5=(ba.match(an(a8,a7))||[])[0];if(a5){bc=ba.substr(0,ba.indexOf(a5));if(bc.length>0){a7._pf.unusedInput.push(bc)}ba=ba.slice(ba.indexOf(a5)+a5.length);bb+=a5.length}if(aN[a8]){if(a5){a7._pf.empty=false}else{a7._pf.unusedTokens.push(a8)}ap(a8,a5,a7)}else{if(a7._strict&&!a5){a7._pf.unusedTokens.push(a8)}}}a7._pf.charsLeftOver=a4-bb;if(ba.length>0){a7._pf.unusedInput.push(ba)}if(a7._isPm&&a7._a[s]<12){a7._a[s]+=12}if(a7._isPm===false&&a7._a[s]===12){a7._a[s]=0}ad(a7);aZ(a7)}function aq(i){return i.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a4,a8,a7,a6,a5){return a8||a7||a6||a5})}function a0(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function aO(a4){var a8,a6,a7,a5,a9;if(a4._f.length===0){a4._pf.invalidFormat=true;a4._d=new Date(NaN);return}for(a5=0;a5<a4._f.length;a5++){a9=0;a8=aw({},a4);a8._pf=ac();a8._f=a4._f[a5];N(a8);if(!ax(a8)){continue}a9+=a8._pf.charsLeftOver;a9+=a8._pf.unusedTokens.length*10;a8._pf.score=a9;if(a7==null||a9<a7){a7=a9;a6=a8}}aw(a4,a6||a8)}function h(a7){var a8,a4,a6=a7._i,a5=aE.exec(a6);if(a5){a7._pf.iso=true;for(a8=0,a4=aT.length;a8<a4;a8++){if(aT[a8][1].exec(a6)){a7._f=aT[a8][0]+(a5[6]||" ");break}}for(a8=0,a4=E.length;a8<a4;a8++){if(E[a8][1].exec(a6)){a7._f+=E[a8][0];break}}if(a6.match(n)){a7._f+="Z"}N(a7)}else{a7._d=new Date(a6)}}function M(a5){var a4=a5._i,i=b.exec(a4);if(a4===B){a5._d=new Date()}else{if(i){a5._d=new Date(+i[1])}else{if(typeof a4==="string"){h(a5)}else{if(a(a4)){a5._a=a4.slice(0);ad(a5)}else{if(d(a4)){a5._d=new Date(+a4)}else{if(typeof(a4)==="object"){az(a5)}else{a5._d=new Date(a4)}}}}}}}function am(ba,i,a8,a7,a9,a6,a5){var a4=new Date(ba,i,a8,a7,a9,a6,a5);if(ba<1970){a4.setFullYear(ba)}return a4}function F(a4){var i=new Date(Date.UTC.apply(null,arguments));if(a4<1970){i.setUTCFullYear(a4)}return i}function aY(i,a4){if(typeof i==="string"){if(!isNaN(i)){i=parseInt(i,10)}else{i=a4.weekdaysParse(i);if(typeof i!=="number"){return null}}}return i}function aD(i,a5,a4,a6,a7){return a7.relativeTime(a5||1,!!a4,i,a6)}function w(a5,i,a4){var ba=T(Math.abs(a5)/1000),a6=T(ba/60),a9=T(a6/60),bb=T(a9/24),a7=T(bb/365),a8=ba<45&&["s",ba]||a6===1&&["m"]||a6<45&&["mm",a6]||a9===1&&["h"]||a9<22&&["hh",a9]||bb===1&&["d"]||bb<=25&&["dd",bb]||bb<=45&&["M"]||bb<345&&["MM",T(bb/30)]||a7===1&&["y"]||["yy",a7];a8[2]=i;a8[3]=a5>0;a8[4]=a4;return aD.apply({},a8)}function y(a7,a5,a8){var a4=a8-a5,i=a8-a7.day(),a6;if(i>a4){i-=7}if(i<a4-7){i+=7}a6=O(a7).add("d",i);return{week:Math.ceil(a6.dayOfYear()/7),year:a6.year()}}function r(a7,a6,a8,ba,i){var a9=F(a7,0,1).getUTCDay(),a5,a4;a8=a8!=null?a8:i;a5=i-a9+(a9>ba?7:0)-(a9<i?7:0);a4=7*(a6-1)+(a8-i)+a5+1;return{year:a4>0?a7:a7-1,dayOfYear:a4>0?a4:aS(a7-1)+a4}}function K(a4){var i=a4._i,a5=a4._f;if(i===null){return O.invalid({nullInput:true})}if(typeof i==="string"){a4._i=i=av().preparse(i)}if(O.isMoment(i)){a4=a1(i);a4._d=new Date(+i._d)}else{if(a5){if(a(a5)){aO(a4)}else{N(a4)}}else{M(a4)}}return new I(a4)}O=function(a4,a5,a6,i){var a7;if(typeof(a6)==="boolean"){i=a6;a6=B}a7={};a7._isAMomentObject=true;a7._i=a4;a7._f=a5;a7._l=a6;a7._strict=i;a7._isUTC=false;a7._pf=ac();return K(a7)};O.utc=function(a4,a5,a6,i){var a7;if(typeof(a6)==="boolean"){i=a6;a6=B}a7={};a7._isAMomentObject=true;a7._useUTC=true;a7._isUTC=true;a7._l=a6;a7._i=a4;a7._f=a5;a7._strict=i;a7._pf=ac();return K(a7).utc()};O.unix=function(i){return O(i*1000)};O.duration=function(a4,a8){var a9=a4,a7=null,i,a6,a5;if(O.isDuration(a4)){a9={ms:a4._milliseconds,d:a4._days,M:a4._months}}else{if(typeof a4==="number"){a9={};if(a8){a9[a8]=a4}else{a9.milliseconds=a4}}else{if(!!(a7=aV.exec(a4))){i=(a7[1]==="-")?-1:1;a9={y:0,d:J(a7[aM])*i,h:J(a7[s])*i,m:J(a7[ar])*i,s:J(a7[q])*i,ms:J(a7[Q])*i}}else{if(!!(a7=aA.exec(a4))){i=(a7[1]==="-")?-1:1;a5=function(bb){var ba=bb&&parseFloat(bb.replace(",","."));return(isNaN(ba)?0:ba)*i};a9={y:a5(a7[2]),M:a5(a7[3]),d:a5(a7[4]),h:a5(a7[5]),m:a5(a7[6]),s:a5(a7[7]),w:a5(a7[8])}}}}}a6=new ab(a9);if(O.isDuration(a4)&&a4.hasOwnProperty("_lang")){a6._lang=a4._lang}return a6};O.version=ay;O.defaultFormat=R;O.updateOffset=function(){};O.lang=function(a4,i){var a5;if(!a4){return O.fn._lang._abbr}if(i){ag(z(a4),i)}else{if(i===null){aW(a4);a4="en"}else{if(!au[a4]){av(a4)}}}a5=O.duration.fn._lang=O.fn._lang=av(a4);return a5._abbr};O.langData=function(i){if(i&&i._lang&&i._lang._abbr){i=i._lang._abbr}return av(i)};O.isMoment=function(i){return i instanceof I||(i!=null&&i.hasOwnProperty("_isAMomentObject"))};O.isDuration=function(i){return i instanceof ab};for(Z=S.length-1;Z>=0;--Z){ao(S[Z])}O.normalizeUnits=function(i){return aP(i)};O.invalid=function(a4){var i=O.utc(NaN);if(a4!=null){aw(i._pf,a4)}else{i._pf.userInvalidated=true}return i};O.parseZone=function(i){return O(i).parseZone()};aw(O.fn=I.prototype,{clone:function(){return O(this)},valueOf:function(){return +this._d+((this._offset||0)*60000)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var i=O(this).utc();if(0<i.year()&&i.year()<=9999){return ak(i,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}else{return ak(i,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var i=this;return[i.year(),i.month(),i.date(),i.hours(),i.minutes(),i.seconds(),i.milliseconds()]},isValid:function(){return ax(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&aK(this._a,(this._isUTC?O.utc(this._a):O(this._a)).toArray())>0}return false},parsingFlags:function(){return aw({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=false;return this},format:function(a4){var i=ak(this,a4||O.defaultFormat);return this.lang().postformat(i)},add:function(i,a5){var a4;if(typeof i==="string"){a4=O.duration(+a5,i)}else{a4=O.duration(i,a5)}D(this,a4,1);return this},subtract:function(i,a5){var a4;if(typeof i==="string"){a4=O.duration(+a5,i)}else{a4=O.duration(i,a5)}D(this,a4,-1);return this},diff:function(a7,a6,i){var a8=u(a7,this),a4=(this.zone()-a8.zone())*60000,a9,a5;a6=aP(a6);if(a6==="year"||a6==="month"){a9=(this.daysInMonth()+a8.daysInMonth())*43200000;a5=((this.year()-a8.year())*12)+(this.month()-a8.month());a5+=((this-O(this).startOf("month"))-(a8-O(a8).startOf("month")))/a9;a5-=((this.zone()-O(this).startOf("month").zone())-(a8.zone()-O(a8).startOf("month").zone()))*60000/a9;if(a6==="year"){a5=a5/12}}else{a9=(this-a8);a5=a6==="second"?a9/1000:a6==="minute"?a9/60000:a6==="hour"?a9/3600000:a6==="day"?(a9-a4)/86400000:a6==="week"?(a9-a4)/604800000:a9}return i?a5:k(a5)},from:function(a4,i){return O.duration(this.diff(a4)).lang(this.lang()._abbr).humanize(!i)},fromNow:function(i){return this.from(O(),i)},calendar:function(){var i=u(O(),this).startOf("day"),a5=this.diff(i,"days",true),a4=a5<-6?"sameElse":a5<-1?"lastWeek":a5<0?"lastDay":a5<1?"sameDay":a5<2?"nextDay":a5<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(a4,this))},isLeapYear:function(){return aF(this.year())},isDST:function(){return(this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone())},day:function(a4){var i=this._isUTC?this._d.getUTCDay():this._d.getDay();if(a4!=null){a4=aY(a4,this.lang());return this.add({d:a4-i})}else{return i}},month:function(i){var a4=this._isUTC?"UTC":"",a5;if(i!=null){if(typeof i==="string"){i=this.lang().monthsParse(i);if(typeof i!=="number"){return this}}a5=this.date();this.date(1);this._d["set"+a4+"Month"](i);this.date(Math.min(a5,this.daysInMonth()));O.updateOffset(this);return this}else{return this._d["get"+a4+"Month"]()}},startOf:function(i){i=aP(i);switch(i){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(i==="week"){this.weekday(0)}else{if(i==="isoWeek"){this.isoWeekday(1)}}return this},endOf:function(i){i=aP(i);return this.startOf(i).add((i==="isoWeek"?"week":i),1).subtract("ms",1)},isAfter:function(a4,i){i=typeof i!=="undefined"?i:"millisecond";return +this.clone().startOf(i)>+O(a4).startOf(i)},isBefore:function(a4,i){i=typeof i!=="undefined"?i:"millisecond";return +this.clone().startOf(i)<+O(a4).startOf(i)},isSame:function(a4,i){i=i||"ms";return +this.clone().startOf(i)===+u(a4,this).startOf(i)},min:function(i){i=O.apply(null,arguments);return i<this?this:i},max:function(i){i=O.apply(null,arguments);return i>this?this:i},zone:function(i){var a4=this._offset||0;if(i!=null){if(typeof i==="string"){i=v(i)}if(Math.abs(i)<16){i=i*60}this._offset=i;this._isUTC=true;if(a4!==i){D(this,O.duration(a4-i,"m"),1,true)}}else{return this._isUTC?a4:this._d.getTimezoneOffset()}return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.zone(this._tzm)}else{if(typeof this._i==="string"){this.zone(this._i)}}return this},hasAlignedHourOffset:function(i){if(!i){i=0}else{i=O(i).zone()}return(this.zone()-i)%60===0},daysInMonth:function(){return aX(this.year(),this.month())},dayOfYear:function(i){var a4=T((O(this).startOf("day")-O(this).startOf("year"))/86400000)+1;return i==null?a4:this.add("d",(i-a4))},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(i){var a4=y(this,this.lang()._week.dow,this.lang()._week.doy).year;return i==null?a4:this.add("y",(i-a4))},isoWeekYear:function(i){var a4=y(this,1,4).year;return i==null?a4:this.add("y",(i-a4))},week:function(i){var a4=this.lang().week(this);return i==null?a4:this.add("d",(i-a4)*7)},isoWeek:function(i){var a4=y(this,1,4).week;return i==null?a4:this.add("d",(i-a4)*7)},weekday:function(i){var a4=(this.day()+7-this.lang()._week.dow)%7;return i==null?a4:this.add("d",i-a4)},isoWeekday:function(i){return i==null?this.day()||7:this.day(this.day()%7?i:i-7)},get:function(i){i=aP(i);return this[i]()},set:function(i,a4){i=aP(i);if(typeof this[i]==="function"){this[i](a4)}return this},lang:function(i){if(i===B){return this._lang}else{this._lang=av(i);return this}}});function aH(i,a4){O.fn[i]=O.fn[i+"s"]=function(a5){var a6=this._isUTC?"UTC":"";if(a5!=null){this._d["set"+a6+a4](a5);O.updateOffset(this);return this}else{return this._d["get"+a6+a4]()}}}for(Z=0;Z<aB.length;Z++){aH(aB[Z].toLowerCase().replace(/s$/,""),aB[Z])}aH("year","FullYear");O.fn.days=O.fn.day;O.fn.months=O.fn.month;O.fn.weeks=O.fn.week;O.fn.isoWeeks=O.fn.isoWeek;O.fn.toJSON=O.fn.toISOString;aw(O.duration.fn=ab.prototype,{_bubble:function(){var a5=this._milliseconds,ba=this._days,i=this._months,a8=this._data,a9,a7,a4,a6;a8.milliseconds=a5%1000;a9=k(a5/1000);a8.seconds=a9%60;a7=k(a9/60);a8.minutes=a7%60;a4=k(a7/60);a8.hours=a4%24;ba+=k(a4/24);a8.days=ba%30;i+=k(ba/30);a8.months=i%12;a6=k(i/12);a8.years=a6},weeks:function(){return k(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*86400000+(this._months%12)*2592000000+J(this._months/12)*31536000000},humanize:function(a4){var a5=+this,i=w(a5,!a4,this.lang());if(a4){i=this.lang().pastFuture(a5,i)}return this.lang().postformat(i)},add:function(i,a5){var a4=O.duration(i,a5);this._milliseconds+=a4._milliseconds;this._days+=a4._days;this._months+=a4._months;this._bubble();return this},subtract:function(i,a5){var a4=O.duration(i,a5);this._milliseconds-=a4._milliseconds;this._days-=a4._days;this._months-=a4._months;this._bubble();return this},get:function(i){i=aP(i);return this[i.toLowerCase()+"s"]()},as:function(i){i=aP(i);return this["as"+i.charAt(0).toUpperCase()+i.slice(1)+"s"]()},lang:O.fn.lang,toIsoString:function(){var a6=Math.abs(this.years()),i=Math.abs(this.months()),a8=Math.abs(this.days()),a4=Math.abs(this.hours()),a5=Math.abs(this.minutes()),a7=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(a6?a6+"Y":"")+(i?i+"M":"")+(a8?a8+"D":"")+((a4||a5||a7)?"T":"")+(a4?a4+"H":"")+(a5?a5+"M":"")+(a7?a7+"S":"")}});function U(i){O.duration.fn[i]=function(){return this._data[i]}}function at(i,a4){O.duration.fn["as"+i]=function(){return +this/a4}}for(Z in A){if(A.hasOwnProperty(Z)){at(Z,A[Z]);U(Z.toLowerCase())}}at("Weeks",604800000);O.duration.fn.asMonths=function(){return(+this-this.years()*31536000000)/2592000000+this.years()*12};O.lang("en",{ordinal:function(a5){var i=a5%10,a4=(J(a5%100/10)===1)?"th":(i===1)?"st":(i===2)?"nd":(i===3)?"rd":"th";return a5+a4}});(function(i){i(O)}(function(i){return i.lang("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(a4,a6,a5){var a7=a4*100+a6;if(a7<600){return"凌晨"}else{if(a7<900){return"早上"}else{if(a7<1130){return"上午"}else{if(a7<1230){return"中午"}else{if(a7<1800){return"下午"}else{return"晚上"}}}}}},calendar:{sameDay:function(){return this.minutes()===0?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return this.minutes()===0?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return this.minutes()===0?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var a4,a5;a4=i().startOf("week");a5=this.unix()-a4.unix()>=7*24*3600?"[下]":"[本]";return this.minutes()===0?a5+"dddAh点整":a5+"dddAh点mm"},lastWeek:function(){var a4,a5;a4=i().startOf("week");a5=this.unix()<a4.unix()?"[上]":"[本]";return this.minutes()===0?a5+"dddAh点整":a5+"dddAh点mm"},sameElse:"LL"},ordinal:function(a4,a5){switch(a5){case"d":case"D":case"DDD":return a4+"日";case"M":return a4+"月";case"w":case"W":return a4+"周";default:return a4}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:0,doy:4}})}));(function(i){i(O)}(function(i){return i.lang("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(a4,a6,a5){var a7=a4*100+a6;if(a7<900){return"早上"}else{if(a7<1130){return"上午"}else{if(a7<1230){return"中午"}else{if(a7<1800){return"下午"}else{return"晚上"}}}}},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(a4,a5){switch(a5){case"d":case"D":case"DDD":return a4+"日";case"M":return a4+"月";case"w":case"W":return a4+"週";default:return a4}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}));O.lang("zh-cn");function P(a4){var i=false,a5=O;if(typeof ender!=="undefined"){return}if(a4){x.moment=function(){if(!i&&console&&console.warn){i=true;console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")}return a5.apply(null,arguments)};aw(x.moment,a5)}else{x.moment=O}}if(ai){module.exports=O;P(true)}else{if(typeof define==="function"&&define.amd){define("moment",function(a4,i,a5){if(a5.config&&a5.config()&&a5.config().noGlobal!==true){P(a5.config().noGlobal===B)}return O})}else{P()}}}).call(this);
;}catch(e){}
try{
/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b="length"in a&&a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;

return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,"script"),d.length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c)){e=0;while(f=h[e++])oa.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0;if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,"script"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),"none"!==c&&c||(Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function La(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={position:"absolute",visibility:"hidden",display:"block"},Sa={letterSpacing:"0",fontWeight:"400"},Ta=["Webkit","O","Moz","ms"];function Ua(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--)if(b=Ta[e]+c,b in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Ja,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){
return new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fa(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a"),zb.href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:"GET",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vb(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join("&").replace(Qb,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&"withCredentials"in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});

;}catch(e){}
try{
(function(e){if(e.browser){return}e.browser={};e.browser.mozilla=false;e.browser.webkit=false;e.browser.opera=false;e.browser.msie=false;var d=navigator.userAgent;e.browser.name=navigator.appName;e.browser.fullVersion=""+parseFloat(navigator.appVersion);e.browser.majorVersion=parseInt(navigator.appVersion,10);var a,c,b;if((c=d.indexOf("Opera"))!=-1){e.browser.opera=true;e.browser.name="Opera";e.browser.fullVersion=d.substring(c+6);if((c=d.indexOf("Version"))!=-1){e.browser.fullVersion=d.substring(c+8)}}else{if((c=d.indexOf("MSIE"))!=-1){e.browser.msie=true;e.browser.name="Microsoft Internet Explorer";e.browser.fullVersion=d.substring(c+5)}else{if((c=d.indexOf("Chrome"))!=-1){e.browser.webkit=true;e.browser.name="Chrome";e.browser.fullVersion=d.substring(c+7)}else{if((c=d.indexOf("Safari"))!=-1){e.browser.webkit=true;e.browser.name="Safari";e.browser.fullVersion=d.substring(c+7);if((c=d.indexOf("Version"))!=-1){e.browser.fullVersion=d.substring(c+8)}}else{if((c=d.indexOf("Firefox"))!=-1){e.browser.mozilla=true;e.browser.name="Firefox";e.browser.fullVersion=d.substring(c+8)}else{if((a=d.lastIndexOf(" ")+1)<(c=d.lastIndexOf("/"))){e.browser.name=d.substring(a,c);e.browser.fullVersion=d.substring(c+1);if(e.browser.name.toLowerCase()==e.browser.name.toUpperCase()){e.browser.name=navigator.appName}}}}}}}if((b=e.browser.fullVersion.indexOf(";"))!=-1){e.browser.fullVersion=e.browser.fullVersion.substring(0,b)}if((b=e.browser.fullVersion.indexOf(" "))!=-1){e.browser.fullVersion=e.browser.fullVersion.substring(0,b)}e.browser.majorVersion=parseInt(""+e.browser.fullVersion,10);if(isNaN(e.browser.majorVersion)){e.browser.fullVersion=""+parseFloat(navigator.appVersion);e.browser.majorVersion=parseInt(navigator.appVersion,10)}e.browser.version=e.browser.majorVersion})(jQuery);
;}catch(e){}
try{
+function(b){function a(){var e=document.createElement("bootstrap");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in d){if(e.style[c]!==undefined){return{end:d[c]}}}return false}b.fn.emulateTransitionEnd=function(e){var d=false;var c=this;b(this).one("bsTransitionEnd",function(){d=true});var f=function(){if(!d){b(c).trigger(b.support.transition.end)}};setTimeout(f,e);return this};b(function(){b.support.transition=a();if(!b.support.transition){return}b.event.special.bsTransitionEnd={bindType:b.support.transition.end,delegateType:b.support.transition.end,handle:function(c){if(b(c.target).is(this)){return c.handleObj.handler.apply(this,arguments)}}}})}(jQuery);
;}catch(e){}
try{
+function(d){var c=function(f,e){this.options=d.extend({},c.DEFAULTS,e);this.$target=d(this.options.target).on("scroll.bs.affix.data-api",d.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",d.proxy(this.checkPositionWithEventLoop,this));this.$element=d(f);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()};c.VERSION="3.3.5";c.RESET="affix affix-top affix-bottom";c.DEFAULTS={offset:0,target:window};c.prototype.getState=function(n,m,f,g){var e=this.$target.scrollTop();var i=this.$element.offset();var j=this.$target.height();if(f!=null&&this.affixed=="top"){return e<f?"top":false}if(this.affixed=="bottom"){if(f!=null){return(e+this.unpin<=i.top)?false:"bottom"}return(e+j<=n-g)?false:"bottom"}var h=this.affixed==null;var l=h?e:i.top;var k=h?j:m;if(f!=null&&e<=f){return"top"}if(g!=null&&(l+k>=n-g)){return"bottom"}return false};c.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(c.RESET).addClass("affix");var f=this.$target.scrollTop();var e=this.$element.offset();return(this.pinnedOffset=e.top-f)};c.prototype.checkPositionWithEventLoop=function(){setTimeout(d.proxy(this.checkPosition,this),1)};c.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var f=this.$element.height();var l=this.options.offset;var j=l.top;var h=l.bottom;var i=Math.max(d(document).height(),d(document.body).height());if(typeof l!="object"){h=j=l}if(typeof j=="function"){j=l.top(this.$element)}if(typeof h=="function"){h=l.bottom(this.$element)}var g=this.getState(i,f,j,h);if(this.affixed!=g){if(this.unpin!=null){this.$element.css("top","")}var m="affix"+(g?"-"+g:"");var k=d.Event(m+".bs.affix");this.$element.trigger(k);if(k.isDefaultPrevented()){return}this.affixed=g;this.unpin=g=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(c.RESET).addClass(m).trigger(m.replace("affix","affixed")+".bs.affix")}if(g=="bottom"){this.$element.offset({top:i-f-h})}};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.affix");var f=typeof e=="object"&&e;if(!g){h.data("bs.affix",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.affix;d.fn.affix=b;d.fn.affix.Constructor=c;d.fn.affix.noConflict=function(){d.fn.affix=a;return this};d(window).on("load",function(){d('[data-spy="affix"]').each(function(){var f=d(this);var e=f.data();e.offset=e.offset||{};if(e.offsetBottom!=null){e.offset.bottom=e.offsetBottom}if(e.offsetTop!=null){e.offset.top=e.offsetTop}b.call(f,e)})})}(jQuery);
;}catch(e){}
try{
+function(e){var d='[data-dismiss="alert"]';var b=function(f){e(f).on("click",d,this.close)};b.VERSION="3.3.5";b.TRANSITION_DURATION=150;b.prototype.close=function(j){var i=e(this);var g=i.attr("data-target");if(!g){g=i.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}var h=e(g);if(j){j.preventDefault()}if(!h.length){h=i.closest(".alert")}h.trigger(j=e.Event("close.bs.alert"));if(j.isDefaultPrevented()){return}h.removeClass("in");function f(){h.detach().trigger("closed.bs.alert").remove()}e.support.transition&&h.hasClass("fade")?h.one("bsTransitionEnd",f).emulateTransitionEnd(b.TRANSITION_DURATION):f()};function c(f){return this.each(function(){var h=e(this);var g=h.data("bs.alert");if(!g){h.data("bs.alert",(g=new b(this)))}if(typeof f=="string"){g[f].call(h)}})}var a=e.fn.alert;e.fn.alert=c;e.fn.alert.Constructor=b;e.fn.alert.noConflict=function(){e.fn.alert=a;return this};e(document).on("click.bs.alert.data-api",d,b.prototype.close)}(jQuery);
;}catch(e){}
try{
+function(d){var b=function(f,e){this.$element=d(f);this.options=d.extend({},b.DEFAULTS,e);this.isLoading=false};b.VERSION="3.3.5";b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(g){var i="disabled";var e=this.$element;var h=e.is("input")?"val":"html";var f=e.data();g+="Text";if(f.resetText==null){e.data("resetText",e[h]())}setTimeout(d.proxy(function(){e[h](f[g]==null?this.options[g]:f[g]);if(g=="loadingText"){this.isLoading=true;e.addClass(i).attr(i,i)}else{if(this.isLoading){this.isLoading=false;e.removeClass(i).removeAttr(i)}}},this),0)};b.prototype.toggle=function(){var f=true;var e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var g=this.$element.find("input");if(g.prop("type")=="radio"){if(g.prop("checked")){f=false}e.find(".active").removeClass("active");this.$element.addClass("active")}else{if(g.prop("type")=="checkbox"){if((g.prop("checked"))!==this.$element.hasClass("active")){f=false}this.$element.toggleClass("active")}}g.prop("checked",this.$element.hasClass("active"));if(f){g.trigger("change")}}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"));this.$element.toggleClass("active")}};function c(e){return this.each(function(){var h=d(this);var g=h.data("bs.button");var f=typeof e=="object"&&e;if(!g){h.data("bs.button",(g=new b(this,f)))}if(e=="toggle"){g.toggle()}else{if(e){g.setState(e)}}})}var a=d.fn.button;d.fn.button=c;d.fn.button.Constructor=b;d.fn.button.noConflict=function(){d.fn.button=a;return this};d(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(g){var f=d(g.target);if(!f.hasClass("btn")){f=f.closest(".btn")}c.call(f,"toggle");if(!(d(g.target).is('input[type="radio"]')||d(g.target).is('input[type="checkbox"]'))){g.preventDefault()}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(f){d(f.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(f.type))})}(jQuery);
;}catch(e){}
try{
+function(c){var d=function(g,f){this.$element=c(g);this.$indicators=this.$element.find(".carousel-indicators");this.options=f;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",c.proxy(this.keydown,this));this.options.pause=="hover"&&!("ontouchstart" in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",c.proxy(this.pause,this)).on("mouseleave.bs.carousel",c.proxy(this.cycle,this))};d.VERSION="3.3.5";d.TRANSITION_DURATION=600;d.DEFAULTS={interval:5000,pause:"hover",wrap:true,keyboard:true};d.prototype.keydown=function(f){if(/input|textarea/i.test(f.target.tagName)){return}switch(f.which){case 37:this.prev();break;case 39:this.next();break;default:return}f.preventDefault()};d.prototype.cycle=function(f){f||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval));return this};d.prototype.getItemIndex=function(f){this.$items=f.parent().children(".item");return this.$items.index(f||this.$active)};d.prototype.getItemForDirection=function(j,i){var f=this.getItemIndex(i);var g=(j=="prev"&&f===0)||(j=="next"&&f==(this.$items.length-1));if(g&&!this.options.wrap){return i}var k=j=="prev"?-1:1;var h=(f+k)%this.$items.length;return this.$items.eq(h)};d.prototype.to=function(h){var g=this;var f=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(h>(this.$items.length-1)||h<0){return}if(this.sliding){return this.$element.one("slid.bs.carousel",function(){g.to(h)})}if(f==h){return this.pause().cycle()}return this.slide(h>f?"next":"prev",this.$items.eq(h))};d.prototype.pause=function(f){f||(this.paused=true);if(this.$element.find(".next, .prev").length&&c.support.transition){this.$element.trigger(c.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};d.prototype.next=function(){if(this.sliding){return}return this.slide("next")};d.prototype.prev=function(){if(this.sliding){return}return this.slide("prev")};d.prototype.slide=function(m,i){var p=this.$element.find(".item.active");var g=i||this.getItemForDirection(m,p);var k=this.interval;var n=m=="next"?"left":"right";var j=this;if(g.hasClass("active")){return(this.sliding=false)}var l=g[0];var f=c.Event("slide.bs.carousel",{relatedTarget:l,direction:n});this.$element.trigger(f);if(f.isDefaultPrevented()){return}this.sliding=true;k&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=c(this.$indicators.children()[this.getItemIndex(g)]);h&&h.addClass("active")}var o=c.Event("slid.bs.carousel",{relatedTarget:l,direction:n});if(c.support.transition&&this.$element.hasClass("slide")){g.addClass(m);g[0].offsetWidth;p.addClass(n);g.addClass(n);p.one("bsTransitionEnd",function(){g.removeClass([m,n].join(" ")).addClass("active");p.removeClass(["active",n].join(" "));j.sliding=false;setTimeout(function(){j.$element.trigger(o)},0)}).emulateTransitionEnd(d.TRANSITION_DURATION)}else{p.removeClass("active");g.addClass("active");this.sliding=false;this.$element.trigger(o)}k&&this.cycle();return this};function b(f){return this.each(function(){var j=c(this);var i=j.data("bs.carousel");var g=c.extend({},d.DEFAULTS,j.data(),typeof f=="object"&&f);var h=typeof f=="string"?f:g.slide;if(!i){j.data("bs.carousel",(i=new d(this,g)))}if(typeof f=="number"){i.to(f)}else{if(h){i[h]()}else{if(g.interval){i.pause().cycle()}}}})}var a=c.fn.carousel;c.fn.carousel=b;c.fn.carousel.Constructor=d;c.fn.carousel.noConflict=function(){c.fn.carousel=a;return this};var e=function(k){var g;var j=c(this);var f=c(j.attr("data-target")||(g=j.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,""));if(!f.hasClass("carousel")){return}var h=c.extend({},f.data(),j.data());var i=j.attr("data-slide-to");if(i){h.interval=false}b.call(f,h);if(i){f.data("bs.carousel").to(i)}k.preventDefault()};c(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e);c(window).on("load",function(){c('[data-ride="carousel"]').each(function(){var f=c(this);b.call(f,f.data())})})}(jQuery);
;}catch(e){}
try{
+function(d){var e=function(g,f){this.$element=d(g);this.options=d.extend({},e.DEFAULTS,f);this.$trigger=d('[data-toggle="collapse"][href="#'+g.id+'"],[data-toggle="collapse"][data-target="#'+g.id+'"]');this.transitioning=null;if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}if(this.options.toggle){this.toggle()}};e.VERSION="3.3.5";e.TRANSITION_DURATION=350;e.DEFAULTS={toggle:true};e.prototype.dimension=function(){var f=this.$element.hasClass("width");return f?"width":"height"};e.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in")){return}var h;var j=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(j&&j.length){h=j.data("bs.collapse");if(h&&h.transitioning){return}}var g=d.Event("show.bs.collapse");this.$element.trigger(g);if(g.isDefaultPrevented()){return}if(j&&j.length){b.call(j,"hide");h||j.data("bs.collapse",null)}var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0).attr("aria-expanded",true);this.$trigger.removeClass("collapsed").attr("aria-expanded",true);this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[k]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!d.support.transition){return f.call(this)}var i=d.camelCase(["scroll",k].join("-"));this.$element.one("bsTransitionEnd",d.proxy(f,this)).emulateTransitionEnd(e.TRANSITION_DURATION)[k](this.$element[0][i])};e.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in")){return}var g=d.Event("hide.bs.collapse");this.$element.trigger(g);if(g.isDefaultPrevented()){return}var h=this.dimension();this.$element[h](this.$element[h]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",false);this.$trigger.addClass("collapsed").attr("aria-expanded",false);this.transitioning=1;var f=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!d.support.transition){return f.call(this)}this.$element[h](0).one("bsTransitionEnd",d.proxy(f,this)).emulateTransitionEnd(e.TRANSITION_DURATION)};e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};e.prototype.getParent=function(){return d(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(d.proxy(function(h,g){var f=d(g);this.addAriaAndCollapsedClass(c(f),f)},this)).end()};e.prototype.addAriaAndCollapsedClass=function(g,f){var h=g.hasClass("in");g.attr("aria-expanded",h);f.toggleClass("collapsed",!h).attr("aria-expanded",h)};function c(f){var g;var h=f.attr("data-target")||(g=f.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"");return d(h)}function b(f){return this.each(function(){var i=d(this);var h=i.data("bs.collapse");var g=d.extend({},e.DEFAULTS,i.data(),typeof f=="object"&&f);if(!h&&g.toggle&&/show|hide/.test(f)){g.toggle=false}if(!h){i.data("bs.collapse",(h=new e(this,g)))}if(typeof f=="string"){h[f]()}})}var a=d.fn.collapse;d.fn.collapse=b;d.fn.collapse.Constructor=e;d.fn.collapse.noConflict=function(){d.fn.collapse=a;return this};d(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(j){var i=d(this);if(!i.attr("data-target")){j.preventDefault()}var f=c(i);var h=f.data("bs.collapse");var g=h?"toggle":i.data();b.call(f,g)})}(jQuery);
;}catch(e){}
try{
+function(h){var e=".dropdown-backdrop";var b='[data-toggle="dropdown"]';var a=function(i){h(i).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5";function f(k){var i=k.attr("data-target");if(!i){i=k.attr("href");i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}var j=i&&h(i);return j&&j.length?j:k.parent()}function d(i){if(i&&i.which===3){return}h(e).remove();h(b).each(function(){var l=h(this);var k=f(l);var j={relatedTarget:this};if(!k.hasClass("open")){return}if(i&&i.type=="click"&&/input|textarea/i.test(i.target.tagName)&&h.contains(k[0],i.target)){return}k.trigger(i=h.Event("hide.bs.dropdown",j));if(i.isDefaultPrevented()){return}l.attr("aria-expanded","false");k.removeClass("open").trigger("hidden.bs.dropdown",j)})}a.prototype.toggle=function(m){var l=h(this);if(l.is(".disabled, :disabled")){return}var k=f(l);var j=k.hasClass("open");d();if(!j){if("ontouchstart" in document.documentElement&&!k.closest(".navbar-nav").length){h(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(h(this)).on("click",d)}var i={relatedTarget:this};k.trigger(m=h.Event("show.bs.dropdown",i));if(m.isDefaultPrevented()){return}l.trigger("focus").attr("aria-expanded","true");k.toggleClass("open").trigger("shown.bs.dropdown",i)}return false};a.prototype.keydown=function(m){if(!/(38|40|27|32)/.test(m.which)||/input|textarea/i.test(m.target.tagName)){return}var l=h(this);m.preventDefault();m.stopPropagation();if(l.is(".disabled, :disabled")){return}var k=f(l);var j=k.hasClass("open");if(!j&&m.which!=27||j&&m.which==27){if(m.which==27){k.find(b).trigger("focus")}return l.trigger("click")}var n=" li:not(.disabled):visible a";var o=k.find(".dropdown-menu"+n);if(!o.length){return}var i=o.index(m.target);if(m.which==38&&i>0){i--}if(m.which==40&&i<o.length-1){i++}if(!~i){i=0}o.eq(i).trigger("focus")};function g(i){return this.each(function(){var k=h(this);var j=k.data("bs.dropdown");if(!j){k.data("bs.dropdown",(j=new a(this)))}if(typeof i=="string"){j[i].call(k)}})}var c=h.fn.dropdown;h.fn.dropdown=g;h.fn.dropdown.Constructor=a;h.fn.dropdown.noConflict=function(){h.fn.dropdown=c;return this};h(document).on("click.bs.dropdown.data-api",d).on("click.bs.dropdown.data-api",".dropdown form",function(i){i.stopPropagation()}).on("click.bs.dropdown.data-api",b,a.prototype.toggle).on("keydown.bs.dropdown.data-api",b,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery);
;}catch(e){}
try{
+function(d){function c(f,e){this.$body=d(document.body);this.$scrollElement=d(f).is(document.body)?d(window):d(f);this.options=d.extend({},c.DEFAULTS,e);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",d.proxy(this.process,this));this.refresh();this.process()}c.VERSION="3.3.5";c.DEFAULTS={offset:10};c.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};c.prototype.refresh=function(){var g=this;var e="offset";var f=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();if(!d.isWindow(this.$scrollElement[0])){e="position";f=this.$scrollElement.scrollTop()}this.$body.find(this.selector).map(function(){var i=d(this);var h=i.data("target")||i.attr("href");var j=/^#./.test(h)&&d(h);return(j&&j.length&&j.is(":visible")&&[[j[e]().top+f,h]])||null}).sort(function(i,h){return i[0]-h[0]}).each(function(){g.offsets.push(this[0]);g.targets.push(this[1])})};c.prototype.process=function(){var k=this.$scrollElement.scrollTop()+this.options.offset;var g=this.getScrollHeight();var j=this.options.offset+g-this.$scrollElement.height();var h=this.offsets;var e=this.targets;var l=this.activeTarget;var f;if(this.scrollHeight!=g){this.refresh()}if(k>=j){return l!=(f=e[e.length-1])&&this.activate(f)}if(l&&k<h[0]){this.activeTarget=null;return this.clear()}for(f=h.length;f--;){l!=e[f]&&k>=h[f]&&(h[f+1]===undefined||k<h[f+1])&&this.activate(e[f])}};c.prototype.activate=function(g){this.activeTarget=g;this.clear();var e=this.selector+'[data-target="'+g+'"],'+this.selector+'[href="'+g+'"]';var f=d(e).parents("li").addClass("active");if(f.parent(".dropdown-menu").length){f=f.closest("li.dropdown").addClass("active")}f.trigger("activate.bs.scrollspy")};c.prototype.clear=function(){d(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.scrollspy");var f=typeof e=="object"&&e;if(!g){h.data("bs.scrollspy",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.scrollspy;d.fn.scrollspy=b;d.fn.scrollspy.Constructor=c;d.fn.scrollspy.noConflict=function(){d.fn.scrollspy=a;return this};d(window).on("load.bs.scrollspy.data-api",function(){d('[data-spy="scroll"]').each(function(){var e=d(this);b.call(e,e.data())})})}(jQuery);
;}catch(e){}
try{
+function(d){var b=function(f){this.element=d(f)};b.VERSION="3.3.5";b.TRANSITION_DURATION=150;b.prototype.show=function(){var l=this.element;var h=l.closest("ul:not(.dropdown-menu)");var g=l.data("target");if(!g){g=l.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}if(l.parent("li").hasClass("active")){return}var j=h.find(".active:last a");var k=d.Event("hide.bs.tab",{relatedTarget:l[0]});var i=d.Event("show.bs.tab",{relatedTarget:j[0]});j.trigger(k);l.trigger(i);if(i.isDefaultPrevented()||k.isDefaultPrevented()){return}var f=d(g);this.activate(l.closest("li"),h);this.activate(f,f.parent(),function(){j.trigger({type:"hidden.bs.tab",relatedTarget:l[0]});l.trigger({type:"shown.bs.tab",relatedTarget:j[0]})})};b.prototype.activate=function(h,g,k){var f=g.find("> .active");var j=k&&d.support.transition&&(f.length&&f.hasClass("fade")||!!g.find("> .fade").length);function i(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",false);h.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",true);if(j){h[0].offsetWidth;h.addClass("in")}else{h.removeClass("fade")}if(h.parent(".dropdown-menu").length){h.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",true)}k&&k()}f.length&&j?f.one("bsTransitionEnd",i).emulateTransitionEnd(b.TRANSITION_DURATION):i();f.removeClass("in")};function c(f){return this.each(function(){var h=d(this);var g=h.data("bs.tab");if(!g){h.data("bs.tab",(g=new b(this)))}if(typeof f=="string"){g[f]()}})}var a=d.fn.tab;d.fn.tab=c;d.fn.tab.Constructor=b;d.fn.tab.noConflict=function(){d.fn.tab=a;return this};var e=function(f){f.preventDefault();c.call(d(this),"show")};d(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery);
;}catch(e){}
try{
+function(d){var c=function(f,e){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",f,e)};c.VERSION="3.3.5";c.TRANSITION_DURATION=150;c.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};c.prototype.init=function(l,j,g){this.enabled=true;this.type=l;this.$element=d(j);this.options=this.getOptions(g);this.$viewport=this.options.viewport&&d(d.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):(this.options.viewport.selector||this.options.viewport));this.inState={click:false,hover:false,focus:false};if(this.$element[0] instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}var k=this.options.trigger.split(" ");for(var h=k.length;h--;){var f=k[h];if(f=="click"){this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this))}else{if(f!="manual"){var m=f=="hover"?"mouseenter":"focusin";var e=f=="hover"?"mouseleave":"focusout";this.$element.on(m+"."+this.type,this.options.selector,d.proxy(this.enter,this));this.$element.on(e+"."+this.type,this.options.selector,d.proxy(this.leave,this))}}}this.options.selector?(this._options=d.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()};c.prototype.getDefaults=function(){return c.DEFAULTS};c.prototype.getOptions=function(e){e=d.extend({},this.getDefaults(),this.$element.data(),e);if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e};c.prototype.getDelegateOptions=function(){var e={};var f=this.getDefaults();this._options&&d.each(this._options,function(g,h){if(f[g]!=h){e[g]=h}});return e};c.prototype.enter=function(f){var e=f instanceof this.constructor?f:d(f.currentTarget).data("bs."+this.type);if(!e){e=new this.constructor(f.currentTarget,this.getDelegateOptions());d(f.currentTarget).data("bs."+this.type,e)}if(f instanceof d.Event){e.inState[f.type=="focusin"?"focus":"hover"]=true}if(e.tip().hasClass("in")||e.hoverState=="in"){e.hoverState="in";return}clearTimeout(e.timeout);e.hoverState="in";if(!e.options.delay||!e.options.delay.show){return e.show()}e.timeout=setTimeout(function(){if(e.hoverState=="in"){e.show()}},e.options.delay.show)};c.prototype.isInStateTrue=function(){for(var e in this.inState){if(this.inState[e]){return true}}return false};c.prototype.leave=function(f){var e=f instanceof this.constructor?f:d(f.currentTarget).data("bs."+this.type);if(!e){e=new this.constructor(f.currentTarget,this.getDelegateOptions());d(f.currentTarget).data("bs."+this.type,e)}if(f instanceof d.Event){e.inState[f.type=="focusout"?"focus":"hover"]=false}if(e.isInStateTrue()){return}clearTimeout(e.timeout);e.hoverState="out";if(!e.options.delay||!e.options.delay.hide){return e.hide()}e.timeout=setTimeout(function(){if(e.hoverState=="out"){e.hide()}},e.options.delay.hide)};c.prototype.show=function(){var o=d.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(o);var p=d.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(o.isDefaultPrevented()||!p){return}var n=this;var l=this.tip();var h=this.getUID(this.type);this.setContent();l.attr("id",h);this.$element.attr("aria-describedby",h);if(this.options.animation){l.addClass("fade")}var k=typeof this.options.placement=="function"?this.options.placement.call(this,l[0],this.$element[0]):this.options.placement;var s=/\s?auto?\s?/i;var t=s.test(k);if(t){k=k.replace(s,"")||"top"}l.detach().css({top:0,left:0,display:"block"}).addClass(k).data("bs."+this.type,this);this.options.container?l.appendTo(this.options.container):l.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var q=this.getPosition();var f=l[0].offsetWidth;var m=l[0].offsetHeight;if(t){var j=k;var r=this.getPosition(this.$viewport);k=k=="bottom"&&q.bottom+m>r.bottom?"top":k=="top"&&q.top-m<r.top?"bottom":k=="right"&&q.right+f>r.width?"left":k=="left"&&q.left-f<r.left?"right":k;l.removeClass(j).addClass(k)}var i=this.getCalculatedOffset(k,q,f,m);this.applyPlacement(i,k);var g=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type);n.hoverState=null;if(e=="out"){n.leave(n)}};d.support.transition&&this.$tip.hasClass("fade")?l.one("bsTransitionEnd",g).emulateTransitionEnd(c.TRANSITION_DURATION):g()}};c.prototype.applyPlacement=function(j,k){var l=this.tip();var g=l[0].offsetWidth;var q=l[0].offsetHeight;var f=parseInt(l.css("margin-top"),10);var i=parseInt(l.css("margin-left"),10);if(isNaN(f)){f=0}if(isNaN(i)){i=0}j.top+=f;j.left+=i;d.offset.setOffset(l[0],d.extend({using:function(r){l.css({top:Math.round(r.top),left:Math.round(r.left)})}},j),0);l.addClass("in");var e=l[0].offsetWidth;var m=l[0].offsetHeight;if(k=="top"&&m!=q){j.top=j.top+q-m}var p=this.getViewportAdjustedDelta(k,j,e,m);if(p.left){j.left+=p.left}else{j.top+=p.top}var n=/top|bottom/.test(k);var h=n?p.left*2-g+e:p.top*2-q+m;var o=n?"offsetWidth":"offsetHeight";l.offset(j);this.replaceArrow(h,l[0][o],n)};c.prototype.replaceArrow=function(g,e,f){this.arrow().css(f?"left":"top",50*(1-g/e)+"%").css(f?"top":"left","")};c.prototype.setContent=function(){var f=this.tip();var e=this.getTitle();f.find(".tooltip-inner")[this.options.html?"html":"text"](e);f.removeClass("fade in top bottom left right")};c.prototype.hide=function(j){var g=this;var i=d(this.$tip);var h=d.Event("hide.bs."+this.type);function f(){if(g.hoverState!="in"){i.detach()}g.$element.removeAttr("aria-describedby").trigger("hidden.bs."+g.type);j&&j()}this.$element.trigger(h);if(h.isDefaultPrevented()){return}i.removeClass("in");d.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f();this.hoverState=null;return this};c.prototype.fixTitle=function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}};c.prototype.hasContent=function(){return this.getTitle()};c.prototype.getPosition=function(g){g=g||this.$element;var i=g[0];var f=i.tagName=="BODY";var h=i.getBoundingClientRect();if(h.width==null){h=d.extend({},h,{width:h.right-h.left,height:h.bottom-h.top})}var k=f?{top:0,left:0}:g.offset();var e={scroll:f?document.documentElement.scrollTop||document.body.scrollTop:g.scrollTop()};var j=f?{width:d(window).width(),height:d(window).height()}:null;return d.extend({},h,e,j,k)};c.prototype.getCalculatedOffset=function(e,h,f,g){return e=="bottom"?{top:h.top+h.height,left:h.left+h.width/2-f/2}:e=="top"?{top:h.top-g,left:h.left+h.width/2-f/2}:e=="left"?{top:h.top+h.height/2-g/2,left:h.left-f}:{top:h.top+h.height/2-g/2,left:h.left+h.width}};c.prototype.getViewportAdjustedDelta=function(h,k,e,j){var m={top:0,left:0};if(!this.$viewport){return m}var g=this.options.viewport&&this.options.viewport.padding||0;var l=this.getPosition(this.$viewport);if(/right|left/.test(h)){var n=k.top-g-l.scroll;var i=k.top+g-l.scroll+j;if(n<l.top){m.top=l.top-n}else{if(i>l.top+l.height){m.top=l.top+l.height-i}}}else{var o=k.left-g;var f=k.left+g+e;if(o<l.left){m.left=l.left-o}else{if(f>l.right){m.left=l.left+l.width-f}}}return m};c.prototype.getTitle=function(){var g;var e=this.$element;var f=this.options;g=e.attr("data-original-title")||(typeof f.title=="function"?f.title.call(e[0]):f.title);return g};c.prototype.getUID=function(e){do{e+=~~(Math.random()*1000000)}while(document.getElementById(e));return e};c.prototype.tip=function(){if(!this.$tip){this.$tip=d(this.options.template);if(this.$tip.length!=1){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}}return this.$tip};c.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow"))};c.prototype.enable=function(){this.enabled=true};c.prototype.disable=function(){this.enabled=false};c.prototype.toggleEnabled=function(){this.enabled=!this.enabled};c.prototype.toggle=function(g){var f=this;if(g){f=d(g.currentTarget).data("bs."+this.type);if(!f){f=new this.constructor(g.currentTarget,this.getDelegateOptions());d(g.currentTarget).data("bs."+this.type,f)}}if(g){f.inState.click=!f.inState.click;if(f.isInStateTrue()){f.enter(f)}else{f.leave(f)}}else{f.tip().hasClass("in")?f.leave(f):f.enter(f)}};c.prototype.destroy=function(){var e=this;clearTimeout(this.timeout);this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type);if(e.$tip){e.$tip.detach()}e.$tip=null;e.$arrow=null;e.$viewport=null})};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.tooltip");var f=typeof e=="object"&&e;if(!g&&/destroy|hide/.test(e)){return}if(!g){h.data("bs.tooltip",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.tooltip;d.fn.tooltip=b;d.fn.tooltip.Constructor=c;d.fn.tooltip.noConflict=function(){d.fn.tooltip=a;return this}}(jQuery);
;}catch(e){}
try{
+function(d){var c=function(f,e){this.init("popover",f,e)};if(!d.fn.tooltip){throw new Error("Popover requires tooltip.js")}c.VERSION="3.3.5";c.DEFAULTS=d.extend({},d.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.prototype=d.extend({},d.fn.tooltip.Constructor.prototype);c.prototype.constructor=c;c.prototype.getDefaults=function(){return c.DEFAULTS};c.prototype.setContent=function(){var g=this.tip();var f=this.getTitle();var e=this.getContent();g.find(".popover-title")[this.options.html?"html":"text"](f);g.find(".popover-content").children().detach().end()[this.options.html?(typeof e=="string"?"html":"append"):"text"](e);g.removeClass("fade top bottom left right in");if(!g.find(".popover-title").html()){g.find(".popover-title").hide()}};c.prototype.hasContent=function(){return this.getTitle()||this.getContent()};c.prototype.getContent=function(){var e=this.$element;var f=this.options;return e.attr("data-content")||(typeof f.content=="function"?f.content.call(e[0]):f.content)};c.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find(".arrow"))};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.popover");var f=typeof e=="object"&&e;if(!g&&/destroy|hide/.test(e)){return}if(!g){h.data("bs.popover",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.popover;d.fn.popover=b;d.fn.popover.Constructor=c;d.fn.popover.noConflict=function(){d.fn.popover=a;return this}}(jQuery);
;}catch(e){}
try{
/*! layer-v2.1 弹层组件 License LGPL  http://layer.layui.com/ By 贤心 */
!function(j,i){var p,o,n={getPath:function(){var e=document.scripts,d=e[e.length-1],f=d.src;if(!d.getAttribute("merge")){return f.substring(0,f.lastIndexOf("/")+1)}}(),enter:function(b){13===b.keyCode&&b.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},m={v:"2.1",ie6:!!j.ActiveXObject&&!j.XMLHttpRequest,index:0,path:n.getPath,config:function(e,c){var f=0;return e=e||{},m.cache=n.config=p.extend(n.config,e),m.path=n.config.path||m.path,"string"==typeof e.extend&&(e.extend=[e.extend]),this},use:function(f,c,v){var u=p("head")[0],f=f.replace(/\s/g,""),t=/\.css$/.test(f),s=document.createElement(t?"link":"script"),r="layui_layer_"+f.replace(/\.|\//g,"");return m.path?(t&&(s.rel="stylesheet"),s[t?"href":"src"]=/^http:\/\//.test(f)?f:m.path+f,s.id=r,p("#"+r)[0]||u.appendChild(s),function q(){(t?1989===parseInt(p("#"+r).css("width")):m[v||r])?function(){c&&c();try{t||u.removeChild(s)}catch(b){}}():setTimeout(q,100)}(),this):void 0},ready:function(e,c){var f="function"==typeof e;return f&&(c=e),m.config(p.extend(n.config,function(){return f?{}:{path:e}}()),c),this},alert:function(f,c,h){var g="function"==typeof c;return g&&(h=c),m.open(p.extend({content:f,yes:h},g?{}:c))},confirm:function(e,c,r,q){var f="function"==typeof c;return f&&(q=r,r=c),m.open(p.extend({content:e,btn:n.btn,yes:r,cancel:q},f?{}:c))},msg:function(c,r,q){var h="function"==typeof r,f=n.config.skin,e=(f?f+" "+f+"-msg":"")||"layui-layer-msg",b=k.anim.length-1;return h&&(q=r),m.open(p.extend({content:c,time:3000,shade:!1,skin:e,title:!1,closeBtn:!1,btn:!1,end:q},h&&!n.config.skin?{skin:e+" layui-layer-hui",shift:b}:function(){return r=r||{},(-1===r.icon||r.icon===i&&!n.config.skin)&&(r.skin=e+" "+(r.skin||"layui-layer-hui")),r}()))},load:function(d,c){return m.open(p.extend({type:3,icon:d||0,shade:0.01},c))},tips:function(e,c,f){return m.open(p.extend({type:4,content:[e,c],closeBtn:!1,time:3000,maxWidth:210},f))}},l=function(d){var c=this;c.index=++m.index,c.config=p.extend({},c.config,n.config,d),c.creat()};l.pt=l.prototype;var k=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];k.anim=["layui-anim","layui-anim-01","layui-anim-02","layui-anim-03","layui-anim-04","layui-anim-05","layui-anim-06"],l.pt.config={type:0,shade:0.3,fix:!0,move:k[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},l.pt.vessel=function(w,v){var u=this,t=u.index,s=u.config,r=s.zIndex+t,q="object"==typeof s.title,h=s.maxmin&&(1===s.type||2===s.type),e=s.title?'<div class="layui-layer-title" style="'+(q?s.title[1]:"")+'">'+(q?s.title[0]:s.title)+"</div>":"";return s.zIndex=r,v([s.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+t+'" times="'+t+'" style="'+("z-index:"+(r-1)+"; background-color:"+(s.shade[1]||"#000")+"; opacity:"+(s.shade[0]||s.shade)+"; filter:alpha(opacity="+(100*s.shade[0]||100*s.shade)+");")+'"></div>':"",'<div class="'+k[0]+" "+(k.anim[s.shift]||"")+(" layui-layer-"+n.type[s.type])+(0!=s.type&&2!=s.type||s.shade?"":" layui-layer-border")+" "+(s.skin||"")+'" id="'+k[0]+t+'" type="'+n.type[s.type]+'" times="'+t+'" showtime="'+s.time+'" conType="'+(w?"object":"string")+'" style="z-index: '+r+"; width:"+s.area[0]+";height:"+s.area[1]+(s.fix?"":";position:absolute;")+'">'+(w&&2!=s.type?"":e)+'<div class="layui-layer-content'+(0==s.type&&-1!==s.icon?" layui-layer-padding":"")+(3==s.type?" layui-layer-loading"+s.icon:"")+'">'+(0==s.type&&-1!==s.icon?'<i class="layui-layer-ico layui-layer-ico'+s.icon+'"></i>':"")+(1==s.type&&w?"":s.content||"")+'</div><span class="layui-layer-setwin">'+function(){var b=h?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return s.closeBtn&&(b+='<a class="layui-layer-ico '+k[7]+" "+k[7]+(s.title?s.closeBtn:4==s.type?"1":"2")+'" href="javascript:;"></a>'),b}()+"</span>"+(s.btn?function(){var f="";"string"==typeof s.btn&&(s.btn=[s.btn]);for(var d=0,g=s.btn.length;g>d;d++){f+='<a class="'+k[6]+d+'">'+s.btn[d]+"</a>"}return'<div class="'+k[6]+'">'+f+"</div>"}():"")+"</div>"],e),u},l.pt.creat=function(){var d=this,c=d.config,h=d.index,f=c.content,e="object"==typeof f;switch("string"==typeof c.area&&(c.area="auto"===c.area?["",""]:[c.area,""]),c.type){case 0:c.btn="btn" in c?c.btn:n.btn[0],m.closeAll("dialog");break;case 2:var f=c.content=e?c.content:[c.content||"http://layer.layui.com","auto"];c.content='<iframe scrolling="'+(c.content[1]||"auto")+'" allowtransparency="true" id="'+k[4]+h+'" name="'+k[4]+h+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+c.content[0]+'"></iframe>';break;case 3:c.title=!1,c.closeBtn=!1,-1===c.icon&&0===c.icon,m.closeAll("loading");break;case 4:e||(c.content=[c.content,"body"]),c.follow=c.content[1],c.content=c.content[0]+'<i class="layui-layer-TipsG"></i>',c.title=!1,c.shade=!1,c.fix=!1,c.tips="object"==typeof c.tips?c.tips:[c.tips,!0],c.tipsMore||m.closeAll("tips")}d.vessel(e,function(b,a){p("body").append(b[0]),e?function(){2==c.type||4==c.type?function(){p("body").append(b[1])}():function(){f.parents("."+k[0])[0]||(f.show().addClass("layui-layer-wrap").wrap(b[1]),p("#"+k[0]+h).find("."+k[5]).before(a))}()}():p("body").append(b[1]),d.layero=p("#"+k[0]+h),c.scrollbar||k.html.css("overflow","hidden").attr("layer-full",h)}).auto(h),2==c.type&&m.ie6&&d.layero.find("iframe").attr("src",f[0]),p(document).off("keydown",n.enter).on("keydown",n.enter),d.layero.on("keydown",function(b){p(document).off("keydown",n.enter)}),4==c.type?d.tips():d.offset(),c.fix&&o.on("resize",function(){d.offset(),(/^\d+%$/.test(c.area[0])||/^\d+%$/.test(c.area[1]))&&d.auto(h),4==c.type&&d.tips()}),c.time<=0||setTimeout(function(){m.close(d.index)},c.time),d.move().callback()},l.pt.auto=function(d){function c(b){b=s.find(b),b.height(r[1]-q-h-2*(0|parseFloat(b.css("padding"))))}var u=this,t=u.config,s=p("#"+k[0]+d);""===t.area[0]&&t.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&t.btn&&s.width(s.innerWidth()),s.outerWidth()>t.maxWidth&&s.width(t.maxWidth));var r=[s.innerWidth(),s.innerHeight()],q=s.find(k[1]).outerHeight()||0,h=s.find("."+k[6]).outerHeight()||0;switch(t.type){case 2:c("iframe");break;default:""===t.area[1]?t.fix&&r[1]>=o.height()&&(r[1]=o.height(),c("."+k[5])):c("."+k[5])}return u},l.pt.offset=function(){var g=this,d=g.config,r=g.layero,q=[r.outerWidth(),r.outerHeight()],h="object"==typeof d.offset;g.offsetTop=(o.height()-q[1])/2,g.offsetLeft=(o.width()-q[0])/2,h?(g.offsetTop=d.offset[0],g.offsetLeft=d.offset[1]||g.offsetLeft):"auto"!==d.offset&&(g.offsetTop=d.offset,"rb"===d.offset&&(g.offsetTop=o.height()-q[1],g.offsetLeft=o.width()-q[0])),d.fix||(g.offsetTop=/%$/.test(g.offsetTop)?o.height()*parseFloat(g.offsetTop)/100:parseFloat(g.offsetTop),g.offsetLeft=/%$/.test(g.offsetLeft)?o.width()*parseFloat(g.offsetLeft)/100:parseFloat(g.offsetLeft),g.offsetTop+=o.scrollTop(),g.offsetLeft+=o.scrollLeft()),r.css({top:g.offsetTop,left:g.offsetLeft})},l.pt.tips=function(){var d=this,c=d.config,u=d.layero,t=[u.outerWidth(),u.outerHeight()],s=p(c.follow);s[0]||(s=p("body"));var r={width:s.outerWidth(),height:s.outerHeight(),top:s.offset().top,left:s.offset().left},q=u.find(".layui-layer-TipsG"),h=c.tips[0];c.tips[1]||q.remove(),r.autoLeft=function(){r.left+t[0]-o.width()>0?(r.tipLeft=r.left+r.width-t[0],q.css({right:12,left:"auto"})):r.tipLeft=r.left},r.where=[function(){r.autoLeft(),r.tipTop=r.top-t[1]-10,q.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",c.tips[1])},function(){r.tipLeft=r.left+r.width+10,r.tipTop=r.top,q.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",c.tips[1])},function(){r.autoLeft(),r.tipTop=r.top+r.height+10,q.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",c.tips[1])},function(){r.tipLeft=r.left-t[0]-10,r.tipTop=r.top,q.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",c.tips[1])}],r.where[h-1](),1===h?r.top-(o.scrollTop()+t[1]+16)<0&&r.where[2]():2===h?o.width()-(r.left+r.width+t[0]+16)>0||r.where[3]():3===h?r.top-o.scrollTop()+r.height+t[1]+16-o.height()>0&&r.where[0]():4===h&&t[0]+16-r.left>0&&r.where[1](),u.find("."+k[5]).css({"background-color":c.tips[1],"padding-right":c.closeBtn?"30px":""}),u.css({left:r.tipLeft,top:r.tipTop})},l.pt.move=function(){var d=this,c=d.config,h={setY:0,moveLayer:function(){var f=h.layero,e=parseInt(f.css("margin-left")),q=parseInt(h.move.css("left"));0===e||(q-=e),"fixed"!==f.css("position")&&(q-=f.parent().offset().left,h.setY=0),f.css({left:q,top:parseInt(h.move.css("top"))-h.setY})}},g=d.layero.find(c.move);return c.move&&g.attr("move","ok"),g.css({cursor:c.move?"move":"auto"}),p(c.move).on("mousedown",function(b){if(b.preventDefault(),"ok"===p(this).attr("move")){h.ismove=!0,h.layero=p(this).parents("."+k[0]);var s=h.layero.offset().left,r=h.layero.offset().top,q=h.layero.outerWidth()-6,e=h.layero.outerHeight()-6;p("#layui-layer-moves")[0]||p("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+s+"px; top:"+r+"px; width:"+q+"px; height:"+e+'px; z-index:2147483584"></div>'),h.move=p("#layui-layer-moves"),c.moveType&&h.move.css({visibility:"hidden"}),h.moveX=b.pageX-h.move.position().left,h.moveY=b.pageY-h.move.position().top,"fixed"!==h.layero.css("position")||(h.setY=o.scrollTop())}}),p(document).mousemove(function(b){if(h.ismove){var s=b.pageX-h.moveX,r=b.pageY-h.moveY;if(b.preventDefault(),!c.moveOut){h.setY=o.scrollTop();var q=o.width()-h.move.outerWidth(),e=h.setY;0>s&&(s=0),s>q&&(s=q),e>r&&(r=e),r>o.height()-h.move.outerHeight()+h.setY&&(r=o.height()-h.move.outerHeight()+h.setY)}h.move.css({left:s,top:r}),c.moveType&&h.moveLayer(),s=r=q=e=null}}).mouseup(function(){try{h.ismove&&(h.moveLayer(),h.move.remove(),c.moveEnd&&c.moveEnd()),h.ismove=!1}catch(b){h.ismove=!1}}),d},l.pt.callback=function(){function e(){var b=f.cancel&&f.cancel(c.index);b===!1||m.close(c.index)}var c=this,h=c.layero,f=c.config;c.openLayer(),f.success&&(2==f.type?h.find("iframe").on("load",function(){f.success(h,c.index)}):f.success(h,c.index)),m.ie6&&c.IE6(h),h.find("."+k[6]).children("a").on("click",function(){var a=p(this).index();f["btn"+(a+1)]&&f["btn"+(a+1)](c.index,h),0===a?f.yes?f.yes(c.index,h):m.close(c.index):1===a?e():f["btn"+(a+1)]||m.close(c.index)}),h.find("."+k[7]).on("click",e),f.shadeClose&&p("#layui-layer-shade"+c.index).on("click",function(){m.close(c.index)}),h.find(".layui-layer-min").on("click",function(){m.min(c.index,f),f.min&&f.min(h)}),h.find(".layui-layer-max").on("click",function(){p(this).hasClass("layui-layer-maxmin")?(m.restore(c.index),f.restore&&f.restore(h)):(m.full(c.index,f),f.full&&f.full(h))}),f.end&&(n.end[c.index]=f.end)},n.reselect=function(){p.each(p("select"),function(e,c){var f=p(this);f.parents("."+k[0])[0]||1==f.attr("layer")&&p("."+k[0]).length<1&&f.removeAttr("layer").show(),f=null})},l.pt.IE6=function(d){function c(){d.css({top:g+(h.config.fix?o.scrollTop():0)})}var h=this,g=d.offset().top;c(),o.scroll(c),p("select").each(function(f,e){var q=p(this);q.parents("."+k[0])[0]||"none"===q.css("display")||q.attr({layer:"1"}).hide(),q=null})},l.pt.openLayer=function(){var b=this;m.zIndex=b.config.zIndex,m.setTop=function(d){var c=function(){m.zIndex++,d.css("z-index",m.zIndex+1)};return m.zIndex=parseInt(d[0].style.zIndex),d.on("mousedown",c),m.zIndex}},n.record=function(d){var c=[d.outerWidth(),d.outerHeight(),d.position().top,d.position().left+parseFloat(d.css("margin-left"))];d.find(".layui-layer-max").addClass("layui-layer-maxmin"),d.attr({area:c})},n.rescollbar=function(b){k.html.attr("layer-full")==b&&(k.html[0].style.removeProperty?k.html[0].style.removeProperty("overflow"):k.html[0].style.removeAttribute("overflow"),k.html.removeAttr("layer-full"))},j.layer=m,m.getChildFrame=function(d,c){return c=c||p("."+k[4]).attr("times"),p("#"+k[0]+c).find("iframe").contents().find(d)},m.getFrameIndex=function(b){return p("#"+b).parents("."+k[4]).attr("times")},m.iframeAuto=function(f){if(f){var c=m.getChildFrame("html",f).outerHeight(),r=p("#"+k[0]+f),q=r.find(k[1]).outerHeight()||0,h=r.find("."+k[6]).outerHeight()||0;r.css({height:c+q+h}),r.find("iframe").css({height:c})}},m.iframeSrc=function(d,c){p("#"+k[0]+d).find("iframe").attr("src",c)},m.style=function(e,c){var s=p("#"+k[0]+e),r=s.attr("type"),q=s.find(k[1]).outerHeight()||0,h=s.find("."+k[6]).outerHeight()||0;(r===n.type[1]||r===n.type[2])&&(s.css(c),r===n.type[2]&&s.find("iframe").css({height:parseFloat(c.height)-q-h}))},m.min=function(e,c){var h=p("#"+k[0]+e),f=h.find(k[1]).outerHeight()||0;n.record(h),m.style(e,{width:180,height:f,overflow:"hidden"}),h.find(".layui-layer-min").hide(),"page"===h.attr("type")&&h.find(k[4]).hide(),n.rescollbar(e)},m.restore=function(e){var c=p("#"+k[0]+e),f=c.attr("area").split(",");c.attr("type");m.style(e,{width:parseFloat(f[0]),height:parseFloat(f[1]),top:parseFloat(f[2]),left:parseFloat(f[3]),overflow:"visible"}),c.find(".layui-layer-max").removeClass("layui-layer-maxmin"),c.find(".layui-layer-min").show(),"page"===c.attr("type")&&c.find(k[4]).show(),n.rescollbar(e)},m.full=function(d){var c,e=p("#"+k[0]+d);n.record(e),k.html.attr("layer-full")||k.html.css("overflow","hidden").attr("layer-full",d),clearTimeout(c),c=setTimeout(function(){var a="fixed"===e.css("position");m.style(d,{top:a?0:o.scrollTop(),left:a?0:o.scrollLeft(),width:o.width(),height:o.height()}),e.find(".layui-layer-min").hide()},100)},m.title=function(e,c){var f=p("#"+k[0]+(c||m.index)).find(k[1]);f.html(e)},m.close=function(e){var c=p("#"+k[0]+e),r=c.attr("type");if(c[0]){if(r===n.type[1]&&"object"===c.attr("conType")){c.children(":not(."+k[5]+")").remove();for(var q=0;2>q;q++){c.find(".layui-layer-wrap").unwrap().hide()}}else{if(r===n.type[2]){try{var h=p("#"+k[4]+e)[0];h.contentWindow.document.write(""),h.contentWindow.close(),c.find("."+k[5])[0].removeChild(h)}catch(f){}}c[0].innerHTML="",c.remove()}p("#layui-layer-moves, #layui-layer-shade"+e).remove(),m.ie6&&n.reselect(),n.rescollbar(e),p(document).off("keydown",n.enter),"function"==typeof n.end[e]&&n.end[e](),delete n.end[e]}},m.closeAll=function(b){p.each(p("."+k[0]),function(){var a=p(this),c=b?a.attr("type")===b:1;c&&m.close(a.attr("times")),c=null})},n.run=function(){p=jQuery,o=p(j),k.html=p("html"),m.open=function(d){var c=new l(d);return c.index}},"function"==typeof define?define(function(){return n.run(),m}):function(){n.run()}()}(window);layer.config({path:contextPath+""});
;}catch(e){}
try{
layer.config({path:contextPath+"",shift:5});$(function(){$(document).on("click","[ly-ajax]",function(){var d=$(this);var c={title:"",type:1,scrollbar:false,content:"",maxmin:true,shadeClose:true,zIndex:1050,area:["80%","80%"]};var a=$(this).attr("data-url");var b=$.extend({},c,d.data());if(b.type==1){$.ajax({url:a,success:function(e){layer.closeAll();b.content=e;layer.open(b)}})}else{b.content=a;layer.open(b)}return false})});
;}catch(e){}
try{
/*! layer弹层组件拓展类*/
!function(){layer.use("",function(){layer.layui_layer_extendlayerextjs=!0});var d=layer.cache||{},c=function(a){return d.skin?" "+d.skin+" "+d.skin+"-"+a:""};layer.prompt=function(b,h){b=b||{},"function"==typeof b&&(h=b);var g,f=2==b.formType?'<textarea class="layui-layer-input">'+(b.value||"")+"</textarea>":function(){return'<input type="'+(1==b.formType?"password":"text")+'" class="layui-layer-input" value="'+(b.value||"")+'">'}();return layer.open($.extend({btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:f,skin:"layui-layer-prompt"+c("prompt"),success:function(e){g=e.find(".layui-layer-input"),g.focus()},yes:function(a){var i=g.val();""===i?g.focus():i.length>(b.maxlength||500)?layer.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(b.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",g,{tips:1}):h&&h(i,a,g)}},b))},layer.tab=function(b){b=b||{};var e=b.tab||{};return layer.open($.extend({type:1,skin:"layui-layer-tab"+c("tab"),title:function(){var g=e.length,f=1,h="";if(g>0){for(h='<span class="layui-layer-tabnow">'+e[0].title+"</span>";g>f;f++){h+="<span>"+e[f].title+"</span>"}}return h}(),content:'<ul class="layui-layer-tabmain">'+function(){var g=e.length,f=1,h="";if(g>0){for(h='<li class="layui-layer-tabli xubox_tab_layer">'+(e[0].content||"no content")+"</li>";g>f;f++){h+='<li class="layui-layer-tabli">'+(e[f].content||"no  content")+"</li>"}}return h}()+"</ul>",success:function(g){var f=g.find(".layui-layer-title").children(),h=g.find(".layui-layer-tabmain").children();f.on("mousedown",function(j){j.stopPropagation?j.stopPropagation():j.cancelBubble=!0;var i=$(this),k=i.index();i.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"),h.eq(k).show().siblings().hide()})}},b))},layer.photos=function(v,u,t){function s(f,e,h){var g=new Image;g.onload=function(){g.onload=null,e(g)},g.onerror=function(i){g.onerror=null,h(i)},g.src=f}var r={};if(v=v||{},v.photos){var q=v.photos.constructor===Object,p=q?v.photos:{},o=p.data||[],n=p.start||0;if(r.imgIndex=n+1,q){if(0===o.length){return void layer.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}}else{var m=$(v.photos),b=m.find(v.img||"img");if(0===b.length){return}if(u||m.find(p.img||"img").each(function(a){var e=$(this);o.push({alt:e.attr("alt"),pid:e.attr("layer-pid"),src:e.attr("layer-src")||e.attr("src"),thumb:e.attr("src")}),e.on("click",function(){layer.photos($.extend(v,{photos:{start:a,data:o,tab:v.tab},full:v.full}),!0)})}),!u){return}}r.imgprev=function(e){r.imgIndex--,r.imgIndex<1&&(r.imgIndex=o.length),r.tabimg(e)},r.imgnext=function(f,e){r.imgIndex++,r.imgIndex>o.length&&(r.imgIndex=1,e)||r.tabimg(f)},r.keyup=function(f){if(!r.end){var e=f.keyCode;f.preventDefault(),37===e?r.imgprev(!0):39===e?r.imgnext(!0):27===e&&layer.close(r.index)}},r.tabimg=function(a){o.length<=1||(p.start=r.imgIndex-1,layer.close(r.index),layer.photos(v,!0,a))},r.event=function(){r.bigimg.hover(function(){r.imgsee.show()},function(){r.imgsee.hide()}),r.bigimg.find(".layui-layer-imgprev").on("click",function(e){e.preventDefault(),r.imgprev()}),r.bigimg.find(".layui-layer-imgnext").on("click",function(e){e.preventDefault(),r.imgnext()}),$(document).on("keyup",r.keyup)},r.loadi=layer.load(1,{shade:"shade" in v?!1:0.9,scrollbar:!1}),s(o[n].src,function(a){layer.close(r.loadi),r.index=layer.open($.extend({type:1,area:function(){var e=[a.width,a.height],f=[$(window).width()-100,$(window).height()-100];return !v.full&&e[0]>f[0]&&(e[0]=f[0],e[1]=e[0]*f[1]/e[0]),[e[0]+"px",e[1]+"px"]}(),title:!1,shade:0.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,shift:5*Math.random()|0,skin:"layui-layer-photos"+c("photos"),content:'<div class="layui-layer-phimg"><img src="'+o[n].src+'" alt="'+(o[n].alt||"")+'" layer-pid="'+o[n].pid+'"><div class="layui-layer-imgsee">'+(o.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(t?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(o[n].alt||"")+"</a><em>"+r.imgIndex+"/"+o.length+"</em></span></div></div></div>",success:function(e,f){r.bigimg=e.find(".layui-layer-phimg"),r.imgsee=e.find(".layui-layer-imguide,.layui-layer-imgbar"),r.event(e),v.tab&&v.tab(o[n],e)},end:function(){r.end=!0,$(document).off("keyup",r.keyup)}},v))},function(){layer.close(r.loadi),layer.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:30000,btn:["下一张","不看了"],yes:function(){o.length>1&&r.imgnext(!0,!0)}})})}}}();
;}catch(e){}
try{ 
/*! jQuery UI - v1.10.4 - 2014-01-17
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(b,f){var a=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:(function(g){return function(h,i){return typeof h==="number"?this.each(function(){var j=this;setTimeout(function(){b(j).focus();if(i){i.call(j)}},h)}):g.apply(this,arguments)}})(b.fn.focus),scrollParent:function(){var g;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?b(document):g},zIndex:function(j){if(j!==f){return this.css("zIndex",j)}if(this.length){var h=b(this[0]),g,i;while(h.length&&h[0]!==document){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){i=parseInt(h.css("zIndex"),10);if(!isNaN(i)&&i!==0){return i}}h=h.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(e.test(this.id)){b(this).removeAttr("id")}})}});function d(i,g){var k,j,h,l=i.nodeName.toLowerCase();if("area"===l){k=i.parentNode;j=k.name;if(!i.href||!j||k.nodeName.toLowerCase()!=="map"){return false}h=b("img[usemap=#"+j+"]")[0];return !!h&&c(h)}return(/input|select|textarea|button|object/.test(l)?!i.disabled:"a"===l?i.href||g:g)&&c(i)}function c(g){return b.expr.filters.visible(g)&&!b(g).parents().addBack().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(g){return function(h){return !!b.data(h,g)}}):function(j,h,g){return !!b.data(j,g[3])},focusable:function(g){return d(g,!isNaN(b.attr(g,"tabindex")))},tabbable:function(i){var g=b.attr(i,"tabindex"),h=isNaN(g);return(h||g>=0)&&d(i,!h)}});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(j,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],k=g.toLowerCase(),m={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function l(o,n,i,p){b.each(h,function(){n-=parseFloat(b.css(o,"padding"+this))||0;if(i){n-=parseFloat(b.css(o,"border"+this+"Width"))||0}if(p){n-=parseFloat(b.css(o,"margin"+this))||0}});return n}b.fn["inner"+g]=function(i){if(i===f){return m["inner"+g].call(this)}return this.each(function(){b(this).css(k,l(this,i)+"px")})};b.fn["outer"+g]=function(i,n){if(typeof i!=="number"){return m["outer"+g].call(this,i)}return this.each(function(){b(this).css(k,l(this,i,true,n)+"px")})}})}if(!b.fn.addBack){b.fn.addBack=function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(g){return function(h){if(arguments.length){return g.call(this,b.camelCase(h))}else{return g.call(this)}}})(b.fn.removeData)}b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart" in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(h,j,l){var g,k=b.ui[h].prototype;for(g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,j,h){var k,l=g.plugins[j];if(!l||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11){return}for(k=0;k<l.length;k++){if(g.options[l[k][0]]){l[k][1].apply(g.element,h)}}}},hasScroll:function(j,h){if(b(j).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",i=false;if(j[g]>0){return true}j[g]=1;i=(j[g]>0);j[g]=0;return i}})})(jQuery);(function(b,e){var a=0,d=Array.prototype.slice,c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove")}catch(j){}}c(f)};b.widget=function(f,g,n){var k,l,i,m,h={},j=f.split(".")[0];f=f.split(".")[1];k=j+"-"+f;if(!n){n=g;g=b.Widget}b.expr[":"][k.toLowerCase()]=function(o){return !!b.data(o,k)};b[j]=b[j]||{};l=b[j][f];i=b[j][f]=function(o,p){if(!this._createWidget){return new i(o,p)}if(arguments.length){this._createWidget(o,p)}};b.extend(i,l,{version:n.version,_proto:b.extend({},n),_childConstructors:[]});m=new g();m.options=b.widget.extend({},m.options);b.each(n,function(p,o){if(!b.isFunction(o)){h[p]=o;return}h[p]=(function(){var q=function(){return g.prototype[p].apply(this,arguments)},r=function(s){return g.prototype[p].apply(this,s)};return function(){var u=this._super,s=this._superApply,t;this._super=q;this._superApply=r;t=o.apply(this,arguments);this._super=u;this._superApply=s;return t}})()});i.prototype=b.widget.extend(m,{widgetEventPrefix:l?(m.widgetEventPrefix||f):f},h,{constructor:i,namespace:j,widgetName:f,widgetFullName:k});if(l){b.each(l._childConstructors,function(p,q){var o=q.prototype;b.widget(o.namespace+"."+o.widgetName,i,q._proto)});delete l._childConstructors}else{g._childConstructors.push(i)}b.widget.bridge(f,i)};b.widget.extend=function(k){var g=d.call(arguments,1),j=0,f=g.length,h,i;for(;j<f;j++){for(h in g[j]){i=g[j][h];if(g[j].hasOwnProperty(h)&&i!==e){if(b.isPlainObject(i)){k[h]=b.isPlainObject(k[h])?b.widget.extend({},k[h],i):b.widget.extend({},i)}else{k[h]=i}}}}return k};b.widget.bridge=function(g,f){var h=f.prototype.widgetFullName||g;b.fn[g]=function(k){var i=typeof k==="string",j=d.call(arguments,1),l=this;k=!i&&j.length?b.widget.extend.apply(null,[k].concat(j)):k;if(i){this.each(function(){var n,m=b.data(this,h);if(!m){return b.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+k+"'")}if(!b.isFunction(m[k])||k.charAt(0)==="_"){return b.error("no such method '"+k+"' for "+g+" widget instance")}n=m[k].apply(m,j);if(n!==m&&n!==e){l=n&&n.jquery?l.pushStack(n.get()):n;return false}})}else{this.each(function(){var m=b.data(this,h);if(m){m.option(k||{})._init()}else{b.data(this,h,new f(k,this))}})}return l}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(f,g){g=b(g||this.defaultElement||this)[0];this.element=b(g);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),f);this.bindings=b();this.hoverable=b();this.focusable=b();if(g!==this){b.data(g,this.widgetFullName,this);this._on(true,this.element,{remove:function(h){if(h.target===g){this.destroy()}}});this.document=b(g.style?g.ownerDocument:g.document||g);this.window=b(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(j,k){var f=j,l,h,g;if(arguments.length===0){return b.widget.extend({},this.options)}if(typeof j==="string"){f={};l=j.split(".");j=l.shift();if(l.length){h=f[j]=b.widget.extend({},this.options[j]);for(g=0;g<l.length-1;g++){h[l[g]]=h[l[g]]||{};h=h[l[g]]}j=l.pop();if(arguments.length===1){return h[j]===e?null:h[j]}h[j]=k}else{if(arguments.length===1){return this.options[j]===e?null:this.options[j]}f[j]=k}}this._setOptions(f);return this},_setOptions:function(f){var g;for(g in f){this._setOption(g,f[g])}return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(i,h,g){var j,f=this;if(typeof i!=="boolean"){g=h;h=i;i=false}if(!g){g=h;h=this.element;j=this.widget()}else{h=j=b(h);this.bindings=this.bindings.add(h)}b.each(g,function(p,o){function m(){if(!i&&(f.options.disabled===true||b(this).hasClass("ui-state-disabled"))){return}return(typeof o==="string"?f[o]:o).apply(f,arguments)}if(typeof o!=="string"){m.guid=o.guid=o.guid||m.guid||b.guid++}var n=p.match(/^(\w+)\s*(.*)$/),l=n[1]+f.eventNamespace,k=n[2];if(k){j.delegate(k,l,m)}else{h.bind(l,m)}})},_off:function(g,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;g.unbind(f).undelegate(f)},_delay:function(i,h){function g(){return(typeof i==="string"?f[i]:i).apply(f,arguments)}var f=this;return setTimeout(g,h||0)},_hoverable:function(f){this.hoverable=this.hoverable.add(f);this._on(f,{mouseenter:function(g){b(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){b(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(f){this.focusable=this.focusable.add(f);this._on(f,{focusin:function(g){b(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){b(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,g,h){var k,j,i=this.options[f];h=h||{};g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();g.target=this.element[0];j=g.originalEvent;if(j){for(k in j){if(!(k in g)){g[k]=j[k]}}}this.element.trigger(g,h);return !(b.isFunction(i)&&i.apply(this.element[0],[g].concat(h))===false||g.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(g,f){b.Widget.prototype["_"+g]=function(j,i,l){if(typeof i==="string"){i={effect:i}}var k,h=!i?g:i===true||typeof i==="number"?f:i.effect||f;i=i||{};if(typeof i==="number"){i={duration:i}}k=!b.isEmptyObject(i);i.complete=l;if(i.delay){j.delay(i.delay)}if(k&&b.effects&&b.effects.effect[h]){j[g](i)}else{if(h!==g&&j[h]){j[h](i.duration,i.easing,l)}else{j.queue(function(m){b(this)[g]();if(l){l.call(j[0])}m()})}}}})})(jQuery);(function(b,c){var a=false;b(document).mouseup(function(){a=false});b.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===b.data(e.target,d.widgetName+".preventClickEvent")){b.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(f){if(a){return}(this._mouseStarted&&this._mouseUp(f));this._mouseDownEvent=f;var e=this,g=(f.which===1),d=(typeof this.options.cancel==="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:false);if(!g||d||!this._mouseCapture(f)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(f)!==false);if(!this._mouseStarted){f.preventDefault();return true}}if(true===b.data(f.target,this.widgetName+".preventClickEvent")){b.removeData(f.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(h){return e._mouseMove(h)};this._mouseUpDelegate=function(h){return e._mouseUp(h)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();a=true;return true},_mouseMove:function(d){if(b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!d.button){return this._mouseUp(d)}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d))}return !this._mouseStarted},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target===this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(c);if(!this.handle){return false}a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));this._setContainment();if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this._mouseDrag(c,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,c)}return true},_mouseDrag:function(c,e){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(d){var c=this,e=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){e=a.ui.ddmanager.drop(this,d)}if(this.dropped){e=this.dropped;this.dropped=false}if(this.options.helper==="original"&&!a.contains(this.element[0].ownerDocument,this.element[0])){return false}if((this.options.revert==="invalid"&&!e)||(this.options.revert==="valid"&&e)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e))){a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(c._trigger("stop",d)!==false){c._clear()}})}else{if(this._trigger("stop",d)!==false){this._clear()}}return false},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c)}return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){return this.options.handle?!!a(c.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(d){var e=this.options,c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!c.parents("body").length){c.appendTo((e.appendTo==="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!==this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c==="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){var c=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]===document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&a.ui.ie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,g,d,f=this.options;if(!f.containment){this.containment=null;return}if(f.containment==="window"){this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(f.containment==="document"){this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(f.containment.constructor===Array){this.containment=f.containment;return}if(f.containment==="parent"){f.containment=this.helper[0].parentNode}g=a(f.containment);d=g[0];if(!d){return}e=g.css("overflow")!=="hidden";this.containment=[(parseInt(g.css("borderLeftWidth"),10)||0)+(parseInt(g.css("paddingLeft"),10)||0),(parseInt(g.css("borderTopWidth"),10)||0)+(parseInt(g.css("paddingTop"),10)||0),(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(g.css("borderRightWidth"),10)||0)-(parseInt(g.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(g.css("borderBottomWidth"),10)||0)-(parseInt(g.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=g},_convertPositionTo:function(f,g){if(!g){g=this.position}var e=f==="absolute"?1:-1,c=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:c.scrollTop(),left:c.scrollLeft()}}return{top:(g.top+this.offset.relative.top*e+this.offset.parent.top*e-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*e)),left:(g.left+this.offset.relative.left*e+this.offset.parent.left*e-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*e))}},_generatePosition:function(d){var c,i,j,f,e=this.options,k=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=d.pageX,g=d.pageY;if(!this.offset.scroll){this.offset.scroll={top:k.scrollTop(),left:k.scrollLeft()}}if(this.originalPosition){if(this.containment){if(this.relative_container){i=this.relative_container.offset();c=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else{c=this.containment}if(d.pageX-this.offset.click.left<c[0]){h=c[0]+this.offset.click.left}if(d.pageY-this.offset.click.top<c[1]){g=c[1]+this.offset.click.top}if(d.pageX-this.offset.click.left>c[2]){h=c[2]+this.offset.click.left}if(d.pageY-this.offset.click.top>c[3]){g=c[3]+this.offset.click.top}}if(e.grid){j=e.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;g=c?((j-this.offset.click.top>=c[1]||j-this.offset.click.top>c[3])?j:((j-this.offset.click.top>=c[1])?j-e.grid[1]:j+e.grid[1])):j;f=e.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;h=c?((f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2])?f:((f-this.offset.click.left>=c[0])?f-e.grid[0]:f+e.grid[0])):f}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("ui-draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"ui-sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",d,c)}})},stop:function(d,f){var e=a(this).data("ui-draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,f){var e=a(this).data("ui-draggable"),c=this;a.each(e.sortables,function(){var g=false,h=this;this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){g=true;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this!==h&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(h.instance.element[0],this.instance.element[0])){g=false}return g})}if(g){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",d);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}e._trigger("fromSortable",d);e.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),d=a(this).data("ui-draggable").options;if(c.css("cursor")){d._cursor=c.css("cursor")}c.css("cursor",d.cursor)},stop:function(){var c=a(this).data("ui-draggable").options;if(c._cursor){a("body").css("cursor",c._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("ui-draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity")}c.css("opacity",f.opacity)},stop:function(c,d){var e=a(this).data("ui-draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(){var c=a(this).data("ui-draggable");if(c.scrollParent[0]!==document&&c.scrollParent[0].tagName!=="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(e){var d=a(this).data("ui-draggable"),f=d.options,c=false;if(d.scrollParent[0]!==document&&d.scrollParent[0].tagName!=="HTML"){if(!f.axis||f.axis!=="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<f.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+f.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<f.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-f.scrollSpeed}}}if(!f.axis||f.axis!=="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<f.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+f.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<f.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-f.scrollSpeed}}}}else{if(!f.axis||f.axis!=="x"){if(e.pageY-a(document).scrollTop()<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)}}}if(!f.axis||f.axis!=="y"){if(e.pageX-a(document).scrollLeft()<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!f.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),d=c.options;c.snapElements=[];a(d.snap.constructor!==String?(d.snap.items||":data(ui-draggable)"):d.snap).each(function(){var f=a(this),e=f.offset();if(this!==c.element[0]){c.snapElements.push({item:this,width:f.outerWidth(),height:f.outerHeight(),top:e.top,left:e.left})}})},drag:function(u,p){var c,z,j,k,s,n,m,A,v,h,g=a(this).data("ui-draggable"),q=g.options,y=q.snapTolerance,x=p.offset.left,w=x+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;for(v=g.snapElements.length-1;v>=0;v--){s=g.snapElements[v].left;n=s+g.snapElements[v].width;m=g.snapElements[v].top;A=m+g.snapElements[v].height;if(w<s-y||x>n+y||e<m-y||f>A+y||!a.contains(g.snapElements[v].item.ownerDocument,g.snapElements[v].item)){if(g.snapElements[v].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=false;continue}if(q.snapMode!=="inner"){c=Math.abs(m-e)<=y;z=Math.abs(A-f)<=y;j=Math.abs(s-w)<=y;k=Math.abs(n-x)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}h=(c||z||j||k);if(q.snapMode!=="outer"){c=Math.abs(m-f)<=y;z=Math.abs(A-e)<=y;j=Math.abs(s-x)<=y;k=Math.abs(n-w)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[v].snapping&&(c||z||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=(c||z||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(){var c,e=this.data("ui-draggable").options,d=a.makeArray(a(e.stack)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||0)-(parseInt(a(f).css("zIndex"),10)||0)});if(!d.length){return}c=parseInt(a(d[0]).css("zIndex"),10)||0;a(d).each(function(f){a(this).css("zIndex",c+f)});this.css("zIndex",(c+d.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("ui-draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex")}c.css("zIndex",f.zIndex)},stop:function(c,d){var e=a(this).data("ui-draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(b,c){function a(e,d,f){return(e>d)&&(e<(d+f))}b.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,f=this.options,d=f.accept;this.isover=false;this.isout=true;this.accept=b.isFunction(d)?d:function(g){return g.is(d)};this.proportions=function(){if(arguments.length){e=arguments[0]}else{return e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};b.ui.ddmanager.droppables[f.scope]=b.ui.ddmanager.droppables[f.scope]||[];b.ui.ddmanager.droppables[f.scope].push(this);(f.addClasses&&this.element.addClass("ui-droppable"))},_destroy:function(){var e=0,d=b.ui.ddmanager.droppables[this.options.scope];for(;e<d.length;e++){if(d[e]===this){d.splice(e,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,e){if(d==="accept"){this.accept=b.isFunction(e)?e:function(f){return f.is(e)}}b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var d=b.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(d){this._trigger("activate",e,this.ui(d))}},_deactivate:function(e){var d=b.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(d){this._trigger("deactivate",e,this.ui(d))}},_over:function(e){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",e,this.ui(d))}},_out:function(e){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",e,this.ui(d))}},_drop:function(e,f){var d=f||b.ui.ddmanager.current,g=false;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var h=b.data(this,"ui-droppable");if(h.options.greedy&&!h.options.disabled&&h.options.scope===d.options.scope&&h.accept.call(h.element[0],(d.currentItem||d.element))&&b.ui.intersect(d,b.extend(h,{offset:h.element.offset()}),h.options.tolerance)){g=true;return false}});if(g){return false}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",e,this.ui(d));return this.element}return false},ui:function(d){return{draggable:(d.currentItem||d.element),helper:d.helper,position:d.position,offset:d.positionAbs}}});b.ui.intersect=function(q,j,o){if(!j.offset){return false}var h,i,f=(q.positionAbs||q.position.absolute).left,n=(q.positionAbs||q.position.absolute).top,e=f+q.helperProportions.width,m=n+q.helperProportions.height,g=j.offset.left,p=j.offset.top,d=g+j.proportions().width,k=p+j.proportions().height;switch(o){case"fit":return(g<=f&&e<=d&&p<=n&&m<=k);case"intersect":return(g<f+(q.helperProportions.width/2)&&e-(q.helperProportions.width/2)<d&&p<n+(q.helperProportions.height/2)&&m-(q.helperProportions.height/2)<k);case"pointer":h=((q.positionAbs||q.position.absolute).left+(q.clickOffset||q.offset.click).left);i=((q.positionAbs||q.position.absolute).top+(q.clickOffset||q.offset.click).top);return a(i,p,j.proportions().height)&&a(h,g,j.proportions().width);case"touch":return((n>=p&&n<=k)||(m>=p&&m<=k)||(n<p&&m>k))&&((f>=g&&f<=d)||(e>=g&&e<=d)||(f<g&&e>d));default:return false}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(g,k){var f,e,d=b.ui.ddmanager.droppables[g.options.scope]||[],h=k?k.type:null,l=(g.currentItem||g.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(f=0;f<d.length;f++){if(d[f].options.disabled||(g&&!d[f].accept.call(d[f].element[0],(g.currentItem||g.element)))){continue}for(e=0;e<l.length;e++){if(l[e]===d[f].element[0]){d[f].proportions().height=0;continue droppablesLoop}}d[f].visible=d[f].element.css("display")!=="none";if(!d[f].visible){continue}if(h==="mousedown"){d[f]._activate.call(d[f],k)}d[f].offset=d[f].element.offset();d[f].proportions({width:d[f].element[0].offsetWidth,height:d[f].element[0].offsetHeight})}},drop:function(d,e){var f=false;b.each((b.ui.ddmanager.droppables[d.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&b.ui.intersect(d,this,this.options.tolerance)){f=this._drop.call(this,e)||f}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(d.currentItem||d.element))){this.isout=true;this.isover=false;this._deactivate.call(this,e)}});return f},dragStart:function(d,e){d.element.parentsUntil("body").bind("scroll.droppable",function(){if(!d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}})},drag:function(d,e){if(d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}b.each(b.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var i,g,f,h=b.ui.intersect(d,this,this.options.tolerance),j=!h&&this.isover?"isout":(h&&!this.isover?"isover":null);if(!j){return}if(this.options.greedy){g=this.options.scope;f=this.element.parents(":data(ui-droppable)").filter(function(){return b.data(this,"ui-droppable").options.scope===g});if(f.length){i=b.data(f[0],"ui-droppable");i.greedyChild=(j==="isover")}}if(i&&j==="isover"){i.isover=false;i.isout=true;i._out.call(i,e)}this[j]=true;this[j==="isout"?"isover":"isout"]=false;this[j==="isover"?"_over":"_out"].call(this,e);if(i&&j==="isout"){i.isout=false;i.isover=true;i._over.call(i,e)}})},dragStop:function(d,e){d.element.parentsUntil("body").unbind("scroll.droppable");if(!d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}}}})(jQuery);(function(c,d){function b(e){return parseInt(e,10)||0}function a(e){return !isNaN(parseInt(e,10))}c.widget("ui.resizable",c.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var l,f,j,g,e,h=this,k=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(k.aspectRatio),aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=k.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}l=this.handles.split(",");this.handles={};for(f=0;f<l.length;f++){j=c.trim(l[f]);e="ui-resizable-"+j;g=c("<div class='ui-resizable-handle "+e+"'></div>");g.css({zIndex:k.zIndex});if("se"===j){g.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[j]=".ui-resizable-"+j;this.element.append(g)}}this._renderAxis=function(q){var n,o,m,p;q=q||this.element;for(n in this.handles){if(this.handles[n].constructor===String){this.handles[n]=c(this.handles[n],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){o=c(this.handles[n],this.element);p=/sw|ne|nw|se|n|s/.test(n)?o.outerHeight():o.outerWidth();m=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");q.css(m,p);this._proportionallyResize()}if(!c(this.handles[n]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!h.resizing){if(this.className){g=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}h.axis=g&&g[1]?g[1]:"se"}});if(k.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(k.disabled){return}c(this).removeClass("ui-resizable-autohide");h._handles.show()}).mouseleave(function(){if(k.disabled){return}if(!h.resizing){c(this).addClass("ui-resizable-autohide");h._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var f,e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);f=this.element;this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f);f.remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(g){var f,h,e=false;for(f in this.handles){h=c(this.handles[f])[0];if(h===g.target||c.contains(h,g.target)){e=true}}return !this.options.disabled&&e},_mouseStart:function(g){var k,h,j,i=this.options,f=this.element.position(),e=this.element;this.resizing=true;if((/absolute/).test(e.css("position"))){e.css({position:"absolute",top:e.css("top"),left:e.css("left")})}else{if(e.is(".ui-draggable")){e.css({position:"absolute",top:f.top,left:f.left})}}this._renderProxy();k=b(this.helper.css("left"));h=b(this.helper.css("top"));if(i.containment){k+=c(i.containment).scrollLeft()||0;h+=c(i.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:k,top:h};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:k,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof i.aspectRatio==="number")?i.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);j=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",j==="auto"?this.axis+"-resize":j);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true},_mouseDrag:function(e){var k,g=this.helper,l={},i=this.originalMousePosition,m=this.axis,o=this.position.top,f=this.position.left,n=this.size.width,j=this.size.height,q=(e.pageX-i.left)||0,p=(e.pageY-i.top)||0,h=this._change[m];if(!h){return false}k=h.apply(this,[e,q,p]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){k=this._updateRatio(k,e)}k=this._respectSize(k,e);this._updateCache(k);this._propagate("resize",e);if(this.position.top!==o){l.top=this.position.top+"px"}if(this.position.left!==f){l.left=this.position.left+"px"}if(this.size.width!==n){l.width=this.size.width+"px"}if(this.size.height!==j){l.height=this.size.height+"px"}g.css(l);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!c.isEmptyObject(l)){this._trigger("resize",e,this.ui())}return false},_mouseStop:function(h){this.resizing=false;var g,e,f,k,n,j,m,i=this.options,l=this;if(this._helper){g=this._proportionallyResizeElements;e=g.length&&(/textarea/i).test(g[0].nodeName);f=e&&c.ui.hasScroll(g[0],"left")?0:l.sizeDiff.height;k=e?0:l.sizeDiff.width;n={width:(l.helper.width()-k),height:(l.helper.height()-f)};j=(parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left))||null;m=(parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top))||null;if(!i.animate){this.element.css(c.extend(n,{top:m,left:j}))}l.helper.height(l.size.height);l.helper.width(l.size.width);if(this._helper&&!i.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(g){var i,h,f,k,e,j=this.options;e={minWidth:a(j.minWidth)?j.minWidth:0,maxWidth:a(j.maxWidth)?j.maxWidth:Infinity,minHeight:a(j.minHeight)?j.minHeight:0,maxHeight:a(j.maxHeight)?j.maxHeight:Infinity};if(this._aspectRatio||g){i=e.minHeight*this.aspectRatio;f=e.minWidth/this.aspectRatio;h=e.maxHeight*this.aspectRatio;k=e.maxWidth/this.aspectRatio;if(i>e.minWidth){e.minWidth=i}if(f>e.minHeight){e.minHeight=f}if(h<e.maxWidth){e.maxWidth=h}if(k<e.maxHeight){e.maxHeight=k}}this._vBoundaries=e},_updateCache:function(e){this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left}if(a(e.top)){this.position.top=e.top}if(a(e.height)){this.size.height=e.height}if(a(e.width)){this.size.width=e.width}},_updateRatio:function(g){var h=this.position,f=this.size,e=this.axis;if(a(g.height)){g.width=(g.height*this.aspectRatio)}else{if(a(g.width)){g.height=(g.width/this.aspectRatio)}}if(e==="sw"){g.left=h.left+(f.width-g.width);g.top=null}if(e==="nw"){g.top=h.top+(f.height-g.height);g.left=h.left+(f.width-g.width)}return g},_respectSize:function(j){var g=this._vBoundaries,m=this.axis,p=a(j.width)&&g.maxWidth&&(g.maxWidth<j.width),k=a(j.height)&&g.maxHeight&&(g.maxHeight<j.height),h=a(j.width)&&g.minWidth&&(g.minWidth>j.width),n=a(j.height)&&g.minHeight&&(g.minHeight>j.height),f=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,i=/sw|nw|w/.test(m),e=/nw|ne|n/.test(m);if(h){j.width=g.minWidth}if(n){j.height=g.minHeight}if(p){j.width=g.maxWidth}if(k){j.height=g.maxHeight}if(h&&i){j.left=f-g.minWidth}if(p&&i){j.left=f-g.maxWidth}if(n&&e){j.top=l-g.minHeight}if(k&&e){j.top=l-g.maxHeight}if(!j.width&&!j.height&&!j.left&&j.top){j.top=null}else{if(!j.width&&!j.height&&!j.top&&j.left){j.left=null}}return j},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var h,f,l,e,k,g=this.helper||this.element;for(h=0;h<this._proportionallyResizeElements.length;h++){k=this._proportionallyResizeElements[h];if(!this.borderDif){this.borderDif=[];l=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")];e=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")];for(f=0;f<l.length;f++){this.borderDif[f]=(parseInt(l[f],10)||0)+(parseInt(e[f],10)||0)}}k.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var e=this.element,f=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||c("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++f.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(f,e){return{width:this.originalSize.width+e}},w:function(g,e){var f=this.originalSize,h=this.originalPosition;return{left:h.left+e,width:f.width-e}},n:function(h,f,e){var g=this.originalSize,i=this.originalPosition;return{top:i.top+e,height:g.height-e}},s:function(g,f,e){return{height:this.originalSize.height+e}},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]))},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]))}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!=="resize"&&this._trigger(f,e,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","animate",{stop:function(h){var m=c(this).data("ui-resizable"),j=m.options,g=m._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:m.sizeDiff.height,l=e?0:m.sizeDiff.width,i={width:(m.size.width-l),height:(m.size.height-f)},k=(parseInt(m.element.css("left"),10)+(m.position.left-m.originalPosition.left))||null,n=(parseInt(m.element.css("top"),10)+(m.position.top-m.originalPosition.top))||null;m.element.animate(c.extend(i,n&&k?{top:n,left:k}:{}),{duration:j.animateDuration,easing:j.animateEasing,step:function(){var o={width:parseInt(m.element.css("width"),10),height:parseInt(m.element.css("height"),10),top:parseInt(m.element.css("top"),10),left:parseInt(m.element.css("left"),10)};if(g&&g.length){c(g[0]).css({width:o.width,height:o.height})}m._updateCache(o);m._propagate("resize",h)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var m,g,q,e,l,h,r,n=c(this).data("ui-resizable"),k=n.options,j=n.element,f=k.containment,i=(f instanceof c)?f.get(0):(/parent/.test(f))?j.parent().get(0):f;if(!i){return}n.containerElement=c(i);if(/document/.test(f)||f===document){n.containerOffset={left:0,top:0};n.containerPosition={left:0,top:0};n.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{m=c(i);g=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){g[p]=b(m.css("padding"+o))});n.containerOffset=m.offset();n.containerPosition=m.position();n.containerSize={height:(m.innerHeight()-g[3]),width:(m.innerWidth()-g[1])};q=n.containerOffset;e=n.containerSize.height;l=n.containerSize.width;h=(c.ui.hasScroll(i,"left")?i.scrollWidth:l);r=(c.ui.hasScroll(i)?i.scrollHeight:e);n.parentData={element:i,left:q.left,top:q.top,width:h,height:r}}},resize:function(f){var k,q,j,i,l=c(this).data("ui-resizable"),h=l.options,n=l.containerOffset,m=l.position,p=l._aspectRatio||f.shiftKey,e={top:0,left:0},g=l.containerElement;if(g[0]!==document&&(/static/).test(g.css("position"))){e=n}if(m.left<(l._helper?n.left:0)){l.size.width=l.size.width+(l._helper?(l.position.left-n.left):(l.position.left-e.left));if(p){l.size.height=l.size.width/l.aspectRatio}l.position.left=h.helper?n.left:0}if(m.top<(l._helper?n.top:0)){l.size.height=l.size.height+(l._helper?(l.position.top-n.top):l.position.top);if(p){l.size.width=l.size.height*l.aspectRatio}l.position.top=l._helper?n.top:0}l.offset.left=l.parentData.left+l.position.left;l.offset.top=l.parentData.top+l.position.top;k=Math.abs((l._helper?l.offset.left-e.left:(l.offset.left-e.left))+l.sizeDiff.width);q=Math.abs((l._helper?l.offset.top-e.top:(l.offset.top-n.top))+l.sizeDiff.height);j=l.containerElement.get(0)===l.element.parent().get(0);i=/relative|absolute/.test(l.containerElement.css("position"));if(j&&i){k-=Math.abs(l.parentData.left)}if(k+l.size.width>=l.parentData.width){l.size.width=l.parentData.width-k;if(p){l.size.height=l.size.width/l.aspectRatio}}if(q+l.size.height>=l.parentData.height){l.size.height=l.parentData.height-q;if(p){l.size.width=l.size.height*l.aspectRatio}}},stop:function(){var k=c(this).data("ui-resizable"),f=k.options,l=k.containerOffset,e=k.containerPosition,g=k.containerElement,i=c(k.helper),n=i.offset(),m=i.outerWidth()-k.sizeDiff.width,j=i.outerHeight()-k.sizeDiff.height;if(k._helper&&!f.animate&&(/relative/).test(g.css("position"))){c(this).css({left:n.left-e.left-l.left,width:m,height:j})}if(k._helper&&!f.animate&&(/static/).test(g.css("position"))){c(this).css({left:n.left-e.left-l.left,width:m,height:j})}}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var e=c(this).data("ui-resizable"),g=e.options,f=function(h){c(h).each(function(){var i=c(this);i.data("ui-resizable-alsoresize",{width:parseInt(i.width(),10),height:parseInt(i.height(),10),left:parseInt(i.css("left"),10),top:parseInt(i.css("top"),10)})})};if(typeof(g.alsoResize)==="object"&&!g.alsoResize.parentNode){if(g.alsoResize.length){g.alsoResize=g.alsoResize[0];f(g.alsoResize)}else{c.each(g.alsoResize,function(h){f(h)})}}else{f(g.alsoResize)}},resize:function(g,i){var f=c(this).data("ui-resizable"),j=f.options,h=f.originalSize,l=f.originalPosition,k={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-l.top)||0,left:(f.position.left-l.left)||0},e=function(m,n){c(m).each(function(){var q=c(this),r=c(this).data("ui-resizable-alsoresize"),p={},o=n&&n.length?n:q.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(o,function(s,u){var t=(r[u]||0)+(k[u]||0);if(t&&t>=0){p[u]=t||null}});q.css(p)})};if(typeof(j.alsoResize)==="object"&&!j.alsoResize.nodeType){c.each(j.alsoResize,function(m,n){e(m,n)})}else{e(j.alsoResize)}},stop:function(){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","ghost",{start:function(){var f=c(this).data("ui-resizable"),g=f.options,e=f.size;f.ghost=f.originalElement.clone();f.ghost.css({opacity:0.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof g.ghost==="string"?g.ghost:"");f.ghost.appendTo(f.helper)},resize:function(){var e=c(this).data("ui-resizable");if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(){var e=c(this).data("ui-resizable");if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(){var r=c(this).data("ui-resizable"),i=r.options,s=r.size,k=r.originalSize,n=r.originalPosition,t=r.axis,f=typeof i.grid==="number"?[i.grid,i.grid]:i.grid,p=(f[0]||1),m=(f[1]||1),h=Math.round((s.width-k.width)/p)*p,g=Math.round((s.height-k.height)/m)*m,l=k.width+h,e=k.height+g,j=i.maxWidth&&(i.maxWidth<l),u=i.maxHeight&&(i.maxHeight<e),q=i.minWidth&&(i.minWidth>l),v=i.minHeight&&(i.minHeight>e);i.grid=f;if(q){l=l+p}if(v){e=e+m}if(j){l=l-p}if(u){e=e-m}if(/^(se|s|e)$/.test(t)){r.size.width=l;r.size.height=e}else{if(/^(ne)$/.test(t)){r.size.width=l;r.size.height=e;r.position.top=n.top-g}else{if(/^(sw)$/.test(t)){r.size.width=l;r.size.height=e;r.position.left=n.left-h}else{if(e-m>0){r.size.height=e;r.position.top=n.top-g}else{r.size.height=m;r.position.top=n.top+k.height-m}if(l-p>0){r.size.width=l;r.position.left=n.left-h}else{r.size.width=p;r.position.left=n.left+k.width-p}}}}}})})(jQuery);(function(a,b){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var d,c=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){d=a(c.options.filter,c.element[0]);d.addClass("ui-selectee");d.each(function(){var e=a(this),f=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:f.left,top:f.top,right:f.left+e.outerWidth(),bottom:f.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=d.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(e){var d=this,c=this.options;this.opos=[e.pageX,e.pageY];if(this.options.disabled){return}this.selectees=a(c.filter,this.element[0]);this._trigger("start",e);a(c.appendTo).append(this.helper);this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0});if(c.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var f=a.data(this,"selectable-item");f.startselected=true;if(!e.metaKey&&!e.ctrlKey){f.$element.removeClass("ui-selected");f.selected=false;f.$element.addClass("ui-unselecting");f.unselecting=true;d._trigger("unselecting",e,{unselecting:f.element})}});a(e.target).parents().addBack().each(function(){var f,g=a.data(this,"selectable-item");if(g){f=(!e.metaKey&&!e.ctrlKey)||!g.$element.hasClass("ui-selected");g.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting");g.unselecting=!f;g.selecting=f;g.selected=f;if(f){d._trigger("selecting",e,{selecting:g.element})}else{d._trigger("unselecting",e,{unselecting:g.element})}return false}})},_mouseDrag:function(j){this.dragged=true;if(this.options.disabled){return}var g,i=this,e=this.options,d=this.opos[0],h=this.opos[1],c=j.pageX,f=j.pageY;if(d>c){g=c;c=d;d=g}if(h>f){g=f;f=h;h=g}this.helper.css({left:d,top:h,width:c-d,height:f-h});this.selectees.each(function(){var k=a.data(this,"selectable-item"),l=false;if(!k||k.element===i.element[0]){return}if(e.tolerance==="touch"){l=(!(k.left>c||k.right<d||k.top>f||k.bottom<h))}else{if(e.tolerance==="fit"){l=(k.left>d&&k.right<c&&k.top>h&&k.bottom<f)}}if(l){if(k.selected){k.$element.removeClass("ui-selected");k.selected=false}if(k.unselecting){k.$element.removeClass("ui-unselecting");k.unselecting=false}if(!k.selecting){k.$element.addClass("ui-selecting");k.selecting=true;i._trigger("selecting",j,{selecting:k.element})}}else{if(k.selecting){if((j.metaKey||j.ctrlKey)&&k.startselected){k.$element.removeClass("ui-selecting");k.selecting=false;k.$element.addClass("ui-selected");k.selected=true}else{k.$element.removeClass("ui-selecting");k.selecting=false;if(k.startselected){k.$element.addClass("ui-unselecting");k.unselecting=true}i._trigger("unselecting",j,{unselecting:k.element})}}if(k.selected){if(!j.metaKey&&!j.ctrlKey&&!k.startselected){k.$element.removeClass("ui-selected");k.selected=false;k.$element.addClass("ui-unselecting");k.unselecting=true;i._trigger("unselecting",j,{unselecting:k.element})}}}});return false},_mouseStop:function(d){var c=this;this.dragged=false;a(".ui-unselecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-unselecting");e.unselecting=false;e.startselected=false;c._trigger("unselected",d,{unselected:e.element})});a(".ui-selecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=false;e.selected=true;e.startselected=true;c._trigger("selected",d,{selected:e.element})});this._trigger("stop",d);this.helper.remove();return false}})})(jQuery);(function(b,d){function a(f,e,g){return(f>e)&&(f<(e+g))}function c(e){return(/left|right/).test(e.css("float"))||(/inline|table-cell/).test(e.css("display"))}b.widget("ui.sortable",b.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?e.axis==="x"||c(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--){this.items[e].item.removeData(this.widgetName+"-item")}return this},_setOption:function(e,f){if(e==="disabled"){this.options[e]=f;this.widget().toggleClass("ui-sortable-disabled",!!f)}else{b.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(g,h){var e=null,i=false,f=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(g);b(g.target).parents().each(function(){if(b.data(this,f.widgetName+"-item")===f){e=b(this);return false}});if(b.data(g.target,f.widgetName+"-item")===f){e=b(g.target)}if(!e){return false}if(this.options.handle&&!h){b(this.options.handle,e).find("*").addBack().each(function(){if(this===g.target){i=true}});if(!i){return false}}this.currentItem=e;this._removeCurrentsFromItems();return true},_mouseStart:function(h,j,f){var g,e,k=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(h);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:h.pageX-this.offset.left,top:h.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(h);this.originalPageX=h.pageX;this.originalPageY=h.pageY;(k.cursorAt&&this._adjustOffsetFromHelper(k.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(k.containment){this._setContainment()}if(k.cursor&&k.cursor!=="auto"){e=this.document.find("body");this.storedCursor=e.css("cursor");e.css("cursor",k.cursor);this.storedStylesheet=b("<style>*{ cursor: "+k.cursor+" !important; }</style>").appendTo(e)}if(k.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",k.opacity)}if(k.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",k.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",h,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!f){for(g=this.containers.length-1;g>=0;g--){this.containers[g]._trigger("activate",h,this._uiHash(this))}}if(b.ui.ddmanager){b.ui.ddmanager.current=this}if(b.ui.ddmanager&&!k.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,h)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(h);return true},_mouseDrag:function(j){var g,h,f,l,k=this.options,e=false;this.position=this._generatePosition(j);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-j.pageY<k.scrollSensitivity){this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+k.scrollSpeed}else{if(j.pageY-this.overflowOffset.top<k.scrollSensitivity){this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-k.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-j.pageX<k.scrollSensitivity){this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+k.scrollSpeed}else{if(j.pageX-this.overflowOffset.left<k.scrollSensitivity){this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-k.scrollSpeed}}}else{if(j.pageY-b(document).scrollTop()<k.scrollSensitivity){e=b(document).scrollTop(b(document).scrollTop()-k.scrollSpeed)}else{if(b(window).height()-(j.pageY-b(document).scrollTop())<k.scrollSensitivity){e=b(document).scrollTop(b(document).scrollTop()+k.scrollSpeed)}}if(j.pageX-b(document).scrollLeft()<k.scrollSensitivity){e=b(document).scrollLeft(b(document).scrollLeft()-k.scrollSpeed)}else{if(b(window).width()-(j.pageX-b(document).scrollLeft())<k.scrollSensitivity){e=b(document).scrollLeft(b(document).scrollLeft()+k.scrollSpeed)}}}if(e!==false&&b.ui.ddmanager&&!k.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,j)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(g=this.items.length-1;g>=0;g--){h=this.items[g];f=h.item[0];l=this._intersectsWithPointer(h);if(!l){continue}if(h.instance!==this.currentContainer){continue}if(f!==this.currentItem[0]&&this.placeholder[l===1?"next":"prev"]()[0]!==f&&!b.contains(this.placeholder[0],f)&&(this.options.type==="semi-dynamic"?!b.contains(this.element[0],f):true)){this.direction=l===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(h)){this._rearrange(j,h)}else{break}this._trigger("change",j,this._uiHash());break}}this._contactContainers(j);if(b.ui.ddmanager){b.ui.ddmanager.drag(this,j)}this._trigger("sort",j,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(g,i){if(!g){return}if(b.ui.ddmanager&&!this.options.dropBehaviour){b.ui.ddmanager.drop(this,g)}if(this.options.revert){var f=this,j=this.placeholder.offset(),e=this.options.axis,h={};if(!e||e==="x"){h.left=j.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!e||e==="y"){h.top=j.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;b(this.helper).animate(h,parseInt(this.options.revert,10)||500,function(){f._clear(g)})}else{this._clear(g,i)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){b(this.domPosition.prev).after(this.currentItem)}else{b(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(g){var e=this._getItemsAsjQuery(g&&g.connected),f=[];g=g||{};b(e).each(function(){var h=(b(g.item||this).attr(g.attribute||"id")||"").match(g.expression||(/(.+)[\-=_](.+)/));if(h){f.push((g.key||h[1]+"[]")+"="+(g.key&&g.expression?h[1]:h[2]))}});if(!f.length&&g.key){f.push(g.key+"=")}return f.join("&")},toArray:function(g){var e=this._getItemsAsjQuery(g&&g.connected),f=[];g=g||{};e.each(function(){f.push(b(g.item||this).attr(g.attribute||"id")||"")});return f},_intersectsWith:function(q){var g=this.positionAbs.left,f=g+this.helperProportions.width,o=this.positionAbs.top,n=o+this.helperProportions.height,h=q.left,e=h+q.width,s=q.top,m=s+q.height,u=this.offset.click.top,k=this.offset.click.left,j=(this.options.axis==="x")||((o+u)>s&&(o+u)<m),p=(this.options.axis==="y")||((g+k)>h&&(g+k)<e),i=j&&p;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>q[this.floating?"width":"height"])){return i}else{return(h<g+(this.helperProportions.width/2)&&f-(this.helperProportions.width/2)<e&&s<o+(this.helperProportions.height/2)&&n-(this.helperProportions.height/2)<m)}},_intersectsWithPointer:function(g){var h=(this.options.axis==="x")||a(this.positionAbs.top+this.offset.click.top,g.top,g.height),f=(this.options.axis==="y")||a(this.positionAbs.left+this.offset.click.left,g.left,g.width),j=h&&f,e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();if(!j){return false}return this.floating?(((i&&i==="right")||e==="down")?2:1):(e&&(e==="down"?2:1))},_intersectsWithSides:function(h){var f=a(this.positionAbs.top+this.offset.click.top,h.top+(h.height/2),h.height),g=a(this.positionAbs.left+this.offset.click.left,h.left+(h.width/2),h.width),e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();if(this.floating&&i){return((i==="right"&&g)||(i==="left"&&!g))}else{return e&&((e==="down"&&f)||(e==="up"&&!f))}},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var g,f,n,k,l=[],h=[],m=this._connectWith();if(m&&e){for(g=m.length-1;g>=0;g--){n=b(m[g]);for(f=n.length-1;f>=0;f--){k=b.data(n[f],this.widgetFullName);if(k&&k!==this&&!k.options.disabled){h.push([b.isFunction(k.options.items)?k.options.items.call(k.element):b(k.options.items,k.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),k])}}}}h.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function o(){l.push(this)}for(g=h.length-1;g>=0;g--){h[g][0].each(o)}return b(l)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(g){for(var f=0;f<e.length;f++){if(e[f]===g.item[0]){return false}}return true})},_refreshItems:function(e){this.items=[];this.containers=[this];var k,g,p,l,o,f,r,q,m=this.items,h=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):b(this.options.items,this.element),this]],n=this._connectWith();if(n&&this.ready){for(k=n.length-1;k>=0;k--){p=b(n[k]);for(g=p.length-1;g>=0;g--){l=b.data(p[g],this.widgetFullName);if(l&&l!==this&&!l.options.disabled){h.push([b.isFunction(l.options.items)?l.options.items.call(l.element[0],e,{item:this.currentItem}):b(l.options.items,l.element),l]);this.containers.push(l)}}}}for(k=h.length-1;k>=0;k--){o=h[k][1];f=h[k][0];for(g=0,q=f.length;g<q;g++){r=b(f[g]);r.data(this.widgetName+"-item",o);m.push({item:r,instance:o,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var g,h,f,j;for(g=this.items.length-1;g>=0;g--){h=this.items[g];if(h.instance!==this.currentContainer&&this.currentContainer&&h.item[0]!==this.currentItem[0]){continue}f=this.options.toleranceElement?b(this.options.toleranceElement,h.item):h.item;if(!e){h.width=f.outerWidth();h.height=f.outerHeight()}j=f.offset();h.left=j.left;h.top=j.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(g=this.containers.length-1;g>=0;g--){j=this.containers[g].element.offset();this.containers[g].containerCache.left=j.left;this.containers[g].containerCache.top=j.top;this.containers[g].containerCache.width=this.containers[g].element.outerWidth();this.containers[g].containerCache.height=this.containers[g].element.outerHeight()}}return this},_createPlaceholder:function(f){f=f||this;var e,g=f.options;if(!g.placeholder||g.placeholder.constructor===String){e=g.placeholder;g.placeholder={element:function(){var i=f.currentItem[0].nodeName.toLowerCase(),h=b("<"+i+">",f.document[0]).addClass(e||f.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(i==="tr"){f.currentItem.children().each(function(){b("<td>&#160;</td>",f.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(h)})}else{if(i==="img"){h.attr("src",f.currentItem.attr("src"))}}if(!e){h.css("visibility","hidden")}return h},update:function(h,i){if(e&&!g.forcePlaceholderSize){return}if(!i.height()){i.height(f.currentItem.innerHeight()-parseInt(f.currentItem.css("paddingTop")||0,10)-parseInt(f.currentItem.css("paddingBottom")||0,10))}if(!i.width()){i.width(f.currentItem.innerWidth()-parseInt(f.currentItem.css("paddingLeft")||0,10)-parseInt(f.currentItem.css("paddingRight")||0,10))}}}}f.placeholder=b(g.placeholder.element.call(f.element,f.currentItem));f.currentItem.after(f.placeholder);g.placeholder.update(f,f.placeholder)},_contactContainers:function(e){var l,h,p,m,n,r,f,s,k,o,g=null,q=null;for(l=this.containers.length-1;l>=0;l--){if(b.contains(this.currentItem[0],this.containers[l].element[0])){continue}if(this._intersectsWith(this.containers[l].containerCache)){if(g&&b.contains(this.containers[l].element[0],g.element[0])){continue}g=this.containers[l];q=l}else{if(this.containers[l].containerCache.over){this.containers[l]._trigger("out",e,this._uiHash(this));this.containers[l].containerCache.over=0}}}if(!g){return}if(this.containers.length===1){if(!this.containers[q].containerCache.over){this.containers[q]._trigger("over",e,this._uiHash(this));this.containers[q].containerCache.over=1}}else{p=10000;m=null;o=g.floating||c(this.currentItem);n=o?"left":"top";r=o?"width":"height";f=this.positionAbs[n]+this.offset.click[n];for(h=this.items.length-1;h>=0;h--){if(!b.contains(this.containers[q].element[0],this.items[h].item[0])){continue}if(this.items[h].item[0]===this.currentItem[0]){continue}if(o&&!a(this.positionAbs.top+this.offset.click.top,this.items[h].top,this.items[h].height)){continue}s=this.items[h].item.offset()[n];k=false;if(Math.abs(s-f)>Math.abs(s+this.items[h][r]-f)){k=true;s+=this.items[h][r]}if(Math.abs(s-f)<p){p=Math.abs(s-f);m=this.items[h];this.direction=k?"up":"down"}}if(!m&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[q]){return}m?this._rearrange(e,m,null,true):this._rearrange(e,null,this.containers[q].element,true);this._trigger("change",e,this._uiHash());this.containers[q]._trigger("change",e,this._uiHash(this));this.currentContainer=this.containers[q];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[q]._trigger("over",e,this._uiHash(this));this.containers[q].containerCache.over=1}},_createHelper:function(f){var g=this.options,e=b.isFunction(g.helper)?b(g.helper.apply(this.element[0],[f,this.currentItem])):(g.helper==="clone"?this.currentItem.clone():this.currentItem);if(!e.parents("body").length){b(g.appendTo!=="parent"?g.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0])}if(e[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!e[0].style.width||g.forceHelperSize){e.width(this.currentItem.width())}if(!e[0].style.height||g.forceHelperSize){e.height(this.currentItem.height())}return e},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(b.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left" in e){this.offset.click.left=e.left+this.margins.left}if("right" in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top" in e){this.offset.click.top=e.top+this.margins.top}if("bottom" in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&b.ui.ie)){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,h,e,g=this.options;if(g.containment==="parent"){g.containment=this.helper[0].parentNode}if(g.containment==="document"||g.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(g.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(g.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(g.containment)){f=b(g.containment)[0];h=b(g.containment).offset();e=(b(f).css("overflow")!=="hidden");this.containment=[h.left+(parseInt(b(f).css("borderLeftWidth"),10)||0)+(parseInt(b(f).css("paddingLeft"),10)||0)-this.margins.left,h.top+(parseInt(b(f).css("borderTopWidth"),10)||0)+(parseInt(b(f).css("paddingTop"),10)||0)-this.margins.top,h.left+(e?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(b(f).css("borderLeftWidth"),10)||0)-(parseInt(b(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,h.top+(e?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(b(f).css("borderTopWidth"),10)||0)-(parseInt(b(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(g,i){if(!i){i=this.position}var f=g==="absolute"?1:-1,e=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(e[0].tagName);return{top:(i.top+this.offset.relative.top*f+this.offset.parent.top*f-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(h?0:e.scrollTop()))*f)),left:(i.left+this.offset.relative.left*f+this.offset.parent.left*f-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())*f))}},_generatePosition:function(h){var j,i,k=this.options,g=h.pageX,f=h.pageY,e=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=(/(html|body)/i).test(e[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(h.pageX-this.offset.click.left<this.containment[0]){g=this.containment[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<this.containment[1]){f=this.containment[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>this.containment[2]){g=this.containment[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>this.containment[3]){f=this.containment[3]+this.offset.click.top}}if(k.grid){j=this.originalPageY+Math.round((f-this.originalPageY)/k.grid[1])*k.grid[1];f=this.containment?((j-this.offset.click.top>=this.containment[1]&&j-this.offset.click.top<=this.containment[3])?j:((j-this.offset.click.top>=this.containment[1])?j-k.grid[1]:j+k.grid[1])):j;i=this.originalPageX+Math.round((g-this.originalPageX)/k.grid[0])*k.grid[0];g=this.containment?((i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2])?i:((i-this.offset.click.left>=this.containment[0])?i-k.grid[0]:i+k.grid[0])):i}}return{top:(f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(l?0:e.scrollTop())))),left:(g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:e.scrollLeft())))}},_rearrange:function(j,h,f,g){f?f[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?h.item[0]:h.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){if(e===this.counter){this.refreshPositions(!g)}})},_clear:function(f,h){this.reverting=false;var e,j=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(e in this._storedCSS){if(this._storedCSS[e]==="auto"||this._storedCSS[e]==="static"){this._storedCSS[e]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!h){j.push(function(i){this._trigger("receive",i,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!h){j.push(function(i){this._trigger("update",i,this._uiHash())})}if(this!==this.currentContainer){if(!h){j.push(function(i){this._trigger("remove",i,this._uiHash())});j.push((function(i){return function(k){i._trigger("receive",k,this._uiHash(this))}}).call(this,this.currentContainer));j.push((function(i){return function(k){i._trigger("update",k,this._uiHash(this))}}).call(this,this.currentContainer))}}function g(l,i,k){return function(m){k._trigger(l,m,i._uiHash(i))}}for(e=this.containers.length-1;e>=0;e--){if(!h){j.push(g("deactivate",this,this.containers[e]))}if(this.containers[e].containerCache.over){j.push(g("out",this,this.containers[e]));this.containers[e].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!h){this._trigger("beforeStop",f,this._uiHash());for(e=0;e<j.length;e++){j[e].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return false}if(!h){this._trigger("beforeStop",f,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!h){for(e=0;e<j.length;e++){j[e].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(b.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(e){var f=e||this;return{helper:f.helper,placeholder:f.placeholder||b([]),position:f.position,originalPosition:f.originalPosition,offset:f.positionAbs,item:f.currentItem,sender:e?e.element:null}}})})(jQuery);(function(a,c){var b="ui-effects-";a.effects={effect:{}};
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(r,g){var n="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",k=/^([\-+])=\s*(\d+\.?\d*)/,j=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(s){return[s[1],s[2],s[3],s[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(s){return[s[1]*2.55,s[2]*2.55,s[3]*2.55,s[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(s){return[s[1],s[2]/100,s[3]/100,s[4]]}}],h=r.Color=function(t,u,s,v){return new r.Color.fn.parse(t,u,s,v)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},q={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},p=h.support={},e=r("<p>")[0],d,o=r.each;e.style.cssText="background-color:rgba(1,1,1,.5)";p.rgba=e.style.backgroundColor.indexOf("rgba")>-1;o(m,function(s,t){t.cache="_"+s;t.props.alpha={idx:3,type:"percent",def:1}});function l(t,v,u){var s=q[v.type]||{};if(t==null){return(u||!v.def)?null:v.def}t=s.floor?~~t:parseFloat(t);if(isNaN(t)){return v.def}if(s.mod){return(t+s.mod)%s.mod}return 0>t?0:s.max<t?s.max:t}function i(s){var u=h(),t=u._rgba=[];s=s.toLowerCase();o(j,function(z,A){var x,y=A.re.exec(s),w=y&&A.parse(y),v=A.space||"rgba";if(w){x=u[v](w);u[m[v].cache]=x[m[v].cache];t=u._rgba=x._rgba;return false}});if(t.length){if(t.join()==="0,0,0,0"){r.extend(t,d.transparent)}return u}return d[s]}h.fn=r.extend(h.prototype,{parse:function(y,w,s,x){if(y===g){this._rgba=[null,null,null,null];return this}if(y.jquery||y.nodeType){y=r(y).css(w);w=g}var v=this,u=r.type(y),t=this._rgba=[];if(w!==g){y=[y,w,s,x];u="array"}if(u==="string"){return this.parse(i(y)||d._default)}if(u==="array"){o(m.rgba.props,function(z,A){t[A.idx]=l(y[A.idx],A)});return this}if(u==="object"){if(y instanceof h){o(m,function(z,A){if(y[A.cache]){v[A.cache]=y[A.cache].slice()}})}else{o(m,function(A,B){var z=B.cache;o(B.props,function(C,D){if(!v[z]&&B.to){if(C==="alpha"||y[C]==null){return}v[z]=B.to(v._rgba)}v[z][D.idx]=l(y[C],D,true)});if(v[z]&&r.inArray(null,v[z].slice(0,3))<0){v[z][3]=1;if(B.from){v._rgba=B.from(v[z])}}})}return this}},is:function(u){var s=h(u),v=true,t=this;o(m,function(w,y){var z,x=s[y.cache];if(x){z=t[y.cache]||y.to&&y.to(t._rgba)||[];o(y.props,function(A,B){if(x[B.idx]!=null){v=(x[B.idx]===z[B.idx]);return v}})}return v});return v},_space:function(){var s=[],t=this;o(m,function(u,v){if(t[v.cache]){s.push(u)}});return s.pop()},transition:function(t,z){var u=h(t),v=u._space(),w=m[v],x=this.alpha()===0?h("transparent"):this,y=x[w.cache]||w.to(x._rgba),s=y.slice();u=u[w.cache];o(w.props,function(D,F){var C=F.idx,B=y[C],A=u[C],E=q[F.type]||{};if(A===null){return}if(B===null){s[C]=A}else{if(E.mod){if(A-B>E.mod/2){B+=E.mod}else{if(B-A>E.mod/2){B-=E.mod}}}s[C]=l((A-B)*z+B,F)}});return this[v](s)},blend:function(v){if(this._rgba[3]===1){return this}var u=this._rgba.slice(),t=u.pop(),s=h(v)._rgba;return h(r.map(u,function(w,x){return(1-t)*s[x]+t*w}))},toRgbaString:function(){var t="rgba(",s=r.map(this._rgba,function(u,w){return u==null?(w>2?1:0):u});if(s[3]===1){s.pop();t="rgb("}return t+s.join()+")"},toHslaString:function(){var t="hsla(",s=r.map(this.hsla(),function(u,w){if(u==null){u=w>2?1:0}if(w&&w<3){u=Math.round(u*100)+"%"}return u});if(s[3]===1){s.pop();t="hsl("}return t+s.join()+")"},toHexString:function(s){var t=this._rgba.slice(),u=t.pop();if(s){t.push(~~(u*255))}return"#"+r.map(t,function(w){w=(w||0).toString(16);return w.length===1?"0"+w:w}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});h.fn.parse.prototype=h.fn;function f(u,t,s){s=(s+1)%1;if(s*6<1){return u+(t-u)*s*6}if(s*2<1){return t}if(s*3<2){return u+(t-u)*((2/3)-s)*6}return u}m.hsla.to=function(v){if(v[0]==null||v[1]==null||v[2]==null){return[null,null,null,v[3]]}var t=v[0]/255,y=v[1]/255,z=v[2]/255,B=v[3],A=Math.max(t,y,z),w=Math.min(t,y,z),C=A-w,D=A+w,u=D*0.5,x,E;if(w===A){x=0}else{if(t===A){x=(60*(y-z)/C)+360}else{if(y===A){x=(60*(z-t)/C)+120}else{x=(60*(t-y)/C)+240}}}if(C===0){E=0}else{if(u<=0.5){E=C/D}else{E=C/(2-D)}}return[Math.round(x)%360,E,u,B==null?1:B]};m.hsla.from=function(x){if(x[0]==null||x[1]==null||x[2]==null){return[null,null,null,x[3]]}var w=x[0]/360,v=x[1],u=x[2],t=x[3],y=u<=0.5?u*(1+v):u+v-u*v,z=2*u-y;return[Math.round(f(z,y,w+(1/3))*255),Math.round(f(z,y,w)*255),Math.round(f(z,y,w-(1/3))*255),t]};o(m,function(t,v){var u=v.props,s=v.cache,x=v.to,w=v.from;h.fn[t]=function(C){if(x&&!this[s]){this[s]=x(this._rgba)}if(C===g){return this[s].slice()}var z,B=r.type(C),y=(B==="array"||B==="object")?C:arguments,A=this[s].slice();o(u,function(D,F){var E=y[B==="object"?D:F.idx];if(E==null){E=A[F.idx]}A[F.idx]=l(E,F)});if(w){z=h(w(A));z[s]=A;return z}else{return h(A)}};o(u,function(y,z){if(h.fn[y]){return}h.fn[y]=function(D){var F=r.type(D),C=(y==="alpha"?(this._hsla?"hsla":"rgba"):t),B=this[C](),E=B[z.idx],A;if(F==="undefined"){return E}if(F==="function"){D=D.call(this,E);F=r.type(D)}if(D==null&&z.empty){return this}if(F==="string"){A=k.exec(D);if(A){D=E+parseFloat(A[2])*(A[1]==="+"?1:-1)}}B[z.idx]=D;return this[C](B)}})});h.hook=function(t){var s=t.split(" ");o(s,function(u,v){r.cssHooks[v]={set:function(z,A){var x,y,w="";if(A!=="transparent"&&(r.type(A)!=="string"||(x=i(A)))){A=h(x||A);if(!p.rgba&&A._rgba[3]!==1){y=v==="backgroundColor"?z.parentNode:z;while((w===""||w==="transparent")&&y&&y.style){try{w=r.css(y,"backgroundColor");y=y.parentNode}catch(B){}}A=A.blend(w&&w!=="transparent"?w:"_default")}A=A.toRgbaString()}try{z.style[v]=A}catch(B){}}};r.fx.step[v]=function(w){if(!w.colorInit){w.start=h(w.elem,v);w.end=h(w.end);w.colorInit=true}r.cssHooks[v].set(w.elem,w.start.transition(w.end,w.pos))}})};h.hook(n);r.cssHooks.borderColor={expand:function(t){var s={};o(["Top","Right","Bottom","Left"],function(v,u){s["border"+u+"Color"]=t});return s}};d=r.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(h,i){a.fx.step[i]=function(j){if(j.end!=="none"&&!j.setAttr||j.pos===1&&!j.setAttr){jQuery.style(j.elem,i,j.end);j.setAttr=true}}});function g(l){var i,h,j=l.ownerDocument.defaultView?l.ownerDocument.defaultView.getComputedStyle(l,null):l.currentStyle,k={};if(j&&j.length&&j[0]&&j[j[0]]){h=j.length;while(h--){i=j[h];if(typeof j[i]==="string"){k[a.camelCase(i)]=j[i]}}}else{for(i in j){if(typeof j[i]==="string"){k[i]=j[i]}}}return k}function d(h,j){var l={},i,k;for(i in j){k=j[i];if(h[i]!==k){if(!f[i]){if(a.fx.step[i]||!isNaN(parseFloat(k))){l[i]=k}}}}return l}if(!a.fn.addBack){a.fn.addBack=function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}}a.effects.animateClass=function(h,i,l,k){var j=a.speed(i,l,k);return this.queue(function(){var o=a(this),m=o.attr("class")||"",n,p=j.children?o.find("*").addBack():o;p=p.map(function(){var q=a(this);return{el:q,start:g(this)}});n=function(){a.each(e,function(q,r){if(h[r]){o[r+"Class"](h[r])}})};n();p=p.map(function(){this.end=g(this.el[0]);this.diff=d(this.start,this.end);return this});o.attr("class",m);p=p.map(function(){var s=this,q=a.Deferred(),r=a.extend({},j,{queue:false,complete:function(){q.resolve(s)}});this.el.animate(this.diff,r);return q.promise()});a.when.apply(a,p.get()).done(function(){n();a.each(arguments,function(){var q=this.el;a.each(this.diff,function(r){q.css(r,"")})});j.complete.call(o[0])})})};a.fn.extend({addClass:(function(h){return function(j,i,l,k){return i?a.effects.animateClass.call(this,{add:j},i,l,k):h.apply(this,arguments)}})(a.fn.addClass),removeClass:(function(h){return function(j,i,l,k){return arguments.length>1?a.effects.animateClass.call(this,{remove:j},i,l,k):h.apply(this,arguments)}})(a.fn.removeClass),toggleClass:(function(h){return function(k,j,i,m,l){if(typeof j==="boolean"||j===c){if(!i){return h.apply(this,arguments)}else{return a.effects.animateClass.call(this,(j?{add:k}:{remove:k}),i,m,l)}}else{return a.effects.animateClass.call(this,{toggle:k},j,i,m)}}})(a.fn.toggleClass),switchClass:function(h,j,i,l,k){return a.effects.animateClass.call(this,{add:j,remove:h},i,l,k)}})})();(function(){a.extend(a.effects,{version:"1.10.4",save:function(g,h){for(var f=0;f<h.length;f++){if(h[f]!==null){g.data(b+h[f],g[0].style[h[f]])}}},restore:function(g,j){var h,f;for(f=0;f<j.length;f++){if(j[f]!==null){h=g.data(b+j[f]);if(h===c){h=""}g.css(j[f],h)}}},setMode:function(f,g){if(g==="toggle"){g=f.is(":hidden")?"show":"hide"}return g},getBaseline:function(g,h){var i,f;switch(g[0]){case"top":i=0;break;case"middle":i=0.5;break;case"bottom":i=1;break;default:i=g[0]/h.height}switch(g[1]){case"left":f=0;break;case"center":f=0.5;break;case"right":f=1;break;default:f=g[1]/h.width}return{x:f,y:i}},createWrapper:function(g){if(g.parent().is(".ui-effects-wrapper")){return g.parent()}var h={width:g.outerWidth(true),height:g.outerHeight(true),"float":g.css("float")},k=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:g.width(),height:g.height()},j=document.activeElement;try{j.id}catch(i){j=document.body}g.wrap(k);if(g[0]===j||a.contains(g[0],j)){a(j).focus()}k=g.parent();if(g.css("position")==="static"){k.css({position:"relative"});g.css({position:"relative"})}else{a.extend(h,{position:g.css("position"),zIndex:g.css("z-index")});a.each(["top","left","bottom","right"],function(l,m){h[m]=g.css(m);if(isNaN(parseInt(h[m],10))){h[m]="auto"}});g.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}g.css(f);return k.css(h).show()},removeWrapper:function(f){var g=document.activeElement;if(f.parent().is(".ui-effects-wrapper")){f.parent().replaceWith(f);if(f[0]===g||a.contains(f[0],g)){a(g).focus()}}return f},setTransition:function(g,i,f,h){h=h||{};a.each(i,function(k,j){var l=g.cssUnit(j);if(l[0]>0){h[j]=l[0]*f+l[1]}});return h}});function d(g,f,h,i){if(a.isPlainObject(g)){f=g;g=g.effect}g={effect:g};if(f==null){f={}}if(a.isFunction(f)){i=f;h=null;f={}}if(typeof f==="number"||a.fx.speeds[f]){i=h;h=f;f={}}if(a.isFunction(h)){i=h;h=null}if(f){a.extend(g,f)}h=h||f.duration;g.duration=a.fx.off?0:typeof h==="number"?h:h in a.fx.speeds?a.fx.speeds[h]:a.fx.speeds._default;g.complete=i||f.complete;return g}function e(f){if(!f||typeof f==="number"||a.fx.speeds[f]){return true}if(typeof f==="string"&&!a.effects.effect[f]){return true}if(a.isFunction(f)){return true}if(typeof f==="object"&&!f.effect){return true}return false}a.fn.extend({effect:function(){var h=d.apply(this,arguments),j=h.mode,f=h.queue,g=a.effects.effect[h.effect];if(a.fx.off||!g){if(j){return this[j](h.duration,h.complete)}else{return this.each(function(){if(h.complete){h.complete.call(this)}})}}function i(m){var n=a(this),l=h.complete,o=h.mode;function k(){if(a.isFunction(l)){l.call(n[0])}if(a.isFunction(m)){m()}}if(n.is(":hidden")?o==="hide":o==="show"){n[o]();k()}else{g.call(n[0],h,k)}}return f===false?this.each(i):this.queue(f||"fx",i)},show:(function(f){return function(h){if(e(h)){return f.apply(this,arguments)}else{var g=d.apply(this,arguments);g.mode="show";return this.effect.call(this,g)}}})(a.fn.show),hide:(function(f){return function(h){if(e(h)){return f.apply(this,arguments)}else{var g=d.apply(this,arguments);g.mode="hide";return this.effect.call(this,g)}}})(a.fn.hide),toggle:(function(f){return function(h){if(e(h)||typeof h==="boolean"){return f.apply(this,arguments)}else{var g=d.apply(this,arguments);g.mode="toggle";return this.effect.call(this,g)}}})(a.fn.toggle),cssUnit:function(f){var g=this.css(f),h=[];a.each(["em","px","%","pt"],function(j,k){if(g.indexOf(k)>0){h=[parseFloat(g),k]}});return h}})})();(function(){var d={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,e){d[e]=function(g){return Math.pow(g,f+2)}});a.extend(d,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(g){var e,f=4;while(g<((e=Math.pow(2,--f))-1)/11){}return 1/Math.pow(4,3-f)-7.5625*Math.pow((e*3-2)/22-g,2)}});a.each(d,function(f,e){a.easing["easeIn"+f]=e;a.easing["easeOut"+f]=function(g){return 1-e(1-g)};a.easing["easeInOut"+f]=function(g){return g<0.5?e(g*2)/2:1-e(g*-2+2)/2}})})()})(jQuery);(function(d,e){var b=0,c={},a={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide";a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show";d.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var f=this.options;this.prevShow=this.prevHide=d();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!f.collapsible&&(f.active===false||f.active==null)){f.active=0}this._processPanels();if(f.active<0){f.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?d():this.active.next(),content:!this.active.length?d():this.active.next()}},_createIcons:function(){var f=this.options.icons;if(f){d("<span>").addClass("ui-accordion-header-icon ui-icon "+f.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(f.header).addClass(f.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var f;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});this._destroyIcons();f=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});if(this.options.heightStyle!=="content"){f.css("height","")}},_setOption:function(f,g){if(f==="active"){this._activate(g);return}if(f==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(g)}this._super(f,g);if(f==="collapsible"&&!g&&this.options.active===false){this._activate(0)}if(f==="icons"){this._destroyIcons();if(g){this._createIcons()}}if(f==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!g)}},_keydown:function(i){if(i.altKey||i.ctrlKey){return}var j=d.ui.keyCode,h=this.headers.length,f=this.headers.index(i.target),g=false;switch(i.keyCode){case j.RIGHT:case j.DOWN:g=this.headers[(f+1)%h];break;case j.LEFT:case j.UP:g=this.headers[(f-1+h)%h];break;case j.SPACE:case j.ENTER:this._eventHandler(i);break;case j.HOME:g=this.headers[0];break;case j.END:g=this.headers[h-1];break}if(g){d(i.target).attr("tabIndex",-1);d(g).attr("tabIndex",0);g.focus();i.preventDefault()}},_panelKeyDown:function(f){if(f.keyCode===d.ui.keyCode.UP&&f.ctrlKey){d(f.currentTarget).prev().focus()}},refresh:function(){var f=this.options;this._processPanels();if((f.active===false&&f.collapsible===true)||!this.headers.length){f.active=false;this.active=d()}else{if(f.active===false){this._activate(0)}else{if(this.active.length&&!d.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){f.active=false;this.active=d()}else{this._activate(Math.max(0,f.active-1))}}else{f.active=this.headers.index(this.active)}}}this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var j,h=this.options,g=h.heightStyle,i=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b);this.active=this._findActive(h.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(n){var o=d(this),m=o.attr("id"),k=o.next(),l=k.attr("id");if(!m){m=f+"-header-"+n;o.attr("id",m)}if(!l){l=f+"-panel-"+n;k.attr("id",l)}o.attr("aria-controls",l);k.attr("aria-labelledby",m)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"})}this._createIcons();this._setupEvents(h.event);if(g==="fill"){j=i.height();this.element.siblings(":visible").each(function(){var l=d(this),k=l.css("position");if(k==="absolute"||k==="fixed"){return}j-=l.outerHeight(true)});this.headers.each(function(){j-=d(this).outerHeight(true)});this.headers.next().each(function(){d(this).height(Math.max(0,j-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else{if(g==="auto"){j=0;this.headers.next().each(function(){j=Math.max(j,d(this).css("height","").height())}).height(j)}}},_activate:function(f){var g=this._findActive(f)[0];if(g===this.active[0]){return}g=g||this.active[0];this._eventHandler({target:g,currentTarget:g,preventDefault:d.noop})},_findActive:function(f){return typeof f==="number"?this.headers.eq(f):d()},_setupEvents:function(g){var f={keydown:"_keydown"};if(g){d.each(g.split(" "),function(i,h){f[h]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,f);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(f){var n=this.options,i=this.active,j=d(f.currentTarget),l=j[0]===i[0],g=l&&n.collapsible,h=g?d():j.next(),k=i.next(),m={oldHeader:i,oldPanel:k,newHeader:g?d():j,newPanel:h};f.preventDefault();if((l&&!n.collapsible)||(this._trigger("beforeActivate",f,m)===false)){return}n.active=g?false:this.headers.index(j);this.active=l?d():j;this._toggle(m);i.removeClass("ui-accordion-header-active ui-state-active");if(n.icons){i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header)}if(!l){j.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(n.icons){j.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader)}j.next().addClass("ui-accordion-content-active")}},_toggle:function(h){var f=h.newPanel,g=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=f;this.prevHide=g;if(this.options.animate){this._animate(f,g,h)}else{g.hide();f.show();this._toggleComplete(h)}g.attr({"aria-hidden":"true"});g.prev().attr("aria-selected","false");if(f.length&&g.length){g.prev().attr({tabIndex:-1,"aria-expanded":"false"})}else{if(f.length){this.headers.filter(function(){return d(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}f.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(f,n,j){var m,l,i,k=this,o=0,p=f.length&&(!n.length||(f.index()<n.index())),h=this.options.animate||{},q=p&&h.down||h,g=function(){k._toggleComplete(j)};if(typeof q==="number"){i=q}if(typeof q==="string"){l=q}l=l||q.easing||h.easing;i=i||q.duration||h.duration;if(!n.length){return f.animate(a,i,l,g)}if(!f.length){return n.animate(c,i,l,g)}m=f.show().outerHeight();n.animate(c,{duration:i,easing:l,step:function(r,s){s.now=Math.round(r)}});f.hide().animate(a,{duration:i,easing:l,complete:g,step:function(r,s){s.now=Math.round(r);if(s.prop!=="height"){o+=s.now}else{if(k.options.heightStyle!=="content"){s.now=Math.round(m-n.outerHeight()-o);o=0}}}})},_toggleComplete:function(g){var f=g.oldPanel;f.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(f.length){f.parent()[0].className=f.parent()[0].className}this._trigger("activate",null,g)}})})(jQuery);(function(a,b){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,c,f,h=this.element[0].nodeName.toLowerCase(),g=h==="textarea",d=h==="input";this.isMultiLine=g?true:d?false:this.element.prop("isContentEditable");this.valueMethod=this.element[g||d?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){e=true;f=true;c=true;return}e=false;f=false;c=false;var j=a.ui.keyCode;switch(i.keyCode){case j.PAGE_UP:e=true;this._move("previousPage",i);break;case j.PAGE_DOWN:e=true;this._move("nextPage",i);break;case j.UP:e=true;this._keyEvent("previous",i);break;case j.DOWN:e=true;this._keyEvent("next",i);break;case j.ENTER:case j.NUMPAD_ENTER:if(this.menu.active){e=true;i.preventDefault();this.menu.select(i)}break;case j.TAB:if(this.menu.active){this.menu.select(i)}break;case j.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(i);i.preventDefault()}break;default:c=true;this._searchTimeout(i);break}},keypress:function(i){if(e){e=false;if(!this.isMultiLine||this.menu.element.is(":visible")){i.preventDefault()}return}if(c){return}var j=a.ui.keyCode;switch(i.keyCode){case j.PAGE_UP:this._move("previousPage",i);break;case j.PAGE_DOWN:this._move("nextPage",i);break;case j.UP:this._keyEvent("previous",i);break;case j.DOWN:this._keyEvent("next",i);break}},input:function(i){if(f){f=false;i.preventDefault();return}this._searchTimeout(i)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(i){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(i);this._change(i)}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(i){i.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var j=this.menu.element[0];if(!a(i.target).closest(".ui-menu-item").length){this._delay(function(){var k=this;this.document.one("mousedown",function(l){if(l.target!==k.element[0]&&l.target!==j&&!a.contains(j,l.target)){k.close()}})})}},menufocus:function(j,k){if(this.isNewMenu){this.isNewMenu=false;if(j.originalEvent&&/^mouse/.test(j.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){a(j.target).trigger(j.originalEvent)});return}}var i=k.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",j,{item:i})){if(j.originalEvent&&/^key/.test(j.originalEvent.type)){this._value(i.value)}}else{this.liveRegion.text(i.value)}},menuselect:function(k,l){var j=l.item.data("ui-autocomplete-item"),i=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=i;this._delay(function(){this.previous=i;this.selectedItem=j})}if(false!==this._trigger("select",k,{item:j})){this._value(j.value)}this.term=this._value();this.close(k);this.selectedItem=j}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(c,d){this._super(c,d);if(c==="source"){this._initSource()}if(c==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(c==="disabled"&&d&&this.xhr){this.xhr.abort()}},_appendTo:function(){var c=this.options.appendTo;if(c){c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0)}if(!c){c=this.element.closest(".ui-front")}if(!c.length){c=this.document[0].body}return c},_initSource:function(){var e,c,d=this;if(a.isArray(this.options.source)){e=this.options.source;this.source=function(g,f){f(a.ui.autocomplete.filter(e,g.term))}}else{if(typeof this.options.source==="string"){c=this.options.source;this.source=function(g,f){if(d.xhr){d.xhr.abort()}d.xhr=a.ajax({url:c,data:g,dataType:"json",success:function(h){f(h)},error:function(){f([])}})}}else{this.source=this.options.source}}},_searchTimeout:function(c){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,c)}},this.options.delay)},search:function(d,c){d=d!=null?d:this._value();this.term=this._value();if(d.length<this.options.minLength){return this.close(c)}if(this._trigger("search",c)===false){return}return this._search(d)},_search:function(c){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:c},this._response())},_response:function(){var c=++this.requestIndex;return a.proxy(function(d){if(c===this.requestIndex){this.__response(d)}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},this)},__response:function(c){if(c){c=this._normalize(c)}this._trigger("response",null,{content:c});if(!this.options.disabled&&c&&c.length&&!this.cancelSearch){this._suggest(c);this._trigger("open")}else{this._close()}},close:function(c){this.cancelSearch=true;this._close(c)},_close:function(c){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",c)}},_change:function(c){if(this.previous!==this._value()){this._trigger("change",c,{item:this.selectedItem})}},_normalize:function(c){if(c.length&&c[0].label&&c[0].value){return c}return a.map(c,function(d){if(typeof d==="string"){return{label:d,value:d}}return a.extend({label:d.label||d.value,value:d.value||d.label},d)})},_suggest:function(c){var d=this.menu.element.empty();this._renderMenu(d,c);this.isNewMenu=true;this.menu.refresh();d.show();this._resizeMenu();d.position(a.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(d,c){var e=this;a.each(c,function(f,g){e._renderItemData(d,g)})},_renderItemData:function(c,d){return this._renderItem(c,d).data("ui-autocomplete-item",d)},_renderItem:function(c,d){return a("<li>").append(a("<a>").text(d.label)).appendTo(c)},_move:function(d,c){if(!this.menu.element.is(":visible")){this.search(null,c);return}if(this.menu.isFirstItem()&&/^previous/.test(d)||this.menu.isLastItem()&&/^next/.test(d)){this._value(this.term);this.menu.blur();return}this.menu[d](c)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(d,c){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(d,c);c.preventDefault()}}});a.extend(a.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(e,function(f){return d.test(f.label||f.value||f)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(c>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(d){var c;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(d&&d.length){c=this.options.messages.results(d.length)}else{c=this.options.messages.noResults}this.liveRegion.text(c)}})}(jQuery));(function(e,g){var c,b="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var h=e(this);setTimeout(function(){h.find(":ui-button").button("refresh")},1)},a=function(i){var h=i.name,j=i.form,k=e([]);if(h){h=h.replace(/'/g,"\\'");if(j){k=e(j).find("[name='"+h+"']")}else{k=e("[name='"+h+"']",i.ownerDocument).filter(function(){return !this.form})}}return k};e.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var j=this,h=this.options,k=this.type==="checkbox"||this.type==="radio",i=!k?"ui-state-active":"";if(h.label===null){h.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html())}this._hoverable(this.buttonElement);this.buttonElement.addClass(b).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(h.disabled){return}if(this===c){e(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(h.disabled){return}e(this).removeClass(i)}).bind("click"+this.eventNamespace,function(l){if(h.disabled){l.preventDefault();l.stopImmediatePropagation()}});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});if(k){this.element.bind("change"+this.eventNamespace,function(){j.refresh()})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled){return false}})}else{if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled){return false}e(this).addClass("ui-state-active");j.buttonElement.attr("aria-pressed","true");var l=j.element[0];a(l).not(l).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(h.disabled){return false}e(this).addClass("ui-state-active");c=this;j.document.one("mouseup",function(){c=null})}).bind("mouseup"+this.eventNamespace,function(){if(h.disabled){return false}e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(l){if(h.disabled){return false}if(l.keyCode===e.ui.keyCode.SPACE||l.keyCode===e.ui.keyCode.ENTER){e(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(l){if(l.keyCode===e.ui.keyCode.SPACE){e(this).click()}})}}}this._setOption("disabled",h.disabled);this._resetButton()},_determineButtonType:function(){var h,j,i;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else{if(this.element.is("[type=radio]")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){h=this.element.parents().last();j="label[for='"+this.element.attr("id")+"']";this.buttonElement=h.find(j);if(!this.buttonElement.length){h=h.length?h.siblings():this.element.siblings();this.buttonElement=h.filter(j);if(!this.buttonElement.length){this.buttonElement=h.find(j)}}this.element.addClass("ui-helper-hidden-accessible");i=this.element.is(":checked");if(i){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",i)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(b+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(h,i){this._super(h,i);if(h==="disabled"){this.element.prop("disabled",!!i);if(i){this.buttonElement.removeClass("ui-state-focus")}return}this._resetButton()},refresh:function(){var h=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(h!==this.options.disabled){this._setOption("disabled",h)}if(this.type==="radio"){a(this.element[0]).each(function(){if(e(this).is(":checked")){e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var l=this.buttonElement.removeClass(f),j=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(l.empty()).text(),i=this.options.icons,h=i.primary&&i.secondary,k=[];if(i.primary||i.secondary){if(this.options.text){k.push("ui-button-text-icon"+(h?"s":(i.primary?"-primary":"-secondary")))}if(i.primary){l.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>")}if(i.secondary){l.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>")}if(!this.options.text){k.push(h?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){l.attr("title",e.trim(j))}}}else{k.push("ui-button-text-only")}l.addClass(k.join(" "))}});e.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(h,i){if(h==="disabled"){this.buttons.button("option",h,i)}this._super(h,i)},refresh:function(){var h=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(h?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(h?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery));(function(e,g){e.extend(e.ui,{datepicker:{version:"1.10.4"}});var f="datepicker",c;function b(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};e.extend(this._defaults,this.regional[""]);this.dpDiv=d(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}e.extend(b.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(h){a(this._defaults,h||{});return this},_attachDatepicker:function(k,h){var l,j,i;l=k.nodeName.toLowerCase();j=(l==="div"||l==="span");if(!k.id){this.uuid+=1;k.id="dp"+this.uuid}i=this._newInst(e(k),j);i.settings=e.extend({},h||{});if(l==="input"){this._connectDatepicker(k,i)}else{if(j){this._inlineDatepicker(k,i)}}},_newInst:function(i,h){var j=i[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:j,input:i,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:h,dpDiv:(!h?this.dpDiv:d(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))}},_connectDatepicker:function(j,i){var h=e(j);i.append=e([]);i.trigger=e([]);if(h.hasClass(this.markerClassName)){return}this._attachments(h,i);h.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(i);e.data(j,f,i);if(i.settings.disabled){this._disableDatepicker(j)}},_attachments:function(j,m){var i,l,h,n=this._get(m,"appendText"),k=this._get(m,"isRTL");if(m.append){m.append.remove()}if(n){m.append=e("<span class='"+this._appendClass+"'>"+n+"</span>");j[k?"before":"after"](m.append)}j.unbind("focus",this._showDatepicker);if(m.trigger){m.trigger.remove()}i=this._get(m,"showOn");if(i==="focus"||i==="both"){j.focus(this._showDatepicker)}if(i==="button"||i==="both"){l=this._get(m,"buttonText");h=this._get(m,"buttonImage");m.trigger=e(this._get(m,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:h,alt:l,title:l}):e("<button type='button'></button>").addClass(this._triggerClass).html(!h?l:e("<img/>").attr({src:h,alt:l,title:l})));j[k?"before":"after"](m.trigger);m.trigger.click(function(){if(e.datepicker._datepickerShowing&&e.datepicker._lastInput===j[0]){e.datepicker._hideDatepicker()}else{if(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==j[0]){e.datepicker._hideDatepicker();e.datepicker._showDatepicker(j[0])}else{e.datepicker._showDatepicker(j[0])}}return false})}},_autoSize:function(o){if(this._get(o,"autoSize")&&!o.inline){var l,j,k,n,m=new Date(2009,12-1,20),h=this._get(o,"dateFormat");if(h.match(/[DM]/)){l=function(i){j=0;k=0;for(n=0;n<i.length;n++){if(i[n].length>j){j=i[n].length;k=n}}return k};m.setMonth(l(this._get(o,(h.match(/MM/)?"monthNames":"monthNamesShort"))));m.setDate(l(this._get(o,(h.match(/DD/)?"dayNames":"dayNamesShort")))+20-m.getDay())}o.input.attr("size",this._formatDate(o,m).length)}},_inlineDatepicker:function(i,h){var j=e(i);if(j.hasClass(this.markerClassName)){return}j.addClass(this.markerClassName).append(h.dpDiv);e.data(i,f,h);this._setDate(h,this._getDefaultDate(h),true);this._updateDatepicker(h);this._updateAlternate(h);if(h.settings.disabled){this._disableDatepicker(i)}h.dpDiv.css("display","block")},_dialogDatepicker:function(o,i,m,j,n){var h,r,l,q,p,k=this._dialogInst;if(!k){this.uuid+=1;h="dp"+this.uuid;this._dialogInput=e("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);e("body").append(this._dialogInput);k=this._dialogInst=this._newInst(this._dialogInput,false);k.settings={};e.data(this._dialogInput[0],f,k)}a(k.settings,j||{});i=(i&&i.constructor===Date?this._formatDate(k,i):i);this._dialogInput.val(i);this._pos=(n?(n.length?n:[n.pageX,n.pageY]):null);if(!this._pos){r=document.documentElement.clientWidth;l=document.documentElement.clientHeight;q=document.documentElement.scrollLeft||document.body.scrollLeft;p=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(r/2)-100+q,(l/2)-150+p]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");k.settings.onSelect=m;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(e.blockUI){e.blockUI(this.dpDiv)}e.data(this._dialogInput[0],f,k);return this},_destroyDatepicker:function(j){var k,h=e(j),i=e.data(j,f);if(!h.hasClass(this.markerClassName)){return}k=j.nodeName.toLowerCase();e.removeData(j,f);if(k==="input"){i.append.remove();i.trigger.remove();h.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(k==="div"||k==="span"){h.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(k){var l,j,h=e(k),i=e.data(k,f);if(!h.hasClass(this.markerClassName)){return}l=k.nodeName.toLowerCase();if(l==="input"){k.disabled=false;i.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(l==="div"||l==="span"){j=h.children("."+this._inlineClass);j.children().removeClass("ui-state-disabled");j.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=e.map(this._disabledInputs,function(m){return(m===k?null:m)})},_disableDatepicker:function(k){var l,j,h=e(k),i=e.data(k,f);if(!h.hasClass(this.markerClassName)){return}l=k.nodeName.toLowerCase();if(l==="input"){k.disabled=true;i.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(l==="div"||l==="span"){j=h.children("."+this._inlineClass);j.children().addClass("ui-state-disabled");j.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=e.map(this._disabledInputs,function(m){return(m===k?null:m)});this._disabledInputs[this._disabledInputs.length]=k},_isDisabledDatepicker:function(j){if(!j){return false}for(var h=0;h<this._disabledInputs.length;h++){if(this._disabledInputs[h]===j){return true}}return false},_getInst:function(i){try{return e.data(i,f)}catch(h){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,i,m){var j,h,l,o,k=this._getInst(n);if(arguments.length===2&&typeof i==="string"){return(i==="defaults"?e.extend({},e.datepicker._defaults):(k?(i==="all"?e.extend({},k.settings):this._get(k,i)):null))}j=i||{};if(typeof i==="string"){j={};j[i]=m}if(k){if(this._curInst===k){this._hideDatepicker()}h=this._getDateDatepicker(n,true);l=this._getMinMaxDate(k,"min");o=this._getMinMaxDate(k,"max");a(k.settings,j);if(l!==null&&j.dateFormat!==g&&j.minDate===g){k.settings.minDate=this._formatDate(k,l)}if(o!==null&&j.dateFormat!==g&&j.maxDate===g){k.settings.maxDate=this._formatDate(k,o)}if("disabled" in j){if(j.disabled){this._disableDatepicker(n)}else{this._enableDatepicker(n)}}this._attachments(e(n),k);this._autoSize(k);this._setDate(k,h);this._updateAlternate(k);this._updateDatepicker(k)}},_changeDatepicker:function(j,h,i){this._optionDatepicker(j,h,i)},_refreshDatepicker:function(i){var h=this._getInst(i);if(h){this._updateDatepicker(h)}},_setDateDatepicker:function(j,h){var i=this._getInst(j);if(i){this._setDate(i,h);this._updateDatepicker(i);this._updateAlternate(i)}},_getDateDatepicker:function(j,h){var i=this._getInst(j);if(i&&!i.inline){this._setDateFromField(i,h)}return(i?this._getDate(i):null)},_doKeyDown:function(k){var i,h,m,l=e.datepicker._getInst(k.target),n=true,j=l.dpDiv.is(".ui-datepicker-rtl");l._keyEvent=true;if(e.datepicker._datepickerShowing){switch(k.keyCode){case 9:e.datepicker._hideDatepicker();n=false;break;case 13:m=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",l.dpDiv);if(m[0]){e.datepicker._selectDay(k.target,l.selectedMonth,l.selectedYear,m[0])}i=e.datepicker._get(l,"onSelect");if(i){h=e.datepicker._formatDate(l);i.apply((l.input?l.input[0]:null),[h,l])}else{e.datepicker._hideDatepicker()}return false;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(k.target,(k.ctrlKey?-e.datepicker._get(l,"stepBigMonths"):-e.datepicker._get(l,"stepMonths")),"M");break;case 34:e.datepicker._adjustDate(k.target,(k.ctrlKey?+e.datepicker._get(l,"stepBigMonths"):+e.datepicker._get(l,"stepMonths")),"M");break;case 35:if(k.ctrlKey||k.metaKey){e.datepicker._clearDate(k.target)}n=k.ctrlKey||k.metaKey;break;case 36:if(k.ctrlKey||k.metaKey){e.datepicker._gotoToday(k.target)}n=k.ctrlKey||k.metaKey;break;case 37:if(k.ctrlKey||k.metaKey){e.datepicker._adjustDate(k.target,(j?+1:-1),"D")}n=k.ctrlKey||k.metaKey;if(k.originalEvent.altKey){e.datepicker._adjustDate(k.target,(k.ctrlKey?-e.datepicker._get(l,"stepBigMonths"):-e.datepicker._get(l,"stepMonths")),"M")}break;case 38:if(k.ctrlKey||k.metaKey){e.datepicker._adjustDate(k.target,-7,"D")}n=k.ctrlKey||k.metaKey;break;case 39:if(k.ctrlKey||k.metaKey){e.datepicker._adjustDate(k.target,(j?-1:+1),"D")}n=k.ctrlKey||k.metaKey;if(k.originalEvent.altKey){e.datepicker._adjustDate(k.target,(k.ctrlKey?+e.datepicker._get(l,"stepBigMonths"):+e.datepicker._get(l,"stepMonths")),"M")}break;case 40:if(k.ctrlKey||k.metaKey){e.datepicker._adjustDate(k.target,+7,"D")}n=k.ctrlKey||k.metaKey;break;default:n=false}}else{if(k.keyCode===36&&k.ctrlKey){e.datepicker._showDatepicker(this)}else{n=false}}if(n){k.preventDefault();k.stopPropagation()}},_doKeyPress:function(j){var i,h,k=e.datepicker._getInst(j.target);if(e.datepicker._get(k,"constrainInput")){i=e.datepicker._possibleChars(e.datepicker._get(k,"dateFormat"));h=String.fromCharCode(j.charCode==null?j.keyCode:j.charCode);return j.ctrlKey||j.metaKey||(h<" "||!i||i.indexOf(h)>-1)}},_doKeyUp:function(j){var h,k=e.datepicker._getInst(j.target);if(k.input.val()!==k.lastVal){try{h=e.datepicker.parseDate(e.datepicker._get(k,"dateFormat"),(k.input?k.input.val():null),e.datepicker._getFormatConfig(k));if(h){e.datepicker._setDateFromField(k);e.datepicker._updateAlternate(k);e.datepicker._updateDatepicker(k)}}catch(i){}}return true},_showDatepicker:function(i){i=i.target||i;if(i.nodeName.toLowerCase()!=="input"){i=e("input",i.parentNode)[0]}if(e.datepicker._isDisabledDatepicker(i)||e.datepicker._lastInput===i){return}var k,o,j,m,n,h,l;k=e.datepicker._getInst(i);if(e.datepicker._curInst&&e.datepicker._curInst!==k){e.datepicker._curInst.dpDiv.stop(true,true);if(k&&e.datepicker._datepickerShowing){e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])}}o=e.datepicker._get(k,"beforeShow");j=o?o.apply(i,[i,k]):{};if(j===false){return}a(k.settings,j);k.lastVal=null;e.datepicker._lastInput=i;e.datepicker._setDateFromField(k);if(e.datepicker._inDialog){i.value=""}if(!e.datepicker._pos){e.datepicker._pos=e.datepicker._findPos(i);e.datepicker._pos[1]+=i.offsetHeight}m=false;e(i).parents().each(function(){m|=e(this).css("position")==="fixed";return !m});n={left:e.datepicker._pos[0],top:e.datepicker._pos[1]};e.datepicker._pos=null;k.dpDiv.empty();k.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});e.datepicker._updateDatepicker(k);n=e.datepicker._checkOffset(k,n,m);k.dpDiv.css({position:(e.datepicker._inDialog&&e.blockUI?"static":(m?"fixed":"absolute")),display:"none",left:n.left+"px",top:n.top+"px"});if(!k.inline){h=e.datepicker._get(k,"showAnim");l=e.datepicker._get(k,"duration");k.dpDiv.zIndex(e(i).zIndex()+1);e.datepicker._datepickerShowing=true;if(e.effects&&e.effects.effect[h]){k.dpDiv.show(h,e.datepicker._get(k,"showOptions"),l)}else{k.dpDiv[h||"show"](h?l:null)}if(e.datepicker._shouldFocusInput(k)){k.input.focus()}e.datepicker._curInst=k}},_updateDatepicker:function(j){this.maxRows=4;c=j;j.dpDiv.empty().append(this._generateHTML(j));this._attachHandlers(j);j.dpDiv.find("."+this._dayOverClass+" a").mouseover();var l,h=this._getNumberOfMonths(j),k=h[1],i=17;j.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(k>1){j.dpDiv.addClass("ui-datepicker-multi-"+k).css("width",(i*k)+"em")}j.dpDiv[(h[0]!==1||h[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");j.dpDiv[(this._get(j,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(j===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(j)){j.input.focus()}if(j.yearshtml){l=j.yearshtml;setTimeout(function(){if(l===j.yearshtml&&j.yearshtml){j.dpDiv.find("select.ui-datepicker-year:first").replaceWith(j.yearshtml)}l=j.yearshtml=null},0)}},_shouldFocusInput:function(h){return h.input&&h.input.is(":visible")&&!h.input.is(":disabled")&&!h.input.is(":focus")},_checkOffset:function(m,k,j){var l=m.dpDiv.outerWidth(),p=m.dpDiv.outerHeight(),o=m.input?m.input.outerWidth():0,h=m.input?m.input.outerHeight():0,n=document.documentElement.clientWidth+(j?0:e(document).scrollLeft()),i=document.documentElement.clientHeight+(j?0:e(document).scrollTop());k.left-=(this._get(m,"isRTL")?(l-o):0);k.left-=(j&&k.left===m.input.offset().left)?e(document).scrollLeft():0;k.top-=(j&&k.top===(m.input.offset().top+h))?e(document).scrollTop():0;k.left-=Math.min(k.left,(k.left+l>n&&n>l)?Math.abs(k.left+l-n):0);k.top-=Math.min(k.top,(k.top+p>i&&i>p)?Math.abs(p+h):0);return k},_findPos:function(k){var h,j=this._getInst(k),i=this._get(j,"isRTL");while(k&&(k.type==="hidden"||k.nodeType!==1||e.expr.filters.hidden(k))){k=k[i?"previousSibling":"nextSibling"]}h=e(k).offset();return[h.left,h.top]},_hideDatepicker:function(j){var i,m,l,h,k=this._curInst;if(!k||(j&&k!==e.data(j,f))){return}if(this._datepickerShowing){i=this._get(k,"showAnim");m=this._get(k,"duration");l=function(){e.datepicker._tidyDialog(k)};if(e.effects&&(e.effects.effect[i]||e.effects[i])){k.dpDiv.hide(i,e.datepicker._get(k,"showOptions"),m,l)}else{k.dpDiv[(i==="slideDown"?"slideUp":(i==="fadeIn"?"fadeOut":"hide"))]((i?m:null),l)}if(!i){l()}this._datepickerShowing=false;h=this._get(k,"onClose");if(h){h.apply((k.input?k.input[0]:null),[(k.input?k.input.val():""),k])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(e.blockUI){e.unblockUI();e("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(h){h.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(i){if(!e.datepicker._curInst){return}var h=e(i.target),j=e.datepicker._getInst(h[0]);if(((h[0].id!==e.datepicker._mainDivId&&h.parents("#"+e.datepicker._mainDivId).length===0&&!h.hasClass(e.datepicker.markerClassName)&&!h.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&!(e.datepicker._inDialog&&e.blockUI)))||(h.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==j)){e.datepicker._hideDatepicker()}},_adjustDate:function(l,k,j){var i=e(l),h=this._getInst(i[0]);if(this._isDisabledDatepicker(i[0])){return}this._adjustInstDate(h,k+(j==="M"?this._get(h,"showCurrentAtPos"):0),j);this._updateDatepicker(h)},_gotoToday:function(k){var h,j=e(k),i=this._getInst(j[0]);if(this._get(i,"gotoCurrent")&&i.currentDay){i.selectedDay=i.currentDay;i.drawMonth=i.selectedMonth=i.currentMonth;i.drawYear=i.selectedYear=i.currentYear}else{h=new Date();i.selectedDay=h.getDate();i.drawMonth=i.selectedMonth=h.getMonth();i.drawYear=i.selectedYear=h.getFullYear()}this._notifyChange(i);this._adjustDate(j)},_selectMonthYear:function(l,h,k){var j=e(l),i=this._getInst(j[0]);i["selected"+(k==="M"?"Month":"Year")]=i["draw"+(k==="M"?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10);this._notifyChange(i);this._adjustDate(j)},_selectDay:function(m,k,h,l){var i,j=e(m);if(e(l).hasClass(this._unselectableClass)||this._isDisabledDatepicker(j[0])){return}i=this._getInst(j[0]);i.selectedDay=i.currentDay=e("a",l).html();i.selectedMonth=i.currentMonth=k;i.selectedYear=i.currentYear=h;this._selectDate(m,this._formatDate(i,i.currentDay,i.currentMonth,i.currentYear))},_clearDate:function(i){var h=e(i);this._selectDate(h,"")},_selectDate:function(l,h){var i,k=e(l),j=this._getInst(k[0]);h=(h!=null?h:this._formatDate(j));if(j.input){j.input.val(h)}this._updateAlternate(j);i=this._get(j,"onSelect");if(i){i.apply((j.input?j.input[0]:null),[h,j])}else{if(j.input){j.input.trigger("change")}}if(j.inline){this._updateDatepicker(j)}else{this._hideDatepicker();this._lastInput=j.input[0];if(typeof(j.input[0])!=="object"){j.input.focus()}this._lastInput=null}},_updateAlternate:function(l){var k,j,h,i=this._get(l,"altField");if(i){k=this._get(l,"altFormat")||this._get(l,"dateFormat");j=this._getDate(l);h=this.formatDate(k,j,this._getFormatConfig(l));e(i).each(function(){e(this).val(h)})}},noWeekends:function(i){var h=i.getDay();return[(h>0&&h<6),""]},iso8601Week:function(h){var i,j=new Date(h.getTime());j.setDate(j.getDate()+4-(j.getDay()||7));i=j.getTime();j.setMonth(0);j.setDate(1);return Math.floor(Math.round((i-j)/86400000)/7)+1},parseDate:function(x,s,z){if(x==null||s==null){throw"Invalid arguments"}s=(typeof s==="object"?s.toString():s+"");if(s===""){return null}var k,u,i,y=0,n=(z?z.shortYearCutoff:null)||this._defaults.shortYearCutoff,j=(typeof n!=="string"?n:new Date().getFullYear()%100+parseInt(n,10)),q=(z?z.dayNamesShort:null)||this._defaults.dayNamesShort,B=(z?z.dayNames:null)||this._defaults.dayNames,h=(z?z.monthNamesShort:null)||this._defaults.monthNamesShort,l=(z?z.monthNames:null)||this._defaults.monthNames,m=-1,C=-1,w=-1,p=-1,v=false,A,r=function(E){var F=(k+1<x.length&&x.charAt(k+1)===E);if(F){k++}return F},D=function(G){var E=r(G),H=(G==="@"?14:(G==="!"?20:(G==="y"&&E?4:(G==="o"?3:2)))),I=new RegExp("^\\d{1,"+H+"}"),F=s.substring(y).match(I);if(!F){throw"Missing number at position "+y}y+=F[0].length;return parseInt(F[0],10)},o=function(F,G,I){var E=-1,H=e.map(r(F)?I:G,function(K,J){return[[J,K]]}).sort(function(K,J){return -(K[1].length-J[1].length)});e.each(H,function(K,L){var J=L[1];if(s.substr(y,J.length).toLowerCase()===J.toLowerCase()){E=L[0];y+=J.length;return false}});if(E!==-1){return E+1}else{throw"Unknown name at position "+y}},t=function(){if(s.charAt(y)!==x.charAt(k)){throw"Unexpected literal at position "+y}y++};for(k=0;k<x.length;k++){if(v){if(x.charAt(k)==="'"&&!r("'")){v=false}else{t()}}else{switch(x.charAt(k)){case"d":w=D("d");break;case"D":o("D",q,B);break;case"o":p=D("o");break;case"m":C=D("m");break;case"M":C=o("M",h,l);break;case"y":m=D("y");break;case"@":A=new Date(D("@"));m=A.getFullYear();C=A.getMonth()+1;w=A.getDate();break;case"!":A=new Date((D("!")-this._ticksTo1970)/10000);m=A.getFullYear();C=A.getMonth()+1;w=A.getDate();break;case"'":if(r("'")){t()}else{v=true}break;default:t()}}}if(y<s.length){i=s.substr(y);if(!/^\s+/.test(i)){throw"Extra/unparsed characters found in date: "+i}}if(m===-1){m=new Date().getFullYear()}else{if(m<100){m+=new Date().getFullYear()-new Date().getFullYear()%100+(m<=j?0:-100)}}if(p>-1){C=1;w=p;do{u=this._getDaysInMonth(m,C-1);if(w<=u){break}C++;w-=u}while(true)}A=this._daylightSavingAdjust(new Date(m,C-1,w));if(A.getFullYear()!==m||A.getMonth()+1!==C||A.getDate()!==w){throw"Invalid date"}return A},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(q,k,l){if(!k){return""}var s,t=(l?l.dayNamesShort:null)||this._defaults.dayNamesShort,i=(l?l.dayNames:null)||this._defaults.dayNames,o=(l?l.monthNamesShort:null)||this._defaults.monthNamesShort,m=(l?l.monthNames:null)||this._defaults.monthNames,r=function(u){var v=(s+1<q.length&&q.charAt(s+1)===u);if(v){s++}return v},h=function(w,x,u){var v=""+x;if(r(w)){while(v.length<u){v="0"+v}}return v},n=function(u,w,v,x){return(r(u)?x[w]:v[w])},j="",p=false;if(k){for(s=0;s<q.length;s++){if(p){if(q.charAt(s)==="'"&&!r("'")){p=false}else{j+=q.charAt(s)}}else{switch(q.charAt(s)){case"d":j+=h("d",k.getDate(),2);break;case"D":j+=n("D",k.getDay(),t,i);break;case"o":j+=h("o",Math.round((new Date(k.getFullYear(),k.getMonth(),k.getDate()).getTime()-new Date(k.getFullYear(),0,0).getTime())/86400000),3);break;case"m":j+=h("m",k.getMonth()+1,2);break;case"M":j+=n("M",k.getMonth(),o,m);break;case"y":j+=(r("y")?k.getFullYear():(k.getYear()%100<10?"0":"")+k.getYear()%100);break;case"@":j+=k.getTime();break;case"!":j+=k.getTime()*10000+this._ticksTo1970;break;case"'":if(r("'")){j+="'"}else{p=true}break;default:j+=q.charAt(s)}}}}return j},_possibleChars:function(l){var k,j="",i=false,h=function(m){var n=(k+1<l.length&&l.charAt(k+1)===m);if(n){k++}return n};for(k=0;k<l.length;k++){if(i){if(l.charAt(k)==="'"&&!h("'")){i=false}else{j+=l.charAt(k)}}else{switch(l.charAt(k)){case"d":case"m":case"y":case"@":j+="0123456789";break;case"D":case"M":return null;case"'":if(h("'")){j+="'"}else{i=true}break;default:j+=l.charAt(k)}}}return j},_get:function(i,h){return i.settings[h]!==g?i.settings[h]:this._defaults[h]},_setDateFromField:function(m,j){if(m.input.val()===m.lastVal){return}var h=this._get(m,"dateFormat"),o=m.lastVal=m.input?m.input.val():null,n=this._getDefaultDate(m),i=n,k=this._getFormatConfig(m);try{i=this.parseDate(h,o,k)||n}catch(l){o=(j?"":o)}m.selectedDay=i.getDate();m.drawMonth=m.selectedMonth=i.getMonth();m.drawYear=m.selectedYear=i.getFullYear();m.currentDay=(o?i.getDate():0);m.currentMonth=(o?i.getMonth():0);m.currentYear=(o?i.getFullYear():0);this._adjustInstDate(m)},_getDefaultDate:function(h){return this._restrictMinMax(h,this._determineDate(h,this._get(h,"defaultDate"),new Date()))},_determineDate:function(l,i,m){var k=function(o){var n=new Date();n.setDate(n.getDate()+o);return n},j=function(u){try{return e.datepicker.parseDate(e.datepicker._get(l,"dateFormat"),u,e.datepicker._getFormatConfig(l))}catch(t){}var o=(u.toLowerCase().match(/^c/)?e.datepicker._getDate(l):null)||new Date(),p=o.getFullYear(),s=o.getMonth(),n=o.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,q=r.exec(u);while(q){switch(q[2]||"d"){case"d":case"D":n+=parseInt(q[1],10);break;case"w":case"W":n+=parseInt(q[1],10)*7;break;case"m":case"M":s+=parseInt(q[1],10);n=Math.min(n,e.datepicker._getDaysInMonth(p,s));break;case"y":case"Y":p+=parseInt(q[1],10);n=Math.min(n,e.datepicker._getDaysInMonth(p,s));break}q=r.exec(u)}return new Date(p,s,n)},h=(i==null||i===""?m:(typeof i==="string"?j(i):(typeof i==="number"?(isNaN(i)?m:k(i)):new Date(i.getTime()))));h=(h&&h.toString()==="Invalid Date"?m:h);if(h){h.setHours(0);h.setMinutes(0);h.setSeconds(0);h.setMilliseconds(0)}return this._daylightSavingAdjust(h)},_daylightSavingAdjust:function(h){if(!h){return null}h.setHours(h.getHours()>12?h.getHours()+2:0);return h},_setDate:function(n,k,m){var h=!k,j=n.selectedMonth,l=n.selectedYear,i=this._restrictMinMax(n,this._determineDate(n,k,new Date()));n.selectedDay=n.currentDay=i.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=i.getMonth();n.drawYear=n.selectedYear=n.currentYear=i.getFullYear();if((j!==n.selectedMonth||l!==n.selectedYear)&&!m){this._notifyChange(n)}this._adjustInstDate(n);if(n.input){n.input.val(h?"":this._formatDate(n))}},_getDate:function(i){var h=(!i.currentYear||(i.input&&i.input.val()==="")?null:this._daylightSavingAdjust(new Date(i.currentYear,i.currentMonth,i.currentDay)));return h},_attachHandlers:function(i){var h=this._get(i,"stepMonths"),j="#"+i.id.replace(/\\\\/g,"\\");i.dpDiv.find("[data-handler]").map(function(){var k={prev:function(){e.datepicker._adjustDate(j,-h,"M")},next:function(){e.datepicker._adjustDate(j,+h,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(j)},selectDay:function(){e.datepicker._selectDay(j,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){e.datepicker._selectMonthYear(j,this,"M");return false},selectYear:function(){e.datepicker._selectMonthYear(j,this,"Y");return false}};e(this).bind(this.getAttribute("data-event"),k[this.getAttribute("data-handler")])})},_generateHTML:function(X){var A,z,S,K,l,ab,V,O,ae,I,ai,s,u,t,i,aa,q,D,ad,Q,aj,C,H,r,m,T,M,P,N,p,F,v,W,Z,k,ac,ag,L,w,Y=new Date(),B=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),af=this._get(X,"isRTL"),ah=this._get(X,"showButtonPanel"),R=this._get(X,"hideIfNoPrevNext"),G=this._get(X,"navigationAsDateFormat"),x=this._getNumberOfMonths(X),o=this._get(X,"showCurrentAtPos"),J=this._get(X,"stepMonths"),E=(x[0]!==1||x[1]!==1),j=this._daylightSavingAdjust((!X.currentDay?new Date(9999,9,9):new Date(X.currentYear,X.currentMonth,X.currentDay))),n=this._getMinMaxDate(X,"min"),y=this._getMinMaxDate(X,"max"),h=X.drawMonth-o,U=X.drawYear;if(h<0){h+=12;U--}if(y){A=this._daylightSavingAdjust(new Date(y.getFullYear(),y.getMonth()-(x[0]*x[1])+1,y.getDate()));A=(n&&A<n?n:A);while(this._daylightSavingAdjust(new Date(U,h,1))>A){h--;if(h<0){h=11;U--}}}X.drawMonth=h;X.drawYear=U;z=this._get(X,"prevText");z=(!G?z:this.formatDate(z,this._daylightSavingAdjust(new Date(U,h-J,1)),this._getFormatConfig(X)));S=(this._canAdjustMonth(X,-1,U,h)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+z+"'><span class='ui-icon ui-icon-circle-triangle-"+(af?"e":"w")+"'>"+z+"</span></a>":(R?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+z+"'><span class='ui-icon ui-icon-circle-triangle-"+(af?"e":"w")+"'>"+z+"</span></a>"));K=this._get(X,"nextText");K=(!G?K:this.formatDate(K,this._daylightSavingAdjust(new Date(U,h+J,1)),this._getFormatConfig(X)));l=(this._canAdjustMonth(X,+1,U,h)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+K+"'><span class='ui-icon ui-icon-circle-triangle-"+(af?"w":"e")+"'>"+K+"</span></a>":(R?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+K+"'><span class='ui-icon ui-icon-circle-triangle-"+(af?"w":"e")+"'>"+K+"</span></a>"));ab=this._get(X,"currentText");V=(this._get(X,"gotoCurrent")&&X.currentDay?j:B);ab=(!G?ab:this.formatDate(ab,V,this._getFormatConfig(X)));O=(!X.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(X,"closeText")+"</button>":"");ae=(ah)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(af?O:"")+(this._isInRange(X,V)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+ab+"</button>":"")+(af?"":O)+"</div>":"";I=parseInt(this._get(X,"firstDay"),10);I=(isNaN(I)?0:I);ai=this._get(X,"showWeek");s=this._get(X,"dayNames");u=this._get(X,"dayNamesMin");t=this._get(X,"monthNames");i=this._get(X,"monthNamesShort");aa=this._get(X,"beforeShowDay");q=this._get(X,"showOtherMonths");D=this._get(X,"selectOtherMonths");ad=this._getDefaultDate(X);Q="";aj;for(C=0;C<x[0];C++){H="";this.maxRows=4;for(r=0;r<x[1];r++){m=this._daylightSavingAdjust(new Date(U,h,X.selectedDay));T=" ui-corner-all";M="";if(E){M+="<div class='ui-datepicker-group";if(x[1]>1){switch(r){case 0:M+=" ui-datepicker-group-first";T=" ui-corner-"+(af?"right":"left");break;case x[1]-1:M+=" ui-datepicker-group-last";T=" ui-corner-"+(af?"left":"right");break;default:M+=" ui-datepicker-group-middle";T="";break}}M+="'>"}M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&C===0?(af?l:S):"")+(/all|right/.test(T)&&C===0?(af?S:l):"")+this._generateMonthYearHeader(X,h,U,n,y,C>0||r>0,t,i)+"</div><table class='ui-datepicker-calendar'><thead><tr>";P=(ai?"<th class='ui-datepicker-week-col'>"+this._get(X,"weekHeader")+"</th>":"");for(aj=0;aj<7;aj++){N=(aj+I)%7;P+="<th"+((aj+I+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+s[N]+"'>"+u[N]+"</span></th>"}M+=P+"</tr></thead><tbody>";p=this._getDaysInMonth(U,h);if(U===X.selectedYear&&h===X.selectedMonth){X.selectedDay=Math.min(X.selectedDay,p)}F=(this._getFirstDayOfMonth(U,h)-I+7)%7;v=Math.ceil((F+p)/7);W=(E?this.maxRows>v?this.maxRows:v:v);this.maxRows=W;Z=this._daylightSavingAdjust(new Date(U,h,1-F));for(k=0;k<W;k++){M+="<tr>";ac=(!ai?"":"<td class='ui-datepicker-week-col'>"+this._get(X,"calculateWeek")(Z)+"</td>");for(aj=0;aj<7;aj++){ag=(aa?aa.apply((X.input?X.input[0]:null),[Z]):[true,""]);L=(Z.getMonth()!==h);w=(L&&!D)||!ag[0]||(n&&Z<n)||(y&&Z>y);ac+="<td class='"+((aj+I+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+((Z.getTime()===m.getTime()&&h===X.selectedMonth&&X._keyEvent)||(ad.getTime()===Z.getTime()&&ad.getTime()===m.getTime())?" "+this._dayOverClass:"")+(w?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!q?"":" "+ag[1]+(Z.getTime()===j.getTime()?" "+this._currentClass:"")+(Z.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+((!L||q)&&ag[2]?" title='"+ag[2].replace(/'/g,"&#39;")+"'":"")+(w?"":" data-handler='selectDay' data-event='click' data-month='"+Z.getMonth()+"' data-year='"+Z.getFullYear()+"'")+">"+(L&&!q?"&#xa0;":(w?"<span class='ui-state-default'>"+Z.getDate()+"</span>":"<a class='ui-state-default"+(Z.getTime()===B.getTime()?" ui-state-highlight":"")+(Z.getTime()===j.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+Z.getDate()+"</a>"))+"</td>";Z.setDate(Z.getDate()+1);Z=this._daylightSavingAdjust(Z)}M+=ac+"</tr>"}h++;if(h>11){h=0;U++}M+="</tbody></table>"+(E?"</div>"+((x[0]>0&&r===x[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");H+=M}Q+=H}Q+=ae;X._keyEvent=false;return Q},_generateMonthYearHeader:function(l,j,t,n,r,u,p,h){var y,i,z,w,m,v,s,o,k=this._get(l,"changeMonth"),A=this._get(l,"changeYear"),B=this._get(l,"showMonthAfterYear"),q="<div class='ui-datepicker-title'>",x="";if(u||!k){x+="<span class='ui-datepicker-month'>"+p[j]+"</span>"}else{y=(n&&n.getFullYear()===t);i=(r&&r.getFullYear()===t);x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(z=0;z<12;z++){if((!y||z>=n.getMonth())&&(!i||z<=r.getMonth())){x+="<option value='"+z+"'"+(z===j?" selected='selected'":"")+">"+h[z]+"</option>"}}x+="</select>"}if(!B){q+=x+(u||!(k&&A)?"&#xa0;":"")}if(!l.yearshtml){l.yearshtml="";if(u||!A){q+="<span class='ui-datepicker-year'>"+t+"</span>"}else{w=this._get(l,"yearRange").split(":");m=new Date().getFullYear();v=function(D){var C=(D.match(/c[+\-].*/)?t+parseInt(D.substring(1),10):(D.match(/[+\-].*/)?m+parseInt(D,10):parseInt(D,10)));return(isNaN(C)?m:C)};s=v(w[0]);o=Math.max(s,v(w[1]||""));s=(n?Math.max(s,n.getFullYear()):s);o=(r?Math.min(o,r.getFullYear()):o);l.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;s<=o;s++){l.yearshtml+="<option value='"+s+"'"+(s===t?" selected='selected'":"")+">"+s+"</option>"}l.yearshtml+="</select>";q+=l.yearshtml;l.yearshtml=null}}q+=this._get(l,"yearSuffix");if(B){q+=(u||!(k&&A)?"&#xa0;":"")+x}q+="</div>";return q},_adjustInstDate:function(k,n,m){var j=k.drawYear+(m==="Y"?n:0),l=k.drawMonth+(m==="M"?n:0),h=Math.min(k.selectedDay,this._getDaysInMonth(j,l))+(m==="D"?n:0),i=this._restrictMinMax(k,this._daylightSavingAdjust(new Date(j,l,h)));k.selectedDay=i.getDate();k.drawMonth=k.selectedMonth=i.getMonth();k.drawYear=k.selectedYear=i.getFullYear();if(m==="M"||m==="Y"){this._notifyChange(k)}},_restrictMinMax:function(k,i){var j=this._getMinMaxDate(k,"min"),l=this._getMinMaxDate(k,"max"),h=(j&&i<j?j:i);return(l&&h>l?l:h)},_notifyChange:function(i){var h=this._get(i,"onChangeMonthYear");if(h){h.apply((i.input?i.input[0]:null),[i.selectedYear,i.selectedMonth+1,i])}},_getNumberOfMonths:function(i){var h=this._get(i,"numberOfMonths");return(h==null?[1,1]:(typeof h==="number"?[1,h]:h))},_getMinMaxDate:function(i,h){return this._determineDate(i,this._get(i,h+"Date"),null)},_getDaysInMonth:function(h,i){return 32-this._daylightSavingAdjust(new Date(h,i,32)).getDate()},_getFirstDayOfMonth:function(h,i){return new Date(h,i,1).getDay()},_canAdjustMonth:function(k,m,j,l){var h=this._getNumberOfMonths(k),i=this._daylightSavingAdjust(new Date(j,l+(m<0?m:h[0]*h[1]),1));if(m<0){i.setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth()))}return this._isInRange(k,i)},_isInRange:function(l,j){var i,o,k=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),p=null,m=null,n=this._get(l,"yearRange");if(n){i=n.split(":");o=new Date().getFullYear();p=parseInt(i[0],10);m=parseInt(i[1],10);if(i[0].match(/[+\-].*/)){p+=o}if(i[1].match(/[+\-].*/)){m+=o}}return((!k||j.getTime()>=k.getTime())&&(!h||j.getTime()<=h.getTime())&&(!p||j.getFullYear()>=p)&&(!m||j.getFullYear()<=m))},_getFormatConfig:function(h){var i=this._get(h,"shortYearCutoff");i=(typeof i!=="string"?i:new Date().getFullYear()%100+parseInt(i,10));return{shortYearCutoff:i,dayNamesShort:this._get(h,"dayNamesShort"),dayNames:this._get(h,"dayNames"),monthNamesShort:this._get(h,"monthNamesShort"),monthNames:this._get(h,"monthNames")}},_formatDate:function(k,h,l,j){if(!h){k.currentDay=k.selectedDay;k.currentMonth=k.selectedMonth;k.currentYear=k.selectedYear}var i=(h?(typeof h==="object"?h:this._daylightSavingAdjust(new Date(j,l,h))):this._daylightSavingAdjust(new Date(k.currentYear,k.currentMonth,k.currentDay)));return this.formatDate(this._get(k,"dateFormat"),i,this._getFormatConfig(k))}});function d(i){var h="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return i.delegate(h,"mouseout",function(){e(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).removeClass("ui-datepicker-next-hover")}}).delegate(h,"mouseover",function(){if(!e.datepicker._isDisabledDatepicker(c.inline?i.parent()[0]:c.input[0])){e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");e(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).addClass("ui-datepicker-next-hover")}}})}function a(j,i){e.extend(j,i);for(var h in i){if(i[h]==null){j[h]=i[h]}}return j}e.fn.datepicker=function(i){if(!this.length){return this}if(!e.datepicker.initialized){e(document).mousedown(e.datepicker._checkExternalClick);e.datepicker.initialized=true}if(e("#"+e.datepicker._mainDivId).length===0){e("body").append(e.datepicker.dpDiv)}var h=Array.prototype.slice.call(arguments,1);if(typeof i==="string"&&(i==="isDisabled"||i==="getDate"||i==="widget")){return e.datepicker["_"+i+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))}if(i==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return e.datepicker["_"+i+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))}return this.each(function(){typeof i==="string"?e.datepicker["_"+i+"Datepicker"].apply(e.datepicker,[this].concat(h)):e.datepicker._attachDatepicker(this,i)})};e.datepicker=new b();e.datepicker.initialized=false;e.datepicker.uuid=new Date().getTime();e.datepicker.version="1.10.4"})(jQuery);(function(c,d){var a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},b={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};c.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(f){var e=c(this).css(f).offset().top;if(e<0){c(this).css("top",f.top-e)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&c.fn.draggable){this._makeDraggable()}if(this.options.resizable&&c.fn.resizable){this._makeResizable()}this._isOpen=false},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var e=this.options.appendTo;if(e&&(e.jquery||e.nodeType)){return c(e)}return this.document.find(e||"body").eq(0)},_destroy:function(){var f,e=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}f=e.parent.children().eq(e.index);if(f.length&&f[0]!==this.element[0]){f.before(this.element)}else{e.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:c.noop,enable:c.noop,close:function(h){var g,f=this;if(!this._isOpen||this._trigger("beforeClose",h)===false){return}this._isOpen=false;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length){try{g=this.document[0].activeElement;if(g&&g.nodeName.toLowerCase()!=="body"){c(g).blur()}}catch(e){}}this._hide(this.uiDialog,this.options.hide,function(){f._trigger("close",h)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(g,e){var f=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;if(f&&!e){this._trigger("focus",g)}return f},open:function(){var e=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=c(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){e._focusTabbable();e._trigger("focus")});this._trigger("open")},_focusTabbable:function(){var e=this.element.find("[autofocus]");if(!e.length){e=this.element.find(":tabbable")}if(!e.length){e=this.uiDialogButtonPane.find(":tabbable")}if(!e.length){e=this.uiDialogTitlebarClose.filter(":tabbable")}if(!e.length){e=this.uiDialog}e.eq(0).focus()},_keepFocus:function(e){function f(){var h=this.document[0].activeElement,g=this.uiDialog[0]===h||c.contains(this.uiDialog[0],h);if(!g){this._focusTabbable()}}e.preventDefault();f.call(this);this._delay(f)},_createWrapper:function(){this.uiDialog=c("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(g){if(this.options.closeOnEscape&&!g.isDefaultPrevented()&&g.keyCode&&g.keyCode===c.ui.keyCode.ESCAPE){g.preventDefault();this.close(g);return}if(g.keyCode!==c.ui.keyCode.TAB){return}var f=this.uiDialog.find(":tabbable"),h=f.filter(":first"),e=f.filter(":last");if((g.target===e[0]||g.target===this.uiDialog[0])&&!g.shiftKey){h.focus(1);g.preventDefault()}else{if((g.target===h[0]||g.target===this.uiDialog[0])&&g.shiftKey){e.focus(1);g.preventDefault()}}},mousedown:function(e){if(this._moveToTop(e)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var e;this.uiDialogTitlebar=c("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(f){if(!c(f.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus()}}});this.uiDialogTitlebarClose=c("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(f){f.preventDefault();this.close(f)}});e=c("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(e);this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){if(!this.options.title){e.html("&#160;")}e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=c("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=c("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var f=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(c.isEmptyObject(e)||(c.isArray(e)&&!e.length)){this.uiDialog.removeClass("ui-dialog-buttons");return}c.each(e,function(g,h){var i,j;h=c.isFunction(h)?{click:h,text:g}:h;h=c.extend({type:"button"},h);i=h.click;h.click=function(){i.apply(f.element[0],arguments)};j={icons:h.icons,text:h.showText};delete h.icons;delete h.showText;c("<button></button>",h).button(j).appendTo(f.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var g=this,f=this.options;function e(h){return{position:h.position,offset:h.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(h,i){c(this).addClass("ui-dialog-dragging");g._blockFrames();g._trigger("dragStart",h,e(i))},drag:function(h,i){g._trigger("drag",h,e(i))},stop:function(h,i){f.position=[i.position.left-g.document.scrollLeft(),i.position.top-g.document.scrollTop()];c(this).removeClass("ui-dialog-dragging");g._unblockFrames();g._trigger("dragStop",h,e(i))}})},_makeResizable:function(){var j=this,h=this.options,i=h.resizable,e=this.uiDialog.css("position"),g=typeof i==="string"?i:"n,e,s,w,se,sw,ne,nw";function f(k){return{originalPosition:k.originalPosition,originalSize:k.originalSize,position:k.position,size:k.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:h.maxWidth,maxHeight:h.maxHeight,minWidth:h.minWidth,minHeight:this._minHeight(),handles:g,start:function(k,l){c(this).addClass("ui-dialog-resizing");j._blockFrames();j._trigger("resizeStart",k,f(l))},resize:function(k,l){j._trigger("resize",k,f(l))},stop:function(k,l){h.height=c(this).height();h.width=c(this).width();c(this).removeClass("ui-dialog-resizing");j._unblockFrames();j._trigger("resizeStop",k,f(l))}}).css("position",e)},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!e){this.uiDialog.hide()}},_setOptions:function(g){var h=this,f=false,e={};c.each(g,function(i,j){h._setOption(i,j);if(i in a){f=true}if(i in b){e[i]=j}});if(f){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",e)}},_setOption:function(g,h){var f,i,e=this.uiDialog;if(g==="dialogClass"){e.removeClass(this.options.dialogClass).addClass(h)}if(g==="disabled"){return}this._super(g,h);if(g==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(g==="buttons"){this._createButtons()}if(g==="closeText"){this.uiDialogTitlebarClose.button({label:""+h})}if(g==="draggable"){f=e.is(":data(ui-draggable)");if(f&&!h){e.draggable("destroy")}if(!f&&h){this._makeDraggable()}}if(g==="position"){this._position()}if(g==="resizable"){i=e.is(":data(ui-resizable)");if(i&&!h){e.resizable("destroy")}if(i&&typeof h==="string"){e.resizable("option","handles",h)}if(!i&&h!==false){this._makeResizable()}}if(g==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var e,g,h,f=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(f.minWidth>f.width){f.width=f.minWidth}e=this.uiDialog.css({height:"auto",width:f.width}).outerHeight();g=Math.max(0,f.minHeight-e);h=typeof f.maxHeight==="number"?Math.max(0,f.maxHeight-e):"none";if(f.height==="auto"){this.element.css({minHeight:g,maxHeight:h,height:"auto"})}else{this.element.height(Math.max(0,f.height-e))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=c(this);return c("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(e){if(c(e.target).closest(".ui-dialog").length){return true}return !!c(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var f=this,e=this.widgetFullName;if(!c.ui.dialog.overlayInstances){this._delay(function(){if(c.ui.dialog.overlayInstances){this.document.bind("focusin.dialog",function(g){if(!f._allowInteraction(g)){g.preventDefault();c(".ui-dialog:visible:last .ui-dialog-content").data(e)._focusTabbable()}})}})}this.overlay=c("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});c.ui.dialog.overlayInstances++},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){c.ui.dialog.overlayInstances--;if(!c.ui.dialog.overlayInstances){this.document.unbind("focusin.dialog")}this.overlay.remove();this.overlay=null}}});c.ui.dialog.overlayInstances=0;if(c.uiBackCompat!==false){c.widget("ui.dialog",c.ui.dialog,{_position:function(){var f=this.options.position,g=[],h=[0,0],e;if(f){if(typeof f==="string"||(typeof f==="object"&&"0" in f)){g=f.split?f.split(" "):[f[0],f[1]];if(g.length===1){g[1]=g[0]}c.each(["left","top"],function(k,j){if(+g[k]===g[k]){h[k]=g[k];g[k]=j}});f={my:g[0]+(h[0]<0?h[0]:"+"+h[0])+" "+g[1]+(h[1]<0?h[1]:"+"+h[1]),at:g.join(" ")}}f=c.extend({},c.ui.dialog.prototype.options.position,f)}else{f=c.ui.dialog.prototype.options.position}e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(f);if(!e){this.uiDialog.hide()}}})}}(jQuery));(function(b,d){var a=/up|down|vertical/,c=/up|left|vertical|horizontal/;b.effects.effect.blind=function(g,m){var h=b(this),q=["position","top","bottom","left","right","height","width"],n=b.effects.setMode(h,g.mode||"hide"),r=g.direction||"up",j=a.test(r),i=j?"height":"width",p=j?"top":"left",t=c.test(r),l={},s=n==="show",f,e,k;if(h.parent().is(".ui-effects-wrapper")){b.effects.save(h.parent(),q)}else{b.effects.save(h,q)}h.show();f=b.effects.createWrapper(h).css({overflow:"hidden"});e=f[i]();k=parseFloat(f.css(p))||0;l[i]=s?e:0;if(!t){h.css(j?"bottom":"right",0).css(j?"top":"left","auto").css({position:"absolute"});l[p]=s?k:e+k}if(s){f.css(i,0);if(!t){f.css(p,k+e)}}f.animate(l,{duration:g.duration,easing:g.easing,queue:false,complete:function(){if(n==="hide"){h.hide()}b.effects.restore(h,q);b.effects.removeWrapper(h);m()}})}})(jQuery);(function(a,b){a.effects.effect.bounce=function(m,l){var c=a(this),d=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(c,m.mode||"effect"),j=k==="hide",v=k==="show",w=m.direction||"up",e=m.distance,h=m.times||5,x=h*2+(v||j?1:0),u=m.duration/x,p=m.easing,f=(w==="up"||w==="down")?"top":"left",n=(w==="up"||w==="left"),t,g,s,q=c.queue(),r=q.length;if(v||j){d.push("opacity")}a.effects.save(c,d);c.show();a.effects.createWrapper(c);if(!e){e=c[f==="top"?"outerHeight":"outerWidth"]()/3}if(v){s={opacity:1};s[f]=0;c.css("opacity",0).css(f,n?-e*2:e*2).animate(s,u,p)}if(j){e=e/Math.pow(2,h-1)}s={};s[f]=0;for(t=0;t<h;t++){g={};g[f]=(n?"-=":"+=")+e;c.animate(g,u,p).animate(s,u,p);e=j?e*2:e/2}if(j){g={opacity:0};g[f]=(n?"-=":"+=")+e;c.animate(g,u,p)}c.queue(function(){if(j){c.hide()}a.effects.restore(c,d);a.effects.removeWrapper(c);l()});if(r>1){q.splice.apply(q,[1,0].concat(q.splice(r,x+1)))}c.dequeue()}})(jQuery);(function(a,b){a.effects.effect.clip=function(f,i){var g=a(this),m=["position","top","bottom","left","right","height","width"],l=a.effects.setMode(g,f.mode||"hide"),p=l==="show",n=f.direction||"vertical",k=n==="vertical",q=k?"height":"width",j=k?"top":"left",h={},d,e,c;a.effects.save(g,m);g.show();d=a.effects.createWrapper(g).css({overflow:"hidden"});e=(g[0].tagName==="IMG")?d:g;c=e[q]();if(p){e.css(q,0);e.css(j,c/2)}h[q]=p?c:0;h[j]=p?0:c/2;e.animate(h,{queue:false,duration:f.duration,easing:f.easing,complete:function(){if(!p){g.hide()}a.effects.restore(g,m);a.effects.removeWrapper(g);i()}})}})(jQuery);(function(a,b){a.effects.effect.drop=function(d,h){var e=a(this),j=["position","top","bottom","left","right","opacity","height","width"],i=a.effects.setMode(e,d.mode||"hide"),l=i==="show",k=d.direction||"left",f=(k==="up"||k==="down")?"top":"left",m=(k==="up"||k==="left")?"pos":"neg",g={opacity:l?1:0},c;a.effects.save(e,j);e.show();a.effects.createWrapper(e);c=d.distance||e[f==="top"?"outerHeight":"outerWidth"](true)/2;if(l){e.css("opacity",0).css(f,m==="pos"?-c:c)}g[f]=(l?(m==="pos"?"+=":"-="):(m==="pos"?"-=":"+="))+c;e.animate(g,{queue:false,duration:d.duration,easing:d.easing,complete:function(){if(i==="hide"){e.hide()}a.effects.restore(e,j);a.effects.removeWrapper(e);h()}})}})(jQuery);(function(a,b){a.effects.effect.explode=function(s,r){var k=s.pieces?Math.round(Math.sqrt(s.pieces)):3,d=k,c=a(this),m=a.effects.setMode(c,s.mode||"hide"),w=m==="show",g=c.show().css("visibility","hidden").offset(),t=Math.ceil(c.outerWidth()/d),q=Math.ceil(c.outerHeight()/k),h=[],v,u,e,p,n,l;function x(){h.push(this);if(h.length===k*d){f()}}for(v=0;v<k;v++){p=g.top+v*q;l=v-(k-1)/2;for(u=0;u<d;u++){e=g.left+u*t;n=u-(d-1)/2;c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-u*t,top:-v*q}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:t,height:q,left:e+(w?n*t:0),top:p+(w?l*q:0),opacity:w?0:1}).animate({left:e+(w?0:n*t),top:p+(w?0:l*q),opacity:w?1:0},s.duration||500,s.easing,x)}}function f(){c.css({visibility:"visible"});a(h).remove();if(!w){c.hide()}r()}}})(jQuery);(function(a,b){a.effects.effect.fade=function(f,c){var d=a(this),e=a.effects.setMode(d,f.mode||"toggle");d.animate({opacity:e},{queue:false,duration:f.duration,easing:f.easing,complete:c})}})(jQuery);(function(a,b){a.effects.effect.fold=function(e,i){var f=a(this),n=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(f,e.mode||"hide"),r=k==="show",l=k==="hide",t=e.size||15,m=/([0-9]+)%/.exec(t),s=!!e.horizFirst,j=r!==s,g=j?["width","height"]:["height","width"],h=e.duration/2,d,c,q={},p={};a.effects.save(f,n);f.show();d=a.effects.createWrapper(f).css({overflow:"hidden"});c=j?[d.width(),d.height()]:[d.height(),d.width()];if(m){t=parseInt(m[1],10)/100*c[l?0:1]}if(r){d.css(s?{height:0,width:t}:{height:t,width:0})}q[g[0]]=r?c[0]:t;p[g[1]]=r?c[1]:0;d.animate(q,h,e.easing).animate(p,h,e.easing,function(){if(l){f.hide()}a.effects.restore(f,n);a.effects.removeWrapper(f);i()})}})(jQuery);(function(a,b){a.effects.effect.highlight=function(h,c){var e=a(this),d=["backgroundImage","backgroundColor","opacity"],g=a.effects.setMode(e,h.mode||"show"),f={backgroundColor:e.css("backgroundColor")};if(g==="hide"){f.opacity=0}a.effects.save(e,d);e.show().css({backgroundImage:"none",backgroundColor:h.color||"#ffff99"}).animate(f,{queue:false,duration:h.duration,easing:h.easing,complete:function(){if(g==="hide"){e.hide()}a.effects.restore(e,d);c()}})}})(jQuery);(function(a,b){a.effects.effect.pulsate=function(c,g){var e=a(this),k=a.effects.setMode(e,c.mode||"show"),p=k==="show",l=k==="hide",q=(p||k==="hide"),m=((c.times||5)*2)+(q?1:0),f=c.duration/m,n=0,j=e.queue(),d=j.length,h;if(p||!e.is(":visible")){e.css("opacity",0).show();n=1}for(h=1;h<m;h++){e.animate({opacity:n},f,c.easing);n=1-n}e.animate({opacity:n},f,c.easing);e.queue(function(){if(l){e.hide()}g()});if(d>1){j.splice.apply(j,[1,0].concat(j.splice(d,m+1)))}e.dequeue()}})(jQuery);(function(a,b){a.effects.effect.puff=function(j,c){var h=a(this),i=a.effects.setMode(h,j.mode||"hide"),f=i==="hide",g=parseInt(j.percent,10)||150,e=g/100,d={height:h.height(),width:h.width(),outerHeight:h.outerHeight(),outerWidth:h.outerWidth()};a.extend(j,{effect:"scale",queue:false,fade:true,mode:i,complete:c,percent:f?g:100,from:f?d:{height:d.height*e,width:d.width*e,outerHeight:d.outerHeight*e,outerWidth:d.outerWidth*e}});h.effect(j)};a.effects.effect.scale=function(c,f){var d=a(this),l=a.extend(true,{},c),g=a.effects.setMode(d,c.mode||"effect"),h=parseInt(c.percent,10)||(parseInt(c.percent,10)===0?0:(g==="hide"?0:100)),j=c.direction||"both",k=c.origin,e={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},i={y:j!=="horizontal"?(h/100):1,x:j!=="vertical"?(h/100):1};l.effect="size";l.queue=false;l.complete=f;if(g!=="effect"){l.origin=k||["middle","center"];l.restore=true}l.from=c.from||(g==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:e);l.to={height:e.height*i.y,width:e.width*i.x,outerHeight:e.outerHeight*i.y,outerWidth:e.outerWidth*i.x};if(l.fade){if(g==="show"){l.from.opacity=0;l.to.opacity=1}if(g==="hide"){l.from.opacity=1;l.to.opacity=0}}d.effect(l)};a.effects.effect.size=function(l,k){var q,i,j,c=a(this),p=["position","top","bottom","left","right","width","height","overflow","opacity"],n=["position","top","bottom","left","right","overflow","opacity"],m=["width","height","overflow"],g=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=a.effects.setMode(c,l.mode||"effect"),r=l.restore||h!=="effect",v=l.scale||"both",t=l.origin||["middle","center"],u=c.css("position"),e=r?p:n,f={height:0,width:0,outerHeight:0,outerWidth:0};if(h==="show"){c.show()}q={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};if(l.mode==="toggle"&&h==="show"){c.from=l.to||f;c.to=l.from||q}else{c.from=l.from||(h==="show"?f:q);c.to=l.to||(h==="hide"?f:q)}j={from:{y:c.from.height/q.height,x:c.from.width/q.width},to:{y:c.to.height/q.height,x:c.to.width/q.width}};if(v==="box"||v==="both"){if(j.from.y!==j.to.y){e=e.concat(s);c.from=a.effects.setTransition(c,s,j.from.y,c.from);c.to=a.effects.setTransition(c,s,j.to.y,c.to)}if(j.from.x!==j.to.x){e=e.concat(d);c.from=a.effects.setTransition(c,d,j.from.x,c.from);c.to=a.effects.setTransition(c,d,j.to.x,c.to)}}if(v==="content"||v==="both"){if(j.from.y!==j.to.y){e=e.concat(g).concat(m);c.from=a.effects.setTransition(c,g,j.from.y,c.from);c.to=a.effects.setTransition(c,g,j.to.y,c.to)}}a.effects.save(c,e);c.show();a.effects.createWrapper(c);c.css("overflow","hidden").css(c.from);if(t){i=a.effects.getBaseline(t,q);c.from.top=(q.outerHeight-c.outerHeight())*i.y;c.from.left=(q.outerWidth-c.outerWidth())*i.x;c.to.top=(q.outerHeight-c.to.outerHeight)*i.y;c.to.left=(q.outerWidth-c.to.outerWidth)*i.x}c.css(c.from);if(v==="content"||v==="both"){s=s.concat(["marginTop","marginBottom"]).concat(g);d=d.concat(["marginLeft","marginRight"]);m=p.concat(s).concat(d);c.find("*[width]").each(function(){var w=a(this),o={height:w.height(),width:w.width(),outerHeight:w.outerHeight(),outerWidth:w.outerWidth()};if(r){a.effects.save(w,m)}w.from={height:o.height*j.from.y,width:o.width*j.from.x,outerHeight:o.outerHeight*j.from.y,outerWidth:o.outerWidth*j.from.x};w.to={height:o.height*j.to.y,width:o.width*j.to.x,outerHeight:o.height*j.to.y,outerWidth:o.width*j.to.x};if(j.from.y!==j.to.y){w.from=a.effects.setTransition(w,s,j.from.y,w.from);w.to=a.effects.setTransition(w,s,j.to.y,w.to)}if(j.from.x!==j.to.x){w.from=a.effects.setTransition(w,d,j.from.x,w.from);w.to=a.effects.setTransition(w,d,j.to.x,w.to)}w.css(w.from);w.animate(w.to,l.duration,l.easing,function(){if(r){a.effects.restore(w,m)}})})}c.animate(c.to,{queue:false,duration:l.duration,easing:l.easing,complete:function(){if(c.to.opacity===0){c.css("opacity",c.from.opacity)}if(h==="hide"){c.hide()}a.effects.restore(c,e);if(!r){if(u==="static"){c.css({position:"relative",top:c.to.top,left:c.to.left})}else{a.each(["top","left"],function(o,w){c.css(w,function(y,A){var z=parseInt(A,10),x=o?c.to.left:c.to.top;if(A==="auto"){return x+"px"}return z+x+"px"})})}}a.effects.removeWrapper(c);k()}})}})(jQuery);(function(a,b){a.effects.effect.shake=function(l,k){var c=a(this),d=["position","top","bottom","left","right","height","width"],j=a.effects.setMode(c,l.mode||"effect"),u=l.direction||"left",e=l.distance||20,h=l.times||3,v=h*2+1,q=Math.round(l.duration/v),g=(u==="up"||u==="down")?"top":"left",f=(u==="up"||u==="left"),t={},s={},r={},p,m=c.queue(),n=m.length;a.effects.save(c,d);c.show();a.effects.createWrapper(c);t[g]=(f?"-=":"+=")+e;s[g]=(f?"+=":"-=")+e*2;r[g]=(f?"-=":"+=")+e*2;c.animate(t,q,l.easing);for(p=1;p<h;p++){c.animate(s,q,l.easing).animate(r,q,l.easing)}c.animate(s,q,l.easing).animate(t,q/2,l.easing).queue(function(){if(j==="hide"){c.hide()}a.effects.restore(c,d);a.effects.removeWrapper(c);k()});if(n>1){m.splice.apply(m,[1,0].concat(m.splice(n,v+1)))}c.dequeue()}})(jQuery);(function(a,b){a.effects.effect.slide=function(e,i){var f=a(this),k=["position","top","bottom","left","right","width","height"],j=a.effects.setMode(f,e.mode||"show"),m=j==="show",l=e.direction||"left",g=(l==="up"||l==="down")?"top":"left",d=(l==="up"||l==="left"),c,h={};a.effects.save(f,k);f.show();c=e.distance||f[g==="top"?"outerHeight":"outerWidth"](true);a.effects.createWrapper(f).css({overflow:"hidden"});if(m){f.css(g,d?(isNaN(c)?"-"+c:-c):c)}h[g]=(m?(d?"+=":"-="):(d?"-=":"+="))+c;f.animate(h,{queue:false,duration:e.duration,easing:e.easing,complete:function(){if(j==="hide"){f.hide()}a.effects.restore(f,k);a.effects.removeWrapper(f);i()}})}})(jQuery);(function(a,b){a.effects.effect.transfer=function(d,h){var f=a(this),k=a(d.to),n=k.css("position")==="fixed",j=a("body"),l=n?j.scrollTop():0,m=n?j.scrollLeft():0,c=k.offset(),g={top:c.top-l,left:c.left-m,height:k.innerHeight(),width:k.innerWidth()},i=f.offset(),e=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(d.className).css({top:i.top-l,left:i.left-m,height:f.innerHeight(),width:f.innerWidth(),position:n?"fixed":"absolute"}).animate(g,d.duration,d.easing,function(){e.remove();h()})}})(jQuery);(function(a,b){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(c){if(this.options.disabled){c.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(c){c.preventDefault()},"click .ui-state-disabled > a":function(c){c.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=a(c.target).closest(".ui-menu-item");if(!this.mouseHandled&&d.not(".ui-state-disabled").length){this.select(c);if(!c.isPropagationStopped()){this.mouseHandled=true}if(d.has(".ui-menu").length){this.expand(c)}else{if(!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(c){var d=a(c.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,c){var d=this.active||this.element.children(".ui-menu-item").eq(0);if(!c){this.focus(e,d)}},blur:function(c){this._delay(function(){if(!a.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(c)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){if(!a(c.target).closest(".ui-menu").length){this.collapseAll(c)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=a(this);if(c.data("ui-menu-submenu-carat")){c.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(i){var d,h,j,g,f,c=true;function e(k){return k.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(i.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(i);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(i);break;case a.ui.keyCode.HOME:this._move("first","first",i);break;case a.ui.keyCode.END:this._move("last","last",i);break;case a.ui.keyCode.UP:this.previous(i);break;case a.ui.keyCode.DOWN:this.next(i);break;case a.ui.keyCode.LEFT:this.collapse(i);break;case a.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(i)}break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(i);break;case a.ui.keyCode.ESCAPE:this.collapse(i);break;default:c=false;h=this.previousFilter||"";j=String.fromCharCode(i.keyCode);g=false;clearTimeout(this.filterTimer);if(j===h){g=true}else{j=h+j}f=new RegExp("^"+e(j),"i");d=this.activeMenu.children(".ui-menu-item").filter(function(){return f.test(a(this).children("a").text())});d=g&&d.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):d;if(!d.length){j=String.fromCharCode(i.keyCode);f=new RegExp("^"+e(j),"i");d=this.activeMenu.children(".ui-menu-item").filter(function(){return f.test(a(this).children("a").text())})}if(d.length){this.focus(i,d);if(d.length>1){this.previousFilter=j;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(c){i.preventDefault()}},_activate:function(c){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(c)}else{this.select(c)}}},refresh:function(){var e,d=this.options.icons.submenu,c=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var h=a(this),g=h.prev("a"),f=a("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",true);g.attr("aria-haspopup","true").prepend(f);h.attr("aria-labelledby",g.attr("id"))});e=c.add(this.element);e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});e.children(":not(.ui-menu-item)").each(function(){var f=a(this);if(!/[^\-\u2014\u2013\s]/.test(f.text())){f.addClass("ui-widget-content ui-menu-divider")}});e.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!a.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,d){if(c==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(d.submenu)}this._super(c,d)},focus:function(d,c){var f,e;this.blur(d,d&&d.type==="focus");this._scrollIntoView(c);this.active=c.first();e=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",e.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(d&&d.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}f=c.children(".ui-menu");if(f.length&&d&&(/^mouse/.test(d.type))){this._startOpening(f)}this.activeMenu=c.parent();this._trigger("focus",d,{item:c})},_scrollIntoView:function(f){var i,e,g,c,d,h;if(this._hasScroll()){i=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0;e=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0;g=f.offset().top-this.activeMenu.offset().top-i-e;c=this.activeMenu.scrollTop();d=this.activeMenu.height();h=f.height();if(g<0){this.activeMenu.scrollTop(c+g)}else{if(g+h>d){this.activeMenu.scrollTop(c+g-d+h)}}}},blur:function(d,c){if(!c){clearTimeout(this.timer)}if(!this.active){return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",d,{item:this.active})},_startOpening:function(c){clearTimeout(this.timer);if(c.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(c)},this.delay)},_open:function(d){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(d.parents(".ui-menu")).hide().attr("aria-hidden","true");d.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(d,c){clearTimeout(this.timer);this.timer=this._delay(function(){var e=c?this.element:a(d&&d.target).closest(this.element.find(".ui-menu"));if(!e.length){e=this.element}this._close(e);this.blur(d);this.activeMenu=e},this.delay)},_close:function(c){if(!c){c=this.active?this.active.parent():this.element}c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(d){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(c&&c.length){this._close();this.focus(d,c)}},expand:function(d){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(c&&c.length){this._open(c.parent());this._delay(function(){this.focus(d,c)})}},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(f,d,e){var c;if(this.active){if(f==="first"||f==="last"){c=this.active[f==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{c=this.active[f+"All"](".ui-menu-item").eq(0)}}if(!c||!c.length||!this.active){c=this.activeMenu.children(".ui-menu-item")[d]()}this.focus(e,c)},nextPage:function(e){var d,f,c;if(!this.active){this.next(e);return}if(this.isLastItem()){return}if(this._hasScroll()){f=this.active.offset().top;c=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){d=a(this);return d.offset().top-f-c<0});this.focus(e,d)}else{this.focus(e,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(e){var d,f,c;if(!this.active){this.next(e);return}if(this.isFirstItem()){return}if(this._hasScroll()){f=this.active.offset().top;c=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){d=a(this);return d.offset().top-f+c>0});this.focus(e,d)}else{this.focus(e,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var d={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(c,true)}this._trigger("select",c,d)}})}(jQuery));(function(e,c){e.ui=e.ui||{};var j,k=Math.max,o=Math.abs,m=Math.round,d=/left|center|right/,h=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,b=/%$/,g=e.fn.position;function n(r,q,p){return[parseFloat(r[0])*(b.test(r[0])?q/100:1),parseFloat(r[1])*(b.test(r[1])?p/100:1)]}function i(p,q){return parseInt(e.css(p,q),10)||0}function f(q){var p=q[0];if(p.nodeType===9){return{width:q.width(),height:q.height(),offset:{top:0,left:0}}}if(e.isWindow(p)){return{width:q.width(),height:q.height(),offset:{top:q.scrollTop(),left:q.scrollLeft()}}}if(p.preventDefault){return{width:0,height:0,offset:{top:p.pageY,left:p.pageX}}}return{width:q.outerWidth(),height:q.outerHeight(),offset:q.offset()}}e.position={scrollbarWidth:function(){if(j!==c){return j}var q,p,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=s.children()[0];e("body").append(s);q=r.offsetWidth;s.css("overflow","scroll");p=r.offsetWidth;if(q===p){p=s[0].clientWidth}s.remove();return(j=q-p)},getScrollInfo:function(t){var s=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),q=s==="scroll"||(s==="auto"&&t.width<t.element[0].scrollWidth),p=r==="scroll"||(r==="auto"&&t.height<t.element[0].scrollHeight);return{width:p?e.position.scrollbarWidth():0,height:q?e.position.scrollbarWidth():0}},getWithinInfo:function(q){var r=e(q||window),p=e.isWindow(r[0]),s=!!r[0]&&r[0].nodeType===9;return{element:r,isWindow:p,isDocument:s,offset:r.offset()||{left:0,top:0},scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop(),width:p?r.width():r.outerWidth(),height:p?r.height():r.outerHeight()}}};e.fn.position=function(z){if(!z||!z.of){return g.apply(this,arguments)}z=e.extend({},z);var A,w,u,y,t,p,v=e(z.of),s=e.position.getWithinInfo(z.within),q=e.position.getScrollInfo(s),x=(z.collision||"flip").split(" "),r={};p=f(v);if(v[0].preventDefault){z.at="left top"}w=p.width;u=p.height;y=p.offset;t=e.extend({},y);e.each(["my","at"],function(){var D=(z[this]||"").split(" "),C,B;if(D.length===1){D=d.test(D[0])?D.concat(["center"]):h.test(D[0])?["center"].concat(D):["center","center"]}D[0]=d.test(D[0])?D[0]:"center";D[1]=h.test(D[1])?D[1]:"center";C=a.exec(D[0]);B=a.exec(D[1]);r[this]=[C?C[0]:0,B?B[0]:0];z[this]=[l.exec(D[0])[0],l.exec(D[1])[0]]});if(x.length===1){x[1]=x[0]}if(z.at[0]==="right"){t.left+=w}else{if(z.at[0]==="center"){t.left+=w/2}}if(z.at[1]==="bottom"){t.top+=u}else{if(z.at[1]==="center"){t.top+=u/2}}A=n(r.at,w,u);t.left+=A[0];t.top+=A[1];return this.each(function(){var C,L,E=e(this),G=E.outerWidth(),D=E.outerHeight(),F=i(this,"marginLeft"),B=i(this,"marginTop"),K=G+F+i(this,"marginRight")+q.width,J=D+B+i(this,"marginBottom")+q.height,H=e.extend({},t),I=n(r.my,E.outerWidth(),E.outerHeight());if(z.my[0]==="right"){H.left-=G}else{if(z.my[0]==="center"){H.left-=G/2}}if(z.my[1]==="bottom"){H.top-=D}else{if(z.my[1]==="center"){H.top-=D/2}}H.left+=I[0];H.top+=I[1];if(!e.support.offsetFractions){H.left=m(H.left);H.top=m(H.top)}C={marginLeft:F,marginTop:B};e.each(["left","top"],function(N,M){if(e.ui.position[x[N]]){e.ui.position[x[N]][M](H,{targetWidth:w,targetHeight:u,elemWidth:G,elemHeight:D,collisionPosition:C,collisionWidth:K,collisionHeight:J,offset:[A[0]+I[0],A[1]+I[1]],my:z.my,at:z.at,within:s,elem:E})}});if(z.using){L=function(P){var R=y.left-H.left,O=R+w-G,Q=y.top-H.top,N=Q+u-D,M={target:{element:v,left:y.left,top:y.top,width:w,height:u},element:{element:E,left:H.left,top:H.top,width:G,height:D},horizontal:O<0?"left":R>0?"right":"center",vertical:N<0?"top":Q>0?"bottom":"middle"};if(w<G&&o(R+O)<w){M.horizontal="center"}if(u<D&&o(Q+N)<u){M.vertical="middle"}if(k(o(R),o(O))>k(o(Q),o(N))){M.important="horizontal"}else{M.important="vertical"}z.using.call(this,P,M)}}E.offset(e.extend(H,{using:L}))})};e.ui.position={fit:{left:function(t,s){var r=s.within,v=r.isWindow?r.scrollLeft:r.offset.left,x=r.width,u=t.left-s.collisionPosition.marginLeft,w=v-u,q=u+s.collisionWidth-x-v,p;if(s.collisionWidth>x){if(w>0&&q<=0){p=t.left+w+s.collisionWidth-x-v;t.left+=w-p}else{if(q>0&&w<=0){t.left=v}else{if(w>q){t.left=v+x-s.collisionWidth}else{t.left=v}}}}else{if(w>0){t.left+=w}else{if(q>0){t.left-=q}else{t.left=k(t.left-u,t.left)}}}},top:function(s,r){var q=r.within,w=q.isWindow?q.scrollTop:q.offset.top,x=r.within.height,u=s.top-r.collisionPosition.marginTop,v=w-u,t=u+r.collisionHeight-x-w,p;if(r.collisionHeight>x){if(v>0&&t<=0){p=s.top+v+r.collisionHeight-x-w;s.top+=v-p}else{if(t>0&&v<=0){s.top=w}else{if(v>t){s.top=w+x-r.collisionHeight}else{s.top=w}}}}else{if(v>0){s.top+=v}else{if(t>0){s.top-=t}else{s.top=k(s.top-u,s.top)}}}}},flip:{left:function(v,u){var t=u.within,z=t.offset.left+t.scrollLeft,C=t.width,r=t.isWindow?t.scrollLeft:t.offset.left,w=v.left-u.collisionPosition.marginLeft,A=w-r,q=w+u.collisionWidth-C-r,y=u.my[0]==="left"?-u.elemWidth:u.my[0]==="right"?u.elemWidth:0,B=u.at[0]==="left"?u.targetWidth:u.at[0]==="right"?-u.targetWidth:0,s=-2*u.offset[0],p,x;if(A<0){p=v.left+y+B+s+u.collisionWidth-C-z;if(p<0||p<o(A)){v.left+=y+B+s}}else{if(q>0){x=v.left-u.collisionPosition.marginLeft+y+B+s-r;if(x>0||o(x)<q){v.left+=y+B+s}}}},top:function(u,t){var s=t.within,B=s.offset.top+s.scrollTop,C=s.height,p=s.isWindow?s.scrollTop:s.offset.top,w=u.top-t.collisionPosition.marginTop,y=w-p,v=w+t.collisionHeight-C-p,z=t.my[1]==="top",x=z?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,D=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,r=-2*t.offset[1],A,q;if(y<0){q=u.top+x+D+r+t.collisionHeight-C-B;if((u.top+x+D+r)>y&&(q<0||q<o(y))){u.top+=x+D+r}}else{if(v>0){A=u.top-t.collisionPosition.marginTop+x+D+r-p;if((u.top+x+D+r)>v&&(A>0||o(A)<v)){u.top+=x+D+r}}}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var t,v,q,s,r,p=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(p?"div":"body");q={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(p){e.extend(q,{position:"absolute",left:"-1000px",top:"-1000px"})}for(r in q){t.style[r]=q[r]}t.appendChild(u);v=p||document.documentElement;v.insertBefore(t,v.firstChild);u.style.cssText="position: absolute; left: 10.7432222px;";s=e(u).offset().left;e.support.offsetFractions=s>10&&s<11;t.innerHTML="";v.removeChild(t)})()}(jQuery));(function(a,b){a.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(c){if(c===b){return this.options.value}this.options.value=this._constrainedValue(c);this._refreshValue()},_constrainedValue:function(c){if(c===b){c=this.options.value}this.indeterminate=c===false;if(typeof c!=="number"){c=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,c))},_setOptions:function(c){var d=c.value;delete c.value;this._super(c);this.options.value=this._constrainedValue(d);this._refreshValue()},_setOption:function(c,d){if(c==="max"){d=Math.max(this.min,d)}this._super(c,d)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var d=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||d>this.min).toggleClass("ui-corner-right",d===this.options.max).width(c.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":d});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==d){this.oldValue=d;this._trigger("change")}if(d===this.options.max){this._trigger("complete")}}})})(jQuery);(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var g,d,e=this.options,j=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",f=[];d=(e.values&&e.values.length)||1;if(j.length>d){j.slice(d).remove();j=j.slice(0,d)}for(g=j.length;g<d;g++){f.push(h)}this.handles=j.add(b(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(k){b(this).data("ui-slider-handle-index",k)})},_createRange:function(){var d=this.options,e="";if(d.range){if(d.range===true){if(!d.values){d.values=[this._valueMin(),this._valueMin()]}else{if(d.values.length&&d.values.length!==2){d.values=[d.values[0],d.values[0]]}else{if(b.isArray(d.values)){d.values=d.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=b("<div></div>").appendTo(this.element);e="ui-slider-range ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(e+((d.range==="min"||d.range==="max")?" ui-slider-range-"+d.range:""))}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){var d=this.handles.add(this.range).filter("a");this._off(d);this._on(d,this._handleEvents);this._hoverable(d);this._focusable(d)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(f){var j,m,e,h,l,n,i,d,k=this,g=this.options;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();j={x:f.pageX,y:f.pageY};m=this._normValueFromMouse(j);e=this._valueMax()-this._valueMin()+1;this.handles.each(function(o){var p=Math.abs(m-k.values(o));if((e>p)||(e===p&&(o===k._lastChangedValue||k.values(o)===g.min))){e=p;h=b(this);l=o}});n=this._start(f,l);if(n===false){return false}this._mouseSliding=true;this._handleIndex=l;h.addClass("ui-state-active").focus();i=h.offset();d=!b(f.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-i.left-(h.width()/2),top:f.pageY-i.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,l,m)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(e){var d,h,g,f,i;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}g=(h/d);if(g>1){g=1}if(g<0){g=0}if(this.orientation==="vertical"){g=1-g}f=this._valueMax()-this._valueMin();i=this._valueMin()+g*f;return this._trimAlignValue(i)},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}return this._trigger("start",f,d)},_slide:function(h,g,f){var d,e,i;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d}if(f!==this.values(g)){e=this.values();e[g]=f;i=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(i!==false){this.values(g,f)}}}else{if(f!==this.value()){i=this._trigger("slide",h,{handle:this.handles[g],value:f});if(i!==false){this.value(f)}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("stop",f,d)},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._lastChangedValue=e;this._trigger("change",f,d)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e);return}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,f){var d,g=0;if(e==="range"&&this.options.range===true){if(f==="min"){this.options.value=this._values(0);this.options.values=null}else{if(f==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if(b.isArray(this.options.values)){g=this.options.values.length}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g}else{if(this.options.values&&this.options.values.length){f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e])}return f}else{return[]}}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var d=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d)}return parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var i,h,l,j,m,g=this.options.range,f=this.options,k=this,e=(!this._animateOff)?f.animate:false,d={};if(this.options.values&&this.options.values.length){this.handles.each(function(n){h=(k.values(n)-k._valueMin())/(k._valueMax()-k._valueMin())*100;d[k.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(k.options.range===true){if(k.orientation==="horizontal"){if(n===0){k.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate)}if(n===1){k.range[e?"animate":"css"]({width:(h-i)+"%"},{queue:false,duration:f.animate})}}else{if(n===0){k.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate)}if(n===1){k.range[e?"animate":"css"]({height:(h-i)+"%"},{queue:false,duration:f.animate})}}}i=h})}else{l=this.value();j=this._valueMin();m=this._valueMax();h=(m!==j)?(l-j)/(m-j)*100:0;d[this.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate)}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate})}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate)}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate})}}},_handleEvents:{keydown:function(h){var i,f,e,g,d=b(h.target).data("ui-slider-handle-index");switch(h.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:h.preventDefault();if(!this._keySliding){this._keySliding=true;b(h.target).addClass("ui-state-active");i=this._start(h,d);if(i===false){return}}break}g=this.options.step;if(this.options.values&&this.options.values.length){f=e=this.values(d)}else{f=e=this.value()}switch(h.keyCode){case b.ui.keyCode.HOME:e=this._valueMin();break;case b.ui.keyCode.END:e=this._valueMax();break;case b.ui.keyCode.PAGE_UP:e=this._trimAlignValue(f+((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(f-((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(f===this._valueMax()){return}e=this._trimAlignValue(f+g);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(f===this._valueMin()){return}e=this._trimAlignValue(f-g);break}this._slide(h,d,e)},click:function(d){d.preventDefault()},keyup:function(e){var d=b(e.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(e,d);this._change(e,d);b(e.target).removeClass("ui-state-active")}}}})}(jQuery));(function(b){function a(c){return function(){var d=this.element.val();c.apply(this,arguments);this._refresh();if(d!==this.element.val()){this._trigger("change")}}}b.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);if(this.value()!==""){this._value(this.element.val(),true)}this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},d=this.element;b.each(["min","max","step"],function(e,f){var g=d.attr(f);if(g!==undefined&&g.length){c[f]=g}});return c},_events:{keydown:function(c){if(this._start(c)&&this._keydown(c)){c.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",c)}},mousewheel:function(c,d){if(!d){return}if(!this.spinning&&!this._start(c)){return false}this._spin((d>0?1:-1)*this.options.step,c);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(c)}},100);c.preventDefault()},"mousedown .ui-spinner-button":function(d){var c;c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function e(){var f=this.element[0]===this.document[0].activeElement;if(!f){this.element.focus();this.previous=c;this._delay(function(){this.previous=c})}}d.preventDefault();e.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;e.call(this)});if(this._start(d)===false){return}this._repeat(null,b(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(!b(c.currentTarget).hasClass("ui-state-active")){return}if(this._start(c)===false){return false}this._repeat(null,b(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(c.height()*0.5)&&c.height()>0){c.height(c.height())}if(this.options.disabled){this.disable()}},_keydown:function(d){var c=this.options,e=b.ui.keyCode;switch(d.keyCode){case e.UP:this._repeat(null,1,d);return true;case e.DOWN:this._repeat(null,-1,d);return true;case e.PAGE_UP:this._repeat(null,c.page,d);return true;case e.PAGE_DOWN:this._repeat(null,-c.page,d);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){if(!this.spinning&&this._trigger("start",c)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(d,c,e){d=d||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,c,e)},d);this._spin(c*this.options.step,e)},_spin:function(d,c){var e=this.value()||0;if(!this.counter){this.counter=1}e=this._adjustValue(e+d*this._increment(this.counter));if(!this.spinning||this._trigger("spin",c,{value:e})!==false){this._value(e);this.counter++}},_increment:function(c){var d=this.options.incremental;if(d){return b.isFunction(d)?d(c):Math.floor(c*c*c/50000-c*c/500+17*c/200+1)}return 1},_precision:function(){var c=this._precisionOf(this.options.step);if(this.options.min!==null){c=Math.max(c,this._precisionOf(this.options.min))}return c},_precisionOf:function(d){var e=d.toString(),c=e.indexOf(".");return c===-1?0:e.length-c-1},_adjustValue:function(e){var d,f,c=this.options;d=c.min!==null?c.min:0;f=e-d;f=Math.round(f/c.step)*c.step;e=d+f;e=parseFloat(e.toFixed(this._precision()));if(c.max!==null&&e>c.max){return c.max}if(c.min!==null&&e<c.min){return c.min}return e},_stop:function(c){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",c)},_setOption:function(c,d){if(c==="culture"||c==="numberFormat"){var e=this._parse(this.element.val());this.options[c]=d;this.element.val(this._format(e));return}if(c==="max"||c==="min"||c==="step"){if(typeof d==="string"){d=this._parse(d)}}if(c==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(d.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(d.down)}this._super(c,d);if(c==="disabled"){if(d){this.element.prop("disabled",true);this.buttons.button("disable")}else{this.element.prop("disabled",false);this.buttons.button("enable")}}},_setOptions:a(function(c){this._super(c);this._value(this.element.val())}),_parse:function(c){if(typeof c==="string"&&c!==""){c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c}return c===""||isNaN(c)?null:c},_format:function(c){if(c===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,c){var d;if(e!==""){d=this._parse(e);if(d!==null){if(!c){d=this._adjustValue(d)}e=this._format(d)}}this.element.val(e);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:a(function(c){this._stepUp(c)}),_stepUp:function(c){if(this._start()){this._spin((c||1)*this.options.step);this._stop()}},stepDown:a(function(c){this._stepDown(c)}),_stepDown:function(c){if(this._start()){this._spin((c||1)*-this.options.step);this._stop()}},pageUp:a(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:a(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){if(!arguments.length){return this._parse(this.element.val())}a(this._value).call(this,c)},widget:function(){return this.uiSpinner}})}(jQuery));(function(c,e){var a=0,f=/#.*$/;function d(){return ++a}function b(g){g=g.cloneNode(false);return g.hash.length>1&&decodeURIComponent(g.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}c.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var h=this,g=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",g.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(i){if(c(this).is(".ui-state-disabled")){i.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if(c(this).closest("li").is(".ui-state-disabled")){this.blur()}});this._processTabs();g.active=this._initialActive();if(c.isArray(g.disabled)){g.disabled=c.unique(g.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(i){return h.tabs.index(i)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(g.active)}else{this.active=c()}this._refresh();if(this.active.length){this.load(g.active)}},_initialActive:function(){var h=this.options.active,g=this.options.collapsible,i=location.hash.substring(1);if(h===null){if(i){this.tabs.each(function(j,k){if(c(k).attr("aria-controls")===i){h=j;return false}})}if(h===null){h=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(h===null||h===-1){h=this.tabs.length?0:false}}if(h!==false){h=this.tabs.index(this.tabs.eq(h));if(h===-1){h=g?false:0}}if(!g&&h===false&&this.anchors.length){h=0}return h},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?c():this._getPanelForTab(this.active)}},_tabKeydown:function(i){var h=c(this.document[0].activeElement).closest("li"),g=this.tabs.index(h),j=true;if(this._handlePageNav(i)){return}switch(i.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:g++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:j=false;g--;break;case c.ui.keyCode.END:g=this.anchors.length-1;break;case c.ui.keyCode.HOME:g=0;break;case c.ui.keyCode.SPACE:i.preventDefault();clearTimeout(this.activating);this._activate(g);return;case c.ui.keyCode.ENTER:i.preventDefault();clearTimeout(this.activating);this._activate(g===this.options.active?false:g);return;default:return}i.preventDefault();clearTimeout(this.activating);g=this._focusNextTab(g,j);if(!i.ctrlKey){h.attr("aria-selected","false");this.tabs.eq(g).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",g)},this.delay)}},_panelKeydown:function(g){if(this._handlePageNav(g)){return}if(g.ctrlKey&&g.keyCode===c.ui.keyCode.UP){g.preventDefault();this.active.focus()}},_handlePageNav:function(g){if(g.altKey&&g.keyCode===c.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(g.altKey&&g.keyCode===c.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(h,i){var g=this.tabs.length-1;function j(){if(h>g){h=0}if(h<0){h=g}return h}while(c.inArray(j(),this.options.disabled)!==-1){h=i?h+1:h-1}return h},_focusNextTab:function(g,h){g=this._findNextTab(g,h);this.tabs.eq(g).focus();return g},_setOption:function(g,h){if(g==="active"){this._activate(h);return}if(g==="disabled"){this._setupDisabled(h);return}this._super(g,h);if(g==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",h);if(!h&&this.options.active===false){this._activate(0)}}if(g==="event"){this._setupEvents(h)}if(g==="heightStyle"){this._setupHeightStyle(h)}},_tabId:function(g){return g.attr("aria-controls")||"ui-tabs-"+d()},_sanitizeSelector:function(g){return g?g.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var h=this.options,g=this.tablist.children(":has(a[href])");h.disabled=c.map(g.filter(".ui-state-disabled"),function(i){return g.index(i)});this._processTabs();if(h.active===false||!this.anchors.length){h.active=false;this.active=c()}else{if(this.active.length&&!c.contains(this.tablist[0],this.active[0])){if(this.tabs.length===h.disabled.length){h.active=false;this.active=c()}else{this._activate(this._findNextTab(Math.max(0,h.active-1),false))}}else{h.active=this.tabs.index(this.active)}}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})}},_processTabs:function(){var g=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=c();this.anchors.each(function(n,l){var h,j,m,k=c(l).uniqueId().attr("id"),o=c(l).closest("li"),p=o.attr("aria-controls");if(b(l)){h=l.hash;j=g.element.find(g._sanitizeSelector(h))}else{m=g._tabId(o);h="#"+m;j=g.element.find(h);if(!j.length){j=g._createPanel(m);j.insertAfter(g.panels[n-1]||g.tablist)}j.attr("aria-live","polite")}if(j.length){g.panels=g.panels.add(j)}if(p){o.data("ui-tabs-aria-controls",p)}o.attr({"aria-controls":h.substring(1),"aria-labelledby":k});j.attr("aria-labelledby",k)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(g){return c("<div>").attr("id",g).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(j){if(c.isArray(j)){if(!j.length){j=false}else{if(j.length===this.anchors.length){j=true}}}for(var h=0,g;(g=this.tabs[h]);h++){if(j===true||c.inArray(h,j)!==-1){c(g).addClass("ui-state-disabled").attr("aria-disabled","true")}else{c(g).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=j},_setupEvents:function(h){var g={click:function(i){i.preventDefault()}};if(h){c.each(h.split(" "),function(j,i){g[i]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,g);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(g){var i,h=this.element.parent();if(g==="fill"){i=h.height();i-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var k=c(this),j=k.css("position");if(j==="absolute"||j==="fixed"){return}i-=k.outerHeight(true)});this.element.children().not(this.panels).each(function(){i-=c(this).outerHeight(true)});this.panels.each(function(){c(this).height(Math.max(0,i-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")}else{if(g==="auto"){i=0;this.panels.each(function(){i=Math.max(i,c(this).height("").height())}).height(i)}}},_eventHandler:function(g){var p=this.options,k=this.active,l=c(g.currentTarget),j=l.closest("li"),n=j[0]===k[0],h=n&&p.collapsible,i=h?c():this._getPanelForTab(j),m=!k.length?c():this._getPanelForTab(k),o={oldTab:k,oldPanel:m,newTab:h?c():j,newPanel:i};g.preventDefault();if(j.hasClass("ui-state-disabled")||j.hasClass("ui-tabs-loading")||this.running||(n&&!p.collapsible)||(this._trigger("beforeActivate",g,o)===false)){return}p.active=h?false:this.tabs.index(j);this.active=n?c():j;if(this.xhr){this.xhr.abort()}if(!m.length&&!i.length){c.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(i.length){this.load(this.tabs.index(j),g)}this._toggle(g,o)},_toggle:function(m,l){var k=this,g=l.newPanel,j=l.oldPanel;this.running=true;function i(){k.running=false;k._trigger("activate",m,l)}function h(){l.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(g.length&&k.options.show){k._show(g,k.options.show,i)}else{g.show();i()}}if(j.length&&this.options.hide){this._hide(j,this.options.hide,function(){l.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");h()})}else{l.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");j.hide();h()}j.attr({"aria-expanded":"false","aria-hidden":"true"});l.oldTab.attr("aria-selected","false");if(g.length&&j.length){l.oldTab.attr("tabIndex",-1)}else{if(g.length){this.tabs.filter(function(){return c(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}g.attr({"aria-expanded":"true","aria-hidden":"false"});l.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(h){var g,i=this._findActive(h);if(i[0]===this.active[0]){return}if(!i.length){i=this.active}g=i.find(".ui-tabs-anchor")[0];this._eventHandler({target:g,currentTarget:g,preventDefault:c.noop})},_findActive:function(g){return g===false?c():this.tabs.eq(g)},_getIndex:function(g){if(typeof g==="string"){g=this.anchors.index(this.anchors.filter("[href$='"+g+"']"))}return g},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(c.data(this,"ui-tabs-destroy")){c(this).remove()}else{c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var g=c(this),h=g.data("ui-tabs-aria-controls");if(h){g.attr("aria-controls",h).removeData("ui-tabs-aria-controls")}else{g.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(g){var h=this.options.disabled;if(h===false){return}if(g===e){h=false}else{g=this._getIndex(g);if(c.isArray(h)){h=c.map(h,function(i){return i!==g?i:null})}else{h=c.map(this.tabs,function(i,j){return j!==g?j:null})}}this._setupDisabled(h)},disable:function(g){var h=this.options.disabled;if(h===true){return}if(g===e){h=true}else{g=this._getIndex(g);if(c.inArray(g,h)!==-1){return}if(c.isArray(h)){h=c.merge([g],h).sort()}else{h=[g]}}this._setupDisabled(h)},load:function(i,m){i=this._getIndex(i);var l=this,j=this.tabs.eq(i),h=j.find(".ui-tabs-anchor"),g=this._getPanelForTab(j),k={tab:j,panel:g};if(b(h[0])){return}this.xhr=c.ajax(this._ajaxSettings(h,m,k));if(this.xhr&&this.xhr.statusText!=="canceled"){j.addClass("ui-tabs-loading");g.attr("aria-busy","true");this.xhr.success(function(n){setTimeout(function(){g.html(n);l._trigger("load",m,k)},1)}).complete(function(o,n){setTimeout(function(){if(n==="abort"){l.panels.stop(false,true)}j.removeClass("ui-tabs-loading");g.removeAttr("aria-busy");if(o===l.xhr){delete l.xhr}},1)})}},_ajaxSettings:function(g,j,i){var h=this;return{url:g.attr("href"),beforeSend:function(l,k){return h._trigger("beforeLoad",j,c.extend({jqXHR:l,ajaxSettings:k},i))}}},_getPanelForTab:function(g){var h=c(g).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}})})(jQuery);(function(d){var b=0;function c(f,g){var e=(f.attr("aria-describedby")||"").split(/\s+/);e.push(g);f.data("ui-tooltip-id",g).attr("aria-describedby",d.trim(e.join(" ")))}function a(g){var h=g.data("ui-tooltip-id"),f=(g.attr("aria-describedby")||"").split(/\s+/),e=d.inArray(h,f);if(e!==-1){f.splice(e,1)}g.removeData("ui-tooltip-id");f=d.trim(f.join(" "));if(f){g.attr("aria-describedby",f)}else{g.removeAttr("aria-describedby")}}d.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var e=d(this).attr("title")||"";return d("<a>").text(e).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable()}},_setOption:function(e,g){var f=this;if(e==="disabled"){this[g?"_disable":"_enable"]();this.options[e]=g;return}this._super(e,g);if(e==="content"){d.each(this.tooltips,function(i,h){f._updateContent(h)})}},_disable:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true)});this.element.find(this.options.items).addBack().each(function(){var f=d(this);if(f.is("[title]")){f.data("ui-tooltip-title",f.attr("title")).attr("title","")}})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=d(this);if(e.data("ui-tooltip-title")){e.attr("title",e.data("ui-tooltip-title"))}})},open:function(f){var e=this,g=d(f?f.target:this.element).closest(this.options.items);if(!g.length||g.data("ui-tooltip-id")){return}if(g.attr("title")){g.data("ui-tooltip-title",g.attr("title"))}g.data("ui-tooltip-open",true);if(f&&f.type==="mouseover"){g.parents().each(function(){var i=d(this),h;if(i.data("ui-tooltip-open")){h=d.Event("blur");h.target=h.currentTarget=this;e.close(h,true)}if(i.attr("title")){i.uniqueId();e.parents[this.id]={element:this,title:i.attr("title")};i.attr("title","")}})}this._updateContent(g,f)},_updateContent:function(j,i){var h,e=this.options.content,g=this,f=i?i.type:null;if(typeof e==="string"){return this._open(i,j,e)}h=e.call(j[0],function(k){if(!j.data("ui-tooltip-open")){return}g._delay(function(){if(i){i.type=f}this._open(i,j,k)})});if(h){this._open(i,j,h)}},_open:function(i,k,h){var j,g,f,l=d.extend({},this.options.position);if(!h){return}j=this._find(k);if(j.length){j.find(".ui-tooltip-content").html(h);return}if(k.is("[title]")){if(i&&i.type==="mouseover"){k.attr("title","")}else{k.removeAttr("title")}}j=this._tooltip(k);c(k,j.attr("id"));j.find(".ui-tooltip-content").html(h);function e(m){l.of=m;if(j.is(":hidden")){return}j.position(l)}if(this.options.track&&i&&/^mouse/.test(i.type)){this._on(this.document,{mousemove:e});e(i)}else{j.position(d.extend({of:k},this.options.position))}j.hide();this._show(j,this.options.show);if(this.options.show&&this.options.show.delay){f=this.delayedShow=setInterval(function(){if(j.is(":visible")){e(l.of);clearInterval(f)}},d.fx.interval)}this._trigger("open",i,{tooltip:j});g={keyup:function(m){if(m.keyCode===d.ui.keyCode.ESCAPE){var n=d.Event(m);n.currentTarget=k[0];this.close(n,true)}},remove:function(){this._removeTooltip(j)}};if(!i||i.type==="mouseover"){g.mouseleave="close"}if(!i||i.type==="focusin"){g.focusout="close"}this._on(true,k,g)},close:function(f){var e=this,h=d(f?f.currentTarget:this.element),g=this._find(h);if(this.closing){return}clearInterval(this.delayedShow);if(h.data("ui-tooltip-title")){h.attr("title",h.data("ui-tooltip-title"))}a(h);g.stop(true);this._hide(g,this.options.hide,function(){e._removeTooltip(d(this))});h.removeData("ui-tooltip-open");this._off(h,"mouseleave focusout keyup");if(h[0]!==this.element[0]){this._off(h,"remove")}this._off(this.document,"mousemove");if(f&&f.type==="mouseleave"){d.each(this.parents,function(j,i){d(i.element).attr("title",i.title);delete e.parents[j]})}this.closing=true;this._trigger("close",f,{tooltip:g});this.closing=false},_tooltip:function(e){var g="ui-tooltip-"+b++,f=d("<div>").attr({id:g,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));d("<div>").addClass("ui-tooltip-content").appendTo(f);f.appendTo(this.document[0].body);this.tooltips[g]=e;return f},_find:function(e){var f=e.data("ui-tooltip-id");return f?d("#"+f):d()},_removeTooltip:function(e){e.remove();delete this.tooltips[e.attr("id")]},_destroy:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true);d("#"+h).remove();if(f.data("ui-tooltip-title")){f.attr("title",f.data("ui-tooltip-title"));f.removeData("ui-tooltip-title")}})}})}(jQuery));
;}catch(e){}
try{
$(function(){$(".animated-delay[data-animate]").each(function(){var c=$(this);var b=c.data("animate");var d="fadeIn";if(b.length>1&&b.length<3){b=c.data("animate")[0];d=c.data("animate")[1]}var a=setTimeout(function(){c.removeClass("animated-delay").addClass("animated "+d).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){c.removeClass("animated "+d)})},b)})});
;}catch(e){}
try{
(function(a){jQuery.fn.extend({pixelSlimScroll:function(b){var c={width:"auto",size:"2px",color:"#000",distance:"1px",start:"top",opacity:0.4,railColor:"#333",railOpacity:0.2,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:false,wheelStep:20,touchScrollStep:200,borderRadius:"0px",railBorderRadius:"0px"};var d=a.extend(c,b);this.each(function(){var v,p,j,n,y,q,m,i,k="<div></div>",r=30,o=false;var z=a(this);if(z.parent().hasClass(d.wrapperClass)){var g=z.scrollTop();s=z.parent().find("."+d.barClass);e=z.parent().find("."+d.railClass);A();if(a.isPlainObject(b)){if("scrollTo" in b){g=parseInt(d.scrollTo)}else{if("scrollBy" in b){g+=parseInt(d.scrollBy)}else{if("destroy" in b){s.remove();e.remove();z.unwrap();return}}}u(g,false,true)}return}var h=a(k).addClass(d.wrapperClass).css({position:"relative",overflow:"hidden",width:d.width});z.css({overflow:"hidden",width:d.width});var e=a(k).addClass(d.railClass).css({width:d.size,height:"100%",position:"absolute",top:0,display:"none","border-radius":d.railBorderRadius,background:d.railColor,opacity:d.railOpacity,zIndex:90});var s=a(k).addClass(d.barClass).css({background:d.color,width:d.size,position:"absolute",top:0,opacity:d.opacity,display:"block","border-radius":d.borderRadius,BorderRadius:d.borderRadius,MozBorderRadius:d.borderRadius,WebkitBorderRadius:d.borderRadius,zIndex:99});e.css({right:d.distance});s.css({right:d.distance});z.wrap(h);z.parent().append(s);z.parent().append(e);s.bind("mousedown",function(B){var C=a(document);j=true;t=parseFloat(s.css("top"));pageY=B.pageY;C.bind("mousemove.slimscroll",function(D){currTop=t+D.pageY-pageY;s.css("top",currTop);u(0,s.position().top,false)});C.bind("mouseup.slimscroll",function(D){j=false;l();C.unbind(".slimscroll")});return false}).bind("selectstart.slimscroll",function(B){B.stopPropagation();B.preventDefault();return false});e.hover(function(){f()},function(){l()});s.hover(function(){p=true},function(){p=false});z.hover(function(){v=true;f();l()},function(){v=false;l()});z.bind("touchstart",function(C,B){if(C.originalEvent.touches.length){y=C.originalEvent.touches[0].pageY}});z.bind("touchmove",function(C){if(!o){C.originalEvent.preventDefault()}if(C.originalEvent.touches.length){var B=(y-C.originalEvent.touches[0].pageY)/d.touchScrollStep;u(B,true);y=C.originalEvent.touches[0].pageY}});A();w();function x(C){if(!v){return}var C=C||window.event;var D=0;if(C.wheelDelta){D=-C.wheelDelta/120}if(C.detail){D=C.detail/3}var B=C.target||C.srcTarget||C.srcElement;if(a(B).closest("."+d.wrapperClass).is(z.parent())){u(D,true)}if(C.preventDefault&&!o){C.preventDefault()}if(!o){C.returnValue=false}}function u(G,D,B){o=false;var F=G;var E=z.outerHeight()-s.outerHeight();if(D){F=parseInt(s.css("top"))+G*parseInt(d.wheelStep)/100*s.outerHeight();F=Math.min(Math.max(F,0),E);F=(G>0)?Math.ceil(F):Math.floor(F);s.css({top:F+"px"})}m=parseInt(s.css("top"))/(z.outerHeight()-s.outerHeight());F=m*(z[0].scrollHeight-z.outerHeight());if(B){F=G;var C=F/z[0].scrollHeight*z.outerHeight();C=Math.min(Math.max(C,0),E);s.css({top:C+"px"})}z.scrollTop(F);z.trigger("slimscrolling",~~F);f();l()}function w(){if(window.addEventListener){this.addEventListener("DOMMouseScroll",x,false);this.addEventListener("mousewheel",x,false)}else{document.attachEvent("onmousewheel",x)}}function A(){q=Math.max((z.outerHeight()/z[0].scrollHeight)*z.outerHeight(),r);s.css({height:q+"px"});var B=q==z.outerHeight()?"none":"block";s.css({display:B})}function f(){A();clearTimeout(n);if(m==~~m){o=d.allowPageScroll;if(i!=m){var B=(~~m==0)?"top":"bottom";z.trigger("slimscroll",B)}}else{o=false}i=m;if(q>=z.outerHeight()){o=true;return}s.stop(true,true).fadeIn("fast")}function l(){}});return this}});jQuery.fn.extend({pixelslimscroll:jQuery.fn.pixelSlimScroll})})(jQuery);
;}catch(e){}
try{
function FastClick(b){var c,a=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=b;if(!b||!b.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){return FastClick.prototype.onClick.apply(a,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(a,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(a,arguments)};this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(a,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(a,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(a,arguments)};if(FastClick.notNeeded(b)){return}if(this.deviceIsAndroid){b.addEventListener("mouseover",this.onMouse,true);b.addEventListener("mousedown",this.onMouse,true);b.addEventListener("mouseup",this.onMouse,true)}b.addEventListener("click",this.onClick,true);b.addEventListener("touchstart",this.onTouchStart,false);b.addEventListener("touchmove",this.onTouchMove,false);b.addEventListener("touchend",this.onTouchEnd,false);b.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){b.removeEventListener=function(e,g,d){var f=Node.prototype.removeEventListener;if(e==="click"){f.call(b,e,g.hijacked||g,d)}else{f.call(b,e,g,d)}};b.addEventListener=function(f,g,e){var d=Node.prototype.addEventListener;if(f==="click"){d.call(b,f,g.hijacked||(g.hijacked=function(h){if(!h.propagationStopped){g(h)}}),e)}else{d.call(b,f,g,e)}}}if(typeof b.onclick==="function"){c=b.onclick;b.addEventListener("click",function(d){c(d)},false);b.onclick=null}}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&(/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);FastClick.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled){return true}break;case"input":if((this.deviceIsIOS&&a.type==="file")||a.disabled){return true}break;case"label":case"video":return true}return(/\bneedsclick\b/).test(a.className)};FastClick.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return true;case"select":return !this.deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !a.disabled&&!a.readOnly;default:return(/\bneedsfocus\b/).test(a.className)}};FastClick.prototype.sendClick=function(b,c){var a,d;if(document.activeElement&&document.activeElement!==b){document.activeElement.blur()}d=c.changedTouches[0];a=document.createEvent("MouseEvents");a.initMouseEvent(this.determineEventType(b),true,true,window,1,d.screenX,d.screenY,d.clientX,d.clientY,false,false,false,false,0,null);a.forwardedTouchEvent=true;b.dispatchEvent(a)};FastClick.prototype.determineEventType=function(a){if(this.deviceIsAndroid&&a.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(a){var b;if(this.deviceIsIOS&&a.setSelectionRange&&a.type.indexOf("date")!==0&&a.type!=="time"){b=a.value.length;a.setSelectionRange(b,b)}else{a.focus()}};FastClick.prototype.updateScrollParent=function(b){var c,a;c=b.fastClickScrollParent;if(!c||!c.contains(b)){a=b;do{if(a.scrollHeight>a.offsetHeight){c=a;b.fastClickScrollParent=a;break}a=a.parentElement}while(a)}if(c){c.fastClickLastScrollTop=c.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(a){if(a.nodeType===Node.TEXT_NODE){return a.parentNode}return a};FastClick.prototype.onTouchStart=function(c){var a,d,b;if(c.targetTouches.length>1){return true}a=this.getTargetElementFromEventTarget(c.target);d=c.targetTouches[0];if(this.deviceIsIOS){b=window.getSelection();if(b.rangeCount&&!b.isCollapsed){return true}if(!this.deviceIsIOS4){if(d.identifier===this.lastTouchIdentifier){c.preventDefault();return false}this.lastTouchIdentifier=d.identifier;this.updateScrollParent(a)}}this.trackingClick=true;this.trackingClickStart=c.timeStamp;this.targetElement=a;this.touchStartX=d.pageX;this.touchStartY=d.pageY;if((c.timeStamp-this.lastClickTime)<200){c.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(a){var c=a.changedTouches[0],b=this.touchBoundary;if(Math.abs(c.pageX-this.touchStartX)>b||Math.abs(c.pageY-this.touchStartY)>b){return true}return false};FastClick.prototype.onTouchMove=function(a){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(a){if(a.control!==undefined){return a.control}if(a.htmlFor){return document.getElementById(a.htmlFor)}return a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(c){var e,d,b,g,f,a=this.targetElement;if(!this.trackingClick){return true}if((c.timeStamp-this.lastClickTime)<200){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=c.timeStamp;d=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){f=c.changedTouches[0];a=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||a;a.fastClickScrollParent=this.targetElement.fastClickScrollParent}b=a.tagName.toLowerCase();if(b==="label"){e=this.findControl(a);if(e){this.focus(a);if(this.deviceIsAndroid){return false}a=e}}else{if(this.needsFocus(a)){if((c.timeStamp-d)>100||(this.deviceIsIOS&&window.top!==window&&b==="input")){this.targetElement=null;return false}this.focus(a);if(!this.deviceIsIOS4||b!=="select"){this.targetElement=null;c.preventDefault()}return false}}if(this.deviceIsIOS&&!this.deviceIsIOS4){g=a.fastClickScrollParent;if(g&&g.fastClickLastScrollTop!==g.scrollTop){return true}}if(!this.needsClick(a)){c.preventDefault();this.sendClick(a,c)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(a){if(!this.targetElement){return true}if(a.forwardedTouchEvent){return true}if(!a.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(a.stopImmediatePropagation){a.stopImmediatePropagation()}else{a.propagationStopped=true}a.stopPropagation();a.preventDefault();return false}return true};FastClick.prototype.onClick=function(a){var b;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(a.target.type==="submit"&&a.detail===0){return true}b=this.onMouse(a);if(!b){this.targetElement=null}return b};FastClick.prototype.destroy=function(){var a=this.layer;if(this.deviceIsAndroid){a.removeEventListener("mouseover",this.onMouse,true);a.removeEventListener("mousedown",this.onMouse,true);a.removeEventListener("mouseup",this.onMouse,true)}a.removeEventListener("click",this.onClick,true);a.removeEventListener("touchstart",this.onTouchStart,false);a.removeEventListener("touchmove",this.onTouchMove,false);a.removeEventListener("touchend",this.onTouchEnd,false);a.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(b){var a;var c;if(typeof window.ontouchstart==="undefined"){return true}c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(c){if(FastClick.prototype.deviceIsAndroid){a=document.querySelector("meta[name=viewport]");if(a){if(a.content.indexOf("user-scalable=no")!==-1){return true}if(c>31&&window.innerWidth<=window.screen.width){return true}}}else{return true}}if(b.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(a){return new FastClick(a)};if(typeof define!=="undefined"&&define.amd){define(function(){return FastClick})}else{if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}};
;}catch(e){}
try{
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(f){var a=/\+/g;function d(i){return b.raw?i:encodeURIComponent(i)}function g(i){return b.raw?i:decodeURIComponent(i)}function h(i){return d(b.json?JSON.stringify(i):String(i))}function c(i){if(i.indexOf('"')===0){i=i.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{i=decodeURIComponent(i.replace(a," "));return b.json?JSON.parse(i):i}catch(j){}}function e(j,i){var k=b.raw?j:c(j);return f.isFunction(i)?i(k):k}var b=f.cookie=function(q,p,v){if(p!==undefined&&!f.isFunction(p)){v=f.extend({},b.defaults,v);if(typeof v.expires==="number"){var r=v.expires,u=v.expires=new Date();u.setTime(+u+r*86400000)}return(document.cookie=[d(q),"=",h(p),v.expires?"; expires="+v.expires.toUTCString():"",v.path?"; path="+v.path:"",v.domain?"; domain="+v.domain:"",v.secure?"; secure":""].join(""))}var w=q?undefined:{};var s=document.cookie?document.cookie.split("; "):[];for(var o=0,m=s.length;o<m;o++){var n=s[o].split("=");var j=g(n.shift());var k=n.join("=");if(q&&q===j){w=e(k,p);break}if(!q&&(k=e(k))!==undefined){w[j]=k}}return w};b.defaults={};f.removeCookie=function(j,i){if(f.cookie(j)===undefined){return false}f.cookie(j,"",f.extend({},i,{expires:-1}));return !f.cookie(j)}}));
;}catch(e){}
try{
jQuery.tinyhover=function(a){$(a).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})};
;}catch(e){}
try{
(function(n,p,u){var w=n([]),s=n.resize=n.extend(n.resize,{}),o,l="setTimeout",m="resize",t=m+"-special-event",v="delay",r="throttleWindow";s[v]=250;s[r]=true;n.event.special[m]={setup:function(){if(!s[r]&&this[l]){return false}var a=n(this);w=w.add(a);n.data(this,t,{w:a.width(),h:a.height()});if(w.length===1){q()}},teardown:function(){if(!s[r]&&this[l]){return false}var a=n(this);w=w.not(a);a.removeData(t);if(!w.length){clearTimeout(o)}},add:function(b){if(!s[r]&&this[l]){return false}var c;function a(d,h,g){var f=n(this),e=n.data(this,t);e.w=h!==u?h:f.width();e.h=g!==u?g:f.height();c.apply(this,arguments)}if(n.isFunction(b)){c=b;return a}else{c=b.handler;b.handler=a}}};function q(){o=p[l](function(){w.each(function(){var d=n(this),a=d.width(),b=d.height(),c=n.data(this,t);if(a!==c.w||b!==c.h){d.trigger(m,[c.w=a,c.h=b])}});q()},s[v])}})(jQuery,this);
;}catch(e){}
try{
!function(t){"use strict";var e=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,o=t.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),n=o&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,i=(o||r)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var e,i,l,u,b,c,d,B,f;if(e=t.match(a),!e)throw new Error("invalid data URI");for(i=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),l=!!e[4],u=t.slice(e[0].length),b=l?atob(u):decodeURIComponent(u),c=new ArrayBuffer(b.length),d=new Uint8Array(c),B=0;B<b.length;B+=1)d[B]=b.charCodeAt(B);return o?new Blob([n?d:c],{type:i}):(f=new r,f.append(c),f.getBlob(i))};t.HTMLCanvasElement&&!e.toBlob&&(e.mozGetAsFile?e.toBlob=function(t,o,n){t(n&&e.toDataURL&&i?i(this.toDataURL(o,n)):this.mozGetAsFile("blob",o))}:e.toDataURL&&i&&(e.toBlob=function(t,e,o){t(i(this.toDataURL(e,o)))})),"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof module&&module.exports?module.exports=i:t.dataURLtoBlob=i}(window);
;}catch(e){}
try{
(function(){var a;a=function(d,c){var b;if(c==null){c={}}this.options=$.extend({},a.DEFAULTS,c);this.$checkbox=null;this.$box=null;if(d.is('input[type="checkbox"]')){b=d.attr("data-class");this.$checkbox=d;this.$box=$('<div class="switcher"><div class="switcher-toggler"></div><div class="switcher-inner"><div class="switcher-state-on">'+this.options.on_state_content+'</div><div class="switcher-state-off">'+this.options.off_state_content+"</div></div></div>");if(this.options.theme){this.$box.addClass("switcher-theme-"+this.options.theme)}if(b){this.$box.addClass(b)}this.$box.insertAfter(this.$checkbox).prepend(this.$checkbox)}else{this.$box=d;this.$checkbox=$('input[type="checkbox"]',this.$box)}if(this.$checkbox.prop("disabled")){this.$box.addClass("disabled")}if(this.$checkbox.is(":checked")){this.$box.addClass("checked")}this.$checkbox.on("click",function(f){return f.stopPropagation()});this.$box.on("touchend click",(function(e){return function(f){f.stopPropagation();f.preventDefault();return e.toggle()}})(this));return this};a.prototype.enable=function(){this.$checkbox.prop("disabled",false);return this.$box.removeClass("disabled")};a.prototype.disable=function(){this.$checkbox.prop("disabled",true);return this.$box.addClass("disabled")};a.prototype.on=function(){if(!this.$checkbox.is(":checked")){this.$checkbox.click();return this.$box.addClass("checked")}};a.prototype.off=function(){if(this.$checkbox.is(":checked")){this.$checkbox.click();return this.$box.removeClass("checked")}};a.prototype.toggle=function(){if(this.$checkbox.click().is(":checked")){return this.$box.addClass("checked")}else{return this.$box.removeClass("checked")}};a.DEFAULTS={theme:null,on_state_content:"ON",off_state_content:"OFF"};$.fn.switcher=function(c,b){return $(this).each(function(){var e,d;e=$(this);d=$.data(this,"Switcher");if(!d){return $.data(this,"Switcher",new a(e,c))}else{if(c==="enable"){return d.enable()}else{if(c==="disable"){return d.disable()}else{if(c==="on"){return d.on()}else{if(c==="off"){return d.off()}else{if(c==="toggle"){return d.toggle()}}}}}}})};$.fn.switcher.Constructor=a}).call(this);
;}catch(e){}
try{
(function(){var a,b;b={is_mobile:false,resize_delay:400,stored_values_prefix:"pa_",main_menu:{accordion:true,animation_speed:250,store_state:true,store_state_key:"mmstate",disable_animation_on:["small"],dropdown_close_delay:300,detect_active:false,detect_active_predicate:function(c,d){return c===d}},consts:{COLORS:["#71c73e","#77b7c5","#d54848","#6c42e5","#e8e64e","#dd56e6","#ecad3f","#618b9d","#b68b68","#36a766","#3156be","#00b3ff","#646464","#a946e8","#9d9d9d"]}};a=function(){this.init=[];this.plugins={};this.settings={};this.localStorageSupported=typeof window.Storage!=="undefined"?true:false;return this};a.prototype.start=function(d,c){if(d==null){d=[]}if(c==null){c={}}window.onload=(function(e){return function(){var i,h,f,g;$("html").addClass("pxajs");if(d.length>0){$.merge(e.init,d)}e.settings=$.extend(true,{},b,c||{});e.settings.is_mobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());if(e.settings.is_mobile){if(FastClick){FastClick.attach(document.body)}}g=e.init;for(h=0,f=g.length;h<f;h++){i=g[h];$.proxy(i,e)()}$(window).trigger("pa.loaded");return $(window).resize()}})(this);return this};a.prototype.addInitializer=function(c){return this.init.push(c)};a.prototype.initPlugin=function(c,d){this.plugins[c]=d;if(d.init){return d.init()}};a.prototype.storeValue=function(d,f,c){var g;if(c==null){c=false}if(this.localStorageSupported&&!c){try{window.localStorage.setItem(this.settings.stored_values_prefix+d,f);return}catch(h){g=h;1}}return document.cookie=this.settings.stored_values_prefix+d+"="+escape(f)};a.prototype.storeValues=function(h,c){var i,f,g,d;if(c==null){c=false}if(this.localStorageSupported&&!c){try{for(f in h){g=h[f];window.localStorage.setItem(this.settings.stored_values_prefix+f,g)}return}catch(j){i=j;1}}d=[];for(f in h){g=h[f];d.push(document.cookie=this.settings.stored_values_prefix+f+"="+escape(g))}return d};a.prototype.getStoredValue=function(p,f,i){var d,q,j,g,l,c,o,h,m;if(f==null){f=false}if(i==null){i=null}if(this.localStorageSupported&&!f){try{c=window.localStorage.getItem(this.settings.stored_values_prefix+p);return(c?c:i)}catch(n){j=n;1}}q=document.cookie.split(";");for(h=0,m=q.length;h<m;h++){d=q[h];l=d.indexOf("=");g=d.substr(0,l).replace(/^\s+|\s+$/g,"");o=d.substr(l+1).replace(/^\s+|\s+$/g,"");if(g===(this.settings.stored_values_prefix+p)){return o}}return i};a.prototype.getStoredValues=function(o,g,m){var t,h,s,q,y,j,p,l,n,f,d,c,u,x,w;if(g==null){g=false}if(m==null){m=null}l={};for(f=0,u=o.length;f<u;f++){y=o[f];l[y]=m}if(this.localStorageSupported&&!g){try{for(d=0,x=o.length;d<x;d++){y=o[d];p=window.localStorage.getItem(this.settings.stored_values_prefix+y);if(p){l[y]=p}}return l}catch(i){s=i;1}}h=document.cookie.split(";");for(c=0,w=h.length;c<w;c++){t=h[c];j=t.indexOf("=");q=t.substr(0,j).replace(/^\s+|\s+$/g,"");n=t.substr(j+1).replace(/^\s+|\s+$/g,"");if(q===(this.settings.stored_values_prefix+y)){l[y]=n}}return l};a.Constructor=a;window.TinyAdmin=new a}).call(this);function launchFullScreen(a){var b;if(!$("body").hasClass("full-screen")){b=a.requestFullScreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullScreen;if(typeof b!="undefined"&&b){b.call(a)}else{alert("你的浏览器不支持，请按F11进行全屏预览");return false}}else{b=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msCancelFullScreen||document.exitFullscreen;if(typeof b!="undefined"&&b){b.call(document)}}$("body").toggleClass("full-screen")};
;}catch(e){}
try{
(function(){var a;a=function(c){var b;b=null;return function(){if(b){clearTimeout(b)}return b=setTimeout(function(){b=null;return c.call(this)},TinyAdmin.settings.resize_delay)}};TinyAdmin.addInitializer(function(){var c,b,d,e;e=null;d=$(window);c=$('<div id="small-screen-width-point" style="position:absolute;top:-10000px;width:10px;height:10px;background:#fff;"></div>');b=$('<div id="tablet-screen-width-point" style="position:absolute;top:-10000px;width:10px;height:10px;background:#fff;"></div>');$("body").append(c).append(b);return d.on("resize",a(function(){d.trigger("pa.resize");if(c.is(":visible")){if(e!=="small"){d.trigger("pa.screen.small")}return e="small"}else{if(b.is(":visible")){if(e!=="tablet"){d.trigger("pa.screen.tablet")}return e="tablet"}else{if(e!=="desktop"){d.trigger("pa.screen.desktop")}return e="desktop"}}}))})}).call(this);
;}catch(e){}
try{
(function(){if(!String.prototype.endsWith){String.prototype.endsWith=function(a){return this.indexOf(a,this.length-a.length)!==-1}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(a,c){var b,d,e;if(this===void 0||this===null){throw new TypeError('"this" is null or not defined')}d=this.length>>>0;c=+c||0;if(Math.abs(c)===Infinity){c=0}if(c<0){c+=d;if(c<0){c=0}}for(b=e=c;c<=d?e<d:e>d;b=c<=d?++e:--e){if(this[b]===a){return b}}return -1}}if(!Function.prototype.bind){Function.prototype.bind=function(a){var e,d,b,c;if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}e=Array.prototype.slice.call(arguments,1);c=this;b=function(){};d=function(){return c.apply((this instanceof b&&a?this:a),e.concat(Array.prototype.slice.call(arguments)))};b.prototype=this.prototype;d.prototype=new b();return d}}if(!Object.keys){Object.keys=(function(){var a,c,b;b=Object.prototype.hasOwnProperty;c={toString:null}.propertyIsEnumerable("toString")?false:true;a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];return function(j){var e,k,d,i,h,g,f;if(typeof j!=="object"&&(typeof j!=="function"||j===null)){throw new TypeError("Object.keys called on non-object")}d=[];for(i=0,g=j.length;i<g;i++){k=j[i];if(b.call(j,k)){d.push(k)}}if(c){for(h=0,f=a.length;h<f;h++){e=a[h];if(b.call(j,e)){d.push(e)}}}return d}}).call(this)}window.getScreenSize=function(b,a){if(b.is(":visible")){return"small"}else{if(a.is(":visible")){return"tablet"}else{return"desktop"}}};window.elHasClass=function(b,a){return(" "+b.className+" ").indexOf(" "+a+" ")>-1};window.elRemoveClass=function(b,a){return b.className=(" "+b.className+" ").replace(" "+a+" "," ").trim()}}).call(this);
;}catch(e){}
try{
(function(){TinyAdmin.MainMenu=function(){this._screen=null;this._last_screen=null;this._animate=false;this._close_timer=null;this._dropdown_li=null;this._dropdown=null;return this};TinyAdmin.MainMenu.prototype.init=function(){var a,b;this.$menu=$("#main-menu");if(!this.$menu.length){return}this.$body=$("body");this.menu=this.$menu[0];this.$ssw_point=$("#small-screen-width-point");this.$tsw_point=$("#tablet-screen-width-point");a=this;if(TinyAdmin.settings.main_menu.store_state){b=this._getMenuState();document.body.className+=" disable-mm-animation";if(b!==null){this.$body[b==="collapsed"?"addClass":"removeClass"]("mmc")}setTimeout((function(c){return function(){return elRemoveClass(document.body,"disable-mm-animation")}})(this),20)}this.setupAnimation();$(window).on("resize.pa.mm",$.proxy(this.onResize,this));this.onResize();this.$menu.find(".navigation > .mm-dropdown").addClass("mm-dropdown-root");if(TinyAdmin.settings.main_menu.detect_active){this.detectActiveItem()}if($.support.transition){this.$menu.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",$.proxy(this._onAnimationEnd,this))}$("#main-menu-toggle").on("click",$.proxy(this.toggle,this));$("#main-menu-inner").slimScroll({height:"100%"}).on("slimscrolling",(function(c){return function(){return c.closeCurrentDropdown(true)}})(this));this.$menu.on("click",".mm-dropdown > a",function(){var c;c=this.parentNode;if(elHasClass(c,"mm-dropdown-root")&&a._collapsed()){if(elHasClass(c,"mmc-dropdown-open")){if(elHasClass(c,"freeze")){a.closeCurrentDropdown(true)}else{a.freezeDropdown(c)}}else{a.openDropdown(c,true)}}else{a.toggleSubmenu(c)}return false});this.$menu.find(".navigation").on("mouseenter.pa.mm-dropdown",".mm-dropdown-root",function(){a.clearCloseTimer();if(a._dropdown_li===this){return}if(a._collapsed()&&(!a._dropdown_li||!elHasClass(a._dropdown_li,"freeze"))){return a.openDropdown(this)}}).on("mouseleave.pa.mm-dropdown",".mm-dropdown-root",function(){return a._close_timer=setTimeout(function(){return a.closeCurrentDropdown()},TinyAdmin.settings.main_menu.dropdown_close_delay)});return this};TinyAdmin.MainMenu.prototype._collapsed=function(){return(this._screen==="desktop"&&elHasClass(document.body,"mmc"))||(this._screen!=="desktop"&&!elHasClass(document.body,"mme"))};TinyAdmin.MainMenu.prototype.onResize=function(){this._screen=getScreenSize(this.$ssw_point,this.$tsw_point);this._animate=TinyAdmin.settings.main_menu.disable_animation_on.indexOf(screen)===-1;if(this._dropdown_li){this.closeCurrentDropdown(true)}if((this._screen==="small"&&this._last_screen!==this._screen)||(this._screen==="tablet"&&this._last_screen==="small")){document.body.className+=" disable-mm-animation";setTimeout((function(a){return function(){return elRemoveClass(document.body,"disable-mm-animation")}})(this),20)}return this._last_screen=this._screen};TinyAdmin.MainMenu.prototype.clearCloseTimer=function(){if(this._close_timer){clearTimeout(this._close_timer);return this._close_timer=null}};TinyAdmin.MainMenu.prototype._onAnimationEnd=function(a){if(this._screen!=="desktop"||a.target.id!=="main-menu"){return}return $(window).trigger("resize")};TinyAdmin.MainMenu.prototype.toggle=function(){var a,b;a=this._screen==="small"||this._screen==="tablet"?"mme":"mmc";if(elHasClass(document.body,a)){elRemoveClass(document.body,a)}else{document.body.className+=" "+a}if(a==="mmc"){if(TinyAdmin.settings.main_menu.store_state){this._storeMenuState(elHasClass(document.body,"mmc"))}if(!$.support.transition){return $(window).trigger("resize")}}else{b=document.getElementById("");$("#main-navbar-collapse").stop().removeClass("in collapsing").addClass("collapse")[0].style.height="0px";return $("#main-navbar .navbar-toggle").addClass("collapsed")}};TinyAdmin.MainMenu.prototype.toggleSubmenu=function(a){this[elHasClass(a,"open")?"collapseSubmenu":"expandSubmenu"](a);return false};TinyAdmin.MainMenu.prototype.collapseSubmenu=function(a){var c,b;c=$(a);b=c.find("> ul");if(this._animate){b.animate({height:0},TinyAdmin.settings.main_menu.animation_speed,(function(d){return function(){elRemoveClass(a,"open");b.attr("style","");return c.find(".mm-dropdown.open").removeClass("open").find("> ul").attr("style","")}})(this))}else{elRemoveClass(a,"open")}return false};TinyAdmin.MainMenu.prototype.expandSubmenu=function(a){var e,b,d,c;e=$(a);if(TinyAdmin.settings.main_menu.accordion){this.collapseAllSubmenus(a)}if(this._animate){b=e.find("> ul");c=b[0];c.className+=" get-height";d=b.height();elRemoveClass(c,"get-height");c.style.display="block";c.style.height="0px";a.className+=" open";return b.animate({height:d},TinyAdmin.settings.main_menu.animation_speed,(function(f){return function(){return b.attr("style","")}})(this))}else{return a.className+=" open"}};TinyAdmin.MainMenu.prototype.collapseAllSubmenus=function(a){var b;b=this;return $(a).parent().find("> .mm-dropdown.open").each(function(){return b.collapseSubmenu(this)})};TinyAdmin.MainMenu.prototype.openDropdown=function(m,c){var i,k,e,f,h,l,d,j,g,b,a;if(c==null){c=false}if(this._dropdown_li){this.closeCurrentDropdown(c)}i=$(m);e=i.find("> ul");g=e[0];this._dropdown_li=m;this._dropdown=g;k=e.find("> .mmc-title");if(!k.length){k=$('<div class="mmc-title"></div>').text(i.find("> a > .mm-text").text());g.insertBefore(k[0],g.firstChild)}m.className+=" mmc-dropdown-open";g.className+=" mmc-dropdown-open-ul";j=i.position().top;if(elHasClass(document.body,"main-menu-fixed")){f=e.find(".mmc-wrapper");if(!f.length){a=document.createElement("div");a.className="mmc-wrapper";a.style.overflow="hidden";a.style.position="relative";f=$(a);f.append(e.find("> li"));g.appendChild(a)}b=$(window).innerHeight();d=k.outerHeight();l=d+e.find(".mmc-wrapper > li").first().outerHeight()*3;if((j+l)>b){h=j-$("#main-navbar").outerHeight();g.className+=" top";g.style.bottom=(b-j-d)+"px"}else{h=b-j-d;g.style.top=j+"px"}if(elHasClass(g,"top")){g.appendChild(k[0])}else{g.insertBefore(k[0],g.firstChild)}m.className+=" slimscroll-attached";f[0].style.maxHeight=(h-10)+"px";f.pixelSlimScroll({})}else{g.style.top=j+"px"}if(c){this.freezeDropdown(m)}if(!c){e.on("mouseenter",(function(n){return function(){return n.clearCloseTimer()}})(this)).on("mouseleave",(function(n){return function(){return n._close_timer=setTimeout(function(){return n.closeCurrentDropdown()},TinyAdmin.settings.main_menu.dropdown_close_delay)}})(this));this}return this.menu.appendChild(g)};TinyAdmin.MainMenu.prototype.closeCurrentDropdown=function(b){var c,a;if(b==null){b=false}if(!this._dropdown_li||(elHasClass(this._dropdown_li,"freeze")&&!b)){return}this.clearCloseTimer();c=$(this._dropdown);if(elHasClass(this._dropdown_li,"slimscroll-attached")){elRemoveClass(this._dropdown_li,"slimscroll-attached");a=c.find(".mmc-wrapper");a.pixelSlimScroll({destroy:"destroy"}).find("> *").appendTo(c);a.remove()}this._dropdown_li.appendChild(this._dropdown);elRemoveClass(this._dropdown,"mmc-dropdown-open-ul");elRemoveClass(this._dropdown,"top");elRemoveClass(this._dropdown_li,"mmc-dropdown-open");elRemoveClass(this._dropdown_li,"freeze");$(this._dropdown_li).attr("style","");c.attr("style","").off("mouseenter").off("mouseleave");this._dropdown=null;return this._dropdown_li=null};TinyAdmin.MainMenu.prototype.freezeDropdown=function(a){return a.className+=" freeze"};TinyAdmin.MainMenu.prototype.setupAnimation=function(){var b,d,c,a;c=document.body;a=TinyAdmin.settings.main_menu.disable_animation_on;c.className+=" dont-animate-mm-content";b=$("#main-menu");d=b.find(".navigation");d.find("> .mm-dropdown > ul").addClass("mmc-dropdown-delay animated");d.find("> li > a > .mm-text").addClass("mmc-dropdown-delay animated fadeIn");b.find(".menu-content").addClass("animated fadeIn");c.className+=a.indexOf("small")===-1?" animate-mm-sm":" dont-animate-mm-content-sm";c.className+=a.indexOf("tablet")===-1?" animate-mm-md":" dont-animate-mm-content-md";c.className+=a.indexOf("desktop")===-1?" animate-mm-lg":" dont-animate-mm-content-lg";return window.setTimeout(function(){return elRemoveClass(c,"dont-animate-mm-content")},500)};TinyAdmin.MainMenu.prototype.detectActiveItem=function(){var g,f,j,b,i,c,e,h,d;c=(document.location+"").replace(/\#.*?$/,"");i=TinyAdmin.settings.main_menu.detect_active_predicate;b=$("#main-menu .navigation");b.find("li").removeClass("open active");j=b[0].getElementsByTagName("a");f=(function(a){return function(k){k.className+=" active";if(!elHasClass(k.parentNode,"navigation")){k=k.parentNode.parentNode;k.className+=" open";return f(k)}}})(this);d=[];for(e=0,h=j.length;e<h;e++){g=j[e];if(g.href.indexOf("#")===-1&&i(g.href,c)){f(g.parentNode);break}else{d.push(void 0)}}return d};TinyAdmin.MainMenu.prototype._getMenuState=function(){return TinyAdmin.getStoredValue(TinyAdmin.settings.main_menu.store_state_key,null)};TinyAdmin.MainMenu.prototype._storeMenuState=function(a){if(!TinyAdmin.settings.main_menu.store_state){return}return TinyAdmin.storeValue(TinyAdmin.settings.main_menu.store_state_key,a?"collapsed":"expanded")};TinyAdmin.MainMenu.Constructor=TinyAdmin.MainMenu;TinyAdmin.addInitializer(function(){return TinyAdmin.initPlugin("main_menu",new TinyAdmin.MainMenu)})}).call(this);
;}catch(e){}
try{
(function(){TinyAdmin.MainNavbar=function(){this._scroller=false;this._wheight=null;this.scroll_pos=0;return this};TinyAdmin.MainNavbar.prototype.init=function(){var a;this.$navbar=$("#main-navbar");this.$header=this.$navbar.find(".navbar-header");this.$toggle=this.$navbar.find(".navbar-toggle:first");this.$collapse=$("#main-navbar-collapse");this.$collapse_div=this.$collapse.find("> div");a=false;$(window).on("pa.screen.small pa.screen.tablet",(function(b){return function(){if(b.$navbar.css("position")==="fixed"){b._setupScroller()}return a=true}})(this)).on("pa.screen.desktop",(function(b){return function(){b._removeScroller();return a=false}})(this));return this.$navbar.on("click",".nav-icon-btn.dropdown > .dropdown-toggle",function(b){if(a){b.preventDefault();b.stopPropagation();document.location.href=$(this).attr("href");return false}})};TinyAdmin.MainNavbar.prototype._setupScroller=function(){if(this._scroller){return}this._scroller=true;this.$collapse_div.pixelSlimScroll({});this.$navbar.on("shown.bs.collapse.mn_collapse",$.proxy(((function(a){return function(){a._updateCollapseHeight();return a._watchWindowHeight()}})(this)),this)).on("hidden.bs.collapse.mn_collapse",$.proxy(((function(a){return function(){a._wheight=null;return a.$collapse_div.pixelSlimScroll({scrollTo:"0px"})}})(this)),this)).on("shown.bs.dropdown.mn_collapse",$.proxy(this._updateCollapseHeight,this)).on("hidden.bs.dropdown.mn_collapse",$.proxy(this._updateCollapseHeight,this));return this._updateCollapseHeight()};TinyAdmin.MainNavbar.prototype._removeScroller=function(){if(!this._scroller){return}this._wheight=null;this._scroller=false;this.$collapse_div.pixelSlimScroll({destroy:"destroy"});this.$navbar.off("shown.bs.collapse.mn_collapse");this.$navbar.off("hidden.bs.collapse.mn_collapse");this.$navbar.off("shown.bs.dropdown.mn_collapse");this.$navbar.off("hidden.bs.dropdown.mn_collapse");return this.$collapse.attr("style","")};TinyAdmin.MainNavbar.prototype._updateCollapseHeight=function(){var c,b,a;if(!this._scroller){return}a=$(window).innerHeight();c=this.$header.outerHeight();b=this.$collapse_div.scrollTop();if((c+this.$collapse_div.css({"max-height":"none"}).outerHeight())>a){this.$collapse_div.css({"max-height":a-c})}else{this.$collapse_div.css({"max-height":"none"})}return this.$collapse_div.pixelSlimScroll({scrollTo:b+"px"})};TinyAdmin.MainNavbar.prototype._watchWindowHeight=function(){var a;this._wheight=$(window).innerHeight();a=(function(b){return function(){if(b._wheight===null){return}if(b._wheight!==$(window).innerHeight()){b._updateCollapseHeight()}b._wheight=$(window).innerHeight();return setTimeout(a,100)}})(this);return window.setTimeout(a,100)};TinyAdmin.MainNavbar.Constructor=TinyAdmin.MainNavbar;TinyAdmin.addInitializer(function(){return TinyAdmin.initPlugin("main_navbar",new TinyAdmin.MainNavbar)})}).call(this);
;}catch(e){}
try{
/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.2
 *
 */
(function(a){jQuery.fn.extend({slimScroll:function(b){var c={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0.4,alwaysVisible:false,disableFadeOut:false,railVisible:false,railColor:"#333",railOpacity:0.2,railDraggable:true,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:false,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"};var d=a.extend(c,b);this.each(function(){var x,r,k,p,A,s,o,j,l="<div></div>",u=30,q=false;var B=a(this);if(B.parent().hasClass(d.wrapperClass)){var h=B.scrollTop();v=B.parent().find("."+d.barClass);e=B.parent().find("."+d.railClass);C();if(a.isPlainObject(b)){if("height" in b&&b.height=="auto"){B.parent().css("height","auto");B.css("height","auto");var n=B.parent().parent().height();B.parent().css("height",n);B.css("height",n)}if("scrollTo" in b){h=parseInt(d.scrollTo)}else{if("scrollBy" in b){h+=parseInt(d.scrollBy)}else{if("destroy" in b){v.remove();e.remove();B.unwrap();return}}}w(h,false,true)}return}d.height=(b.height=="auto")?B.parent().height():b.height;var i=a(l).addClass(d.wrapperClass).css({position:"relative",overflow:"hidden",width:d.width,height:d.height});B.css({overflow:"hidden",width:d.width,height:d.height});var e=a(l).addClass(d.railClass).css({width:d.size,height:"100%",position:"absolute",top:0,display:(d.alwaysVisible&&d.railVisible)?"block":"none","border-radius":d.railBorderRadius,background:d.railColor,opacity:d.railOpacity,zIndex:90});var v=a(l).addClass(d.barClass).css({background:d.color,width:d.size,position:"absolute",top:0,opacity:d.opacity,display:d.alwaysVisible?"block":"none","border-radius":d.borderRadius,BorderRadius:d.borderRadius,MozBorderRadius:d.borderRadius,WebkitBorderRadius:d.borderRadius,zIndex:99});var f=(d.position=="right")?{right:d.distance}:{left:d.distance};e.css(f);v.css(f);B.wrap(i);B.parent().append(v);B.parent().append(e);if(d.railDraggable){v.bind("mousedown",function(D){var E=a(document);k=true;t=parseFloat(v.css("top"));pageY=D.pageY;E.bind("mousemove.slimscroll",function(F){currTop=t+F.pageY-pageY;v.css("top",currTop);w(0,v.position().top,false)});E.bind("mouseup.slimscroll",function(F){k=false;m();E.unbind(".slimscroll")});return false}).bind("selectstart.slimscroll",function(D){D.stopPropagation();D.preventDefault();return false})}e.hover(function(){g()},function(){m()});v.hover(function(){r=true},function(){r=false});B.hover(function(){x=true;g();m()},function(){x=false;m()});B.bind("touchstart",function(E,D){if(E.originalEvent.touches.length){A=E.originalEvent.touches[0].pageY}});B.bind("touchmove",function(E){if(!q){E.originalEvent.preventDefault()}if(E.originalEvent.touches.length){var D=(A-E.originalEvent.touches[0].pageY)/d.touchScrollStep;w(D,true);A=E.originalEvent.touches[0].pageY}});C();if(d.start==="bottom"){v.css({top:B.outerHeight()-v.outerHeight()});w(0,true)}else{if(d.start!=="top"){w(a(d.start).position().top,null,true);if(!d.alwaysVisible){v.hide()}}}y();function z(E){if(!x){return}var E=E||window.event;var F=0;if(E.wheelDelta){F=-E.wheelDelta/120}if(E.detail){F=E.detail/3}var D=E.target||E.srcTarget||E.srcElement;if(a(D).closest("."+d.wrapperClass).is(B.parent())){w(F,true)}if(E.preventDefault&&!q){E.preventDefault()}if(!q){E.returnValue=false}}function w(I,F,D){q=false;var H=I;var G=B.outerHeight()-v.outerHeight();if(F){H=parseInt(v.css("top"))+I*parseInt(d.wheelStep)/100*v.outerHeight();H=Math.min(Math.max(H,0),G);H=(I>0)?Math.ceil(H):Math.floor(H);v.css({top:H+"px"})}o=parseInt(v.css("top"))/(B.outerHeight()-v.outerHeight());H=o*(B[0].scrollHeight-B.outerHeight());if(D){H=I;var E=H/B[0].scrollHeight*B.outerHeight();E=Math.min(Math.max(E,0),G);v.css({top:E+"px"})}B.scrollTop(H);B.trigger("slimscrolling",~~H);g();m()}function y(){if(window.addEventListener){this.addEventListener("DOMMouseScroll",z,false);this.addEventListener("mousewheel",z,false)}else{document.attachEvent("onmousewheel",z)}}function C(){s=Math.max((B.outerHeight()/B[0].scrollHeight)*B.outerHeight(),u);v.css({height:s+"px"});var D=s==B.outerHeight()?"none":"block";v.css({display:D})}function g(){C();clearTimeout(p);if(o==~~o){q=d.allowPageScroll;if(j!=o){var D=(~~o==0)?"top":"bottom";B.trigger("slimscroll",D)}}else{q=false}j=o;if(s>=B.outerHeight()){q=true;return}v.stop(true,true).fadeIn("fast");if(d.railVisible){e.stop(true,true).fadeIn("fast")}}function m(){if(!d.alwaysVisible){p=setTimeout(function(){if(!(d.disableFadeOut&&x)&&!r&&!k){v.fadeOut("slow");e.fadeOut("slow")}},1000)}}});return this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})})(jQuery);
;}catch(e){}
var tinyTplList=[];try{
/*!
 * Masonry PACKAGED v4.0.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */

!function(t,e){"use strict";"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,a){function h(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,h){var u=a.data(h,i);if(!u)return void s(i+" not initialized. Cannot call methods, i.e. "+r);var d=u[e];if(!d||"_"==e.charAt(0))return void s(r+" is not a valid method");var c=d.apply(u,n);o=void 0===o?c:o}),void 0!==o?o:t}function u(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return h(this,t,e)}return u(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s="undefined"==typeof r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||[];return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;u>e;e++){var i=h[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);r.isBoxSizeOuter=s=200==t(o.width),i.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=n(e);if("none"==r.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==r.boxSizing,c=0;u>c;c++){var l=h[c],f=r[l],m=parseFloat(f);a[l]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,E=a.borderTopWidth+a.borderBottomWidth,z=d&&s,b=t(r.width);b!==!1&&(a.width=b+(z?0:p+_));var x=t(r.height);return x!==!1&&(a.height=x+(z?0:g+E)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(g+E),a.outerWidth=a.width+y,a.outerHeight=a.height+v,a}}var s,a="undefined"==typeof console?e:function(t){console.error(t)},h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u=h.length,d=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},i.docReady=function(t){"complete"==document.readyState?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var r=i.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),h=document.querySelectorAll(".js-"+r),u=i.makeArray(a).concat(i.makeArray(h)),d=s+"-options",c=t.jQuery;u.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(d);try{i=r&&JSON.parse(r)}catch(a){return void(n&&n.error("Error parsing "+s+" on "+t.className+": "+a))}var h=new e(t,i);c&&c.data(t,o,h)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EvEmitter,t.getSize))}(window,function(t,e,i){"use strict";function n(t){for(var e in t)return!1;return e=null,!0}function o(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function r(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var s=document.documentElement.style,a="string"==typeof s.transition?"transition":"WebkitTransition",h="string"==typeof s.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],d=[h,a,a+"Duration",a+"Property"],c=o.prototype=Object.create(e.prototype);c.constructor=o,c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.getSize=function(){this.size=i(this.element)},c.css=function(t){var e=this.element.style;for(var i in t){var n=d[i]||i;e[n]=t[i]}},c.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=this.layout.size,s=-1!=n.indexOf("%")?parseFloat(n)/100*r.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?r.paddingLeft:r.paddingRight,a-=i?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},c.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",s=i?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var h=n?"paddingTop":"paddingBottom",u=n?"top":"bottom",d=n?"bottom":"top",c=this.position.y+t[h];e[u]=this.getYValue(c),e[d]="",this.css(e),this.emitEvent("layout",[this])},c.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},c.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},c._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,h=e-n,u={};u.transform=this.getTranslate(a,h),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},c.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},c.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},c.moveTo=c._transitionTo,c.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},c._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},c._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l="opacity,"+r(d.transform||"transform");c.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:l,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(u,this,!1))},c.transition=o.prototype[a?"_transition":"_nonTransition"],c.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},c.onotransitionend=function(t){this.ontransitionend(t)};var f={"-webkit-transform":"transform"};c.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var o=e.onEnd[i];o.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},c.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},c._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var m={transitionProperty:"",transitionDuration:""};return c.removeTransitionStyles=function(){this.css(m)},c.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},c.remove=function(){return a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},c.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},c.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},c.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},c.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},c.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function r(t,e){var i=n.getQueryElement(t);if(!i)return void(a&&a.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,h&&(this.$element=h(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++d;this.element.outlayerGUID=o,c[o]=this,this._create();var r=this._getOption("initLayout");r&&this.layout()}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}var a=t.console,h=t.jQuery,u=function(){},d=0,c={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var l=r.prototype;return n.extend(l,e.prototype),l.option=function(t){n.extend(this.options,t)},l._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},l._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},l.reloadItems=function(){this.items=this._itemize(this.element.children)},l._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=e[o],s=new i(r,this);n.push(s)}return n},l._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},l.getItemElements=function(){return this.items.map(function(t){return t.element})},l.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},l._init=l.layout,l._resetLayout=function(){this.getSize()},l.getSize=function(){this.size=i(this.element)},l._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},l.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},l._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},l._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},l._getItemLayoutPosition=function(){return{x:0,y:0}},l._processLayoutQueue=function(t){t.forEach(function(t){this._positionItem(t.item,t.x,t.y,t.isInstant)},this)},l._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},l._postLayout=function(){this.resizeContainer()},l.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},l._getContainerSize=u,l._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},l._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){s++,s==r&&i()}var o=this,r=e.length;if(!e||!r)return void i();var s=0;e.forEach(function(e){e.once(t,n)})},l.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),h)if(this.$element=this.$element||h(this.element),e){var o=h.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},l.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},l.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},l.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},l.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},l._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},l._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},l._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},l._manageStamp=u,l._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),r={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return r},l.handleEvent=n.handleEvent,l.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},l.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},l.onresize=function(){this.resize()},n.debounceMethod(r,"onresize",100),l.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},l.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},l.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},l.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},l.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},l.reveal=function(t){this._emitCompleteOnItems("reveal",t),t&&t.length&&t.forEach(function(t){t.reveal()})},l.hide=function(t){this._emitCompleteOnItems("hide",t),t&&t.length&&t.forEach(function(t){t.hide()})},l.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},l.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},l.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},l.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},l.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},l.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete c[e],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&c[e]},r.create=function(t,e){var i=s(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=s(o),n.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i},r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&1>s?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),r=Math.min.apply(Math,o),s=o.indexOf(r),a={x:this.columnWidth*s,y:r},h=r+t.size.outerHeight,u=this.cols+1-o.length,d=0;u>d;d++)this.colYs[s+d]=h;return a},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?n.left:n.right,s=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var h=Math.floor(s/this.columnWidth);h-=s%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var u=this._getOption("originTop"),d=(u?n.top:n.bottom)+i.outerHeight,c=a;h>=c;c++)this.colYs[c]=Math.max(d,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i});
;}catch(e){}
try{
jQuery(document).ready(function(){jQuery(".skillbar").each(function(){jQuery(this).find(".skillbar-bar").animate({width:jQuery(this).attr("data-percent")},6000)})});
;}catch(e){}
try{
/*! DataTables 1.10.7
 * ©2008-2015 SpryMedia Ltd - datatables.net/license
 */
(function(Ea,Q,k){var P=function(h){function W(a){var b,c,e={};h.each(a,function(d){if((b=d.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" "))c=d.replace(b[0],b[2].toLowerCase()),e[c]=d,"o"===b[1]&&W(a[d])});a._hungarianMap=e}function H(a,b,c){a._hungarianMap||W(a);var e;h.each(b,function(d){e=a._hungarianMap[d];if(e!==k&&(c||b[e]===k))"o"===e.charAt(0)?(b[e]||(b[e]={}),h.extend(!0,b[e],b[d]),H(a[e],b[e],c)):b[e]=b[d]})}function P(a){var b=m.defaults.oLanguage,c=a.sZeroRecords;
!a.sEmptyTable&&(c&&"没有找到可用的信息"===b.sEmptyTable)&&E(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&(c&&"Loading..."===b.sLoadingRecords)&&E(a,a,"sZeroRecords","sLoadingRecords");a.sInfoThousands&&(a.sThousands=a.sInfoThousands);(a=a.sDecimal)&&db(a)}function eb(a){A(a,"ordering","bSort");A(a,"orderMulti","bSortMulti");A(a,"orderClasses","bSortClasses");A(a,"orderCellsTop","bSortCellsTop");A(a,"order","aaSorting");A(a,"orderFixed","aaSortingFixed");A(a,"paging","bPaginate");
A(a,"pagingType","sPaginationType");A(a,"pageLength","iDisplayLength");A(a,"searching","bFilter");if(a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&H(m.models.oSearch,a[b])}function fb(a){A(a,"orderable","bSortable");A(a,"orderData","aDataSort");A(a,"orderSequence","asSorting");A(a,"orderDataType","sortDataType");var b=a.aDataSort;b&&!h.isArray(b)&&(a.aDataSort=[b])}function gb(a){var a=a.oBrowser,b=h("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(h("<div/>").css({position:"absolute",
top:1,left:1,width:100,overflow:"scroll"}).append(h('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),c=b.find(".test");a.bScrollOversize=100===c[0].offsetWidth;a.bScrollbarLeft=1!==Math.round(c.offset().left);b.remove()}function hb(a,b,c,e,d,f){var g,j=!1;c!==k&&(g=c,j=!0);for(;e!==d;)a.hasOwnProperty(e)&&(g=j?b(g,a[e],e,a):a[e],j=!0,e+=f);return g}function Fa(a,b){var c=m.defaults.column,e=a.aoColumns.length,c=h.extend({},m.models.oColumn,c,{nTh:b?b:Q.createElement("th"),sTitle:c.sTitle?
c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[e],mData:c.mData?c.mData:e,idx:e});a.aoColumns.push(c);c=a.aoPreSearchCols;c[e]=h.extend({},m.models.oSearch,c[e]);ka(a,e,h(b).data())}function ka(a,b,c){var b=a.aoColumns[b],e=a.oClasses,d=h(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=d.attr("width")||null;var f=(d.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);f&&(b.sWidthOrig=f[1])}c!==k&&null!==c&&(fb(c),H(m.defaults.column,c),c.mDataProp!==k&&!c.mData&&(c.mData=c.mDataProp),c.sType&&
(b._sManualType=c.sType),c.className&&!c.sClass&&(c.sClass=c.className),h.extend(b,c),E(b,c,"sWidth","sWidthOrig"),c.iDataSort!==k&&(b.aDataSort=[c.iDataSort]),E(b,c,"aDataSort"));var g=b.mData,j=R(g),i=b.mRender?R(b.mRender):null,c=function(a){return"string"===typeof a&&-1!==a.indexOf("@")};b._bAttrSrc=h.isPlainObject(g)&&(c(g.sort)||c(g.type)||c(g.filter));b.fnGetData=function(a,b,c){var e=j(a,b,k,c);return i&&b?i(e,b,a,c):e};b.fnSetData=function(a,b,c){return S(g)(a,b,c)};"number"!==typeof g&&
(a._rowReadObject=!0);a.oFeatures.bSort||(b.bSortable=!1,d.addClass(e.sSortableNone));a=-1!==h.inArray("asc",b.asSorting);c=-1!==h.inArray("desc",b.asSorting);!b.bSortable||!a&&!c?(b.sSortingClass=e.sSortableNone,b.sSortingClassJUI=""):a&&!c?(b.sSortingClass=e.sSortableAsc,b.sSortingClassJUI=e.sSortJUIAscAllowed):!a&&c?(b.sSortingClass=e.sSortableDesc,b.sSortingClassJUI=e.sSortJUIDescAllowed):(b.sSortingClass=e.sSortable,b.sSortingClassJUI=e.sSortJUI)}function X(a){if(!1!==a.oFeatures.bAutoWidth){var b=
a.aoColumns;Ga(a);for(var c=0,e=b.length;c<e;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll;(""!==b.sY||""!==b.sX)&&Y(a);w(a,null,"column-sizing",[a])}function la(a,b){var c=Z(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function $(a,b){var c=Z(a,"bVisible"),c=h.inArray(b,c);return-1!==c?c:null}function aa(a){return Z(a,"bVisible").length}function Z(a,b){var c=[];h.map(a.aoColumns,function(a,d){a[b]&&c.push(d)});return c}function Ha(a){var b=a.aoColumns,c=a.aoData,e=m.ext.type.detect,d,
f,g,j,i,h,l,q,n;d=0;for(f=b.length;d<f;d++)if(l=b[d],n=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){g=0;for(j=e.length;g<j;g++){i=0;for(h=c.length;i<h;i++){n[i]===k&&(n[i]=x(a,i,d,"type"));q=e[g](n[i],a);if(!q&&g!==e.length-1)break;if("html"===q)break}if(q){l.sType=q;break}}l.sType||(l.sType="string")}}function ib(a,b,c,e){var d,f,g,j,i,o,l=a.aoColumns;if(b)for(d=b.length-1;0<=d;d--){o=b[d];var q=o.targets!==k?o.targets:o.aTargets;h.isArray(q)||(q=[q]);f=0;for(g=q.length;f<
g;f++)if("number"===typeof q[f]&&0<=q[f]){for(;l.length<=q[f];)Fa(a);e(q[f],o)}else if("number"===typeof q[f]&&0>q[f])e(l.length+q[f],o);else if("string"===typeof q[f]){j=0;for(i=l.length;j<i;j++)("_all"==q[f]||h(l[j].nTh).hasClass(q[f]))&&e(j,o)}}if(c){d=0;for(a=c.length;d<a;d++)e(d,c[d])}}function K(a,b,c,e){var d=a.aoData.length,f=h.extend(!0,{},m.models.oRow,{src:c?"dom":"data"});f._aData=b;a.aoData.push(f);for(var b=a.aoColumns,f=0,g=b.length;f<g;f++)c&&Ia(a,d,f,x(a,d,f)),b[f].sType=null;a.aiDisplayMaster.push(d);
(c||!a.oFeatures.bDeferRender)&&Ja(a,d,c,e);return d}function ma(a,b){var c;b instanceof h||(b=h(b));return b.map(function(b,d){c=na(a,d);return K(a,c.data,d,c.cells)})}function x(a,b,c,e){var d=a.iDraw,f=a.aoColumns[c],g=a.aoData[b]._aData,j=f.sDefaultContent,c=f.fnGetData(g,e,{settings:a,row:b,col:c});if(c===k)return a.iDrawError!=d&&null===j&&(I(a,0,"Requested unknown parameter "+("function"==typeof f.mData?"{function}":"'"+f.mData+"'")+" for row "+b,4),a.iDrawError=d),j;if((c===g||null===c)&&
null!==j)c=j;else if("function"===typeof c)return c.call(g);return null===c&&"display"==e?"":c}function Ia(a,b,c,e){a.aoColumns[c].fnSetData(a.aoData[b]._aData,e,{settings:a,row:b,col:c})}function Ka(a){return h.map(a.match(/(\\.|[^\.])+/g),function(a){return a.replace(/\\./g,".")})}function R(a){if(h.isPlainObject(a)){var b={};h.each(a,function(a,c){c&&(b[a]=R(c))});return function(a,c,f,g){var j=b[c]||b._;return j!==k?j(a,c,f,g):a}}if(null===a)return function(a){return a};if("function"===typeof a)return function(b,
c,f,g){return a(b,c,f,g)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var c=function(a,b,f){var g,j;if(""!==f){j=Ka(f);for(var i=0,h=j.length;i<h;i++){f=j[i].match(ba);g=j[i].match(T);if(f){j[i]=j[i].replace(ba,"");""!==j[i]&&(a=a[j[i]]);g=[];j.splice(0,i+1);j=j.join(".");i=0;for(h=a.length;i<h;i++)g.push(c(a[i],b,j));a=f[0].substring(1,f[0].length-1);a=""===a?g:g.join(a);break}else if(g){j[i]=j[i].replace(T,"");a=a[j[i]]();continue}if(null===a||a[j[i]]===
k)return k;a=a[j[i]]}}return a};return function(b,d){return c(b,d,a)}}return function(b){return b[a]}}function S(a){if(h.isPlainObject(a))return S(a._);if(null===a)return function(){};if("function"===typeof a)return function(b,e,d){a(b,"set",e,d)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var b=function(a,e,d){var d=Ka(d),f;f=d[d.length-1];for(var g,j,i=0,h=d.length-1;i<h;i++){g=d[i].match(ba);j=d[i].match(T);if(g){d[i]=d[i].replace(ba,"");a[d[i]]=[];
f=d.slice();f.splice(0,i+1);g=f.join(".");j=0;for(h=e.length;j<h;j++)f={},b(f,e[j],g),a[d[i]].push(f);return}j&&(d[i]=d[i].replace(T,""),a=a[d[i]](e));if(null===a[d[i]]||a[d[i]]===k)a[d[i]]={};a=a[d[i]]}if(f.match(T))a[f.replace(T,"")](e);else a[f.replace(ba,"")]=e};return function(c,e){return b(c,e,a)}}return function(b,e){b[a]=e}}function La(a){return D(a.aoData,"_aData")}function oa(a){a.aoData.length=0;a.aiDisplayMaster.length=0;a.aiDisplay.length=0}function pa(a,b,c){for(var e=-1,d=0,f=a.length;d<
f;d++)a[d]==b?e=d:a[d]>b&&a[d]--; -1!=e&&c===k&&a.splice(e,1)}function ca(a,b,c,e){var d=a.aoData[b],f,g=function(c,f){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=x(a,b,f,"display")};if("dom"===c||(!c||"auto"===c)&&"dom"===d.src)d._aData=na(a,d,e,e===k?k:d._aData).data;else{var j=d.anCells;if(j)if(e!==k)g(j[e],e);else{c=0;for(f=j.length;c<f;c++)g(j[c],c)}}d._aSortData=null;d._aFilterData=null;g=a.aoColumns;if(e!==k)g[e].sType=null;else{c=0;for(f=g.length;c<f;c++)g[c].sType=null;
Ma(d)}}function na(a,b,c,e){var d=[],f=b.firstChild,g,j=0,i,o=a.aoColumns,l=a._rowReadObject,e=e||l?{}:[],q=function(a,b){if("string"===typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),S(a)(e,b.getAttribute(c)))}},a=function(a){if(c===k||c===j)g=o[j],i=h.trim(a.innerHTML),g&&g._bAttrSrc?(S(g.mData._)(e,i),q(g.mData.sort,a),q(g.mData.type,a),q(g.mData.filter,a)):l?(g._setter||(g._setter=S(g.mData)),g._setter(e,i)):e[j]=i;j++};if(f)for(;f;){b=f.nodeName.toUpperCase();if("TD"==b||"TH"==b)a(f),
d.push(f);f=f.nextSibling}else{d=b.anCells;f=0;for(b=d.length;f<b;f++)a(d[f])}return{data:e,cells:d}}function Ja(a,b,c,e){var d=a.aoData[b],f=d._aData,g=[],j,i,h,l,q;if(null===d.nTr){j=c||Q.createElement("tr");d.nTr=j;d.anCells=g;j._DT_RowIndex=b;Ma(d);l=0;for(q=a.aoColumns.length;l<q;l++){h=a.aoColumns[l];i=c?e[l]:Q.createElement(h.sCellType);g.push(i);if(!c||h.mRender||h.mData!==l)i.innerHTML=x(a,b,l,"display");h.sClass&&(i.className+=" "+h.sClass);h.bVisible&&!c?j.appendChild(i):!h.bVisible&&c&&
i.parentNode.removeChild(i);h.fnCreatedCell&&h.fnCreatedCell.call(a.oInstance,i,x(a,b,l),f,b,l)}w(a,"aoRowCreatedCallback",null,[j,f,b])}d.nTr.setAttribute("role","row")}function Ma(a){var b=a.nTr,c=a._aData;if(b){c.DT_RowId&&(b.id=c.DT_RowId);if(c.DT_RowClass){var e=c.DT_RowClass.split(" ");a.__rowc=a.__rowc?Na(a.__rowc.concat(e)):e;h(b).removeClass(a.__rowc.join(" ")).addClass(c.DT_RowClass)}c.DT_RowAttr&&h(b).attr(c.DT_RowAttr);c.DT_RowData&&h(b).data(c.DT_RowData)}}function jb(a){var b,c,e,d,
f,g=a.nTHead,j=a.nTFoot,i=0===h("th, td",g).length,o=a.oClasses,l=a.aoColumns;i&&(d=h("<tr/>").appendTo(g));b=0;for(c=l.length;b<c;b++)f=l[b],e=h(f.nTh).addClass(f.sClass),i&&e.appendTo(d),a.oFeatures.bSort&&(e.addClass(f.sSortingClass),!1!==f.bSortable&&(e.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Oa(a,f.nTh,b))),f.sTitle!=e.html()&&e.html(f.sTitle),Pa(a,"header")(a,e,f,o);i&&da(a.aoHeader,g);h(g).find(">tr").attr("role","row");h(g).find(">tr>th, >tr>td").addClass(o.sHeaderTH);
h(j).find(">tr>th, >tr>td").addClass(o.sFooterTH);if(null!==j){a=a.aoFooter[0];b=0;for(c=a.length;b<c;b++)f=l[b],f.nTf=a[b].cell,f.sClass&&h(f.nTf).addClass(f.sClass)}}function ea(a,b,c){var e,d,f,g=[],j=[],i=a.aoColumns.length,o;if(b){c===k&&(c=!1);e=0;for(d=b.length;e<d;e++){g[e]=b[e].slice();g[e].nTr=b[e].nTr;for(f=i-1;0<=f;f--)!a.aoColumns[f].bVisible&&!c&&g[e].splice(f,1);j.push([])}e=0;for(d=g.length;e<d;e++){if(a=g[e].nTr)for(;f=a.firstChild;)a.removeChild(f);f=0;for(b=g[e].length;f<b;f++)if(o=
i=1,j[e][f]===k){a.appendChild(g[e][f].cell);for(j[e][f]=1;g[e+i]!==k&&g[e][f].cell==g[e+i][f].cell;)j[e+i][f]=1,i++;for(;g[e][f+o]!==k&&g[e][f].cell==g[e][f+o].cell;){for(c=0;c<i;c++)j[e+c][f+o]=1;o++}h(g[e][f].cell).attr("rowspan",i).attr("colspan",o)}}}}function M(a){var b=w(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==h.inArray(!1,b))C(a,!1);else{var b=[],c=0,e=a.asStripeClasses,d=e.length,f=a.oLanguage,g=a.iInitDisplayStart,j="ssp"==B(a),i=a.aiDisplay;a.bDrawing=!0;g!==k&&-1!==g&&(a._iDisplayStart=
j?g:g>=a.fnRecordsDisplay()?0:g,a.iInitDisplayStart=-1);var g=a._iDisplayStart,o=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,C(a,!1);else if(j){if(!a.bDestroying&&!kb(a))return}else a.iDraw++;if(0!==i.length){f=j?a.aoData.length:o;for(j=j?0:g;j<f;j++){var l=i[j],q=a.aoData[l];null===q.nTr&&Ja(a,l);l=q.nTr;if(0!==d){var n=e[c%d];q._sRowStripe!=n&&(h(l).removeClass(q._sRowStripe).addClass(n),q._sRowStripe=n)}w(a,"aoRowCallback",null,[l,q._aData,c,j]);b.push(l);c++}}else c=f.sZeroRecords,
1==a.iDraw&&"ajax"==B(a)?c=f.sLoadingRecords:f.sEmptyTable&&0===a.fnRecordsTotal()&&(c=f.sEmptyTable),b[0]=h("<tr/>",{"class":d?e[0]:""}).append(h("<td />",{valign:"top",colSpan:aa(a),"class":a.oClasses.sRowEmpty}).html(c))[0];w(a,"aoHeaderCallback","header",[h(a.nTHead).children("tr")[0],La(a),g,o,i]);w(a,"aoFooterCallback","footer",[h(a.nTFoot).children("tr")[0],La(a),g,o,i]);e=h(a.nTBody);e.children().detach();e.append(h(b));w(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=
!1}}function N(a,b){var c=a.oFeatures,e=c.bFilter;c.bSort&&lb(a);e?fa(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice();!0!==b&&(a._iDisplayStart=0);a._drawHold=b;M(a);a._drawHold=!1}function mb(a){var b=a.oClasses,c=h(a.nTable),c=h("<div/>").insertBefore(c),e=a.oFeatures,d=h("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0];a.nTableWrapper=d[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var f=a.sDom.split(""),g,j,i,o,l,q,n=0;n<f.length;n++){g=
null;j=f[n];if("<"==j){i=h("<div/>")[0];o=f[n+1];if("'"==o||'"'==o){l="";for(q=2;f[n+q]!=o;)l+=f[n+q],q++;"H"==l?l=b.sJUIHeader:"F"==l&&(l=b.sJUIFooter);-1!=l.indexOf(".")?(o=l.split("."),i.id=o[0].substr(1,o[0].length-1),i.className=o[1]):"#"==l.charAt(0)?i.id=l.substr(1,l.length-1):i.className=l;n+=q}d.append(i);d=h(i)}else if(">"==j)d=d.parent();else if("l"==j&&e.bPaginate&&e.bLengthChange)g=nb(a);else if("f"==j&&e.bFilter)g=ob(a);else if("r"==j&&e.bProcessing)g=pb(a);else if("t"==j)g=qb(a);else if("i"==
j&&e.bInfo)g=rb(a);else if("p"==j&&e.bPaginate)g=sb(a);else if(0!==m.ext.feature.length){i=m.ext.feature;q=0;for(o=i.length;q<o;q++)if(j==i[q].cFeature){g=i[q].fnInit(a);break}}g&&(i=a.aanFeatures,i[j]||(i[j]=[]),i[j].push(g),d.append(g))}c.replaceWith(d)}function da(a,b){var c=h(b).children("tr"),e,d,f,g,j,i,o,l,q,n;a.splice(0,a.length);f=0;for(i=c.length;f<i;f++)a.push([]);f=0;for(i=c.length;f<i;f++){e=c[f];for(d=e.firstChild;d;){if("TD"==d.nodeName.toUpperCase()||"TH"==d.nodeName.toUpperCase()){l=
1*d.getAttribute("colspan");q=1*d.getAttribute("rowspan");l=!l||0===l||1===l?1:l;q=!q||0===q||1===q?1:q;g=0;for(j=a[f];j[g];)g++;o=g;n=1===l?!0:!1;for(j=0;j<l;j++)for(g=0;g<q;g++)a[f+g][o+j]={cell:d,unique:n},a[f+g].nTr=e}d=d.nextSibling}}}function qa(a,b,c){var e=[];c||(c=a.aoHeader,b&&(c=[],da(c,b)));for(var b=0,d=c.length;b<d;b++)for(var f=0,g=c[b].length;f<g;f++)if(c[b][f].unique&&(!e[f]||!a.bSortCellsTop))e[f]=c[b][f].cell;return e}function ra(a,b,c){w(a,"aoServerParams","serverParams",[b]);
if(b&&h.isArray(b)){var e={},d=/(.*?)\[\]$/;h.each(b,function(a,b){var c=b.name.match(d);c?(c=c[0],e[c]||(e[c]=[]),e[c].push(b.value)):e[b.name]=b.value});b=e}var f,g=a.ajax,j=a.oInstance,i=function(b){w(a,null,"xhr",[a,b,a.jqXHR]);c(b)};if(h.isPlainObject(g)&&g.data){f=g.data;var o=h.isFunction(f)?f(b,a):f,b=h.isFunction(f)&&o?o:h.extend(!0,b,o);delete g.data}o={data:b,success:function(b){var c=b.error||b.sError;c&&I(a,0,c);a.json=b;i(b)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(b,
c){var f=w(a,null,"xhr",[a,null,a.jqXHR]);-1===h.inArray(!0,f)&&("parsererror"==c?I(a,0,"Invalid JSON response",1):4===b.readyState&&I(a,0,"Ajax error",7));C(a,!1)}};a.oAjaxData=b;w(a,null,"preXhr",[a,b]);a.fnServerData?a.fnServerData.call(j,a.sAjaxSource,h.map(b,function(a,b){return{name:b,value:a}}),i,a):a.sAjaxSource||"string"===typeof g?a.jqXHR=h.ajax(h.extend(o,{url:g||a.sAjaxSource})):h.isFunction(g)?a.jqXHR=g.call(j,b,i,a):(a.jqXHR=h.ajax(h.extend(o,g)),g.data=f)}function kb(a){return a.bAjaxDataGet?
(a.iDraw++,C(a,!0),ra(a,tb(a),function(b){ub(a,b)}),!1):!0}function tb(a){var b=a.aoColumns,c=b.length,e=a.oFeatures,d=a.oPreviousSearch,f=a.aoPreSearchCols,g,j=[],i,o,l,q=U(a);g=a._iDisplayStart;i=!1!==e.bPaginate?a._iDisplayLength:-1;var n=function(a,b){j.push({name:a,value:b})};n("sEcho",a.iDraw);n("iColumns",c);n("sColumns",D(b,"sName").join(","));n("iDisplayStart",g);n("iDisplayLength",i);var k={draw:a.iDraw,columns:[],order:[],start:g,length:i,search:{value:d.sSearch,regex:d.bRegex}};for(g=
0;g<c;g++)o=b[g],l=f[g],i="function"==typeof o.mData?"function":o.mData,k.columns.push({data:i,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:l.sSearch,regex:l.bRegex}}),n("mDataProp_"+g,i),e.bFilter&&(n("sSearch_"+g,l.sSearch),n("bRegex_"+g,l.bRegex),n("bSearchable_"+g,o.bSearchable)),e.bSort&&n("bSortable_"+g,o.bSortable);e.bFilter&&(n("sSearch",d.sSearch),n("bRegex",d.bRegex));e.bSort&&(h.each(q,function(a,b){k.order.push({column:b.col,dir:b.dir});n("iSortCol_"+a,b.col);
n("sSortDir_"+a,b.dir)}),n("iSortingCols",q.length));b=m.ext.legacy.ajax;return null===b?a.sAjaxSource?j:k:b?j:k}function ub(a,b){var c=sa(a,b),e=b.sEcho!==k?b.sEcho:b.draw,d=b.iTotalRecords!==k?b.iTotalRecords:b.recordsTotal,f=b.iTotalDisplayRecords!==k?b.iTotalDisplayRecords:b.recordsFiltered;if(e){if(1*e<a.iDraw)return;a.iDraw=1*e}oa(a);a._iRecordsTotal=parseInt(d,10);a._iRecordsDisplay=parseInt(f,10);e=0;for(d=c.length;e<d;e++)K(a,c[e]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;
M(a);a._bInitComplete||ta(a,b);a.bAjaxDataGet=!0;C(a,!1)}function sa(a,b){var c=h.isPlainObject(a.ajax)&&a.ajax.dataSrc!==k?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===c?b.aaData||b[c]:""!==c?R(c)(b):b}function ob(a){var b=a.oClasses,c=a.sTableId,e=a.oLanguage,d=a.oPreviousSearch,f=a.aanFeatures,g='<input type="search" class="'+b.sFilterInput+'" placeholder="查询"/>',j=e.sSearch,j=j.match(/_INPUT_/)?j.replace("_INPUT_",g):j+g,b=h("<div/>",{id:!f.f?c+"_filter":null,"class":b.sFilter}).append(h("<label/>").append(j)),
f=function(){var b=!this.value?"":this.value;b!=d.sSearch&&(fa(a,{sSearch:b,bRegex:d.bRegex,bSmart:d.bSmart,bCaseInsensitive:d.bCaseInsensitive}),a._iDisplayStart=0,M(a))},g=null!==a.searchDelay?a.searchDelay:"ssp"===B(a)?400:0,i=h("input",b).val(d.sSearch).attr("placeholder",e.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",g?ua(f,g):f).bind("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",c);h(a.nTable).on("search.dt.DT",function(b,c){if(a===c)try{i[0]!==
Q.activeElement&&i.val(d.sSearch)}catch(f){}});return b[0]}function fa(a,b,c){var e=a.oPreviousSearch,d=a.aoPreSearchCols,f=function(a){e.sSearch=a.sSearch;e.bRegex=a.bRegex;e.bSmart=a.bSmart;e.bCaseInsensitive=a.bCaseInsensitive};Ha(a);if("ssp"!=B(a)){vb(a,b.sSearch,c,b.bEscapeRegex!==k?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<d.length;b++)wb(a,d[b].sSearch,b,d[b].bEscapeRegex!==k?!d[b].bEscapeRegex:d[b].bRegex,d[b].bSmart,d[b].bCaseInsensitive);xb(a)}else f(b);a.bFiltered=
!0;w(a,null,"search",[a])}function xb(a){for(var b=m.ext.search,c=a.aiDisplay,e,d,f=0,g=b.length;f<g;f++){for(var j=[],i=0,h=c.length;i<h;i++)d=c[i],e=a.aoData[d],b[f](a,e._aFilterData,d,e._aData,i)&&j.push(d);c.length=0;c.push.apply(c,j)}}function wb(a,b,c,e,d,f){if(""!==b)for(var g=a.aiDisplay,e=Qa(b,e,d,f),d=g.length-1;0<=d;d--)b=a.aoData[g[d]]._aFilterData[c],e.test(b)||g.splice(d,1)}function vb(a,b,c,e,d,f){var e=Qa(b,e,d,f),d=a.oPreviousSearch.sSearch,f=a.aiDisplayMaster,g;0!==m.ext.search.length&&
(c=!0);g=yb(a);if(0>=b.length)a.aiDisplay=f.slice();else{if(g||c||d.length>b.length||0!==b.indexOf(d)||a.bSorted)a.aiDisplay=f.slice();b=a.aiDisplay;for(c=b.length-1;0<=c;c--)e.test(a.aoData[b[c]]._sFilterRow)||b.splice(c,1)}}function Qa(a,b,c,e){a=b?a:va(a);c&&(a="^(?=.*?"+h.map(a.match(/"[^"]+"|[^ ]+/g)||[""],function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")}).join(")(?=.*?")+").*$");return RegExp(a,e?"i":"")}function va(a){return a.replace(Yb,"\\$1")}
function yb(a){var b=a.aoColumns,c,e,d,f,g,j,i,h,l=m.ext.type.search;c=!1;e=0;for(f=a.aoData.length;e<f;e++)if(h=a.aoData[e],!h._aFilterData){j=[];d=0;for(g=b.length;d<g;d++)c=b[d],c.bSearchable?(i=x(a,e,d,"filter"),l[c.sType]&&(i=l[c.sType](i)),null===i&&(i=""),"string"!==typeof i&&i.toString&&(i=i.toString())):i="",i.indexOf&&-1!==i.indexOf("&")&&(wa.innerHTML=i,i=Zb?wa.textContent:wa.innerText),i.replace&&(i=i.replace(/[\r\n]/g,"")),j.push(i);h._aFilterData=j;h._sFilterRow=j.join("  ");c=!0}return c}
function zb(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function Ab(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function rb(a){var b=a.sTableId,c=a.aanFeatures.i,e=h("<div/>",{"class":a.oClasses.sInfo,id:!c?b+"_info":null});c||(a.aoDrawCallback.push({fn:Bb,sName:"information"}),e.attr("role","status").attr("aria-live","polite"),h(a.nTable).attr("aria-describedby",b+"_info"));return e[0]}function Bb(a){var b=
a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,e=a._iDisplayStart+1,d=a.fnDisplayEnd(),f=a.fnRecordsTotal(),g=a.fnRecordsDisplay(),j=g?c.sInfo:c.sInfoEmpty;g!==f&&(j+=" "+c.sInfoFiltered);j+=c.sInfoPostFix;j=Cb(a,j);c=c.fnInfoCallback;null!==c&&(j=c.call(a.oInstance,a,e,d,f,g,j));h(b).html(j)}}function Cb(a,b){var c=a.fnFormatNumber,e=a._iDisplayStart+1,d=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===d;return b.replace(/_START_/g,c.call(a,e)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,
c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(e/d))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/d)))}function ga(a){var b,c,e=a.iInitDisplayStart,d=a.aoColumns,f;c=a.oFeatures;if(a.bInitialised){mb(a);jb(a);ea(a,a.aoHeader);ea(a,a.aoFooter);C(a,!0);c.bAutoWidth&&Ga(a);b=0;for(c=d.length;b<c;b++)f=d[b],f.sWidth&&(f.nTh.style.width=s(f.sWidth));N(a);d=B(a);"ssp"!=d&&("ajax"==d?ra(a,[],function(c){var f=sa(a,c);for(b=0;b<f.length;b++)K(a,f[b]);
a.iInitDisplayStart=e;N(a);C(a,!1);ta(a,c)},a):(C(a,!1),ta(a)))}else setTimeout(function(){ga(a)},200)}function ta(a,b){a._bInitComplete=!0;b&&X(a);w(a,"aoInitComplete","init",[a,b])}function Ra(a,b){var c=parseInt(b,10);a._iDisplayLength=c;Sa(a);w(a,null,"length",[a,c])}function nb(a){for(var b=a.oClasses,c=a.sTableId,e=a.aLengthMenu,d=h.isArray(e[0]),f=d?e[0]:e,e=d?e[1]:e,d=h("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),g=0,j=f.length;g<j;g++)d[0][g]=new Option(e[g],
f[g]);var i=h("<div><label/></div>").addClass(b.sLength);a.aanFeatures.l||(i[0].id=c+"_length");i.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",d[0].outerHTML));h("select",i).val(a._iDisplayLength).bind("change.DT",function(){Ra(a,h(this).val());M(a)});h(a.nTable).bind("length.dt.DT",function(b,c,f){a===c&&h("select",i).val(f)});return i[0]}function sb(a){var b=a.sPaginationType,c=m.ext.pager[b],e="function"===typeof c,d=function(a){M(a)},b=h("<div/>").addClass(a.oClasses.sPaging+b)[0],
f=a.aanFeatures;e||c.fnInit(a,b,d);f.p||(b.id=a.sTableId+"_paginate",a.aoDrawCallback.push({fn:function(a){if(e){var b=a._iDisplayStart,i=a._iDisplayLength,h=a.fnRecordsDisplay(),l=-1===i,b=l?0:Math.ceil(b/i),i=l?1:Math.ceil(h/i),h=c(b,i),q,l=0;for(q=f.p.length;l<q;l++)Pa(a,"pageButton")(a,f.p[l],l,h,b,i)}else c.fnUpdate(a,d)},sName:"pagination"}));return b}function Ta(a,b,c){var e=a._iDisplayStart,d=a._iDisplayLength,f=a.fnRecordsDisplay();0===f||-1===d?e=0:"number"===typeof b?(e=b*d,e>f&&(e=0)):
"first"==b?e=0:"previous"==b?(e=0<=d?e-d:0,0>e&&(e=0)):"next"==b?e+d<f&&(e+=d):"last"==b?e=Math.floor((f-1)/d)*d:I(a,0,"Unknown paging action: "+b,5);b=a._iDisplayStart!==e;a._iDisplayStart=e;b&&(w(a,null,"page",[a]),c&&M(a));return b}function pb(a){return h("<div/>",{id:!a.aanFeatures.r?a.sTableId+"_processing":null,"class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function C(a,b){a.oFeatures.bProcessing&&h(a.aanFeatures.r).css("display",b?"block":"none");w(a,
null,"processing",[a,b])}function qb(a){var b=h(a.nTable);b.attr("role","grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var e=c.sX,d=c.sY,f=a.oClasses,g=b.children("caption"),j=g.length?g[0]._captionSide:null,i=h(b[0].cloneNode(!1)),o=h(b[0].cloneNode(!1)),l=b.children("tfoot");c.sX&&"100%"===b.attr("width")&&b.removeAttr("width");l.length||(l=null);c=h("<div/>",{"class":f.sScrollWrapper}).append(h("<div/>",{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,
width:e?!e?null:s(e):"100%"}).append(h("<div/>",{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",width:c.sXInner||"100%"}).append(i.removeAttr("id").css("margin-left",0).append("top"===j?g:null).append(b.children("thead"))))).append(h("<div/>",{"class":f.sScrollBody}).css({overflow:"auto",height:!d?null:s(d),width:!e?null:s(e)}).append(b));l&&c.append(h("<div/>",{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:e?!e?null:s(e):"100%"}).append(h("<div/>",{"class":f.sScrollFootInner}).append(o.removeAttr("id").css("margin-left",
0).append("bottom"===j?g:null).append(b.children("tfoot")))));var b=c.children(),q=b[0],f=b[1],n=l?b[2]:null;if(e)h(f).on("scroll.DT",function(){var a=this.scrollLeft;q.scrollLeft=a;l&&(n.scrollLeft=a)});a.nScrollHead=q;a.nScrollBody=f;a.nScrollFoot=n;a.aoDrawCallback.push({fn:Y,sName:"scrolling"});return c[0]}function Y(a){var b=a.oScroll,c=b.sX,e=b.sXInner,d=b.sY,f=b.iBarWidth,g=h(a.nScrollHead),j=g[0].style,i=g.children("div"),o=i[0].style,l=i.children("table"),i=a.nScrollBody,q=h(i),n=i.style,
k=h(a.nScrollFoot).children("div"),p=k.children("table"),m=h(a.nTHead),r=h(a.nTable),t=r[0],O=t.style,L=a.nTFoot?h(a.nTFoot):null,ha=a.oBrowser,w=ha.bScrollOversize,v,u,y,x,z,A=[],B=[],C=[],D,E=function(a){a=a.style;a.paddingTop="0";a.paddingBottom="0";a.borderTopWidth="0";a.borderBottomWidth="0";a.height=0};r.children("thead, tfoot").remove();z=m.clone().prependTo(r);v=m.find("tr");y=z.find("tr");z.find("th, td").removeAttr("tabindex");L&&(x=L.clone().prependTo(r),u=L.find("tr"),x=x.find("tr"));
c||(n.width="100%",g[0].style.width="100%");h.each(qa(a,z),function(b,c){D=la(a,b);c.style.width=a.aoColumns[D].sWidth});L&&G(function(a){a.style.width=""},x);b.bCollapse&&""!==d&&(n.height=q[0].offsetHeight+m[0].offsetHeight+"px");g=r.outerWidth();if(""===c){if(O.width="100%",w&&(r.find("tbody").height()>i.offsetHeight||"scroll"==q.css("overflow-y")))O.width=s(r.outerWidth()-f)}else""!==e?O.width=s(e):g==q.width()&&q.height()<r.height()?(O.width=s(g-f),r.outerWidth()>g-f&&(O.width=s(g))):O.width=
s(g);g=r.outerWidth();G(E,y);G(function(a){C.push(a.innerHTML);A.push(s(h(a).css("width")))},y);G(function(a,b){a.style.width=A[b]},v);h(y).height(0);L&&(G(E,x),G(function(a){B.push(s(h(a).css("width")))},x),G(function(a,b){a.style.width=B[b]},u),h(x).height(0));G(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+C[b]+"</div>";a.style.width=A[b]},y);L&&G(function(a,b){a.innerHTML="";a.style.width=B[b]},x);if(r.outerWidth()<g){u=i.scrollHeight>i.offsetHeight||
"scroll"==q.css("overflow-y")?g+f:g;if(w&&(i.scrollHeight>i.offsetHeight||"scroll"==q.css("overflow-y")))O.width=s(u-f);(""===c||""!==e)&&I(a,1,"Possible column misalignment",6)}else u="100%";n.width=s(u);j.width=s(u);L&&(a.nScrollFoot.style.width=s(u));!d&&w&&(n.height=s(t.offsetHeight+f));d&&b.bCollapse&&(n.height=s(d),b=c&&t.offsetWidth>i.offsetWidth?f:0,t.offsetHeight<i.offsetHeight&&(n.height=s(t.offsetHeight+b)));b=r.outerWidth();l[0].style.width=s(b);o.width=s(b);l=r.height()>i.clientHeight||
"scroll"==q.css("overflow-y");ha="padding"+(ha.bScrollbarLeft?"Left":"Right");o[ha]=l?f+"px":"0px";L&&(p[0].style.width=s(b),k[0].style.width=s(b),k[0].style[ha]=l?f+"px":"0px");q.scroll();if((a.bSorted||a.bFiltered)&&!a._drawHold)i.scrollTop=0}function G(a,b,c){for(var e=0,d=0,f=b.length,g,j;d<f;){g=b[d].firstChild;for(j=c?c[d].firstChild:null;g;)1===g.nodeType&&(c?a(g,j,e):a(g,e),e++),g=g.nextSibling,j=c?j.nextSibling:null;d++}}function Ga(a){var b=a.nTable,c=a.aoColumns,e=a.oScroll,d=e.sY,f=e.sX,
g=e.sXInner,j=c.length,e=Z(a,"bVisible"),i=h("th",a.nTHead),o=b.getAttribute("width"),l=b.parentNode,k=!1,n,m;(n=b.style.width)&&-1!==n.indexOf("%")&&(o=n);for(n=0;n<e.length;n++)m=c[e[n]],null!==m.sWidth&&(m.sWidth=Db(m.sWidthOrig,l),k=!0);if(!k&&!f&&!d&&j==aa(a)&&j==i.length)for(n=0;n<j;n++)c[n].sWidth=s(i.eq(n).width());else{j=h(b).clone().css("visibility","hidden").removeAttr("id");j.find("tbody tr").remove();var p=h("<tr/>").appendTo(j.find("tbody"));j.find("tfoot th, tfoot td").css("width",
"");i=qa(a,j.find("thead")[0]);for(n=0;n<e.length;n++)m=c[e[n]],i[n].style.width=null!==m.sWidthOrig&&""!==m.sWidthOrig?s(m.sWidthOrig):"";if(a.aoData.length)for(n=0;n<e.length;n++)k=e[n],m=c[k],h(Eb(a,k)).clone(!1).append(m.sContentPadding).appendTo(p);j.appendTo(l);f&&g?j.width(g):f?(j.css("width","auto"),j.width()<l.offsetWidth&&j.width(l.offsetWidth)):d?j.width(l.offsetWidth):o&&j.width(o);Fb(a,j[0]);if(f){for(n=g=0;n<e.length;n++)m=c[e[n]],d=h(i[n]).outerWidth(),g+=null===m.sWidthOrig?d:parseInt(m.sWidth,
10)+d-h(i[n]).width();j.width(s(g));b.style.width=s(g)}for(n=0;n<e.length;n++)if(m=c[e[n]],d=h(i[n]).width())m.sWidth=s(d);b.style.width=s(j.css("width"));j.remove()}o&&(b.style.width=s(o));if((o||f)&&!a._reszEvt)b=function(){h(Ea).bind("resize.DT-"+a.sInstance,ua(function(){X(a)}))},a.oBrowser.bScrollOversize?setTimeout(b,1E3):b(),a._reszEvt=!0}function ua(a,b){var c=b!==k?b:200,e,d;return function(){var b=this,g=+new Date,j=arguments;e&&g<e+c?(clearTimeout(d),d=setTimeout(function(){e=k;a.apply(b,
j)},c)):(e=g,a.apply(b,j))}}function Db(a,b){if(!a)return 0;var c=h("<div/>").css("width",s(a)).appendTo(b||Q.body),e=c[0].offsetWidth;c.remove();return e}function Fb(a,b){var c=a.oScroll;if(c.sX||c.sY)c=!c.sX?c.iBarWidth:0,b.style.width=s(h(b).outerWidth()-c)}function Eb(a,b){var c=Gb(a,b);if(0>c)return null;var e=a.aoData[c];return!e.nTr?h("<td/>").html(x(a,c,b,"display"))[0]:e.anCells[b]}function Gb(a,b){for(var c,e=-1,d=-1,f=0,g=a.aoData.length;f<g;f++)c=x(a,f,b,"display")+"",c=c.replace($b,""),
c.length>e&&(e=c.length,d=f);return d}function s(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function Hb(){var a=m.__scrollbarWidth;if(a===k){var b=h("<p/>").css({position:"absolute",top:0,left:0,width:"100%",height:150,padding:0,overflow:"scroll",visibility:"hidden"}).appendTo("body"),a=b[0].offsetWidth-b[0].clientWidth;m.__scrollbarWidth=a;b.remove()}return a}function U(a){var b,c,e=[],d=a.aoColumns,f,g,j,i;b=a.aaSortingFixed;c=h.isPlainObject(b);var o=[];
f=function(a){a.length&&!h.isArray(a[0])?o.push(a):o.push.apply(o,a)};h.isArray(b)&&f(b);c&&b.pre&&f(b.pre);f(a.aaSorting);c&&b.post&&f(b.post);for(a=0;a<o.length;a++){i=o[a][0];f=d[i].aDataSort;b=0;for(c=f.length;b<c;b++)g=f[b],j=d[g].sType||"string",o[a]._idx===k&&(o[a]._idx=h.inArray(o[a][1],d[g].asSorting)),e.push({src:i,col:g,dir:o[a][1],index:o[a]._idx,type:j,formatter:m.ext.type.order[j+"-pre"]})}return e}function lb(a){var b,c,e=[],d=m.ext.type.order,f=a.aoData,g=0,j,i=a.aiDisplayMaster,h;
Ha(a);h=U(a);b=0;for(c=h.length;b<c;b++)j=h[b],j.formatter&&g++,Ib(a,j.col);if("ssp"!=B(a)&&0!==h.length){b=0;for(c=i.length;b<c;b++)e[i[b]]=b;g===h.length?i.sort(function(a,b){var c,d,g,j,i=h.length,k=f[a]._aSortData,m=f[b]._aSortData;for(g=0;g<i;g++)if(j=h[g],c=k[j.col],d=m[j.col],c=c<d?-1:c>d?1:0,0!==c)return"asc"===j.dir?c:-c;c=e[a];d=e[b];return c<d?-1:c>d?1:0}):i.sort(function(a,b){var c,g,j,i,k=h.length,m=f[a]._aSortData,r=f[b]._aSortData;for(j=0;j<k;j++)if(i=h[j],c=m[i.col],g=r[i.col],i=d[i.type+
"-"+i.dir]||d["string-"+i.dir],c=i(c,g),0!==c)return c;c=e[a];g=e[b];return c<g?-1:c>g?1:0})}a.bSorted=!0}function Jb(a){for(var b,c,e=a.aoColumns,d=U(a),a=a.oLanguage.oAria,f=0,g=e.length;f<g;f++){c=e[f];var j=c.asSorting;b=c.sTitle.replace(/<.*?>/g,"");var i=c.nTh;i.removeAttribute("aria-sort");c.bSortable&&(0<d.length&&d[0].col==f?(i.setAttribute("aria-sort","asc"==d[0].dir?"ascending":"descending"),c=j[d[0].index+1]||j[0]):c=j[0],b+="asc"===c?a.sSortAscending:a.sSortDescending);i.setAttribute("aria-label",
b)}}function Ua(a,b,c,e){var d=a.aaSorting,f=a.aoColumns[b].asSorting,g=function(a,b){var c=a._idx;c===k&&(c=h.inArray(a[1],f));return c+1<f.length?c+1:b?null:0};"number"===typeof d[0]&&(d=a.aaSorting=[d]);c&&a.oFeatures.bSortMulti?(c=h.inArray(b,D(d,"0")),-1!==c?(b=g(d[c],!0),null===b&&1===d.length&&(b=0),null===b?d.splice(c,1):(d[c][1]=f[b],d[c]._idx=b)):(d.push([b,f[0],0]),d[d.length-1]._idx=0)):d.length&&d[0][0]==b?(b=g(d[0]),d.length=1,d[0][1]=f[b],d[0]._idx=b):(d.length=0,d.push([b,f[0]]),d[0]._idx=
0);N(a);"function"==typeof e&&e(a)}function Oa(a,b,c,e){var d=a.aoColumns[c];Va(b,{},function(b){!1!==d.bSortable&&(a.oFeatures.bProcessing?(C(a,!0),setTimeout(function(){Ua(a,c,b.shiftKey,e);"ssp"!==B(a)&&C(a,!1)},0)):Ua(a,c,b.shiftKey,e))})}function xa(a){var b=a.aLastSort,c=a.oClasses.sSortColumn,e=U(a),d=a.oFeatures,f,g;if(d.bSort&&d.bSortClasses){d=0;for(f=b.length;d<f;d++)g=b[d].src,h(D(a.aoData,"anCells",g)).removeClass(c+(2>d?d+1:3));d=0;for(f=e.length;d<f;d++)g=e[d].src,h(D(a.aoData,"anCells",
g)).addClass(c+(2>d?d+1:3))}a.aLastSort=e}function Ib(a,b){var c=a.aoColumns[b],e=m.ext.order[c.sSortDataType],d;e&&(d=e.call(a.oInstance,a,b,$(a,b)));for(var f,g=m.ext.type.order[c.sType+"-pre"],j=0,i=a.aoData.length;j<i;j++)if(c=a.aoData[j],c._aSortData||(c._aSortData=[]),!c._aSortData[b]||e)f=e?d[j]:x(a,j,b,"sort"),c._aSortData[b]=g?g(f):f}function ya(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:h.extend(!0,[],a.aaSorting),
search:zb(a.oPreviousSearch),columns:h.map(a.aoColumns,function(b,e){return{visible:b.bVisible,search:zb(a.aoPreSearchCols[e])}})};w(a,"aoStateSaveParams","stateSaveParams",[a,b]);a.oSavedState=b;a.fnStateSaveCallback.call(a.oInstance,a,b)}}function Kb(a){var b,c,e=a.aoColumns;if(a.oFeatures.bStateSave){var d=a.fnStateLoadCallback.call(a.oInstance,a);if(d&&d.time&&(b=w(a,"aoStateLoadParams","stateLoadParams",[a,d]),-1===h.inArray(!1,b)&&(b=a.iStateDuration,!(0<b&&d.time<+new Date-1E3*b)&&e.length===
d.columns.length))){a.oLoadedState=h.extend(!0,{},d);d.start!==k&&(a._iDisplayStart=d.start,a.iInitDisplayStart=d.start);d.length!==k&&(a._iDisplayLength=d.length);d.order!==k&&(a.aaSorting=[],h.each(d.order,function(b,c){a.aaSorting.push(c[0]>=e.length?[0,c[1]]:c)}));d.search!==k&&h.extend(a.oPreviousSearch,Ab(d.search));b=0;for(c=d.columns.length;b<c;b++){var f=d.columns[b];f.visible!==k&&(e[b].bVisible=f.visible);f.search!==k&&h.extend(a.aoPreSearchCols[b],Ab(f.search))}w(a,"aoStateLoaded","stateLoaded",
[a,d])}}}function za(a){var b=m.settings,a=h.inArray(a,D(b,"nTable"));return-1!==a?b[a]:null}function I(a,b,c,e){c="DataTables warning: "+(null!==a?"table id="+a.sTableId+" - ":"")+c;e&&(c+=". For more information about this error, please see http://datatables.net/tn/"+e);if(b)Ea.console&&console.log&&console.log(c);else if(b=m.ext,b=b.sErrMode||b.errMode,w(a,null,"error",[a,e,c]),"alert"==b)/*alert(c)*/;else{if("throw"==b)throw Error(c);"function"==typeof b&&b(a,e,c)}}function E(a,b,c,e){h.isArray(c)?
h.each(c,function(c,f){h.isArray(f)?E(a,b,f[0],f[1]):E(a,b,f)}):(e===k&&(e=c),b[c]!==k&&(a[e]=b[c]))}function Lb(a,b,c){var e,d;for(d in b)b.hasOwnProperty(d)&&(e=b[d],h.isPlainObject(e)?(h.isPlainObject(a[d])||(a[d]={}),h.extend(!0,a[d],e)):a[d]=c&&"data"!==d&&"aaData"!==d&&h.isArray(e)?e.slice():e);return a}function Va(a,b,c){h(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",b,function(a){13===a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function z(a,
b,c,e){c&&a[b].push({fn:c,sName:e})}function w(a,b,c,e){var d=[];b&&(d=h.map(a[b].slice().reverse(),function(b){return b.fn.apply(a.oInstance,e)}));null!==c&&(b=h.Event(c+".dt"),h(a.nTable).trigger(b,e),d.push(b.result));return d}function Sa(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),e=a._iDisplayLength;b>=c&&(b=c-e);b-=b%e;if(-1===e||0>b)b=0;a._iDisplayStart=b}function Pa(a,b){var c=a.renderer,e=m.ext.renderer[b];return h.isPlainObject(c)&&c[b]?e[c[b]]||e._:"string"===typeof c?e[c]||e._:e._}function B(a){return a.oFeatures.bServerSide?
"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Wa(a,b){var c=[],c=Mb.numbers_length,e=Math.floor(c/2);b<=c?c=V(0,b):a<=e?(c=V(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-e?c=V(b-(c-2),b):(c=V(a-e+2,a+e-1),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0));c.DT_el="span";return c}function db(a){h.each({num:function(b){return Aa(b,a)},"num-fmt":function(b){return Aa(b,a,Xa)},"html-num":function(b){return Aa(b,a,Ba)},"html-num-fmt":function(b){return Aa(b,a,Ba,Xa)}},function(b,
c){u.type.order[b+a+"-pre"]=c;b.match(/^html\-/)&&(u.type.search[b+a]=u.type.search.html)})}function Nb(a){return function(){var b=[za(this[m.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return m.ext.internal[a].apply(this,b)}}var m,u,t,r,v,Ya={},Ob=/[\r\n]/g,Ba=/<.*?>/g,ac=/^[\w\+\-]/,bc=/[\w\+\-]$/,Yb=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Xa=/[',$\u00a3\u20ac\u00a5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,J=function(a){return!a||!0===a||
"-"===a?!0:!1},Pb=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},Qb=function(a,b){Ya[b]||(Ya[b]=RegExp(va(b),"g"));return"string"===typeof a&&"."!==b?a.replace(/\./g,"").replace(Ya[b],"."):a},Za=function(a,b,c){var e="string"===typeof a;if(J(a))return!0;b&&e&&(a=Qb(a,b));c&&e&&(a=a.replace(Xa,""));return!isNaN(parseFloat(a))&&isFinite(a)},Rb=function(a,b,c){return J(a)?!0:!(J(a)||"string"===typeof a)?null:Za(a.replace(Ba,""),b,c)?!0:null},D=function(a,b,c){var e=[],d=0,f=a.length;
if(c!==k)for(;d<f;d++)a[d]&&a[d][b]&&e.push(a[d][b][c]);else for(;d<f;d++)a[d]&&e.push(a[d][b]);return e},ia=function(a,b,c,e){var d=[],f=0,g=b.length;if(e!==k)for(;f<g;f++)a[b[f]][c]&&d.push(a[b[f]][c][e]);else for(;f<g;f++)d.push(a[b[f]][c]);return d},V=function(a,b){var c=[],e;b===k?(b=0,e=a):(e=b,b=a);for(var d=b;d<e;d++)c.push(d);return c},Sb=function(a){for(var b=[],c=0,e=a.length;c<e;c++)a[c]&&b.push(a[c]);return b},Na=function(a){var b=[],c,e,d=a.length,f,g=0;e=0;a:for(;e<d;e++){c=a[e];for(f=
0;f<g;f++)if(b[f]===c)continue a;b.push(c);g++}return b},A=function(a,b,c){a[b]!==k&&(a[c]=a[b])},ba=/\[.*?\]$/,T=/\(\)$/,wa=h("<div>")[0],Zb=wa.textContent!==k,$b=/<.*?>/g;m=function(a){this.$=function(a,b){return this.api(!0).$(a,b)};this._=function(a,b){return this.api(!0).rows(a,b).data()};this.api=function(a){return a?new t(za(this[u.iApiIndex])):new t(this)};this.fnAddData=function(a,b){var c=this.api(!0),e=h.isArray(a)&&(h.isArray(a[0])||h.isPlainObject(a[0]))?c.rows.add(a):c.row.add(a);(b===
k||b)&&c.draw();return e.flatten().toArray()};this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],e=c.oScroll;a===k||a?b.draw(!1):(""!==e.sX||""!==e.sY)&&Y(c)};this.fnClearTable=function(a){var b=this.api(!0).clear();(a===k||a)&&b.draw()};this.fnClose=function(a){this.api(!0).row(a).child.hide()};this.fnDeleteRow=function(a,b,c){var e=this.api(!0),a=e.rows(a),d=a.settings()[0],h=d.aoData[a[0][0]];a.remove();b&&b.call(this,d,h);(c===k||c)&&e.draw();return h};
this.fnDestroy=function(a){this.api(!0).destroy(a)};this.fnDraw=function(a){this.api(!0).draw(a)};this.fnFilter=function(a,b,c,e,d,h){d=this.api(!0);null===b||b===k?d.search(a,c,e,h):d.column(b).search(a,c,e,h);d.draw()};this.fnGetData=function(a,b){var c=this.api(!0);if(a!==k){var e=a.nodeName?a.nodeName.toLowerCase():"";return b!==k||"td"==e||"th"==e?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()};this.fnGetNodes=function(a){var b=this.api(!0);return a!==k?b.row(a).node():b.rows().nodes().flatten().toArray()};
this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null};this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()};this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]};this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===k||b)&&c.draw(!1)};this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b);(c===
k||c)&&a.columns.adjust().draw()};this.fnSettings=function(){return za(this[u.iApiIndex])};this.fnSort=function(a){this.api(!0).order(a).draw()};this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)};this.fnUpdate=function(a,b,c,e,d){var h=this.api(!0);c===k||null===c?h.row(b).data(a):h.cell(b,c).data(a);(d===k||d)&&h.columns.adjust();(e===k||e)&&h.draw();return 0};this.fnVersionCheck=u.fnVersionCheck;var b=this,c=a===k,e=this.length;c&&(a={});this.oApi=this.internal=u.internal;for(var d in m.ext.internal)d&&
(this[d]=Nb(d));this.each(function(){var d={},d=1<e?Lb(d,a,!0):a,g=0,j,i=this.getAttribute("id"),o=!1,l=m.defaults,q=h(this);if("table"!=this.nodeName.toLowerCase())I(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{eb(l);fb(l.column);H(l,l,!0);H(l.column,l.column,!0);H(l,h.extend(d,q.data()));var n=m.settings,g=0;for(j=n.length;g<j;g++){var r=n[g];if(r.nTable==this||r.nTHead.parentNode==this||r.nTFoot&&r.nTFoot.parentNode==this){g=d.bRetrieve!==k?d.bRetrieve:l.bRetrieve;if(c||g)return r.oInstance;
if(d.bDestroy!==k?d.bDestroy:l.bDestroy){r.oInstance.fnDestroy();break}else{I(r,0,"Cannot reinitialise DataTable",3);return}}if(r.sTableId==this.id){n.splice(g,1);break}}if(null===i||""===i)this.id=i="DataTables_Table_"+m.ext._unique++;var p=h.extend(!0,{},m.models.oSettings,{sDestroyWidth:q[0].style.width,sInstance:i,sTableId:i});p.nTable=this;p.oApi=b.internal;p.oInit=d;n.push(p);p.oInstance=1===b.length?b:q.dataTable();eb(d);d.oLanguage&&P(d.oLanguage);d.aLengthMenu&&!d.iDisplayLength&&(d.iDisplayLength=
h.isArray(d.aLengthMenu[0])?d.aLengthMenu[0][0]:d.aLengthMenu[0]);d=Lb(h.extend(!0,{},l),d);E(p.oFeatures,d,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));E(p,d,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback",
"renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);E(p.oScroll,d,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);E(p.oLanguage,d,"fnInfoCallback");z(p,"aoDrawCallback",d.fnDrawCallback,"user");z(p,"aoServerParams",d.fnServerParams,"user");z(p,"aoStateSaveParams",d.fnStateSaveParams,"user");z(p,"aoStateLoadParams",
d.fnStateLoadParams,"user");z(p,"aoStateLoaded",d.fnStateLoaded,"user");z(p,"aoRowCallback",d.fnRowCallback,"user");z(p,"aoRowCreatedCallback",d.fnCreatedRow,"user");z(p,"aoHeaderCallback",d.fnHeaderCallback,"user");z(p,"aoFooterCallback",d.fnFooterCallback,"user");z(p,"aoInitComplete",d.fnInitComplete,"user");z(p,"aoPreDrawCallback",d.fnPreDrawCallback,"user");i=p.oClasses;d.bJQueryUI?(h.extend(i,m.ext.oJUIClasses,d.oClasses),d.sDom===l.sDom&&"lfrtip"===l.sDom&&(p.sDom='<"H"lfr>t<"F"ip>'),p.renderer)?
h.isPlainObject(p.renderer)&&!p.renderer.header&&(p.renderer.header="jqueryui"):p.renderer="jqueryui":h.extend(i,m.ext.classes,d.oClasses);q.addClass(i.sTable);if(""!==p.oScroll.sX||""!==p.oScroll.sY)p.oScroll.iBarWidth=Hb();!0===p.oScroll.sX&&(p.oScroll.sX="100%");p.iInitDisplayStart===k&&(p.iInitDisplayStart=d.iDisplayStart,p._iDisplayStart=d.iDisplayStart);null!==d.iDeferLoading&&(p.bDeferLoading=!0,g=h.isArray(d.iDeferLoading),p._iRecordsDisplay=g?d.iDeferLoading[0]:d.iDeferLoading,p._iRecordsTotal=
g?d.iDeferLoading[1]:d.iDeferLoading);var t=p.oLanguage;h.extend(!0,t,d.oLanguage);""!==t.sUrl&&(h.ajax({dataType:"json",url:t.sUrl,success:function(a){P(a);H(l.oLanguage,a);h.extend(true,t,a);ga(p)},error:function(){ga(p)}}),o=!0);null===d.asStripeClasses&&(p.asStripeClasses=[i.sStripeOdd,i.sStripeEven]);var g=p.asStripeClasses,s=q.children("tbody").find("tr").eq(0);-1!==h.inArray(!0,h.map(g,function(a){return s.hasClass(a)}))&&(h("tbody tr",this).removeClass(g.join(" ")),p.asDestroyStripes=g.slice());
n=[];g=this.getElementsByTagName("thead");0!==g.length&&(da(p.aoHeader,g[0]),n=qa(p));if(null===d.aoColumns){r=[];g=0;for(j=n.length;g<j;g++)r.push(null)}else r=d.aoColumns;g=0;for(j=r.length;g<j;g++)Fa(p,n?n[g]:null);ib(p,d.aoColumnDefs,r,function(a,b){ka(p,a,b)});if(s.length){var u=function(a,b){return a.getAttribute("data-"+b)!==null?b:null};h.each(na(p,s[0]).cells,function(a,b){var c=p.aoColumns[a];if(c.mData===a){var d=u(b,"sort")||u(b,"order"),e=u(b,"filter")||u(b,"search");if(d!==null||e!==
null){c.mData={_:a+".display",sort:d!==null?a+".@data-"+d:k,type:d!==null?a+".@data-"+d:k,filter:e!==null?a+".@data-"+e:k};ka(p,a)}}})}var v=p.oFeatures;d.bStateSave&&(v.bStateSave=!0,Kb(p,d),z(p,"aoDrawCallback",ya,"state_save"));if(d.aaSorting===k){n=p.aaSorting;g=0;for(j=n.length;g<j;g++)n[g][1]=p.aoColumns[g].asSorting[0]}xa(p);v.bSort&&z(p,"aoDrawCallback",function(){if(p.bSorted){var a=U(p),b={};h.each(a,function(a,c){b[c.src]=c.dir});w(p,null,"order",[p,a,b]);Jb(p)}});z(p,"aoDrawCallback",
function(){(p.bSorted||B(p)==="ssp"||v.bDeferRender)&&xa(p)},"sc");gb(p);g=q.children("caption").each(function(){this._captionSide=q.css("caption-side")});j=q.children("thead");0===j.length&&(j=h("<thead/>").appendTo(this));p.nTHead=j[0];j=q.children("tbody");0===j.length&&(j=h("<tbody/>").appendTo(this));p.nTBody=j[0];j=q.children("tfoot");if(0===j.length&&0<g.length&&(""!==p.oScroll.sX||""!==p.oScroll.sY))j=h("<tfoot/>").appendTo(this);0===j.length||0===j.children().length?q.addClass(i.sNoFooter):
0<j.length&&(p.nTFoot=j[0],da(p.aoFooter,p.nTFoot));if(d.aaData)for(g=0;g<d.aaData.length;g++)K(p,d.aaData[g]);else(p.bDeferLoading||"dom"==B(p))&&ma(p,h(p.nTBody).children("tr"));p.aiDisplay=p.aiDisplayMaster.slice();p.bInitialised=!0;!1===o&&ga(p)}});b=null;return this};var Tb=[],y=Array.prototype,cc=function(a){var b,c,e=m.settings,d=h.map(e,function(a){return a.nTable});if(a){if(a.nTable&&a.oApi)return[a];if(a.nodeName&&"table"===a.nodeName.toLowerCase())return b=h.inArray(a,d),-1!==b?[e[b]]:
null;if(a&&"function"===typeof a.settings)return a.settings().toArray();"string"===typeof a?c=h(a):a instanceof h&&(c=a)}else return[];if(c)return c.map(function(){b=h.inArray(this,d);return-1!==b?e[b]:null}).toArray()};t=function(a,b){if(!(this instanceof t))return new t(a,b);var c=[],e=function(a){(a=cc(a))&&c.push.apply(c,a)};if(h.isArray(a))for(var d=0,f=a.length;d<f;d++)e(a[d]);else e(a);this.context=Na(c);b&&this.push.apply(this,b.toArray?b.toArray():b);this.selector={rows:null,cols:null,opts:null};
t.extend(this,this,Tb)};m.Api=t;t.prototype={any:function(){return 0!==this.flatten().length},concat:y.concat,context:[],each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new t(b[a],this[a]):null},filter:function(a){var b=[];if(y.filter)b=y.filter.call(this,a,this);else for(var c=0,e=this.length;c<e;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new t(this.context,b)},flatten:function(){var a=[];
return new t(this.context,a.concat.apply(a,this.toArray()))},join:y.join,indexOf:y.indexOf||function(a,b){for(var c=b||0,e=this.length;c<e;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,e){var d=[],f,g,h,i,o,l=this.context,q,n,m=this.selector;"string"===typeof a&&(e=c,c=b,b=a,a=!1);g=0;for(h=l.length;g<h;g++){var p=new t(l[g]);if("table"===b)f=c.call(p,l[g],g),f!==k&&d.push(f);else if("columns"===b||"rows"===b)f=c.call(p,l[g],this[g],g),f!==k&&d.push(f);else if("column"===b||"column-rows"===
b||"row"===b||"cell"===b){n=this[g];"column-rows"===b&&(q=Ca(l[g],m.opts));i=0;for(o=n.length;i<o;i++)f=n[i],f="cell"===b?c.call(p,l[g],f.row,f.column,g,i):c.call(p,l[g],f,g,i,q),f!==k&&d.push(f)}}return d.length||e?(a=new t(l,a?d.concat.apply([],d):d),b=a.selector,b.rows=m.rows,b.cols=m.cols,b.opts=m.opts,a):this},lastIndexOf:y.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(y.map)b=y.map.call(this,a,this);else for(var c=
0,e=this.length;c<e;c++)b.push(a.call(this,this[c],c));return new t(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:y.pop,push:y.push,reduce:y.reduce||function(a,b){return hb(this,a,b,0,this.length,1)},reduceRight:y.reduceRight||function(a,b){return hb(this,a,b,this.length-1,-1,-1)},reverse:y.reverse,selector:null,shift:y.shift,sort:y.sort,splice:y.splice,toArray:function(){return y.slice.call(this)},to$:function(){return h(this)},toJQuery:function(){return h(this)},
unique:function(){return new t(this.context,Na(this))},unshift:y.unshift};t.extend=function(a,b,c){if(c.length&&b&&(b instanceof t||b.__dt_wrapper)){var e,d,f,g=function(a,b,c){return function(){var d=b.apply(a,arguments);t.extend(d,d,c.methodExt);return d}};e=0;for(d=c.length;e<d;e++)f=c[e],b[f.name]="function"===typeof f.val?g(a,f.val,f):h.isPlainObject(f.val)?{}:f.val,b[f.name].__dt_wrapper=!0,t.extend(a,b[f.name],f.propExt)}};t.register=r=function(a,b){if(h.isArray(a))for(var c=0,e=a.length;c<
e;c++)t.register(a[c],b);else for(var d=a.split("."),f=Tb,g,j,c=0,e=d.length;c<e;c++){g=(j=-1!==d[c].indexOf("()"))?d[c].replace("()",""):d[c];var i;a:{i=0;for(var o=f.length;i<o;i++)if(f[i].name===g){i=f[i];break a}i=null}i||(i={name:g,val:{},methodExt:[],propExt:[]},f.push(i));c===e-1?i.val=b:f=j?i.methodExt:i.propExt}};t.registerPlural=v=function(a,b,c){t.register(a,c);t.register(b,function(){var a=c.apply(this,arguments);return a===this?this:a instanceof t?a.length?h.isArray(a[0])?new t(a.context,
a[0]):a[0]:k:a})};r("tables()",function(a){var b;if(a){b=t;var c=this.context;if("number"===typeof a)a=[c[a]];else var e=h.map(c,function(a){return a.nTable}),a=h(e).filter(a).map(function(){var a=h.inArray(this,e);return c[a]}).toArray();b=new b(a)}else b=this;return b});r("table()",function(a){var a=this.tables(a),b=a.context;return b.length?new t(b[0]):a});v("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});v("tables().body()","table().body()",
function(){return this.iterator("table",function(a){return a.nTBody},1)});v("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});v("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});v("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)});r("draw()",function(a){return this.iterator("table",function(b){N(b,
!1===a)})});r("page()",function(a){return a===k?this.page.info().page:this.iterator("table",function(b){Ta(b,a)})});r("page.info()",function(){if(0===this.context.length)return k;var a=this.context[0],b=a._iDisplayStart,c=a._iDisplayLength,e=a.fnRecordsDisplay(),d=-1===c;return{page:d?0:Math.floor(b/c),pages:d?1:Math.ceil(e/c),start:b,end:a.fnDisplayEnd(),length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:e}});r("page.len()",function(a){return a===k?0!==this.context.length?this.context[0]._iDisplayLength:
k:this.iterator("table",function(b){Ra(b,a)})});var Ub=function(a,b,c){if(c){var e=new t(a);e.one("draw",function(){c(e.ajax.json())})}"ssp"==B(a)?N(a,b):(C(a,!0),ra(a,[],function(c){oa(a);for(var c=sa(a,c),e=0,g=c.length;e<g;e++)K(a,c[e]);N(a,b);C(a,!1)}))};r("ajax.json()",function(){var a=this.context;if(0<a.length)return a[0].json});r("ajax.params()",function(){var a=this.context;if(0<a.length)return a[0].oAjaxData});r("ajax.reload()",function(a,b){return this.iterator("table",function(c){Ub(c,
!1===b,a)})});r("ajax.url()",function(a){var b=this.context;if(a===k){if(0===b.length)return k;b=b[0];return b.ajax?h.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource}return this.iterator("table",function(b){h.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})});r("ajax.url().load()",function(a,b){return this.iterator("table",function(c){Ub(c,!1===b,a)})});var $a=function(a,b,c,e,d){var f=[],g,j,i,o,l,q;i=typeof b;if(!b||"string"===i||"function"===i||b.length===k)b=[b];i=0;for(o=b.length;i<o;i++){j=
b[i]&&b[i].split?b[i].split(","):[b[i]];l=0;for(q=j.length;l<q;l++)(g=c("string"===typeof j[l]?h.trim(j[l]):j[l]))&&g.length&&f.push.apply(f,g)}a=u.selector[a];if(a.length){i=0;for(o=a.length;i<o;i++)f=a[i](e,d,f)}return f},ab=function(a){a||(a={});a.filter&&a.search===k&&(a.search=a.filter);return h.extend({search:"none",order:"current",page:"all"},a)},bb=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=a[b],a[0].length=1,a.length=1,a.context=[a.context[b]],a;a.length=0;return a},
Ca=function(a,b){var c,e,d,f=[],g=a.aiDisplay;c=a.aiDisplayMaster;var j=b.search;e=b.order;d=b.page;if("ssp"==B(a))return"removed"===j?[]:V(0,c.length);if("current"==d){c=a._iDisplayStart;for(e=a.fnDisplayEnd();c<e;c++)f.push(g[c])}else if("current"==e||"applied"==e)f="none"==j?c.slice():"applied"==j?g.slice():h.map(c,function(a){return-1===h.inArray(a,g)?a:null});else if("index"==e||"original"==e){c=0;for(e=a.aoData.length;c<e;c++)"none"==j?f.push(c):(d=h.inArray(c,g),(-1===d&&"removed"==j||0<=d&&
"applied"==j)&&f.push(c))}return f};r("rows()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var d=b;return $a("row",a,function(a){var b=Pb(a);if(b!==null&&!d)return[b];var j=Ca(c,d);if(b!==null&&h.inArray(b,j)!==-1)return[b];if(!a)return j;if(typeof a==="function")return h.map(j,function(b){var d=c.aoData[b];return a(b,d._aData,d.nTr)?b:null});b=Sb(ia(c.aoData,j,"nTr"));return a.nodeName&&h.inArray(a,b)!==-1?[a._DT_RowIndex]:h(b).filter(a).map(function(){return this._DT_RowIndex}).toArray()},
c,d)},1);c.selector.rows=a;c.selector.opts=b;return c});r("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||k},1)});r("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return ia(a.aoData,b,"_aData")},1)});v("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var e=b.aoData[c];return"search"===a?e._aFilterData:e._aSortData},1)});v("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",
function(b,c){ca(b,c,a)})});v("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)});v("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,e){var d=b.aoData;d.splice(c,1);for(var f=0,g=d.length;f<g;f++)null!==d[f].nTr&&(d[f].nTr._DT_RowIndex=f);h.inArray(c,b.aiDisplay);pa(b.aiDisplayMaster,c);pa(b.aiDisplay,c);pa(a[e],c,!1);Sa(b)})});r("rows.add()",function(a){var b=this.iterator("table",function(b){var c,
f,g,h=[];f=0;for(g=a.length;f<g;f++)c=a[f],c.nodeName&&"TR"===c.nodeName.toUpperCase()?h.push(ma(b,c)[0]):h.push(K(b,c));return h},1),c=this.rows(-1);c.pop();c.push.apply(c,b.toArray());return c});r("row()",function(a,b){return bb(this.rows(a,b))});r("row().data()",function(a){var b=this.context;if(a===k)return b.length&&this.length?b[0].aoData[this[0]]._aData:k;b[0].aoData[this[0]]._aData=a;ca(b[0],this[0],"data");return this});r("row().node()",function(){var a=this.context;return a.length&&this.length?
a[0].aoData[this[0]].nTr||null:null});r("row.add()",function(a){a instanceof h&&a.length&&(a=a[0]);var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?ma(b,a)[0]:K(b,a)});return this.row(b[0])});var cb=function(a,b){var c=a.context;c.length&&(c=c[0].aoData[b!==k?b:a[0]],c._details&&(c._details.remove(),c._detailsShow=k,c._details=k))},Vb=function(a,b){var c=a.context;if(c.length&&a.length){var e=c[0].aoData[a[0]];if(e._details){(e._detailsShow=b)?e._details.insertAfter(e.nTr):
e._details.detach();var d=c[0],f=new t(d),g=d.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<D(g,"_details").length&&(f.on("draw.dt.DT_details",function(a,b){d===b&&f.rows({page:"current"}).eq(0).each(function(a){a=g[a];a._detailsShow&&a._details.insertAfter(a.nTr)})}),f.on("column-visibility.dt.DT_details",function(a,b){if(d===b)for(var c,e=aa(b),f=0,h=g.length;f<h;f++)c=g[f],c._details&&c._details.children("td[colspan]").attr("colspan",e)}),f.on("destroy.dt.DT_details",
function(a,b){if(d===b)for(var c=0,e=g.length;c<e;c++)g[c]._details&&cb(f,c)}))}}};r("row().child()",function(a,b){var c=this.context;if(a===k)return c.length&&this.length?c[0].aoData[this[0]]._details:k;if(!0===a)this.child.show();else if(!1===a)cb(this);else if(c.length&&this.length){var e=c[0],c=c[0].aoData[this[0]],d=[],f=function(a,b){if(h.isArray(a)||a instanceof h)for(var c=0,k=a.length;c<k;c++)f(a[c],b);else a.nodeName&&"tr"===a.nodeName.toLowerCase()?d.push(a):(c=h("<tr><td/></tr>").addClass(b),
h("td",c).addClass(b).html(a)[0].colSpan=aa(e),d.push(c[0]))};f(a,b);c._details&&c._details.remove();c._details=h(d);c._detailsShow&&c._details.insertAfter(c.nTr)}return this});r(["row().child.show()","row().child().show()"],function(){Vb(this,!0);return this});r(["row().child.hide()","row().child().hide()"],function(){Vb(this,!1);return this});r(["row().child.remove()","row().child().remove()"],function(){cb(this);return this});r("row().child.isShown()",function(){var a=this.context;return a.length&&
this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var dc=/^(.+):(name|visIdx|visible)$/,Wb=function(a,b,c,e,d){for(var c=[],e=0,f=d.length;e<f;e++)c.push(x(a,d[e],b));return c};r("columns()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var d=a,f=b,g=c.aoColumns,j=D(g,"sName"),i=D(g,"nTh");return $a("column",d,function(a){var b=Pb(a);if(a==="")return V(g.length);if(b!==null)return[b>=0?b:g.length+b];if(typeof a==="function"){var d=Ca(c,
f);return h.map(g,function(b,f){return a(f,Wb(c,f,0,0,d),i[f])?f:null})}var k=typeof a==="string"?a.match(dc):"";if(k)switch(k[2]){case "visIdx":case "visible":b=parseInt(k[1],10);if(b<0){var m=h.map(g,function(a,b){return a.bVisible?b:null});return[m[m.length+b]]}return[la(c,b)];case "name":return h.map(j,function(a,b){return a===k[1]?b:null})}else return h(i).filter(a).map(function(){return h.inArray(this,i)}).toArray()},c,f)},1);c.selector.cols=a;c.selector.opts=b;return c});v("columns().header()",
"column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)});v("columns().footer()","column().footer()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)});v("columns().data()","column().data()",function(){return this.iterator("column-rows",Wb,1)});v("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)});v("columns().cache()","column().cache()",
function(a){return this.iterator("column-rows",function(b,c,e,d,f){return ia(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)});v("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,e,d){return ia(a.aoData,d,"anCells",b)},1)});v("columns().visible()","column().visible()",function(a,b){return this.iterator("column",function(c,e){if(a===k)return c.aoColumns[e].bVisible;var d=c.aoColumns,f=d[e],g=c.aoData,j,i,m;if(a!==k&&f.bVisible!==a){if(a){var l=
h.inArray(!0,D(d,"bVisible"),e+1);j=0;for(i=g.length;j<i;j++)m=g[j].nTr,d=g[j].anCells,m&&m.insertBefore(d[e],d[l]||null)}else h(D(c.aoData,"anCells",e)).detach();f.bVisible=a;ea(c,c.aoHeader);ea(c,c.aoFooter);if(b===k||b)X(c),(c.oScroll.sX||c.oScroll.sY)&&Y(c);w(c,null,"column-visibility",[c,e,a]);ya(c)}})});v("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?$(b,c):c},1)});r("columns.adjust()",function(){return this.iterator("table",
function(a){X(a)},1)});r("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return la(c,b);if("fromData"===a||"toVisible"===a)return $(c,b)}});r("column()",function(a,b){return bb(this.columns(a,b))});r("cells()",function(a,b,c){h.isPlainObject(a)&&(a.row===k?(c=a,a=null):(c=b,b=null));h.isPlainObject(b)&&(c=b,b=null);if(null===b||b===k)return this.iterator("table",function(b){var d=a,e=ab(c),f=b.aoData,g=Ca(b,e),i=Sb(ia(f,g,"anCells")),
j=h([].concat.apply([],i)),l,m=b.aoColumns.length,o,r,t,s,u,v;return $a("cell",d,function(a){var c=typeof a==="function";if(a===null||a===k||c){o=[];r=0;for(t=g.length;r<t;r++){l=g[r];for(s=0;s<m;s++){u={row:l,column:s};if(c){v=b.aoData[l];a(u,x(b,l,s),v.anCells?v.anCells[s]:null)&&o.push(u)}else o.push(u)}}return o}return h.isPlainObject(a)?[a]:j.filter(a).map(function(a,b){l=b.parentNode._DT_RowIndex;return{row:l,column:h.inArray(b,f[l].anCells)}}).toArray()},b,e)});var e=this.columns(b,c),d=this.rows(a,
c),f,g,j,i,m,l=this.iterator("table",function(a,b){f=[];g=0;for(j=d[b].length;g<j;g++){i=0;for(m=e[b].length;i<m;i++)f.push({row:d[b][g],column:e[b][i]})}return f},1);h.extend(l.selector,{cols:b,rows:a,opts:c});return l});v("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,c){return(a=a.aoData[b].anCells)?a[c]:k},1)});r("cells().data()",function(){return this.iterator("cell",function(a,b,c){return x(a,b,c)},1)});v("cells().cache()","cell().cache()",function(a){a=
"search"===a?"_aFilterData":"_aSortData";return this.iterator("cell",function(b,c,e){return b.aoData[c][a][e]},1)});v("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,e){return x(b,c,e,a)},1)});v("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,b,c){return{row:b,column:c,columnVisible:$(a,c)}},1)});v("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,e){ca(b,c,a,e)})});r("cell()",
function(a,b,c){return bb(this.cells(a,b,c))});r("cell().data()",function(a){var b=this.context,c=this[0];if(a===k)return b.length&&c.length?x(b[0],c[0].row,c[0].column):k;Ia(b[0],c[0].row,c[0].column,a);ca(b[0],c[0].row,"data",c[0].column);return this});r("order()",function(a,b){var c=this.context;if(a===k)return 0!==c.length?c[0].aaSorting:k;"number"===typeof a?a=[[a,b]]:h.isArray(a[0])||(a=Array.prototype.slice.call(arguments));return this.iterator("table",function(b){b.aaSorting=a.slice()})});
r("order.listener()",function(a,b,c){return this.iterator("table",function(e){Oa(e,a,b,c)})});r(["columns().order()","column().order()"],function(a){var b=this;return this.iterator("table",function(c,e){var d=[];h.each(b[e],function(b,c){d.push([c,a])});c.aaSorting=d})});r("search()",function(a,b,c,e){var d=this.context;return a===k?0!==d.length?d[0].oPreviousSearch.sSearch:k:this.iterator("table",function(d){d.oFeatures.bFilter&&fa(d,h.extend({},d.oPreviousSearch,{sSearch:a+"",bRegex:null===b?!1:
b,bSmart:null===c?!0:c,bCaseInsensitive:null===e?!0:e}),1)})});v("columns().search()","column().search()",function(a,b,c,e){return this.iterator("column",function(d,f){var g=d.aoPreSearchCols;if(a===k)return g[f].sSearch;d.oFeatures.bFilter&&(h.extend(g[f],{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===e?!0:e}),fa(d,d.oPreviousSearch,1))})});r("state()",function(){return this.context.length?this.context[0].oSavedState:null});r("state.clear()",function(){return this.iterator("table",
function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});r("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});r("state.save()",function(){return this.iterator("table",function(a){ya(a)})});m.versionCheck=m.fnVersionCheck=function(a){for(var b=m.version.split("."),a=a.split("."),c,e,d=0,f=a.length;d<f;d++)if(c=parseInt(b[d],10)||0,e=parseInt(a[d],10)||0,c!==e)return c>e;return!0};m.isDataTable=m.fnIsDataTable=function(a){var b=h(a).get(0),c=!1;h.each(m.settings,
function(a,d){var f=d.nScrollHead?h("table",d.nScrollHead)[0]:null,g=d.nScrollFoot?h("table",d.nScrollFoot)[0]:null;if(d.nTable===b||f===b||g===b)c=!0});return c};m.tables=m.fnTables=function(a){return h.map(m.settings,function(b){if(!a||a&&h(b.nTable).is(":visible"))return b.nTable})};m.util={throttle:ua,escapeRegex:va};m.camelToHungarian=H;r("$()",function(a,b){var c=this.rows(b).nodes(),c=h(c);return h([].concat(c.filter(a).toArray(),c.find(a).toArray()))});h.each(["on","one","off"],function(a,
b){r(b+"()",function(){var a=Array.prototype.slice.call(arguments);a[0].match(/\.dt\b/)||(a[0]+=".dt");var e=h(this.tables().nodes());e[b].apply(e,a);return this})});r("clear()",function(){return this.iterator("table",function(a){oa(a)})});r("settings()",function(){return new t(this.context,this.context)});r("init()",function(){var a=this.context;return a.length?a[0].oInit:null});r("data()",function(){return this.iterator("table",function(a){return D(a.aoData,"_aData")}).flatten()});r("destroy()",
function(a){a=a||!1;return this.iterator("table",function(b){var c=b.nTableWrapper.parentNode,e=b.oClasses,d=b.nTable,f=b.nTBody,g=b.nTHead,j=b.nTFoot,i=h(d),f=h(f),k=h(b.nTableWrapper),l=h.map(b.aoData,function(a){return a.nTr}),q;b.bDestroying=!0;w(b,"aoDestroyCallback","destroy",[b]);a||(new t(b)).columns().visible(!0);k.unbind(".DT").find(":not(tbody *)").unbind(".DT");h(Ea).unbind(".DT-"+b.sInstance);d!=g.parentNode&&(i.children("thead").detach(),i.append(g));j&&d!=j.parentNode&&(i.children("tfoot").detach(),
i.append(j));i.detach();k.detach();b.aaSorting=[];b.aaSortingFixed=[];xa(b);h(l).removeClass(b.asStripeClasses.join(" "));h("th, td",g).removeClass(e.sSortable+" "+e.sSortableAsc+" "+e.sSortableDesc+" "+e.sSortableNone);b.bJUI&&(h("th span."+e.sSortIcon+", td span."+e.sSortIcon,g).detach(),h("th, td",g).each(function(){var a=h("div."+e.sSortJUIWrapper,this);h(this).append(a.contents());a.detach()}));!a&&c&&c.insertBefore(d,b.nTableReinsertBefore);f.children().detach();f.append(l);i.css("width",b.sDestroyWidth).removeClass(e.sTable);
(q=b.asDestroyStripes.length)&&f.children().each(function(a){h(this).addClass(b.asDestroyStripes[a%q])});c=h.inArray(b,m.settings);-1!==c&&m.settings.splice(c,1)})});h.each(["column","row","cell"],function(a,b){r(b+"s().every()",function(a){return this.iterator(b,function(e,d,f){a.call((new t(e))[b](d,f))})})});r("i18n()",function(a,b,c){var e=this.context[0],a=R(a)(e.oLanguage);a===k&&(a=b);c!==k&&h.isPlainObject(a)&&(a=a[c]!==k?a[c]:a._);return a.replace("%d",c)});m.version="1.10.7";m.settings=
[];m.models={};m.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};m.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};m.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",
sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};m.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,
fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,
fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": 激活列升序进行排序",sSortDescending:": 激活列降序进行排序"},oPaginate:{sFirst:"首页",sLast:"末页",sNext:"下一页",sPrevious:"上一页"},
sEmptyTable:"没有可用的数据表",sInfo:"显示 _START_ 到 _END_ 共 _TOTAL_ 条",sInfoEmpty:"显示0 - 0 0条",sInfoFiltered:"(过滤后的 from _MAX_ total 条)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"显示 _MENU_ 条",sLoadingRecords:"加载中...",sProcessing:"处理...",sSearch:"搜索：",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"没有找到匹配的记录"},oSearch:h.extend({},m.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,
sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};W(m.defaults);m.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};W(m.defaults.column);m.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,
bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],
sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,
bAjaxDataGet:!0,jqXHR:null,json:k,oAjaxData:k,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==B(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==B(this)?1*this._iRecordsDisplay:
this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,e=this.aiDisplay.length,d=this.oFeatures,f=d.bPaginate;return d.bServerSide?!1===f||-1===a?b+e:Math.min(b+a,this._iRecordsDisplay):!f||c>e||-1===a?e:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};m.ext=u={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},
header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:m.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:m.version};h.extend(u,{afnFiltering:u.search,aTypes:u.type.detect,ofnSearch:u.type.search,oSort:u.type.order,afnSortData:u.order,aoFeatures:u.feature,oApi:u.internal,oStdClasses:u.classes,oPagination:u.pager});h.extend(m.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",
sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",
sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Da="",Da="",F=Da+"ui-state-default",ja=Da+"css_right ui-icon ui-icon-",Xb=Da+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";h.extend(m.ext.oJUIClasses,
m.ext.classes,{sPageButton:"fg-button ui-button "+F,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:F+" sorting_asc",sSortDesc:F+" sorting_desc",sSortable:F+" sorting",sSortableAsc:F+" sorting_asc_disabled",sSortableDesc:F+" sorting_desc_disabled",sSortableNone:F+" sorting_disabled",sSortJUIAsc:ja+"triangle-1-n",sSortJUIDesc:ja+"triangle-1-s",sSortJUI:ja+"carat-2-n-s",
sSortJUIAscAllowed:ja+"carat-1-n",sSortJUIDescAllowed:ja+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+F,sScrollFoot:"dataTables_scrollFoot "+F,sHeaderTH:F,sFooterTH:F,sJUIHeader:Xb+" ui-corner-tl ui-corner-tr",sJUIFooter:Xb+" ui-corner-bl ui-corner-br"});var Mb=m.ext.pager;h.extend(Mb,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(a,b){return["previous",
Wa(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Wa(a,b),"next","last"]},_numbers:Wa,numbers_length:7});h.extend(!0,m.ext.renderer,{pageButton:{_:function(a,b,c,e,d,f){var g=a.oClasses,j=a.oLanguage.oPaginate,i,k,l=0,m=function(b,e){var n,r,t,s,u=function(b){Ta(a,b.data.action,true)};n=0;for(r=e.length;n<r;n++){s=e[n];if(h.isArray(s)){t=h("<"+(s.DT_el||"div")+"/>").appendTo(b);m(t,s)}else{k=i="";switch(s){case "ellipsis":b.append('<span class="ellipsis">&#x2026;</span>');break;
case "first":i=j.sFirst;k=s+(d>0?"":" "+g.sPageButtonDisabled);break;case "previous":i=j.sPrevious;k=s+(d>0?"":" "+g.sPageButtonDisabled);break;case "next":i=j.sNext;k=s+(d<f-1?"":" "+g.sPageButtonDisabled);break;case "last":i=j.sLast;k=s+(d<f-1?"":" "+g.sPageButtonDisabled);break;default:i=s+1;k=d===s?g.sPageButtonActive:""}if(i){t=h("<a>",{"class":g.sPageButton+" "+k,"aria-controls":a.sTableId,"data-dt-idx":l,tabindex:a.iTabIndex,id:c===0&&typeof s==="string"?a.sTableId+"_"+s:null}).html(i).appendTo(b);
Va(t,{action:s},u);l++}}}},n;try{n=h(Q.activeElement).data("dt-idx")}catch(r){}m(h(b).empty(),e);n&&h(b).find("[data-dt-idx="+n+"]").focus()}}});h.extend(m.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&(!ac.test(a)||!bc.test(a)))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||J(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;
return Rb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Rb(a,c,!0)?"html-num-fmt"+c:null},function(a){return J(a)||"string"===typeof a&&-1!==a.indexOf("<")?"html":null}]);h.extend(m.ext.type.search,{html:function(a){return J(a)?a:"string"===typeof a?a.replace(Ob," ").replace(Ba,""):""},string:function(a){return J(a)?a:"string"===typeof a?a.replace(Ob," "):a}});var Aa=function(a,b,c,e){if(0!==a&&(!a||"-"===a))return-Infinity;b&&(a=Qb(a,b));a.replace&&(c&&(a=a.replace(c,"")),
e&&(a=a.replace(e,"")));return 1*a};h.extend(u.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return J(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return J(a)?"":"string"===typeof a?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}});db("");h.extend(!0,m.ext.renderer,{header:{_:function(a,b,c,e){h(a.nTable).on("order.dt.DT",function(d,
f,g,h){if(a===f){d=c.idx;b.removeClass(c.sSortingClass+" "+e.sSortAsc+" "+e.sSortDesc).addClass(h[d]=="asc"?e.sSortAsc:h[d]=="desc"?e.sSortDesc:c.sSortingClass)}})},jqueryui:function(a,b,c,e){h("<div/>").addClass(e.sSortJUIWrapper).append(b.contents()).append(h("<span/>").addClass(e.sSortIcon+" "+c.sSortingClassJUI)).appendTo(b);h(a.nTable).on("order.dt.DT",function(d,f,g,h){if(a===f){d=c.idx;b.removeClass(e.sSortAsc+" "+e.sSortDesc).addClass(h[d]=="asc"?e.sSortAsc:h[d]=="desc"?e.sSortDesc:c.sSortingClass);
b.find("span."+e.sSortIcon).removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed).addClass(h[d]=="asc"?e.sSortJUIAsc:h[d]=="desc"?e.sSortJUIDesc:c.sSortingClassJUI)}})}}});m.render={number:function(a,b,c,e){return{display:function(d){if("number"!==typeof d&&"string"!==typeof d)return d;var f=0>d?"-":"",d=Math.abs(parseFloat(d)),g=parseInt(d,10),d=c?b+(d-g).toFixed(c).substring(2):"";return f+(e||"")+g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,
a)+d}}}};h.extend(m.ext.internal,{_fnExternApiFunc:Nb,_fnBuildAjax:ra,_fnAjaxUpdate:kb,_fnAjaxParameters:tb,_fnAjaxUpdateDraw:ub,_fnAjaxDataSrc:sa,_fnAddColumn:Fa,_fnColumnOptions:ka,_fnAdjustColumnSizing:X,_fnVisibleToColumnIndex:la,_fnColumnIndexToVisible:$,_fnVisbleColumns:aa,_fnGetColumns:Z,_fnColumnTypes:Ha,_fnApplyColumnDefs:ib,_fnHungarianMap:W,_fnCamelToHungarian:H,_fnLanguageCompat:P,_fnBrowserDetect:gb,_fnAddData:K,_fnAddTr:ma,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==k?b._DT_RowIndex:
null},_fnNodeToColumnIndex:function(a,b,c){return h.inArray(c,a.aoData[b].anCells)},_fnGetCellData:x,_fnSetCellData:Ia,_fnSplitObjNotation:Ka,_fnGetObjectDataFn:R,_fnSetObjectDataFn:S,_fnGetDataMaster:La,_fnClearTable:oa,_fnDeleteIndex:pa,_fnInvalidate:ca,_fnGetRowElements:na,_fnCreateTr:Ja,_fnBuildHead:jb,_fnDrawHead:ea,_fnDraw:M,_fnReDraw:N,_fnAddOptionsHtml:mb,_fnDetectHeader:da,_fnGetUniqueThs:qa,_fnFeatureHtmlFilter:ob,_fnFilterComplete:fa,_fnFilterCustom:xb,_fnFilterColumn:wb,_fnFilter:vb,_fnFilterCreateSearch:Qa,
_fnEscapeRegex:va,_fnFilterData:yb,_fnFeatureHtmlInfo:rb,_fnUpdateInfo:Bb,_fnInfoMacros:Cb,_fnInitialise:ga,_fnInitComplete:ta,_fnLengthChange:Ra,_fnFeatureHtmlLength:nb,_fnFeatureHtmlPaginate:sb,_fnPageChange:Ta,_fnFeatureHtmlProcessing:pb,_fnProcessingDisplay:C,_fnFeatureHtmlTable:qb,_fnScrollDraw:Y,_fnApplyToChildren:G,_fnCalculateColumnWidths:Ga,_fnThrottle:ua,_fnConvertToWidth:Db,_fnScrollingWidthAdjust:Fb,_fnGetWidestNode:Eb,_fnGetMaxLenString:Gb,_fnStringToCss:s,_fnScrollBarWidth:Hb,_fnSortFlatten:U,
_fnSort:lb,_fnSortAria:Jb,_fnSortListener:Ua,_fnSortAttachListener:Oa,_fnSortingClasses:xa,_fnSortData:Ib,_fnSaveState:ya,_fnLoadState:Kb,_fnSettingsFromNode:za,_fnLog:I,_fnMap:E,_fnBindAction:Va,_fnCallbackReg:z,_fnCallbackFire:w,_fnLengthOverflow:Sa,_fnRenderer:Pa,_fnDataSource:B,_fnRowAttributes:Ma,_fnCalculateEnd:function(){}});h.fn.dataTable=m;h.fn.dataTableSettings=m.settings;h.fn.dataTableExt=m.ext;h.fn.DataTable=function(a){return h(this).dataTable(a).api()};h.each(m,function(a,b){h.fn.DataTable[a]=
b});return h.fn.dataTable};"function"===typeof define&&define.amd?define("datatables",["jquery"],P):"object"===typeof exports?module.exports=P(require("jquery")):jQuery&&!jQuery.fn.dataTable&&P(jQuery)})(window,document);

;}catch(e){}
try{
/*!
 FixedHeader 2.1.2
 ©2010-2014 SpryMedia Ltd - datatables.net/license
*/
var FixedHeader;
(function(j,k,h){var l=function(e){FixedHeader=function(a,b){if(!this instanceof FixedHeader)alert("FixedHeader warning: FixedHeader must be initialised with the 'new' keyword.");else{var c={aoCache:[],oSides:{top:!0,bottom:!1,left:0,right:0},oZIndexes:{top:104,bottom:103,left:102,right:101},oCloneOnDraw:{top:!1,bottom:!1,left:!0,right:!0},oMes:{iTableWidth:0,iTableHeight:0,iTableLeft:0,iTableRight:0,iTableTop:0,iTableBottom:0},oOffset:{top:0},nTable:null,bFooter:!1,bInitComplete:!1};this.fnGetSettings=
function(){return c};this.fnUpdate=function(){this._fnUpdateClones();this._fnUpdatePositions()};this.fnPosition=function(){this._fnUpdatePositions()};var d=e.fn.dataTable.Api?(new e.fn.dataTable.Api(a)).settings()[0]:a.fnSettings();d._oPluginFixedHeader=this;this.fnInit(d,b)}};FixedHeader.prototype={fnInit:function(a,b){var c=this.fnGetSettings(),d=this;this.fnInitSettings(c,b);""!==a.oScroll.sX||""!==a.oScroll.sY?alert("FixedHeader 2 is not supported with DataTables' scrolling mode at this time"):
(c.nTable=a.nTable,a.aoDrawCallback.unshift({fn:function(){FixedHeader.fnMeasure();d._fnUpdateClones.call(d);d._fnUpdatePositions.call(d)},sName:"FixedHeader"}),c.bFooter=0<e(">tfoot",c.nTable).length?!0:!1,c.oSides.top&&c.aoCache.push(d._fnCloneTable("fixedHeader","FixedHeader_Header",d._fnCloneThead)),c.oSides.bottom&&c.aoCache.push(d._fnCloneTable("fixedFooter","FixedHeader_Footer",d._fnCloneTfoot)),c.oSides.left&&c.aoCache.push(d._fnCloneTable("fixedLeft","FixedHeader_Left",d._fnCloneTLeft,c.oSides.left)),
c.oSides.right&&c.aoCache.push(d._fnCloneTable("fixedRight","FixedHeader_Right",d._fnCloneTRight,c.oSides.right)),FixedHeader.afnScroll.push(function(){d._fnUpdatePositions.call(d)}),e(j).resize(function(){FixedHeader.fnMeasure();d._fnUpdateClones.call(d);d._fnUpdatePositions.call(d)}),e(c.nTable).on("column-reorder.dt",function(){FixedHeader.fnMeasure();d._fnUpdateClones(!0);d._fnUpdatePositions()}).on("column-visibility.dt",function(){FixedHeader.fnMeasure();d._fnUpdateClones(!0);d._fnUpdatePositions()}),
FixedHeader.fnMeasure(),d._fnUpdateClones(),d._fnUpdatePositions(),c.bInitComplete=!0)},fnInitSettings:function(a,b){if(b!==h&&(b.top!==h&&(a.oSides.top=b.top),b.bottom!==h&&(a.oSides.bottom=b.bottom),"boolean"==typeof b.left?a.oSides.left=b.left?1:0:b.left!==h&&(a.oSides.left=b.left),"boolean"==typeof b.right?a.oSides.right=b.right?1:0:b.right!==h&&(a.oSides.right=b.right),b.zTop!==h&&(a.oZIndexes.top=b.zTop),b.zBottom!==h&&(a.oZIndexes.bottom=b.zBottom),b.zLeft!==h&&(a.oZIndexes.left=b.zLeft),b.zRight!==
h&&(a.oZIndexes.right=b.zRight),b.offsetTop!==h&&(a.oOffset.top=b.offsetTop),b.alwaysCloneTop!==h&&(a.oCloneOnDraw.top=b.alwaysCloneTop),b.alwaysCloneBottom!==h&&(a.oCloneOnDraw.bottom=b.alwaysCloneBottom),b.alwaysCloneLeft!==h&&(a.oCloneOnDraw.left=b.alwaysCloneLeft),b.alwaysCloneRight!==h))a.oCloneOnDraw.right=b.alwaysCloneRight},_fnCloneTable:function(a,b,c,d){var f=this.fnGetSettings(),g;"absolute"!=e(f.nTable.parentNode).css("position")&&(f.nTable.parentNode.style.position="relative");g=f.nTable.cloneNode(!1);
g.removeAttribute("id");var i=k.createElement("div");i.style.position="absolute";i.style.top="0px";i.style.left="0px";i.className+=" FixedHeader_Cloned "+a+" "+b;"fixedHeader"==a&&(i.style.zIndex=f.oZIndexes.top);"fixedFooter"==a&&(i.style.zIndex=f.oZIndexes.bottom);"fixedLeft"==a?i.style.zIndex=f.oZIndexes.left:"fixedRight"==a&&(i.style.zIndex=f.oZIndexes.right);g.style.margin="0";i.appendChild(g);k.body.appendChild(i);return{nNode:g,nWrapper:i,sType:a,sPosition:"",sTop:"",sLeft:"",fnClone:c,iCells:d}},
_fnMeasure:function(){var a=this.fnGetSettings(),b=a.oMes,c=e(a.nTable),d=c.offset(),f=this._fnSumScroll(a.nTable.parentNode,"scrollTop");this._fnSumScroll(a.nTable.parentNode,"scrollLeft");b.iTableWidth=c.outerWidth();b.iTableHeight=c.outerHeight();b.iTableLeft=d.left+a.nTable.parentNode.scrollLeft;b.iTableTop=d.top+f;b.iTableRight=b.iTableLeft+b.iTableWidth;b.iTableRight=FixedHeader.oDoc.iWidth-b.iTableLeft-b.iTableWidth;b.iTableBottom=FixedHeader.oDoc.iHeight-b.iTableTop-b.iTableHeight},_fnSumScroll:function(a,
b){for(var c=a[b];(a=a.parentNode)&&!("HTML"==a.nodeName||"BODY"==a.nodeName);)c=a[b];return c},_fnUpdatePositions:function(){var a=this.fnGetSettings();this._fnMeasure();for(var b=0,c=a.aoCache.length;b<c;b++)"fixedHeader"==a.aoCache[b].sType?this._fnScrollFixedHeader(a.aoCache[b]):"fixedFooter"==a.aoCache[b].sType?this._fnScrollFixedFooter(a.aoCache[b]):"fixedLeft"==a.aoCache[b].sType?this._fnScrollHorizontalLeft(a.aoCache[b]):this._fnScrollHorizontalRight(a.aoCache[b])},_fnUpdateClones:function(a){var b=
this.fnGetSettings();a&&(b.bInitComplete=!1);for(var c=0,d=b.aoCache.length;c<d;c++)b.aoCache[c].fnClone.call(this,b.aoCache[c]);a&&(b.bInitComplete=!0)},_fnScrollHorizontalRight:function(a){var b=this.fnGetSettings().oMes,c=FixedHeader.oWin,d=FixedHeader.oDoc,f=a.nWrapper,g=e(f).outerWidth();c.iScrollRight<b.iTableRight?(this._fnUpdateCache(a,"sPosition","absolute","position",f.style),this._fnUpdateCache(a,"sTop",b.iTableTop+"px","top",f.style),this._fnUpdateCache(a,"sLeft",b.iTableLeft+b.iTableWidth-
g+"px","left",f.style)):b.iTableLeft<d.iWidth-c.iScrollRight-g?(this._fnUpdateCache(a,"sPosition","fixed","position",f.style),this._fnUpdateCache(a,"sTop",b.iTableTop-c.iScrollTop+"px","top",f.style),this._fnUpdateCache(a,"sLeft",c.iWidth-g+"px","left",f.style)):(this._fnUpdateCache(a,"sPosition","absolute","position",f.style),this._fnUpdateCache(a,"sTop",b.iTableTop+"px","top",f.style),this._fnUpdateCache(a,"sLeft",b.iTableLeft+"px","left",f.style))},_fnScrollHorizontalLeft:function(a){var b=this.fnGetSettings().oMes,
c=FixedHeader.oWin,d=a.nWrapper,f=e(d).outerWidth();c.iScrollLeft<b.iTableLeft?(this._fnUpdateCache(a,"sPosition","absolute","position",d.style),this._fnUpdateCache(a,"sTop",b.iTableTop+"px","top",d.style),this._fnUpdateCache(a,"sLeft",b.iTableLeft+"px","left",d.style)):c.iScrollLeft<b.iTableLeft+b.iTableWidth-f?(this._fnUpdateCache(a,"sPosition","fixed","position",d.style),this._fnUpdateCache(a,"sTop",b.iTableTop-c.iScrollTop+"px","top",d.style),this._fnUpdateCache(a,"sLeft","0px","left",d.style)):
(this._fnUpdateCache(a,"sPosition","absolute","position",d.style),this._fnUpdateCache(a,"sTop",b.iTableTop+"px","top",d.style),this._fnUpdateCache(a,"sLeft",b.iTableLeft+b.iTableWidth-f+"px","left",d.style))},_fnScrollFixedFooter:function(a){var b=this.fnGetSettings(),c=b.oMes,d=FixedHeader.oWin,f=a.nWrapper,b=e("thead",b.nTable).outerHeight(),g=e(f).outerHeight();d.iScrollBottom<c.iTableBottom?(this._fnUpdateCache(a,"sPosition","absolute","position",f.style),this._fnUpdateCache(a,"sTop",c.iTableTop+
c.iTableHeight-g+"px","top",f.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft+"px","left",f.style)):d.iScrollBottom<c.iTableBottom+c.iTableHeight-g-b?(this._fnUpdateCache(a,"sPosition","fixed","position",f.style),this._fnUpdateCache(a,"sTop",d.iHeight-g+"px","top",f.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft-d.iScrollLeft+"px","left",f.style)):(this._fnUpdateCache(a,"sPosition","absolute","position",f.style),this._fnUpdateCache(a,"sTop",c.iTableTop+g+"px","top",f.style),this._fnUpdateCache(a,
"sLeft",c.iTableLeft+"px","left",f.style))},_fnScrollFixedHeader:function(a){for(var b=this.fnGetSettings(),c=b.oMes,d=FixedHeader.oWin,e=a.nWrapper,g=0,i=b.nTable.getElementsByTagName("tbody"),h=0;h<i.length;++h)g+=i[h].offsetHeight;c.iTableTop>d.iScrollTop+b.oOffset.top?(this._fnUpdateCache(a,"sPosition","absolute","position",e.style),this._fnUpdateCache(a,"sTop",c.iTableTop+"px","top",e.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft+"px","left",e.style)):d.iScrollTop+b.oOffset.top>c.iTableTop+
g?(this._fnUpdateCache(a,"sPosition","absolute","position",e.style),this._fnUpdateCache(a,"sTop",c.iTableTop+g+"px","top",e.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft+"px","left",e.style)):(this._fnUpdateCache(a,"sPosition","fixed","position",e.style),this._fnUpdateCache(a,"sTop",b.oOffset.top+"px","top",e.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft-d.iScrollLeft+"px","left",e.style))},_fnUpdateCache:function(a,b,c,d,e){a[b]!=c&&(e[d]=c,a[b]=c)},_fnClassUpdate:function(a,b){var c=this;
if("TR"===a.nodeName.toUpperCase()||"TH"===a.nodeName.toUpperCase()||"TD"===a.nodeName.toUpperCase()||"SPAN"===a.nodeName.toUpperCase())b.className=a.className;e(a).children().each(function(d){c._fnClassUpdate(e(a).children()[d],e(b).children()[d])})},_fnCloneThead:function(a){var b=this.fnGetSettings(),c=a.nNode;if(b.bInitComplete&&!b.oCloneOnDraw.top)this._fnClassUpdate(e("thead",b.nTable)[0],e("thead",c)[0]);else{var d=e(b.nTable).outerWidth();a.nWrapper.style.width=d+"px";for(c.style.width=d+
"px";0<c.childNodes.length;)e("thead th",c).unbind("click"),c.removeChild(c.childNodes[0]);a=e("thead",b.nTable).clone(!0)[0];c.appendChild(a);var f=[],g=[];e("thead>tr th",b.nTable).each(function(){f.push(e(this).width())});e("thead>tr td",b.nTable).each(function(){g.push(e(this).width())});e("thead>tr th",b.nTable).each(function(a){e("thead>tr th:eq("+a+")",c).width(f[a]);e(this).width(f[a])});e("thead>tr td",b.nTable).each(function(a){e("thead>tr td:eq("+a+")",c).width(g[a]);e(this).width(g[a])});
e("th.sorting, th.sorting_desc, th.sorting_asc",c).bind("click",function(){this.blur()})}},_fnCloneTfoot:function(a){var b=this.fnGetSettings(),c=a.nNode;for(a.nWrapper.style.width=e(b.nTable).outerWidth()+"px";0<c.childNodes.length;)c.removeChild(c.childNodes[0]);a=e("tfoot",b.nTable).clone(!0)[0];c.appendChild(a);e("tfoot:eq(0)>tr th",b.nTable).each(function(a){e("tfoot:eq(0)>tr th:eq("+a+")",c).width(e(this).width())});e("tfoot:eq(0)>tr td",b.nTable).each(function(a){e("tfoot:eq(0)>tr td:eq("+
a+")",c).width(e(this).width())})},_fnCloneTLeft:function(a){for(var b=this.fnGetSettings(),c=a.nNode,d=e("tbody",b.nTable)[0];0<c.childNodes.length;)c.removeChild(c.childNodes[0]);c.appendChild(e("thead",b.nTable).clone(!0)[0]);c.appendChild(e("tbody",b.nTable).clone(!0)[0]);b.bFooter&&c.appendChild(e("tfoot",b.nTable).clone(!0)[0]);var f="gt("+(a.iCells-1)+")";e("thead tr",c).each(function(){e("th:"+f,this).remove()});e("tfoot tr",c).each(function(){e("th:"+f,this).remove()});e("tbody tr",c).each(function(){e("td:"+
f,this).remove()});this.fnEqualiseHeights("thead",d.parentNode,c);this.fnEqualiseHeights("tbody",d.parentNode,c);this.fnEqualiseHeights("tfoot",d.parentNode,c);for(var g=d=0;g<a.iCells;g++)d+=e("thead tr th:eq("+g+")",b.nTable).outerWidth();c.style.width=d+"px";a.nWrapper.style.width=d+"px"},_fnCloneTRight:function(a){for(var b=this.fnGetSettings(),c=e("tbody",b.nTable)[0],d=a.nNode,f=e("tbody tr:eq(0) td",b.nTable).length;0<d.childNodes.length;)d.removeChild(d.childNodes[0]);d.appendChild(e("thead",
b.nTable).clone(!0)[0]);d.appendChild(e("tbody",b.nTable).clone(!0)[0]);b.bFooter&&d.appendChild(e("tfoot",b.nTable).clone(!0)[0]);e("thead tr th:lt("+(f-a.iCells)+")",d).remove();e("tfoot tr th:lt("+(f-a.iCells)+")",d).remove();e("tbody tr",d).each(function(){e("td:lt("+(f-a.iCells)+")",this).remove()});this.fnEqualiseHeights("thead",c.parentNode,d);this.fnEqualiseHeights("tbody",c.parentNode,d);this.fnEqualiseHeights("tfoot",c.parentNode,d);for(var g=c=0;g<a.iCells;g++)c+=e("thead tr th:eq("+(f-
1-g)+")",b.nTable).outerWidth();d.style.width=c+"px";a.nWrapper.style.width=c+"px"},fnEqualiseHeights:function(a,b,c){var d=e(a+" tr",b),f;e(a+" tr",c).each(function(a){f=d.eq(a).css("height");"Microsoft Internet Explorer"==navigator.appName&&(f=parseInt(f,10)+1);e(this).css("height",f);d.eq(a).css("height",f)})}};FixedHeader.oWin={iScrollTop:0,iScrollRight:0,iScrollBottom:0,iScrollLeft:0,iHeight:0,iWidth:0};FixedHeader.oDoc={iHeight:0,iWidth:0};FixedHeader.afnScroll=[];FixedHeader.fnMeasure=function(){var a=
e(j),b=e(k),c=FixedHeader.oWin,d=FixedHeader.oDoc;d.iHeight=b.height();d.iWidth=b.width();c.iHeight=a.height();c.iWidth=a.width();c.iScrollTop=a.scrollTop();c.iScrollLeft=a.scrollLeft();c.iScrollRight=d.iWidth-c.iScrollLeft-c.iWidth;c.iScrollBottom=d.iHeight-c.iScrollTop-c.iHeight};FixedHeader.version="2.1.2";e(j).scroll(function(){FixedHeader.fnMeasure();for(var a=0,b=FixedHeader.afnScroll.length;a<b;a++)FixedHeader.afnScroll[a]()});e.fn.dataTable.FixedHeader=FixedHeader;return e.fn.DataTable.FixedHeader=
FixedHeader};"function"===typeof define&&define.amd?define(["jquery","datatables"],l):"object"===typeof exports?l(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.FixedHeader&&l(jQuery,jQuery.fn.dataTable)})(window,document);

;}catch(e){}
try{
/*! DataTables Bootstrap integration
 * ÂŠ2011-2014 SpryMedia Ltd - datatables.net/license
 */
(function(c,a,d){var b=function(f,e){f.extend(true,e.defaults,{dom:"<'row'<'col-6'l><'col-6'f>r>t<'row'<'col-6'i><'col-6'p>>",renderer:"bootstrap"});f.extend(e.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"});e.ext.renderer.pageButton.bootstrap=function(k,r,q,p,o,j){var n=new e.Api(k);var l=k.oClasses;var i=k.oLanguage.oPaginate;var h,g;var m=function(t,x){var v,s,w,u;var y=function(z){z.preventDefault();if(z.data.action!=="ellipsis"){n.page(z.data.action).draw(false)}};for(v=0,s=x.length;v<s;v++){u=x[v];if(f.isArray(u)){m(t,u)}else{h="";g="";switch(u){case"ellipsis":h="&hellip;";g="disabled";break;case"first":h=i.sFirst;g=u+(o>0?"":" disabled");break;case"previous":h=i.sPrevious;g=u+(o>0?"":" disabled");break;case"next":h=i.sNext;g=u+(o<j-1?"":" disabled");break;case"last":h=i.sLast;g=u+(o<j-1?"":" disabled");break;default:h=u+1;g=o===u?"active":"";break}if(h){w=f("<li>",{"class":l.sPageButton+" "+g,"aria-controls":k.sTableId,tabindex:k.iTabIndex,id:q===0&&typeof u==="string"?k.sTableId+"_"+u:null}).append(f("<a>",{href:"#"}).html(h)).appendTo(t);k.oApi._fnBindAction(w,{action:u},y)}}}};m(f(r).empty().html('<ul class="pagination pagination-sm" style="margin:10px 0"/>').children("ul"),p)};if(e.TableTools){f.extend(true,e.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}});f.extend(true,e.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})}};if(typeof define==="function"&&define.amd){define(["jquery","datatables"],b)}else{if(typeof exports==="object"){b(require("jquery"),require("datatables"))}else{if(jQuery){b(jQuery,jQuery.fn.dataTable)}}}})(window,document);
;}catch(e){}
try{
/*!
 * Cropper v0.9.1
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2014-2015 Fengyuan Chen and contributors
 * Released under the MIT license
 *
 * Date: 2015-03-21T04:58:27.265Z
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){"use strict";function b(a){return"number"==typeof a}function c(a){return"undefined"==typeof a}function d(a,c){var d=[];return b(c)&&d.push(c),d.slice.apply(a,d)}function e(a,b){var c=d(arguments,2);return function(){return a.apply(b,c.concat(d(arguments)))}}function f(a){var b=a.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return b&&(b[1]!==n.protocol||b[2]!==n.hostname||b[3]!==n.port)}function g(a){var b="timestamp="+(new Date).getTime();return a+(-1===a.indexOf("?")?"?":"&")+b}function h(a){return a?"rotate("+a+"deg)":"none"}function i(a,b){var c,d,e=P(a.degree)%180,f=(e>90?180-e:e)*Math.PI/180,g=Q(f),h=R(f),i=a.width,j=a.height,k=a.aspectRatio;return b?(c=i/(h+g/k),d=c/k):(c=i*h+j*g,d=i*g+j*h),{width:c,height:d}}function j(b,c){var d=a("<canvas>")[0],e=d.getContext("2d"),f=c.naturalWidth,g=c.naturalHeight,h=c.rotate,j=i({width:f,height:g,degree:h});return h?(d.width=j.width,d.height=j.height,e.save(),e.translate(j.width/2,j.height/2),e.rotate(h*Math.PI/180),e.drawImage(b,-f/2,-g/2,f,g),e.restore()):(d.width=f,d.height=g,e.drawImage(b,0,0,f,g)),d}function k(b,c){this.$element=a(b),this.options=a.extend({},k.DEFAULTS,a.isPlainObject(c)&&c),this.ready=!1,this.built=!1,this.rotated=!1,this.cropped=!1,this.disabled=!1,this.load()}var l=a(window),m=a(document),n=window.location,o=".cropper",p=/^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,q="cropper-modal",r="cropper-hide",s="cropper-hidden",t="cropper-invisible",u="cropper-move",v="cropper-crop",w="cropper-disabled",x="cropper-bg",y="mousedown touchstart",z="mousemove touchmove",A="mouseup mouseleave touchend touchleave touchcancel",B="wheel mousewheel DOMMouseScroll",C="dblclick",D="resize"+o,E="build"+o,F="built"+o,G="dragstart"+o,H="dragmove"+o,I="dragend"+o,J="zoomin"+o,K="zoomout"+o,L=a.isFunction(a("<canvas>")[0].getContext),M=Math.sqrt,N=Math.min,O=Math.max,P=Math.abs,Q=Math.sin,R=Math.cos,S=parseFloat,T={};T.load=function(b){var c,d,e,h=this.options,i=this.$element;b||(i.is("img")?b=i.prop("src"):i.is("canvas")&&L&&(b=i[0].toDataURL())),b&&(d=a.Event(E),i.one(E,h.build).trigger(d),d.isDefaultPrevented()||(h.checkImageOrigin&&f(b)&&(c=" crossOrigin",i.prop("crossOrigin")||(b=g(b))),this.$clone=e=a("<img>"),e.one("load",a.proxy(function(){var a=e.prop("naturalWidth")||e.width(),c=e.prop("naturalHeight")||e.height();this.image={naturalWidth:a,naturalHeight:c,aspectRatio:a/c,rotate:0},this.url=b,this.ready=!0,this.build()},this)).attr({src:b,crossOrigin:c}),e.addClass(r).insertAfter(i)))},T.build=function(){var b,c,d=this.$element,e=this.$clone,f=this.options;this.ready&&(this.built&&this.unbuild(),this.$cropper=b=a(k.TEMPLATE),d.addClass(s),e.removeClass(r),this.$container=d.parent().append(b),this.$canvas=b.find(".cropper-canvas").append(e),this.$dragBox=b.find(".cropper-drag-box"),this.$cropBox=c=b.find(".cropper-crop-box"),this.$viewBox=b.find(".cropper-view-box"),this.addListeners(),this.initPreview(),f.aspectRatio=S(f.aspectRatio)||0/0,f.autoCrop?(this.cropped=!0,f.modal&&this.$dragBox.addClass(q)):c.addClass(s),f.background&&b.addClass(x),f.highlight||c.find(".cropper-face").addClass(t),f.guides||c.find(".cropper-dashed").addClass(s),f.movable||c.find(".cropper-face").data("drag","move"),f.resizable||c.find(".cropper-line, .cropper-point").addClass(s),this.setDragMode(f.dragCrop?"crop":"move"),this.built=!0,this.render(),d.one(F,f.built).trigger(F))},T.unbuild=function(){this.built&&(this.built=!1,this.removeListeners(),this.$preview.empty(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)},a.extend(T,{render:function(){this.initContainer(),this.initCanvas(),this.initCropBox()},initContainer:function(){var a=this.$element,b=this.$container,c=this.$cropper,d=this.options;c.addClass(s),a.removeClass(s),c.css(this.container={width:O(b.width(),S(d.minContainerWidth)||200),height:O(b.height(),S(d.minContainerHeight)||100)}),a.addClass(s),c.removeClass(s)},initCanvas:function(){var b=this.options,c=this.container,d=c.width,e=c.height,f=this.image,g=f.aspectRatio,h={aspectRatio:g,width:d,height:e,left:0,top:0,minLeft:-d,minTop:-e,maxLeft:d,maxTop:e,minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0};e*g>d?b.strict?h.width=e*g:h.height=d/g:b.strict?h.height=d/g:h.width=e*g,h.oldLeft=h.left=(d-h.width)/2,h.oldTop=h.top=(e-h.height)/2,this.canvas=h,this.limitCanvas(),this.initialImage=a.extend({},f),this.initialCanvas=a.extend({},this.canvas),this.renderCanvas()},limitCanvas:function(){var a=this.options,b=this.container,c=b.width,d=b.height,e=this.canvas,f=e.aspectRatio,g=c,h=d;d*f>c?a.strict?g=d*f:h=c/f:a.strict?h=c/f:g=d*f,a.strict?(e.minWidth=g,e.minHeight=h,e.maxLeft=0,e.maxTop=0,e.minLeft=c-g,e.minTop=d-h):(e.minLeft=-g,e.minTop=-h)},renderCanvas:function(b){var c,d,e,f=this.options,g=this.container,j=this.canvas,k=this.image;this.rotated&&(this.rotated=!1,e=i({width:k.width,height:k.height,degree:k.rotate}),c=e.width/e.height,c!==j.aspectRatio&&(j.left-=(e.width-j.width)/2,j.top-=(e.height-j.height)/2,j.width=e.width,j.height=e.height,j.aspectRatio=c,this.limitCanvas())),(j.width>j.maxWidth||j.width<j.minWidth)&&(j.left=j.oldLeft),(j.height>j.maxHeight||j.height<j.minHeight)&&(j.top=j.oldTop),j.width=N(O(j.width,j.minWidth),j.maxWidth),j.height=N(O(j.height,j.minHeight),j.maxHeight),f.strict?(j.minLeft=g.width-j.width,j.minTop=g.height-j.height):(j.minLeft=-j.width,j.minTop=-j.height),j.oldLeft=j.left=N(O(j.left,j.minLeft),j.maxLeft),j.oldTop=j.top=N(O(j.top,j.minTop),j.maxTop),this.$canvas.css({width:j.width,height:j.height,left:j.left,top:j.top}),k.rotate?(d=i({width:j.width,height:j.height,degree:k.rotate,aspectRatio:k.aspectRatio},!0),a.extend(k,{width:d.width,height:d.height,left:(j.width-d.width)/2,top:(j.height-d.height)/2})):a.extend(k,{width:j.width,height:j.height,left:0,top:0}),this.$clone.css({width:k.width,height:k.height,marginLeft:k.left,marginTop:k.top,transform:h(k.rotate)}),b&&(this.preview(),f.crop&&f.crop.call(this.$element,this.getData()))},initCropBox:function(){var b=this.options,c=this.container,d=this.canvas,e=b.strict,f=b.aspectRatio,g=S(b.minCropBoxWidth)||0,h=S(b.minCropBoxHeight)||0,i=S(b.autoCropArea)||.8,j=c.width,k=c.height,l={width:e?j:d.width,height:e?k:d.height,minWidth:g,minHeight:h,maxWidth:j,maxHeight:k};f&&(k*f>j?(l.height=l.width/f,l.maxHeight=j/f):(l.width=l.height*f,l.maxWidth=k*f),e||(l.height*d.aspectRatio>l.width?(l.height=d.height,l.width=l.height*f):(l.width=d.width,l.height=l.width/f)),g?l.minHeight=l.minWidth/f:h&&(l.minWidth=l.minHeight*f)),l.minWidth=N(l.maxWidth,l.minWidth),l.minHeight=N(l.maxHeight,l.minHeight),l.width=O(l.minWidth,l.width*i),l.height=O(l.minHeight,l.height*i),l.oldLeft=l.left=(j-l.width)/2,l.oldTop=l.top=(k-l.height)/2,this.initialCropBox=a.extend({},l),this.cropBox=l,this.cropped&&this.renderCropBox()},renderCropBox:function(){var a=this.options,b=this.container,c=b.width,d=b.height,e=this.$cropBox,f=this.cropBox;(f.width>f.maxWidth||f.width<f.minWidth)&&(f.left=f.oldLeft),(f.height>f.maxHeight||f.height<f.minHeight)&&(f.top=f.oldTop),f.width=N(O(f.width,f.minWidth),f.maxWidth),f.height=N(O(f.height,f.minHeight),f.maxHeight),f.oldLeft=f.left=N(O(f.left,0),c-f.width),f.oldTop=f.top=N(O(f.top,0),d-f.height),a.movable&&e.find(".cropper-face").data("drag",f.width===c&&f.height===d?"move":"all"),e.css({width:f.width,height:f.height,left:f.left,top:f.top}),this.disabled||(this.preview(),a.crop&&a.crop.call(this.$element,this.getData()))}}),T.initPreview=function(){var b=this.url;this.$preview=a(this.options.preview),this.$viewBox.html('<img src="'+b+'">'),this.$preview.each(function(){var c=a(this);c.data({width:c.width(),height:c.height()}).html('<img src="'+b+'" style="display:block;width:100%;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation: 0deg!important">')})},T.preview=function(){var b=this.image,c=this.canvas,d=this.cropBox,e=b.width,f=b.height,g=d.left-c.left-b.left,i=d.top-c.top-b.top,j=b.rotate;this.cropped&&!this.disabled&&(this.$viewBox.find("img").css({width:e,height:f,marginLeft:-g,marginTop:-i,transform:h(j)}),this.$preview.each(function(){var b=a(this),c=b.data(),k=c.width/d.width,l=c.width,m=d.height*k;m>c.height&&(k=c.height/d.height,l=d.width*k,m=c.height),b.width(l).height(m).find("img").css({width:e*k,height:f*k,marginLeft:-g*k,marginTop:-i*k,transform:h(j)})}))},T.addListeners=function(){var b=this.options;this.$element.on(G,b.dragstart).on(H,b.dragmove).on(I,b.dragend).on(J,b.zoomin).on(K,b.zoomout),this.$cropper.on(y,a.proxy(this.dragstart,this)).on(C,a.proxy(this.dblclick,this)),b.zoomable&&b.mouseWheelZoom&&this.$cropper.on(B,a.proxy(this.wheel,this)),m.on(z,this._dragmove=e(this.dragmove,this)).on(A,this._dragend=e(this.dragend,this)),b.responsive&&l.on(D,this._resize=e(this.resize,this))},T.removeListeners=function(){var a=this.options;this.$element.off(G,a.dragstart).off(H,a.dragmove).off(I,a.dragend).off(J,a.zoomin).off(K,a.zoomout),this.$cropper.off(y,this.dragstart).off(C,this.dblclick),a.zoomable&&a.mouseWheelZoom&&this.$cropper.off(B,this.wheel),m.off(z,this._dragmove).off(A,this._dragend),a.responsive&&l.off(D,this._resize)},a.extend(T,{resize:function(){var b,c,d,e=this.$container,f=this.container;this.disabled||(d=e.width()/f.width,(1!==d||e.height()!==f.height)&&(b=this.getCanvasData(),c=this.getCropBoxData(),this.render(),this.setCanvasData(a.each(b,function(a,c){b[a]=c*d})),this.setCropBoxData(a.each(c,function(a,b){c[a]=b*d}))))},dblclick:function(){this.disabled||this.setDragMode(this.$dragBox.hasClass(v)?"move":"crop")},wheel:function(a){var b=a.originalEvent,c=1;this.disabled||(a.preventDefault(),b.deltaY?c=b.deltaY>0?1:-1:b.wheelDelta?c=-b.wheelDelta/120:b.detail&&(c=b.detail>0?1:-1),this.zoom(.1*c))},dragstart:function(b){var c,d,e,f=this.options,g=b.originalEvent,h=g&&g.touches,i=b;if(!this.disabled){if(h){if(e=h.length,e>1){if(!f.zoomable||!f.touchDragZoom||2!==e)return;i=h[1],this.startX2=i.pageX,this.startY2=i.pageY,c="zoom"}i=h[0]}if(c=c||a(i.target).data("drag"),p.test(c)){if(b.preventDefault(),d=a.Event(G,{originalEvent:g,dragType:c}),this.$element.trigger(d),d.isDefaultPrevented())return;this.dragType=c,this.cropping=!1,this.startX=i.pageX,this.startY=i.pageY,"crop"===c&&(this.cropping=!0,this.$dragBox.addClass(q))}}},dragmove:function(b){var c,d,e=this.options,f=b.originalEvent,g=f&&f.touches,h=b,i=this.dragType;if(!this.disabled){if(g){if(d=g.length,d>1){if(!e.zoomable||!e.touchDragZoom||2!==d)return;h=g[1],this.endX2=h.pageX,this.endY2=h.pageY}h=g[0]}if(i){if(b.preventDefault(),c=a.Event(H,{originalEvent:f,dragType:i}),this.$element.trigger(c),c.isDefaultPrevented())return;this.endX=h.pageX,this.endY=h.pageY,this.change()}}},dragend:function(b){var c,d=this.dragType;if(!this.disabled&&d){if(b.preventDefault(),c=a.Event(I,{originalEvent:b.originalEvent,dragType:d}),this.$element.trigger(c),c.isDefaultPrevented())return;this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(q,this.cropped&&this.options.modal)),this.dragType=""}}}),a.extend(T,{reset:function(){this.disabled||(this.image=a.extend({},this.initialImage),this.canvas=a.extend({},this.initialCanvas),this.renderCanvas(),this.cropped&&(this.cropBox=a.extend({},this.initialCropBox),this.renderCropBox()))},clear:function(){this.cropped&&!this.disabled&&(a.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.renderCropBox(),this.cropped=!1,this.$dragBox.removeClass(q),this.$cropBox.addClass(s))},destroy:function(){var a=this.$element;this.ready||this.$clone.off("load").remove(),this.unbuild(),a.removeClass(s).removeData("cropper")},replace:function(a){this.ready&&!this.disabled&&a&&this.load(a)},enable:function(){this.built&&(this.disabled=!1,this.$cropper.removeClass(w))},disable:function(){this.built&&(this.disabled=!0,this.$cropper.addClass(w))},move:function(a,c){var d=this.canvas;this.built&&!this.disabled&&b(a)&&b(c)&&(d.left+=a,d.top+=c,this.renderCanvas(!0))},zoom:function(b){var c,d,e,f=this.canvas;if(b=S(b),b&&this.built&&!this.disabled&&this.options.zoomable){if(c=a.Event(b>0?J:K),this.$element.trigger(c),c.isDefaultPrevented())return;b=-1>=b?1/(1-b):1>=b?1+b:b,d=f.width*b,e=f.height*b,f.left-=(d-f.width)/2,f.top-=(e-f.height)/2,f.width=d,f.height=e,this.renderCanvas(!0),this.setDragMode("move")}},rotate:function(a){var b=this.image;a=S(a),a&&this.built&&!this.disabled&&this.options.rotatable&&(b.rotate=(b.rotate+a)%360,this.rotated=!0,this.renderCanvas(!0))},getData:function(){var b,c,d=this.cropBox,e=this.canvas,f=this.image,g=f.rotate;return this.built&&this.cropped?(c={x:d.left-e.left,y:d.top-e.top,width:d.width,height:d.height},b=f.width/f.naturalWidth,a.each(c,function(a,d){d/=b,c[a]=d})):c={x:0,y:0,width:0,height:0},c.rotate=g,c},getContainerData:function(){return this.built?this.container:{}},getImageData:function(){return this.ready?this.image:{}},getCanvasData:function(){var a,b=this.canvas;return this.built&&(a={left:b.left,top:b.top,width:b.width,height:b.height}),a||{}},setCanvasData:function(c){var d=this.canvas,e=d.aspectRatio;this.built&&!this.disabled&&a.isPlainObject(c)&&(b(c.left)&&(d.left=c.left),b(c.top)&&(d.top=c.top),b(c.width)?(d.width=c.width,d.height=c.width/e):b(c.height)&&(d.height=c.height,d.width=c.height*e),this.renderCanvas(!0))},getCropBoxData:function(){var a,b=this.cropBox;return this.built&&this.cropped&&(a={left:b.left,top:b.top,width:b.width,height:b.height}),a||{}},setCropBoxData:function(c){var d=this.cropBox,e=this.options.aspectRatio;this.built&&this.cropped&&!this.disabled&&a.isPlainObject(c)&&(b(c.left)&&(d.left=c.left),b(c.top)&&(d.top=c.top),e?b(c.width)?(d.width=c.width,d.height=d.width/e):b(c.height)&&(d.height=c.height,d.width=d.height*e):(b(c.width)&&(d.width=c.width),b(c.height)&&(d.height=c.height)),this.renderCropBox())},getCroppedCanvas:function(b){var c,d,e,f,g,h,i,k,l,m,n;if(this.built&&this.cropped&&L)return a.isPlainObject(b)||(b={}),n=this.getData(),c=n.width,d=n.height,k=c/d,a.isPlainObject(b)&&(g=b.width,h=b.height,g?(h=g/k,i=g/c):h&&(g=h*k,i=h/d)),e=g||c,f=h||d,l=a("<canvas>")[0],l.width=e,l.height=f,m=l.getContext("2d"),b.fillColor&&(m.fillStyle=b.fillColor,m.fillRect(0,0,e,f)),m.drawImage.apply(m,function(){var a,b,e,f,g,h,k=j(this.$clone[0],this.image),l=k.width,m=k.height,o=[k],p=n.x,q=n.y;return-c>=p||p>l?p=a=e=g=0:0>=p?(e=-p,p=0,a=g=N(l,c+p)):l>=p&&(e=0,a=g=N(c,l-p)),0>=a||-d>=q||q>m?q=b=f=h=0:0>=q?(f=-q,q=0,b=h=N(m,d+q)):m>=q&&(f=0,b=h=N(d,m-q)),o.push(p,q,a,b),i&&(e*=i,f*=i,g*=i,h*=i),g>0&&h>0&&o.push(e,f,g,h),o}.call(this)),l},setAspectRatio:function(a){var b=this.options;this.disabled||c(a)||(b.aspectRatio=S(a)||0/0,this.built&&this.initCropBox())},setDragMode:function(a){var b=this.$dragBox,c=!1,d=!1;if(this.ready&&!this.disabled){switch(a){case"crop":this.options.dragCrop?(c=!0,b.data("drag",a)):d=!0;break;case"move":d=!0,b.data("drag",a);break;default:b.removeData("drag")}b.toggleClass(v,c).toggleClass(u,d)}}}),T.change=function(){var a,b=this.dragType,c=this.canvas,d=this.container,e=d.width,f=d.height,g=this.cropBox,h=g.width,i=g.height,j=g.left,k=g.top,l=j+h,m=k+i,n=!0,o=this.options.aspectRatio,p={x:this.endX-this.startX,y:this.endY-this.startY};switch(o&&(p.X=p.y*o,p.Y=p.x/o),b){case"all":j+=p.x,k+=p.y;break;case"e":if(p.x>=0&&(l>=e||o&&(0>=k||m>=f))){n=!1;break}h+=p.x,o&&(i=h/o,k-=p.Y/2),0>h&&(b="w",h=0);break;case"n":if(p.y<=0&&(0>=k||o&&(0>=j||l>=e))){n=!1;break}i-=p.y,k+=p.y,o&&(h=i*o,j+=p.X/2),0>i&&(b="s",i=0);break;case"w":if(p.x<=0&&(0>=j||o&&(0>=k||m>=f))){n=!1;break}h-=p.x,j+=p.x,o&&(i=h/o,k+=p.Y/2),0>h&&(b="e",h=0);break;case"s":if(p.y>=0&&(m>=f||o&&(0>=j||l>=e))){n=!1;break}i+=p.y,o&&(h=i*o,j-=p.X/2),0>i&&(b="n",i=0);break;case"ne":if(o){if(p.y<=0&&(0>=k||l>=e)){n=!1;break}i-=p.y,k+=p.y,h=i*o}else p.x>=0?e>l?h+=p.x:p.y<=0&&0>=k&&(n=!1):h+=p.x,p.y<=0?k>0&&(i-=p.y,k+=p.y):(i-=p.y,k+=p.y);0>h&&0>i?(b="sw",i=0,h=0):0>h?(b="nw",h=0):0>i&&(b="se",i=0);break;case"nw":if(o){if(p.y<=0&&(0>=k||0>=j)){n=!1;break}i-=p.y,k+=p.y,h=i*o,j+=p.X}else p.x<=0?j>0?(h-=p.x,j+=p.x):p.y<=0&&0>=k&&(n=!1):(h-=p.x,j+=p.x),p.y<=0?k>0&&(i-=p.y,k+=p.y):(i-=p.y,k+=p.y);0>h&&0>i?(b="se",i=0,h=0):0>h?(b="ne",h=0):0>i&&(b="sw",i=0);break;case"sw":if(o){if(p.x<=0&&(0>=j||m>=f)){n=!1;break}h-=p.x,j+=p.x,i=h/o}else p.x<=0?j>0?(h-=p.x,j+=p.x):p.y>=0&&m>=f&&(n=!1):(h-=p.x,j+=p.x),p.y>=0?f>m&&(i+=p.y):i+=p.y;0>h&&0>i?(b="ne",i=0,h=0):0>h?(b="se",h=0):0>i&&(b="nw",i=0);break;case"se":if(o){if(p.x>=0&&(l>=e||m>=f)){n=!1;break}h+=p.x,i=h/o}else p.x>=0?e>l?h+=p.x:p.y>=0&&m>=f&&(n=!1):h+=p.x,p.y>=0?f>m&&(i+=p.y):i+=p.y;0>h&&0>i?(b="nw",i=0,h=0):0>h?(b="sw",h=0):0>i&&(b="ne",i=0);break;case"move":c.left+=p.x,c.top+=p.y,this.renderCanvas(!0),n=!1;break;case"zoom":this.zoom(function(a,b,c,d){var e=M(a*a+b*b),f=M(c*c+d*d);return(f-e)/e}(P(this.startX-this.startX2),P(this.startY-this.startY2),P(this.endX-this.endX2),P(this.endY-this.endY2))),this.startX2=this.endX2,this.startY2=this.endY2,n=!1;break;case"crop":p.x&&p.y&&(a=this.$cropper.offset(),j=this.startX-a.left,k=this.startY-a.top,h=g.minWidth,i=g.minHeight,p.x>0?p.y>0?b="se":(b="ne",k-=i):p.y>0?(b="sw",j-=h):(b="nw",j-=h,k-=i),this.cropped||(this.cropped=!0,this.$cropBox.removeClass(s)))}n&&(g.width=h,g.height=i,g.left=j,g.top=k,this.dragType=b,this.renderCropBox()),this.startX=this.endX,this.startY=this.endY},a.extend(k.prototype,T),k.DEFAULTS={aspectRatio:0/0,autoCropArea:.8,crop:null,preview:"",strict:!0,responsive:!0,checkImageOrigin:!0,modal:!0,guides:!0,highlight:!0,background:!0,autoCrop:!0,dragCrop:!0,movable:!0,resizable:!0,rotatable:!0,zoomable:!0,touchDragZoom:!0,mouseWheelZoom:!0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,dragstart:null,dragmove:null,dragend:null,zoomin:null,zoomout:null},k.setDefaults=function(b){a.extend(k.DEFAULTS,b)},k.TEMPLATE=function(a,b){return b=b.split(","),a.replace(/\d+/g,function(a){return b[a]})}('<0 6="5-container"><0 6="5-canvas"></0><0 6="5-2-9" 3-2="move"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face" 3-2="all"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>',"div,span,drag,data,point,cropper,class,line,dashed,box"),k.other=a.fn.cropper,a.fn.cropper=function(b){var e,f=d(arguments,1);return this.each(function(){var c,d=a(this),g=d.data("cropper");g||d.data("cropper",g=new k(this,b)),"string"==typeof b&&a.isFunction(c=g[b])&&(e=c.apply(g,f))}),c(e)?this:e},a.fn.cropper.Constructor=k,a.fn.cropper.setDefaults=k.setDefaults,a.fn.cropper.noConflict=function(){return a.fn.cropper=k.other,this}});
;}catch(e){}
try{
(function(d){if(!!window.ActiveXObject&&!window.XMLHttpRequest&&(location.href=="http://www.tinygroup.org"||location.href=="http://www.tinygroup.org/")){return}d(function(){c();a();b();e();var f=document.createElement("img");f.onload=function(){window.onload=function(){skinShow()}}});function c(){if(!d("#headSty").length&&!d("#bnr").length){return}(function(){if(navigator.userAgent.toLocaleLowerCase().indexOf("opera")>=0){return}var f=document.createElement("script");f.type="text/javascript";f.async=true;f.src="script/SmoothScroll.js";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(f,g)})();d(window).scroll(function(){var g=d(this).scrollTop();d(".bnr-box").css({"margin-top":-g*0.48});d(".bnr-txt").css({"margin-top":-g*0.68});d(".bnr-btn").css({"margin-top":-g*0.68});d(".warper").css({"background-position":"50% "+g*0.2+"px"});if(g<200){d(".txt-warp").css({"margin-top":-g*1.5});d(".txt-nav-warp").removeAttr("style")}else{d(".txt-warp").css({"margin-top":-240});d(".txt-nav-warp").css({position:"fixed",top:0,left:0,"box-shadow":"0 2px 6px #eee"})}var f=0;if(g>=200&&g<577){f}else{if(g>=577&&g<1072){f=1}else{if(g>=1072&&g<1165){f=2}else{if(g>=1165){f=3}}}}d(".txt-nav li a").eq(f).addClass("on").parent().siblings().children().removeClass("on");if(g<200){d(".txt-nav li a").removeClass("on")}})}function a(){if(!d(".help-side dl").length){return false}var i=d(".help-side dl").find(".cur a"),f=d(".help-side dl dd a"),h=d(".side-slider"),g=i.position().top-3;h.stop(true,true).animate({top:g});f.mouseenter(function(){var j=d(this).position().top-3;h.stop(true,true).animate({top:j},240)}).parents(".help-side").mouseleave(function(j){j=g;h.stop(true,true).animate({top:j})})}function b(){if(!d(".help-cont dl dt a").length){return}var f=d(".help-cont dl dt a");f.toggle(function(){d(this).parent().css({"background-position":"0 -20px"}).siblings().slideDown();return false},function(){d(this).parent().removeAttr("style").siblings().slideUp();return false})}function e(){if(!d(".mainBox").length){return}var h=d(".history-date"),g=h.find("h2 a,ul li dl dt a"),f,i=[];f=h.parent().height();h.parent().css({height:59});setTimeout(function(){h.find("ul").children(":not('h2:first')").each(function(j){i.push(d(this).position().top);d(this).css({"margin-top":-i[j]}).children().hide()}).animate({"margin-top":0},1600).children().fadeIn();h.parent().animate({height:f},2600);h.find("ul").children(":not('h2:first')").addClass("bounceInDown").css({"-webkit-animation-duration":"2s","-webkit-animation-delay":"0","-webkit-animation-timing-function":"ease","-webkit-animation-fill-mode":"both"}).end().children("h2").css({position:"relative"})},600);g.click(function(){d(this).parent().css({position:"relative"});d(this).parent().siblings().slideToggle();h.parent().removeAttr("style");return false})}})(jQuery);
;}catch(e){}
try{
jQuery.fn.timelinr=function(a){settings=jQuery.extend({orientation:"horizontal",containerDiv:"#timeline",datesDiv:"#dates",datesSelectedClass:"selected",datesSpeed:500,issuesDiv:"#issues",issuesSelectedClass:"selected",issuesSpeed:200,issuesTransparency:0.2,issuesTransparencySpeed:500,prevButton:"#prev",nextButton:"#next",arrowKeys:"false",startAt:1,autoPlay:"false",autoPlayDirection:"forward",autoPlayPause:2000},a);$(function(){var j=$(settings.datesDiv+" li").length;var f=$(settings.issuesDiv+" li").length;var d=$(settings.datesDiv).find("a."+settings.datesSelectedClass);var n=$(settings.issuesDiv).find("li."+settings.issuesSelectedClass);var g=$(settings.containerDiv).width();var i=$(settings.containerDiv).height();var h=$(settings.issuesDiv).width();var e=$(settings.issuesDiv).height();var m=$(settings.issuesDiv+" li").width();var k=$(settings.issuesDiv+" li").height();var c=$(settings.datesDiv).width();var b=$(settings.datesDiv).height();var o=$(settings.datesDiv+" li").width();var l=$(settings.datesDiv+" li").height();if(settings.orientation=="horizontal"){$(settings.issuesDiv).width(m*f);$(settings.datesDiv).width(o*j).css("marginLeft",g/2-o/2);var p=parseInt($(settings.datesDiv).css("marginLeft").substring(0,$(settings.datesDiv).css("marginLeft").indexOf("px")))}else{if(settings.orientation=="vertical"){$(settings.issuesDiv).height(k*f);$(settings.datesDiv).height(l*j).css("marginTop",i/2-l/2);var p=parseInt($(settings.datesDiv).css("marginTop").substring(0,$(settings.datesDiv).css("marginTop").indexOf("px")))}}$(settings.datesDiv+" a").click(function(r){r.preventDefault();var s=$(this).text();var q=$(this).parent().prevAll().length;if(settings.orientation=="horizontal"){$(settings.issuesDiv).animate({marginLeft:-m*q},{queue:false,duration:settings.issuesSpeed})}else{if(settings.orientation=="vertical"){$(settings.issuesDiv).animate({marginTop:-k*q},{queue:false,duration:settings.issuesSpeed})}}$(settings.issuesDiv+" li").animate({opacity:settings.issuesTransparency},{queue:false,duration:settings.issuesSpeed}).removeClass(settings.issuesSelectedClass).eq(q).addClass(settings.issuesSelectedClass).fadeTo(settings.issuesTransparencySpeed,1);$(settings.datesDiv+" a").removeClass(settings.datesSelectedClass);$(this).addClass(settings.datesSelectedClass);if(settings.orientation=="horizontal"){$(settings.datesDiv).animate({marginLeft:p-(o*q)},{queue:false,duration:settings.datesSpeed})}else{if(settings.orientation=="vertical"){$(settings.datesDiv).animate({marginTop:p-(l*q)},{queue:false,duration:settings.datesSpeed})}}});$(settings.nextButton).bind("click",function(q){q.preventDefault();if(settings.orientation=="horizontal"){var u=parseInt($(settings.issuesDiv).css("marginLeft").substring(0,$(settings.issuesDiv).css("marginLeft").indexOf("px")));var t=u/m;var r=parseInt($(settings.datesDiv).css("marginLeft").substring(0,$(settings.datesDiv).css("marginLeft").indexOf("px")));var s=r-o;if(u<=-(m*f-(m))){$(settings.issuesDiv).stop();$(settings.datesDiv+" li:last-child a").click()}else{if(!$(settings.issuesDiv).is(":animated")){$(settings.issuesDiv).animate({marginLeft:u-m},{queue:false,duration:settings.issuesSpeed});$(settings.issuesDiv+" li").animate({opacity:settings.issuesTransparency},{queue:false,duration:settings.issuesSpeed});$(settings.issuesDiv+" li."+settings.issuesSelectedClass).removeClass(settings.issuesSelectedClass).next().fadeTo(settings.issuesTransparencySpeed,1).addClass(settings.issuesSelectedClass);$(settings.datesDiv).animate({marginLeft:s},{queue:false,duration:settings.datesSpeed});$(settings.datesDiv+" a."+settings.datesSelectedClass).removeClass(settings.datesSelectedClass).parent().next().children().addClass(settings.datesSelectedClass)}}}else{if(settings.orientation=="vertical"){var u=parseInt($(settings.issuesDiv).css("marginTop").substring(0,$(settings.issuesDiv).css("marginTop").indexOf("px")));var t=u/k;var r=parseInt($(settings.datesDiv).css("marginTop").substring(0,$(settings.datesDiv).css("marginTop").indexOf("px")));var s=r-l;if(u<=-(k*f-(k))){$(settings.issuesDiv).stop();$(settings.datesDiv+" li:last-child a").click()}else{if(!$(settings.issuesDiv).is(":animated")){$(settings.issuesDiv).animate({marginTop:u-k},{queue:false,duration:settings.issuesSpeed});$(settings.issuesDiv+" li").animate({opacity:settings.issuesTransparency},{queue:false,duration:settings.issuesSpeed});$(settings.issuesDiv+" li."+settings.issuesSelectedClass).removeClass(settings.issuesSelectedClass).next().fadeTo(settings.issuesTransparencySpeed,1).addClass(settings.issuesSelectedClass);$(settings.datesDiv).animate({marginTop:s},{queue:false,duration:settings.datesSpeed});$(settings.datesDiv+" a."+settings.datesSelectedClass).removeClass(settings.datesSelectedClass).parent().next().children().addClass(settings.datesSelectedClass)}}}}});$(settings.prevButton).click(function(q){q.preventDefault();if(settings.orientation=="horizontal"){var u=parseInt($(settings.issuesDiv).css("marginLeft").substring(0,$(settings.issuesDiv).css("marginLeft").indexOf("px")));var t=u/m;var r=parseInt($(settings.datesDiv).css("marginLeft").substring(0,$(settings.datesDiv).css("marginLeft").indexOf("px")));var s=r+o;if(u>=0){$(settings.issuesDiv).stop();$(settings.datesDiv+" li:first-child a").click()}else{if(!$(settings.issuesDiv).is(":animated")){$(settings.issuesDiv).animate({marginLeft:u+m},{queue:false,duration:settings.issuesSpeed});$(settings.issuesDiv+" li").animate({opacity:settings.issuesTransparency},{queue:false,duration:settings.issuesSpeed});$(settings.issuesDiv+" li."+settings.issuesSelectedClass).removeClass(settings.issuesSelectedClass).prev().fadeTo(settings.issuesTransparencySpeed,1).addClass(settings.issuesSelectedClass);$(settings.datesDiv).animate({marginLeft:s},{queue:false,duration:settings.datesSpeed});$(settings.datesDiv+" a."+settings.datesSelectedClass).removeClass(settings.datesSelectedClass).parent().prev().children().addClass(settings.datesSelectedClass)}}}else{if(settings.orientation=="vertical"){var u=parseInt($(settings.issuesDiv).css("marginTop").substring(0,$(settings.issuesDiv).css("marginTop").indexOf("px")));var t=u/k;var r=parseInt($(settings.datesDiv).css("marginTop").substring(0,$(settings.datesDiv).css("marginTop").indexOf("px")));var s=r+l;if(u>=0){$(settings.issuesDiv).stop();$(settings.datesDiv+" li:first-child a").click()}else{if(!$(settings.issuesDiv).is(":animated")){$(settings.issuesDiv).animate({marginTop:u+k},{queue:false,duration:settings.issuesSpeed});$(settings.issuesDiv+" li").animate({opacity:settings.issuesTransparency},{queue:false,duration:settings.issuesSpeed});$(settings.issuesDiv+" li."+settings.issuesSelectedClass).removeClass(settings.issuesSelectedClass).prev().fadeTo(settings.issuesTransparencySpeed,1).addClass(settings.issuesSelectedClass);$(settings.datesDiv).animate({marginTop:s},{queue:false,duration:settings.datesSpeed},{queue:false,duration:settings.issuesSpeed});$(settings.datesDiv+" a."+settings.datesSelectedClass).removeClass(settings.datesSelectedClass).parent().prev().children().addClass(settings.datesSelectedClass)}}}}});if(settings.arrowKeys=="true"){if(settings.orientation=="horizontal"){$(document).keydown(function(q){if(q.keyCode==39){$(settings.nextButton).click()}if(q.keyCode==37){$(settings.prevButton).click()}})}else{if(settings.orientation=="vertical"){$(document).keydown(function(q){if(q.keyCode==40){$(settings.nextButton).click()}if(q.keyCode==38){$(settings.prevButton).click()}})}}}$(settings.datesDiv+" li").eq(settings.startAt-1).find("a").trigger("click");if(settings.autoPlay=="true"){setInterval("autoPlay()",settings.autoPlayPause)}})};function autoPlay(){var a=$(settings.datesDiv).find("a."+settings.datesSelectedClass);if(settings.autoPlayDirection=="forward"){if(a.parent().is("li:last-child")){$(settings.datesDiv+" li:first-child").find("a").trigger("click")}else{a.parent().next().find("a").trigger("click")}}else{if(settings.autoPlayDirection=="backward"){if(a.parent().is("li:first-child")){$(settings.datesDiv+" li:last-child").find("a").trigger("click")}else{a.parent().prev().find("a").trigger("click")}}}};
;}catch(e){}
try{

(function($){$.fn.jCarouselLite=function(o){o=$.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:false,auto:null,speed:200,easing:null,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},o||{});return this.each(function(){var b=false,animCss=o.vertical?"top":"left",sizeCss=o.vertical?"height":"width";var c=$(this),ul=$("ul",c),tLi=$("li",ul),tl=tLi.size(),v=o.visible;if(o.circular){ul.prepend(tLi.slice(tl-v-1+1).clone()).append(tLi.slice(0,v).clone());o.start+=v}var f=$("li",ul),itemLength=f.size(),curr=o.start;c.css("visibility","visible");f.css({overflow:"hidden",float:o.vertical?"none":"left"});ul.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});c.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var g=o.vertical?height(f):width(f);var h=g*itemLength;var j=g*v;f.css({width:f.width(),height:f.height()});ul.css(sizeCss,h+"px").css(animCss,-(curr*g));c.css(sizeCss,j+"px");if(o.btnPrev)$(o.btnPrev).click(function(){return go(curr-o.scroll)});if(o.btnNext)$(o.btnNext).click(function(){return go(curr+o.scroll)});if(o.btnGo)$.each(o.btnGo,function(i,a){$(a).click(function(){return go(o.circular?o.visible+i:i)})});if(o.mouseWheel&&c.mousewheel)c.mousewheel(function(e,d){return d>0?go(curr-o.scroll):go(curr+o.scroll)});if(o.auto)setInterval(function(){go(curr+o.scroll)},o.auto+o.speed);function vis(){return f.slice(curr).slice(0,v)};function go(a){if(!b){if(o.beforeStart)o.beforeStart.call(this,vis());if(o.circular){if(a<=o.start-v-1){ul.css(animCss,-((itemLength-(v*2))*g)+"px");curr=a==o.start-v-1?itemLength-(v*2)-1:itemLength-(v*2)-o.scroll}else if(a>=itemLength-v+1){ul.css(animCss,-((v)*g)+"px");curr=a==itemLength-v+1?v+1:v+o.scroll}else curr=a}else{if(a<0||a>itemLength-v)return;else curr=a}b=true;ul.animate(animCss=="left"?{left:-(curr*g)}:{top:-(curr*g)},o.speed,o.easing,function(){if(o.afterEnd)o.afterEnd.call(this,vis());b=false});if(!o.circular){$(o.btnPrev+","+o.btnNext).removeClass("disabled");$((curr-o.scroll<0&&o.btnPrev)||(curr+o.scroll>itemLength-v&&o.btnNext)||[]).addClass("disabled")}}return false}})};function css(a,b){return parseInt($.css(a[0],b))||0};function width(a){return a[0].offsetWidth+css(a,'marginLeft')+css(a,'marginRight')};function height(a){return a[0].offsetHeight+css(a,'marginTop')+css(a,'marginBottom')}})(jQuery);
;}catch(e){}
try{
(function(a){a.fn.textSlider=function(b){b=jQuery.extend({speed:"normal",line:2,timer:1000},b);return this.each(function(){a.fn.textSlider.scllor(a(this),b)})};a.fn.textSlider.scllor=function(j,d){var h=a("ul:eq(0)",j);var k;var n=h.children();var m=a(".up:eq(0)",j);var f=a(".down:eq(0)",j);var e=a(n[0]).height();var l=0-d.line*e;var c=function(){m.unbind("click",c);h.animate({marginTop:l},d.speed,function(){for(i=0;i<d.line;i++){h.find("li:first").appendTo(h)}h.css({marginTop:0});m.bind("click",c)})};var o=function(){f.unbind("click",o);h.css({marginTop:l});for(i=0;i<d.line;i++){h.find("li:last").prependTo(h)}h.animate({marginTop:0},d.speed,function(){f.bind("click",o)})};var g=function(){k=window.setInterval(c,d.timer)};var b=function(){window.clearInterval(k)};h.hover(b,g).mouseout();m.css("cursor","pointer").click(c);m.hover(b,g);f.css("cursor","pointer").click(o);f.hover(b,g)}})(jQuery);
;}catch(e){}
try{
function marquee(h,d,e){var a;var i=false;var b=document.getElementById("marquee");if(document.getElementById("holder").offsetHeight<=h){return}var g=b.innerHTML.replace("holder","holder2");b.innerHTML+=g;b.onmouseover=function(){i=true};b.onmouseout=function(){i=false};b.scrollTop=0;function c(){a=setInterval(f,d);if(!i){b.scrollTop+=2}}function f(){if(b.scrollTop%h!=0){b.scrollTop+=2;if(b.scrollTop>=b.scrollHeight/2){b.scrollTop=0}}else{clearInterval(a);setTimeout(c,e)}}setTimeout(c,e)};
;}catch(e){}

try{
/*!
 * ClockPicker v0.0.7 (http://weareoutman.github.io/clockpicker/)
 * Copyright 2014 Wang Shenwei.
 * Licensed under MIT (https://github.com/weareoutman/clockpicker/blob/gh-pages/LICENSE)
 */
(function(){var e=window.jQuery,q=e(window),k=e(document),u;var g="http://www.w3.org/2000/svg",t="SVGAngle" in window&&(function(){var z,A=document.createElement("div");A.innerHTML="<svg/>";z=(A.firstChild&&A.firstChild.namespaceURI)==g;A.innerHTML="";return z})();var o=(function(){var z=document.createElement("div").style;return"transition" in z||"WebkitTransition" in z||"MozTransition" in z||"msTransition" in z||"OTransition" in z})();var i="ontouchstart" in window,r="mousedown"+(i?" touchstart":""),j="mousemove.clockpicker"+(i?" touchmove.clockpicker":""),f="mouseup.clockpicker"+(i?" touchend.clockpicker":"");var d=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null;function x(z){return document.createElementNS(g,z)}function s(z){return(z<10?"0":"")+z}var l=0;function n(z){var A=++l+"";return z?z+A:A}var p=100,w=80,h=54,c=13,m=p*2,b=o?350:1;var y=['<div class="popover clockpicker-popover">','<div class="arrow"></div>','<div class="popover-title">','<span class="clockpicker-span-hours text-primary"></span>'," : ",'<span class="clockpicker-span-minutes"></span>','<span class="clockpicker-span-am-pm"></span>',"</div>",'<div class="popover-content">','<div class="clockpicker-plate">','<div class="clockpicker-canvas"></div>','<div class="clockpicker-dial clockpicker-hours"></div>','<div class="clockpicker-dial clockpicker-minutes clockpicker-dial-out"></div>',"</div>",'<span class="clockpicker-am-pm-block">',"</span>","</div>","</div>"].join("");function v(z,D){var H=e(y),E=H.find(".clockpicker-plate"),S=H.find(".clockpicker-hours"),I=H.find(".clockpicker-minutes"),Z=H.find(".clockpicker-am-pm-block"),T=z.prop("tagName")==="INPUT",M=T?z:z.find("input"),O=z.find(".input-group-addon"),R=this,L;this.id=n("cp");this.element=z;this.options=D;this.isAppended=false;this.isShown=false;this.currentView="hours";this.isInput=T;this.input=M;this.addon=O;this.popover=H;this.plate=E;this.hoursView=S;this.minutesView=I;this.amPmBlock=Z;this.spanHours=H.find(".clockpicker-span-hours");this.spanMinutes=H.find(".clockpicker-span-minutes");this.spanAmPm=H.find(".clockpicker-span-am-pm");this.amOrPm="PM";if(D.twelvehour){var J=['<div class="clockpicker-am-pm-block">','<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-am-button">',"AM</button>",'<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-pm-button">',"PM</button>","</div>"].join("");var A=e(J);e('<button type="button" class="btn btn-sm btn-default clockpicker-button am-button">AM</button>').on("click",function(){R.amOrPm="AM";e(".clockpicker-span-am-pm").empty().append("AM")}).appendTo(this.amPmBlock);e('<button type="button" class="btn btn-sm btn-default clockpicker-button pm-button">PM</button>').on("click",function(){R.amOrPm="PM";e(".clockpicker-span-am-pm").empty().append("PM")}).appendTo(this.amPmBlock)}if(!D.autoclose){e('<button type="button" class="btn btn-sm btn-default btn-block clockpicker-button">'+D.donetext+"</button>").click(e.proxy(this.done,this)).appendTo(H)}if((D.placement==="top"||D.placement==="bottom")&&(D.align==="top"||D.align==="bottom")){D.align="left"}if((D.placement==="left"||D.placement==="right")&&(D.align==="left"||D.align==="right")){D.align="top"}H.addClass(D.placement);H.addClass("clockpicker-align-"+D.align);this.spanHours.click(e.proxy(this.toggleView,this,"hours"));this.spanMinutes.click(e.proxy(this.toggleView,this,"minutes"));M.on("focus.clockpicker click.clockpicker",e.proxy(this.show,this));O.on("click.clockpicker",e.proxy(this.toggle,this));var U=e('<div class="clockpicker-tick"></div>'),W,X,N,G;if(D.twelvehour){for(W=1;W<13;W+=1){X=U.clone();N=W/6*Math.PI;G=w;X.css("font-size","120%");X.css({left:p+Math.sin(N)*G-c,top:p-Math.cos(N)*G-c});X.html(W===0?"00":W);S.append(X);X.on(r,V)}}else{for(W=0;W<24;W+=1){X=U.clone();N=W/6*Math.PI;var aa=W>0&&W<13;G=aa?h:w;X.css({left:p+Math.sin(N)*G-c,top:p-Math.cos(N)*G-c});if(aa){X.css("font-size","120%")}X.html(W===0?"00":W);S.append(X);X.on(r,V)}}for(W=0;W<60;W+=5){X=U.clone();N=W/30*Math.PI;X.css({left:p+Math.sin(N)*w-c,top:p-Math.cos(N)*w-c});X.css("font-size","120%");X.html(s(W));I.append(X);X.on(r,V)}E.on(r,function(ab){if(e(ab.target).closest(".clockpicker-tick").length===0){V(ab,true)}});function V(ag,ab){var ae=E.offset(),ad=/^touch/.test(ag.type),ac=ae.left+p,aj=ae.top+p,al=(ad?ag.originalEvent.touches[0]:ag).pageX-ac,ak=(ad?ag.originalEvent.touches[0]:ag).pageY-aj,ah=Math.sqrt(al*al+ak*ak),ai=false;if(ab&&(ah<w-c||ah>w+c)){return}ag.preventDefault();var af=setTimeout(function(){u.addClass("clockpicker-moving")},200);if(t){E.append(R.canvas)}R.setHand(al,ak,!ab,true);k.off(j).on(j,function(ao){ao.preventDefault();var an=/^touch/.test(ao.type),am=(an?ao.originalEvent.touches[0]:ao).pageX-ac,ap=(an?ao.originalEvent.touches[0]:ao).pageY-aj;if(!ai&&am===al&&ap===ak){return}ai=true;R.setHand(am,ap,false,true)});k.off(f).on(f,function(ao){k.off(f);ao.preventDefault();var an=/^touch/.test(ao.type),am=(an?ao.originalEvent.changedTouches[0]:ao).pageX-ac,ap=(an?ao.originalEvent.changedTouches[0]:ao).pageY-aj;if((ab||ai)&&am===al&&ap===ak){R.setHand(am,ap)}if(R.currentView==="hours"){R.toggleView("minutes",b/2)}else{if(D.autoclose){R.minutesView.addClass("clockpicker-dial-out");setTimeout(function(){R.done()},b/2)}}E.prepend(C);clearTimeout(af);u.removeClass("clockpicker-moving");k.off(j)})}if(t){var C=H.find(".clockpicker-canvas"),Q=x("svg");Q.setAttribute("class","clockpicker-svg");Q.setAttribute("width",m);Q.setAttribute("height",m);var Y=x("g");Y.setAttribute("transform","translate("+p+","+p+")");var F=x("circle");F.setAttribute("class","clockpicker-canvas-bearing");F.setAttribute("cx",0);F.setAttribute("cy",0);F.setAttribute("r",2);var K=x("line");K.setAttribute("x1",0);K.setAttribute("y1",0);var B=x("circle");B.setAttribute("class","clockpicker-canvas-bg");B.setAttribute("r",c);var P=x("circle");P.setAttribute("class","clockpicker-canvas-fg");P.setAttribute("r",3.5);Y.appendChild(K);Y.appendChild(B);Y.appendChild(P);Y.appendChild(F);Q.appendChild(Y);C.append(Q);this.hand=K;this.bg=B;this.fg=P;this.bearing=F;this.g=Y;this.canvas=C}a(this.options.init)}function a(z){if(z&&typeof z==="function"){z()}}v.DEFAULTS={"default":"",fromnow:0,placement:"bottom",align:"left",donetext:"完成",autoclose:false,twelvehour:false,vibrate:true};v.prototype.toggle=function(){this[this.isShown?"hide":"show"]()};v.prototype.locate=function(){var C=this.element,E=this.popover,A=C.offset(),z=C.outerWidth(),F=C.outerHeight(),B=this.options.placement,D=this.options.align,H={},G=this;E.show();switch(B){case"bottom":H.top=A.top+F;break;case"right":H.left=A.left+z;break;case"top":H.top=A.top-E.outerHeight();break;case"left":H.left=A.left-E.outerWidth();break}switch(D){case"left":H.left=A.left;break;case"right":H.left=A.left+z-E.outerWidth();break;case"top":H.top=A.top;break;case"bottom":H.top=A.top+F-E.outerHeight();break}E.css(H)};v.prototype.show=function(C){if(this.isShown){return}a(this.options.beforeShow);var z=this;if(!this.isAppended){u=e(document.body).append(this.popover);q.on("resize.clockpicker"+this.id,function(){if(z.isShown){z.locate()}});this.isAppended=true}var B=((this.input.prop("value")||this.options["default"]||"")+"").split(":");if(B[0]==="now"){var A=new Date(+new Date()+this.options.fromnow);B=[A.getHours(),A.getMinutes()]}this.hours=+B[0]||0;this.minutes=+B[1]||0;this.spanHours.html(s(this.hours));this.spanMinutes.html(s(this.minutes));this.toggleView("hours");this.locate();this.isShown=true;k.on("click.clockpicker."+this.id+" focusin.clockpicker."+this.id,function(E){var D=e(E.target);if(D.closest(z.popover).length===0&&D.closest(z.addon).length===0&&D.closest(z.input).length===0){z.hide()}});k.on("keyup.clockpicker."+this.id,function(D){if(D.keyCode===27){z.hide()}});a(this.options.afterShow)};v.prototype.hide=function(){a(this.options.beforeHide);this.isShown=false;k.off("click.clockpicker."+this.id+" focusin.clockpicker."+this.id);k.off("keyup.clockpicker."+this.id);this.popover.hide();a(this.options.afterHide)};v.prototype.toggleView=function(z,C){var A=false;if(z==="minutes"&&e(this.hoursView).css("visibility")==="visible"){a(this.options.beforeHourSelect);A=true}var B=z==="hours",E=B?this.hoursView:this.minutesView,D=B?this.minutesView:this.hoursView;this.currentView=z;this.spanHours.toggleClass("text-primary",B);this.spanMinutes.toggleClass("text-primary",!B);D.addClass("clockpicker-dial-out");E.css("visibility","visible").removeClass("clockpicker-dial-out");this.resetClock(C);clearTimeout(this.toggleViewTimer);this.toggleViewTimer=setTimeout(function(){D.css("visibility","hidden")},b);if(A){a(this.options.afterHourSelect)}};v.prototype.resetClock=function(z){var E=this.currentView,G=this[E],B=E==="hours",H=Math.PI/(B?6:30),D=G*H,A=B&&G>0&&G<13?h:w,F=Math.sin(D)*A,C=-Math.cos(D)*A,I=this;if(t&&z){I.canvas.addClass("clockpicker-canvas-out");setTimeout(function(){I.canvas.removeClass("clockpicker-canvas-out");I.setHand(F,C)},z)}else{this.setHand(F,C)}};v.prototype.setHand=function(H,F,J,L){var G=Math.atan2(H,-F),E=this.currentView==="hours",K=Math.PI/(E||J?6:30),D=Math.sqrt(H*H+F*F),N=this.options,M=E&&D<(w+h)/2,C=M?h:w,I;if(N.twelvehour){C=w}if(G<0){G=Math.PI*2+G}I=Math.round(G/K);G=I*K;if(N.twelvehour){if(E){if(I===0){I=12}}else{if(J){I*=5}if(I===60){I=0}}}else{if(E){if(I===12){I=0}I=M?(I===0?12:I):I===0?0:I+12}else{if(J){I*=5}if(I===60){I=0}}}if(this[this.currentView]!==I){if(d&&this.options.vibrate){if(!this.vibrateTimer){navigator[d](10);this.vibrateTimer=setTimeout(e.proxy(function(){this.vibrateTimer=null},this),100)}}}this[this.currentView]=I;this[E?"spanHours":"spanMinutes"].html(s(I));if(!t){this[E?"hoursView":"minutesView"].find(".clockpicker-tick").each(function(){var z=e(this);z.toggleClass("active",I===+z.html())});return}if(L||(!E&&I%5)){this.g.insertBefore(this.hand,this.bearing);this.g.insertBefore(this.bg,this.fg);this.bg.setAttribute("class","clockpicker-canvas-bg clockpicker-canvas-bg-trans")}else{this.g.insertBefore(this.hand,this.bg);this.g.insertBefore(this.fg,this.bg);this.bg.setAttribute("class","clockpicker-canvas-bg")}var B=Math.sin(G)*C,A=-Math.cos(G)*C;this.hand.setAttribute("x2",B);this.hand.setAttribute("y2",A);this.bg.setAttribute("cx",B);this.bg.setAttribute("cy",A);this.fg.setAttribute("cx",B);this.fg.setAttribute("cy",A)};v.prototype.done=function(){a(this.options.beforeDone);this.hide();var z=this.input.prop("value"),A=s(this.hours)+":"+s(this.minutes);if(this.options.twelvehour){A=A+this.amOrPm}this.input.prop("value",A);if(A!==z){this.input.triggerHandler("change");if(!this.isInput){this.element.trigger("change")}}if(this.options.autoclose){this.input.trigger("blur")}a(this.options.afterDone)};v.prototype.remove=function(){this.element.removeData("clockpicker");this.input.off("focus.clockpicker click.clockpicker");this.addon.off("click.clockpicker");if(this.isShown){this.hide()}if(this.isAppended){q.off("resize.clockpicker"+this.id);this.popover.remove()}};e.fn.clockpicker=function(A){var z=Array.prototype.slice.call(arguments,1);return this.each(function(){var D=e(this),C=D.data("clockpicker");if(!C){var B=e.extend({},v.DEFAULTS,D.data(),typeof A=="object"&&A);D.data("clockpicker",new v(D,B))}else{if(typeof C[A]==="function"){C[A].apply(C,z)}}})}}());
;}catch(e){}

try{
/*!
 * jquery.fn.drag
 * @author ydr.me
 * @version 1.2
 * 2014年7月2日17:27:42
 */
(function(g,a){var e=g.$,i=g.document,d=e(i),c=e(i.body),f="jquery-drag",b={handle:null,drag:null,axis:"xy",cursor:"move",min:null,max:null,zIndex:9999,ondragbefore:e.noop,ondragstart:e.noop,ondrag:e.noop,ondragend:e.noop};e.fn.drag=function(n){var o=e.type(n)==="string",m=[].slice.call(arguments,1),l=e.extend({},b),k,j;if(o&&o[0]!=="_"){if(!this.length){return}k=e(this[0]);j=k.data(f);if(!j){k.data(f,j=new h(k[0],l)._init())}return h.prototype[n]?h.prototype[n].apply(j,m):a}else{if(!o){l=e.extend(l,n)}}return this.each(function(){var q=this,p=e(q).data(f);if(!p){e(q).data(f,p=new h(q,l)._init())}})};e.fn.drag.defaults=b;function h(k,j){this.element=k;this.options=j}h.prototype={_init:function(){var l=this,k=l.options,j=e(l.element);l.$element=j;if(k.handle){j.on("mousedown taphold",k.handle,e.proxy(l._start,l))}else{j.on("mousedown taphold",e.proxy(l._start,l))}d.mousemove(e.proxy(l._move,l)).mouseup(e.proxy(l._end,l)).bind("touchmove",e.proxy(l._move,l)).bind("touchend",e.proxy(l._end,l)).bind("touchcancel",e.proxy(l._end,l));return l},_start:function(o){if(!this.is){o=o.originalEvent;o.preventDefault();var p=this,r=p.options,q=p.$element,j=r.handle?e(o.target).closest(r.handle):e(o.target),m=r.drag?j.closest(r.drag):q,k,n,l=o.touches?o.touches[0]:o;if(!q.has(m).length){m=q}p.$drag=m;r.ondragbefore.call(m[0],o,p);p.zIndex=m.css("z-index");p.cursor=c.css("cursor");p.$drag=m.css("z-index",r.zIndex);k=m.css("position");n=m.offset();if(k==="static"){m.css("position","relative")}else{if(k==="fixed"||k==="absolute"){m.css(m.position())}}p.pos={x:l.pageX,y:l.pageY,l:n.left,t:n.top};p.is=!0;if(p.options.cursor){c.css("cursor",r.cursor)}r.ondragstart.call(m[0],o,p)}},_move:function(r){if(this.is){r=r.originalEvent;r.preventDefault();var s=this,w=s.options,p=w.min,u=w.max,t=s.pos,l=s.$drag,o=l.parent(!0).offset(),n,m,j,q,v={},k=r.touches?r.touches[0]:r;if(~w.axis.indexOf("x")){v.left=k.pageX-t.x+t.l}if(~w.axis.indexOf("y")){v.top=k.pageY-t.y+t.t}if(p&&p.left!==a){if(v.left<(n=p.left+o.left)){v.left=n}}if(p&&p.top!==a){if(v.top<(m=p.top+o.top)){v.top=m}}if(u&&u.left!==a){if(v.left>(j=u.left+o.left)){v.left=j}}if(u&&u.top!==a&&v.top>u.top){if(v.top>(q=u.top+o.top)){v.top=q}}l.offset(v);w.ondrag.call(l[0],r,s)}},_end:function(l){if(this.is){var k=this,j=k.$drag;l.preventDefault();k.is=!1;if(k.options.cursor){c.css("cursor",k.cursor)}j.css("z-index",k.zIndex);k.options.ondragend.call(j[0],l,k)}},options:function(j,l){if(e.type(j)==="string"&&l===a){return this.options[j]}var k={};if(e.type(j)==="object"){k=j}else{k[j]=l}this.options=e.extend(this.options,k)}}})(this);function Tinymodal_alert(b,a){$(document.body).append('<div id="modal-alert" class="modal hide modal-alert"><div class="modal-alert-info">'+b+"</div></div>");$("#modal-alert").fadeIn();setTimeout("Tinymodal_alert_hide()",a)}function Tinymodal_alert_hide(){$("#modal-alert").fadeOut("normal",function(){$("#modal-alert").remove()})};
;}catch(e){}
try{
!function(c){var a=function(f,e){this.init(f,e)};a.prototype={constructor:a,init:function(f,e){this.$element=c(f);this.options=c.extend({},c.fn.modalmanager.defaults,this.$element.data(),typeof e=="object"&&e);this.stack=[];this.backdropCount=0;if(this.options.resize){var h,g=this;c(window).on("resize.modal",function(){h&&clearTimeout(h);h=setTimeout(function(){for(var j=0;j<g.stack.length;j++){g.stack[j].isShown&&g.stack[j].layout()}},10)})}},createModal:function(f,e){c(f).modal(c.extend({manager:this},e))},appendModal:function(f){this.stack.push(f);var e=this;f.$element.on("show.modalmanager",b(function(h){var g=function(){f.isShown=true;var i=c.support.transition&&f.$element.hasClass("fade");e.$element.toggleClass("page-overflow",c(window).height()<e.$element.height()).toggleClass("modal-open",e.hasOpenModal());f.$parent=f.$element.parent();f.$container=e.createContainer(f);f.$element.appendTo(f.$container);e.backdrop(f,function(){f.$element.show();if(i){f.$element[0].offsetWidth}f.layout();f.$element.addClass("in").attr("aria-hidden",false);var j=function(){e.setFocus();f.$element.trigger("shown")};i?f.$element.one(c.support.transition.end,j):j()})};f.options.replace?e.replace(g):g()}));f.$element.on("hidden.modalmanager",b(function(g){e.backdrop(f);if(!f.$element.parent().length){e.destroyModal(f)}else{if(f.$backdrop){var h=c.support.transition&&f.$element.hasClass("fade");if(h){f.$element[0].offsetWidth}c.support.transition&&f.$element.hasClass("fade")?f.$backdrop.one(c.support.transition.end,function(){f.destroy()}):f.destroy()}else{f.destroy()}}}));f.$element.on("destroyed.modalmanager",b(function(g){e.destroyModal(f)}))},getOpenModals:function(){var f=[];for(var e=0;e<this.stack.length;e++){if(this.stack[e].isShown){f.push(this.stack[e])}}return f},hasOpenModal:function(){return this.getOpenModals().length>0},setFocus:function(){var f;for(var e=0;e<this.stack.length;e++){if(this.stack[e].isShown){f=this.stack[e]}}if(!f){return}f.focus()},destroyModal:function(f){f.$element.off(".modalmanager");if(f.$backdrop){this.removeBackdrop(f)}this.stack.splice(this.getIndexOfModal(f),1);var e=this.hasOpenModal();this.$element.toggleClass("modal-open",e);if(!e){this.$element.removeClass("page-overflow")}this.removeContainer(f);this.setFocus()},getModalAt:function(e){return this.stack[e]},getIndexOfModal:function(f){for(var e=0;e<this.stack.length;e++){if(f===this.stack[e]){return e}}},replace:function(g){var f;for(var e=0;e<this.stack.length;e++){if(this.stack[e].isShown){f=this.stack[e]}}if(f){this.$backdropHandle=f.$backdrop;f.$backdrop=null;g&&f.$element.one("hidden",b(c.proxy(g,this)));f.hide()}else{if(g){g()}}},removeBackdrop:function(e){e.$backdrop.remove();e.$backdrop=null},createBackdrop:function(g,f){var e;if(!this.$backdropHandle){e=c(f).addClass(g).appendTo(this.$element)}else{e=this.$backdropHandle;e.off(".modalmanager");this.$backdropHandle=null;this.isLoading&&this.removeSpinner()}return e},removeContainer:function(e){e.$container.remove();e.$container=null},createContainer:function(e){var f;f=c('<div class="modal-scrollable">').css("z-index",d("modal",this.getOpenModals().length)).appendTo(this.$element);if(e&&e.options.backdrop!="static"){f.on("click.modal",b(function(g){e.hide()}))}else{if(e){f.on("click.modal",b(function(g){e.attention()}))}}return f},backdrop:function(h,j){var f=h.$element.hasClass("fade")?"fade":"",i=h.options.backdrop&&this.backdropCount<this.options.backdropLimit;if(h.isShown&&i){var e=c.support.transition&&f&&!this.$backdropHandle;h.$backdrop=this.createBackdrop(f,h.options.backdropTemplate);h.$backdrop.css("z-index",d("backdrop",this.getOpenModals().length));if(e){h.$backdrop[0].offsetWidth}h.$backdrop.addClass("in");this.backdropCount+=1;e?h.$backdrop.one(c.support.transition.end,j):j()}else{if(!h.isShown&&h.$backdrop){h.$backdrop.removeClass("in");this.backdropCount-=1;var g=this;c.support.transition&&h.$element.hasClass("fade")?h.$backdrop.one(c.support.transition.end,function(){g.removeBackdrop(h)}):g.removeBackdrop(h)}else{if(j){j()}}}},removeSpinner:function(){this.$spinner&&this.$spinner.remove();this.$spinner=null;this.isLoading=false},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove();this.$backdropHandle=null;this.removeSpinner()},loading:function(h){h=h||function(){};this.$element.toggleClass("page-overflow",c(window).height()<this.$element.height()).toggleClass("modal-open",!this.isLoading||this.hasOpenModal());if(!this.isLoading){this.$backdropHandle=this.createBackdrop("fade",this.options.backdropTemplate);this.$backdropHandle[0].offsetWidth;var e=this.getOpenModals();this.$backdropHandle.css("z-index",d("backdrop",e.length+1)).addClass("in");var g=c(this.options.spinner).css("z-index",d("modal",e.length+1)).appendTo(this.$element).addClass("in");this.$spinner=c(this.createContainer()).append(g).on("click.modalmanager",c.proxy(this.loading,this));this.isLoading=true;c.support.transition?this.$backdropHandle.one(c.support.transition.end,h):h()}else{if(this.isLoading&&this.$backdropHandle){this.$backdropHandle.removeClass("in");var f=this;c.support.transition?this.$backdropHandle.one(c.support.transition.end,function(){f.removeLoading()}):f.removeLoading()}else{if(h){h(this.isLoading)}}}}};var d=(function(){var f,e={};return function(g,j){if(typeof f==="undefined"){var i=c('<div class="modal hide" />').appendTo("body"),h=c('<div class="modal-backdrop hide" />').appendTo("body");e.modal=+i.css("z-index");e.backdrop=+h.css("z-index");f=e.modal-e.backdrop;i.remove();h.remove();h=i=null}return e[g]+(f*j)}}());function b(e){return function(f){if(f==undefined){return}if(this===f.target){return e.apply(this,arguments)}}}c.fn.modalmanager=function(f,e){return this.each(function(){var h=c(this),g=h.data("modalmanager");if(!g){h.data("modalmanager",(g=new a(this,f)))}if(typeof f==="string"){g[f].apply(g,[].concat(e))}})};c.fn.modalmanager.defaults={backdropLimit:999,resize:false,spinner:'<div class="loading-spinner fade" style="width:32px;margin-left:-16px; "><img src="data:image/gif;base64,R0lGODlhIAAgALMAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAAIAAgAAAE5xDISSlLrOrNp0pKNRCdFhxVolJLEJQUoSgOpSYT4RowNSsvyW1icA16k8MMMRkCBjskBTFDAZyuAEkqCfxIQ2hgQRFvAQEEIjNxVDW6XNE4YagRjuBCwe60smQUDnd4Rz1ZAQZnFAGDd0hihh12CEE9kjAEVlycXIg7BAsMB6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YEvpJivxNaGmLHT0VnOgGYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHQjYKhKP1oZmADdEAAAh+QQFBQAAACwAAAAAGAAXAAAEchDISasKNeuJFKoHs4mUYlJIkmjIV54Soypsa0wmLSnqoTEtBw52mG0AjhYpBxioEqRNy8V0qFzNw+GGwlJki4lBqx1IBgjMkRIghwjrzcDti2/Gh7D9qN774wQGAYOEfwCChIV/gYmDho+QkZKTR3p7EQAh+QQFBQAAACwBAAAAHQAOAAAEchDISWdANesNHHJZwE2DUSEo5SjKKB2HOKGYFLD1CB/DnEoIlkti2PlyuKGEATMBaAACSyGbEDYD4zN1YIEmh0SCQQgYehNmTNNaKsQJXmBuuEYPi9ECAU/UFnNzeUp9VBQEBoFOLmFxWHNoQw6RWEocEQAh+QQFBQAAACwHAAAAGQARAAAEaRDICdZZNOvNDsvfBhBDdpwZgohBgE3nQaki0AYEjEqOGmqDlkEnAzBUjhrA0CoBYhLVSkm4SaAAWkahCFAWTU0A4RxzFWJnzXFWJJWb9pTihRu5dvghl+/7NQmBggo/fYKHCX8AiAmEEQAh+QQFBQAAACwOAAAAEgAYAAAEZXCwAaq9ODAMDOUAI17McYDhWA3mCYpb1RooXBktmsbt944BU6zCQCBQiwPB4jAihiCK86irTB20qvWp7Xq/FYV4TNWNz4oqWoEIgL0HX/eQSLi69boCikTkE2VVDAp5d1p0CW4RACH5BAUFAAAALA4AAAASAB4AAASAkBgCqr3YBIMXvkEIMsxXhcFFpiZqBaTXisBClibgAnd+ijYGq2I4HAamwXBgNHJ8BEbzgPNNjz7LwpnFDLvgLGJMdnw/5DRCrHaE3xbKm6FQwOt1xDnpwCvcJgcJMgEIeCYOCQlrF4YmBIoJVV2CCXZvCooHbwGRcAiKcmFUJhEAIfkEBQUAAAAsDwABABEAHwAABHsQyAkGoRivELInnOFlBjeM1BCiFBdcbMUtKQdTN0CUJru5NJQrYMh5VIFTTKJcOj2HqJQRhEqvqGuU+uw6AwgEwxkOO55lxIihoDjKY8pBoThPxmpAYi+hKzoeewkTdHkZghMIdCOIhIuHfBMOjxiNLR4KCW1ODAlxSxEAIfkEBQUAAAAsCAAOABgAEgAABGwQyEkrCDgbYvvMoOF5ILaNaIoGKroch9hacD3MFMHUBzMHiBtgwJMBFolDB4GoGGBCACKRcAAUWAmzOWJQExysQsJgWj0KqvKalTiYPhp1LBFTtp10Is6mT5gdVFx1bRN8FTsVCAqDOB9+KhEAIfkEBQUAAAAsAgASAB0ADgAABHgQyEmrBePS4bQdQZBdR5IcHmWEgUFQgWKaKbWwwSIhc4LonsXhBSCsQoOSScGQDJiWwOHQnAxWBIYJNXEoFCiEWDI9jCzESey7GwMM5doEwW4jJoypQQ743u1WcTV0CgFzbhJ5XClfHYd/EwZnHoYVDgiOfHKQNREAIfkEBQUAAAAsAAAPABkAEQAABGeQqUQruDjrW3vaYCZ5X2ie6EkcKaooTAsi7ytnTq046BBsNcTvItz4AotMwKZBIC6H6CVAJaCcT0CUBTgaTg5nTCu9GKiDEMPJg5YBBOpwlnVzLwtqyKnZagZWahoMB2M3GgsHSRsRACH5BAUFAAAALAEACAARABgAAARcMKR0gL34npkUyyCAcAmyhBijkGi2UW02VHFt33iu7yiDIDaD4/erEYGDlu/nuBAOJ9Dvc2EcDgFAYIuaXS3bbOh6MIC5IAP5Eh5fk2exC4tpgwZyiyFgvhEMBBEAIfkEBQUAAAAsAAACAA4AHQAABHMQyAnYoViSlFDGXBJ808Ep5KRwV8qEg+pRCOeoioKMwJK0Ekcu54h9AoghKgXIMZgAApQZcCCu2Ax2O6NUud2pmJcyHA4L0uDM/ljYDCnGfGakJQE5YH0wUBYBAUYfBIFkHwaBgxkDgX5lgXpHAXcpBIsRADs="></div></div>',backdropTemplate:'<div class="modal-backdrop" />'};c.fn.modalmanager.Constructor=a;c(function(){c(document).off("show.bs.modal").off("hidden.bs.modal")})}(jQuery);
;}catch(e){}
try{
!function(b){var a=function(d,c){this.init(d,c)};a.prototype={constructor:a,init:function(e,c){var f=this;this.options=c;this.$element=b(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",b.proxy(this.hide,this));b(e).delegate('[data-expand="modal"]',"click.expand.modal",b.proxy(this.fullScreen,this));if(this.options.remote){this.$element.on("hide",function(){b(this).children(".modal-body").html("<p>&nbsp;</p>")});f.loading();this.$element.children(".modal-body").html('<div class="clear">&nbsp;</div>');b.ajax({url:this.options.remote,type:"GET",cache:false,dataType:"html",success:function(g){f.$element.children(".modal-body").children("div:first").html(g+'<div class="clear"></div>');var h=b.Event("loaded");f.$element.trigger(h);f.removeLoading();f.layout()}})}else{f.show()}var d=typeof this.options.manager==="function"?this.options.manager.call(this):this.options.manager;d=d.appendModal?d:b(d).modalmanager().data("modalmanager");d.appendModal(this);this.$element.resizable({resize:function(g,h){f.$element.children(".modal-body").css("height",h.element.height()-37-f.$element.children(".modal-footer").height()-10+"px")}})},toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var c=b.Event("show");if(this.isShown){return}this.$element.trigger(c);if(c.isDefaultPrevented()){return}this.escape();this.tab();this.options.loading&&this.loading()},hide:function(c){c&&c.preventDefault();c=b.Event("hide");this.$element.trigger(c);if(!this.isShown||c.isDefaultPrevented()){return(this.isShown=false)}if(this.fullscreen){this.fullScreen()}this.isShown=false;this.escape();this.tab();this.isLoading&&this.loading();b(document).off("focusin.modal");this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",true);b.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},layout:function(){var i="height",d=this.options.modalTitle,c=this.options.modalUrl,g=this.options.modalData,f=this.options.height;if(this.options.width){this.$element.css("width",this.options.width);var e=this;this.$element.css("margin-left",function(){if(/%/ig.test(e.options.width)){return -(parseInt(e.options.width)/2)+"%"}else{return -(b(this).width()/2)+"px"}})}else{this.$element.css("width","");this.$element.css("margin-left","")}if(d){this.$element.children(".modal-header").children("h3").html(d)}this.$element.css(i,"");if(f){this.$element.children(".modal-body").css("height",f-37-this.$element.children(".modal-footer").height()-10+"px")}else{if(this.$element.children(".modal-body").children("div:first").height()>this.options.maxHeight){this.$element.children(".modal-body").css("height",this.options.maxHeight-37-this.$element.children(".modal-footer").height()-10+"px")}else{this.$element.children(".modal-body").css("height","auto")}}this.$element.css("height",this.$element.children(".modal-body").height()+37+this.$element.children(".modal-footer").height()+42+"px");var h=b(window).height()-10<this.$element.height();if(h||this.options.modalOverflow){this.$element.css("margin-top",0).addClass("modal-overflow")}else{this.$element.css("margin-top",0-this.$element.height()/2).removeClass("modal-overflow")}},fullScreen:function(){var c=this;this.$element.find(".modal-header span[data-expand='modal'] i").toggleClass("fa-expand fa-compress");if(!c.fullscreen){c.oWidth=this.$element.outerWidth();c.oHeight=this.$element.outerHeight();c.oTop=this.$element.position().top;c.oLeft=this.$element.position().left;c.oMargin=this.$element.css("margin");c.oPos=this.$element.css("position");c.oMaxHeight=this.$element.css("max-height");this.$element.css({top:0,left:0,width:jQuery(window).width(),height:jQuery(window).height(),position:"fixed",margin:0});this.$element.css("max-height","");c.fullscreen=true}else{this.$element.css({top:c.oTop,left:c.oLeft,width:c.oWidth,height:c.oHeight,position:c.oPos,maxHeight:c.oMaxHeight,margin:c.oMargin});c.fullscreen=false}this.$element.children(".modal-body").css("height",this.$element.height()-37-this.$element.children(".modal-footer").height()-10+"px");return c.$},tab:function(){var c=this;if(this.isShown&&this.options.consumeTab){this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(g){if(g.keyCode&&g.keyCode==9){var d=b(this),f=b(this);c.$element.find("[data-tabindex]:enabled:not([readonly])").each(function(h){if(!h.shiftKey){d=d.data("tabindex")<b(this).data("tabindex")?d=b(this):f=b(this)}else{d=d.data("tabindex")>b(this).data("tabindex")?d=b(this):f=b(this)}});d[0]!==b(this)[0]?d.focus():f.focus();g.preventDefault()}})}else{if(!this.isShown){this.$element.off("keydown.tabindex.modal")}}},escape:function(){var c=this;if(this.isShown&&this.options.keyboard){if(!this.$element.attr("tabindex")){this.$element.attr("tabindex",-1)}this.$element.on("keyup.dismiss.modal",function(d){d.which==27&&c.hide()})}else{if(!this.isShown){this.$element.off("keyup.dismiss.modal")}}},hideWithTransition:function(){var c=this,d=setTimeout(function(){c.$element.off(b.support.transition.end);c.hideModal()},500);this.$element.one(b.support.transition.end,function(){clearTimeout(d);c.hideModal()})},hideModal:function(){var c=this.options.height||this.options.maxHeight;if(c){this.$element.children(".modal-body").css("overflow","").css({"max-height":"",height:""})}this.$element.hide().trigger("hidden")},removeLoading:function(){this.$loading.remove();this.$loading=null;this.isLoading=false},loading:function(f){f=f||function(){};var d=this.$element.hasClass("fade")?"fade":"";if(!this.isLoading){var c=b.support.transition&&d;this.$loading=b('<div class="loading-mask '+d+'">').append(this.options.spinner).appendTo(this.$element);if(c){this.$loading[0].offsetWidth}this.$loading.addClass("in");this.isLoading=true;c?this.$loading.one(b.support.transition.end,f):f()}else{if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var e=this;b.support.transition&&this.$element.hasClass("fade")?this.$loading.one(b.support.transition.end,function(){e.removeLoading()}):e.removeLoading()}else{if(f){f(this.isLoading)}}}},focus:function(){var c=this.$element.find(this.options.focusOn);c=c.length?c:this.$element;c.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var c=this;setTimeout(function(){c.$element.addClass("animated").addClass(c.options.attentionAnimation)},0)}this.focus()},destroy:function(){var c=b.Event("destroy");this.$element.trigger(c);if(c.isDefaultPrevented()){return}this.$element.off(".modal").removeData("modal").removeClass("in").attr("aria-hidden",true);if(this.$parent!==this.$element.parent()){this.$element.appendTo(this.$parent)}else{if(!this.$parent.length){this.$element.remove();this.$element=null}}this.$element.trigger("destroyed")}};b.fn.modal=function(d,c){return this.each(function(){var g=b(this),f=g.data("modal"),e=b.extend({},b.fn.modal.defaults,g.data(),typeof d=="object"&&d);if(!f){g.data("modal",(f=new a(this,e)))}if(typeof d=="string"){f[d].apply(f,[].concat(c))}else{if(e.show){f.show()}}})};b.fn.modal.defaults={keyboard:true,backdrop:"",loading:false,show:true,width:null,height:null,maxHeight:null,modalOverflow:false,consumeTab:false,focusOn:null,replace:false,resize:false,modalTitle:null,modalUrl:null,modalData:null,attentionAnimation:"shake",manager:"body",spinner:'<div class="loading-spinner" style="width:32px;margin-left:-16px;"><img src="data:image/gif;base64,R0lGODlhIAAgALMAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAAIAAgAAAE5xDISSlLrOrNp0pKNRCdFhxVolJLEJQUoSgOpSYT4RowNSsvyW1icA16k8MMMRkCBjskBTFDAZyuAEkqCfxIQ2hgQRFvAQEEIjNxVDW6XNE4YagRjuBCwe60smQUDnd4Rz1ZAQZnFAGDd0hihh12CEE9kjAEVlycXIg7BAsMB6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YEvpJivxNaGmLHT0VnOgGYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHQjYKhKP1oZmADdEAAAh+QQFBQAAACwAAAAAGAAXAAAEchDISasKNeuJFKoHs4mUYlJIkmjIV54Soypsa0wmLSnqoTEtBw52mG0AjhYpBxioEqRNy8V0qFzNw+GGwlJki4lBqx1IBgjMkRIghwjrzcDti2/Gh7D9qN774wQGAYOEfwCChIV/gYmDho+QkZKTR3p7EQAh+QQFBQAAACwBAAAAHQAOAAAEchDISWdANesNHHJZwE2DUSEo5SjKKB2HOKGYFLD1CB/DnEoIlkti2PlyuKGEATMBaAACSyGbEDYD4zN1YIEmh0SCQQgYehNmTNNaKsQJXmBuuEYPi9ECAU/UFnNzeUp9VBQEBoFOLmFxWHNoQw6RWEocEQAh+QQFBQAAACwHAAAAGQARAAAEaRDICdZZNOvNDsvfBhBDdpwZgohBgE3nQaki0AYEjEqOGmqDlkEnAzBUjhrA0CoBYhLVSkm4SaAAWkahCFAWTU0A4RxzFWJnzXFWJJWb9pTihRu5dvghl+/7NQmBggo/fYKHCX8AiAmEEQAh+QQFBQAAACwOAAAAEgAYAAAEZXCwAaq9ODAMDOUAI17McYDhWA3mCYpb1RooXBktmsbt944BU6zCQCBQiwPB4jAihiCK86irTB20qvWp7Xq/FYV4TNWNz4oqWoEIgL0HX/eQSLi69boCikTkE2VVDAp5d1p0CW4RACH5BAUFAAAALA4AAAASAB4AAASAkBgCqr3YBIMXvkEIMsxXhcFFpiZqBaTXisBClibgAnd+ijYGq2I4HAamwXBgNHJ8BEbzgPNNjz7LwpnFDLvgLGJMdnw/5DRCrHaE3xbKm6FQwOt1xDnpwCvcJgcJMgEIeCYOCQlrF4YmBIoJVV2CCXZvCooHbwGRcAiKcmFUJhEAIfkEBQUAAAAsDwABABEAHwAABHsQyAkGoRivELInnOFlBjeM1BCiFBdcbMUtKQdTN0CUJru5NJQrYMh5VIFTTKJcOj2HqJQRhEqvqGuU+uw6AwgEwxkOO55lxIihoDjKY8pBoThPxmpAYi+hKzoeewkTdHkZghMIdCOIhIuHfBMOjxiNLR4KCW1ODAlxSxEAIfkEBQUAAAAsCAAOABgAEgAABGwQyEkrCDgbYvvMoOF5ILaNaIoGKroch9hacD3MFMHUBzMHiBtgwJMBFolDB4GoGGBCACKRcAAUWAmzOWJQExysQsJgWj0KqvKalTiYPhp1LBFTtp10Is6mT5gdVFx1bRN8FTsVCAqDOB9+KhEAIfkEBQUAAAAsAgASAB0ADgAABHgQyEmrBePS4bQdQZBdR5IcHmWEgUFQgWKaKbWwwSIhc4LonsXhBSCsQoOSScGQDJiWwOHQnAxWBIYJNXEoFCiEWDI9jCzESey7GwMM5doEwW4jJoypQQ743u1WcTV0CgFzbhJ5XClfHYd/EwZnHoYVDgiOfHKQNREAIfkEBQUAAAAsAAAPABkAEQAABGeQqUQruDjrW3vaYCZ5X2ie6EkcKaooTAsi7ytnTq046BBsNcTvItz4AotMwKZBIC6H6CVAJaCcT0CUBTgaTg5nTCu9GKiDEMPJg5YBBOpwlnVzLwtqyKnZagZWahoMB2M3GgsHSRsRACH5BAUFAAAALAEACAARABgAAARcMKR0gL34npkUyyCAcAmyhBijkGi2UW02VHFt33iu7yiDIDaD4/erEYGDlu/nuBAOJ9Dvc2EcDgFAYIuaXS3bbOh6MIC5IAP5Eh5fk2exC4tpgwZyiyFgvhEMBBEAIfkEBQUAAAAsAAACAA4AHQAABHMQyAnYoViSlFDGXBJ808Ep5KRwV8qEg+pRCOeoioKMwJK0Ekcu54h9AoghKgXIMZgAApQZcCCu2Ax2O6NUud2pmJcyHA4L0uDM/ljYDCnGfGakJQE5YH0wUBYBAUYfBIFkHwaBgxkDgX5lgXpHAXcpBIsRADs="></div></div>',backdropTemplate:'<div class="modal-backdrop" />'};b.fn.modal.Constructor=a;b(function(){b(document).off("click.modal").on("click.modal.data-api",'[data-toggle="modal"]',function(i){var j=b(this),c=j.attr("href"),m=j.attr("data-height"),d=j.attr("data-width"),g=j.attr("modal-title"),l=j.attr("modal-url"),k=j.attr("modal-Data"),f=b(j.attr("data-target")||(c&&c.replace(/.*(?=#[^\s]+$)/,""))),h=f.data("modal")?"toggle":b.extend({remote:!/#/.test(c)&&c,height:m?m:0,maxHeight:b(window).height()*0.8-100,modalTitle:g?g:null,modalUrl:l?l:null,},f.data(),j.data());f.drag({handle:".modal-header"});i.preventDefault();f.modal(h).one("hide",function(){j.focus()})}).off("shown.bs.modal").on("shown.bs.modal",".modal",function(){b(this).find("form:first").find("select,input[type='text'],textarea").eq(0).focus()})})}(window.jQuery);
;}catch(e){}
try{
/*!
 * FullCalendar v2.3.1
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
(function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)})(function(t,e){function n(){var e,n,i,r,s,o=Array.prototype.slice.call(arguments),l={};for(e=0;Pe.length>e;e++){for(n=Pe[e],i=null,r=0;o.length>r;r++)s=o[r][n],t.isPlainObject(s)?i=t.extend(i||{},s):null!=s&&(i=null);null!==i&&(l[n]=i)}return o.unshift({}),o.push(l),t.extend.apply(t,o)}function i(e){var n,i={views:e.views||{}};return t.each(e,function(e,r){"views"!=e&&(t.isPlainObject(r)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,Pe)?(n=null,t.each(r,function(t,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=r):(n||(n={}),n[t]=r)}),n&&(i[e]=n)):i[e]=r)}),i}function r(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function s(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){t("body").addClass("fc-not-allowed")}function l(){t("body").removeClass("fc-not-allowed")}function a(e,n,i){var r=Math.floor(n/e.length),s=Math.floor(n-r*(e.length-1)),o=[],l=[],a=[],c=0;u(e),e.each(function(n,i){var u=n===e.length-1?s:r,d=t(i).outerHeight(!0);u>d?(o.push(i),l.push(d),a.push(t(i).height())):c+=d}),i&&(n-=c,r=Math.floor(n/o.length),s=Math.floor(n-r*(o.length-1))),t(o).each(function(e,n){var i=e===o.length-1?s:r,u=l[e],c=a[e],d=i-(u-c);i>u&&t(n).height(d)})}function u(t){t.height("")}function c(e){var n=0;return e.find("> *").each(function(e,i){var r=t(i).outerWidth();r>n&&(n=r)}),n++,e.width(n),n}function d(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight?!0:(h(t),!1)}function h(t){t.height("").removeClass("fc-scroller")}function f(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function g(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function p(t){var e=t.offset(),n=v(t),i=e.left+E(t,"border-left-width")+n.left,r=e.top+E(t,"border-top-width")+n.top;return{left:i,right:i+t[0].clientWidth,top:r,bottom:r+t[0].clientHeight}}function m(t){var e=t.offset(),n=e.left+E(t,"border-left-width")+E(t,"padding-left"),i=e.top+E(t,"border-top-width")+E(t,"padding-top");return{left:n,right:n+t.width(),top:i,bottom:i+t.height()}}function v(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return y()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function y(){return null===Ve&&(Ve=w()),Ve}function w(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children(),i=n.offset().left>e.offset().left;return e.remove(),i}function E(t,e){return parseFloat(t.css(e))||0}function S(t){return 1==t.which&&!t.ctrlKey}function b(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function D(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function C(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function T(t,e){return{left:t.left-e.left,top:t.top-e.top}}function H(t,e){var n,i,r,s,o=t.start,l=t.end,a=e.start,u=e.end;return l>a&&u>o?(o>=a?(n=o.clone(),r=!0):(n=a.clone(),r=!1),u>=l?(i=l.clone(),s=!0):(i=u.clone(),s=!1),{start:n,end:i,isStart:r,isEnd:s}):void 0}function x(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function R(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function k(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function M(t,e){var n,i,r;for(n=0;Ye.length>n&&(i=Ye[n],r=F(i,t,e),!(r>=1&&U(r)));n++);return i}function F(t,n,i){return null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function z(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function G(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function L(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function _(t){var e=function(){};return e.prototype=t,new e}function P(t,e){for(var n in t)A(t,n)&&(e[n]=t[n])}function V(t,e){var n,i,r=["constructor","toString","valueOf"];for(n=0;r.length>n;n++)i=r[n],t[i]!==Object.prototype[i]&&(e[i]=t[i])}function A(t,e){return Ie.call(t,e)}function O(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function N(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,s;for(r=0;e.length>r;r++)s=e[r].apply(n,i)||s;return s}}function B(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t]}function Y(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function I(t){return t.replace(/&.*?;/g,"")}function W(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function Z(t){return t.charAt(0).toUpperCase()+t.slice(1)}function j(t,e){return t-e}function U(t){return 0===t%1}function q(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function $(t,e){var n,i,r,s,o=function(){var l=+new Date-s;e>l&&l>0?n=setTimeout(o,e-l):(n=null,t.apply(r,i),n||(r=i=null))};return function(){r=this,i=arguments,s=+new Date,n||(n=setTimeout(o,e))}}function X(n,i,r){var s,o,l,a,u=n[0],c=1==n.length&&"string"==typeof u;return e.isMoment(u)?(a=e.apply(null,n),Q(u,a)):G(u)||void 0===u?a=e.apply(null,n):(s=!1,o=!1,c?We.test(u)?(u+="-01",n=[u],s=!0,o=!0):(l=Ze.exec(u))&&(s=!l[5],o=!0):t.isArray(u)&&(o=!0),a=i||s?e.utc.apply(e,n):e.apply(null,n),s?(a._ambigTime=!0,a._ambigZone=!0):r&&(o?a._ambigZone=!0:c&&(a.utcOffset?a.utcOffset(u):a.zone(u)))),a._fullCalendar=!0,a}function K(t,n){var i,r,s=!1,o=!1,l=t.length,a=[];for(i=0;l>i;i++)r=t[i],e.isMoment(r)||(r=Le.moment.parseZone(r)),s=s||r._ambigTime,o=o||r._ambigZone,a.push(r);for(i=0;l>i;i++)r=a[i],n||!s||r._ambigTime?o&&!r._ambigZone&&(a[i]=r.clone().stripZone()):a[i]=r.clone().stripTime();return a}function Q(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function J(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function te(t,e){return Ue.format.call(t,e)}function ee(t,e){return ne(t,le(e))}function ne(t,e){var n,i="";for(n=0;e.length>n;n++)i+=ie(t,e[n]);return i}function ie(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?qe[n]?qe[n](t):te(t,n):e.maybe&&(i=ne(t,e.maybe),i.match(/[1-9]/))?i:""}function re(t,e,n,i,r){var s;return t=Le.moment.parseZone(t),e=Le.moment.parseZone(e),s=(t.localeData||t.lang).call(t),n=s.longDateFormat(n)||n,i=i||" - ",se(t,e,le(n),i,r)}function se(t,e,n,i,r){var s,o,l,a,u="",c="",d="",h="",f="";for(o=0;n.length>o&&(s=oe(t,e,n[o]),s!==!1);o++)u+=s;for(l=n.length-1;l>o&&(s=oe(t,e,n[l]),s!==!1);l--)c=s+c;for(a=o;l>=a;a++)d+=ie(t,n[a]),h+=ie(e,n[a]);return(d||h)&&(f=r?h+i+d:d+i+h),u+f+c}function oe(t,e,n){var i,r;return"string"==typeof n?n:(i=n.token)&&(r=$e[i.charAt(0)],r&&t.isSame(e,r))?te(t,i):!1}function le(t){return t in Xe?Xe[t]:Xe[t]=ae(t)}function ae(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:ae(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function ue(){}function ce(t,e){return t||e?t&&e?t.grid===e.grid&&t.row===e.row&&t.col===e.col:!1:!0}function de(t){var e=fe(t);return"background"===e||"inverse-background"===e}function he(t){return"inverse-background"===fe(t)}function fe(t){return B((t.source||{}).rendering,t.rendering)}function ge(t){var e,n,i={};for(e=0;t.length>e;e++)n=t[e],(i[n._id]||(i[n._id]=[])).push(n);return i}function pe(t,e){return t.eventStartMS-e.eventStartMS}function me(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||(t.event.title||"").localeCompare(e.event.title)}function ve(n){var i,r,s,o,l=Le.dataAttrPrefix;return l&&(l+="-"),i=n.data(l+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},r=i.start,null==r&&(r=i.time),s=i.duration,o=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(l+"start")),null==r&&(r=n.data(l+"time")),null==s&&(s=n.data(l+"duration")),null==o&&(o=n.data(l+"stick")),r=null!=r?e.duration(r):null,s=null!=s?e.duration(s):null,o=Boolean(o),{eventProps:i,startTime:r,duration:s,stick:o}}function ye(t,e){var n,i;for(n=0;e.length>n;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function we(t,e){return t.leftCol-e.leftCol}function Ee(t){var e,n,i;if(t.sort(me),e=Se(t),be(e),n=e[0]){for(i=0;n.length>i;i++)De(n[i]);for(i=0;n.length>i;i++)Ce(n[i],0,0)}}function Se(t){var e,n,i,r=[];for(e=0;t.length>e;e++){for(n=t[e],i=0;r.length>i&&Te(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function be(t){var e,n,i,r,s;for(e=0;t.length>e;e++)for(n=t[e],i=0;n.length>i;i++)for(r=n[i],r.forwardSegs=[],s=e+1;t.length>s;s++)Te(r,t[s],r.forwardSegs)}function De(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;i.length>e;e++)n=i[e],De(n),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function Ce(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(r.sort(xe),Ce(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;r.length>i;i++)Ce(r[i],0,t.forwardCoord)}function Te(t,e,n){n=n||[];for(var i=0;e.length>i;i++)He(t,e[i])&&n.push(e[i]);return n}function He(t,e){return t.bottom>e.top&&t.top<e.bottom}function xe(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||me(t,e)}function Re(n,i){function r(){j?l()&&(c(),a()):s()}function s(){U=B.theme?"ui":"fc",n.addClass("fc"),B.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),B.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),j=t("<div class='fc-view-container'/>").prependTo(n),W=N.header=new Fe(N,B),Z=W.render(),Z&&n.prepend(Z),a(B.defaultView),B.handleWindowResize&&(K=$(h,B.windowResizeDelay),t(window).resize(K))}function o(){q&&q.removeElement(),W.destroy(),j.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),K&&t(window).unbind("resize",K)}function l(){return n.is(":visible")}function a(e){ie++,q&&e&&q.type!==e&&(W.deactivateButton(q.type),G(),q.removeElement(),q=N.view=null),!q&&e&&(q=N.view=ne[e]||(ne[e]=N.instantiateView(e)),q.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(j)),W.activateButton(e)),q&&(Q=q.massageCurrentDate(Q),q.isDisplayed&&Q.isWithin(q.intervalStart,q.intervalEnd)||l()&&(G(),q.display(Q),L(),E(),S(),m())),L(),ie--}function u(t){return l()?(t&&d(),ie++,q.updateSize(!0),ie--,!0):void 0}function c(){l()&&d()}function d(){X="number"==typeof B.contentHeight?B.contentHeight:"number"==typeof B.height?B.height-(Z?Z.outerHeight(!0):0):Math.round(j.width()/Math.max(B.aspectRatio,.5))}function h(t){!ie&&t.target===window&&q.start&&u(!0)&&q.trigger("windowResize",ee)}function f(){p(),v()}function g(){l()&&(G(),q.displayEvents(re),L())}function p(){G(),q.clearEvents(),L()}function m(){!B.lazyFetching||J(q.start,q.end)?v():g()}function v(){te(q.start,q.end)}function y(t){re=t,g()}function w(){g()}function E(){W.updateTitle(q.title)}function S(){var t=N.getNow();t.isWithin(q.intervalStart,q.intervalEnd)?W.disableButton("today"):W.enableButton("today")}function b(t,e){t=N.moment(t),e=e?N.moment(e):t.hasTime()?t.clone().add(N.defaultTimedEventDuration):t.clone().add(N.defaultAllDayEventDuration),q.select({start:t,end:e})}function D(){q&&q.unselect()}function C(){Q=q.computePrevDate(Q),a()}function T(){Q=q.computeNextDate(Q),a()}function H(){Q.add(-1,"years"),a()}function x(){Q.add(1,"years"),a()}function R(){Q=N.getNow(),a()}function k(t){Q=N.moment(t),a()}function M(t){Q.add(e.duration(t)),a()}function F(t,e){var n;e=e||"day",n=N.getViewSpec(e)||N.getUnitViewSpec(e),Q=t,a(n?n.type:null)}function z(){return Q.clone()}function G(){j.css({width:"100%",height:j.height(),overflow:"hidden"})}function L(){j.css({width:"",height:"",overflow:""})}function P(){return N}function V(){return q}function A(t,e){return void 0===e?B[t]:(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(B[t]=e,u(!0)),void 0)}function O(t,e){return B[t]?B[t].apply(e||ee,Array.prototype.slice.call(arguments,2)):void 0}var N=this;N.initOptions(i||{});var B=this.options;N.render=r,N.destroy=o,N.refetchEvents=f,N.reportEvents=y,N.reportEventChange=w,N.rerenderEvents=g,N.changeView=a,N.select=b,N.unselect=D,N.prev=C,N.next=T,N.prevYear=H,N.nextYear=x,N.today=R,N.gotoDate=k,N.incrementDate=M,N.zoomTo=F,N.getDate=z,N.getCalendar=P,N.getView=V,N.option=A,N.trigger=O;var Y=_(Me(B.lang));if(B.monthNames&&(Y._months=B.monthNames),B.monthNamesShort&&(Y._monthsShort=B.monthNamesShort),B.dayNames&&(Y._weekdays=B.dayNames),B.dayNamesShort&&(Y._weekdaysShort=B.dayNamesShort),null!=B.firstDay){var I=_(Y._week);I.dow=B.firstDay,Y._week=I}Y._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(B.weekNumberCalculation),N.defaultAllDayEventDuration=e.duration(B.defaultAllDayEventDuration),N.defaultTimedEventDuration=e.duration(B.defaultTimedEventDuration),N.moment=function(){var t;return"local"===B.timezone?(t=Le.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===B.timezone?Le.moment.utc.apply(null,arguments):Le.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=Y:t._lang=Y,t},N.getIsAmbigTimezone=function(){return"local"!==B.timezone&&"UTC"!==B.timezone},N.rezoneDate=function(t){return N.moment(t.toArray())},N.getNow=function(){var t=B.now;return"function"==typeof t&&(t=t()),N.moment(t)},N.getEventEnd=function(t){return t.end?t.end.clone():N.getDefaultEventEnd(t.allDay,t.start)},N.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(N.defaultAllDayEventDuration):n.add(N.defaultTimedEventDuration),N.getIsAmbigTimezone()&&n.stripZone(),n},N.humanizeDuration=function(t){return(t.locale||t.lang).call(t,B.lang).humanize()},ze.call(N,B);var W,Z,j,U,q,X,K,Q,J=N.isFetchNeeded,te=N.fetchEvents,ee=n[0],ne={},ie=0,re=[];Q=null!=B.defaultDate?N.moment(B.defaultDate):N.getNow(),N.getSuggestedViewHeight=function(){return void 0===X&&c(),X},N.isHeightAuto=function(){return"auto"===B.contentHeight||"auto"===B.height}}function ke(e){t.each(fn,function(t,n){null==e[t]&&(e[t]=n(e))})}function Me(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function Fe(e,n){function i(){var e=n.header;return f=n.theme?"ui":"fc",e?g=t("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function r(){g.remove()}function s(i){var r=t('<div class="fc-'+i+'"/>'),s=n.header[i];return s&&t.each(s.split(" "),function(){var i,s=t(),o=!0;t.each(this.split(","),function(i,r){var l,a,u,c,d,h,g,m,v;"title"==r?(s=s.add(t("<h2>&nbsp;</h2>")),o=!1):(l=e.getViewSpec(r),l?(a=function(){e.changeView(r)},p.push(r),u=l.buttonTextOverride,c=l.buttonTextDefault):e[r]&&(a=function(){e[r]()},u=(e.overrides.buttonText||{})[r],c=n.buttonText[r]),a&&(d=n.themeButtonIcons[r],h=n.buttonIcons[r],g=u?Y(u):d&&n.theme?"<span class='ui-icon ui-icon-"+d+"'></span>":h&&!n.theme?"<span class='fc-icon fc-icon-"+h+"'></span>":Y(c),m=["fc-"+r+"-button",f+"-button",f+"-state-default"],v=t('<button type="button" class="'+m.join(" ")+'">'+g+"</button>").click(function(){v.hasClass(f+"-state-disabled")||(a(),(v.hasClass(f+"-state-active")||v.hasClass(f+"-state-disabled"))&&v.removeClass(f+"-state-hover"))}).mousedown(function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){v.removeClass(f+"-state-down")}).hover(function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){v.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),s=s.add(v)))}),o&&s.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),s.length>1?(i=t("<div/>"),o&&i.addClass("fc-button-group"),i.append(s),r.append(i)):r.append(s)}),r}function o(t){g.find("h2").text(t)}function l(t){g.find(".fc-"+t+"-button").addClass(f+"-state-active")}function a(t){g.find(".fc-"+t+"-button").removeClass(f+"-state-active")}function u(t){g.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")}function c(t){g.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")}function d(){return p}var h=this;h.render=i,h.destroy=r,h.updateTitle=o,h.activateButton=l,h.deactivateButton=a,h.disableButton=u,h.enableButton=c,h.getViewsWithButtons=d;var f,g=t(),p=[]}function ze(n){function i(t,e){return!W||t.clone().stripZone()<W.clone().stripZone()||e.clone().stripZone()>Z.clone().stripZone()}function r(t,e){W=t,Z=e,te=[];var n=++K,i=X.length;Q=i;for(var r=0;i>r;r++)s(X[r],n)}function s(e,n){o(e,function(i){var r,s,o,l=t.isArray(e.events);if(n==K){if(i)for(r=0;i.length>r;r++)s=i[r],o=l?s:E(s,e),o&&te.push.apply(te,T(o));Q--,Q||q(te)}})}function o(e,i){var r,s,l=Le.sourceFetchers;for(r=0;l.length>r;r++){if(s=l[r].call(I,e,W.clone(),Z.clone(),n.timezone,i),s===!0)return;if("object"==typeof s)return o(s,i),void 0}var a=e.events;if(a)t.isFunction(a)?(y(),a.call(I,W.clone(),Z.clone(),n.timezone,function(t){i(t),w()})):t.isArray(a)?i(a):i();else{var u=e.url;if(u){var c,d=e.success,h=e.error,f=e.complete;c=t.isFunction(e.data)?e.data():e.data;var g=t.extend({},c||{}),p=B(e.startParam,n.startParam),m=B(e.endParam,n.endParam),v=B(e.timezoneParam,n.timezoneParam);p&&(g[p]=W.format()),m&&(g[m]=Z.format()),n.timezone&&"local"!=n.timezone&&(g[v]=n.timezone),y(),t.ajax(t.extend({},gn,e,{data:g,success:function(e){e=e||[];var n=N(d,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){N(h,this,arguments),i()},complete:function(){N(f,this,arguments),w()}}))}else i()}}function l(t){var e=a(t);e&&(X.push(e),Q++,s(e,K))}function a(e){var n,i,r=Le.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return E(t,n)})),i=0;r.length>i;i++)r[i].call(I,n);return n}}function u(e){X=t.grep(X,function(t){return!c(t,e)}),te=t.grep(te,function(t){return!c(t.source,e)}),q(te)}function c(t,e){return t&&e&&d(t)==d(e)}function d(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function h(t){t.start=I.moment(t.start),t.end=t.end?I.moment(t.end):null,H(t,f(t)),q(te)}function f(e){var n={};return t.each(e,function(t,e){g(t)&&void 0!==e&&O(e)&&(n[t]=e)}),n}function g(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function p(t,e){var n,i,r,s=E(t);if(s){for(n=T(s),i=0;n.length>i;i++)r=n[i],r.source||(e&&($.events.push(r),r.source=$),te.push(r));return q(te),n}return[]}function m(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),te=t.grep(te,e,!0),i=0;X.length>i;i++)t.isArray(X[i].events)&&(X[i].events=t.grep(X[i].events,e,!0));q(te)}function v(e){return t.isFunction(e)?t.grep(te,e):null!=e?(e+="",t.grep(te,function(t){return t._id==e})):te}function y(){J++||j("loading",null,!0,U())}function w(){--J||j("loading",null,!1,U())}function E(i,r){var s,o,l,a={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),r&&r.eventDataTransform&&(i=r.eventDataTransform(i)),t.extend(a,i),r&&(a.source=r),a._id=i._id||(void 0===i.id?"_fc"+pn++:i.id+""),a.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],s=i.start||i.date,o=i.end,L(s)&&(s=e.duration(s)),L(o)&&(o=e.duration(o)),i.dow||e.isDuration(s)||e.isDuration(o))a.start=s?e.duration(s):null,a.end=o?e.duration(o):null,a._recurring=!0;else{if(s&&(s=I.moment(s),!s.isValid()))return!1;o&&(o=I.moment(o),o.isValid()||(o=null)),l=i.allDay,void 0===l&&(l=B(r?r.allDayDefault:void 0,n.allDayDefault)),S(s,o,l,a)}return a}function S(t,e,n,i){i.start=t,i.end=e,i.allDay=n,b(i),Ge(i)}function b(t){D(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(t.end=n.forceEventDuration?I.getDefaultEventEnd(t.allDay,t.start):null)}function D(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=I.rezoneDate(t.start)),t.end&&!t.end.hasTime()&&(t.end=I.rezoneDate(t.end)))}function C(e){var n;return e.end||(n=e.allDay,null==n&&(n=!e.start.hasTime()),e=t.extend({},e),e.end=I.getDefaultEventEnd(n,e.start)),e}function T(e,n,i){var r,s,o,l,a,u,c,d,h,f=[];if(n=n||W,i=i||Z,e)if(e._recurring){if(s=e.dow)for(r={},o=0;s.length>o;o++)r[s[o]]=!0;for(l=n.clone().stripTime();l.isBefore(i);)(!r||r[l.day()])&&(a=e.start,u=e.end,c=l.clone(),d=null,a&&(c=c.time(a)),u&&(d=l.clone().time(u)),h=t.extend({},e),S(c,d,!a&&!u,h),f.push(h)),l.add(1,"days")}else f.push(e);return f}function H(e,n,i){function r(t,e){return i?k(t,e,i):n.allDay?R(t,e):x(t,e)}var s,o,l,a,u,c,d={};return n=n||{},n.start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),b(n),s={start:e._start.clone(),end:e._end?e._end.clone():I.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay},b(s),o=null!==e._end&&null===n.end,l=r(n.start,s.start),n.end?(a=r(n.end,s.end),u=a.subtract(l)):u=null,t.each(n,function(t,e){g(t)&&void 0!==e&&(d[t]=e)}),c=M(v(e._id),o,n.allDay,l,u,d),{dateDelta:l,durationDelta:u,undo:c}}function M(e,n,i,r,s,o){var l=I.getIsAmbigTimezone(),a=[];return r&&!r.valueOf()&&(r=null),s&&!s.valueOf()&&(s=null),t.each(e,function(e,u){var c,d;c={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},t.each(o,function(t){c[t]=u[t]}),d={start:u._start,end:u._end,allDay:i},b(d),n?d.end=null:s&&!d.end&&(d.end=I.getDefaultEventEnd(d.allDay,d.start)),r&&(d.start.add(r),d.end&&d.end.add(r)),s&&d.end.add(s),l&&!d.allDay&&(r||s)&&(d.start.stripZone(),d.end&&d.end.stripZone()),t.extend(u,o,d),Ge(u),a.push(function(){t.extend(u,c),Ge(u)})}),function(){for(var t=0;a.length>t;t++)a[t]()}}function F(e){var i,r=n.businessHours,s={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},o=I.getView();return r&&(i=t.extend({},s,"object"==typeof r?r:{})),i?(e&&(i.start=null,i.end=null),T(E(i),o.start,o.end)):[]}function z(t,e){var i=e.source||{},r=B(e.constraint,i.constraint,n.eventConstraint),s=B(e.overlap,i.overlap,n.eventOverlap);return t=C(t),P(t,r,s,e)}function G(t){return P(t,n.selectConstraint,n.selectOverlap)}function _(e,n){var i,r;return n&&(i=t.extend({},n,e),r=T(E(i))[0]),r?z(e,r):(e=C(e),G(e))}function P(e,n,i,r){var s,o,l,a,u,c;if(e=t.extend({},e),e.start=e.start.clone().stripZone(),e.end=e.end.clone().stripZone(),null!=n){for(s=V(n),o=!1,a=0;s.length>a;a++)if(A(s[a],e)){o=!0;break}if(!o)return!1}for(l=I.getPeerEvents(r,e),a=0;l.length>a;a++)if(u=l[a],Y(u,e)){if(i===!1)return!1;if("function"==typeof i&&!i(u,r))return!1;if(r){if(c=B(u.overlap,(u.source||{}).overlap),c===!1)return!1;if("function"==typeof c&&!c(r,u))return!1}}return!0}function V(t){return"businessHours"===t?F():"object"==typeof t?T(E(t)):v(t)}function A(t,e){var n=t.start.clone().stripZone(),i=I.getEventEnd(t).stripZone();return e.start>=n&&i>=e.end}function Y(t,e){var n=t.start.clone().stripZone(),i=I.getEventEnd(t).stripZone();return i>e.start&&e.end>n}var I=this;I.isFetchNeeded=i,I.fetchEvents=r,I.addEventSource=l,I.removeEventSource=u,I.updateEvent=h,I.renderEvent=p,I.removeEvents=m,I.clientEvents=v,I.mutateEvent=H,I.normalizeEventRange=b,I.normalizeEventRangeTimes=D,I.ensureVisibleEventRange=C;var W,Z,j=I.trigger,U=I.getView,q=I.reportEvents,$={events:[]},X=[$],K=0,Q=0,J=0,te=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=a(e);n&&X.push(n)}),I.getBusinessHoursEvents=F,I.isEventRangeAllowed=z,I.isSelectionRangeAllowed=G,I.isExternalDropRangeAllowed=_,I.getEventCache=function(){return te}}function Ge(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var Le=t.fullCalendar={version:"2.3.1"},_e=Le.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,s){var o,l=t(s),a=l.data("fullCalendar");"string"==typeof e?a&&t.isFunction(a[e])&&(o=a[e].apply(a,n),r||(i=o),"destroy"===e&&l.removeData("fullCalendar")):a||(a=new Le.CalendarBase(l,e),l.data("fullCalendar",a),a.render())}),i};var Pe=["header","buttonText","buttonIcons","themeButtonIcons"];Le.intersectionToSeg=H,Le.applyAll=N,Le.debounce=$,Le.isInt=U,Le.htmlEscape=Y,Le.cssToStr=W,Le.proxy=q,Le.getClientRect=p,Le.getContentRect=m,Le.getScrollbarWidths=v;var Ve=null;Le.computeIntervalUnit=M,Le.durationHasTime=z;var Ae,Oe,Ne,Be=["sun","mon","tue","wed","thu","fri","sat"],Ye=["year","month","week","day","hour","minute","second","millisecond"],Ie={}.hasOwnProperty,We=/^\s*\d{4}-\d\d$/,Ze=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,je=e.fn,Ue=t.extend({},je);Le.moment=function(){return X(arguments)},Le.moment.utc=function(){var t=X(arguments,!0);return t.hasTime()&&t.utc(),t},Le.moment.parseZone=function(){return X(arguments,!0,!0)},je.clone=function(){var t=Ue.clone.apply(this,arguments);return Q(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},je.week=je.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?Ue.isoWeek.apply(this,arguments):Ue.week.apply(this,arguments)},je.time=function(t){if(!this._fullCalendar)return Ue.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},je.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),Oe(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},je.hasTime=function(){return!this._ambigTime},je.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),Oe(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},je.hasZone=function(){return!this._ambigZone},je.local=function(){var t=this.toArray(),e=this._ambigZone;return Ue.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&Ne(this,t),this},je.utc=function(){return Ue.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){Ue[e]&&(je[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),Ue[e].apply(this,arguments)})}),je.format=function(){return this._fullCalendar&&arguments[0]?ee(this,arguments[0]):this._ambigTime?te(this,"YYYY-MM-DD"):this._ambigZone?te(this,"YYYY-MM-DD[T]HH:mm:ss"):Ue.format.apply(this,arguments)},je.toISOString=function(){return this._ambigTime?te(this,"YYYY-MM-DD"):this._ambigZone?te(this,"YYYY-MM-DD[T]HH:mm:ss"):Ue.toISOString.apply(this,arguments)},je.isWithin=function(t,e){var n=K([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},je.isSame=function(t,e){var n;return this._fullCalendar?e?(n=K([this,t],!0),Ue.isSame.call(n[0],n[1],e)):(t=Le.moment.parseZone(t),Ue.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):Ue.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){je[e]=function(t,n){var i;return this._fullCalendar?(i=K([this,t]),Ue[e].call(i[0],i[1],n)):Ue[e].apply(this,arguments)}}),Ae="_d"in e()&&"updateOffset"in e,Oe=Ae?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:J,Ne=Ae?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:J;var qe={t:function(t){return te(t,"a").charAt(0)},T:function(t){return te(t,"A").charAt(0)}};Le.formatRange=re;var $e={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Xe={};Le.Class=ue,ue.extend=function(t){var e,n=this;return t=t||{},A(t,"constructor")&&(e=t.constructor),"function"!=typeof e&&(e=t.constructor=function(){n.apply(this,arguments)}),e.prototype=_(n.prototype),P(t,e.prototype),V(t,e.prototype),P(n,e),e},ue.mixin=function(t){P(t.prototype||t,this.prototype)};var Ke=ue.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=q(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,i,r,s,o=this.options,l=this.el.offsetParent().offset(),a=this.el.outerWidth(),u=this.el.outerHeight(),c=t(window),d=f(this.el);r=o.top||0,s=void 0!==o.left?o.left:void 0!==o.right?o.right-a:0,d.is(window)||d.is(document)?(d=c,e=0,n=0):(i=d.offset(),e=i.top,n=i.left),e+=c.scrollTop(),n+=c.scrollLeft(),o.viewportConstrain!==!1&&(r=Math.min(r,e+d.outerHeight()-u-this.margin),r=Math.max(r,e+this.margin),s=Math.min(s,n+d.outerWidth()-a-this.margin),s=Math.max(s,n+this.margin)),this.el.css({top:r-l.top,left:s-l.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),Qe=ue.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(t){this.grid=t},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(e,n){var i,r,s,o=this.rowCoords,l=o.length,a=this.colCoords,u=a.length,c=null,d=null;if(this.inBounds(e,n)){for(i=0;l>i;i++)if(r=o[i],n>=r.top&&r.bottom>n){c=i;break}for(i=0;u>i;i++)if(r=a[i],e>=r.left&&r.right>e){d=i;break}if(null!==c&&null!==d)return s=this.grid.getCell(c,d),s.grid=this.grid,t.extend(s,o[c],a[d]),s}return null},computeBounds:function(){this.bounds=this.containerEl?p(this.containerEl):null},inBounds:function(t,e){var n=this.bounds;return n?t>=n.left&&n.right>t&&e>=n.top&&n.bottom>e:!0}}),Je=ue.extend({coordMaps:null,constructor:function(t){this.coordMaps=t},build:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,r=null;for(n=0;i.length>n&&!r;n++)r=i[n].getCell(t,e);return r},clear:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].clear()}}),tn=Le.DragListener=ue.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl
},mousedown:function(t){S(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n;this.isListening||(e&&this.options.scroll&&(n=f(t(e.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=$(q(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=q(this,"mousemove")).on("mouseup",this.mouseupProxy=q(this,"mouseup")).on("selectstart",this.preventDefault),e?(this.originX=e.pageX,this.originY=e.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(e))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,n,i=t.pageX-this.originX,r=t.pageY-this.originY;this.isDragging||(e=this.options.distance||1,n=i*i+r*r,n>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(i,r,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,n){this.trigger("drag",t,e,n),this.updateScroll(n)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(e){this.stopDrag(e),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(e))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?g(t):null},updateScroll:function(t){var e,n,i,r,s=this.scrollSensitivity,o=this.scrollBounds,l=0,a=0;o&&(e=(s-(t.pageY-o.top))/s,n=(s-(o.bottom-t.pageY))/s,i=(s-(t.pageX-o.left))/s,r=(s-(o.right-t.pageX))/s,e>=0&&1>=e?l=-1*e*this.scrollSpeed:n>=0&&1>=n&&(l=n*this.scrollSpeed),i>=0&&1>=i?a=-1*i*this.scrollSpeed:r>=0&&1>=r&&(a=r*this.scrollSpeed)),this.setScrollVel(l,a)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(q(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;0>this.scrollTopVel?0>=t.scrollTop()&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),0>this.scrollLeftVel?0>=t.scrollLeft()&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),en=tn.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(t,e){tn.prototype.constructor.call(this,e),this.coordMap=t},listenStart:function(t){var e,n,i,r=this.subjectEl;tn.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(n={left:t.pageX,top:t.pageY},i=n,r&&(e=g(r),i=D(i,e)),this.origCell=this.getCell(i.left,i.top),r&&this.options.subjectCenter&&(this.origCell&&(e=b(this.origCell,e)||e),i=C(e)),this.coordAdjust=T(i,n)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(t){var e;tn.prototype.dragStart.apply(this,arguments),e=this.getCell(t.pageX,t.pageY),e&&this.cellOver(e)},drag:function(t,e,n){var i;tn.prototype.drag.apply(this,arguments),i=this.getCell(n.pageX,n.pageY),ce(i,this.cell)||(this.cell&&this.cellOut(),i&&this.cellOver(i))},dragStop:function(){this.cellDone(),tn.prototype.dragStop.apply(this,arguments)},cellOver:function(t){this.cell=t,this.trigger("cellOver",t,ce(t,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){tn.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){tn.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.coordMap.getCell(t,e)}}),nn=ue.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=q(this,"mousemove")))},stop:function(e,n){function i(){this.isAnimating=!1,r.destroyEl(),this.top0=this.left0=null,n&&n()}var r=this,s=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&s&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:s,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),rn=ue.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL")},rowHtml:function(t,e){var n,i,r=this.getHtmlRenderer("cell",t),s="";for(e=e||0,n=0;this.colCnt>n;n++)i=this.getCell(e,n),s+=r(i);return s=this.bookendCells(s,t,e),"<tr>"+s+"</tr>"},bookendCells:function(t,e,n){var i=this.getHtmlRenderer("intro",e)(n||0),r=this.getHtmlRenderer("outro",e)(n||0),s=this.isRTL?r:i,o=this.isRTL?i:r;return"string"==typeof t?s+t+o:t.prepend(s).append(o)},getHtmlRenderer:function(t,e){var n,i,r,s,o=this.view;return n=t+"Html",e&&(i=e+Z(t)+"Html"),i&&(s=o[i])?r=o:i&&(s=this[i])?r=this:(s=o[n])?r=o:(s=this[n])&&(r=this),"function"==typeof s?function(){return s.apply(r,arguments)||""}:function(){return s||""}}}),sn=Le.Grid=rn.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){rn.apply(this,arguments),this.coordMap=new Qe(this),this.elsByFill={},this.externalDragStartProxy=q(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){var e,n,i=this.view;this.start=t.start.clone(),this.end=t.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=i.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat(),e=i.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),n=i.opt("displayEventEnd"),null==n&&(n=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=n},updateCells:function(){},rangeToSegs:function(){},diffDates:function(t,e){return this.largeUnit?k(t,e,this.largeUnit):x(t,e)},getCell:function(e,n){var i;return null==n&&("number"==typeof e?(n=e%this.colCnt,e=Math.floor(e/this.colCnt)):(n=e.col,e=e.row)),i={row:e,col:n},t.extend(i,this.getRowData(e),this.getColData(n)),t.extend(i,this.computeCellRange(i)),i},computeCellRange:function(t){var e=this.computeCellDate(t);return{start:e,end:e.clone().add(this.cellDuration)}},computeCellDate:function(){},getRowData:function(t){return this.rowData[t]||{}},getColData:function(t){return this.colData[t]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(t){return this.getColEl(t.col)||this.getRowEl(t.row)},computeRowCoords:function(){var t,e,n,i=[];for(t=0;this.rowCnt>t;t++)e=this.getRowEl(t),n=e.offset().top,i.push({top:n,bottom:n+e.outerHeight()});return i},computeColCoords:function(){var t,e,n,i=[];for(t=0;this.colCnt>t;t++)e=this.getColEl(t),n=e.offset().left,i.push({left:n,right:n+e.outerWidth()});return i},setElement:function(e){var n=this;this.el=e,e.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||n.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},destroyDates:function(){},bindGlobalHandlers:function(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var e,n,i=this,r=this.view,s=r.opt("selectable"),a=new en(this.coordMap,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},cellOver:function(t,r,l){l&&(e=r?t:null,s&&(n=i.computeSelection(l,t),n?i.renderSelection(n):o()))},cellOut:function(){e=null,n=null,i.destroySelection(),l()},listenStop:function(t){e&&r.trigger("dayClick",i.getCellDayEl(e),e.start,t),n&&r.reportSelection(n,t),l()}});a.mousedown(t)},renderRangeHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?_(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(t,e){var n,i=[t.start,t.end,e.start,e.end];return i.sort(j),n={start:i[0].clone(),end:i[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},renderHighlight:function(t){this.renderFill("highlight",this.rangeToSegs(t))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,r=this,s=this[e+"SegEl"],o="",l=[];if(n.length){for(i=0;n.length>i;i++)o+=this.fillSegHtml(e,n[i]);t(o).each(function(e,i){var o=n[e],a=t(i);s&&(a=s.call(r,o,a)),a&&(a=t(a),a.is(r.fillSegTag)&&(o.el=a,l.push(o)))})}return l},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],r=n?n.call(this,e):[],s=W(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(s?' style="'+s+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'">'+"<table>"+"<thead>"+this.rowHtml("head")+"</thead>"+"</table>"+"</div>"},headCellHtml:function(t){var e=this.view,n=t.start;return'<th class="fc-day-header '+e.widgetHeaderClass+" fc-"+Be[n.day()]+'">'+Y(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(t){var e=this.view,n=t.start,i=this.getDayClasses(n);return i.unshift("fc-day",e.widgetContentClass),'<td class="'+i.join(" ")+'"'+' data-date="'+n.format("YYYY-MM-DD")+'"'+"></td>"},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+Be[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):n>t?i.push("fc-past"):i.push("fc-future"),i}});sn.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n,i=this.eventsToSegs(t),r=[],s=[];for(e=0;i.length>e;e++)n=i[e],de(n.event)?r.push(n):s.push(n);r=this.renderBgSegs(r)||r,s=this.renderFgSegs(s)||s,this.segs=r.concat(s)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(e,n){var i,r=this.view,s="",o=[];if(e.length){for(i=0;e.length>i;i++)s+=this.fgSegHtml(e[i],n);t(s).each(function(n,i){var s=e[n],l=r.resolveEventEl(s.event,t(i));l&&(l.data("fc-seg",s),s.el=l,o.push(s))})}return o},fgSegHtml:function(){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){var e=this.view,n=t.event,i=n.source||{};return{"background-color":n.backgroundColor||n.color||i.backgroundColor||i.color||e.opt("eventBackgroundColor")||e.opt("eventColor")}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(i,r){t(r.target).is(".fc-resizer")&&n.isEventResizable(i.event)?e.segResizeMousedown(i,r,t(r.target).is(".fc-start-resizer")):n.isEventDraggable(i.event)&&e.segDragMousedown(i,r)}},function(n,i){e.el.on(n,".fc-event-container > *",function(n){var r=t(this).data("fc-seg");return!r||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,r,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,i=this,r=this.view,s=r.calendar,a=t.el,u=t.event,c=new nn(t.el,{parentEl:r.el,opacity:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2}),d=new en(r.coordMap,{distance:5,scroll:r.opt("dragScroll"),subjectEl:a,subjectCenter:!0,listenStart:function(t){c.hide(),c.start(t)},dragStart:function(e){i.triggerSegMouseout(t,e),i.segDragStart(t,e),r.hideEvent(u)},cellOver:function(e,l,a){t.cell&&(a=t.cell),n=i.computeEventDrop(a,e,u),n&&!s.isEventRangeAllowed(n,u)&&(o(),n=null),n&&r.renderDrag(n,t)?c.hide():c.show(),l&&(n=null)},cellOut:function(){r.destroyDrag(),c.show(),n=null},cellDone:function(){l()},dragStop:function(e){c.stop(!n,function(){r.destroyDrag(),r.showEvent(u),i.segDragStop(t,e),n&&r.reportEventDrop(u,n,this.largeUnit,a,e)})},listenStop:function(){c.stop()}});d.mousedown(e)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,r,s=this.view.calendar,o=t.start,l=e.start;return o.hasTime()===l.hasTime()?(i=this.diffDates(l,o),n.allDay&&z(i)?(r={start:n.start.clone(),end:s.getEventEnd(n),allDay:!1},s.normalizeEventRangeTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:l.clone(),end:null,allDay:!l.hasTime()},r},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,n){n.style.opacity=e})},externalDragStart:function(e,n){var i,r,s=this.view;s.opt("droppable")&&(i=t((n?n.item:null)||e.target),r=s.opt("dropAccept"),(t.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,n)))},listenToExternalDrag:function(t,e,n){var i,r,s=this,a=ve(t);i=new en(this.coordMap,{listenStart:function(){s.isDraggingExternal=!0},cellOver:function(t){r=s.computeExternalDrop(t,a),r?s.renderDrag(r):o()},cellOut:function(){r=null,s.destroyDrag(),l()},dragStop:function(){s.destroyDrag(),l(),r&&s.view.reportExternalDrop(a,r,t,e,n)},listenStop:function(){s.isDraggingExternal=!1}}),i.startDrag(e)},computeExternalDrop:function(t,e){var n={start:t.start.clone(),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),this.view.calendar.isExternalDropRangeAllowed(n,e.eventProps)?n:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(t,e,n){var i,r,s=this,a=this.view,u=a.calendar,c=t.el,d=t.event,h=u.getEventEnd(d);i=new en(this.coordMap,{distance:5,scroll:a.opt("dragScroll"),subjectEl:c,dragStart:function(e){s.triggerSegMouseout(t,e),s.segResizeStart(t,e)},cellOver:function(e,i,l){r=n?s.computeEventStartResize(l,e,d):s.computeEventEndResize(l,e,d),r&&(u.isEventRangeAllowed(r,d)?r.start.isSame(d.start)&&r.end.isSame(h)&&(r=null):(o(),r=null)),r&&(a.hideEvent(d),s.renderEventResize(r,t))},cellOut:function(){r=null},cellDone:function(){s.destroyEventResize(),a.showEvent(d),l()},dragStop:function(e){s.segResizeStop(t,e),r&&a.reportEventResize(d,r,this.largeUnit,c,e)}}),i.mousedown(e)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var r,s,o=this.view.calendar,l=this.diffDates(n[t],e[t]);return r={start:i.start.clone(),end:o.getEventEnd(i),allDay:i.allDay},r.allDay&&z(l)&&(r.allDay=!1,o.normalizeEventRangeTimes(r)),r[t].add(l),r.start.isBefore(r.end)||(s=i.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration,this.cellDuration&&s>this.cellDuration&&(s=this.cellDuration),"start"==t?r.start=r.end.clone().subtract(s):r.end=r.start.clone().add(s)),r},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=t.event,r=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,r=n.color,s=e.opt("eventColor");return{"background-color":t.backgroundColor||i||n.backgroundColor||r||e.opt("eventBackgroundColor")||s,"border-color":t.borderColor||i||n.borderColor||r||e.opt("eventBorderColor")||s,color:t.textColor||n.textColor||e.opt("eventTextColor")}},eventsToSegs:function(t,e){var n,i=this.eventsToRanges(t),r=[];for(n=0;i.length>n;n++)r.push.apply(r,this.eventRangeToSegs(i[n],e));return r},eventsToRanges:function(e){var n=this,i=ge(e),r=[];return t.each(i,function(t,e){e.length&&r.push.apply(r,he(e[0])?n.eventsToInverseRanges(e):n.eventsToNormalRanges(e))}),r},eventsToNormalRanges:function(t){var e,n,i,r,s=this.view.calendar,o=[];for(e=0;t.length>e;e++)n=t[e],i=n.start.clone().stripZone(),r=s.getEventEnd(n).stripZone(),o.push({event:n,start:i,end:r,eventStartMS:+i,eventDurationMS:r-i});return o},eventsToInverseRanges:function(t){var e,n,i=this.view,r=i.start.clone().stripZone(),s=i.end.clone().stripZone(),o=this.eventsToNormalRanges(t),l=[],a=t[0],u=r;for(o.sort(pe),e=0;o.length>e;e++)n=o[e],n.start>u&&l.push({event:a,start:u,end:n.start}),u=n.end;return s>u&&l.push({event:a,start:u,end:s}),l},eventRangeToSegs:function(t,e){var n,i,r;for(n=e?e(t):this.rangeToSegs(t),i=0;n.length>i;i++)r=n[i],r.event=t.event,r.eventStartMS=t.eventStartMS,r.eventDurationMS=t.eventDurationMS;return n}}),Le.compareSegs=me,Le.dataAttrPrefix="";var on=sn.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){sn.apply(this,arguments),this.cellDuration=e.duration(1,"day")},renderDates:function(t){var e,n,i,r=this.view,s=this.rowCnt,o=this.colCnt,l=s*o,a="";for(e=0;s>e;e++)a+=this.dayRowHtml(e,t);for(this.el.html(a),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;l>n;n++)i=this.getCell(n),r.trigger("dayRender",null,i.start,this.dayEls.eq(n))},destroyDates:function(){this.destroySegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},dayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'">'+'<div class="fc-bg">'+"<table>"+this.rowHtml("day",t)+"</table>"+"</div>"+'<div class="fc-content-skeleton">'+"<table>"+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table>"+"</div>"+"</div>"},dayCellHtml:function(t){return this.bgCellHtml(t)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var t,e,n,i;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(e=t[0].day(),i=1;t.length>i&&t[i].day()!=e;i++);n=Math.ceil(t.length/i)}else n=1,i=t.length;this.rowCnt=n,this.colCnt=i},updateCellDates:function(){for(var t=this.view,e=this.start.clone(),n=[],i=-1,r=[];e.isBefore(this.end);)t.isHiddenDay(e)?r.push(i+.5):(i++,r.push(i),n.push(e.clone())),e.add(1,"days");this.cellDates=n,this.dayToCellOffsets=r},computeCellDate:function(t){var e=this.colCnt,n=t.row*e+(this.isRTL?e-t.col-1:t.col);return this.cellDates[n].clone()},getRowEl:function(t){return this.rowEls.eq(t)},getColEl:function(t){return this.dayEls.eq(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.colCnt+t.col)},computeRowCoords:function(){var t=sn.prototype.computeRowCoords.call(this);return t[t.length-1].bottom+=this.bottomCoordPadding,t},rangeToSegs:function(t){var e,n,i,r,s,o,l,a,u,c,d=this.isRTL,h=this.rowCnt,f=this.colCnt,g=[];for(t=this.view.computeDayRange(t),e=this.dateToCellOffset(t.start),n=this.dateToCellOffset(t.end.subtract(1,"days")),i=0;h>i;i++)r=i*f,s=r+f-1,a=Math.max(r,e),u=Math.min(s,n),a=Math.ceil(a),u=Math.floor(u),u>=a&&(o=a===e,l=u===n,a-=r,u-=r,c={row:i,isStart:o,isEnd:l},d?(c.leftCol=f-u-1,c.rightCol=f-a-1):(c.leftCol=a,c.rightCol=u),g.push(c));return g},dateToCellOffset:function(t){var e=this.dayToCellOffsets,n=t.diff(this.start,"days");return 0>n?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},renderDrag:function(t,e){return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t)),e&&!e.el.closest(this.el).length?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEls),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(t,e){this.renderHighlight(t),this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(e,n){var i,r=[],s=this.eventsToSegs([e]);s=this.renderFgSegEls(s),i=this.renderSegRows(s),this.rowEls.each(function(e,s){var o,l=t(s),a=t('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===e?n.el.position().top:l.find(".fc-content-skeleton tbody").position().top,a.css("top",o).find("table").append(i[e].tbodyEl),l.append(a),r.push(a[0])}),this.helperEls=t(r)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,i){var r,s,o,l=[];for(n=this.renderFillSegEls(e,n),r=0;n.length>r;r++)s=n[r],o=this.renderFillRow(e,s,i),this.rowEls.eq(s.row).append(o),l.push(o[0]);return this.elsByFill[e]=t(l),n},renderFillRow:function(e,n,i){var r,s,o=this.colCnt,l=n.leftCol,a=n.rightCol+1;return i=i||e.toLowerCase(),r=t('<div class="fc-'+i+'-skeleton">'+"<table><tr/></table>"+"</div>"),s=r.find("tr"),l>0&&s.append('<td colspan="'+l+'"/>'),s.append(n.el.attr("colspan",a-l)),o>a&&s.append('<td colspan="'+(o-a)+'"/>'),this.bookendCells(s,e),r}});on.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),sn.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return sn.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return sn.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},destroyFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;e.length>n;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,r=this.view,s=t.event,o=r.isEventDraggable(s),l=!e&&s.allDay&&t.isStart&&r.isEventResizableFromStart(s),a=!e&&s.allDay&&t.isEnd&&r.isEventResizableFromEnd(s),u=this.getSegClasses(t,o,l||a),c=W(this.getEventSkinCss(s)),d="";return u.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getEventTimeText(s),n&&(d='<span class="fc-time">'+Y(n)+"</span>")),i='<span class="fc-title">'+(Y(s.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(s.url?' href="'+Y(s.url)+'"':"")+(c?' style="'+c+'"':"")+">"+'<div class="fc-content">'+(this.isRTL?i+" "+d:d+" "+i)+"</div>"+(l?'<div class="fc-resizer fc-start-resizer" />':"")+(a?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;e>o;)c=(v[r-1]||[])[o],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),l.append(c)),m[r][o]=c,v[r][o]=c,o++}var r,s,o,l,a,u,c,d=this.colCnt,h=this.buildSegLevels(n),f=Math.max(1,h.length),g=t("<tbody/>"),p=[],m=[],v=[];for(r=0;f>r;r++){if(s=h[r],o=0,l=t("<tr/>"),p.push([]),m.push([]),v.push([]),s)for(a=0;s.length>a;a++){for(u=s[a],i(u.leftCol),c=t('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):v[r][o]=c;u.rightCol>=o;)m[r][o]=c,p[r][o]=u,o++;l.append(c)}i(d),this.bookendCells(l,"eventSkeleton"),g.append(l)}return{row:e,tbodyEl:g,cellMatrix:m,segMatrix:p,segLevels:h,segs:n}},buildSegLevels:function(t){var e,n,i,r=[];for(t.sort(me),e=0;t.length>e;e++){for(n=t[e],i=0;r.length>i&&ye(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;r.length>i;i++)r[i].sort(we);return r},groupSegRows:function(t){var e,n=[];for(e=0;this.rowCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].row].push(t[e]);return n}}),on.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;i.length>e;e++)this.unlimitRow(e),n=t?"number"==typeof t?t:this.computeRowLevelLimit(e):!1,n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){s=Math.max(s,t(n).outerHeight())}var i,r,s,o=this.rowEls.eq(e),l=o.height(),a=this.rowStructs[e].tbodyEl.children();for(i=0;a.length>i;i++)if(r=a.eq(i).removeClass("fc-limited"),s=0,r.find("> td > :first-child").each(n),r.position().top+s>l)return i;return!1},limitRow:function(e,n){function i(i){for(;i>D;)r=E.getCell(e,D),c=E.getCellSegs(r,n),c.length&&(f=o[n-1][D],w=E.renderMoreLink(r,c),y=t("<div/>").append(w),f.append(y),b.push(y[0])),D++}var r,s,o,l,a,u,c,d,h,f,g,p,m,v,y,w,E=this,S=this.rowStructs[e],b=[],D=0;if(n&&S.segLevels.length>n){for(s=S.segLevels[n-1],o=S.cellMatrix,l=S.tbodyEl.children().slice(n).addClass("fc-limited").get(),a=0;s.length>a;a++){for(u=s[a],i(u.leftCol),h=[],d=0;u.rightCol>=D;)r=this.getCell(e,D),c=this.getCellSegs(r,n),h.push(c),d+=c.length,D++;if(d){for(f=o[n-1][u.leftCol],g=f.attr("rowspan")||1,p=[],m=0;h.length>m;m++)v=t('<td class="fc-more-cell"/>').attr("rowspan",g),c=h[m],r=this.getCell(e,u.leftCol+m),w=this.renderMoreLink(r,[u].concat(c)),y=t("<div/>").append(w),v.append(y),p.push(v[0]),b.push(v[0]);f.addClass("fc-limited").after(t(p)),l.push(f[0])}}i(this.colCnt),S.moreEls=t(b),S.limitedEls=t(l)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n){var i=this,r=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(s){var o=r.opt("eventLimitClick"),l=e.start,a=t(this),u=i.getCellDayEl(e),c=i.getCellSegs(e),d=i.resliceDaySegs(c,l),h=i.resliceDaySegs(n,l);"function"==typeof o&&(o=r.trigger("eventLimitClick",null,{date:l,dayEl:u,moreEl:a,segs:d,hiddenSegs:h},s)),"popover"===o?i.showSegPopover(e,a,d):"string"==typeof o&&r.calendar.zoomTo(l,o)})},showSegPopover:function(t,e,n){var i,r,s=this,o=this.view,l=e.parent();i=1==this.rowCnt?o.el:this.rowEls.eq(t.row),r={className:"fc-more-popover",content:this.renderSegPopoverContent(t,n),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:o.opt("popoverViewportConstrain"),hide:function(){s.segPopover.destroy(),s.segPopover=null,s.popoverSegs=null}},this.isRTL?r.right=l.offset().left+l.outerWidth()+1:r.left=l.offset().left-1,this.segPopover=new Ke(r),this.segPopover.show()},renderSegPopoverContent:function(e,n){var i,r=this.view,s=r.opt("theme"),o=e.start.format(r.opt("dayPopoverFormat")),l=t('<div class="fc-header '+r.widgetHeaderClass+'">'+'<span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span>'+'<span class="fc-title">'+Y(o)+"</span>"+'<div class="fc-clear"/>'+"</div>"+'<div class="fc-body '+r.widgetContentClass+'">'+'<div class="fc-event-container"></div>'+"</div>"),a=l.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;n.length>i;i++)n[i].cell=e,a.append(n[i].el);return l},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),r=n.clone().stripTime(),s=r.clone().add(1,"days"),o={start:r,end:s};return e=this.eventsToSegs(i,function(t){var e=H(t,o);return e?[e]:[]}),e.sort(me),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");
return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,r=e||0,s=[];i.length>r;)n=i[r][t.col],n&&s.push(n),r++;return s}});var ln=sn.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){sn.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(t),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+"</table>"+"</div>"+'<div class="fc-slats">'+"<table>"+this.slatRowHtml()+"</table>"+"</div>"},slotBgCellHtml:function(t){return this.bgCellHtml(t)},slatRowHtml:function(){for(var t,n,i,r=this.view,s=this.isRTL,o="",l=0===this.slotDuration.asMinutes()%15,a=e.duration(+this.minTime);this.maxTime>a;)t=this.start.clone().time(a),n=t.minutes(),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(l&&n?"":"<span>"+Y(t.format(this.axisFormat))+"</span>")+"</td>",o+="<tr "+(n?'class="fc-minor"':"")+">"+(s?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(s?i:"")+"</tr>",a.add(this.slotDuration);return o},processOptions:function(){var t=this.view,n=t.opt("slotDuration"),i=t.opt("snapDuration");n=e.duration(n),i=i?e.duration(i):n,this.slotDuration=n,this.snapDuration=i,this.cellDuration=i,this.minTime=e.duration(t.opt("minTime")),this.maxTime=e.duration(t.opt("maxTime")),this.axisFormat=t.opt("axisFormat")||t.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var t,e=this.view,n=[];for(t=this.start.clone();t.isBefore(this.end);)n.push({day:t.clone()}),t.add(1,"day"),t=e.skipHiddenDays(t);this.isRTL&&n.reverse(),this.colData=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(t){var e=this.computeSnapTime(t.row);return this.view.calendar.rezoneDate(t.day).time(e)},getColEl:function(t){return this.dayEls.eq(t)},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},rangeToSegs:function(t){var e,n,i,r,s=this.colCnt,o=[];for(t={start:t.start.clone().stripZone(),end:t.end.clone().stripZone()},n=0;s>n;n++)i=this.colData[n].day,r={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},e=H(t,r),e&&(e.col=n,o.push(e));return o},updateSize:function(t){this.computeSlatTops(),t&&this.updateSegVerticals()},computeRowCoords:function(){var t,e,n=this.el.offset().top,i=[];for(t=0;this.rowCnt>t;t++)e={top:n+this.computeTimeTop(this.computeSnapTime(t))},t>0&&(i[t-1].bottom=e.top),i.push(e);return e.bottom=e.top+this.computeTimeTop(this.computeSnapTime(t)),i},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,r,s=(t-this.minTime)/this.slotDuration;return s=Math.max(0,s),s=Math.min(this.slatEls.length,s),e=Math.floor(s),n=s-e,i=this.slatTops[e],n?(r=this.slatTops[e+1],i+(r-i)*n):i},computeSlatTops:function(){var e,n=[];this.slatEls.each(function(i,r){e=t(r).position().top,n.push(e)}),n.push(e+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(t,e){return e?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEl),!0):(this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t)),void 0)},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(t,e){this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(e,n){var i,r,s,o,l=this.eventsToSegs([e]);for(l=this.renderFgSegEls(l),i=this.renderSegTable(l),r=0;l.length>r;r++)s=l[r],n&&n.col===s.col&&(o=n.el,s.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")}));this.helperEl=t('<div class="fc-helper-skeleton"/>').append(i).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderRangeHelper(t):this.renderHighlight(t)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(e,n,i){var r,s,o,l,a,u,c,d,h,f;if(n.length){for(n=this.renderFillSegEls(e,n),r=this.groupSegCols(n),i=i||e.toLowerCase(),s=t('<div class="fc-'+i+'-skeleton">'+"<table><tr/></table>"+"</div>"),o=s.find("tr"),l=0;r.length>l;l++)if(a=r[l],u=t("<td/>").appendTo(o),a.length)for(c=t('<div class="fc-'+i+'-container"/>').appendTo(u),d=this.colData[l].day,h=0;a.length>h;h++)f=a[h],c.append(f.el.css({top:this.computeDateTop(f.start,d),bottom:-this.computeDateTop(f.end,d)}));this.bookendCells(o,e),this.el.append(s),this.elsByFill[e]=s}return n}});ln.mixin({eventSkeletonEl:null,renderFgSegs:function(e){return e=this.renderFgSegEls(e),this.el.append(this.eventSkeletonEl=t('<div class="fc-content-skeleton"/>').append(this.renderSegTable(e))),e},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(e){var n,i,r,s,o,l,a=t("<table><tr/></table>"),u=a.find("tr");for(n=this.groupSegCols(e),this.computeSegVerticals(e),s=0;n.length>s;s++){for(o=n[s],Ee(o),l=t('<div class="fc-event-container"/>'),i=0;o.length>i;i++)r=o[i],r.el.css(this.generateSegPositionCss(r)),30>r.bottom-r.top&&r.el.addClass("fc-short"),l.append(r.el);u.append(t("<td/>").append(l))}return this.bookendCells(u,"eventSkeleton"),a},updateSegVerticals:function(){var t,e=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(e),t=0;e.length>t;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;t.length>e;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(t,e){var n,i,r,s=this.view,o=t.event,l=s.isEventDraggable(o),a=!e&&t.isStart&&s.isEventResizableFromStart(o),u=!e&&t.isEnd&&s.isEventResizableFromEnd(o),c=this.getSegClasses(t,l,a||u),d=W(this.getEventSkinCss(o));return c.unshift("fc-time-grid-event","fc-v-event"),s.isMultiDayEvent(o)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(o),i=this.getEventTimeText(o,"LT"),r=this.getEventTimeText(o,null,!1)),'<a class="'+c.join(" ")+'"'+(o.url?' href="'+Y(o.url)+'"':"")+(d?' style="'+d+'"':"")+">"+'<div class="fc-content">'+(n?'<div class="fc-time" data-start="'+Y(r)+'"'+' data-full="'+Y(i)+'"'+">"+"<span>"+Y(n)+"</span>"+"</div>":"")+(o.title?'<div class="fc-title">'+Y(o.title)+"</div>":"")+"</div>"+'<div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,s=t.forwardCoord,o=this.generateSegVerticalCss(t);return i&&(s=Math.min(1,r+2*(s-r))),this.isRTL?(e=1-s,n=r):(e=r,n=1-s),o.zIndex=t.level+1,o.left=100*e+"%",o.right=100*n+"%",i&&t.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},groupSegCols:function(t){var e,n=[];for(e=0;this.colCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].col].push(t[e]);return n}});var an=Le.View=ue.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,isDisplayed:!1,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(t,n,i,r){this.calendar=t,this.type=this.name=n,this.options=i,this.intervalDuration=r||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.documentMousedownProxy=q(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,i=M(this.intervalDuration),r=t.clone().startOf(i),s=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),s.stripTime()):(r.hasTime()||(r=this.calendar.rezoneDate(r)),s.hasTime()||(s=this.calendar.rezoneDate(s))),e=r.clone(),e=this.skipHiddenDays(e),n=s.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:i,intervalStart:r,intervalEnd:s,start:e,end:n}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return 1>=this.intervalDuration.as("days")&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),re(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.destroySkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var e=null;this.isDisplayed&&(e=this.queryScroll()),this.clear(),this.setDate(t),this.render(),this.updateSize(),this.renderBusinessHours(),this.isDisplayed=!0,e=this.computeInitialScroll(e),this.forceScroll(e),this.triggerRender()},clear:function(){this.isDisplayed&&(this.unselect(),this.clearEvents(),this.triggerDestroy(),this.destroyBusinessHours(),this.destroy(),this.isDisplayed=!1)},render:function(){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.renderDates()},destroy:function(){this.destroyDates()},renderSkeleton:function(){},destroySkeleton:function(){},renderDates:function(){},destroyDates:function(){},renderBusinessHours:function(){},destroyBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerDestroy:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(),this.updateWidth(),t&&this.setScroll(e)},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(t){var e,n,i=this.scrollerEl;return e=this.el.add(i),e.css({position:"relative",left:-1}),n=this.el.outerHeight()-i.height(),e.css({position:"",left:""}),t-n},computeInitialScroll:function(){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(t){return this.scrollerEl?this.scrollerEl.scrollTop(t):void 0},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventDestroy(),this.destroyEvents(),this.isEventsRendered=!1)},renderEvents:function(){},destroyEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventDestroy:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return i===!1?n=null:i&&i!==!0&&(n=t(i)),n},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;i.length>n;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return B(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,r){var s=this.calendar,o=s.mutateEvent(t,e,n),l=function(){o.undo(),s.reportEventChange()};this.triggerEventDrop(t,o.dateDelta,l,i,r),s.reportEventChange()},triggerEventDrop:function(t,e,n,i,r){this.trigger("eventDrop",i[0],t,e,n,r,{})},reportExternalDrop:function(e,n,i,r,s){var o,l,a=e.eventProps;a&&(o=t.extend({},a,n),l=this.calendar.renderEvent(o,e.stick)[0]),this.triggerExternalDrop(l,n,i,r,s)},triggerExternalDrop:function(t,e,n,i,r){this.trigger("drop",n[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(){},destroyDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return B(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,r){var s=this.calendar,o=s.mutateEvent(t,e,n),l=function(){o.undo(),s.reportEventChange()};this.triggerEventResize(t,o.durationDelta,l,i,r),s.reportEventChange()},triggerEventResize:function(t,e,n,i,r){this.trigger("eventResize",i[0],t,e,n,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(){},reportSelection:function(t,e){this.isSelected=!0,this.trigger("select",null,t.start,t.end,e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,t))},destroySelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&S(e)&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],r=0;for(this.opt("weekends")===!1&&n.push(0,6),e=0;7>e;e++)(i[e]=-1!==t.inArray(e,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),e=+i.time(),e&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||n>=r)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),un=Le.Calendar=Le.CalendarBase=ue.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,constructor:Re,initOptions:function(t){var e,r,s,o;t=i(t),e=t.lang,r=cn[e],r||(e=un.defaults.lang,r=cn[e]||{}),s=B(t.isRTL,r.isRTL,un.defaults.isRTL),o=s?un.rtlDefaults:{},this.dirDefaults=o,this.langDefaults=r,this.overrides=t,this.options=n(un.defaults,o,r,t),ke(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,i,r;if(-1!=t.inArray(e,Ye))for(n=this.header.getViewsWithButtons(),t.each(Le.views,function(t){n.push(t)}),i=0;n.length>i;i++)if(r=this.getViewSpec(n[i]),r&&r.singleUnit==e)return r},buildViewSpec:function(t){for(var i,r,s,o,l,a,u=this.overrides.views||{},c=[],d=[],h=t;h&&!i;)r=_e[h]||{},s=u[h]||{},o=o||s.duration||r.duration,h=s.type||r.type,"function"==typeof r?(i=r,c.unshift(i.defaults||{})):c.unshift(r),d.unshift(s);return i?(a={"class":i,type:t},o&&(o=e.duration(o),o.valueOf()||(o=null)),o&&(a.duration=o,l=M(o),1===o.as(l)&&(a.singleUnit=l,d.unshift(u[l]||{}))),a.defaults=n.apply(null,c),a.overrides=n.apply(null,d),this.buildViewSpecOptions(a),this.buildViewSpecButtonText(a,t),a):void 0},buildViewSpecOptions:function(t){t.options=n(un.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides),ke(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(un.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e["class"](this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))}});un.defaults={titleRangeSeparator:" — ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"今天 prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"年",today:"今天",month:"月",week:"周",day:"日"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},un.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},un.rtlDefaults={header:{left:"next,prev 今天",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var cn=Le.langs={};Le.datepickerLang=function(e,n,i){var r=cn[e]||(cn[e]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,t.each(dn,function(t,e){r[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},Le.lang=function(e,i){var r,s;r=cn[e]||(cn[e]={}),i&&(r=cn[e]=n(r,i)),s=Me(e),t.each(hn,function(t,e){null==r[t]&&(r[t]=e(s,r))}),un.defaults.lang=e};var dn={buttonText:function(t){return{prev:I(t.prevText),next:I(t.nextText),today:I(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},hn={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},fn={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};Le.lang("en",un.englishDefaults),Le.sourceNormalizers=[],Le.sourceFetchers=[];var gn={dataType:"json",cache:!1},pn=1;un.prototype.getPeerEvents=function(t){var e,n,i=this.getEventCache(),r=[];for(e=0;i.length>e;e++)n=i[e],t&&t._id===n._id||r.push(n);return r};var mn=_e.basic=an.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new on(this),this.coordMap=this.dayGrid.coordMap},setRange:function(t){an.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=an.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+"</td>"+"</tr>"+"</thead>"+'<tbody class="fc-body">'+"<tr>"+'<td class="'+this.widgetContentClass+'">'+'<div class="fc-day-grid-container">'+'<div class="fc-day-grid"/>'+"</div>"+"</td>"+"</tr>"+"</tbody>"+"</table>"},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+">"+"<span>"+Y(this.opt("weekNumberTitle"))+"</span>"+"</th>":void 0},numberIntroHtml:function(t){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+">"+"<span>"+this.dayGrid.getCell(t,0).start.format("w")+"</span>"+"</td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(t){var e,n=t.start;return this.dayNumbersVisible?(e=this.dayGrid.getDayClasses(n),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");h(this.scrollerEl),s(this.headRowEl),this.dayGrid.destroySegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&d(this.scrollerEl,n)&&(r(this.headRowEl,v(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n))},setGridHeight:function(t,e){e?u(this.dayGrid.rowEls):a(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},destroySelection:function(){this.dayGrid.destroySelection()}}),vn=_e.month=mn.extend({computeRange:function(t){var e,n=mn.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),a(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});vn.duration={months:1},vn.defaults={fixedWeekCount:!0},_e.basicWeek={type:"basic",duration:{weeks:1}},_e.basicDay={type:"basic",duration:{days:1}};var yn={allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0},wn=5,En=_e.agenda=an.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new ln(this),this.opt("allDaySlot")?(this.dayGrid=new on(this),this.coordMap=new Je([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(t){an.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroyDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.destroyDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+"</td>"+"</tr>"+"</thead>"+'<tbody class="fc-body">'+"<tr>"+'<td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container">'+'<div class="fc-time-grid"/>'+"</div>"+"</td>"+"</tr>"+"</tbody>"+"</table>"},headIntroHtml:function(){var t,e;return this.opt("weekNumbers")?(t=this.timeGrid.getCell(0).start,e=t.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+">"+"<span>"+Y(e)+"</span>"+"</th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+">"+"<span>"+(this.opt("allDayHtml")||Y(this.opt("allDayText")))+"</span>"+"</td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){this.timeGrid.updateSize(t),an.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=wn),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),d(this.scrollerEl,i)?(r(this.noScrollRowEls,v(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return n=Math.ceil(n),n&&n++,n},renderEvents:function(t){var e,n,i=[],r=[],s=[];for(n=0;t.length>n;n++)t[n].allDay?i.push(t[n]):r.push(t[n]);e=this.timeGrid.renderEvents(r),this.dayGrid&&(s=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}});return En.defaults=yn,_e.agendaWeek={type:"agenda",duration:{weeks:1}},_e.agendaDay={type:"agenda",duration:{days:1}},Le});



!
function(a) {
    "function" == typeof define && define.amd ? define(["jquery", "moment"], a) : a(jQuery, moment)
} (function(a, b) { (b.defineLocale || b.lang).call(b, "zh-cn", {
        months: "一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),
        monthsShort: "1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),
        weekdays: "星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),
        weekdaysShort: "周日_周一_周二_周三_周四_周五_周六".split("_"),
        weekdaysMin: "日_一_二_三_四_五_六".split("_"),
        longDateFormat: {
            LT: "Ah点mm",
            LTS: "Ah点m分s秒",
            L: "YYYY-MM-DD",
            LL: "YYYY年MMMD日",
            LLL: "YYYY年MMMD日LT",
            LLLL: "YYYY年MMMD日ddddLT",
            l: "YYYY-MM-DD",
            ll: "YYYY年MMMD日",
            lll: "YYYY年MMMD日LT",
            llll: "YYYY年MMMD日ddddLT"
        },
        meridiemParse: /凌晨|早上|上午|中午|下午|晚上/,
        meridiemHour: function(a, b) {
            return 12 === a && (a = 0),
            "凌晨" === b || "早上" === b || "上午" === b ? a: "下午" === b || "晚上" === b ? a + 12 : a >= 11 ? a: a + 12
        },
        meridiem: function(a, b, c) {
            var d = 100 * a + b;
            return 600 > d ? "凌晨": 900 > d ? "早上": 1130 > d ? "上午": 1230 > d ? "中午": 1800 > d ? "下午": "晚上"
        },
        calendar: {
            sameDay: function() {
                return 0 === this.minutes() ? "[今天]Ah[点整]": "[今天]LT"
            },
            nextDay: function() {
                return 0 === this.minutes() ? "[明天]Ah[点整]": "[明天]LT"
            },
            lastDay: function() {
                return 0 === this.minutes() ? "[昨天]Ah[点整]": "[昨天]LT"
            },
            nextWeek: function() {
                var a, c;
                return a = b().startOf("week"),
                c = this.unix() - a.unix() >= 604800 ? "[下]": "[本]",
                0 === this.minutes() ? c + "dddAh点整": c + "dddAh点mm"
            },
            lastWeek: function() {
                var a, c;
                return a = b().startOf("week"),
                c = this.unix() < a.unix() ? "[上]": "[本]",
                0 === this.minutes() ? c + "dddAh点整": c + "dddAh点mm"
            },
            sameElse: "LL"
        },
        ordinalParse: /\d{1,2}(日|月|周)/,
        ordinal: function(a, b) {
            switch (b) {
            case "d":
            case "D":
            case "DDD":
                return a + "日";
            case "M":
                return a + "月";
            case "w":
            case "W":
                return a + "周";
            default:
                return a
            }
        },
        relativeTime: {
            future: "%s内",
            past: "%s前",
            s: "几秒",
            m: "1分钟",
            mm: "%d分钟",
            h: "1小时",
            hh: "%d小时",
            d: "1天",
            dd: "%d天",
            M: "1个月",
            MM: "%d个月",
            y: "1年",
            yy: "%d年"
        }

    }),
    a.fullCalendar.datepickerLang("zh-cn", "zh-CN", {
        closeText: "关闭",
        prevText: "&#x3C;上月",
        nextText: "下月&#x3E;",
        currentText: "今天",
        monthNames: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
        monthNamesShort: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
        dayNames: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
        dayNamesShort: ["周日", "周一", "周二", "周三", "周四", "周五", "周六"],
        dayNamesMin: ["日", "一", "二", "三", "四", "五", "六"],
        weekHeader: "周",
        dateFormat: "yy-mm-dd",
        firstDay: 1,
        isRTL: !1,
        showMonthAfterYear: !0,
        yearSuffix: "年"
    }),
    a.fullCalendar.lang("zh-cn", {
        buttonText: {
            month: "月",
            week: "周",
            day: "日",
            list: "日程"
        },
        allDayText: "全天",
        eventLimitText: function(a) {
            return "另外 " + a + " 个"
        }
    })
});
;}catch(e){}
tinyTplList.push({sort:9, name: 'orange', title: '橙色'});tinyTplList.push({sort:10, name: 'purple', title: '紫色' });try{
(function(a){a.fn.SuperBox=function(b){var e=a('<div class="superbox-show"></div>');var c=a('<img src="" class="superbox-current-img">');var d=a('<div class="superbox-close"></div>');e.append(c).append(d);return this.each(function(){a(".superbox-list").click(function(){var f=a(this).find(".superbox-img");var g=f.data("img");c.attr("src",g);if(a(".superbox-current-img").css("opacity")==0){a(".superbox-current-img").animate({opacity:1})}if(a(this).next().hasClass("superbox-show")){e.toggle()}else{e.insertAfter(this).css("display","block")}a("html, body").animate({scrollTop:e.position().top-f.width()},"medium")});a(".superbox").on("click",".superbox-close",function(){a(".superbox-current-img").animate({opacity:0},200,function(){a(".superbox-show").slideUp()})})})}})(jQuery);
;}catch(e){}
try{
/* WebUploader 0.1.5 */!function(a,b){var c,d={},e=function(a,b){var c,d,e;if("string"==typeof a)return h(a);for(c=[],d=a.length,e=0;d>e;e++)c.push(h(a[e]));return b.apply(null,c)},f=function(a,b,c){2===arguments.length&&(c=b,b=null),e(b||[],function(){g(a,c,arguments)})},g=function(a,b,c){var f,g={exports:b};"function"==typeof b&&(c.length||(c=[e,g.exports,g]),f=b.apply(null,c),void 0!==f&&(g.exports=f)),d[a]=g.exports},h=function(b){var c=d[b]||a[b];if(!c)throw new Error("`"+b+"` is undefined");return c},i=function(a){var b,c,e,f,g,h;h=function(a){return a&&a.charAt(0).toUpperCase()+a.substr(1)};for(b in d)if(c=a,d.hasOwnProperty(b)){for(e=b.split("/"),g=h(e.pop());f=h(e.shift());)c[f]=c[f]||{},c=c[f];c[g]=d[b]}return a},j=function(c){return a.__dollar=c,i(b(a,f,e))};"object"==typeof module&&"object"==typeof module.exports?module.exports=j():"function"==typeof define&&define.amd?define(["jquery"],j):(c=a.WebUploader,a.WebUploader=j(),a.WebUploader.noConflict=function(){a.WebUploader=c})}(window,function(a,b,c){return b("dollar-third",[],function(){var b=a.__dollar||a.jQuery||a.Zepto;if(!b)throw new Error("jQuery or Zepto not found!");return b}),b("dollar",["dollar-third"],function(a){return a}),b("promise-third",["dollar"],function(a){return{Deferred:a.Deferred,when:a.when,isPromise:function(a){return a&&"function"==typeof a.then}}}),b("promise",["promise-third"],function(a){return a}),b("base",["dollar","promise"],function(b,c){function d(a){return function(){return h.apply(a,arguments)}}function e(a,b){return function(){return a.apply(b,arguments)}}function f(a){var b;return Object.create?Object.create(a):(b=function(){},b.prototype=a,new b)}var g=function(){},h=Function.call;return{version:"0.1.5",$:b,Deferred:c.Deferred,isPromise:c.isPromise,when:c.when,browser:function(a){var b={},c=a.match(/WebKit\/([\d.]+)/),d=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),e=a.match(/MSIE\s([\d\.]+)/)||a.match(/(?:trident)(?:.*rv:([\w.]+))?/i),f=a.match(/Firefox\/([\d.]+)/),g=a.match(/Safari\/([\d.]+)/),h=a.match(/OPR\/([\d.]+)/);return c&&(b.webkit=parseFloat(c[1])),d&&(b.chrome=parseFloat(d[1])),e&&(b.ie=parseFloat(e[1])),f&&(b.firefox=parseFloat(f[1])),g&&(b.safari=parseFloat(g[1])),h&&(b.opera=parseFloat(h[1])),b}(navigator.userAgent),os:function(a){var b={},c=a.match(/(?:Android);?[\s\/]+([\d.]+)?/),d=a.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return c&&(b.android=parseFloat(c[1])),d&&(b.ios=parseFloat(d[1].replace(/_/g,"."))),b}(navigator.userAgent),inherits:function(a,c,d){var e;return"function"==typeof c?(e=c,c=null):e=c&&c.hasOwnProperty("constructor")?c.constructor:function(){return a.apply(this,arguments)},b.extend(!0,e,a,d||{}),e.__super__=a.prototype,e.prototype=f(a.prototype),c&&b.extend(!0,e.prototype,c),e},noop:g,bindFn:e,log:function(){return a.console?e(console.log,console):g}(),nextTick:function(){return function(a){setTimeout(a,1)}}(),slice:d([].slice),guid:function(){var a=0;return function(b){for(var c=(+new Date).toString(32),d=0;5>d;d++)c+=Math.floor(65535*Math.random()).toString(32);return(b||"wu_")+c+(a++).toString(32)}}(),formatSize:function(a,b,c){var d;for(c=c||["B","K","M","G","TB"];(d=c.shift())&&a>1024;)a/=1024;return("B"===d?a:a.toFixed(b||2))+d}}}),b("mediator",["base"],function(a){function b(a,b,c,d){return f.grep(a,function(a){return!(!a||b&&a.e!==b||c&&a.cb!==c&&a.cb._cb!==c||d&&a.ctx!==d)})}function c(a,b,c){f.each((a||"").split(h),function(a,d){c(d,b)})}function d(a,b){for(var c,d=!1,e=-1,f=a.length;++e<f;)if(c=a[e],c.cb.apply(c.ctx2,b)===!1){d=!0;break}return!d}var e,f=a.$,g=[].slice,h=/\s+/;return e={on:function(a,b,d){var e,f=this;return b?(e=this._events||(this._events=[]),c(a,b,function(a,b){var c={e:a};c.cb=b,c.ctx=d,c.ctx2=d||f,c.id=e.length,e.push(c)}),this):this},once:function(a,b,d){var e=this;return b?(c(a,b,function(a,b){var c=function(){return e.off(a,c),b.apply(d||e,arguments)};c._cb=b,e.on(a,c,d)}),e):e},off:function(a,d,e){var g=this._events;return g?a||d||e?(c(a,d,function(a,c){f.each(b(g,a,c,e),function(){delete g[this.id]})}),this):(this._events=[],this):this},trigger:function(a){var c,e,f;return this._events&&a?(c=g.call(arguments,1),e=b(this._events,a),f=b(this._events,"all"),d(e,c)&&d(f,arguments)):this}},f.extend({installTo:function(a){return f.extend(a,e)}},e)}),b("uploader",["base","mediator"],function(a,b){function c(a){this.options=d.extend(!0,{},c.options,a),this._init(this.options)}var d=a.$;return c.options={},b.installTo(c.prototype),d.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(a,b){c.prototype[a]=function(){return this.request(b,arguments)}}),d.extend(c.prototype,{state:"pending",_init:function(a){var b=this;b.request("init",a,function(){b.state="ready",b.trigger("ready")})},option:function(a,b){var c=this.options;return arguments.length>1?void(d.isPlainObject(b)&&d.isPlainObject(c[a])?d.extend(c[a],b):c[a]=b):a?c[a]:c},getStats:function(){var a=this.request("get-stats");return a?{successNum:a.numOfSuccess,progressNum:a.numOfProgress,cancelNum:a.numOfCancel,invalidNum:a.numOfInvalid,uploadFailNum:a.numOfUploadFailed,queueNum:a.numOfQueue,interruptNum:a.numofInterrupt}:{}},trigger:function(a){var c=[].slice.call(arguments,1),e=this.options,f="on"+a.substring(0,1).toUpperCase()+a.substring(1);return b.trigger.apply(this,arguments)===!1||d.isFunction(e[f])&&e[f].apply(this,c)===!1||d.isFunction(this[f])&&this[f].apply(this,c)===!1||b.trigger.apply(b,[this,a].concat(c))===!1?!1:!0},destroy:function(){this.request("destroy",arguments),this.off()},request:a.noop}),a.create=c.create=function(a){return new c(a)},a.Uploader=c,c}),b("runtime/runtime",["base","mediator"],function(a,b){function c(b){this.options=d.extend({container:document.body},b),this.uid=a.guid("rt_")}var d=a.$,e={},f=function(a){for(var b in a)if(a.hasOwnProperty(b))return b;return null};return d.extend(c.prototype,{getContainer:function(){var a,b,c=this.options;return this._container?this._container:(a=d(c.container||document.body),b=d(document.createElement("div")),b.attr("id","rt_"+this.uid),b.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),a.append(b),a.addClass("webuploader-container"),this._container=b,this._parent=a,b)},init:a.noop,exec:a.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),c.orders="html5,flash",c.addRuntime=function(a,b){e[a]=b},c.hasRuntime=function(a){return!!(a?e[a]:f(e))},c.create=function(a,b){var g,h;if(b=b||c.orders,d.each(b.split(/\s*,\s*/g),function(){return e[this]?(g=this,!1):void 0}),g=g||f(e),!g)throw new Error("Runtime Error");return h=new e[g](a)},b.installTo(c.prototype),c}),b("runtime/client",["base","mediator","runtime/runtime"],function(a,b,c){function d(b,d){var f,g=a.Deferred();this.uid=a.guid("client_"),this.runtimeReady=function(a){return g.done(a)},this.connectRuntime=function(b,h){if(f)throw new Error("already connected!");return g.done(h),"string"==typeof b&&e.get(b)&&(f=e.get(b)),f=f||e.get(null,d),f?(a.$.extend(f.options,b),f.__promise.then(g.resolve),f.__client++):(f=c.create(b,b.runtimeOrder),f.__promise=g.promise(),f.once("ready",g.resolve),f.init(),e.add(f),f.__client=1),d&&(f.__standalone=d),f},this.getRuntime=function(){return f},this.disconnectRuntime=function(){f&&(f.__client--,f.__client<=0&&(e.remove(f),delete f.__promise,f.destroy()),f=null)},this.exec=function(){if(f){var c=a.slice(arguments);return b&&c.unshift(b),f.exec.apply(this,c)}},this.getRuid=function(){return f&&f.uid},this.destroy=function(a){return function(){a&&a.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var e;return e=function(){var a={};return{add:function(b){a[b.uid]=b},get:function(b,c){var d;if(b)return a[b];for(d in a)if(!c||!a[d].__standalone)return a[d];return null},remove:function(b){delete a[b.uid]}}}(),b.installTo(d.prototype),d}),b("lib/dnd",["base","mediator","runtime/client"],function(a,b,c){function d(a){a=this.options=e.extend({},d.options,a),a.container=e(a.container),a.container.length&&c.call(this,"DragAndDrop")}var e=a.$;return d.options={accept:null,disableGlobalDnd:!1},a.inherits(c,{constructor:d,init:function(){var a=this;a.connectRuntime(a.options,function(){a.exec("init"),a.trigger("ready")})}}),b.installTo(d.prototype),d}),b("widgets/widget",["base","uploader"],function(a,b){function c(a){if(!a)return!1;var b=a.length,c=e.type(a);return 1===a.nodeType&&b?!0:"array"===c||"function"!==c&&"string"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){this.owner=a,this.options=a.options}var e=a.$,f=b.prototype._init,g=b.prototype.destroy,h={},i=[];return e.extend(d.prototype,{init:a.noop,invoke:function(a,b){var c=this.responseMap;return c&&a in c&&c[a]in this&&e.isFunction(this[c[a]])?this[c[a]].apply(this,b):h},request:function(){return this.owner.request.apply(this.owner,arguments)}}),e.extend(b.prototype,{_init:function(){var a=this,b=a._widgets=[],c=a.options.disableWidgets||"";return e.each(i,function(d,e){(!c||!~c.indexOf(e._name))&&b.push(new e(a))}),f.apply(a,arguments)},request:function(b,d,e){var f,g,i,j,k=0,l=this._widgets,m=l&&l.length,n=[],o=[];for(d=c(d)?d:[d];m>k;k++)f=l[k],g=f.invoke(b,d),g!==h&&(a.isPromise(g)?o.push(g):n.push(g));return e||o.length?(i=a.when.apply(a,o),j=i.pipe?"pipe":"then",i[j](function(){var b=a.Deferred(),c=arguments;return 1===c.length&&(c=c[0]),setTimeout(function(){b.resolve(c)},1),b.promise()})[e?j:"done"](e||a.noop)):n[0]},destroy:function(){g.apply(this,arguments),this._widgets=null}}),b.register=d.register=function(b,c){var f,g={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(c=b,e.each(c,function(a){return"_"===a[0]||"name"===a?void("name"===a&&(g.name=c.name)):void(g[a.replace(/[A-Z]/g,"-$&").toLowerCase()]=a)})):g=e.extend(g,b),c.responseMap=g,f=a.inherits(d,c),f._name=g.name,i.push(f),f},b.unRegister=d.unRegister=function(a){if(a&&"anonymous"!==a)for(var b=i.length;b--;)i[b]._name===a&&i.splice(b,1)},d}),b("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(a,b,c){var d=a.$;return b.options.dnd="",b.register({name:"dnd",init:function(b){if(b.dnd&&"html5"===this.request("predict-runtime-type")){var e,f=this,g=a.Deferred(),h=d.extend({},{disableGlobalDnd:b.disableGlobalDnd,container:b.dnd,accept:b.accept});return this.dnd=e=new c(h),e.once("ready",g.resolve),e.on("drop",function(a){f.request("add-file",[a])}),e.on("accept",function(a){return f.owner.trigger("dndAccept",a)}),e.init(),g.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),b("lib/filepaste",["base","mediator","runtime/client"],function(a,b,c){function d(a){a=this.options=e.extend({},a),a.container=e(a.container||document.body),c.call(this,"FilePaste")}var e=a.$;return a.inherits(c,{constructor:d,init:function(){var a=this;a.connectRuntime(a.options,function(){a.exec("init"),a.trigger("ready")})}}),b.installTo(d.prototype),d}),b("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(a,b,c){var d=a.$;return b.register({name:"paste",init:function(b){if(b.paste&&"html5"===this.request("predict-runtime-type")){var e,f=this,g=a.Deferred(),h=d.extend({},{container:b.paste,accept:b.accept});return this.paste=e=new c(h),e.once("ready",g.resolve),e.on("paste",function(a){f.owner.request("add-file",[a])}),e.init(),g.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),b("lib/blob",["base","runtime/client"],function(a,b){function c(a,c){var d=this;d.source=c,d.ruid=a,this.size=c.size||0,this.type=!c.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?"image/"+("jpg"===this.ext?"jpeg":this.ext):c.type||"application/octet-stream",b.call(d,"Blob"),this.uid=c.uid||this.uid,a&&d.connectRuntime(a)}return a.inherits(b,{constructor:c,slice:function(a,b){return this.exec("slice",a,b)},getSource:function(){return this.source}}),c}),b("lib/file",["base","lib/blob"],function(a,b){function c(a,c){var f;this.name=c.name||"untitled"+d++,f=e.exec(c.name)?RegExp.$1.toLowerCase():"",!f&&c.type&&(f=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(c.type)?RegExp.$1.toLowerCase():"",this.name+="."+f),this.ext=f,this.lastModifiedDate=c.lastModifiedDate||(new Date).toLocaleString(),b.apply(this,arguments)}var d=1,e=/\.([^.]+)$/;return a.inherits(b,c)}),b("lib/filepicker",["base","runtime/client","lib/file"],function(b,c,d){function e(a){if(a=this.options=f.extend({},e.options,a),a.container=f(a.id),!a.container.length)throw new Error("按钮指定错误");a.innerHTML=a.innerHTML||a.label||a.container.html()||"",a.button=f(a.button||document.createElement("div")),a.button.html(a.innerHTML),a.container.html(a.button),c.call(this,"FilePicker",!0)}var f=b.$;return e.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file"},b.inherits(c,{constructor:e,init:function(){var c=this,e=c.options,g=e.button;g.addClass("webuploader-pick"),c.on("all",function(a){var b;switch(a){case"mouseenter":g.addClass("webuploader-pick-hover");break;case"mouseleave":g.removeClass("webuploader-pick-hover");break;case"change":b=c.exec("getFiles"),c.trigger("select",f.map(b,function(a){return a=new d(c.getRuid(),a),a._refer=e.container,a}),e.container)}}),c.connectRuntime(e,function(){c.refresh(),c.exec("init",e),c.trigger("ready")}),this._resizeHandler=b.bindFn(this.refresh,this),f(a).on("resize",this._resizeHandler)},refresh:function(){var a=this.getRuntime().getContainer(),b=this.options.button,c=b.outerWidth?b.outerWidth():b.width(),d=b.outerHeight?b.outerHeight():b.height(),e=b.offset();c&&d&&a.css({bottom:"auto",right:"auto",width:c+"px",height:d+"px"}).offset(e)},enable:function(){var a=this.options.button;a.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var a=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),a.addClass("webuploader-pick-disable")},destroy:function(){var b=this.options.button;f(a).off("resize",this._resizeHandler),b.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),e}),b("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(a,b,c){var d=a.$;return d.extend(b.options,{pick:null,accept:null}),b.register({name:"picker",init:function(a){return this.pickers=[],a.pick&&this.addBtn(a.pick)},refresh:function(){d.each(this.pickers,function(){this.refresh()})},addBtn:function(b){var e=this,f=e.options,g=f.accept,h=[];if(b)return d.isPlainObject(b)||(b={id:b}),d(b.id).each(function(){var i,j,k;k=a.Deferred(),i=d.extend({},b,{accept:d.isPlainObject(g)?[g]:g,swf:f.swf,runtimeOrder:f.runtimeOrder,id:this}),j=new c(i),j.once("ready",k.resolve),j.on("select",function(a){e.owner.request("add-file",[a])}),j.init(),e.pickers.push(j),h.push(k.promise())}),a.when.apply(a,h)},disable:function(){d.each(this.pickers,function(){this.disable()})},enable:function(){d.each(this.pickers,function(){this.enable()})},destroy:function(){d.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),b("lib/image",["base","runtime/client","lib/blob"],function(a,b,c){function d(a){this.options=e.extend({},d.options,a),b.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var e=a.$;return d.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},a.inherits(b,{constructor:d,info:function(a){return a?(this._info=a,this):this._info},meta:function(a){return a?(this._meta=a,this):this._meta},loadFromBlob:function(a){var b=this,c=a.getRuid();this.connectRuntime(c,function(){b.exec("init",b.options),b.exec("loadFromBlob",a)})},resize:function(){var b=a.slice(arguments);return this.exec.apply(this,["resize"].concat(b))},crop:function(){var b=a.slice(arguments);return this.exec.apply(this,["crop"].concat(b))},getAsDataUrl:function(a){return this.exec("getAsDataUrl",a)},getAsBlob:function(a){var b=this.exec("getAsBlob",a);return new c(this.getRuid(),b)}}),d}),b("widgets/image",["base","uploader","lib/image","widgets/widget"],function(a,b,c){var d,e=a.$;return d=function(a){var b=0,c=[],d=function(){for(var d;c.length&&a>b;)d=c.shift(),b+=d[0],d[1]()};return function(a,e,f){c.push([e,f]),a.once("destroy",function(){b-=e,setTimeout(d,1)}),setTimeout(d,1)}}(5242880),e.extend(b.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),b.register({name:"image",makeThumb:function(a,b,f,g){var h,i;return a=this.request("get-file",a),a.type.match(/^image/)?(h=e.extend({},this.options.thumb),e.isPlainObject(f)&&(h=e.extend(h,f),f=null),f=f||h.width,g=g||h.height,i=new c(h),i.once("load",function(){a._info=a._info||i.info(),a._meta=a._meta||i.meta(),1>=f&&f>0&&(f=a._info.width*f),1>=g&&g>0&&(g=a._info.height*g),i.resize(f,g)}),i.once("complete",function(){b(!1,i.getAsDataUrl(h.type)),i.destroy()}),i.once("error",function(a){b(a||!0),i.destroy()}),void d(i,a.source.size,function(){a._info&&i.info(a._info),a._meta&&i.meta(a._meta),i.loadFromBlob(a.source)})):void b(!0)},beforeSendFile:function(b){var d,f,g=this.options.compress||this.options.resize,h=g&&g.compressSize||0,i=g&&g.noCompressIfLarger||!1;return b=this.request("get-file",b),!g||!~"image/jpeg,image/jpg".indexOf(b.type)||b.size<h||b._compressed?void 0:(g=e.extend({},g),f=a.Deferred(),d=new c(g),f.always(function(){d.destroy(),d=null}),d.once("error",f.reject),d.once("load",function(){var a=g.width,c=g.height;b._info=b._info||d.info(),b._meta=b._meta||d.meta(),1>=a&&a>0&&(a=b._info.width*a),1>=c&&c>0&&(c=b._info.height*c),d.resize(a,c)}),d.once("complete",function(){var a,c;try{a=d.getAsBlob(g.type),c=b.size,(!i||a.size<c)&&(b.source=a,b.size=a.size,b.trigger("resize",a.size,c)),b._compressed=!0,f.resolve()}catch(e){f.resolve()}}),b._info&&d.info(b._info),b._meta&&d.meta(b._meta),d.loadFromBlob(b.source),f.promise())}})}),b("file",["base","mediator"],function(a,b){function c(){return f+g++}function d(a){this.name=a.name||"Untitled",this.size=a.size||0,this.type=a.type||"application/octet-stream",this.lastModifiedDate=a.lastModifiedDate||1*new Date,this.id=c(),this.ext=h.exec(this.name)?RegExp.$1:"",this.statusText="",i[this.id]=d.Status.INITED,this.source=a,this.loaded=0,this.on("error",function(a){this.setStatus(d.Status.ERROR,a)})}var e=a.$,f="WU_FILE_",g=0,h=/\.([^.]+)$/,i={};return e.extend(d.prototype,{setStatus:function(a,b){var c=i[this.id];"undefined"!=typeof b&&(this.statusText=b),a!==c&&(i[this.id]=a,this.trigger("statuschange",a,c))},getStatus:function(){return i[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete i[this.id]}}),b.installTo(d.prototype),d.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},d}),b("queue",["base","mediator","file"],function(a,b,c){function d(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var e=a.$,f=c.Status;return e.extend(d.prototype,{append:function(a){return this._queue.push(a),this._fileAdded(a),this},prepend:function(a){return this._queue.unshift(a),this._fileAdded(a),this},getFile:function(a){return"string"!=typeof a?a:this._map[a]},fetch:function(a){var b,c,d=this._queue.length;for(a=a||f.QUEUED,b=0;d>b;b++)if(c=this._queue[b],a===c.getStatus())return c;return null},sort:function(a){"function"==typeof a&&this._queue.sort(a)},getFiles:function(){for(var a,b=[].slice.call(arguments,0),c=[],d=0,f=this._queue.length;f>d;d++)a=this._queue[d],(!b.length||~e.inArray(a.getStatus(),b))&&c.push(a);return c},removeFile:function(a){var b=this._map[a.id];b&&(delete this._map[a.id],a.destroy(),this.stats.numofDeleted++)},_fileAdded:function(a){var b=this,c=this._map[a.id];c||(this._map[a.id]=a,a.on("statuschange",function(a,c){b._onFileStatusChange(a,c)}))},_onFileStatusChange:function(a,b){var c=this.stats;switch(b){case f.PROGRESS:c.numOfProgress--;break;case f.QUEUED:c.numOfQueue--;break;case f.ERROR:c.numOfUploadFailed--;break;case f.INVALID:c.numOfInvalid--;break;case f.INTERRUPT:c.numofInterrupt--}switch(a){case f.QUEUED:c.numOfQueue++;break;case f.PROGRESS:c.numOfProgress++;break;case f.ERROR:c.numOfUploadFailed++;break;case f.COMPLETE:c.numOfSuccess++;break;case f.CANCELLED:c.numOfCancel++;break;case f.INVALID:c.numOfInvalid++;break;case f.INTERRUPT:c.numofInterrupt++}}}),b.installTo(d.prototype),d}),b("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(a,b,c,d,e,f){var g=a.$,h=/\.\w+$/,i=d.Status;return b.register({name:"queue",init:function(b){var d,e,h,i,j,k,l,m=this;if(g.isPlainObject(b.accept)&&(b.accept=[b.accept]),b.accept){for(j=[],h=0,e=b.accept.length;e>h;h++)i=b.accept[h].extensions,i&&j.push(i);j.length&&(k="\\."+j.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),m.accept=new RegExp(k,"i")}return m.queue=new c,m.stats=m.queue.stats,"html5"===this.request("predict-runtime-type")?(d=a.Deferred(),this.placeholder=l=new f("Placeholder"),l.connectRuntime({runtimeOrder:"html5"},function(){m._ruid=l.getRuid(),d.resolve()}),d.promise()):void 0},_wrapFile:function(a){if(!(a instanceof d)){if(!(a instanceof e)){if(!this._ruid)throw new Error("Can't add external files.");a=new e(this._ruid,a)}a=new d(a)}return a},acceptFile:function(a){var b=!a||!a.size||this.accept&&h.exec(a.name)&&!this.accept.test(a.name);return!b},_addFile:function(a){var b=this;return a=b._wrapFile(a),b.owner.trigger("beforeFileQueued",a)?b.acceptFile(a)?(b.queue.append(a),b.owner.trigger("fileQueued",a),a):void b.owner.trigger("error","Q_TYPE_DENIED",a):void 0},getFile:function(a){return this.queue.getFile(a)},addFile:function(a){var b=this;a.length||(a=[a]),a=g.map(a,function(a){return b._addFile(a)}),b.owner.trigger("filesQueued",a),b.options.auto&&setTimeout(function(){b.request("start-upload")},20)},getStats:function(){return this.stats},removeFile:function(a,b){var c=this;a=a.id?a:c.queue.getFile(a),this.request("cancel-file",a),b&&this.queue.removeFile(a)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(a,b){var c,d,e,f=this;if(a)return a=a.id?a:f.queue.getFile(a),a.setStatus(i.QUEUED),void(b||f.request("start-upload"));for(c=f.queue.getFiles(i.ERROR),d=0,e=c.length;e>d;d++)a=c[d],a.setStatus(i.QUEUED);f.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new c,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),b("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(a,b){return a.support=function(){return b.hasRuntime.apply(b,arguments)},a.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var a,c,d=this.options.runtimeOrder||b.orders,e=this.type;if(!e)for(d=d.split(/\s*,\s*/g),a=0,c=d.length;c>a;a++)if(b.hasRuntime(d[a])){this.type=e=d[a];break}return e}})}),b("lib/transport",["base","runtime/client","mediator"],function(a,b,c){function d(a){var c=this;a=c.options=e.extend(!0,{},d.options,a||{}),b.call(this,"Transport"),this._blob=null,this._formData=a.formData||{},this._headers=a.headers||{},this.on("progress",this._timeout),this.on("load error",function(){c.trigger("progress",1),clearTimeout(c._timer)})}var e=a.$;return d.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},e.extend(d.prototype,{appendBlob:function(a,b,c){var d=this,e=d.options;d.getRuid()&&d.disconnectRuntime(),d.connectRuntime(b.ruid,function(){d.exec("init")}),d._blob=b,e.fileVal=a||e.fileVal,e.filename=c||e.filename},append:function(a,b){"object"==typeof a?e.extend(this._formData,a):this._formData[a]=b},setRequestHeader:function(a,b){"object"==typeof a?e.extend(this._headers,a):this._headers[a]=b},send:function(a){this.exec("send",a),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var a=this,b=a.options.timeout;b&&(clearTimeout(a._timer),a._timer=setTimeout(function(){a.abort(),a.trigger("error","timeout")},b))}}),c.installTo(d.prototype),d}),b("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(a,b,c,d){function e(a,b){var c,d,e=[],f=a.source,g=f.size,h=b?Math.ceil(g/b):1,i=0,j=0;for(d={file:a,has:function(){return!!e.length},shift:function(){return e.shift()},unshift:function(a){e.unshift(a)}};h>j;)c=Math.min(b,g-i),e.push({file:a,start:i,end:b?i+c:g,total:g,chunks:h,chunk:j++,cuted:d}),i+=c;return a.blocks=e.concat(),a.remaning=e.length,d}var f=a.$,g=a.isPromise,h=c.Status;f.extend(b.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),b.register({name:"upload",init:function(){var b=this.owner,c=this;this.runing=!1,this.progress=!1,b.on("startUpload",function(){c.progress=!0}).on("uploadFinished",function(){c.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=a.bindFn(this._tick,this),b.on("uploadComplete",function(a){a.blocks&&f.each(a.blocks,function(a,b){b.transport&&(b.transport.abort(),b.transport.destroy()),delete b.transport}),delete a.blocks,delete a.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(b){var c=this;if(f.each(c.request("get-files",h.INVALID),function(){c.request("remove-file",this)}),b)if(b=b.id?b:c.request("get-file",b),b.getStatus()===h.INTERRUPT)f.each(c.pool,function(a,c){c.file===b&&c.transport&&c.transport.send()}),b.setStatus(h.QUEUED);else{if(b.getStatus()===h.PROGRESS)return;b.setStatus(h.QUEUED)}else f.each(c.request("get-files",[h.INITED]),function(){this.setStatus(h.QUEUED)});if(!c.runing){c.runing=!0;var d=[];f.each(c.pool,function(a,b){var e=b.file;e.getStatus()===h.INTERRUPT&&(d.push(e),c._trigged=!1,b.transport&&b.transport.send())});for(var b;b=d.shift();)b.setStatus(h.PROGRESS);b||f.each(c.request("get-files",h.INTERRUPT),function(){this.setStatus(h.PROGRESS)}),c._trigged=!1,a.nextTick(c.__tick),c.owner.trigger("startUpload")}},stopUpload:function(b,c){var d=this;if(b===!0&&(c=b,b=null),d.runing!==!1){if(b){if(b=b.id?b:d.request("get-file",b),b.getStatus()!==h.PROGRESS&&b.getStatus()!==h.QUEUED)return;return b.setStatus(h.INTERRUPT),f.each(d.pool,function(a,c){c.file===b&&(c.transport&&c.transport.abort(),d._putback(c),d._popBlock(c))}),a.nextTick(d.__tick)}d.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(h.INTERRUPT),c&&f.each(d.pool,function(a,b){b.transport&&b.transport.abort(),b.file.setStatus(h.INTERRUPT)}),d.owner.trigger("stopUpload")}},cancelFile:function(a){a=a.id?a:this.request("get-file",a),a.blocks&&f.each(a.blocks,function(a,b){var c=b.transport;c&&(c.abort(),c.destroy(),delete b.transport)}),a.setStatus(h.CANCELLED),this.owner.trigger("fileDequeued",a)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(a,b){a=a.id?a:this.request("get-file",a),a.setStatus(b||h.COMPLETE),a.skipped=!0,a.blocks&&f.each(a.blocks,function(a,b){var c=b.transport;c&&(c.abort(),c.destroy(),delete b.transport)}),this.owner.trigger("uploadSkip",a)},_tick:function(){var b,c,d=this,e=d.options;return d._promise?d._promise.always(d.__tick):void(d.pool.length<e.threads&&(c=d._nextBlock())?(d._trigged=!1,b=function(b){d._promise=null,b&&b.file&&d._startSend(b),a.nextTick(d.__tick)},d._promise=g(c)?c.always(b):b(c)):d.remaning||d._getStats().numOfQueue||d._getStats().numofInterrupt||(d.runing=!1,d._trigged||a.nextTick(function(){d.owner.trigger("uploadFinished")}),d._trigged=!0))},_putback:function(a){var b;a.cuted.unshift(a),b=this.stack.indexOf(a.cuted),~b||this.stack.unshift(a.cuted)},_getStack:function(){for(var a,b=0;a=this.stack[b++];){if(a.has()&&a.file.getStatus()===h.PROGRESS)return a;(!a.has()||a.file.getStatus()!==h.PROGRESS&&a.file.getStatus()!==h.INTERRUPT)&&this.stack.splice(--b,1)}return null},_nextBlock:function(){var a,b,c,d,f=this,h=f.options;return(a=this._getStack())?(h.prepareNextFile&&!f.pending.length&&f._prepareNextFile(),a.shift()):f.runing?(!f.pending.length&&f._getStats().numOfQueue&&f._prepareNextFile(),b=f.pending.shift(),c=function(b){return b?(a=e(b,h.chunked?h.chunkSize:0),f.stack.push(a),a.shift()):null},g(b)?(d=b.file,b=b[b.pipe?"pipe":"then"](c),b.file=d,b):c(b)):void 0},_prepareNextFile:function(){var a,b=this,c=b.request("fetch-file"),d=b.pending;c&&(a=b.request("before-send-file",c,function(){return c.getStatus()===h.PROGRESS||c.getStatus()===h.INTERRUPT?c:b._finishFile(c)}),b.owner.trigger("uploadStart",c),c.setStatus(h.PROGRESS),a.file=c,a.done(function(){var b=f.inArray(a,d);~b&&d.splice(b,1,c)}),a.fail(function(a){c.setStatus(h.ERROR,a),b.owner.trigger("uploadError",c,a),b.owner.trigger("uploadComplete",c)}),d.push(a))},_popBlock:function(a){var b=f.inArray(a,this.pool);this.pool.splice(b,1),a.file.remaning--,this.remaning--},_startSend:function(b){var c,d=this,e=b.file;return e.getStatus()!==h.PROGRESS?void(e.getStatus()===h.INTERRUPT&&d._putback(b)):(d.pool.push(b),d.remaning++,b.blob=1===b.chunks?e.source:e.source.slice(b.start,b.end),c=d.request("before-send",b,function(){e.getStatus()===h.PROGRESS?d._doSend(b):(d._popBlock(b),a.nextTick(d.__tick))}),void c.fail(function(){1===e.remaning?d._finishFile(e).always(function(){b.percentage=1,d._popBlock(b),d.owner.trigger("uploadComplete",e),a.nextTick(d.__tick)}):(b.percentage=1,d.updateFileProgress(e),d._popBlock(b),a.nextTick(d.__tick))}))},_doSend:function(b){var c,e,g=this,i=g.owner,j=g.options,k=b.file,l=new d(j),m=f.extend({},j.formData),n=f.extend({},j.headers);b.transport=l,l.on("destroy",function(){delete b.transport,g._popBlock(b),a.nextTick(g.__tick)}),l.on("progress",function(a){b.percentage=a,g.updateFileProgress(k)}),c=function(a){var c;return e=l.getResponseAsJson()||{},e._raw=l.getResponse(),c=function(b){a=b},i.trigger("uploadAccept",b,e,c)||(a=a||"server"),a},l.on("error",function(a,d){b.retried=b.retried||0,b.chunks>1&&~"http,abort".indexOf(a)&&b.retried<j.chunkRetry?(b.retried++,l.send()):(d||"server"!==a||(a=c(a)),k.setStatus(h.ERROR,a),i.trigger("uploadError",k,a),i.trigger("uploadComplete",k))}),l.on("load",function(){var a;return(a=c())?void l.trigger("error",a,!0):void(1===k.remaning?g._finishFile(k,e):l.destroy())}),m=f.extend(m,{id:k.id,name:k.name,type:k.type,lastModifiedDate:k.lastModifiedDate,size:k.size}),b.chunks>1&&f.extend(m,{chunks:b.chunks,chunk:b.chunk}),i.trigger("uploadBeforeSend",b,m,n),l.appendBlob(j.fileVal,b.blob,k.name),l.append(m),l.setRequestHeader(n),l.send()},_finishFile:function(a,b,c){var d=this.owner;return d.request("after-send-file",arguments,function(){a.setStatus(h.COMPLETE),d.trigger("uploadSuccess",a,b,c)}).fail(function(b){a.getStatus()===h.PROGRESS&&a.setStatus(h.ERROR,b),d.trigger("uploadError",a,b)
}).always(function(){d.trigger("uploadComplete",a)})},updateFileProgress:function(a){var b=0,c=0;a.blocks&&(f.each(a.blocks,function(a,b){c+=(b.percentage||0)*(b.end-b.start)}),b=c/a.size,this.owner.trigger("uploadProgress",a,b||0))}})}),b("widgets/validator",["base","uploader","file","widgets/widget"],function(a,b,c){var d,e=a.$,f={};return d={addValidator:function(a,b){f[a]=b},removeValidator:function(a){delete f[a]}},b.register({name:"validator",init:function(){var b=this;a.nextTick(function(){e.each(f,function(){this.call(b.owner)})})}}),d.addValidator("fileNumLimit",function(){var a=this,b=a.options,c=0,d=parseInt(b.fileNumLimit,10),e=!0;d&&(a.on("beforeFileQueued",function(a){return c>=d&&e&&(e=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",d,a),setTimeout(function(){e=!0},1)),c>=d?!1:!0}),a.on("fileQueued",function(){c++}),a.on("fileDequeued",function(){c--}),a.on("reset",function(){c=0}))}),d.addValidator("fileSizeLimit",function(){var a=this,b=a.options,c=0,d=parseInt(b.fileSizeLimit,10),e=!0;d&&(a.on("beforeFileQueued",function(a){var b=c+a.size>d;return b&&e&&(e=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",d,a),setTimeout(function(){e=!0},1)),b?!1:!0}),a.on("fileQueued",function(a){c+=a.size}),a.on("fileDequeued",function(a){c-=a.size}),a.on("reset",function(){c=0}))}),d.addValidator("fileSingleSizeLimit",function(){var a=this,b=a.options,d=b.fileSingleSizeLimit;d&&a.on("beforeFileQueued",function(a){return a.size>d?(a.setStatus(c.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",d,a),!1):void 0})}),d.addValidator("duplicate",function(){function a(a){for(var b,c=0,d=0,e=a.length;e>d;d++)b=a.charCodeAt(d),c=b+(c<<6)+(c<<16)-c;return c}var b=this,c=b.options,d={};c.duplicate||(b.on("beforeFileQueued",function(b){var c=b.__hash||(b.__hash=a(b.name+b.size+b.lastModifiedDate));return d[c]?(this.trigger("error","F_DUPLICATE",b),!1):void 0}),b.on("fileQueued",function(a){var b=a.__hash;b&&(d[b]=!0)}),b.on("fileDequeued",function(a){var b=a.__hash;b&&delete d[b]}),b.on("reset",function(){d={}}))}),d}),b("lib/md5",["runtime/client","mediator"],function(a,b){function c(){a.call(this,"Md5")}return b.installTo(c.prototype),c.prototype.loadFromBlob=function(a){var b=this;b.getRuid()&&b.disconnectRuntime(),b.connectRuntime(a.ruid,function(){b.exec("init"),b.exec("loadFromBlob",a)})},c.prototype.getResult=function(){return this.exec("getResult")},c}),b("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(a,b,c,d){return b.register({name:"md5",md5File:function(b,e,f){var g=new c,h=a.Deferred(),i=b instanceof d?b:this.request("get-file",b).source;return g.on("progress load",function(a){a=a||{},h.notify(a.total?a.loaded/a.total:1)}),g.on("complete",function(){h.resolve(g.getResult())}),g.on("error",function(a){h.reject(a)}),arguments.length>1&&(e=e||0,f=f||0,0>e&&(e=i.size+e),0>f&&(f=i.size+f),f=Math.min(f,i.size),i=i.slice(e,f)),g.loadFromBlob(i),h.promise()}})}),b("runtime/compbase",[],function(){function a(a,b){this.owner=a,this.options=a.options,this.getRuntime=function(){return b},this.getRuid=function(){return b.uid},this.trigger=function(){return a.trigger.apply(a,arguments)}}return a}),b("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(b,c,d){function e(){var a={},d=this,e=this.destroy;c.apply(d,arguments),d.type=f,d.exec=function(c,e){var f,h=this,i=h.uid,j=b.slice(arguments,2);return g[c]&&(f=a[i]=a[i]||new g[c](h,d),f[e])?f[e].apply(f,j):void 0},d.destroy=function(){return e&&e.apply(this,arguments)}}var f="html5",g={};return b.inherits(c,{constructor:e,init:function(){var a=this;setTimeout(function(){a.trigger("ready")},1)}}),e.register=function(a,c){var e=g[a]=b.inherits(d,c);return e},a.Blob&&a.FileReader&&a.DataView&&c.addRuntime(f,e),e}),b("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(a,b){return a.register("Blob",{slice:function(a,c){var d=this.owner.source,e=d.slice||d.webkitSlice||d.mozSlice;return d=e.call(d,a,c),new b(this.getRuid(),d)}})}),b("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(a,b,c){var d=a.$,e="webuploader-dnd-";return b.register("DragAndDrop",{init:function(){var b=this.elem=this.options.container;this.dragEnterHandler=a.bindFn(this._dragEnterHandler,this),this.dragOverHandler=a.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=a.bindFn(this._dragLeaveHandler,this),this.dropHandler=a.bindFn(this._dropHandler,this),this.dndOver=!1,b.on("dragenter",this.dragEnterHandler),b.on("dragover",this.dragOverHandler),b.on("dragleave",this.dragLeaveHandler),b.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(d(document).on("dragover",this.dragOverHandler),d(document).on("drop",this.dropHandler))},_dragEnterHandler:function(a){var b,c=this,d=c._denied||!1;return a=a.originalEvent||a,c.dndOver||(c.dndOver=!0,b=a.dataTransfer.items,b&&b.length&&(c._denied=d=!c.trigger("accept",b)),c.elem.addClass(e+"over"),c.elem[d?"addClass":"removeClass"](e+"denied")),a.dataTransfer.dropEffect=d?"none":"copy",!1},_dragOverHandler:function(a){var b=this.elem.parent().get(0);return b&&!d.contains(b,a.currentTarget)?!1:(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,a),!1)},_dragLeaveHandler:function(){var a,b=this;return a=function(){b.dndOver=!1,b.elem.removeClass(e+"over "+e+"denied")},clearTimeout(b._leaveTimer),b._leaveTimer=setTimeout(a,100),!1},_dropHandler:function(a){var b,f,g=this,h=g.getRuid(),i=g.elem.parent().get(0);if(i&&!d.contains(i,a.currentTarget))return!1;a=a.originalEvent||a,b=a.dataTransfer;try{f=b.getData("text/html")}catch(j){}return f?void 0:(g._getTansferFiles(b,function(a){g.trigger("drop",d.map(a,function(a){return new c(h,a)}))}),g.dndOver=!1,g.elem.removeClass(e+"over"),!1)},_getTansferFiles:function(b,c){var d,e,f,g,h,i,j,k=[],l=[];for(d=b.items,e=b.files,j=!(!d||!d[0].webkitGetAsEntry),h=0,i=e.length;i>h;h++)f=e[h],g=d&&d[h],j&&g.webkitGetAsEntry().isDirectory?l.push(this._traverseDirectoryTree(g.webkitGetAsEntry(),k)):k.push(f);a.when.apply(a,l).done(function(){k.length&&c(k)})},_traverseDirectoryTree:function(b,c){var d=a.Deferred(),e=this;return b.isFile?b.file(function(a){c.push(a),d.resolve()}):b.isDirectory&&b.createReader().readEntries(function(b){var f,g=b.length,h=[],i=[];for(f=0;g>f;f++)h.push(e._traverseDirectoryTree(b[f],i));a.when.apply(a,h).then(function(){c.push.apply(c,i),d.resolve()},d.reject)}),d.promise()},destroy:function(){var a=this.elem;a&&(a.off("dragenter",this.dragEnterHandler),a.off("dragover",this.dragOverHandler),a.off("dragleave",this.dragLeaveHandler),a.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(d(document).off("dragover",this.dragOverHandler),d(document).off("drop",this.dropHandler)))}})}),b("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(a,b,c){return b.register("FilePaste",{init:function(){var b,c,d,e,f=this.options,g=this.elem=f.container,h=".*";if(f.accept){for(b=[],c=0,d=f.accept.length;d>c;c++)e=f.accept[c].mimeTypes,e&&b.push(e);b.length&&(h=b.join(","),h=h.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=h=new RegExp(h,"i"),this.hander=a.bindFn(this._pasteHander,this),g.on("paste",this.hander)},_pasteHander:function(a){var b,d,e,f,g,h=[],i=this.getRuid();for(a=a.originalEvent||a,b=a.clipboardData.items,f=0,g=b.length;g>f;f++)d=b[f],"file"===d.kind&&(e=d.getAsFile())&&h.push(new c(i,e));h.length&&(a.preventDefault(),a.stopPropagation(),this.trigger("paste",h))},destroy:function(){this.elem.off("paste",this.hander)}})}),b("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(a,b){var c=a.$;return b.register("FilePicker",{init:function(){var a,b,d,e,f=this.getRuntime().getContainer(),g=this,h=g.owner,i=g.options,j=this.label=c(document.createElement("label")),k=this.input=c(document.createElement("input"));if(k.attr("type","file"),k.attr("name",i.name),k.addClass("webuploader-element-invisible"),j.on("click",function(){k.trigger("click")}),j.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),i.multiple&&k.attr("multiple","multiple"),i.accept&&i.accept.length>0){for(a=[],b=0,d=i.accept.length;d>b;b++)a.push(i.accept[b].mimeTypes);k.attr("accept",a.join(","))}f.append(k),f.append(j),e=function(a){h.trigger(a.type)},k.on("change",function(a){var b,d=arguments.callee;g.files=a.target.files,b=this.cloneNode(!0),b.value=null,this.parentNode.replaceChild(b,this),k.off(),k=c(b).on("change",d).on("mouseenter mouseleave",e),h.trigger("change")}),j.on("mouseenter mouseleave",e)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),b("runtime/html5/util",["base"],function(b){var c=a.createObjectURL&&a||a.URL&&URL.revokeObjectURL&&URL||a.webkitURL,d=b.noop,e=d;return c&&(d=function(){return c.createObjectURL.apply(c,arguments)},e=function(){return c.revokeObjectURL.apply(c,arguments)}),{createObjectURL:d,revokeObjectURL:e,dataURL2Blob:function(a){var b,c,d,e,f,g;for(g=a.split(","),b=~g[0].indexOf("base64")?atob(g[1]):decodeURIComponent(g[1]),d=new ArrayBuffer(b.length),c=new Uint8Array(d),e=0;e<b.length;e++)c[e]=b.charCodeAt(e);return f=g[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(d,f)},dataURL2ArrayBuffer:function(a){var b,c,d,e;for(e=a.split(","),b=~e[0].indexOf("base64")?atob(e[1]):decodeURIComponent(e[1]),c=new Uint8Array(b.length),d=0;d<b.length;d++)c[d]=b.charCodeAt(d);return c.buffer},arrayBufferToBlob:function(b,c){var d,e=a.BlobBuilder||a.WebKitBlobBuilder;return e?(d=new e,d.append(b),d.getBlob(c)):new Blob([b],c?{type:c}:{})},canvasToDataUrl:function(a,b,c){return a.toDataURL(b,c/100)},parseMeta:function(a,b){b(!1,{})},updateImageHead:function(a){return a}}}),b("runtime/html5/imagemeta",["runtime/html5/util"],function(a){var b;return b={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(a,b){var c=this,d=new FileReader;d.onload=function(){b(!1,c._parse(this.result)),d=d.onload=d.onerror=null},d.onerror=function(a){b(a.message),d=d.onload=d.onerror=null},a=a.slice(0,c.maxMetaDataSize),d.readAsArrayBuffer(a.getSource())},_parse:function(a,c){if(!(a.byteLength<6)){var d,e,f,g,h=new DataView(a),i=2,j=h.byteLength-4,k=i,l={};if(65496===h.getUint16(0)){for(;j>i&&(d=h.getUint16(i),d>=65504&&65519>=d||65534===d)&&(e=h.getUint16(i+2)+2,!(i+e>h.byteLength));){if(f=b.parsers[d],!c&&f)for(g=0;g<f.length;g+=1)f[g].call(b,h,i,e,l);i+=e,k=i}k>6&&(l.imageHead=a.slice?a.slice(2,k):new Uint8Array(a).subarray(2,k))}return l}},updateImageHead:function(a,b){var c,d,e,f=this._parse(a,!0);return e=2,f.imageHead&&(e=2+f.imageHead.byteLength),d=a.slice?a.slice(e):new Uint8Array(a).subarray(e),c=new Uint8Array(b.byteLength+2+d.byteLength),c[0]=255,c[1]=216,c.set(new Uint8Array(b),2),c.set(new Uint8Array(d),b.byteLength+2),c.buffer}},a.parseMeta=function(){return b.parse.apply(b,arguments)},a.updateImageHead=function(){return b.updateImageHead.apply(b,arguments)},b}),b("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(a,b){var c={};return c.ExifMap=function(){return this},c.ExifMap.prototype.map={Orientation:274},c.ExifMap.prototype.get=function(a){return this[a]||this[this.map[a]]},c.exifTagTypes={1:{getValue:function(a,b){return a.getUint8(b)},size:1},2:{getValue:function(a,b){return String.fromCharCode(a.getUint8(b))},size:1,ascii:!0},3:{getValue:function(a,b,c){return a.getUint16(b,c)},size:2},4:{getValue:function(a,b,c){return a.getUint32(b,c)},size:4},5:{getValue:function(a,b,c){return a.getUint32(b,c)/a.getUint32(b+4,c)},size:8},9:{getValue:function(a,b,c){return a.getInt32(b,c)},size:4},10:{getValue:function(a,b,c){return a.getInt32(b,c)/a.getInt32(b+4,c)},size:8}},c.exifTagTypes[7]=c.exifTagTypes[1],c.getExifValue=function(b,d,e,f,g,h){var i,j,k,l,m,n,o=c.exifTagTypes[f];if(!o)return void a.log("Invalid Exif data: Invalid tag type.");if(i=o.size*g,j=i>4?d+b.getUint32(e+8,h):e+8,j+i>b.byteLength)return void a.log("Invalid Exif data: Invalid data offset.");if(1===g)return o.getValue(b,j,h);for(k=[],l=0;g>l;l+=1)k[l]=o.getValue(b,j+l*o.size,h);if(o.ascii){for(m="",l=0;l<k.length&&(n=k[l],"\x00"!==n);l+=1)m+=n;return m}return k},c.parseExifTag=function(a,b,d,e,f){var g=a.getUint16(d,e);f.exif[g]=c.getExifValue(a,b,d,a.getUint16(d+2,e),a.getUint32(d+4,e),e)},c.parseExifTags=function(b,c,d,e,f){var g,h,i;if(d+6>b.byteLength)return void a.log("Invalid Exif data: Invalid directory offset.");if(g=b.getUint16(d,e),h=d+2+12*g,h+4>b.byteLength)return void a.log("Invalid Exif data: Invalid directory size.");for(i=0;g>i;i+=1)this.parseExifTag(b,c,d+2+12*i,e,f);return b.getUint32(h,e)},c.parseExifData=function(b,d,e,f){var g,h,i=d+10;if(1165519206===b.getUint32(d+4)){if(i+8>b.byteLength)return void a.log("Invalid Exif data: Invalid segment size.");if(0!==b.getUint16(d+8))return void a.log("Invalid Exif data: Missing byte alignment offset.");switch(b.getUint16(i)){case 18761:g=!0;break;case 19789:g=!1;break;default:return void a.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==b.getUint16(i+2,g))return void a.log("Invalid Exif data: Missing TIFF marker.");h=b.getUint32(i+4,g),f.exif=new c.ExifMap,h=c.parseExifTags(b,i,i+h,g,f)}},b.parsers[65505].push(c.parseExifData),c}),b("runtime/html5/jpegencoder",[],function(){function a(a){function b(a){for(var b=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],c=0;64>c;c++){var d=y((b[c]*a+50)/100);1>d?d=1:d>255&&(d=255),z[P[c]]=d}for(var e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],f=0;64>f;f++){var g=y((e[f]*a+50)/100);1>g?g=1:g>255&&(g=255),A[P[f]]=g}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],i=0,j=0;8>j;j++)for(var k=0;8>k;k++)B[i]=1/(z[P[i]]*h[j]*h[k]*8),C[i]=1/(A[P[i]]*h[j]*h[k]*8),i++}function c(a,b){for(var c=0,d=0,e=new Array,f=1;16>=f;f++){for(var g=1;g<=a[f];g++)e[b[d]]=[],e[b[d]][0]=c,e[b[d]][1]=f,d++,c++;c*=2}return e}function d(){t=c(Q,R),u=c(U,V),v=c(S,T),w=c(W,X)}function e(){for(var a=1,b=2,c=1;15>=c;c++){for(var d=a;b>d;d++)E[32767+d]=c,D[32767+d]=[],D[32767+d][1]=c,D[32767+d][0]=d;for(var e=-(b-1);-a>=e;e++)E[32767+e]=c,D[32767+e]=[],D[32767+e][1]=c,D[32767+e][0]=b-1+e;a<<=1,b<<=1}}function f(){for(var a=0;256>a;a++)O[a]=19595*a,O[a+256>>0]=38470*a,O[a+512>>0]=7471*a+32768,O[a+768>>0]=-11059*a,O[a+1024>>0]=-21709*a,O[a+1280>>0]=32768*a+8421375,O[a+1536>>0]=-27439*a,O[a+1792>>0]=-5329*a}function g(a){for(var b=a[0],c=a[1]-1;c>=0;)b&1<<c&&(I|=1<<J),c--,J--,0>J&&(255==I?(h(255),h(0)):h(I),J=7,I=0)}function h(a){H.push(N[a])}function i(a){h(a>>8&255),h(255&a)}function j(a,b){var c,d,e,f,g,h,i,j,k,l=0,m=8,n=64;for(k=0;m>k;++k){c=a[l],d=a[l+1],e=a[l+2],f=a[l+3],g=a[l+4],h=a[l+5],i=a[l+6],j=a[l+7];var o=c+j,p=c-j,q=d+i,r=d-i,s=e+h,t=e-h,u=f+g,v=f-g,w=o+u,x=o-u,y=q+s,z=q-s;a[l]=w+y,a[l+4]=w-y;var A=.707106781*(z+x);a[l+2]=x+A,a[l+6]=x-A,w=v+t,y=t+r,z=r+p;var B=.382683433*(w-z),C=.5411961*w+B,D=1.306562965*z+B,E=.707106781*y,G=p+E,H=p-E;a[l+5]=H+C,a[l+3]=H-C,a[l+1]=G+D,a[l+7]=G-D,l+=8}for(l=0,k=0;m>k;++k){c=a[l],d=a[l+8],e=a[l+16],f=a[l+24],g=a[l+32],h=a[l+40],i=a[l+48],j=a[l+56];var I=c+j,J=c-j,K=d+i,L=d-i,M=e+h,N=e-h,O=f+g,P=f-g,Q=I+O,R=I-O,S=K+M,T=K-M;a[l]=Q+S,a[l+32]=Q-S;var U=.707106781*(T+R);a[l+16]=R+U,a[l+48]=R-U,Q=P+N,S=N+L,T=L+J;var V=.382683433*(Q-T),W=.5411961*Q+V,X=1.306562965*T+V,Y=.707106781*S,Z=J+Y,$=J-Y;a[l+40]=$+W,a[l+24]=$-W,a[l+8]=Z+X,a[l+56]=Z-X,l++}var _;for(k=0;n>k;++k)_=a[k]*b[k],F[k]=_>0?_+.5|0:_-.5|0;return F}function k(){i(65504),i(16),h(74),h(70),h(73),h(70),h(0),h(1),h(1),h(0),i(1),i(1),h(0),h(0)}function l(a,b){i(65472),i(17),h(8),i(b),i(a),h(3),h(1),h(17),h(0),h(2),h(17),h(1),h(3),h(17),h(1)}function m(){i(65499),i(132),h(0);for(var a=0;64>a;a++)h(z[a]);h(1);for(var b=0;64>b;b++)h(A[b])}function n(){i(65476),i(418),h(0);for(var a=0;16>a;a++)h(Q[a+1]);for(var b=0;11>=b;b++)h(R[b]);h(16);for(var c=0;16>c;c++)h(S[c+1]);for(var d=0;161>=d;d++)h(T[d]);h(1);for(var e=0;16>e;e++)h(U[e+1]);for(var f=0;11>=f;f++)h(V[f]);h(17);for(var g=0;16>g;g++)h(W[g+1]);for(var j=0;161>=j;j++)h(X[j])}function o(){i(65498),i(12),h(3),h(1),h(0),h(2),h(17),h(3),h(17),h(0),h(63),h(0)}function p(a,b,c,d,e){for(var f,h=e[0],i=e[240],k=16,l=63,m=64,n=j(a,b),o=0;m>o;++o)G[P[o]]=n[o];var p=G[0]-c;c=G[0],0==p?g(d[0]):(f=32767+p,g(d[E[f]]),g(D[f]));for(var q=63;q>0&&0==G[q];q--);if(0==q)return g(h),c;for(var r,s=1;q>=s;){for(var t=s;0==G[s]&&q>=s;++s);var u=s-t;if(u>=k){r=u>>4;for(var v=1;r>=v;++v)g(i);u=15&u}f=32767+G[s],g(e[(u<<4)+E[f]]),g(D[f]),s++}return q!=l&&g(h),c}function q(){for(var a=String.fromCharCode,b=0;256>b;b++)N[b]=a(b)}function r(a){if(0>=a&&(a=1),a>100&&(a=100),x!=a){var c=0;c=Math.floor(50>a?5e3/a:200-2*a),b(c),x=a}}function s(){a||(a=50),q(),d(),e(),f(),r(a)}var t,u,v,w,x,y=(Math.round,Math.floor),z=new Array(64),A=new Array(64),B=new Array(64),C=new Array(64),D=new Array(65535),E=new Array(65535),F=new Array(64),G=new Array(64),H=[],I=0,J=7,K=new Array(64),L=new Array(64),M=new Array(64),N=new Array(256),O=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(a,b){b&&r(b),H=new Array,I=0,J=7,i(65496),k(),m(),l(a.width,a.height),n(),o();var c=0,d=0,e=0;I=0,J=7,this.encode.displayName="_encode_";for(var f,h,j,q,s,x,y,z,A,D=a.data,E=a.width,F=a.height,G=4*E,N=0;F>N;){for(f=0;G>f;){for(s=G*N+f,x=s,y=-1,z=0,A=0;64>A;A++)z=A>>3,y=4*(7&A),x=s+z*G+y,N+z>=F&&(x-=G*(N+1+z-F)),f+y>=G&&(x-=f+y-G+4),h=D[x++],j=D[x++],q=D[x++],K[A]=(O[h]+O[j+256>>0]+O[q+512>>0]>>16)-128,L[A]=(O[h+768>>0]+O[j+1024>>0]+O[q+1280>>0]>>16)-128,M[A]=(O[h+1280>>0]+O[j+1536>>0]+O[q+1792>>0]>>16)-128;c=p(K,B,c,t,v),d=p(L,C,d,u,w),e=p(M,C,e,u,w),f+=32}N+=8}if(J>=0){var P=[];P[1]=J+1,P[0]=(1<<J+1)-1,g(P)}i(65497);var Q="data:image/jpeg;base64,"+btoa(H.join(""));return H=[],Q},s()}return a.encode=function(b,c){var d=new a(c);return d.encode(b)},a}),b("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(a,b,c){var d,e=a.canvasToDataUrl;a.canvasToDataUrl=function(a,f,g){var h,i,j,k,l;return c.os.android?("image/jpeg"===f&&"undefined"==typeof d&&(k=e.apply(null,arguments),l=k.split(","),k=~l[0].indexOf("base64")?atob(l[1]):decodeURIComponent(l[1]),k=k.substring(0,2),d=255===k.charCodeAt(0)&&216===k.charCodeAt(1)),"image/jpeg"!==f||d?e.apply(null,arguments):(i=a.width,j=a.height,h=a.getContext("2d"),b.encode(h.getImageData(0,0,i,j),g))):e.apply(null,arguments)}}),b("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(a,b,c){var d="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";return b.register("Image",{modified:!1,init:function(){var a=this,b=new Image;b.onload=function(){a._info={type:a.type,width:this.width,height:this.height},a._metas||"image/jpeg"!==a.type?a.owner.trigger("load"):c.parseMeta(a._blob,function(b,c){a._metas=c,a.owner.trigger("load")})},b.onerror=function(){a.owner.trigger("error")},a._img=b},loadFromBlob:function(a){var b=this,d=b._img;b._blob=a,b.type=a.type,d.src=c.createObjectURL(a.getSource()),b.owner.once("load",function(){c.revokeObjectURL(d.src)})},resize:function(a,b){var c=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,c,a,b),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(a,b,c,d,e){var f=this._canvas||(this._canvas=document.createElement("canvas")),g=this.options,h=this._img,i=h.naturalWidth,j=h.naturalHeight,k=this.getOrientation();e=e||1,f.width=c,f.height=d,g.preserveHeaders||this._rotate2Orientaion(f,k),this._renderImageToCanvas(f,h,-a,-b,i*e,j*e),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(a){var b,d=this._blob,e=this.options;if(a=a||this.type,this.modified||this.type!==a){if(b=this._canvas,"image/jpeg"===a){if(d=c.canvasToDataUrl(b,a,e.quality),e.preserveHeaders&&this._metas&&this._metas.imageHead)return d=c.dataURL2ArrayBuffer(d),d=c.updateImageHead(d,this._metas.imageHead),d=c.arrayBufferToBlob(d,a)}else d=c.canvasToDataUrl(b,a);d=c.dataURL2Blob(d)}return d},getAsDataUrl:function(a){var b=this.options;return a=a||this.type,"image/jpeg"===a?c.canvasToDataUrl(this._canvas,a,b.quality):this._canvas.toDataURL(a)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(a){return a?(this._info=a,this):this._info},meta:function(a){return a?(this._meta=a,this):this._meta},destroy:function(){var a=this._canvas;this._img.onload=null,a&&(a.getContext("2d").clearRect(0,0,a.width,a.height),a.width=a.height=0,this._canvas=null),this._img.src=d,this._img=this._blob=null},_resize:function(a,b,c,d){var e,f,g,h,i,j=this.options,k=a.width,l=a.height,m=this.getOrientation();~[5,6,7,8].indexOf(m)&&(c^=d,d^=c,c^=d),e=Math[j.crop?"max":"min"](c/k,d/l),j.allowMagnify||(e=Math.min(1,e)),f=k*e,g=l*e,j.crop?(b.width=c,b.height=d):(b.width=f,b.height=g),h=(b.width-f)/2,i=(b.height-g)/2,j.preserveHeaders||this._rotate2Orientaion(b,m),this._renderImageToCanvas(b,a,h,i,f,g)},_rotate2Orientaion:function(a,b){var c=a.width,d=a.height,e=a.getContext("2d");switch(b){case 5:case 6:case 7:case 8:a.width=d,a.height=c}switch(b){case 2:e.translate(c,0),e.scale(-1,1);break;case 3:e.translate(c,d),e.rotate(Math.PI);break;case 4:e.translate(0,d),e.scale(1,-1);break;case 5:e.rotate(.5*Math.PI),e.scale(1,-1);break;case 6:e.rotate(.5*Math.PI),e.translate(0,-d);break;case 7:e.rotate(.5*Math.PI),e.translate(c,-d),e.scale(-1,1);break;case 8:e.rotate(-.5*Math.PI),e.translate(-c,0)}},_renderImageToCanvas:function(){function b(a,b,c){var d,e,f,g=document.createElement("canvas"),h=g.getContext("2d"),i=0,j=c,k=c;for(g.width=1,g.height=c,h.drawImage(a,0,0),d=h.getImageData(0,0,1,c).data;k>i;)e=d[4*(k-1)+3],0===e?j=k:i=k,k=j+i>>1;return f=k/c,0===f?1:f}function c(a){var b,c,d=a.naturalWidth,e=a.naturalHeight;return d*e>1048576?(b=document.createElement("canvas"),b.width=b.height=1,c=b.getContext("2d"),c.drawImage(a,-d+1,0),0===c.getImageData(0,0,1,1).data[3]):!1}return a.os.ios?a.os.ios>=7?function(a,c,d,e,f,g){var h=c.naturalWidth,i=c.naturalHeight,j=b(c,h,i);return a.getContext("2d").drawImage(c,0,0,h*j,i*j,d,e,f,g)}:function(a,d,e,f,g,h){var i,j,k,l,m,n,o,p=d.naturalWidth,q=d.naturalHeight,r=a.getContext("2d"),s=c(d),t="image/jpeg"===this.type,u=1024,v=0,w=0;for(s&&(p/=2,q/=2),r.save(),i=document.createElement("canvas"),i.width=i.height=u,j=i.getContext("2d"),k=t?b(d,p,q):1,l=Math.ceil(u*g/p),m=Math.ceil(u*h/q/k);q>v;){for(n=0,o=0;p>n;)j.clearRect(0,0,u,u),j.drawImage(d,-n,-v),r.drawImage(i,0,0,u,u,e+o,f+w,l,m),n+=u,o+=l;v+=u,w+=m}r.restore(),i=j=null}:function(b){var c=a.slice(arguments,1),d=b.getContext("2d");d.drawImage.apply(d,c)}}()})}),b("runtime/html5/transport",["base","runtime/html5/runtime"],function(a,b){var c=a.noop,d=a.$;return b.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var b,c,e,f=this.owner,g=this.options,h=this._initAjax(),i=f._blob,j=g.server;g.sendAsBinary?(j+=(/\?/.test(j)?"&":"?")+d.param(f._formData),c=i.getSource()):(b=new FormData,d.each(f._formData,function(a,c){b.append(a,c)}),b.append(g.fileVal,i.getSource(),g.filename||f._formData.name||"")),g.withCredentials&&"withCredentials"in h?(h.open(g.method,j,!0),h.withCredentials=!0):h.open(g.method,j),this._setRequestHeader(h,g.headers),c?(h.overrideMimeType&&h.overrideMimeType("application/octet-stream"),a.os.android?(e=new FileReader,e.onload=function(){h.send(this.result),e=e.onload=null},e.readAsArrayBuffer(c)):h.send(c)):h.send(b)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var a=this._xhr;a&&(a.upload.onprogress=c,a.onreadystatechange=c,a.abort(),this._xhr=a=null)},destroy:function(){this.abort()},_initAjax:function(){var a=this,b=new XMLHttpRequest,d=this.options;return!d.withCredentials||"withCredentials"in b||"undefined"==typeof XDomainRequest||(b=new XDomainRequest),b.upload.onprogress=function(b){var c=0;return b.lengthComputable&&(c=b.loaded/b.total),a.trigger("progress",c)},b.onreadystatechange=function(){return 4===b.readyState?(b.upload.onprogress=c,b.onreadystatechange=c,a._xhr=null,a._status=b.status,b.status>=200&&b.status<300?(a._response=b.responseText,a.trigger("load")):b.status>=500&&b.status<600?(a._response=b.responseText,a.trigger("error","server")):a.trigger("error",a._status?"http":"abort")):void 0},a._xhr=b,b},_setRequestHeader:function(a,b){d.each(b,function(b,c){a.setRequestHeader(b,c)})},_parseJson:function(a){var b;try{b=JSON.parse(a)}catch(c){b={}}return b}})}),b("runtime/html5/md5",["runtime/html5/runtime"],function(a){var b=function(a,b){return a+b&4294967295},c=function(a,c,d,e,f,g){return c=b(b(c,a),b(e,g)),b(c<<f|c>>>32-f,d)},d=function(a,b,d,e,f,g,h){return c(b&d|~b&e,a,b,f,g,h)},e=function(a,b,d,e,f,g,h){return c(b&e|d&~e,a,b,f,g,h)},f=function(a,b,d,e,f,g,h){return c(b^d^e,a,b,f,g,h)},g=function(a,b,d,e,f,g,h){return c(d^(b|~e),a,b,f,g,h)},h=function(a,c){var h=a[0],i=a[1],j=a[2],k=a[3];h=d(h,i,j,k,c[0],7,-680876936),k=d(k,h,i,j,c[1],12,-389564586),j=d(j,k,h,i,c[2],17,606105819),i=d(i,j,k,h,c[3],22,-1044525330),h=d(h,i,j,k,c[4],7,-176418897),k=d(k,h,i,j,c[5],12,1200080426),j=d(j,k,h,i,c[6],17,-1473231341),i=d(i,j,k,h,c[7],22,-45705983),h=d(h,i,j,k,c[8],7,1770035416),k=d(k,h,i,j,c[9],12,-1958414417),j=d(j,k,h,i,c[10],17,-42063),i=d(i,j,k,h,c[11],22,-1990404162),h=d(h,i,j,k,c[12],7,1804603682),k=d(k,h,i,j,c[13],12,-40341101),j=d(j,k,h,i,c[14],17,-1502002290),i=d(i,j,k,h,c[15],22,1236535329),h=e(h,i,j,k,c[1],5,-165796510),k=e(k,h,i,j,c[6],9,-1069501632),j=e(j,k,h,i,c[11],14,643717713),i=e(i,j,k,h,c[0],20,-373897302),h=e(h,i,j,k,c[5],5,-701558691),k=e(k,h,i,j,c[10],9,38016083),j=e(j,k,h,i,c[15],14,-660478335),i=e(i,j,k,h,c[4],20,-405537848),h=e(h,i,j,k,c[9],5,568446438),k=e(k,h,i,j,c[14],9,-1019803690),j=e(j,k,h,i,c[3],14,-187363961),i=e(i,j,k,h,c[8],20,1163531501),h=e(h,i,j,k,c[13],5,-1444681467),k=e(k,h,i,j,c[2],9,-51403784),j=e(j,k,h,i,c[7],14,1735328473),i=e(i,j,k,h,c[12],20,-1926607734),h=f(h,i,j,k,c[5],4,-378558),k=f(k,h,i,j,c[8],11,-2022574463),j=f(j,k,h,i,c[11],16,1839030562),i=f(i,j,k,h,c[14],23,-35309556),h=f(h,i,j,k,c[1],4,-1530992060),k=f(k,h,i,j,c[4],11,1272893353),j=f(j,k,h,i,c[7],16,-155497632),i=f(i,j,k,h,c[10],23,-1094730640),h=f(h,i,j,k,c[13],4,681279174),k=f(k,h,i,j,c[0],11,-358537222),j=f(j,k,h,i,c[3],16,-722521979),i=f(i,j,k,h,c[6],23,76029189),h=f(h,i,j,k,c[9],4,-640364487),k=f(k,h,i,j,c[12],11,-421815835),j=f(j,k,h,i,c[15],16,530742520),i=f(i,j,k,h,c[2],23,-995338651),h=g(h,i,j,k,c[0],6,-198630844),k=g(k,h,i,j,c[7],10,1126891415),j=g(j,k,h,i,c[14],15,-1416354905),i=g(i,j,k,h,c[5],21,-57434055),h=g(h,i,j,k,c[12],6,1700485571),k=g(k,h,i,j,c[3],10,-1894986606),j=g(j,k,h,i,c[10],15,-1051523),i=g(i,j,k,h,c[1],21,-2054922799),h=g(h,i,j,k,c[8],6,1873313359),k=g(k,h,i,j,c[15],10,-30611744),j=g(j,k,h,i,c[6],15,-1560198380),i=g(i,j,k,h,c[13],21,1309151649),h=g(h,i,j,k,c[4],6,-145523070),k=g(k,h,i,j,c[11],10,-1120210379),j=g(j,k,h,i,c[2],15,718787259),i=g(i,j,k,h,c[9],21,-343485551),a[0]=b(h,a[0]),a[1]=b(i,a[1]),a[2]=b(j,a[2]),a[3]=b(k,a[3])},i=function(a){var b,c=[];for(b=0;64>b;b+=4)c[b>>2]=a.charCodeAt(b)+(a.charCodeAt(b+1)<<8)+(a.charCodeAt(b+2)<<16)+(a.charCodeAt(b+3)<<24);return c},j=function(a){var b,c=[];for(b=0;64>b;b+=4)c[b>>2]=a[b]+(a[b+1]<<8)+(a[b+2]<<16)+(a[b+3]<<24);return c},k=function(a){var b,c,d,e,f,g,j=a.length,k=[1732584193,-271733879,-1732584194,271733878];for(b=64;j>=b;b+=64)h(k,i(a.substring(b-64,b)));for(a=a.substring(b-64),c=a.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0;c>b;b+=1)d[b>>2]|=a.charCodeAt(b)<<(b%4<<3);if(d[b>>2]|=128<<(b%4<<3),b>55)for(h(k,d),b=0;16>b;b+=1)d[b]=0;return e=8*j,e=e.toString(16).match(/(.*?)(.{0,8})$/),f=parseInt(e[2],16),g=parseInt(e[1],16)||0,d[14]=f,d[15]=g,h(k,d),k},l=function(a){var b,c,d,e,f,g,i=a.length,k=[1732584193,-271733879,-1732584194,271733878];for(b=64;i>=b;b+=64)h(k,j(a.subarray(b-64,b)));for(a=i>b-64?a.subarray(b-64):new Uint8Array(0),c=a.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0;c>b;b+=1)d[b>>2]|=a[b]<<(b%4<<3);if(d[b>>2]|=128<<(b%4<<3),b>55)for(h(k,d),b=0;16>b;b+=1)d[b]=0;return e=8*i,e=e.toString(16).match(/(.*?)(.{0,8})$/),f=parseInt(e[2],16),g=parseInt(e[1],16)||0,d[14]=f,d[15]=g,h(k,d),k},m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=function(a){var b,c="";for(b=0;4>b;b+=1)c+=m[a>>8*b+4&15]+m[a>>8*b&15];return c},o=function(a){var b;for(b=0;b<a.length;b+=1)a[b]=n(a[b]);return a.join("")},p=function(a){return o(k(a))},q=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==p("hello")&&(b=function(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}),q.prototype.append=function(a){return/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a))),this.appendBinary(a),this},q.prototype.appendBinary=function(a){this._buff+=a,this._length+=a.length;var b,c=this._buff.length;for(b=64;c>=b;b+=64)h(this._state,i(this._buff.substring(b-64,b)));return this._buff=this._buff.substr(b-64),this},q.prototype.end=function(a){var b,c,d=this._buff,e=d.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;e>b;b+=1)f[b>>2]|=d.charCodeAt(b)<<(b%4<<3);return this._finish(f,e),c=a?this._state:o(this._state),this.reset(),c},q.prototype._finish=function(a,b){var c,d,e,f=b;if(a[f>>2]|=128<<(f%4<<3),f>55)for(h(this._state,a),f=0;16>f;f+=1)a[f]=0;c=8*this._length,c=c.toString(16).match(/(.*?)(.{0,8})$/),d=parseInt(c[2],16),e=parseInt(c[1],16)||0,a[14]=d,a[15]=e,h(this._state,a)},q.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},q.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},q.hash=function(a,b){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));var c=k(a);return b?c:o(c)},q.hashBinary=function(a,b){var c=k(a);return b?c:o(c)},q.ArrayBuffer=function(){this.reset()},q.ArrayBuffer.prototype.append=function(a){var b,c=this._concatArrayBuffer(this._buff,a),d=c.length;for(this._length+=a.byteLength,b=64;d>=b;b+=64)h(this._state,j(c.subarray(b-64,b)));return this._buff=d>b-64?c.subarray(b-64):new Uint8Array(0),this},q.ArrayBuffer.prototype.end=function(a){var b,c,d=this._buff,e=d.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
for(b=0;e>b;b+=1)f[b>>2]|=d[b]<<(b%4<<3);return this._finish(f,e),c=a?this._state:o(this._state),this.reset(),c},q.ArrayBuffer.prototype._finish=q.prototype._finish,q.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},q.ArrayBuffer.prototype.destroy=q.prototype.destroy,q.ArrayBuffer.prototype._concatArrayBuffer=function(a,b){var c=a.length,d=new Uint8Array(c+b.byteLength);return d.set(a),d.set(new Uint8Array(b),c),d},q.ArrayBuffer.hash=function(a,b){var c=l(new Uint8Array(a));return b?c:o(c)},a.register("Md5",{init:function(){},loadFromBlob:function(a){var b,c,d=a.getSource(),e=2097152,f=Math.ceil(d.size/e),g=0,h=this.owner,i=new q.ArrayBuffer,j=this,k=d.mozSlice||d.webkitSlice||d.slice;c=new FileReader,(b=function(){var l,m;l=g*e,m=Math.min(l+e,d.size),c.onload=function(b){i.append(b.target.result),h.trigger("progress",{total:a.size,loaded:m})},c.onloadend=function(){c.onloadend=c.onload=null,++g<f?setTimeout(b,1):setTimeout(function(){h.trigger("load"),j.result=i.end(),b=a=d=i=null,h.trigger("complete")},50)},c.readAsArrayBuffer(k.call(d,l,m))})()},getResult:function(){return this.result}})}),b("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(b,c,d){function e(){var a;try{a=navigator.plugins["Shockwave Flash"],a=a.description}catch(b){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(c){a="0.0"}}return a=a.match(/\d+/g),parseFloat(a[0]+"."+a[1],10)}function f(){function d(a,b){var c,d,e=a.type||a;c=e.split("::"),d=c[0],e=c[1],"Ready"===e&&d===j.uid?j.trigger("ready"):f[d]&&f[d].trigger(e.toLowerCase(),a,b)}var e={},f={},g=this.destroy,j=this,k=b.guid("webuploader_");c.apply(j,arguments),j.type=h,j.exec=function(a,c){var d,g=this,h=g.uid,k=b.slice(arguments,2);return f[h]=g,i[a]&&(e[h]||(e[h]=new i[a](g,j)),d=e[h],d[c])?d[c].apply(d,k):j.flashExec.apply(g,arguments)},a[k]=function(){var a=arguments;setTimeout(function(){d.apply(null,a)},1)},this.jsreciver=k,this.destroy=function(){return g&&g.apply(this,arguments)},this.flashExec=function(a,c){var d=j.getFlash(),e=b.slice(arguments,2);return d.exec(this.uid,a,c,e)}}var g=b.$,h="flash",i={};return b.inherits(c,{constructor:f,init:function(){var a,c=this.getContainer(),d=this.options;c.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),a='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+d.swf+'" ',b.browser.ie&&(a+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),a+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+d.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',c.html(a)},getFlash:function(){return this._flash?this._flash:(this._flash=g("#"+this.uid).get(0),this._flash)}}),f.register=function(a,c){return c=i[a]=b.inherits(d,g.extend({flashExec:function(){var a=this.owner,b=this.getRuntime();return b.flashExec.apply(a,arguments)}},c))},e()>=11.4&&c.addRuntime(h,f),f}),b("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(a,b){var c=a.$;return b.register("FilePicker",{init:function(a){var b,d,e=c.extend({},a);for(b=e.accept&&e.accept.length,d=0;b>d;d++)e.accept[d].title||(e.accept[d].title="Files");delete e.button,delete e.id,delete e.container,this.flashExec("FilePicker","init",e)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),b("runtime/flash/image",["runtime/flash/runtime"],function(a){return a.register("Image",{loadFromBlob:function(a){var b=this.owner;b.info()&&this.flashExec("Image","info",b.info()),b.meta()&&this.flashExec("Image","meta",b.meta()),this.flashExec("Image","loadFromBlob",a.uid)}})}),b("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(b,c,d){var e=b.$;return c.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var a,b=this.owner,c=this.options,d=this._initAjax(),f=b._blob,g=c.server;d.connectRuntime(f.ruid),c.sendAsBinary?(g+=(/\?/.test(g)?"&":"?")+e.param(b._formData),a=f.uid):(e.each(b._formData,function(a,b){d.exec("append",a,b)}),d.exec("appendBlob",c.fileVal,f.uid,c.filename||b._formData.name||"")),this._setRequestHeader(d,c.headers),d.exec("send",{method:c.method,url:g,forceURLStream:c.forceURLStream,mimeType:"application/octet-stream"},a)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var a=this._xhr;a&&(a.exec("abort"),a.destroy(),this._xhr=a=null)},destroy:function(){this.abort()},_initAjax:function(){var b=this,c=new d("XMLHttpRequest");return c.on("uploadprogress progress",function(a){var c=a.loaded/a.total;return c=Math.min(1,Math.max(0,c)),b.trigger("progress",c)}),c.on("load",function(){var d,e=c.exec("getStatus"),f=!1,g="";return c.off(),b._xhr=null,e>=200&&300>e?f=!0:e>=500&&600>e?(f=!0,g="server"):g="http",f&&(b._response=c.exec("getResponse"),b._response=decodeURIComponent(b._response),d=a.JSON&&a.JSON.parse||function(a){try{return new Function("return "+a).call()}catch(b){return{}}},b._responseJson=b._response?d(b._response):{}),c.destroy(),c=null,g?b.trigger("error",g):b.trigger("load")}),c.on("error",function(){c.off(),b._xhr=null,b.trigger("error","http")}),b._xhr=c,c},_setRequestHeader:function(a,b){e.each(b,function(b,c){a.exec("setRequestHeader",b,c)})}})}),b("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(a,b){return a.register("Blob",{slice:function(a,c){var d=this.flashExec("Blob","slice",a,c);return new b(d.uid,d)}})}),b("runtime/flash/md5",["runtime/flash/runtime"],function(a){return a.register("Md5",{init:function(){},loadFromBlob:function(a){return this.flashExec("Md5","loadFromBlob",a.uid)}})}),b("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(a){return a}),b("widgets/log",["base","uploader","widgets/widget"],function(a,b){function c(a){var b=e.extend({},d,a),c=f.replace(/^(.*)\?/,"$1"+e.param(b)),g=new Image;g.src=c}var d,e=a.$,f=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",g=(location.hostname||location.host||"protected").toLowerCase(),h=g&&/baidu/i.exec(g);if(h)return d={dv:3,master:"webuploader",online:/test/.exec(g)?0:1,module:"",product:g,type:0},b.register({name:"log",init:function(){var a=this.owner,b=0,d=0;a.on("error",function(a){c({type:2,c_error_code:a})}).on("uploadError",function(a,b){c({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+b})}).on("uploadComplete",function(a){b++,d+=a.size}).on("uploadFinished",function(){c({c_count:b,c_size:d}),b=d=0}),c({c_usage:1})}})}),b("webuploader",["preset/all","widgets/log"],function(a){return a}),c("webuploader")});
;}catch(e){}
try{
jQuery.Huitab=function(a,d,f,b,c){var e=$(a);e.removeClass(f);$(a).eq(c).addClass(f);$(d).hide();$(d).eq(c).show();e.bind(b,function(){e.removeClass(f);$(this).addClass(f);var g=e.index(this);$(d).hide();$(d).eq(g).show()})};
;}catch(e){}
try{
/*
 jQuery jPList Plugin 5.0.1105 
 Copyright 2014 Miriam Zusin. All rights reserved.
 To use this file you must buy a licence at http://codecanyon.net/user/no81no/portfolio 
*/
(function(){var b=function(b,c){var a=jQuery({});a.$root=c;a.events={renderStatusesEvent:"1",setStatusesEvent:"2",forceRenderStatusesEvent:"3",restoreEvent:"4",statusEvent:"5",sortEvent:"6",filterEvent:"7",paginationEvent:"8",changeUrlDeepLinksEvent:"9",setDeepLinksEvent:"10",addItemEvent:"11",delItemEvent:"12",collectionReadyEvent:"13",animationStartEvent:"14",animationStepEvent:"15",animationCompleteEvent:"16",renderList:"17"};a={controller:null,observer:a,events:null,panel:null,$root:c};a.options=
jQuery.extend(!0,{debug:!1,itemsBox:".list",itemPath:".list-item",panelPath:".panel",noResults:".jplist-no-results",redrawCallback:"",iosBtnPath:".jplist-ios-button",animateToTop:"html, body",animateToTopDuration:0,effect:"",duration:300,fps:24,storage:"",storageName:"jplist",cookiesExpiration:-1,deepLinking:!1,delimiter0:":",delimiter1:"|",delimiter2:"~",delimiter3:"!",historyLength:10,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},serverOkCallback:null,serverErrorCallback:null}},
controlTypes:{"default-sort":{className:"DefaultSort",options:{}},"drop-down":{className:"Dropdown",options:{}},"pagination-info":{className:"PaginationInfo",options:{}},counter:{className:"Counter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},pagination:{className:"Pagination",options:{range:7,jumpToStart:!1,prevArrow:"&lsaquo;",nextArrow:"&rsaquo;",firstArrow:"&laquo;",lastArrow:"&raquo;"}},reset:{className:"Reset",options:{}},select:{className:"Select",options:{}},textbox:{className:"Textbox",
options:{eventName:"keyup",ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},views:{className:"Views",options:{}},"checkbox-group-filter":{className:"CheckboxGroupFilter",options:{}},"checkbox-text-filter":{className:"CheckboxTextFilter",options:{ignore:""}},"button-filter":{className:"ButtonFilter",options:{}},"button-filter-group":{className:"ButtonFilterGroup",options:{}},"button-text-filter":{className:"ButtonTextFilter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},"button-text-filter-group":{className:"ButtonTextFilterGroup",
options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},"radio-buttons-filters":{className:"RadioButtonsFilter",options:{}},"range-filter":{className:"RangeSliderToggleFilter",options:{}},"back-button":{className:"BackButton",options:{}},preloader:{className:"Preloader",options:{}}}},b);a.history=new jQuery.fn.jplist.app.History(a.$root,a.options,a.observer);a.panel=new jQuery.fn.jplist.ui.panel.controllers.PanelController(c,a.options,a.history,a.observer);a.options.dataSource=a.options.dataSource||{};a.options.dataSource.type=
a.options.dataSource.type||"html";jQuery.fn.jplist.info(a.options,"Data Source Type: ",a.options.dataSource.type);switch(a.options.dataSource.type){case "html":new jQuery.fn.jplist.ui.list.controllers.DOMController(a.$root,a.options,a.observer,a.panel,a.history);break;case "server":jQuery.fn.jplist.info(a.options,"Data Source: ",a.options.dataSource),new jQuery.fn.jplist.ui.list.controllers.ServerHTML(a.$root,a.options,a.observer,a.panel,a.history)}var e=[],d=!1;a.options.deepLinking?(jQuery.fn.jplist.info(a.options,
"Deep linking enabled",""),a.observer.trigger(a.observer.events.setDeepLinksEvent,[])):(d="cookies"===a.options.storage||"localstorage"===a.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported())?(jQuery.fn.jplist.info(a.options,"Storage enabled: ",a.options.storage),"cookies"===a.options.storage&&(e=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(a.options.storageName)),"localstorage"===a.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&
(e=jQuery.fn.jplist.dal.services.LocalStorageService.restore(a.options.storageName)),0<e.length?a.observer.trigger(a.observer.events.restoreEvent,[e]):a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!0])):a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!0]);return jQuery.extend(this,a)};jQuery.fn.jplist=function(f){return this.each(function(){var c=new b(f,jQuery(this));jQuery(this).data("jplist",c)})};jQuery.fn.jplist.app=jQuery.fn.jplist.app||{};jQuery.fn.jplist.app.services=
jQuery.fn.jplist.app.services||{};jQuery.fn.jplist.app.services.DTOMapperService=jQuery.fn.jplist.app.services.DTOMapperService||{};jQuery.fn.jplist.app.dto=jQuery.fn.jplist.app.dto||{};jQuery.fn.jplist.domain=jQuery.fn.jplist.domain||{};jQuery.fn.jplist.domain.dom=jQuery.fn.jplist.domain.dom||{};jQuery.fn.jplist.domain.dom.models=jQuery.fn.jplist.domain.dom.models||{};jQuery.fn.jplist.domain.dom.collections=jQuery.fn.jplist.domain.dom.collections||{};jQuery.fn.jplist.domain.dom.services=jQuery.fn.jplist.domain.dom.services||
{};jQuery.fn.jplist.domain.dom.services.FiltersService=jQuery.fn.jplist.domain.dom.services.FiltersService||{};jQuery.fn.jplist.domain.dom.services.SortService=jQuery.fn.jplist.domain.dom.services.SortService||{};jQuery.fn.jplist.domain.dom.services.pagination=jQuery.fn.jplist.domain.dom.services.pagination||{};jQuery.fn.jplist.domain.serverHTML=jQuery.fn.jplist.domain.serverHTML||{};jQuery.fn.jplist.domain.serverHTML.models=jQuery.fn.jplist.domain.serverHTML.models||{};jQuery.fn.jplist.dal=jQuery.fn.jplist.dal||
{};jQuery.fn.jplist.dal.services=jQuery.fn.jplist.dal.services||{};jQuery.fn.jplist.ui=jQuery.fn.jplist.ui||{};jQuery.fn.jplist.ui.list=jQuery.fn.jplist.ui.list||{};jQuery.fn.jplist.ui.list.models=jQuery.fn.jplist.ui.list.models||{};jQuery.fn.jplist.ui.list.controllers=jQuery.fn.jplist.ui.list.controllers||{};jQuery.fn.jplist.ui.list.views=jQuery.fn.jplist.ui.list.views||{};jQuery.fn.jplist.ui.controls=jQuery.fn.jplist.ui.controls||{};jQuery.fn.jplist.ui.statuses=jQuery.fn.jplist.ui.statuses||{};
jQuery.fn.jplist.ui.panel=jQuery.fn.jplist.ui.panel||{};jQuery.fn.jplist.ui.panel.controllers=jQuery.fn.jplist.ui.panel.controllers||{};jQuery.fn.jplist.ui.panel.collections=jQuery.fn.jplist.ui.panel.collections||{}})();(function(){jQuery.fn.jplist.app.dto.StatusDTO=function(b,f,c,a,e,d,g,k){this.action=f;this.name=b;this.type=c;this.data=a;this.inStorage=e;this.inAnimation=d;this.isAnimateToTop=g;this.inDeepLinking=k}})();(function(){var b=function(b,c,a){return jQuery.extend(this,{options:c,observer:a,$root:b,statusesQueue:[],listStatusesQueue:[]})};b.prototype.addStatus=function(b){this.statusesQueue.push(b);this.statusesQueue.length>this.options.historyLength&&this.statusesQueue.shift()};b.prototype.getLastStatus=function(){var b=null;0<this.statusesQueue.length&&(b=this.statusesQueue[this.statusesQueue.length-1]);return b};b.prototype.popStatus=function(){var b=null;0<this.statusesQueue.length&&(b=this.statusesQueue.pop());
return b};b.prototype.getLastList=function(){var b=null;0<this.listStatusesQueue.length&&(b=this.listStatusesQueue[this.listStatusesQueue.length-1]);return b};b.prototype.addList=function(b){this.listStatusesQueue.push(b);this.listStatusesQueue.length>this.options.historyLength&&this.listStatusesQueue.shift()};b.prototype.popList=function(){var b=null;0<this.listStatusesQueue.length&&(b=this.listStatusesQueue.pop());return b};jQuery.fn.jplist.app.History=function(f,c,a){return new b(f,c,a)}})();(function(){var b=function(b,c,a){return jQuery.extend(this,{options:b,observer:c,statuses:a})};b.prototype.findStatusByField=function(b,c){for(var a=-1,e,d=0;d<this.statuses.length;d++)if(e=this.statuses[d],e[c]===b[c]){a=d;break}return a};b.prototype.getStatusesByAction=function(b){for(var c=[],a,e=0;e<this.statuses.length;e++)a=this.statuses[e],a.action===b&&c.push(a);return c};jQuery.fn.jplist.app.dto.StatusesDTOCollection=function(f,c,a){return new b(f,c,a)}})();(function(){jQuery.fn.jplist.app.services.DTOMapperService.filters={};jQuery.fn.jplist.app.services.DTOMapperService.filters.TextFilter=function(b,f){var c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter(b.data.value,c,f,b.data.ignore)};jQuery.fn.jplist.app.services.DTOMapperService.filters.path=function(b,f){var c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b.data.path,null);
return jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter(c,f)};jQuery.fn.jplist.app.services.DTOMapperService.filters.range=function(b,f){var c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter(c,f,b.data.min,b.data.max,b.data.prev,b.data.next)};jQuery.fn.jplist.app.services.DTOMapperService.filters.date=function(b,f){var c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b.data.path,
null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter(b.data.year,b.data.month,b.data.day,c,f,b.data.format)};jQuery.fn.jplist.app.services.DTOMapperService.filters.dateRange=function(b,f){var c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter(c,f,b.data.format,b.data.prev_year,b.data.prev_month,b.data.prev_day,b.data.next_year,b.data.next_month,b.data.next_day)};jQuery.fn.jplist.app.services.DTOMapperService.filters.pathGroup=
function(b,f){return jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter(b.data.pathGroup,f)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textGroup=function(b,f){return jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter(b.data.textGroup,b.data.logic,b.data.path,b.data.ignoreRegex,f)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textFilterPathGroup=function(b,f){return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup(b.data.textAndPathsGroup,
b.data.ignoreRegex,f)};jQuery.fn.jplist.app.services.DTOMapperService.filters.autocomplete=function(b,f){return jQuery.fn.jplist.domain.dom.services.FiltersService.autocompleteFilter(b.data.latitude,b.data.longitude,b.data.name,f,b.data.radius)};jQuery.fn.jplist.app.services.DTOMapperService.sort={};jQuery.fn.jplist.app.services.DTOMapperService.sort.text=function(b,f,c){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b.data.path,b.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(f,
c,b.data.order,a,b.data.ignore||"")};jQuery.fn.jplist.app.services.DTOMapperService.sort.number=function(b,f,c){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b.data.path,b.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(f,c,b.data.order,a)};jQuery.fn.jplist.app.services.DTOMapperService.sort.datetime=function(b,f,c){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b.data.path,b.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(f,
c,b.data.order,a,b.data.dateTimeFormat||"")}})();(function(){jQuery.fn.jplist.logEnabled=function(b){return b.debug&&window.console&&jQuery.isFunction(window.console.log)};jQuery.fn.jplist.log=function(b,f,c){jQuery.fn.jplist.logEnabled(b)&&window.console.log(f,c)};jQuery.fn.jplist.info=function(b,f,c){jQuery.fn.jplist.logEnabled(b)&&window.console.info(f,c)};jQuery.fn.jplist.error=function(b,f,c){jQuery.fn.jplist.logEnabled(b)&&window.console.error(f,c)};jQuery.fn.jplist.warn=function(b,f,c){jQuery.fn.jplist.logEnabled(b)&&window.console.warn(f,
c)}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel=function(b,f){this.jqPath=b;this.dataType=f};jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel.prototype.isEqual=function(b,f){var c=!1;f?this.jqPath===b.jqPath&&(c=!0):this.jqPath===b.jqPath&&this.dataType===b.dataType&&(c=!0);return c}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberModel=function(b,f){this.$element=b;this.path=f;this.text=b.text();this.html=b.html()}})();(function(){var b=function(b,c,a){a={html:null,pathitems:[],$item:b,index:a};a.html=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(b);var e,d;b=[];for(var g=0;g<c.length;g++)e=c[g],d=a.$item.find(e.jqPath),0<d.length&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberModel(d,e),b.push(e));a.pathitems=b;return jQuery.extend(this,a)};b.prototype.findPathitem=function(b){for(var c=null,a,e=0;e<this.pathitems.length;e++)if(a=this.pathitems[e],a.path.isEqual(b,!0)){c=a;break}return c};
jQuery.fn.jplist.domain.dom.models.DataItemModel=function(f,c,a){f=new b(f,c,a);this.html=f.html;this.jqElement=f.$item;this.pathitems=f.pathitems;this.findPathitem=f.findPathitem}})();(function(){var b=function(a,e){var d,g,b;d=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,e)).getStatusesByAction("filter",e);if(0<d.length){for(var c=0;c<d.length;c++)if((g=d[c])&&g.data&&g.data.filterType)b=jQuery.fn.jplist.app.services.DTOMapperService.filters[g.data.filterType],jQuery.isFunction(b)&&(a.dataview=b(g,a.dataview));a.observer.trigger(a.observer.events.filterEvent,[e,a])}},f=function(a,e){var d,g=null,b;d=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,
a.observer,e)).getStatusesByAction("paging",e);if(0<d.length){for(var c=0;c<d.length;c++)g=d[c],b=g.data.currentPage||0,g=new jQuery.fn.jplist.domain.dom.services.PaginationService(b,g.data.number,a.dataview.length),d[c].data.paging=g,a.dataview=jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter(g,a.dataview);a.observer.trigger(a.observer.events.paginationEvent,[e,a])}},c=function(a,e){var d;d=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,e)).getStatusesByAction("sort",
e);0<d.length&&(jQuery.fn.jplist.domain.dom.services.SortService.doubleSort(d,a.dataview),a.observer.trigger(a.observer.events.sortEvent,[e,a]))},a=function(a){return jQuery(a.dataview).map(function(a,e){return e.jqElement.get()})},e=function(a){return jQuery(a.dataitems).map(function(a,e){return e.jqElement.get()})},d=function(a){a.dataview=jQuery.merge([],a.dataitems)},g=function(a,e){for(var d,g=-1,b,c=0;c<a.dataitems.length;c++)if(d=a.dataitems[c],d=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(d.jqElement),
b=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(e),d===b){g=c;break}return g},k=function(a,e){var d;d=g(a,e);-1!==d&&(a.dataitems.splice(d,1),a.observer.trigger(a.observer.events.delItemEvent,[e,a.dataitems]))},l=function(a,e){e.each(function(){k(a,jQuery(this))})},h=function(a,e,d,g){e=new jQuery.fn.jplist.domain.dom.models.DataItemModel(e,d,g);a.dataitems.push(e);a.observer.trigger(a.observer.events.addItemEvent,[e,a.dataitems])},m=function(a,e,d,g){for(var b;d<e.length;d++)b=
e.eq(d),h(a,b,g,d),d+1<e.length&&0===d%50&&window.setTimeout(function(){m(a,e,d,g)},0)},n=function(a,e,g,b){a={dataitems:[],dataview:[],options:a,observer:e};0<g.length&&(m(a,g,0,b),d(a));a.observer.trigger(a.observer.events.collectionReadyEvent,[a]);return jQuery.extend(this,a)};n.prototype.applyStatuses=function(a){d(this);c(this,a);b(this,a);f(this,a);this.observer.trigger(this.observer.events.renderList,[this,a])};n.prototype.filter=function(a){b(this,a)};n.prototype.sort=function(a){c(this,a)};
n.prototype.pagination=function(a){f(this,a)};n.prototype.dataviewToJqueryObject=function(){return a(this)};n.prototype.dataitemsToJqueryObject=function(){return e(this)};n.prototype.resetDataview=function(){d(this)};n.prototype.empty=function(){this.dataitems=[];this.dataview=[]};n.prototype.addDataItem=function(a,e,d){h(this,a,e,d)};n.prototype.addDataItems=function(a,e){m(this,a,0,e);d(this)};n.prototype.delDataitem=function(a){k(this,a)};n.prototype.delDataitems=function(a){l(this,a)};n.prototype.indexOf=
function(a){return g(this,a)};n.prototype.dataviewToString=function(){var a,e="",d;for(d=0;d<this.dataview.length;d++)a=this.dataview[d],e+=a.html;return e};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection=function(a,e,d,g){d=new n(a,e,d,g);this.observer=e;this.options=a;this.dataitems=d.dataitems;this.dataview=d.dataview;this.sort=d.sort;this.filter=d.filter;this.pagination=d.pagination;this.applyStatuses=d.applyStatuses;this.addDataItem=d.addDataItem;this.addDataItems=d.addDataItems;
this.resetDataview=d.resetDataview;this.indexOf=d.indexOf;this.delDataitem=d.delDataitem;this.delDataitems=d.delDataitems;this.empty=d.empty;this.dataviewToString=d.dataviewToString;this.dataviewToJqueryObject=d.dataviewToJqueryObject;this.dataitemsToJqueryObject=d.dataitemsToJqueryObject}})();(function(){var b=function(b,a){for(var e,d=!1,g=0;g<b.paths.length;g++)if(e=b.paths[g],e.isEqual(a,!0)){d=!0;break}return d},f=function(b,a){return jQuery.extend(this,{options:b,observer:a,paths:[]})};f.prototype.add=function(c){b(this,c)||this.paths.push(c)};f.prototype.addRange=function(c){for(var a=0;a<c.length;a++){var e=c[a];b(this,e)||this.paths.push(e)}};f.prototype.isPathInList=function(c){return b(this,c)};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection=function(b,a){return new f(b,
a)}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationService=function(b,f,c){c=Number(c);isNaN(c)&&(c=0);c=this.itemsNumber=c;null===f?f=c:(f=Number(f),isNaN(f)&&(f=c));this.itemsOnPage=f;f=(f=this.itemsOnPage)?Math.ceil(this.itemsNumber/f):0;f=this.pagesNumber=f;b=Number(b);isNaN(b)&&(b=0);b>f-1&&(b=0);this.currentPage=b;this.start=this.currentPage*this.itemsOnPage;b=this.itemsNumber;f=this.start+this.itemsOnPage;f>b&&(f=b);this.end=f;b=this.currentPage;this.prevPage=0>=b?0:b-1;b=this.currentPage;
f=this.pagesNumber;this.nextPage=0===f?0:b>=f-1?f-1:b+1}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationGoogleService=function(b,f,c){c=Number(c);isNaN(c)&&(c=0);c=this.itemsNumber=c;null===f?f=c:(f=Number(f),isNaN(f)&&(f=c));this.itemsOnPage=f;f=(f=this.itemsOnPage)?Math.ceil(this.itemsNumber/f):0;f=this.pagesNumber=f;b=Number(b);isNaN(b)&&(b=0);b>f-1&&(b=0);this.currentPage=b;this.start=this.currentPage*this.itemsOnPage;b=this.itemsNumber;f=this.start+this.itemsOnPage;f>b&&(f=b);this.end=f;b=this.currentPage;this.prevPage=0>=b?0:b-1;b=this.currentPage;
f=this.pagesNumber;this.nextPage=0===f?0:b>=f-1?f-1:b+1}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.autocompleteFilter=function(b,f,c,a,e){var d=[],g,k;if(jQuery.isNumeric(b)&&jQuery.isNumeric(f)&&google&&jQuery.fn.jlocator&&jQuery.fn.jlocator.store){b=new google.maps.LatLng(b,f);for(var l=0;l<a.length;l++)f=a[l],g=new jQuery.fn.jlocator.store(f.jqElement,{}),k=g.country?jQuery.trim(g.country.toLowerCase())==jQuery.trim(c.toLowerCase()):!1,g=google.maps.geometry.spherical.computeDistanceBetween(b,g.latlng),(g<=e||k)&&d.push(f);return d}return a}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter=function(b,f,c,a,e,d){for(var g,k,l=[],h=0;h<e.length;h++)if(g=e[h],k=g.findPathitem(a))!b||!f||!c?l.push(g):(k=jQuery.fn.jplist.domain.dom.services.SortService.jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(k.text,d))&&"function"===typeof k.getFullYear&&k.getFullYear()===b&&(k.getMonth()-1===f&&k.getDate()===c)&&l.push(g);return l}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter=function(b,f,c,a,e,d,g,k,l){for(var h=[],m,n,p,q,r=0;r<f.length;r++)if(m=f[r],n=m.findPathitem(b))if(p=!jQuery.isNumeric(a)||!jQuery.isNumeric(e)||!jQuery.isNumeric(d),q=!jQuery.isNumeric(g)||!jQuery.isNumeric(k)||!jQuery.isNumeric(l),p||q)h.push(m);else if((q=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(n.text,c))&&jQuery.isFunction(q.getFullYear))n=new Date(a,e,d),p=new Date(g,k,l),q.setHours(0),
q.setMinutes(0),q.setSeconds(0),q>=n&&q<=p&&h.push(m);return h}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter=function(b,f){return f.slice(b.start,b.end)}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter=function(b,f){for(var c,a,e=[],d=0;d<f.length;d++)c=f[d],"default"===b.jqPath?e.push(c):(a=c.findPathitem(b))&&e.push(c);return e}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter=function(b,f){var c,a=[],e,d=[];if(0>=b.length)return f;for(e=0;e<b.length;e++)c=b[e],c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,null),a.push(c);for(var g=0;g<f.length;g++){e=f[g];for(var k=0;k<a.length;k++)if(c=a[k],"default"===c.jqPath){d.push(e);break}else(c=e.findPathitem(c))&&d.push(e)}return d}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter=function(b,f,c,a,e,d){c=[];for(var g,k=jQuery.isNumeric(e),l=jQuery.isNumeric(d),h=0;h<f.length;h++)if(a=f[h],g=a.findPathitem(b))g=Number(g.text.replace(/[^-0-9\.]+/g,"")),isNaN(g)||(k&&l?g>=e&&g<=d&&c.push(a):k&&!l?g>=e&&c.push(a):!k&&l&&g<=d&&c.push(a));return c}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter=function(b,f,c,a){for(var e,d,g=[],k,l=0;l<c.length;l++)e=c[l],d=e.findPathitem(f),"default"===f.jqPath?g.push(e):d&&(d=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(d.text,a),k=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(b,a),-1!==d.indexOf(k)&&g.push(e));return g}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup=function(b,f,c){var a,e,d=[],g=[],k,l;for(l=0;l<b.length;l++)k=b[l],k.selected&&(a=k.path,e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a,null),k.pathObj=e,d.push(k));if(0>=d.length)return c;for(a=0;a<c.length;a++){b=c[a];l=!1;for(var h=0;h<d.length;h++)if(k=d[h],e=k.pathObj)if("default"===e.jqPath){l=!0;break}else if(e=b.findPathitem(e))e=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(e.text,
f),k=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(k.text,f),-1!==e.indexOf(k)&&(l=!0);l&&g.push(b)}return g}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter=function(b,f,c,a,e){var d,g,k,l=[],h,m;if(0>=b.length)return e;k=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,null);for(var n=0;n<e.length;n++)if(c=e[n],g=c.findPathitem(k),"default"===k.jqPath)l.push(c);else if(g)if(g=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(g.text,a),"or"===f)for(m=0;m<b.length;m++){if(d=b[m],d=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(d,
a),-1!==g.indexOf(d)){l.push(c);break}}else{h=[];for(m=0;m<b.length;m++)d=b[m],d=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(d,a),-1!==g.indexOf(d)&&h.push(d);h.length===b.length&&l.push(c)}return l}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper=function(b,f,c,a,e){b=b.findPathitem(a);f=f.findPathitem(a);return b&&f?(jQuery.trim(e)?(a=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(b.text,e),e=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(f.text,e)):(a=new Date(Date.parse(b.text)),e=new Date(Date.parse(f.text))),a==e?0:"asc"==c?a>e?1:-1:a<e?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.datetime=function(b,f,c,a){c.sort(function(e,
d){return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(e,d,b,f,a)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper=function(b,f,c,a){b=b.findPathitem(a);f=f.findPathitem(a);return b&&f?(a=parseFloat(b.text.replace(/[^-0-9\.]+/g,"")),f=parseFloat(f.text.replace(/[^-0-9\.]+/g,"")),c=a==f?0:"asc"==c?isNaN(a)?1:isNaN(f)?-1:a-f:isNaN(a)?1:isNaN(f)?-1:f-a):0};jQuery.fn.jplist.domain.dom.services.SortService.numbers=function(b,f,c){c.sort(function(a,e){return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(a,e,b,f)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.textHelper=function(b,f,c,a,e){b=b.findPathitem(a);f=f.findPathitem(a);return b&&f?(e?(a=RegExp(e,"ig"),e=b.text.toString().replace(a,"").toLowerCase(),b=f.text.toString().replace(a,"").toLowerCase()):(e=b.text.toString().toLowerCase(),b=f.text.toString().toLowerCase()),e==b?0:"asc"==c?e>b?1:-1:e<b?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.text=function(b,f,c,a){c.sort(function(e,d){return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(e,
d,b,f,a)})}})();(function(){var b=function(f,c,a,e){var d=0,g,k;0<a.length&&(g=a[e],"default"!=g.data.path?(k=jQuery.fn.jplist.app.services.DTOMapperService.sort[g.data.type],jQuery.isFunction(k)&&(d=k(g,f,c))):(d=f.index,g=c.index,d=d===g?0:isNaN(d)?1:isNaN(g)?-1:d-g),0===d&&e+1<a.length&&(d=b(f,c,a,e+1)));return d};jQuery.fn.jplist.domain.dom.services.SortService.doubleSort=function(f,c){var a=!1;1===f.length&&(f[0]&&f[0].data&&"default"===f[0].data.path)&&(a=!0);a||c.sort(function(a,d){return b(a,d,f,0)})}})();(function(){var b=function(b,a){var e=null;if("{month}"==b){a=a.toLowerCase();if("january"===a||"jan"===a||"jan."===a)e=0;if("february"===a||"feb"===a||"feb."===a)e=1;if("march"===a||"mar"===a||"mar."===a)e=2;if("april"==a||"apr"===a||"apr."===a)e=3;"may"===a&&(e=4);if("july"==a||"jun"===a||"jun."===a)e=5;if("april"===a||"jul"===a||"jul."===a)e=6;if("august"===a||"aug"===a||"aug."===a)e=7;if("september"===a||"sep"===a||"sep."===a)e=8;if("october"===a||"oct"===a||"oct."===a)e=9;if("november"===a||
"nov"===a||"nov."===a)e=10;if("december"===a||"dec"===a||"dec."===a)e=11;null===e&&(e=parseInt(a,10),isNaN(e)||e--)}else e=parseInt(a,10);return e},f=function(b,a){var e,d=null;e=b.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*");(e=RegExp(e,"g").exec(a))&&1<e.length&&(d=e[1]);return d};jQuery.fn.jplist.domain.dom.services.HelperService={};jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml=function(b){var a="",e=b[0].attributes,d=b.html();b=b[0].tagName.toString().toLowerCase();
for(var a=a+("<"+b),g=0;g<e.length;g++)e[g].nodeValue&&(a+=" "+e[g].nodeName+"=",a+='"'+e[g].nodeValue+'"');a=a+">"+d;return a+="</"+b+">"};jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters=function(b,a){return!b?"":b.replace(RegExp(a,"ig"),"").toLowerCase()};jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime=function(c,a){var e,d,g,k,l,h;a=a.replace(/\./g,"\\.");a=a.replace(/\(/g,"\\(");a=a.replace(/\)/g,"\\)");a=a.replace(/\[/g,"\\[");a=a.replace(/\]/g,"\\]");e=
a.replace("{year}","(.*)");(d=f(e,c))&&(d=b("{year}",d));e=a.replace("{day}","(.*)");(k=f(e,c))&&(k=b("{day}",k));e=a.replace("{month}","(.*)");(g=f(e,c))&&(g=b("{month}",g));e=a.replace("{hour}","(.*)");(l=f(e,c))&&(l=b("{hour}",l));e=a.replace("{min}","(.*)");(h=f(e,c))&&(h=b("{min}",h));e=a.replace("{sec}","(.*)");(e=f(e,c))&&(e=b("{sec}",e));if(!d||isNaN(d))d=1900;if(!g||isNaN(g))g=0;if(!k||isNaN(k))k=1;if(!l||isNaN(l))l=0;if(!h||isNaN(h))h=0;if(!e||isNaN(e))e=0;return new Date(d,g,k,l,h,e)}})();(function(){jQuery.fn.jplist.domain.serverHTML.models.DataItemModel=function(b){b=jQuery(b);this.format=this.html="";this.count=0;0<b.length&&(this.html=b.html(),this.format=b.attr("data-format"),this.count=Number(b.attr("data-count"))||0)}})();(function(){jQuery.fn.jplist.animation={};jQuery.fn.jplist.animation.drawItems=function(b,f,c,a,e,d,g,k){var l,h,m;if(e=jQuery.fn.jplist.animation[e]){l=e.before;m=e.effect;h=e.after;jQuery.isFunction(l)&&l(b,f,c,a);if(jQuery.isFunction(m))k.on(k.events.animationStepEvent,function(e,d,g){m(b,f,c,a,d)});k.on(k.events.animationCompleteEvent,function(e){jQuery.isFunction(h)&&h(b,f,c,a);k.off(k.events.animationStepEvent);k.off(k.events.animationCompleteEvent);jQuery.isFunction(g)&&g()});d.play(b.duration)}else jQuery.isFunction(g)&&
g()}})();(function(){var b=function(a){a.handler&&window.clearTimeout(a.handler);a.progress=0;a.start=null;a.observer.trigger(a.observer.events.animationCompleteEvent,[])},f=function(a,e){jQuery.isNumeric(e)&&0<e?a.handler=window.setTimeout(function(){var d;null===a.start&&(a.observer.trigger(a.observer.events.animationStartEvent,[]),a.start=(new Date).getTime());d=(new Date).getTime()-a.start;a.progress=d/e;1<=a.progress&&(a.progress=1);a.observer.trigger(a.observer.events.animationStepEvent,[100*a.progress,
a]);1>a.progress?f(a,e):b(a)},a.delay):b(a)},c=function(a,e,d){a={$scene:a,options:e,observer:d,start:null,progress:0,delay:null,handler:null};a.delay=1E3/a.options.fps;return jQuery.extend(this,a)};c.prototype.play=function(a){f(this,a)};c.prototype.stop=function(){b(this)};jQuery.fn.jplist.animation.Timeline=function(a,e,d){return new c(a,e,d)}})();(function(){jQuery.fn.jplist.animation.fade={};jQuery.fn.jplist.animation.fade.before=function(b,f,c,a){};jQuery.fn.jplist.animation.fade.effect=function(b,f,c,a,e){f.find(b.itemPath).css({opacity:(100-e)/100})};jQuery.fn.jplist.animation.fade.after=function(b,f,c,a){f.empty();a.css({opacity:1});f.append(a)}})();(function(){var b=function(a,d,g,b){a.observer.trigger(a.observer.events.setStatusesEvent,[g,d]);jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(d,b,g)},f=function(a,d,g){var c=d.dataitemsToJqueryObject(),f=d.dataviewToJqueryObject(),h=!1,m,n=jQuery.extend(!0,{},a.options,{duration:0});0>=c.length||0>=f.length?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden"),b(a,d,g,f)):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"),
a.options.effect?(a.history&&(m=a.history.getLastStatus())&&!m.inAnimation&&(h=!0),h=h?n:a.options,jQuery.fn.jplist.animation.drawItems(h,a.$itemsBox,c,f,a.options.effect,a.timeline,function(){b(a,d,g,f)},a.observer)):(c.detach(),a.$itemsBox.append(f),b(a,d,g,f)))},c=function(a){a.observer.on(a.observer.events.renderList,function(d,g,b){f(a,g,b)})},a=function(a,d,g,b){a={options:d,$root:a,observer:g,history:b,timeline:null,timelineZero:null,$itemsBox:a.find(d.itemsBox).eq(0),$noResults:a.find(d.noResults)};
a.options.effect&&(a.timeline=new jQuery.fn.jplist.animation.Timeline(a.$root,a.options,a.observer));c(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.list.views.DOMView=function(e,d,g,b){return new a(e,d,g,b)}})();(function(){var b=function(b){b.observer.on(b.observer.events.renderStatusesEvent,function(a,e){b.storage.save(e);b.collection&&b.collection.applyStatuses(e);b.options.deepLinking&&b.observer.trigger(b.observer.events.changeUrlDeepLinksEvent,[])})},f=function(c,a,e,d,g){c={options:a,observer:e,$root:c,history:g,storage:new jQuery.fn.jplist.dal.Storage(c,a,e),collection:null,listView:null};c.listView=new jQuery.fn.jplist.ui.list.views.DOMView(c.$root,c.options,c.observer,c.history);d=d.paths;a=c.$root.find(c.options.itemsBox).eq(0).find(c.options.itemPath);
d=new jQuery.fn.jplist.domain.dom.collections.DataItemsCollection(c.options,c.observer,a,d);c.collection=d;b(c);return jQuery.extend(this,c)};jQuery.fn.jplist.ui.list.controllers.DOMController=function(b,a,e,d,g){return new f(b,a,e,d,g)}})();(function(){var b=function(b){b.observer.on(b.observer.events.renderList,function(a,e,d){b.storage.save(d);jQuery.fn.jplist.dal.services.URIService.get(d,b.options,function(a,e){var d=new jQuery.fn.jplist.domain.serverHTML.models.DataItemModel(a),f,m;m=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(b.options,b.observer,e)).getStatusesByAction("paging",e);for(var n=0;n<m.length;n++)f=m[n],f.data.currentPage||(f.data.currentPage=0),f=new jQuery.fn.jplist.domain.dom.services.PaginationService(f.data.currentPage,
f.data.number,d.count),m[n].data.paging=f;b.model.set(d,e)},function(a){},function(a){})})},f=function(c,a,e,d,g){d=new jQuery.fn.jplist.dal.Storage(c,a,e);var k=jQuery({});k.$root=null;k.events={modelChanged:"modelChanged"};g={options:a,observer:e,history:g,storage:d,scopeObserver:k,$root:c,view:null,model:null};g.model=new jQuery.fn.jplist.ui.list.models.DataItemModel(null,null,g.scopeObserver);g.view=new jQuery.fn.jplist.ui.list.views.ServerHTMLView(c,a,e,g.scopeObserver,g.model,g.history);b(g);
return jQuery.extend(this,g)};jQuery.fn.jplist.ui.list.controllers.ServerHTML=function(b,a,e,d,g){return new f(b,a,e,d,g)}})();(function(){var b=function(a,d,g){a.observer.trigger(a.observer.events.setStatusesEvent,[g,d]);a.options.deepLinking&&a.observer.trigger(a.observer.events.changeUrlDeepLinksEvent,[]);jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(d,g)},f=function(a,d,g){var c=!1,f,h=jQuery.extend(!0,{},a.options,{duration:0});!d||""===jQuery.trim(d)?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden")):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"));
a.options.effect?(a.history&&(f=a.history.getLastStatus())&&!f.inAnimation&&(c=!0),c=c?h:a.options,jQuery.fn.jplist.animation.drawItems(c,a.$itemsBox,null,jQuery(d),a.options.effect,a.timeline,function(){b(a,d,g)},a.observer)):(a.$itemsBox.html(d),b(a,d,g))},c=function(a){a.observer.on(a.observer.events.renderStatusesEvent,function(d,g){a.$noResults.addClass("jplist-hidden");a.observer.trigger(a.observer.events.renderList,[a,g])});a.scopeObserver.on(a.scopeObserver.events.modelChanged,function(d,
g,b){a.$preloader&&a.$preloader.addClass("jplist-hidden");a.$itemsBox.removeClass("jplist-hidden");f(a,g.html,b)})},a=function(a,d,g,b,f,h){a={options:d,$root:a,observer:g,scopeObserver:b,model:f,history:h,$itemsBox:a.find(d.itemsBox).eq(0),$noResults:a.find(d.noResults),$preloader:null,timeline:null};a.options.effect&&(a.timeline=new jQuery.fn.jplist.animation.Timeline(a.$root,a.options,a.observer));c(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.list.views.ServerHTMLView=function(e,d,g,b,
c,f){return new a(e,d,g,b,c,f)}})();(function(){jQuery.fn.jplist.ui.list.models.DataItemModel=function(b,f,c){this.dataItem=b;this.statuses=f;this.scopeObserver=c};jQuery.fn.jplist.ui.list.models.DataItemModel.prototype.set=function(b,f){this.dataItem=b;this.statuses=f;this.scopeObserver.trigger(this.scopeObserver.events.modelChanged,[b,f])}})();(function(){var b=function(a){var e=jQuery(window).scrollTop(),b;b=Number(a.data("top"));isNaN(b)||(e>b?a.addClass("jplist-sticky"):a.removeClass("jplist-sticky"))},f=function(a,e){e.each(function(){var a=jQuery(this),e=a.offset().top;a.data("top",e);b(a)});jQuery(window).scroll(function(){e.each(function(){b(jQuery(this))})})},c=function(a){a.observer.on(a.observer.events.setStatusesEvent,function(e,b,c){a.controls.setStatuses(b,!1);a.history.addList(b);jQuery.fn.jplist.info(a.options,"Set statuses event: ",
b)});a.observer.on(a.observer.events.forceRenderStatusesEvent,function(e,b){var c;c=a.controls.getStatuses(b);jQuery.fn.jplist.info(a.options,"Force render statuses event: ",c);a.observer.trigger(a.observer.events.renderStatusesEvent,[c])});a.observer.on(a.observer.events.restoreEvent,function(e,b){a.controls.setStatuses(b,!0);jQuery.fn.jplist.info(a.options,"Restore from storage event: ",b);a.observer.trigger(a.observer.events.renderStatusesEvent,[b])});a.observer.on(a.observer.events.statusEvent,
function(e,b){var c;b.isAnimateToTop&&(c=jQuery(a.options.animateToTop).offset().top,jQuery("html, body").animate({scrollTop:c},a.options.animateToTopDuration));c=a.controls.merge(!1,b);jQuery.fn.jplist.info(a.options,"Status event: ",c);a.observer.trigger(a.observer.events.renderStatusesEvent,[c])});a.observer.on(a.observer.events.changeUrlDeepLinksEvent,function(e){e="";if(a.options.deepLinking){e=a.controls.getDeepLinksUrl();jQuery.fn.jplist.info(a.options,"Change url (deep links event): ",e);
e=jQuery.trim(e.replace("#",""));var b;e=""===e?"#":"#"+e;window.location.hash!==e&&(b=window.location.href.indexOf("#"),e=-1==b?window.location.href+e:window.location.href.substring(0,b)+e,"replaceState"in window.history?window.history.replaceState("","",e):window.location.replace(e))}});a.observer.on(a.observer.events.setDeepLinksEvent,function(e){var b=window.decodeURIComponent(jQuery.trim(window.location.hash.replace("#",""))),c=!1;e=[];var c=[],f,m=[],n;if(a.options.deepLinking&&""!==jQuery.trim(b)){c=
b.split(a.options.delimiter1);for(b=0;b<c.length;b++)f=c[b],n=f.split("="),2===n.length&&(f=n[0],n=n[1],f=f.split(a.options.delimiter0),2===f.length&&(f={controlName:f[0],propName:f[1],propValue:n},m.push(f)))}jQuery.fn.jplist.info(a.options,"Set deep link event: ",m);0>=m.length?(c="cookies"===a.options.storage||"localstorage"===a.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported())?("cookies"===a.options.storage&&(e=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(a.options.storageName)),
"localstorage"===a.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&(e=jQuery.fn.jplist.dal.services.LocalStorageService.restore(a.options.storageName)),0<e.length?a.observer.trigger(a.observer.events.restoreEvent,[e]):a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])):a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!0]):a.controls.setDeepLinks(m)});a.$root.find(a.options.iosBtnPath).on("click",function(){jQuery(this).next(a.options.panelPath).toggleClass("jplist-ios-show")})},
a=function(a){var e;e=[];e=a.$root.find(a.options.panelPath).find("[data-control-type]");a.controls=new jQuery.fn.jplist.ui.panel.collections.ControlsCollection(a.options,a.observer,a.history,a.$root,e);a.paths=a.controls.getPaths();jQuery.fn.jplist.logEnabled(a.options)&&(e=jQuery.map(a.paths,function(a,e){return a&&a.jqPath?a.jqPath:""}),jQuery.fn.jplist.info(a.options,"Panel paths: ",e.join(", ")))},e=function(e,g,b,l){e={options:g,$root:e,history:b,observer:l,$sticky:null,paths:null,controls:null};
a(e);e.$sticky=e.$root.find('[data-sticky="true"]');0<e.$sticky.length&&f(e,e.$sticky);c(e);return jQuery.extend(this,e)};jQuery.fn.jplist.ui.panel.controllers.PanelController=function(a,g,b,c){a=new e(a,g,b,c);this.paths=a.paths;this.history=a.history;this.controls=a.controls}})();(function(){var b=function(b,c,a,e){return jQuery.extend(this,{options:b,observer:c,history:a,$root:e})};b.prototype.create=function(b){var c=null,a,e,d,g,k,l,h,m;a=b.attr("data-control-type");k=g=d=!0;l=!1;m=h=null;(e=b.attr("data-control-deep-link"))&&"false"===e.toString()&&(d=!1);(e=b.attr("data-control-storage"))&&"false"===e.toString()&&(g=!1);(e=b.attr("data-control-animation"))&&"false"===e.toString()&&(k=!1);(e=b.attr("data-control-animate-to-top"))&&"true"===e.toString()&&(l=!0);if(e=this.options.controlTypes[a])e.className&&
(h=jQuery.fn.jplist.ui.controls[e.className]),e.options&&(m=e.options);a={type:a,action:b.attr("data-control-action"),name:b.attr("data-control-name"),inDeepLinking:d,inStorage:g,inAnimation:k,isAnimateToTop:l,controlType:e,controlTypeClass:h,controlOptions:m,paths:[]};a=jQuery.extend(!0,a,{$control:b,history:this.history,observer:this.observer,options:this.options,$root:this.$root});a.controlTypeClass&&jQuery.isFunction(a.controlTypeClass)&&(c=new a.controlTypeClass(a));return c};jQuery.fn.jplist.ui.panel.ControlFactory=
function(f,c,a,e){return new b(f,c,a,e)}})();(function(){var b=jQuery.fn.jplist.domain,f=function(a,d){for(var g,b=0;b<a.length;b++)g=a[b],g.name===d.name&&g.action===d.action&&jQuery.extend(!0,g,d);return a},c=function(a,d){for(var g=[],b,c,f,m=0;m<a.controls.length;m++)if(b=a.controls[m],jQuery.isFunction(b.getStatus)&&(b=b.getStatus(d))){c=-1;f=void 0;for(var n=0;n<g.length;n++)if(f=g[n],f.name===b.name){c=n;break}-1!=c?(f=g[c],f.action==b.action&&f.type!==b.type&&jQuery.extend(!0,g[c],b)):g.push(b)}return g},a=function(a,d,g,b,c){c={options:a,
observer:d,history:g,$root:b,controlFactory:null,$controls:c,controls:[]};c.controlFactory=new jQuery.fn.jplist.ui.panel.ControlFactory(a,d,g,b);for(a=0;a<c.$controls.length;a++)g=c.$controls.eq(a),d=c,(g=d.controlFactory.create(g))&&d.controls.push(g);return jQuery.extend(this,c)};a.prototype.merge=function(a,d){var g;g=c(this,a);return g=f(g,d)};a.prototype.setDeepLinks=function(a){var d,g,b,l=[],h;for(h=0;h<a.length;h++){d=a[h];g=d.controlName;var m=[];b=void 0;for(var n=0;n<this.controls.length;n++)b=
this.controls[n],b.name===g&&m.push(b);g=m;for(m=0;m<g.length;m++)b=g[m],jQuery.isFunction(b.getStatusByDeepLink)&&(b=b.getStatusByDeepLink(d.propName,d.propValue))&&l.push(b)}a=c(this,!1);for(h=0;h<l.length;h++)f(a,l[h]);this.observer.trigger(this.observer.events.renderStatusesEvent,[a])};a.prototype.setStatuses=function(a,d){for(var b,c,f=0;f<a.length;f++){b=a[f];c=b.name;for(var h=b.action,m=[],n=void 0,p=0;p<this.controls.length;p++)n=this.controls[p],n.name===c&&n.action===h&&m.push(n);c=m;for(h=
0;h<c.length;h++)jQuery.isFunction(c[h].setStatus)&&c[h].setStatus(b,d)}};a.prototype.getDeepLinksUrl=function(){var a;a="";for(var d=[],b="",c=0;c<this.controls.length;c++)a=this.controls[c],jQuery.isFunction(a.getDeepLink)&&(b=jQuery.trim(a.getDeepLink())),""!==b&&-1===jQuery.inArray(b,d)&&d.push(b);return a=d.join(this.options.delimiter1)};a.prototype.getStatuses=function(a){return c(this,a)};a.prototype.getPaths=function(){var a,d=[],g;g=new b.dom.collections.DataItemMemberPathCollection(this.options,
this.observer);for(var c=0;c<this.controls.length;c++)a=this.controls[c],jQuery.isFunction(a.getPaths)&&(a.getPaths(d),g.addRange(d));return g.paths};a.prototype.add=function(a){(a=this.controlFactory.create(a))&&this.controls.push(a)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection=function(e,d,b,c,f){return new a(e,d,b,c,f)}})();(function(){var b=function(b,c,a){b={options:c,observer:a,$root:b,isStorageEnabled:!1};b.isStorageEnabled="cookies"===b.options.storage||"localstorage"===b.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported();return jQuery.extend(this,b)};b.prototype.save=function(b){this.isStorageEnabled&&("cookies"===this.options.storage&&jQuery.fn.jplist.dal.services.CookiesService.saveCookies(b,this.options.storageName,this.options.cookiesExpiration),"localstorage"===this.options.storage&&
jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&jQuery.fn.jplist.dal.services.LocalStorageService.save(b,this.options.storageName))};jQuery.fn.jplist.dal.Storage=function(f,c,a){return new b(f,c,a)}})();(function(){jQuery.fn.jplist.dal.services.CookiesService={};jQuery.fn.jplist.dal.services.CookiesService.setCookie=function(b,f,c){f=escape(f);var a=new Date;c=Number(c);-1==c||isNaN(c)?document.cookie=b+"="+f+";path=/;":(a.setMinutes(a.getMinutes()+c),document.cookie=b+"="+f+";path=/; expires="+a.toUTCString())};jQuery.fn.jplist.dal.services.CookiesService.getCookie=function(b){var f,c,a,e=null;a=document.cookie.split(";");for(var d=0;d<a.length;d++)if(f=a[d].substr(0,a[d].indexOf("=")),c=a[d].substr(a[d].indexOf("=")+
1),f=f.replace(/^\s+|\s+$/g,""),f==b){e=unescape(c);break}return e};jQuery.fn.jplist.dal.services.CookiesService.saveCookies=function(b,f,c){b=JSON.stringify(b);jQuery.fn.jplist.dal.services.CookiesService.setCookie(f,b,c)};jQuery.fn.jplist.dal.services.CookiesService.restoreCookies=function(b){var f=[];(b=jQuery.fn.jplist.dal.services.CookiesService.getCookie(b))&&(f=jQuery.parseJSON(b));f||(f=[]);return f}})();(function(){jQuery.fn.jplist.dal.services.LocalStorageService={};jQuery.fn.jplist.dal.services.LocalStorageService.supported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(b){return!1}};jQuery.fn.jplist.dal.services.LocalStorageService.save=function(b,f){var c;c=JSON.stringify(b);window.localStorage[f]=c};jQuery.fn.jplist.dal.services.LocalStorageService.restore=function(b){var f=[];(b=window.localStorage[b])&&(f=jQuery.parseJSON(b));f||(f=[]);return f}})();(function(){jQuery.fn.jplist.dal.services.URIService={};jQuery.fn.jplist.dal.services.URIService.get=function(b,f,c,a,e){var d=f.dataSource.server;d.ajax.data||(d.ajax.data={});d.ajax.data.statuses=encodeURIComponent(JSON.stringify(b,function(a,e){return e&&e.nodeType?null:e}));jQuery.ajax(d.ajax).done(function(a){jQuery.isFunction(c)&&c(a,b);jQuery.isFunction(d.serverOkCallback)&&d.serverOkCallback(a,b)}).fail(function(){jQuery.isFunction(a)&&a(b);jQuery.isFunction(d.serverErrorCallback)&&d.serverErrorCallback(b)}).always(function(){jQuery.isFunction(e)&&
e(b)})}})();(function(){var b=function(a,d){var b=null,c,f;c=a.$control.data("storage-status");if(d&&c)b=c;else switch(d?(c=a.$control.find('li:has(span[data-default="true"])').eq(0),0>=c.length&&(c=a.$control.find("li:eq(0)"))):c=a.$control.find(".active"),c=c.find("span"),a.action){case "paging":b=new jQuery.fn.jplist.ui.controls.DropdownPaginationDTO(c.attr("data-number"));b=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,b,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking);break;case "sort":(b=
a.$control.attr("data-datetime-format"))||(b="");(f=a.$control.attr("data-ignore"))||(f="");b=new jQuery.fn.jplist.ui.controls.DropdownSortDTO(c.attr("data-path"),c.attr("data-type"),c.attr("data-order"),b,f);b=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,b,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking);break;case "filter":b=new jQuery.fn.jplist.ui.controls.DropdownFilterDTO(c.attr("data-path"),c.attr("data-type")),b=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,
a.type,b,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)}return b},f=function(a,d){var b,c,f;a.$control.find("span").each(function(){b=jQuery(this).attr("data-path");c=jQuery(this).attr("data-type");b&&""!==jQuery.trim(b)&&(f=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,c),d.push(f))})},c=function(a){var d=jQuery(document).find('[data-control-type="drop-down"]');jQuery(document).click(function(){d.find("ul").hide()});jQuery(document).off("jplist_dropdown_close").on("jplist_dropdown_close",
function(a,e){d.each(function(){jQuery(this).is(e)||jQuery(this).find("ul").hide()})});a.$control.find(".jplist-dd-panel").off().click(function(a){var e;a.stopPropagation();a=jQuery(this).parents("[data-control-type]");e=a.find("ul");jQuery(document).trigger("jplist_dropdown_close",[a]);e.is(":visible")?e.hide():e.show()});a.$control.find("li").off().click(function(){var d,c,f,h;d=b(a,!1);h=jQuery(this).find("span");c=h.attr("data-path");f=h.attr("data-number");c?(d.data.path=c,d.data.type=h.attr("data-type"),
d.data.order=h.attr("data-order")):f&&(d.data.number=f);a.history.addStatus(d);a.observer.trigger(a.observer.events.statusEvent,[d])})},a=function(a){var d;d=a.$control.find("li:eq(0)");d.addClass("active");d=d.find("span");0>=a.$control.find(".jplist-dd-panel").length&&a.$control.prepend('<div class="jplist-dd-panel">'+d.text()+"</div>");c(a);return jQuery.extend(this,a)};a.prototype.getStatus=function(a){return b(this,a)};a.prototype.getDeepLink=function(){var a="",d;if(this.inDeepLinking&&(d=b(this,
!1),d.data))switch(this.action){case "paging":if(jQuery.isNumeric(d.data.number)||"all"===d.data.number)a=this.name+this.options.delimiter0+"number="+d.data.number;break;case "sort":d.data.path&&(d.data.type&&d.data.order)&&(a=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+d.data.path+this.options.delimiter2+d.data.type+this.options.delimiter2+d.data.order);break;case "filter":d.data.path&&(a=this.name+this.options.delimiter0+"path="+d.data.path)}return a};
a.prototype.getStatusByDeepLink=function(a,d){var g;a:{g=null;var c;if(this.inDeepLinking){if("number"!==a&&a!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==a){g=null;break a}g=b(this,!0);if(g.data)switch(this.action){case "paging":"number"===a&&jQuery.isNumeric(g.data.number)&&(g.data.number=d);break;case "sort":a==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(c=d.split(this.options.delimiter2),3===c.length&&(g.data.path=c[0],g.data.type=
c[1],g.data.order=c[2]));break;case "filter":"path"===a&&g.data.path&&(g.data.path=d)}}}return g};a.prototype.getPaths=function(a){f(this,a)};a.prototype.setStatus=function(a,d){var b;b=null;this.inStorage&&d&&this.$control.data("storage-status",a);!this.inStorage&&d&&(b=this.$control.find('li:has(span[data-default="true"])').eq(0),0>=b.length&&(b=this.$control.find("li:eq(0)")),b=b.find("span"));switch(this.action){case "filter":!this.inStorage&&d&&0<b.length?(a.data.path=b.attr("data-path"),a.data.type=
b.attr("data-type"),this.history.addStatus(a),this.observer.trigger(this.observer.events.statusEvent,[a])):(this.$control.find("li").removeClass("active"),b=this.$control.find('li:has([data-path="'+a.data.path+'"])'),b.addClass("active"),this.$control.find(".jplist-dd-panel").text(b.eq(0).text()));break;case "sort":!this.inStorage&&d&&0<b.length?(a.data.path=b.attr("data-path"),a.data.type=b.attr("data-type"),a.data.order=b.attr("data-order"),this.history.addStatus(a),this.observer.trigger(this.observer.events.statusEvent,
[a])):(this.$control.find("li").removeClass("active"),b="default"==a.data.path?this.$control.find('li:has([data-path="default"])'):this.$control.find('li:has([data-path="'+a.data.path+'"][data-type="'+a.data.type+'"][data-order="'+a.data.order+'"])'),b.addClass("active"),this.$control.find(".jplist-dd-panel").text(b.eq(0).text()));break;case "paging":!this.inStorage&&d&&0<b.length?(a.data.number=b.attr("data-number"),this.history.addStatus(a),this.observer.trigger(this.observer.events.statusEvent,
[a])):(this.$control.find("li").removeClass("active"),b=this.$control.find('li:has([data-number="'+a.data.number+'"])'),0===b.length&&(b=this.$control.find('li:has([data-number="all"])')),b.addClass("active"),this.$control.find(".jplist-dd-panel").text(b.eq(0).text()))}};jQuery.fn.jplist.ui.controls.Dropdown=function(e){return new a(e)}})();(function(){var b=function(a,d){var b,c=null,f="",h="";b=a.$control.data("storage-status");if(d&&b)c=b;else switch(d?(b=a.$control.find('option[data-default="true"]').eq(0),0>=b.length&&(b=a.$control.find("option").eq(0))):b=a.$control.find("option:selected"),a.action){case "paging":c=new jQuery.fn.jplist.ui.controls.DropdownPaginationDTO(b.attr("data-number"));c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking);break;case "sort":f=
a.$control.attr("data-datetime-format")||"";h=a.$control.attr("data-ignore")||"";c=new jQuery.fn.jplist.ui.controls.DropdownSortDTO(b.attr("data-path"),b.attr("data-type"),b.attr("data-order"),f,h);c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking);break;case "filter":c=new jQuery.fn.jplist.ui.controls.DropdownFilterDTO(b.attr("data-path"),b.attr("data-type")),c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,
c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)}return c},f=function(a,b){var c,f,l;a.$control.find("option").each(function(){c=jQuery(this).attr("data-path");f=jQuery(this).attr("data-type");c&&(l=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,f),b.push(l))})},c=function(a){a.$control.change(function(){var d,c,f;d=b(a,!1);c=jQuery(this).find("option:selected");f=c.attr("data-path");c=c.attr("data-number");f?(d.data.path=f,d.data.type=jQuery(this).attr("data-type"),
d.data.order=jQuery(this).attr("data-order")):c&&(d.data.number=c);a.history.addStatus(d);a.observer.trigger(a.observer.events.statusEvent,[d])})},a=function(a){c(a);return jQuery.extend(this,a)};a.prototype.getStatus=function(a){return b(this,a)};a.prototype.getDeepLink=function(){var a="",d;if(this.inDeepLinking&&(d=b(this,!1),d.data))switch(this.action){case "paging":jQuery.isNumeric(d.data.number)&&(a=this.name+this.options.delimiter0+"number="+d.data.number);break;case "sort":d.data.path&&(d.data.type&&
d.data.order)&&(a=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+d.data.path+this.options.delimiter2+d.data.type+this.options.delimiter2+d.data.order);break;case "filter":d.data.path&&(a=this.name+this.options.delimiter0+"path="+d.data.path)}return a};a.prototype.getStatusByDeepLink=function(a,d){var c=null,f;if(this.inDeepLinking&&(c=b(this,!0),c.data))switch(this.action){case "paging":"number"===a&&jQuery.isNumeric(c.data.number)&&(c.data.number=
d);break;case "sort":a==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(f=d.split(this.options.delimiter2),3===f.length&&(c.data.path=f[0],c.data.type=f[1],c.data.order=f[2]));break;case "filter":"path"===a&&c.data.path&&(c.data.path=d)}return c};a.prototype.getPaths=function(a){f(this,a)};a.prototype.setStatus=function(a,b){var c;this.inStorage&&b&&this.$control.data("storage-status",a);switch(this.action){case "filter":if(!this.inStorage&&b)a.data.path="default",this.history.addStatus(a),
this.observer.trigger(this.observer.events.statusEvent,[a]);else if((c=this.$control.find('option[data-path="'+a.data.path+'"]'))&&0<c.length)c.get(0).selected=!0;break;case "sort":!this.inStorage&&b?(a.data.path="default",this.history.addStatus(a),this.observer.trigger(this.observer.events.statusEvent,[a])):(c="default"==a.data.path?this.$control.find('option[data-path="'+a.data.path+'"]'):this.$control.find('option[data-path="'+a.data.path+'"][data-type="'+a.data.type+'"][data-order="'+a.data.order+
'"]'),0<c.length&&(c.get(0).selected=!0));break;case "paging":c=this.$control.find('option[data-number="'+a.data.number+'"]'),0===c.length&&(c=this.$control.find('option[data-number="all"]')),c.get(0).selected=!0}};jQuery.fn.jplist.ui.controls.Select=function(b){return new a(b)}})();(function(){jQuery.fn.jplist.ui.controls.DropdownFilterDTO=function(b,f){return{path:b,type:f,filterType:"path"}}})();(function(){jQuery.fn.jplist.ui.controls.DropdownPaginationDTO=function(b){return{number:b}}})();(function(){jQuery.fn.jplist.ui.controls.DropdownSortDTO=function(b,f,c,a,e){return{path:b,type:f,order:c,dateTimeFormat:a,ignore:e}}})();(function(){var b=function(a,b){var d;d=null;var c;c=!1;d=a.$control.data("storage-status");if(!b||!d){d=a.$control.find("button[data-active]").eq(0);0>=d.length&&(d=a.$control.find("button").eq(0));d=b?0:Number(d.attr("data-number"))||0;if(c="true"===a.$control.attr("data-jump-to-start")||a.controlOptions.jumpToStart)(c=a.history.getLastStatus())&&("pagination"!==c.type&&"views"!==c.type)&&(d=0);c=Number(a.$control.attr("data-items-per-page"))||0;d=new jQuery.fn.jplist.ui.controls.PaginationDTO(d,
c);d=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,d,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)}return d},f=function(a){a.$control.on("click","button",function(){var e,d=null;e=Number(jQuery(this).attr("data-number"))||0;d=b(a,!1);d.data.currentPage=e;a.history.addStatus(d);a.observer.trigger(a.observer.events.statusEvent,[d])})},c=function(a){a.params={view:new jQuery.fn.jplist.ui.controls.PaginationView(a.$control,a.controlOptions)};f(a);return jQuery.extend(this,
a)};c.prototype.getStatus=function(a){return b(this,a)};c.prototype.getDeepLink=function(){var a="",e;this.inDeepLinking&&(e=b(this,!1),e.data&&(jQuery.isNumeric(e.data.currentPage)&&(a=this.name+this.options.delimiter0+"currentPage="+e.data.currentPage),jQuery.isNumeric(e.data.number)&&(a=this.name+this.options.delimiter0+"number="+e.data.number)));return a};c.prototype.getStatusByDeepLink=function(a,e){var d;a:if(d=null,this.inDeepLinking){if("currentPage"!==a){d=null;break a}d=b(this,!0);d.data&&
"currentPage"===a&&(d.data.currentPage=e)}return d};c.prototype.setStatus=function(a,b){this.inStorage&&b&&this.$control.data("storage-status",a);!this.inStorage&&b?(a.data.currentPage=0,this.history.addStatus(a),this.observer.trigger(this.observer.events.statusEvent,[a])):a.data&&a.data.paging&&this.params.view.build(a.data.paging)};jQuery.fn.jplist.ui.controls.Pagination=function(a){return new c(a)}})();(function(){var b=function(b,a,e){var d;d='<div class="jplist-pagesbox" data-type="pagesbox">';for(var g=b;g<a;g++)d+='<button type="button" data-type="page" ',g===e&&(d+=' class="jplist-current" data-active="true" '),b=g+1,d+=' data-number="'+g+'" ',d+=">"+b+"</button> ";return d+"</div>"},f=function(b,a){var e={$control:b,options:a,$pagingprev:null,$pagingmid:null,$pagingnext:null,$jplistFirst:null,$jplistPrev:null,$jplistNext:null,$jplistLast:null,mode:b.attr("data-mode")},d,g,f,l;d=e.$control.attr("data-prev")||
e.options.prevArrow;g=e.$control.attr("data-next")||e.options.nextArrow;f=e.$control.attr("data-first")||e.options.firstArrow;l=e.$control.attr("data-last")||e.options.lastArrow;e.$control.html('<div class="jplist-pagingprev" data-type="pagingprev"></div><div class="jplist-pagingmid" data-type="pagingmid"></div><div class="jplist-pagingnext" data-type="pagingnext"></div>');e.$pagingprev=e.$control.find('[data-type="pagingprev"]');e.$pagingmid=e.$control.find('[data-type="pagingmid"]');e.$pagingnext=
e.$control.find('[data-type="pagingnext"]');e.$pagingprev.html('<button type="button" class="jplist-first" data-number="0" data-type="first">'+f+'</button><button type="button" class="jplist-prev" data-type="prev">'+d+"</button>");e.$pagingnext.html('<button type="button" class="jplist-next" data-type="next">'+g+'</button><button type="button" class="jplist-last" data-type="last">'+l+"</button>");e.$jplistFirst=e.$pagingprev.find('[data-type="first"]');e.$jplistPrev=e.$pagingprev.find('[data-type="prev"]');
e.$jplistNext=e.$pagingnext.find('[data-type="next"]');e.$jplistLast=e.$pagingnext.find('[data-type="last"]');return jQuery.extend(this,e)};f.prototype.build=function(c){if(0<=c.currentPage&&c.currentPage<c.pagesNumber){this.$control.removeClass("jplist-hidden");switch(this.mode){case "google-like":var a="",e;e=Number(this.$control.attr("data-range"))||this.options.range;a=c.currentPage-Math.floor((e-1)/2);0>a&&(a=0);e=a+e;e>c.pagesNumber&&(e=c.pagesNumber);a=b(a,e,c.currentPage);this.$pagingmid.html(a);
break;default:var d;d=Number(this.$control.attr("data-range"))||this.options.range;e=Math.floor(c.currentPage/d);a=d*(e+1);a>c.pagesNumber&&(a=c.pagesNumber);a=b(d*e,a,c.currentPage);this.$pagingmid.html(a)}this.$jplistPrev.attr("data-number",c.prevPage).removeClass("jplist-current");this.$jplistNext.attr("data-number",c.nextPage).removeClass("jplist-current");this.$jplistLast.attr("data-number",c.pagesNumber-1).removeClass("jplist-current");1>=c.pagesNumber?this.$control.addClass("jplist-one-page"):
this.$control.removeClass("jplist-one-page")}else this.$control.addClass("jplist-hidden");0===c.currentPage?this.$pagingprev.addClass("jplist-hidden"):this.$pagingprev.removeClass("jplist-hidden");c.currentPage==c.pagesNumber-1?this.$pagingnext.addClass("jplist-hidden"):this.$pagingnext.removeClass("jplist-hidden")};jQuery.fn.jplist.ui.controls.PaginationView=function(b,a){return new f(b,a)}})();(function(){jQuery.fn.jplist.ui.controls.PaginationDTO=function(b,f){var c={currentPage:b,paging:null};f&&(c.number=f);return c}})();(function(){var b=function(b){return jQuery.extend(this,b)};b.prototype.setStatus=function(b,c){var a,e;a=b.data.paging;!a||0>=a.pagesNumber?(this.$control.html(""),this.$control.addClass("jplist-empty")):(this.$control.removeClass("jplist-empty"),e=this.$control.attr("data-type"),e=e.replace("{current}",a.currentPage+1),e=e.replace("{pages}",a.pagesNumber),e=e.replace("{start}",a.start+1),e=e.replace("{end}",a.end),e=e.replace("{all}",a.itemsNumber),this.$control.html(e))};jQuery.fn.jplist.ui.controls.PaginationInfo=
function(f){return new b(f)}})();(function(){var b=function(b){b.$control.on("click",function(){b.observer.trigger(b.observer.events.forceRenderStatusesEvent,[!0])})},f=function(c){b(c);return jQuery.extend(this,c)};jQuery.fn.jplist.ui.controls.Reset=function(b){return new f(b)}})();(function(){var b=function(a,b){var d,c,f;d="";c=a.$control.data("storage-status");b&&c?d=c:(c=a.$control.attr("data-path"),f=b?"":a.$control.val(),a.controlOptions&&a.controlOptions.ignore&&(d=a.controlOptions.ignore),d=new jQuery.fn.jplist.ui.controls.TextboxDTO(c,f,d),d=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,d,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking));return d},f=function(a){var e="keyup";if(a.params.$button&&0<a.params.$button.length)a.params.$button.on("click",
function(d){d.preventDefault();a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1]);return!1});else a.controlOptions&&a.controlOptions.eventName&&(e=a.controlOptions.eventName),a.$control.on(e,function(){a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])})},c=function(a){a.params={path:a.$control.attr("data-path"),dataButton:a.$control.attr("data-button"),$button:null};a.params.dataButton&&(a.params.$button=
jQuery(a.params.dataButton));f(a);return jQuery.extend(this,a)};c.prototype.getStatus=function(a){return b(this,a)};c.prototype.getDeepLink=function(){var a="",e;this.inDeepLinking&&(e=b(this,!1),e.data&&""!==jQuery.trim(e.data.value)&&(a=this.name+this.options.delimiter0+"value="+e.data.value));return a};c.prototype.getStatusByDeepLink=function(a,e){var d=null;this.inDeepLinking&&(d=b(this,!0),d.data&&"value"===a&&(d.data.value=e));return d};c.prototype.getPaths=function(a){var b;b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.path,
null);a.push(b)};c.prototype.setStatus=function(a,b){this.inStorage&&b&&this.$control.data("storage-status",a);!this.inStorage&&b?(a.data.value="",this.observer.trigger(this.observer.events.statusEvent,[a])):a.data&&(a.data.value||(a.data.value=""),this.$control.val(a.data.value))};jQuery.fn.jplist.ui.controls.Textbox=function(a){return new c(a)}})();(function(){jQuery.fn.jplist.ui.controls.TextboxDTO=function(b,f,c){return{path:b,ignore:c,value:f,filterType:"TextFilter"}}})();(function(){var b=function(a,b){var d;d=null;d=a.params.defaultView;b&&a.params.storageStatus?d=a.params.storageStatus:(d=b?a.params.defaultView:a.params.currentView,d=new jQuery.fn.jplist.ui.controls.ViewsDTO(d),d=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,d,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking));return d},f=function(a){a.params.$buttons.on("click",function(){var e=jQuery(this).attr("data-type");a.$root.removeClass(a.params.types.join(" ")).addClass(e);a.params.currentView=
e;a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])})},c=function(a){a.params={$buttons:a.$control.find("[data-type]"),storageStatus:null,defaultView:a.$control.attr("data-default")||"list-view",currentView:a.$control.attr("data-default")||"list-view",types:[]};0<a.params.$buttons.length&&(a.params.$buttons.each(function(){var b=jQuery(this).attr("data-type");b&&a.params.types.push(b)}),f(a));return jQuery.extend(this,a)};c.prototype.getStatus=function(a){return b(this,
a)};c.prototype.getDeepLink=function(){var a="",e;this.inDeepLinking&&(e=b(this,!1),e.data&&(a=this.name+this.options.delimiter0+"view="+e.data.view));return a};c.prototype.getStatusByDeepLink=function(a,e){var d=null;this.inDeepLinking&&(d=b(this,!0),d.data.view=e);return d};c.prototype.setStatus=function(a,b){a.data&&(this.inStorage&&b&&(this.params.storageStatus=a),this.$root.removeClass(this.params.types.join(" ")),!this.inStorage&&b?(this.$root.addClass(this.params.defaultView),a.data.view=this.params.defaultView,
this.params.currentView=this.params.defaultView,this.observer.trigger(this.observer.events.statusEvent,[a])):(this.$root.addClass(a.data.view),this.params.currentView=a.data.view))};jQuery.fn.jplist.ui.controls.Views=function(a){return new c(a)}})();(function(){jQuery.fn.jplist.ui.controls.ViewsDTO=function(b){this.view=b}})();(function(){var b=function(b){return jQuery.extend(this,b)};b.prototype.getStatus=function(b){b=new jQuery.fn.jplist.ui.controls.DefaultSortDTO(this.$control.attr("data-path"),this.$control.attr("data-type"),this.$control.attr("data-order"),this.$control.attr("data-datetime-format"),this.$control.attr("data-ignore"));return new jQuery.fn.jplist.app.dto.StatusDTO(this.name,this.action,this.type,b,this.inStorage,this.inAnimation,this.isAnimateToTop,this.inDeepLinking)};b.prototype.getPaths=function(b){var c,
a;c=this.$control.attr("data-path");a=this.$control.attr("data-type");c&&(c=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c,a),b.push(c))};jQuery.fn.jplist.ui.controls.DefaultSort=function(f){return new b(f)}})();(function(){jQuery.fn.jplist.ui.controls.DefaultSortDTO=function(b,f,c,a,e){return{path:b,type:f,order:c,dateTimeFormat:a,ignore:e}}})();(function(){var b=function(a,b){var d,c,f,l,h=null,m="";c=a.$control.data("path");l=a.$control.data("dataType");f=a.$control.data("dataText");d=a.$control.data("$countValue");switch(l){case "path":h=jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter(c,b);break;case "text":a.controlOptions&&a.controlOptions.ignore&&(m=a.controlOptions.ignore);h=jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter(f,c,b,m);break;case "range":h=jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter(c,
b,0,0,Number(a.$control.data("dataMin")),Number(a.$control.data("dataMax")))}h&&(d.html(h.length),0===h.length?a.$control.addClass("count-0"):a.$control.removeClass("count-0"))},f=function(a){switch(a.$control.data("dataMode")){case "static":a.observer.on(a.observer.events.collectionReadyEvent,function(e,d){b(a,d.dataitems)});break;case "filter":a.observer.on(a.observer.events.filterEvent,function(e,d,c){b(a,c.dataview)});break;case "all":a.observer.on(a.observer.events.setStatusesEvent,function(e,
d,c){b(a,c.dataview)})}},c=function(a){var b,d,c,k,l,h,m;b=a.$control.attr("data-format");k=a.$control.attr("data-mode")||"static";l=a.$control.attr("data-type")||"path";d=a.$control.attr("data-path");c=a.$control.attr("data-text");h=Number(a.$control.attr("data-min"));m=Number(a.$control.attr("data-max"));b&&(b=b.replace("{count}",'<span data-type="count-value"></span>'),a.$control.html(b),b=a.$control.find('[data-type="count-value"]'),a.$control.data("$countValue",b));d&&(b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d,
null),a.$control.data("path",b));a.$control.data("dataMode",k);a.$control.data("dataType",l);a.$control.data("dataPath",d);a.$control.data("dataText",c);a.$control.data("dataMin",h);a.$control.data("dataMax",m);f(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.controls.Counter=function(a){return new c(a)}})();(function(){var b=function(a){var b,d={},c,k;b=a.controlOptions;c=a.$control.find('[data-type="prev"]');k=a.$control.find('[data-type="next"]');a.$control.data("jplist-datepicker-range-prev",c);a.$control.data("jplist-datepicker-range-next",k);c.off().change(function(){""===jQuery.trim(jQuery(this).val())&&(a.history.addStatus(f(a,!1)),a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1]))});k.off().change(function(){""===jQuery.trim(jQuery(this).val())&&(a.history.addStatus(f(a,!1)),
a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1]))});d.onSelect=function(b,d){a.history.addStatus(f(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])};b&&(b.datepicker(c,d),b.datepicker(k,d))},f=function(a,b){var d=null,c=d=d=null,f,l,h,m;f=a.$control.data("storage-status");b&&f?d=f:(m=a.$control.attr("data-path").toString(),f=a.$control.attr("data-datetime-format").toString(),l=a.$control.data("jplist-datepicker-range-prev"),h=a.$control.data("jplist-datepicker-range-next"),
b||(d=l.datepicker("getDate"),c=h.datepicker("getDate")),d=new jQuery.fn.jplist.ui.controls.DatePickerRangeFilterDTO(m,f,d,c),d=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,d,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking));return d},c=function(a){b(a);return jQuery.extend(this,a)};c.prototype.getStatus=function(a){return f(this,a)};c.prototype.getDeepLink=function(){var a="",b;this.inDeepLinking&&(b=f(this,!1),b.data&&(jQuery.isNumeric(b.data.prev_year)&&(jQuery.isNumeric(b.data.prev_month)&&
jQuery.isNumeric(b.data.prev_day))&&(a+=this.name+this.options.delimiter0+"prev="+b.data.prev_year+this.options.delimiter2+b.data.prev_month+this.options.delimiter2+b.data.prev_day),jQuery.isNumeric(b.data.next_year)&&(jQuery.isNumeric(b.data.next_month)&&jQuery.isNumeric(b.data.next_day))&&(""!==a&&(a+=this.options.delimiter1),a+=this.name+this.options.delimiter0+"next="+b.data.next_year+this.options.delimiter2+b.data.next_month+this.options.delimiter2+b.data.next_day)));return a};c.prototype.getStatusByDeepLink=
function(a,b){var d=null,c;if(this.inDeepLinking&&(d=f(this,!0),d.data))switch(a){case "prev":c=b.split(this.options.delimiter2);3===c.length&&(d.data.prev_year=c[0],d.data.prev_month=c[1],d.data.prev_day=c[2]);break;case "next":c=b.split(this.options.delimiter2),3===c.length&&(d.data.next_year=c[0],d.data.next_month=c[1],d.data.next_day=c[2])}return d};c.prototype.getPaths=function(a){var b;if(b=this.$control.attr("data-path").toString())b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,
"datetime"),a.push(b)};c.prototype.setStatus=function(a,b){var d,c,f;this.inStorage&&b&&this.$control.data("storage-status",a);c=this.$control.data("jplist-datepicker-range-prev");f=this.$control.data("jplist-datepicker-range-next");jQuery.isNumeric(a.data.prev_year)&&jQuery.isNumeric(a.data.prev_month)&&jQuery.isNumeric(a.data.prev_day)?(d=new Date(a.data.prev_year,a.data.prev_month,a.data.prev_day),c.datepicker("setDate",d)):c.val("");jQuery.isNumeric(a.data.next_year)&&jQuery.isNumeric(a.data.next_month)&&
jQuery.isNumeric(a.data.next_day)?(d=new Date(a.data.next_year,a.data.next_month,a.data.next_day),f.datepicker("setDate",d)):f.val("")};jQuery.fn.jplist.ui.controls.DatePickerRangeFilter=function(a){return new c(a)}})();(function(){jQuery.fn.jplist.ui.controls.DatePickerRangeFilterDTO=function(b,f,c,a){b={path:b,format:f,filterType:"dateRange",prev_year:"",prev_month:"",prev_day:"",next_year:"",next_month:"",next_day:""};c&&(b.prev_year=c.getFullYear(),b.prev_month=c.getMonth(),b.prev_day=c.getDate());a&&(b.next_year=a.getFullYear(),b.next_month=a.getMonth(),b.next_day=a.getDate());return b}})();(function(){var b=function(a,b){var d=null,c,f,l,h;b&&a.params.storageStatus?d=a.params.storageStatus:(d=a.$control.attr("data-path").toString(),c=a.params.$uiSlider.slider("option","min"),f=a.params.$uiSlider.slider("option","max"),b?(l=c,h=f):(l=a.params.$uiSlider.slider("values",0),h=a.params.$uiSlider.slider("values",1)),d=new jQuery.fn.jplist.ui.controls.RangeSliderDTO(d,c,f,l,h),d=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,d,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking));
return d},f=function(a){a.params.$uiSlider.on("slidechange",function(e,d){a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])})},c=function(a){a.params={$uiSlider:a.$control.find('[data-type="ui-slider"]'),$prev:a.$control.find('[data-type="prev-value"]'),$next:a.$control.find('[data-type="next-value"]'),controlOptions:a.controlOptions,storageStatus:null};a.params.controlOptions&&(a.params.controlOptions.ui_slider(a.params.$uiSlider,a.params.$prev,a.params.$next),
a.params.controlOptions.set_values(a.params.$uiSlider,a.params.$prev,a.params.$next));f(a);return jQuery.extend(this,a)};c.prototype.getStatus=function(a){return b(this,a)};c.prototype.getDeepLink=function(){var a="",e;this.inDeepLinking&&(e=b(this,!1),e.data&&(jQuery.isNumeric(e.data.prev)&&jQuery.isNumeric(e.data.next))&&(a=this.name+this.options.delimiter0+"prev"+this.options.delimiter2+"next="+e.data.prev+this.options.delimiter2+e.data.next));return a};c.prototype.getStatusByDeepLink=function(a,
e){var d=null,c;this.inDeepLinking&&(d=b(this,!0),d.data&&a==="prev"+this.options.delimiter2+"next"&&(c=e.split(this.options.delimiter2),2===c.length&&(d.data.prev=c[0],d.data.next=c[1])));return d};c.prototype.getPaths=function(a){var b;if(b=this.$control.attr("data-path").toString())b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,"number"),a.push(b)};c.prototype.setStatus=function(a,b){var d,c;this.inStorage&&b&&(this.params.storageStatus=a);jQuery.isNumeric(a.data.prev)&&jQuery.isNumeric(a.data.next)&&
(d=Number(a.data.prev),c=Number(a.data.next),!isNaN(d)&&!isNaN(c)&&(this.params.$uiSlider.slider("values",0)!=d&&this.params.$uiSlider.slider("values",0,d),this.params.$uiSlider.slider("values",1)!=c&&this.params.$uiSlider.slider("values",1,c)));this.params.controlOptions&&this.params.controlOptions.set_values(this.params.$uiSlider,this.params.$prev,this.params.$next)};jQuery.fn.jplist.ui.controls.RangeSlider=function(a){return new c(a)}})();(function(){jQuery.fn.jplist.ui.controls.RangeSliderDTO=function(b,f,c,a,e){return{path:b,type:"number",filterType:"range",min:f,max:c,prev:a,next:e}}})();(function(){var b=function(a,b){var d,c;c="";d=a.$control.data("storage-status");b&&d?c=d:((d=b?"true"===a.$control.attr("data-selected"):a.params.selected)&&(c="path"),c={path:a.$control.attr("data-path"),filterType:c,selected:d},c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking));return c},f=function(a){a.$control.on("click",function(){a.params.selected=!a.params.selected;a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,
[!1])})},c=function(a){a.params={selected:"true"===a.$control.attr("data-selected")};a.options.deepLinking&&(a.params.selected=!1);f(a);return jQuery.extend(this,a)};c.prototype.getStatus=function(a){return b(this,a)};c.prototype.getDeepLink=function(){var a="",c=null;this.inDeepLinking&&(c=b(this,!1),c.data&&c.data.selected&&(a=this.name+this.options.delimiter0+"selected=true"));return a};c.prototype.getStatusByDeepLink=function(a,c){var d=null,f;if(this.inDeepLinking&&(d=b(this,!1),d.data&&(f="selected"===
a&&"true"===c)))d.data.selected=f,d.data.filterType="path";return d};c.prototype.getPaths=function(a){var b;if(b=this.$control.attr("data-path"))b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,"text"),a.push(b)};c.prototype.setStatus=function(a,b){this.inStorage&&b&&this.$control.data("storage-status",a);(this.params.selected=a.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")};jQuery.fn.jplist.ui.controls.ButtonFilter=function(a){return new c(a)}})();(function(){var b=function(a,b){var d,c=[],e,f,p;d=a.$control.data("storage-status");b&&d||a.params.$buttons.each(function(a,d){e=jQuery(d);if(p=b?"true"===e.attr("data-selected"):e.data("selected")||!1)(f=e.attr("data-path"))&&c.push(f)});return d=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,{pathGroup:c,filterType:"pathGroup"},a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)},f=function(a,b){var d,c;a.params.$buttons.each(function(a,e){if(d=jQuery(e).attr("data-path"))c=
new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d,"text"),b.push(c)})},c=function(a,b,d){var c;a.params.$buttons.each(function(a,b){c=jQuery(b);c.removeClass("jplist-selected");c.data("selected",!1)});if(b.data&&b.data.pathGroup&&jQuery.isArray(b.data.pathGroup)&&0<b.data.pathGroup.length)for(var e=0;e<b.data.pathGroup.length;e++)d=b.data.pathGroup[e],c=a.params.$buttons.filter('[data-path="'+d+'"]'),0<c.length&&(c.addClass("jplist-selected"),c.data("selected",!0))},a=function(a){a.params.$buttons.on("click",
function(){var d,c;d=jQuery(this);"multiple"===a.params.mode?(c=d.data("selected")||!1,d.data("selected",!c)):(a.params.$buttons.data("selected",!1),d.data("selected",!0));a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])})},e=function(a){var b;"multiple"===a.params.mode?a.params.$buttons.each(function(){var b=jQuery(this),d;d="true"===b.attr("data-selected");a.options.deepLinking&&(d=!1);b.data("selected",d)}):(a.params.$buttons.data("selected",!1),
b=a.params.$buttons.filter('[data-selected="true"]'),b=0<b.length?b.eq(0):a.params.$buttons.eq(0),b.data("selected",!0),b.attr("data-selected",!0),b.trigger("click"))},d=function(b){b.params={$buttons:b.$control.find("[data-button]"),mode:b.$control.attr("data-mode")||"multiple"};a(b);e(b);return jQuery.extend(this,b)};d.prototype.getStatus=function(a){return b(this,a)};d.prototype.getDeepLink=function(){var a="",d="",c;if(this.inDeepLinking&&(c=b(this,!1),c.data&&c.data.pathGroup&&0<c.data.pathGroup.length)){for(var e=
0;e<c.data.pathGroup.length;e++)a=c.data.pathGroup[e],0<e&&(d+=this.options.delimiter2),d+=a;a=this.name+this.options.delimiter0+"selected="+d}return a};d.prototype.getStatusByDeepLink=function(a,d){var c=null;this.inDeepLinking&&(c=b(this,!1),c.data&&"selected"===a&&(c.data.pathGroup=d.split(this.options.delimiter2)));return c};d.prototype.getPaths=function(a){f(this,a)};d.prototype.setStatus=function(a,b){c(this,a,b)};jQuery.fn.jplist.ui.controls.ButtonFilterGroup=function(a){return new d(a)}})();(function(){var b=function(a,b){var d,c;c=null;var f=c="";d=a.$control.data("storage-status");b&&d?c=d:(a.controlOptions&&a.controlOptions.ignore&&(c=a.controlOptions.ignore),f=(d=b?"true"===a.$control.attr("data-selected"):a.params.selected)?a.params.dataText:"",c=new jQuery.fn.jplist.ui.controls.ButtonTextFilterDTO(a.params.dataPath,f,c,d),c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking));return c},f=function(a){a.$control.on("click",
function(){a.params.selected=!a.params.selected;a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1]);a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])})},c=function(a){a.params={selected:"true"===a.$control.attr("data-selected"),dataPath:a.$control.attr("data-path"),dataText:a.$control.attr("data-text")};a.options.deepLinking&&(a.params.selected=!1);f(a);return jQuery.extend(this,a)};c.prototype.getStatus=function(a){return b(this,a)};
c.prototype.getDeepLink=function(){var a="",c;this.inDeepLinking&&(c=b(this,!1),c.data&&c.data.selected&&(a=this.name+this.options.delimiter0+"selected=true"));return a};c.prototype.getStatusByDeepLink=function(a,c){var d=null,f;if(this.inDeepLinking&&(d=b(this,!1),d.data&&(f="selected"===a&&"true"===c)))d.data.selected=f,d.data.value=this.params.dataText;return d};c.prototype.getPaths=function(a){var b;this.params.dataPath&&(b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.dataPath,
"text"),a.push(b))};c.prototype.setStatus=function(a,b){this.inStorage&&b&&this.$control.data("storage-status",a);(this.params.selected=a.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")};jQuery.fn.jplist.ui.controls.ButtonTextFilter=function(a){return new c(a)}})();(function(){jQuery.fn.jplist.ui.controls.ButtonTextFilterDTO=function(b,f,c,a){return{path:b,ignore:c,value:f,selected:a,filterType:"TextFilter"}}})();(function(){var b=function(a,b){var c,e=[];c=null;c="";var f;f=a.$control.data("storage-status");b&&f?c=f:(a.controlOptions&&a.controlOptions.ignore&&(c=a.controlOptions.ignore),a.params.$buttons.each(function(a,d){var c=jQuery(d),f;f=b?"true"===c.attr("data-selected"):c.data("selected")||!1;e.push({selected:f,text:c.data("dataText"),path:c.data("dataPath")})}),c=new jQuery.fn.jplist.ui.controls.ButtonTextFilterGroupDTO(e,c),c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,
a.inAnimation,a.isAnimateToTop,a.inDeepLinking));return c},f=function(a,b){var c,e,f;a.params.$buttons.each(function(a,d){c=jQuery(this);if(e=c.attr("data-path"))f=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(e,"text"),b.push(f)})},c=function(a,b,c){var e;a.params.$buttons.each(function(a,b){e=jQuery(b);e.removeClass("jplist-selected");e.data("selected",!1)});if(b.data&&b.data.textAndPathsGroup&&jQuery.isArray(b.data.textAndPathsGroup)&&0<b.data.textAndPathsGroup.length)for(var f=
0;f<b.data.textAndPathsGroup.length;f++)c=b.data.textAndPathsGroup[f],e=a.params.$buttons.filter('[data-path="'+c.path+'"][data-text="'+c.text+'"]'),0<e.length&&c.selected&&(e.addClass("jplist-selected"),e.data("selected",!0))},a=function(a){var c;a.params.$buttons.on("click",function(){var e=jQuery(this);c=e.data("selected")||!1;e.data("selected",!c);a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])})},e=function(b){b.params={$buttons:b.$control.find("[data-button]")};
b.params.$buttons.each(function(){var a=jQuery(this),c;c="true"===a.attr("data-selected");b.options.deepLinking&&(c=!1);a.data("selected",c);a.data("dataPath",a.attr("data-path"));a.data("dataText",a.attr("data-text"))});a(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(a){return b(this,a)};e.prototype.getDeepLink=function(){var a="",c,e,f=[];if(this.inDeepLinking&&(c=b(this,!1),c.data&&c.data.textAndPathsGroup&&0<c.data.textAndPathsGroup.length)){for(var h=0;h<c.data.textAndPathsGroup.length;h++)e=
c.data.textAndPathsGroup[h],e.selected&&f.push(e.text+this.options.delimiter3+e.path);0<f.length&&(a=this.name+this.options.delimiter0+"selected="+f.join(this.options.delimiter2))}return a};e.prototype.getStatusByDeepLink=function(a,c){var e=null,f,h;if(this.inDeepLinking&&(e=b(this,!1),e.data&&"selected"===a)){e.data.textAndPathsGroup=[];f=c.split(this.options.delimiter2);for(var m=0;m<f.length;m++)h=f[m].split(this.options.delimiter3),2===h.length&&e.data.textAndPathsGroup.push({selected:!0,text:h[0],
path:h[1]})}return e};e.prototype.getPaths=function(a){f(this,a)};e.prototype.setStatus=function(a,b){c(this,a,b)};jQuery.fn.jplist.ui.controls.ButtonTextFilterGroup=function(a){return new e(a)}})();(function(){jQuery.fn.jplist.ui.controls.ButtonTextFilterGroupDTO=function(b,f){return{textAndPathsGroup:b,ignore:f,filterType:"textFilterPathGroup"}}})();(function(){var b=function(a,b){var c,e=[];c=null;var f;c=a.$control.data("storage-status");if(!b||!c)a.params.$checkboxes.each(function(a,c){var d=jQuery(c);f=b?d.data("selected-on-start")||!1:d.get(0).checked;d=d.attr("data-path");f&&d&&e.push(d)}),c=new jQuery.fn.jplist.ui.controls.CheckboxGroupFilterDTO(e),c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking);return c},f=function(a,b){a.params.$checkboxes.each(function(a,
c){var d;if(d=jQuery(this).attr("data-path"))d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d,"text"),b.push(d)})},c=function(a,b,c){var e;a.params.$checkboxes.each(function(a,b){e=jQuery(b);e.removeClass("jplist-selected");e.get(0).checked=!1});if(b.data&&b.data.pathGroup&&jQuery.isArray(b.data.pathGroup)&&0<b.data.pathGroup.length)for(var f=0;f<b.data.pathGroup.length;f++)c=b.data.pathGroup[f],e=a.params.$checkboxes.filter('[data-path="'+c+'"]'),0<e.length&&(e.addClass("jplist-selected"),
e.get(0).checked=!0)},a=function(a){a.params.$checkboxes.on("change",function(){a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])})},e=function(b){b.params={$checkboxes:b.$control.find("[data-path]")};b.params.$checkboxes.each(function(){var a=jQuery(this),c;c=a.get(0).checked;b.options.deepLinking&&(c=!1);a.data("selected-on-start",c)});a(b);return jQuery.extend(this,b)};e.prototype.getStatus=function(a){return b(this,a)};e.prototype.getDeepLink=function(){var a=
"",c,e="";if(this.inDeepLinking&&(c=b(this,!1),c.data&&jQuery.isArray(c.data.pathGroup)&&0<c.data.pathGroup.length)){for(a=0;a<c.data.pathGroup.length;a++)""!==e&&(e+=this.options.delimiter2),e+=c.data.pathGroup[a];a=this.name+this.options.delimiter0+"pathGroup="+e}return a};e.prototype.getStatusByDeepLink=function(a,c){var e=null,f;this.inDeepLinking&&(e=b(this,!0),e.data&&"pathGroup"===a&&(f=c.split(this.options.delimiter2),0<f.length&&(e.data.pathGroup=f)));return e};e.prototype.getPaths=function(a){f(this,
a)};e.prototype.setStatus=function(a,b){c(this,a,b)};jQuery.fn.jplist.ui.controls.CheckboxGroupFilter=function(a){return new e(a)}})();(function(){jQuery.fn.jplist.ui.controls.CheckboxGroupFilterDTO=function(b){return{pathGroup:b,filterType:"pathGroup"}}})();(function(){var b=function(a,b){var c,f=[];c=null;var l;c=a.$control.data("storage-status");if(!b||!c)a.params.$checkboxes.each(function(a,c){var e=jQuery(c);l=b?e.data("selected-on-start")||!1:e.get(0).checked;(e=e.val())&&l&&f.push(e)}),c=new jQuery.fn.jplist.ui.controls.CheckboxTextFilterDTO(f,a.params.dataLogic,a.params.dataPath,a.params.ignore),c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking);return c},f=function(a,
b,c){var f;a.params.$checkboxes.each(function(a,b){f=jQuery(b);f.removeClass("jplist-selected");f.get(0).checked=!1});if(b.data&&b.data.textGroup&&jQuery.isArray(b.data.textGroup)&&0<b.data.textGroup.length)for(var l=0;l<b.data.textGroup.length;l++)c=b.data.textGroup[l],f=a.params.$checkboxes.filter('[value="'+c+'"]'),0<f.length&&(f.addClass("jplist-selected"),f.get(0).checked=!0)},c=function(a){a.params.$checkboxes.on("change",function(){a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,
[!1])})},a=function(a){a.params={$checkboxes:a.$control.find('input[type="checkbox"]'),dataPath:a.$control.attr("data-path"),dataLogic:a.$control.attr("data-logic")||"or",ignore:""};a.controlOptions&&a.controlOptions.ignore&&(a.params.ignore=a.controlOptions.ignore);a.params.$checkboxes.each(function(){var b=jQuery(this),c;c=b.get(0).checked;a.options.deepLinking&&(c=!1);b.data("selected-on-start",c)});c(a);return jQuery.extend(this,a)};a.prototype.getStatus=function(a){return b(this,a)};a.prototype.getDeepLink=
function(){var a="",c,f="";if(this.inDeepLinking&&(c=b(this,!1),c.data&&jQuery.isArray(c.data.textGroup)&&0<c.data.textGroup.length)){for(a=0;a<c.data.textGroup.length;a++)""!==f&&(f+=this.options.delimiter2),f+=c.data.textGroup[a];a=this.name+this.options.delimiter0+"textGroup="+f}return a};a.prototype.getStatusByDeepLink=function(a,c){var f=null,k;this.inDeepLinking&&(f=b(this,!0),f.data&&"textGroup"===a&&(k=c.split(this.options.delimiter2),0<k.length&&(f.data.textGroup=k)));return f};a.prototype.getPaths=
function(a){var b;this.params.dataPath&&(b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.dataPath,"text"),a.push(b))};a.prototype.setStatus=function(a,b){f(this,a,b)};jQuery.fn.jplist.ui.controls.CheckboxTextFilter=function(b){return new a(b)}})();(function(){jQuery.fn.jplist.ui.controls.CheckboxTextFilterDTO=function(b,f,c,a){return{textGroup:b,logic:f,path:c,ignoreRegex:a,filterType:"textGroup"}}})();(function(){var b=function(a,b){var c=null,f,c=a.$control.data("storage-status");if(!b||!c)f=b?a.params.initialSelected||!1:a.$control.get(0).checked,c={path:a.$control.attr("data-path"),type:"TextFilter",filterType:"path",selected:f},f||(c.filterType=""),c=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,c,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking);return c},f=function(a){a.$control.on("change",function(){a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,
[!1])})},c=function(a){a.params={initialSelected:a.$control.get(0).checked||!1};f(a);return jQuery.extend(this,a)};c.prototype.getStatus=function(a){return b(this,a)};c.prototype.getDeepLink=function(){var a="",c;this.inDeepLinking&&(c=b(this,!1),c.data&&c.data.selected&&(a=this.name+this.options.delimiter0+"selected=true"));return a};c.prototype.getStatusByDeepLink=function(a,c){var d=null;this.inDeepLinking&&(d=b(this,!0),d.data&&"selected"===a&&(d.data.selected=!0));return d};c.prototype.getPaths=
function(a){var b;if(b=this.$control.attr("data-path"))b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,"text"),a.push(b)};c.prototype.setStatus=function(a,b){this.inStorage&&b&&this.$control.data("storage-status",a);this.$control.get(0).checked=a.data.selected||!1};jQuery.fn.jplist.ui.controls.RadioButtonsFilter=function(a){return new c(a)}})();(function(){var b=function(a,b){var c,f;f=null;c=a.$control.data("storage-status");b&&c?f=c:(c=b?"true"===a.$control.attr("data-selected"):a.params.selected,a.params.path&&(f=c?{path:a.params.path,type:"number",filterType:"range",min:0,max:0,prev:a.params.prev,next:a.params.next,selected:c}:{path:a.params.path,filterType:"",selected:c},f=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,f,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking)));return f},f=function(a){a.$control.on("click",
function(){a.params.selected=!a.params.selected;a.history.addStatus(b(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])})},c=function(a){a.params={path:a.$control.attr("data-path"),prev:Number(a.$control.attr("data-min")),next:Number(a.$control.attr("data-max")),selected:"true"===a.$control.attr("data-selected")};f(a);return jQuery.extend(this,a)};c.prototype.getStatus=function(a){return b(this,a)};c.prototype.getDeepLink=function(){var a="",c;this.inDeepLinking&&(c=b(this,
!1),c.data&&c.data.selected&&(a=this.name+this.options.delimiter0+"selected=true"));return a};c.prototype.getStatusByDeepLink=function(a,c){var d=null;this.inDeepLinking&&(d=b(this,!1),d.data&&("selected"===a&&"true"===c)&&(d.data={path:this.params.path,type:"number",filterType:"range",min:0,max:0,prev:this.params.prev,next:this.params.next,selected:!0}));return d};c.prototype.getPaths=function(a){var b;this.params.path&&(b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.path,
"number"),a.push(b))};c.prototype.setStatus=function(a,b){this.inStorage&&b&&this.$control.data("storage-status",a);(this.params.selected=a.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")};jQuery.fn.jplist.ui.controls.RangeSliderToggleFilter=function(a){return new c(a)}})();(function(){var b=function(a){!a.history.statusesQueue||0>=a.history.statusesQueue.length?a.$control.addClass("jplist-disabled"):a.$control.removeClass("jplist-disabled")},f=function(a){a.observer.on(a.observer.events.setStatusesEvent,function(c,d,f){b(a)});a.$control.on("click",function(){var c,d,f;a.history.popStatus();a.history.popList();c=a.history.getLastStatus();if((f=a.history.getLastList()||[])&&c){for(var k=0;k<f.length;k++)d=f[k],d.name===c.name&&d.action===c.action&&jQuery.extend(!0,f[k],
c);a.observer.trigger(a.observer.events.renderStatusesEvent,[f])}else a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!0]);b(a)})},c=function(a){b(a);f(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.controls.BackButton=function(a){return new c(a)}})();(function(){var b=function(b){b.observer.on(b.observer.events.renderStatusesEvent,function(a){b.$control.removeClass("jplist-hide-preloader")});b.observer.on(b.observer.events.setStatusesEvent,function(a,e,d){b.$control.addClass("jplist-hide-preloader")})},f=function(c){b(c);return jQuery.extend(this,c)};jQuery.fn.jplist.ui.controls.Preloader=function(b){return new f(b)}})();

;}catch(e){}
try{
if(!window.googleLT_){window.googleLT_=(new Date()).getTime()}if(!window.google){window.google={}}if(!window.google["loader"]){window.google["loader"]={};google.loader.ServiceBase="http://www.google.com/uds";google.loader.GoogleApisBase="http://ajax.googleapis.com/ajax";google.loader.ApiKey="notsupplied";google.loader.KeyVerified=true;google.loader.LoadFailure=false;google.loader.Secure=false;google.loader.GoogleLocale="www.google.com";google.loader.ClientLocation={latitude:22.533,longitude:114.133,address:{city:"New Territories",region:"Hong Kong",country:"Hong Kong",country_code:"HK"}};google.loader.AdditionalParams="";(function(){var d=void 0,g=!0,h=null,j=!1,k=encodeURIComponent,l=window,m=document;function n(a,b){return a.load=b}var p="push",q="replace",r="charAt",t="indexOf",u="ServiceBase",v="name",w="getTime",x="length",y="prototype",z="setTimeout",A="loader",B="substring",C="join",D="toLowerCase";function E(a){return a in F?F[a]:F[a]=-1!=navigator.userAgent[D]()[t](a)}var F={};function G(a,b){var c=function(){};c.prototype=b[y];a.S=b[y];a.prototype=new c}function H(a,b,c){var e=Array[y].slice.call(arguments,2)||[];return function(){var c=e.concat(Array[y].slice.call(arguments));return a.apply(b,c)}}function I(a){a=Error(a);a.toString=function(){return this.message};return a}function J(a,b){for(var c=a.split(/\./),e=l,f=0;f<c[x]-1;f++){e[c[f]]||(e[c[f]]={}),e=e[c[f]]}e[c[c[x]-1]]=b}function K(a,b,c){a[b]=c}if(!L){var L=J}if(!M){var M=K}google[A].v={};L("google.loader.callbacks",google[A].v);var N={},O={};google[A].eval={};L("google.loader.eval",google[A].eval);n(google,function(a,b,c){function e(a){var b=a.split(".");if(2<b[x]){throw I("Module: '"+a+"' not found!")}"undefined"!=typeof b[1]&&(f=b[0],c.packages=c.packages||[],c.packages[p](b[1]))}var f=a,c=c||{};if(a instanceof Array||a&&"object"==typeof a&&"function"==typeof a[C]&&"function"==typeof a.reverse){for(var i=0;i<a[x];i++){e(a[i])}}else{e(a)}if(a=N[":"+f]){c&&!c.language&&c.locale&&(c.language=c.locale);c&&"string"==typeof c.callback&&(i=c.callback,i.match(/^[[\]A-Za-z0-9._]+$/)&&(i=l.eval(i),c.callback=i));if((i=c&&c.callback!=h)&&!a.s(b)){throw I("Module: '"+f+"' must be loaded before DOM onLoad!")}i?a.m(b,c)?l[z](c.callback,0):a.load(b,c):a.m(b,c)||a.load(b,c)}else{throw I("Module: '"+f+"' not found!")}});L("google.load",google.load);google.R=function(a,b){b?(0==P[x]&&(Q(l,"load",R),!E("msie")&&!E("safari")&&!E("konqueror")&&E("mozilla")||l.opera?l.addEventListener("DOMContentLoaded",R,j):E("msie")?m.write("<script defer onreadystatechange='google.loader.domReady()' src=//:><\/script>"):(E("safari")||E("konqueror"))&&l[z](T,10)),P[p](a)):Q(l,"load",a)};L("google.setOnLoadCallback",google.R);function Q(a,b,c){if(a.addEventListener){a.addEventListener(b,c,j)}else{if(a.attachEvent){a.attachEvent("on"+b,c)}else{var e=a["on"+b];a["on"+b]=e!=h?aa([c,e]):c}}}function aa(a){return function(){for(var b=0;b<a[x];b++){a[b]()}}}var P=[];google[A].N=function(){var a=l.event.srcElement;"complete"==a.readyState&&(a.onreadystatechange=h,a.parentNode.removeChild(a),R())};L("google.loader.domReady",google[A].N);var ba={loaded:g,complete:g};function T(){ba[m.readyState]?R():0<P[x]&&l[z](T,10)}function R(){for(var a=0;a<P[x];a++){P[a]()}P.length=0}google[A].d=function(a,b,c){if(c){var e;"script"==a?(e=m.createElement("script"),e.type="text/javascript",e.src=b):"css"==a&&(e=m.createElement("link"),e.type="text/css",e.href=b,e.rel="stylesheet");(a=m.getElementsByTagName("head")[0])||(a=m.body.parentNode.appendChild(m.createElement("head")));a.appendChild(e)}else{"script"==a?m.write('<script src="'+b+'" type="text/javascript"><\/script>'):"css"==a&&m.write('<link href="'+b+'" type="text/css" rel="stylesheet"></link>')}};L("google.loader.writeLoadTag",google[A].d);google[A].O=function(a){O=a};L("google.loader.rfm",google[A].O);google[A].Q=function(a){for(var b in a){"string"==typeof b&&b&&":"==b[r](0)&&!N[b]&&(N[b]=new U(b[B](1),a[b]))}};L("google.loader.rpl",google[A].Q);google[A].P=function(a){if((a=a.specs)&&a[x]){for(var b=0;b<a[x];++b){var c=a[b];"string"==typeof c?N[":"+c]=new V(c):(c=new W(c[v],c.baseSpec,c.customSpecs),N[":"+c[v]]=c)}}};L("google.loader.rm",google[A].P);google[A].loaded=function(a){N[":"+a.module].l(a)};L("google.loader.loaded",google[A].loaded);google[A].M=function(){return"qid="+((new Date)[w]().toString(16)+Math.floor(10000000*Math.random()).toString(16))};L("google.loader.createGuidArg_",google[A].M);J("google_exportSymbol",J);J("google_exportProperty",K);google[A].b={};L("google.loader.themes",google[A].b);google[A].b.H="//www.google.com/cse/style/look/bubblegum.css";M(google[A].b,"BUBBLEGUM",google[A].b.H);google[A].b.J="//www.google.com/cse/style/look/greensky.css";M(google[A].b,"GREENSKY",google[A].b.J);google[A].b.I="//www.google.com/cse/style/look/espresso.css";M(google[A].b,"ESPRESSO",google[A].b.I);google[A].b.L="//www.google.com/cse/style/look/shiny.css";M(google[A].b,"SHINY",google[A].b.L);google[A].b.K="//www.google.com/cse/style/look/minimalist.css";M(google[A].b,"MINIMALIST",google[A].b.K);function V(a){this.a=a;this.o=[];this.n={};this.e={};this.f={};this.j=g;this.c=-1}V[y].g=function(a,b){var c="";b!=d&&(b.language!=d&&(c+="&hl="+k(b.language)),b.nocss!=d&&(c+="&output="+k("nocss="+b.nocss)),b.nooldnames!=d&&(c+="&nooldnames="+k(b.nooldnames)),b.packages!=d&&(c+="&packages="+k(b.packages)),b.callback!=h&&(c+="&async=2"),b.style!=d&&(c+="&style="+k(b.style)),b.noexp!=d&&(c+="&noexp=true"),b.other_params!=d&&(c+="&"+b.other_params));if(!this.j){google[this.a]&&google[this.a].JSHash&&(c+="&sig="+k(google[this.a].JSHash));var e=[],f;for(f in this.n){":"==f[r](0)&&e[p](f[B](1))}for(f in this.e){":"==f[r](0)&&this.e[f]&&e[p](f[B](1))}c+="&have="+k(e[C](","))}return google[A][u]+"/?file="+this.a+"&v="+a+google[A].AdditionalParams+c};V[y].t=function(a){var b=h;a&&(b=a.packages);var c=h;if(b){if("string"==typeof b){c=[a.packages]}else{if(b[x]){c=[];for(a=0;a<b[x];a++){"string"==typeof b[a]&&c[p](b[a][q](/^\s*|\s*$/,"")[D]())}}}}c||(c=["default"]);b=[];for(a=0;a<c[x];a++){this.n[":"+c[a]]||b[p](c[a])}return b};n(V[y],function(a,b){var c=this.t(b),e=b&&b.callback!=h;if(e){var f=new X(b.callback)}for(var i=[],o=c[x]-1;0<=o;o--){var s=c[o];e&&f.A(s);if(this.e[":"+s]){c.splice(o,1),e&&this.f[":"+s][p](f)}else{i[p](s)}}if(c[x]){b&&b.packages&&(b.packages=c.sort()[C](","));for(o=0;o<i[x];o++){s=i[o],this.f[":"+s]=[],e&&this.f[":"+s][p](f)}if(!b&&O[":"+this.a]!=h&&O[":"+this.a].versions[":"+a]!=h&&!google[A].AdditionalParams&&this.j){c=O[":"+this.a];google[this.a]=google[this.a]||{};for(var S in c.properties){S&&":"==S[r](0)&&(google[this.a][S[B](1)]=c.properties[S])}google[A].d("script",google[A][u]+c.path+c.js,e);c.css&&google[A].d("css",google[A][u]+c.path+c.css,e)}else{(!b||!b.autoloaded)&&google[A].d("script",this.g(a,b),e)}this.j&&(this.j=j,this.c=(new Date)[w](),1!=this.c%100&&(this.c=-1));for(o=0;o<i[x];o++){s=i[o],this.e[":"+s]=g}}});V[y].l=function(a){-1!=this.c&&(ca("al_"+this.a,"jl."+((new Date)[w]()-this.c),g),this.c=-1);this.o=this.o.concat(a.components);google[A][this.a]||(google[A][this.a]={});google[A][this.a].packages=this.o.slice(0);for(var b=0;b<a.components[x];b++){this.n[":"+a.components[b]]=g;this.e[":"+a.components[b]]=j;var c=this.f[":"+a.components[b]];if(c){for(var e=0;e<c[x];e++){c[e].B(a.components[b])}delete this.f[":"+a.components[b]]}}};V[y].m=function(a,b){return 0==this.t(b)[x]};V[y].s=function(){return g};function X(a){this.D=a;this.q={};this.r=0}X[y].A=function(a){this.r++;this.q[":"+a]=g};X[y].B=function(a){this.q[":"+a]&&(this.q[":"+a]=j,this.r--,0==this.r&&l[z](this.D,0))};function W(a,b,c){this.name=a;this.C=b;this.p=c;this.u=this.h=j;this.k=[];google[A].v[this[v]]=H(this.l,this)}G(W,V);n(W[y],function(a,b){var c=b&&b.callback!=h;c?(this.k[p](b.callback),b.callback="google.loader.callbacks."+this[v]):this.h=g;(!b||!b.autoloaded)&&google[A].d("script",this.g(a,b),c)});W[y].m=function(a,b){return b&&b.callback!=h?this.u:this.h};W[y].l=function(){this.u=g;for(var a=0;a<this.k[x];a++){l[z](this.k[a],0)}this.k=[]};var Y=function(a,b){return a.string?k(a.string)+"="+k(b):a.regex?b[q](/(^.*$)/,a.regex):""};W[y].g=function(a,b){return this.F(this.w(a),a,b)};W[y].F=function(a,b,c){var e="";a.key&&(e+="&"+Y(a.key,google[A].ApiKey));a.version&&(e+="&"+Y(a.version,b));b=google[A].Secure&&a.ssl?a.ssl:a.uri;if(c!=h){for(var f in c){a.params[f]?e+="&"+Y(a.params[f],c[f]):"other_params"==f?e+="&"+c[f]:"base_domain"==f&&(b="http://"+c[f]+a.uri[B](a.uri[t]("/",7)))}}google[this[v]]={};-1==b[t]("?")&&e&&(e="?"+e[B](1));return b+e};W[y].s=function(a){return this.w(a).deferred};W[y].w=function(a){if(this.p){for(var b=0;b<this.p[x];++b){var c=this.p[b];if(RegExp(c.pattern).test(a)){return c}}}return this.C};function U(a,b){this.a=a;this.i=b;this.h=j}G(U,V);n(U[y],function(a,b){this.h=g;google[A].d("script",this.g(a,b),j)});U[y].m=function(){return this.h};U[y].l=function(){};U[y].g=function(a,b){if(!this.i.versions[":"+a]){if(this.i.aliases){var c=this.i.aliases[":"+a];c&&(a=c)}if(!this.i.versions[":"+a]){throw I("Module: '"+this.a+"' with version '"+a+"' not found!")}}return google[A].GoogleApisBase+"/libs/"+this.a+"/"+a+"/"+this.i.versions[":"+a][b&&b.uncompressed?"uncompressed":"compressed"]};U[y].s=function(){return j};var da=j,Z=[],ea=(new Date)[w](),ca=function(a,b,c){da||(Q(l,"unload",fa),da=g);if(c){if(!google[A].Secure&&(!google[A].Options||google[A].Options.csi===j)){a=a[D]()[q](/[^a-z0-9_.]+/g,"_"),b=b[D]()[q](/[^a-z0-9_.]+/g,"_"),l[z](H($,h,"//gg.google.com/csi?s=uds&v=2&action="+k(a)+"&it="+k(b)),10000)}}else{Z[p]("r"+Z[x]+"="+k(a+(b?"|"+b:""))),l[z](fa,5<Z[x]?0:15000)}},fa=function(){if(Z[x]){var a=google[A][u];0==a[t]("http:")&&(a=a[q](/^http:/,"https:"));$(a+"/stats?"+Z[C]("&")+"&nc="+(new Date)[w]()+"_"+((new Date)[w]()-ea));Z.length=0}},$=function(a){var b=new Image,c=$.G++;$.z[c]=b;b.onload=b.onerror=function(){delete $.z[c]};b.src=a;b=h};$.z={};$.G=0;J("google.loader.recordStat",ca);J("google.loader.createImageForLogging",$)})();google.loader.rm({specs:["feeds","spreadsheets","gdata","visualization",{name:"sharing",baseSpec:{uri:"http://www.google.com/s2/sharing/js",ssl:null,key:{string:"key"},version:{string:"v"},deferred:false,params:{language:{string:"hl"}}}},"search","orkut","ads","elements",{name:"books",baseSpec:{uri:"http://books.google.com/books/api.js",ssl:null,key:{string:"key"},version:{string:"v"},deferred:true,params:{callback:{string:"callback"},language:{string:"hl"}}}},{name:"friendconnect",baseSpec:{uri:"http://www.google.com/friendconnect/script/friendconnect.js",ssl:null,key:{string:"key"},version:{string:"v"},deferred:false,params:{}}},"identitytoolkit","ima",{name:"maps",baseSpec:{uri:"http://maps.google.com/maps?file\u003dgoogleapi",ssl:"https://maps-api-ssl.google.com/maps?file\u003dgoogleapi",key:{string:"key"},version:{string:"v"},deferred:true,params:{callback:{regex:"callback\u003d$1\u0026async\u003d2"},language:{string:"hl"}}},customSpecs:[{uri:"http://maps.googleapis.com/maps/api/js",ssl:"https://maps.googleapis.com/maps/api/js",version:{string:"v"},deferred:true,params:{callback:{string:"callback"},language:{string:"hl"}},pattern:"^(3|3..*)$"}]},"payments","wave","annotations_v2","earth","language",{name:"annotations",baseSpec:{uri:"http://www.google.com/reviews/scripts/annotations_bootstrap.js",ssl:null,key:{string:"key"},version:{string:"v"},deferred:true,params:{callback:{string:"callback"},language:{string:"hl"},country:{string:"gl"}}}},"picker"]});google.loader.rfm({":search":{versions:{":1":"1",":1.0":"1"},path:"/api/search/1.0/fc20d480e134e0dfc60ba494e70b7f77/",js:"default+zh_CN.I.js",css:"default+zh_CN.css",properties:{":JSHash":"fc20d480e134e0dfc60ba494e70b7f77",":NoOldNames":false,":Version":"1.0"}},":language":{versions:{":1":"1",":1.0":"1"},path:"/api/language/1.0/a0bd458876c67d6b4272493cc004a8ff/",js:"default+zh_CN.I.js",properties:{":JSHash":"a0bd458876c67d6b4272493cc004a8ff",":Version":"1.0"}},":feeds":{versions:{":1":"1",":1.0":"1"},path:"/api/feeds/1.0/efe8f95c5756111c3e36c06dab50fd12/",js:"default+zh_CN.I.js",css:"default+zh_CN.css",properties:{":JSHash":"efe8f95c5756111c3e36c06dab50fd12",":Version":"1.0"}},":spreadsheets":{versions:{":0":"1",":0.4":"1"},path:"/api/spreadsheets/0.4/87ff7219e9f8a8164006cbf28d5e911a/",js:"default.I.js",properties:{":JSHash":"87ff7219e9f8a8164006cbf28d5e911a",":Version":"0.4"}},":ima":{versions:{":1":"1",":1.7":"1"},path:"/api/ima/1.7/9fd415db3bb953707e811e4827fe957b/",js:"default.I.js",properties:{":JSHash":"9fd415db3bb953707e811e4827fe957b",":Version":"1.7"}},":wave":{versions:{":1":"1",":1.0":"1"},path:"/api/wave/1.0/3b6f7573ff78da6602dda5e09c9025bf/",js:"default.I.js",properties:{":JSHash":"3b6f7573ff78da6602dda5e09c9025bf",":Version":"1.0"}},":annotations":{versions:{":1":"1",":1.0":"1"},path:"/api/annotations/1.0/35a28186b721d9e08b0c0b439b3c55b8/",js:"default+zh_CN.I.js",properties:{":JSHash":"35a28186b721d9e08b0c0b439b3c55b8",":Version":"1.0"}},":earth":{versions:{":1":"1",":1.0":"1"},path:"/api/earth/1.0/109c7b2bae7fe6cc34ea875176165d81/",js:"default.I.js",properties:{":JSHash":"109c7b2bae7fe6cc34ea875176165d81",":Version":"1.0"}},":picker":{versions:{":1":"1",":1.0":"1"},path:"/api/picker/1.0/5f01fa9c8a50be2d0100ffeff28be62b/",js:"default.I.js",css:"default.css",properties:{":JSHash":"5f01fa9c8a50be2d0100ffeff28be62b",":Version":"1.0"}}});google.loader.rpl({":scriptaculous":{versions:{":1.8.3":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"},":1.9.0":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"},":1.8.2":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"},":1.8.1":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"}},aliases:{":1.8":"1.8.3",":1":"1.9.0",":1.9":"1.9.0"}},":yui":{versions:{":2.6.0":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.9.0":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.7.0":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.8.0r4":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.8.2r1":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.8.1":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":3.3.0":{uncompressed:"build/yui/yui.js",compressed:"build/yui/yui-min.js"}},aliases:{":3":"3.3.0",":2":"2.9.0",":2.7":"2.7.0",":2.8.2":"2.8.2r1",":2.6":"2.6.0",":2.9":"2.9.0",":2.8":"2.8.2r1",":2.8.0":"2.8.0r4",":3.3":"3.3.0"}},":swfobject":{versions:{":2.1":{uncompressed:"swfobject_src.js",compressed:"swfobject.js"},":2.2":{uncompressed:"swfobject_src.js",compressed:"swfobject.js"}},aliases:{":2":"2.2"}},":ext-core":{versions:{":3.1.0":{uncompressed:"ext-core-debug.js",compressed:"ext-core.js"},":3.0.0":{uncompressed:"ext-core-debug.js",compressed:"ext-core.js"}},aliases:{":3":"3.1.0",":3.0":"3.0.0",":3.1":"3.1.0"}},":webfont":{versions:{":1.0.2":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.1":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.0":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.19":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.6":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.18":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.5":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.17":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.4":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.16":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.3":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.9":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.21":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.12":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.22":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.13":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.14":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.15":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.10":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.23":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.24":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.11":{uncompressed:"webfont_debug.js",compressed:"webfont.js"}},aliases:{":1":"1.0.24",":1.0":"1.0.24"}},":mootools":{versions:{":1.3.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.1.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.3.0":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.3.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.1.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.3":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.4":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.5":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.4.0":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.4.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.4.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"}},aliases:{":1":"1.1.2",":1.11":"1.1.1",":1.4":"1.4.2",":1.3":"1.3.2",":1.2":"1.2.5",":1.1":"1.1.2"}},":jqueryui":{versions:{":1.8.0":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.2":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.1":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.15":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.14":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.13":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.12":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.11":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.10":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.17":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.16":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.6.0":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.9":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.7":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.8":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.2":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.5":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.3":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.6":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.0":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.1":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.4":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.5.3":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.5.2":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"}},aliases:{":1.8":"1.8.17",":1.7":"1.7.3",":1.6":"1.6.0",":1":"1.8.17",":1.5":"1.5.3",":1.8.3":"1.8.4"}},":chrome-frame":{versions:{":1.0.2":{uncompressed:"CFInstall.js",compressed:"CFInstall.min.js"},":1.0.1":{uncompressed:"CFInstall.js",compressed:"CFInstall.min.js"},":1.0.0":{uncompressed:"CFInstall.js",compressed:"CFInstall.min.js"}},aliases:{":1":"1.0.2",":1.0":"1.0.2"}},":dojo":{versions:{":1.3.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.3.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.6.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.1.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.3.2":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.6.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.2.3":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.7.0":{uncompressed:"dojo/dojo.js.uncompressed.js",compressed:"dojo/dojo.js"},":1.7.1":{uncompressed:"dojo/dojo.js.uncompressed.js",compressed:"dojo/dojo.js"},":1.4.3":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.5.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.5.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.2.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.4.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.4.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"}},aliases:{":1.7":"1.7.1",":1":"1.6.1",":1.6":"1.6.1",":1.5":"1.5.1",":1.4":"1.4.3",":1.3":"1.3.2",":1.2":"1.2.3",":1.1":"1.1.1"}},":jquery":{versions:{":1.6.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.3.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.3.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.4":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.3":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.3.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.2.3":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.7.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.7.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.2.6":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.3":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.4":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.5.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.5.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.5.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"}},aliases:{":1.7":"1.7.1",":1.6":"1.6.4",":1":"1.7.1",":1.5":"1.5.2",":1.4":"1.4.4",":1.3":"1.3.2",":1.2":"1.2.6"}},":prototype":{versions:{":1.7.0.0":{uncompressed:"prototype.js",compressed:"prototype.js"},":1.6.0.2":{uncompressed:"prototype.js",compressed:"prototype.js"},":1.6.1.0":{uncompressed:"prototype.js",compressed:"prototype.js"},":1.6.0.3":{uncompressed:"prototype.js",compressed:"prototype.js"}},aliases:{":1.7":"1.7.0.0",":1.6.1":"1.6.1.0",":1":"1.7.0.0",":1.6":"1.6.1.0",":1.7.0":"1.7.0.0",":1.6.0":"1.6.0.3"}}})};
;}catch(e){}
try{
(function(){(function(){var g=void 0,aa=!0,h=null,i=!1,j=google_exportSymbol,k=Number,l=Error,m=parseInt,o=document,ba=isNaN,q=google_exportProperty,r=Array,t=Math;function u(a,b){return a.format=b}function ca(a,b){return a.type=b}var x="push",da="test",y="round",ea="slice",z="replace",A="floor",C="charAt",fa="indexOf",D="format",ga="getColumnType",ha="getHours",ia="getValue",ja="getTime",ka="getElementsByTagName",la="substr",E="toString",ma="getNumberOfRows",F="length",na="propertyIsEnumerable",G="prototype",oa="setFormattedValue",H="call",pa="setProperty",I="substring",qa="apply",J="join",sa="toLowerCase",ta="getTimezoneOffset",K="",ua=" ",va='" />',wa="#",xa="#$1$1$2$2$3$3",ya="$1",za="%",Aa="'",Ba="''",Ca="(",Da="(\\d*)(\\D*)",Ea=")",Fa="+",Ga=",",L="-",M=".",Ha='.png" height="12" width="',Ia="/static/modules/gviz/",Ja="/util/bar_",Ka="/util/format.css",N="0",La="0000000000000000",Ma="1",Na="1.0",Oa=":",Pa=";",Qa="</span>\u00a0",Ra='<img style="padding: 0" src="',Sa='<span style="padding: 0; float: left; white-space: nowrap;">',Ta="E",Ua="Etc/GMT",Va="G",Wa="GMT",Xa="H",Ya="K",Za="L",$a="LINK",bb="M",cb="Q",db="S",eb="Too many percent/permill",fb="UTC",gb="Z",hb="[object Array]",ib="[object Function]",jb="[object Window]",kb="\\",lb="_bar_format_old_value",mb="a",nb="addGradientRange",ob="array",pb="b",qb="background-color:",rb="body",sb="boolean",tb="c",ub="call",vb="className",wb="color:",xb="d",yb="date",zb="datetime",Ab="decimalSymbol",Bb="false",O="format",Cb="formatType",Db="fractionDigits",Eb="full",Fb="function",Gb="g",Hb="google-visualization-formatters-arrow-dr",Ib="google-visualization-formatters-arrow-empty",Jb="google-visualization-formatters-arrow-ug",Kb="google.loader.GoogleApisBase",Lb="google.visualization.Version",Mb="groupingSymbol",Nb="h",Ob="head",Pb="hex",Qb="html",Rb="http://ajax.googleapis.com/ajax",Sb="k",Tb="link",Ub="long",Vb="m",Wb="medium",Xb="named",Yb="native code",Zb="negativeColor",$b="negativeParens",ac="none",bc="null",P="number",cc="object",dc="pattern",ec="prefix",gc="r",hc="rgb",ic="s",jc="scaleFactor",kc="short",lc="solid",mc="splice",nc="string",oc="style",pc="stylesheet",qc="suffix",rc="text/css",sc="time",tc="timeZone",uc="timeofday",vc="transparent",wc="true",xc="v",yc="valueType",zc="w",Ac="y",Bc="z",Cc="\u00a0",Dc="\u00a4",Ec="\u2030",R,Fc=this;function Gc(a,b){for(var c=a.split(M),d=b||Fc,e;e=c.shift();){if(S(d[e])){d=d[e]}else{return h}}return d}function Hc(a){var b=typeof a;if(b==cc){if(a){if(a instanceof r){return ob}if(a instanceof Object){return b}var c=Object[G][E][H](a);if(c==jb){return cc}if(c==hb||typeof a[F]==P&&"undefined"!=typeof a.splice&&"undefined"!=typeof a[na]&&!a[na](mc)){return ob}if(c==ib||"undefined"!=typeof a[H]&&"undefined"!=typeof a[na]&&!a[na](ub)){return Fb}}else{return bc}}else{if(b==Fb&&"undefined"==typeof a[H]){return cc}}return b}function S(a){return a!=h}function Ic(a){var b=Hc(a);return(b==cc||b==ob||b==Fb)&&typeof a.getFullYear==Fb}function Jc(a,b,c){return a[H][qa](a.bind,arguments)}function Kc(a,b,c){if(!a){throw l()}if(2<arguments[F]){var d=r[G][ea][H](arguments,2);return function(){var c=r[G][ea][H](arguments);r[G].unshift[qa](c,d);return a[qa](b,c)}}return function(){return a[qa](b,arguments)}}function Lc(a,b,c){Lc=Function[G].bind&&-1!=Function[G].bind[E]()[fa](Yb)?Jc:Kc;return Lc[qa](h,arguments)}function Mc(a,b){var c=r[G][ea][H](arguments,1);return function(){var b=r[G][ea][H](arguments);b.unshift[qa](b,c);return a[qa](this,b)}}function Nc(a,b){function c(){}c.prototype=b[G];a.Zb=b[G];a.prototype=new c}function Oc(a){this.L=a||{};a:{for(var b=Pc()+Ka,a=o[ka]($a),c=0;c<a[F];c++){if(a[c]&&a[c].href&&a[c].href==b){break a}}a=o.createElement(Tb);a.href=b;a.rel=pc;ca(a,rc);if(0==o[ka](Ob)[F]){var b=o[ka](Qb)[0],c=o[ka](rb)[0],d=o.createElement(Ob);b.insertBefore(d,c)}o[ka](Ob)[0].appendChild(a)}}u(Oc[G],function(a,b){if(a[ga](b)==P){for(var c=this.L.base||0,d=0;d<a[ma]();d++){var e=a[ia](d,b),f=h,f=e<c?Hb:e>c?Jb:Ib;a[pa](d,b,vb,f)}}});function T(a,b,c){a=c!==g?a.toFixed(c):K+a;c=a[fa](M);-1==c&&(c=a[F]);b=t.max(0,b-c);return r(b+1)[J](N)+a}function Qc(a,b){for(var c=0,d=(K+a)[z](/^[\s\xa0]+|[\s\xa0]+$/g,K).split(M),e=(K+b)[z](/^[\s\xa0]+|[\s\xa0]+$/g,K).split(M),f=t.max(d[F],e[F]),n=0;0==c&&n<f;n++){var p=d[n]||K,B=e[n]||K,Q=RegExp(Da,Gb),W=RegExp(Da,Gb);do{var v=Q.exec(p)||[K,K,K],s=W.exec(B)||[K,K,K];if(0==v[0][F]&&0==s[0][F]){break}c=((0==v[1][F]?0:m(v[1],10))<(0==s[1][F]?0:m(s[1],10))?-1:(0==v[1][F]?0:m(v[1],10))>(0==s[1][F]?0:m(s[1],10))?1:0)||((0==v[2][F])<(0==s[2][F])?-1:(0==v[2][F])>(0==s[2][F])?1:0)||(v[2]<s[2]?-1:v[2]>s[2]?1:0)}while(0==c)}return c}var Rc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Sc(a){var b={},a=K+a,c=a[C](0)==wa?a:wa+a;if(Tc[da](c)){return b.k=Uc(c),ca(b,Pb),b}a:{var d=a.match(Vc);if(d){var c=k(d[1]),e=k(d[2]),d=k(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c[F]){return b.k=Wc(c[0],c[1],c[2]),ca(b,hc),b}if(Rc&&(c=Rc[a[sa]()])){return b.k=c,ca(b,Xb),b}throw l(a+" is not a valid color string")}var Xc=/#(.)(.)(.)/;function Uc(a){if(!Tc[da](a)){throw l(Aa+a+"' is not a valid hex color")}4==a[F]&&(a=a[z](Xc,xa));return a[sa]()}function Yc(a){a=Uc(a);return[m(a[la](1,2),16),m(a[la](3,2),16),m(a[la](5,2),16)]}function Wc(a,b,c){a=k(a);b=k(b);c=k(c);if(ba(a)||0>a||255<a||ba(b)||0>b||255<b||ba(c)||0>c||255<c){throw l('"('+a+Ga+b+Ga+c+'") is not a valid RGB color')}return wa+(1==a[E](16)[F]?N+a[E](16):a[E](16))+(1==b[E](16)[F]?N+b[E](16):b[E](16))+(1==c[E](16)[F]?N+c[E](16):c[E](16))}var Tc=/^#(?:[0-9a-f]{3}){1,2}$/i,Vc=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Zc(a){return a==ac||a==K||a==vc?ac:Sc(a).k}function $c(a){S(a)||(a={});this.wa=ac;S(a.fill)&&this.xa(a.fill);this.va=1;S(a.Q)&&this.ya(a.Q);this.sa=ac;S(a.stroke)&&this.Aa(a.stroke);this.Ha=1;S(a.Ga)&&this.P(a.Ga);this.Fa=1;S(a.R)&&this.Ca(a.R);this.Ea=lc;S(a.Da)&&this.Ba(a.Da);this.e=h;if(a.e){var b=a.e,c={},d;for(d in b){c[d]=b[d]}this.e=c;this.e.ta=Zc(this.e.ta);this.e.ua=Zc(this.e.ua)}this.b=h;a.pattern&&this.za(a.pattern)}R=$c[G];R.xa=function(a){this.wa=Zc(a)};R.ya=function(a){this.va=t.min(t.max(a,0),1)};R.Aa=function(a,b){this.sa=Zc(a);S(b)&&this.P(b)};R.P=function(a){this.Ha=a};R.Ca=function(a){this.Fa=t.min(t.max(a,0),1)};R.Ba=function(a){this.Ea=a};R.za=function(a){this.b=a};new $c({Q:0,fill:"white",R:0,stroke:"white"});function ad(a){this.qa=a}function bd(a,b,c){a=Gc(b,a);return S(a)&&Hc(c)==Fb?c(a):a}R=ad[G];R.d=function(a,b,c){for(var d=h,e=0;e<this.qa[F];e++){a:{var d=this.qa[e],f=a,n=c;if(typeof f==nc){d=bd(d,f,n)}else{for(var p=0;p<f[F];++p){var B=bd(d,f[p],n);if(S(B)){d=B;break a}}d=h}}if(S(d)){return d}}d=b;return d!==g?d:h};function cd(a){if(!S(a)){return h}if(typeof a==sb){return a}a=K+a;return a==Ma||a[sa]()==wc?aa:a==N||a[sa]()==Bb?i:h}R.La=function(a,b){var c=this.Nb(a);if(S(c)){return c}b!==g||(b=i);return b};R.Nb=function(a){return this.d(a,h,cd)};function dd(a){if(!S(a)){return h}if(typeof a==P){return a}var a=K+a,b=k(a),a=0==b&&/^[\s\xa0]*$/[da](a)?NaN:b;return ba(a)?h:a}R.Na=function(a,b){var c=this.X(a);if(S(c)){return c}b!==g||(b=0);return b};R.X=function(a){return this.d(a,h,dd)};function ed(a){a=dd(a);return S(a)&&0<=a?a:h}R.Ma=function(a,b){var c=this.Ob(a);if(S(c)){return c}b!==g||(b=0);return b};R.Ob=function(a){return this.d(a,h,ed)};function fd(a){return !S(a)?h:K+a}R.r=function(a,b){b!==g||(b=K);return this.d(a,b,fd)};R.Pa=function(a){return this.d(a,h,fd)};function gd(a){return(a=fd(a))?a:h}R.Oa=function(a){return this.d(a,h,gd)};function hd(a,b){var c=fd(b),d;a:{for(d in a){if(a[d]==c){d=aa;break a}}d=i}return d?c:h}R.W=function(a,b){return this.d(a,h,Lc(hd,h,b))};var id,jd,kd,ld;function md(){return Fc.navigator?Fc.navigator.userAgent:h}ld=kd=jd=id=i;var nd;if(nd=md()){var od=Fc.navigator;id=0==nd[fa]("Opera");jd=!id&&-1!=nd[fa]("MSIE");kd=!id&&-1!=nd[fa]("WebKit");ld=!id&&!kd&&"Gecko"==od.product}var pd=jd,qd=ld,rd=kd,sd;a:{var td=K,ud;if(id&&Fc.opera){var vd=Fc.opera.version,td=typeof vd==Fb?vd():vd}else{if(qd?ud=/rv\:([^\);]+)(\)|;)/:pd?ud=/MSIE\s+([^\);]+)(\)|;)/:rd&&(ud=/WebKit\/(\S+)/),ud){var wd=ud.exec(md()),td=wd?wd[1]:K}}if(pd){var xd,yd=Fc.document;xd=yd?yd.documentMode:g;if(xd>parseFloat(td)){sd=K+xd;break a}}sd=td}var zd=sd,Ad={},Bd={};function Cd(a){return Bd[a]||(Bd[a]=pd&&o.documentMode&&o.documentMode>=a)}!pd||Cd(9);!qd&&!pd||pd&&Cd(9)||qd&&(Ad["1.9.1"]||(Ad["1.9.1"]=0<=Qc(zd,"1.9.1")));pd&&(Ad["9"]||(Ad["9"]=0<=Qc(zd,"9")));function Pc(){var a=Gc(Kb);S(a)||(a=Rb);var b=Gc(Lb);S(b)||(b=Na);return a+Ia+b}function Dd(a){this.L=a||{};Ed||(Ed=Pc()+Ja)}var Ed=h,Fd={red:gc,blue:pb,green:Gb};function U(a,b,c){0<b&&c[x](Ra,Ed,a,Ha,b,va)}u(Dd[G],function(a,b){if(a[ga](b)==P){var c=this.L,d=c.min,e=c.max,f=h;if(d==h||e==h){f=a.getColumnRange(b),e==h&&(e=f.max),d==h&&(d=t.min(0,f.min))}if(d>=e){f=f||a.getColumnRange(b),e=f.max,d=f.min}d==e&&(0==d?e=1:0<d?d=0:e=0);var f=e-d,n=c.base||0,n=t.max(d,t.min(e,n)),p=c.width||100,B=c.showValue;B==h&&(B=aa);for(var Q=t[y]((n-d)/f*p),W=p-Q,v=0;v<a[ma]();v++){var s=a[ia](v,b),w=[],s=t.max(d,t.min(e,s)),ra=t.ceil((s-d)/f*p);w[x](Sa);U(ic,1,w);var fc=Gd(c.colorPositive,pb),Td=Gd(c.colorNegative,gc),ab=c.drawZeroLine?1:0;0<Q?s<n?(U(zc,ra,w),U(Td,Q-ra,w),0<ab&&U(Bc,ab,w),U(zc,W,w)):(U(zc,Q,w),0<ab&&U(Bc,ab,w),U(fc,ra-Q,w),U(zc,p-ra,w)):(U(fc,ra,w),U(zc,p-ra,w));U(ic,1,w);s=a.getProperty(v,b,lb);s==h&&(s=a.getFormattedValue(v,b),a[pa](v,b,lb,s));B&&(w[x](Cc),w[x](s));w[x](Qa);a[oa](v,b,w[J](K))}}});function Gd(a,b){a=(a||K)[sa]();return Fd[a]||b}function Hd(a,b,c,d){Ic(a)&&(a=a[ja]());Ic(b)&&(b=b[ja]());Hc(a)==ob&&(a=Id(a));Hc(b)==ob&&(b=Id(b));this.ha=a;this.rb=b;this.pb=c;this.sb=d}Hd[G].contains=function(a){var b=this.ha,c=this.rb;if(a==h){return b==h&&c==h}Ic(a)?a=a[ja]():Hc(a)==ob&&(a=Id(a));return(b==h||a>=b)&&(c==h||a<c)};Hd[G].na=function(){return this.sb};function Jd(a,b,c,d,e){Hd[H](this,a,b,c,K);this.I=b-a;if(0>=this.I){this.I=1}this.nb=Yc(Sc(d).k);this.ob=Yc(Sc(e).k)}Nc(Jd,Hd);Jd[G].na=function(a){var b;b=this.nb;var c=this.ob,a=1-(a-this.ha)/this.I,a=t.min(t.max(a,0),1);b=[t[y](a*b[0]+(1-a)*c[0]),t[y](a*b[1]+(1-a)*c[1]),t[y](a*b[2]+(1-a)*c[2])];return Wc(b[0],b[1],b[2])};function V(){this.w=[]}V[G].addRange=function(a,b,c,d){this.w[x](new Hd(a,b,c,d))};V[G].addGradientRange=function(a,b,c,d,e){this.w[x](new Jd(a,b,c,d,e))};u(V[G],function(a,b){var c=a[ga](b);if(c==P||c==nc||c==yb||c==zb||c==uc){for(c=0;c<a[ma]();c++){for(var d=a[ia](c,b),e=K,f=0;f<this.w[F];f++){var n=this.w[f];if(n.contains(d)){f=n.pb;d=n.na(d);f&&(e+=wb+f+Pa);d&&(e+=qb+d+Pa);break}}a[pa](c,b,oc,e)}}});function Id(a){return 3600000*a[0]+60000*a[1]+1000*a[2]+(4==a[F]?a[3]:0)}var X={Db:["\u516c\u5143\u524d","\u516c\u5143"],Cb:["\u516c\u5143\u524d","\u516c\u5143"],ub:[Ma,"2","3","4","5","6","7","8","9","10","11","12"],xb:"1\u6708,2\u6708,3\u6708,4\u6708,5\u6708,6\u6708,7\u6708,8\u6708,9\u6708,10\u6708,11\u6708,12\u6708".split(","),tb:"1\u6708,2\u6708,3\u6708,4\u6708,5\u6708,6\u6708,7\u6708,8\u6708,9\u6708,10\u6708,11\u6708,12\u6708".split(","),wb:"\u4e00\u6708,\u4e8c\u6708,\u4e09\u6708,\u56db\u6708,\u4e94\u6708,\u516d\u6708,\u4e03\u6708,\u516b\u6708,\u4e5d\u6708,\u5341\u6708,\u5341\u4e00\u6708,\u5341\u4e8c\u6708".split(","),vb:"1\u6708,2\u6708,3\u6708,4\u6708,5\u6708,6\u6708,7\u6708,8\u6708,9\u6708,10\u6708,11\u6708,12\u6708".split(","),zb:"\u4e00\u6708,\u4e8c\u6708,\u4e09\u6708,\u56db\u6708,\u4e94\u6708,\u516d\u6708,\u4e03\u6708,\u516b\u6708,\u4e5d\u6708,\u5341\u6708,\u5341\u4e00\u6708,\u5341\u4e8c\u6708".split(","),Hb:"\u661f\u671f\u65e5,\u661f\u671f\u4e00,\u661f\u671f\u4e8c,\u661f\u671f\u4e09,\u661f\u671f\u56db,\u661f\u671f\u4e94,\u661f\u671f\u516d".split(","),Bb:"\u661f\u671f\u65e5,\u661f\u671f\u4e00,\u661f\u671f\u4e8c,\u661f\u671f\u4e09,\u661f\u671f\u56db,\u661f\u671f\u4e94,\u661f\u671f\u516d".split(","),Gb:"\u5468\u65e5,\u5468\u4e00,\u5468\u4e8c,\u5468\u4e09,\u5468\u56db,\u5468\u4e94,\u5468\u516d".split(","),Ab:"\u5468\u65e5,\u5468\u4e00,\u5468\u4e8c,\u5468\u4e09,\u5468\u56db,\u5468\u4e94,\u5468\u516d".split(","),Wb:"\u65e5,\u4e00,\u4e8c,\u4e09,\u56db,\u4e94,\u516d".split(","),yb:"\u65e5,\u4e00,\u4e8c,\u4e09,\u56db,\u4e94,\u516d".split(","),Fb:["1\u5b63","2\u5b63","3\u5b63","4\u5b63"],Eb:["\u7b2c1\u5b63\u5ea6","\u7b2c2\u5b63\u5ea6","\u7b2c3\u5b63\u5ea6","\u7b2c4\u5b63\u5ea6"],Mb:["\u4e0a\u5348","\u4e0b\u5348"],ia:["y\u5e74M\u6708d\u65e5EEEE","y\u5e74M\u6708d\u65e5","yyyy-M-d","yy-M-d"],ja:["zzzzah\u65f6mm\u5206ss\u79d2","zah\u65f6mm\u5206ss\u79d2","ah:mm:ss","ah:mm"],Rb:6,Yb:[5,6],Sb:2};function Kd(){}function Ld(a){if(typeof a==P){var b=new Kd;b.ka=a;var c;c=a;if(0==c){c=Ua}else{var d=[Ua,0>c?L:Fa];c=t.abs(c);d[x](t[A](c/60)%100);c%=60;0!=c&&d[x](Oa,T(c,2));c=d[J](K)}b.ma=c;0==a?a=fb:(c=[fb,0>a?Fa:L],a=t.abs(a),c[x](t[A](a/60)%100),a%=60,0!=a&&c[x](Oa,a),a=c[J](K));b.J=[a,a];b.v=[];return b}b=new Kd;b.ma=a.id;b.ka=-a.std_offset;b.J=a.names;b.v=a.transitions;return b}R=Kd[G];R.pa=function(a){for(var a=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes())/3600000,b=0;b<this.v[F]&&a>=this.v[b];){b+=2}return 0==b?0:this.v[b-1]};R.Ib=function(a){var a=this.K(a),b=[Wa];b[x](0>=a?Fa:L);a=t.abs(a);b[x](T(t[A](a/60)%100,2),Oa,T(a%60,2));return b[J](K)};R.Jb=function(a){return this.J[this.oa(a)?3:1]};R.K=function(a){return this.ka-this.pa(a)};R.Kb=function(a){var a=-this.K(a),b=[0>a?L:Fa],a=t.abs(a);b[x](T(t[A](a/60)%100,2),T(a%60,2));return b[J](K)};R.Lb=function(a){return this.J[this.oa(a)?2:0]};R.oa=function(a){return 0<this.pa(a)};function Md(a){this.u=[];typeof a==P?this.q(a):this.c(a)}var Nd=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];R=Md[G];R.c=function(a){for(;a;){for(var b=0;b<Nd[F];++b){var c=a.match(Nd[b]);if(c){c=c[0];a=a[I](c[F]);0==b&&(c==Ba?c=Aa:(c=c[I](1,c[F]-1),c=c[z](/\'\'/,Aa)));this.u[x]({text:c,type:b});break}}}};u(R,function(a,b){var c=b?60000*(a[ta]()-b.K(a)):0,d=c?new Date(a[ja]()+c):a,e=d;b&&d[ta]()!=a[ta]()&&(e=new Date(a[ja]()+(c+(0<c?-86400000:86400000))));for(var c=[],f=0;f<this.u[F];++f){var n=this.u[f].text;1==this.u[f].type?c[x](this.qb(n,a,d,e,b)):c[x](n)}return c[J](K)});R.q=function(a){if(4>a){a=X.ia[a]}else{if(8>a){a=X.ja[a-4]}else{if(12>a){a=X.ia[a-8]+ua+X.ja[a-8]}else{this.q(10);return}}}this.c(a)};R.Ya=function(a,b){var c=0<b.getFullYear()?1:0;return 4<=a?X.Cb[c]:X.Db[c]};R.jb=function(a,b){var c=b.getFullYear();0>c&&(c=-c);return 2==a?T(c%100,2):K+c};R.ab=function(a,b){var c=b.getMonth();switch(a){case 5:return X.ub[c];case 4:return X.tb[c];case 3:return X.vb[c];default:return T(c+1,a)}};R.Ua=function(a,b){return T(b[ha]()||24,a)};R.Za=function(a,b){return(b[ja]()%1000/1000).toFixed(t.min(3,a))[la](2)+(3<a?T(0,a-3):K)};R.Xa=function(a,b){var c=b.getDay();return 4<=a?X.Hb[c]:X.Gb[c]};R.Va=function(a,b){var c=b[ha]();return X.Mb[12<=c&&24>c?1:0]};R.Ta=function(a,b){return T(b[ha]()%12||12,a)};R.Ra=function(a,b){return T(b[ha]()%12,a)};R.Sa=function(a,b){return T(b[ha](),a)};R.eb=function(a,b){var c=b.getDay();switch(a){case 5:return X.yb[c];case 4:return X.Bb[c];case 3:return X.Ab[c];default:return T(c,1)}};R.fb=function(a,b){var c=b.getMonth();switch(a){case 5:return X.xb[c];case 4:return X.wb[c];case 3:return X.zb[c];default:return T(c+1,a)}};R.bb=function(a,b){var c=t[A](b.getMonth()/3);return 4>a?X.Fb[c]:X.Eb[c]};R.Wa=function(a,b){return T(b.getDate(),a)};R.$a=function(a,b){return T(b.getMinutes(),a)};R.cb=function(a,b){return T(b.getSeconds(),a)};R.hb=function(a,b,c){c=c||Ld(b[ta]());return 4>a?c.Kb(b):c.Ib(b)};R.ib=function(a,b,c){c=c||Ld(b[ta]());return 4>a?c.Lb(b):c.Jb(b)};R.gb=function(a,b){b=b||Ld(a[ta]());return b.ma};R.qb=function(a,b,c,d,e){var f=a[F];switch(a[C](0)){case Va:return this.Ya(f,c);case Ac:return this.jb(f,c);case bb:return this.ab(f,c);case Sb:return this.Ua(f,d);case db:return this.Za(f,d);case Ta:return this.Xa(f,c);case mb:return this.Va(f,d);case Nb:return this.Ta(f,d);case Ya:return this.Ra(f,d);case Xa:return this.Sa(f,d);case tb:return this.eb(f,c);case Za:return this.fb(f,c);case cb:return this.bb(f,c);case xb:return this.Wa(f,c);case Vb:return this.$a(f,d);case ic:return this.cb(f,d);case xc:return this.gb(b,e);case Bc:return this.ib(f,b,e);case gb:return this.hb(f,b,e);default:return K}};function Y(a){a=new ad([a||{},{formatType:kc,valueType:zb}]);this.b=a.d(dc);this.H=h;this.lb=a.W(Cb,Od);this.kb=a.W(yc,Pd);this.Y=h;a=a.X(tc);if(a!=h){this.Y=Ld(60*-a)}}var Od={Tb:Eb,Ub:Ub,Vb:Wb,SHORT:kc},Pd={Pb:yb,Qb:zb,Xb:sc};function Qd(a,b){switch(a){case yb:switch(b){case Eb:return 0;case Ub:return 1;case Wb:return 2;case kc:return 3}case zb:switch(b){case Eb:return 8;case Ub:return 9;case Wb:return 10;case kc:return 11}case sc:switch(b){case Eb:return 4;case Ub:return 5;case Wb:return 6;case kc:return 7}}}u(Y[G],function(a,b){var c=a[ga](b);if(!(c!=yb&&c!=zb)){for(var c=this.la(c),d=a[ma](),e=0;e<d;e++){var f=a[ia](e,b),f=this.s(c,f);a[oa](e,b,f)}}});Y[G].formatValue=function(a){if(!this.H){this.H=this.la(this.kb)}return this.s(this.H,a)};Y[G].la=function(a){var b=this.b;S(b)||(b=Qd(a,this.lb));return new Md(b)};Y[G].s=function(a,b){if(b===h){return K}var c=this.Y;c==h&&(c=Ld(b[ta]()));return a[D](b,c)};function Rd(a,b){var c=[N],d=Sd[b][0]&7;if(0<d){c[x](M);for(var e=0;e<d;e++){c[x](N)}}return a[z](/0.00/g,c[J](K))}var Sd={AED:[2,"dh","\u062f.\u0625.","DH"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[0,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[2,"K\u010d","K\u010d"],DKK:[18,"kr","kr"],DOP:[2,"$","RD$"],EGP:[2,"\u00a3","LE"],EUR:[18,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],ILS:[2,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],MNT:[0,"\u20ae","MN\u20ae"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[18,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","Php"],PKR:[0,"Rs","PKRs."],RUB:[2,"Rup","Rup"],SAR:[2,"Rial","Rial"],SEK:[2,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"TL","YTL"],TWD:[2,"NT$","NT$"],USD:[2,"$","US$"],UYU:[2,"$","UY$"],VND:[0,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};var Z={DECIMAL_SEP:M,GROUP_SEP:Ga,fa:za,j:N,ca:Fa,aa:L,$:Ta,ga:Ec,U:"\u221e",V:"NaN",DECIMAL_PATTERN:"#,##0.###",da:"#E0",ba:"#,##0%",Z:"\u00a4#,##0.00;(\u00a4#,##0.00)",O:"USD"},Z={DECIMAL_SEP:M,GROUP_SEP:Ga,fa:za,j:N,ca:Fa,aa:L,$:Ta,ga:Ec,U:"\u221e",V:"NaN",DECIMAL_PATTERN:"#,##0.###",da:"#E0",ba:"#,##0%",Z:"\u00a4#,##0.00",O:"CNY"};function Ud(a,b,c){this.g=b||Z.O;this.ra=c||0;this.p=40;this.a=1;this.C=3;this.o=this.h=0;this.M=i;this.A=this.z=K;this.l=L;this.m=K;this.f=1;this.B=3;this.n=this.N=i;typeof a==P?this.q(a):this.c(a)}R=Ud[G];R.c=function(a){this.b=a[z](/ /g,Cc);var b=[0];this.z=this.t(a,b);var c=b[0];this.mb(a,b);c=b[0]-c;this.A=this.t(a,b);b[0]<a[F]&&a[C](b[0])==Pa?(b[0]++,this.l=this.t(a,b),b[0]+=c,this.m=this.t(a,b)):(this.l=this.z+this.l,this.m+=this.A)};R.q=function(a){switch(a){case 1:this.c(Z.DECIMAL_PATTERN);break;case 2:this.c(Z.da);break;case 3:this.c(Z.ba);break;case 4:this.c(Rd(Z.Z,this.g));break;default:throw l("Unsupported pattern type.")}};u(R,function(a){if(ba(a)){return Z.V}var b=[],c=0>a||0==a&&0>1/a;b[x](c?this.l:this.z);if(isFinite(a)){a=a*(c?-1:1)*this.f,this.n?this.Qa(a,b):this.D(a,this.a,b)}else{b[x](Z.U)}b[x](c?this.m:this.A);return b[J](K)});R.D=function(a,b,c){for(var d=t.pow(10,this.C),a=t[y](a*d),e=t[A](a/d),f=t[A](a-e*d),n=0<this.h||0<f,p=K,a=e;100000000000000000000<a;){p=N+p,a=t[y](a/10)}var p=a+p,B=Z.DECIMAL_SEP,Q=Z.GROUP_SEP,a=Z.j.charCodeAt(0),W=p[F];if(0<e||0<b){for(e=W;e<b;e++){c[x](Z.j)}for(e=0;e<W;e++){c[x](String.fromCharCode(a+1*p[C](e))),1<W-e&&0<this.B&&1==(W-e)%this.B&&c[x](Q)}}else{n||c[x](Z.j)}(this.N||n)&&c[x](B);b=K+(f+d);for(d=b[F];b[C](d-1)==N&&d>this.h+1;){d--}for(e=1;e<d;e++){c[x](String.fromCharCode(a+1*b[C](e)))}};R.ea=function(a,b){b[x](Z.$);0>a?(a=-a,b[x](Z.aa)):this.M&&b[x](Z.ca);for(var c=K+a,d=c[F];d<this.o;d++){b[x](Z.j)}b[x](c)};R.Qa=function(a,b){if(0==a){this.D(a,this.a,b),this.ea(0,b)}else{var c=t[A](t.log(a)/t.log(10)),a=a/t.pow(10,c),d=this.a;if(1<this.p&&this.p>this.a){for(;0!=c%this.p;){a*=10,c--}d=1}else{1>this.a?(c++,a/=10):(c-=this.a-1,a*=t.pow(10,this.a-1))}this.D(a,d,b);this.ea(c,b)}};R.t=function(a,b){for(var c=K,d=i,e=a[F];b[0]<e;b[0]++){var f=a[C](b[0]);if(f==Aa){b[0]+1<e&&a[C](b[0]+1)==Aa?(b[0]++,c+=Aa):d=!d}else{if(d){c+=f}else{switch(f){case wa:case N:case Ga:case M:case Pa:return c;case Dc:if(b[0]+1<e&&a[C](b[0]+1)==Dc){b[0]++,c+=this.g}else{switch(this.ra){case 0:c+=Sd[this.g][1];break;case 2:var f=this.g,n=Sd[f],c=c+(f==n[1]?f:f+ua+n[1]);break;case 1:c+=Sd[this.g][2]}}break;case za:if(1!=this.f){throw l(eb)}this.f=100;c+=Z.fa;break;case Ec:if(1!=this.f){throw l(eb)}this.f=1000;c+=Z.ga;break;default:c+=f}}}}return c};R.mb=function(a,b){for(var c=-1,d=0,e=0,f=0,n=-1,p=a[F],B=aa;b[0]<p&&B;b[0]++){switch(a[C](b[0])){case wa:0<e?f++:d++;0<=n&&0>c&&n++;break;case N:if(0<f){throw l('Unexpected "0" in pattern "'+a+'"')}e++;0<=n&&0>c&&n++;break;case Ga:n=0;break;case M:if(0<=c){throw l('Multiple decimal separators in pattern "'+a+'"')}c=d+e+f;break;case Ta:if(this.n){throw l('Multiple exponential symbols in pattern "'+a+'"')}this.n=aa;this.o=0;if(b[0]+1<p&&a[C](b[0]+1)==Fa){b[0]++,this.M=aa}for(;b[0]+1<p&&a[C](b[0]+1)==N;){b[0]++,this.o++}if(1>d+e||1>this.o){throw l('Malformed exponential pattern "'+a+'"')}B=i;break;default:b[0]--,B=i}}0==e&&0<d&&0<=c&&(e=c,0==e&&e++,f=d-e,d=e-1,e=1);if(0>c&&0<f||0<=c&&(c<d||c>d+e)||0==n){throw l('Malformed pattern "'+a+'"')}f=d+e+f;this.C=0<=c?f-c:0;if(0<=c&&(this.h=d+e-c,0>this.h)){this.h=0}this.a=(0<=c?c:f)-d;if(this.n&&(this.p=d+this.a,0==this.C&&0==this.a)){this.a=1}this.B=t.max(0,n);this.N=0==c||c==f};function $(a){a=new ad([a||{},{decimalSymbol:Vd,groupingSymbol:Wd,fractionDigits:2,negativeParens:i,prefix:K,suffix:K,scaleFactor:1}]);this.i=a.Ma(Db);this.Ka=a.r(Ab);this.F=a.r(Mb);this.Ia=a.r(ec);this.Ja=a.r(qc);this.G=a.Oa(Zb);this.S=a.La($b);this.b=a.Pa(dc);this.T=a.Na(jc);if(0>=this.T){throw"Scale factor must be a positive number."}}var Vd=Z.DECIMAL_SEP,Wd=Z.GROUP_SEP,Xd=Z.DECIMAL_PATTERN;u($[G],function(a,b){if(a[ga](b)==P){for(var c=0;c<a[ma]();c++){var d=a[ia](c,b);if(d!=h){var e=this.formatValue(d);a[oa](c,b,e);!/^[\s\xa0]*$/[da](this.G==h?K:K+this.G)&&0>d&&a[pa](c,b,oc,wb+this.G+Pa)}}}});$[G].formatValue=function(a){var b=h,b=a/this.T;this.b===h?(this.S&&(b=t.abs(b)),b=this.s(b),b=this.Ia+b+this.Ja,this.S&&0>a&&(b=Ca+b+Ea)):b=(new Ud(this.b))[D](b);return b};$[G].s=function(a){0==this.i&&(a=t[y](a));var b=[];0>a&&(a=-a,b[x](L));var c=t.pow(10,this.i),d=t[y](a*c),a=K+t[A](d/c),c=K+d%c;if(3<a[F]&&this.F){d=a[F]%3;0<d&&(b[x](a[I](0,d),this.F),a=a[I](d));for(;3<a[F];){b[x](a[I](0,3),this.F),a=a[I](3)}}b[x](a);0<this.i&&(b[x](this.Ka),c[F]<this.i&&(c=La+c),b[x](c[I](c[F]-this.i)));return b[J](K)};function Yd(a){this.b=a||K}function Zd(a,b,c,d,e,f,n){return 0<f&&n[f-1]==kb?d:b.getFormattedValue(a,c[m(e,10)])}u(Yd[G],function(a,b,c,d){var e=b[0];c!=h&&Hc(c)==P&&(e=c);c=d||h;for(d=0;d<a[ma]();d++){var f=this.b[z](/{(\d+)}/g,Mc(Zd,d,a,b)),f=f[z](/\\(.)/g,ya);c?a[pa](d,e,c,f):a[oa](d,e,f)}});j("google.visualization.NumberFormat",$);q($[G],O,$[G][D]);q($[G],"formatValue",$[G].formatValue);j("google.visualization.NumberFormat.DECIMAL_SEP",Vd);j("google.visualization.NumberFormat.GROUP_SEP",Wd);j("google.visualization.NumberFormat.DECIMAL_PATTERN",Xd);j("google.visualization.ColorFormat",V);q(V[G],O,V[G][D]);q(V[G],"addRange",V[G].addRange);q(V[G],nb,V[G].addGradientRange);j("google.visualization.BarFormat",Dd);q(Dd[G],O,Dd[G][D]);j("google.visualization.ArrowFormat",Oc);q(Oc[G],O,Oc[G][D]);j("google.visualization.PatternFormat",Yd);q(Yd[G],O,Yd[G][D]);j("google.visualization.DateFormat",Y);q(Y[G],O,Y[G][D]);q(Y[G],"formatValue",Y[G].formatValue);j("google.visualization.TableNumberFormat",$);q($[G],O,$[G][D]);j("google.visualization.TableColorFormat",V);q(V[G],O,V[G][D]);q(V[G],"addRange",V[G].addRange);q(V[G],nb,V[G].addGradientRange);j("google.visualization.TableBarFormat",Dd);q(Dd[G],O,Dd[G][D]);j("google.visualization.TableArrowFormat",Oc);q(Oc[G],O,Oc[G][D]);j("google.visualization.TablePatternFormat",Yd);q(Yd[G],O,Yd[G][D]);j("google.visualization.TableDateFormat",Y);q(Y[G],O,Y[G][D])})();(function(){if(window.__gvizguard__){return}function e(a){throw a}var g=void 0,i=!0,k=null,l=!1,aa=encodeURIComponent,m=google_exportSymbol,ba=window,ca=Number,da=Object,ea=Infinity,n=Error,fa=parseInt,ga=parseFloat,ha=isFinite,ja=document,ka=decodeURIComponent,la=isNaN,p=google_exportProperty,na=RegExp,oa=Array,q=Math;function pa(a,b){return a.width=b}function qa(a,b){return a.innerHTML=b}function sa(a,b){return a.currentTarget=b}function ua(a,b){return a.left=b}function va(a,b){return a.screenX=b}function wa(a,b){return a.screenY=b}function xa(a,b){return a.format=b}function ya(a,b){return a.keyCode=b}function za(a,b){return a.handleEvent=b}function Ba(a,b){return a.depth=b}function Ca(a,b){return a.type=b}function Ea(a,b){return a.clear=b}function Fa(a,b){return a.setContent=b}function Ga(a,b){return a.getValue=b}function Ha(a,b){return a.clientX=b}function Ia(a,b){return a.clientY=b}function Ka(a,b){return a.visibility=b}function La(a,b){return a.setState=b}function Ma(a,b){return a.length=b}function Na(a,b){return a.setValue=b}function Oa(a,b){return a.className=b}function Pa(a,b){return a.next=b}function Qa(a,b){return a.visualization=b}function Ra(a,b){return a.clone=b}function Sa(a,b){return a.target=b}function Ta(a,b){return a.bottom=b}function Ua(a,b){return a.contains=b}function Va(a,b){return a.display=b}function Wa(a,b){return a.height=b}function Xa(a,b){return a.right=b}var Ya="appendChild",s="push",Za="isCollapsed",$a="getBoundingClientRect",ab="getParent",bb="open",cb="test",eb="relatedTarget",fb="clearTimeout",t="width",gb="collapse",hb="slice",u="replace",ib="nodeType",jb="events",kb="floor",lb="getElementById",mb="getOptions",nb="RequestParameters",ob="concat",pb="charAt",qb="createTextNode",rb="getNumberOfColumns",sb="value",tb="getDataTable",ub="preventDefault",vb="insertBefore",wb="targetTouches",v="indexOf",xb="metaKey",yb="setEnd",x="dispatchEvent",zb="capture",Ab="getColumnProperties",Bb="nodeName",Cb="currentTarget",y="left",Db="setColumnProperties",Eb="screenX",Fb="screenY",Gb="match",Hb="format",Ib="getBoxObjectFor",Jb="send",Kb="getName",Lb="charCode",Mb="remove",Nb="isError",Ob="focus",Pb="createElement",Qb="getColumnLabel",Rb="toDataTable",Sb="scrollHeight",Tb="keyCode",Ub="getColumnType",Vb="firstChild",Wb="getSortedRows",Xb="forEach",Yb="clientLeft",Zb="getTableRowIndex",$b="setAttribute",ac="clientTop",bc="handleEvent",cc="getRowProperties",dc="getTableProperties",fc="setRefreshInterval",gc="depth",z="type",hc="childNodes",ic="defaultView",jc="setCell",kc="bind",lc="source",mc="setContent",nc="name",A="getValue",oc="nextSibling",pc="addRows",qc="setActive",rc="getElementsByTagName",sc="clientX",tc="clientY",uc="documentElement",vc="substr",wc="setState",xc="scrollTop",yc="toString",zc="altKey",Ac="getMonth",Bc="setStart",Cc="getView",Dc="getNumberOfRows",B="length",Ec="propertyIsEnumerable",Fc="getProperties",Gc="addError",D="prototype",Hc="toJSON",Ic="setValue",Jc="clientWidth",Kc="abort",Lc="setTimeout",Mc="setDataSourceUrl",Nc="document",Oc="ctrlKey",Pc="split",Qc="getColumnProperty",Rc="constructor",Sc="stopPropagation",Tc="getColumnPattern",Uc="location",Vc="setOptions",E="visualization",Wc="disabled",Xc="message",Yc="hasOwnProperty",F="style",Zc="setView",$c="setQuery",ad="body",bd="removeChild",cd="clone",dd="getDataSourceUrl",ed="target",fd="lastChild",G="call",gd="isEnabled",hd="setDataTable",id="removeAll",jd="lastIndexOf",kd="draw",ld="getFullYear",md="DataView",nd="getRefreshInterval",od="getState",pd="clientHeight",qd="scrollLeft",rd="charCodeAt",sd="getPackages",td="getContainerId",ud="bottom",vd="currentStyle",wd="href",xd="substring",yd="getQuery",zd="rows",Ad="apply",Bd="shiftKey",Cd="tagName",Dd="addColumn",Ed="element",Fd="getFormattedValue",Gd="errors",Hd="parentNode",Id="label",Jd="offsetTop",I="height",Kd="splice",Ld="join",Md="setColumns",Nd="execScript",Od="toLowerCase",Pd="right",J="",Qd="\n",Rd="\n<\/script>",Sd=" ",Td=" [",Ud=" is duplicate in sortColumns.",Vd=' name="',Wd=' type="',Xd='"',Yd='" />',Zd='" src="http://www.google.com/ig/ifr?url=',$d='">\n',ae="#",be="#$1$1$2$2$3$3",ce="%",de="%22",ee="%27",fe="&",ge="&amp;",he="&gt;",ie="&lt;",je="&quot;",ke="&requireauth=1&",le="&up_",me="&up__table_query_url=",ne="').send(\n     function(response) {\n      new ",oe="']});\n\n   function drawVisualization() {\n    new google.visualization.Query('",pe="(",qe='(\n       document.getElementById(\'visualization\')).\n        draw(response.getDataTable(), null);\n      });\n   }\n\n   google.setOnLoadCallback(drawVisualization);\n  <\/script>\n </head>\n <body>\n  <div id="visualization" style="width: 500px; height: 500px;"></div>\n </body>\n</html>',re="(\\d*)(\\D*)",se=")",te="*",ue=",",ve=", ",we="-active",xe="-bg",ye="-buttons",ze="-caption",Ae="-checkbox",Be="-checked",Ce="-content",De="-default",Ee="-disabled",Fe="-dropdown",Ge="-focused",He="-highlight",Ie="-horizontal",Je="-hover",Ke="-inner-box",Le="-open",Me="-outer-box",Ne="-rtl",Pe="-selected",Qe="-title",Re="-title-close",Se="-title-draggable",Te="-title-text",Ue="-vertical",Ve=".",We="..",Xe="./",Ye="/",Ze="/.",$e="//",af="/chart.html",bf="/chart.js",cf="/static/modules/gviz/",df="/tq",ef="/util/toolbar.css",ff="0",gf="0.5",hf="0.6",jf="00",kf="000",lf="1",mf="1.0",nf="1.9",of="500",pf="525",qf="528",rf="533.17.9",sf="7",tf="8",uf=":",vf=";",wf=";sig:",xf=";type:",yf="<",zf='<html>\n <head>\n  <title>Google Visualization API</title>\n  <script type="text/javascript" src="http://www.google.com/jsapi"><\/script>\n  <script type="text/javascript">\n   google.load(\'visualization\', \'1\', {packages: [\'',Af='<iframe style="',Bf='<script type="text/javascript" src="',Cf="=",Df=">",Ef="?",Ff="@",Gf="APPLET",Hf="AREA",If="Add to iGoogle",Jf="BASE",Kf="BODY",Lf="BR",Mf="BUTTON",Nf="BarChart",Of="BubbleChart",Pf="COL",Qf="CSS1Compat",Rf="Chart options",Sf="Column index ",Tf="Component already rendered",Uf="Content-Type",Vf="Copy-Paste this code to an HTML page",Wf="Dashboard",Xf="Date(",Yf="End",Zf="EndToEnd",$f="Export data as CSV",ag="Export data as HTML",bg="FRAME",cg="GET",dg="GeoChart",eg="Google Visualization",fg="Google_Visualization",gg="HR",hg="HTML",ig="IFRAME",jg="IMG",kg="INPUT",lg="ISINDEX",mg="ImageChart",ng="ImageRadarChart",og="Invalid DataView column type.",pg="Invalid listener argument",qg="JavaScript",rg="Javascript code",sg="LINK",tg="META",ug="MSXML2.XMLHTTP",vg="MSXML2.XMLHTTP.3.0",wg="MSXML2.XMLHTTP.6.0",xg="Microsoft.XMLHTTP",yg="MozOpacity",zg="NOFRAMES",Ag="NOSCRIPT",Bg="Name",Cg="Not a valid 2D array.",Dg="OBJECT",Eg="PARAM",Fg="POST",Gg="Publish to web page",Hg="Q",Ig="Request timed out",Jg="SCRIPT",Kg="SELECT",Lg="STYLE",Mg="ScatterChart",Ng="Start",Og="StartToEnd",Pg="StartToStart",Qg="Style",Rg="TEXTAREA",Sg="TR",Tg="Timed out after ",Ug="To",Vg="Type",Wg="Unable to set parent component",Xg="W",Yg="Width",Zg="[",$g="[object Array]",ah="[object Function]",bh="[object Window]",ch="\\\\",dh="\\c",eh="\\s",fh="\\u",gh="]",hh="_",ih="_table_query_refresh_interval",jh="_table_query_url",kh="abort",lh="absolute",mh="action",nh="activate",oh="activedescendant",ph="afterhide",qh="aftershow",rh="alpha(opacity=",sh="application/x-www-form-urlencoded;charset=utf-8",th="aria-",uh="array",vh="auto",wh="beforedrag",xh="beforehide",yh="beforeshow",zh="block",Ah="blur",Bh="body",Ch="boolean",Dh="border-box",Eh="border:0;vertical-align:bottom;",Fh="borderBottom",Gh="borderBottomWidth",Hh="borderLeft",Ih="borderLeftWidth",Jh="borderRight",Kh="borderRightWidth",Lh="borderTop",Mh="borderTopWidth",Nh="br",Oh="button",Ph="call",Qh="callee",Rh="character",Sh="chart",Th="check",Uh="checked",Vh="cht",Wh="class",Xh="click",Yh="close",Zh="column",$h="columnFilters[",ai="complete",bi="control",ci="controls",di="corechart",ei="csv",fi="dashboard",gi="date",hi="datetime",ii="dblclick",ji="deactivate",ki="desc",li="detailed_message",mi="dialog",ni="dialogselect",oi="direction",pi="disable",qi="disabled",ri="display",si="display: none; padding-top: 2px",ti="div",ui="drag",vi="dragstart",wi="draw",xi="earlycancel",yi="emptyString",zi="enable",Ai="end",Bi="enter",Ci="error",Di="expanded",Ei="false",Fi="filter",Gi="fixed",Hi="focus",Ii="focusin",Ji="focusout",Ki="for",Li="full",Mi="function",Ni="g",Oi="gadgets.io.makeRequest",Pi="gadgets.io.makeRequest failed",Qi="getColumnIndex",Ri="getColumnLabel",Si="getColumnPattern",Ti="getColumnProperties",Ui="getColumnProperty",Vi="getColumnRange",Wi="getContainerId",Xi="getDataSourceUrl",Yi="getDataTable",Zi="getDistinctValues",$i="getFilteredRows",aj="getFormattedValue",bj="getNumberOfColumns",cj="getNumberOfRows",dj="getPackages",ej="getQuery",fj="getRefreshInterval",gj="getRowProperties",hj="getRowProperty",ij="getSnapshot",jj="getTableProperties",kj="getTableProperty",lj="goog-button",mj="goog-container",nj="goog-control",oj="goog-custom-button",pj="goog-inline-block ",qj="goog-menu",rj="goog-menu-button",sj="goog-menuheader",tj="goog-menuitem",uj="goog-menuitem-accel",vj="goog-menuitem-mnemonic-separator",wj="goog-menuseparator",xj="goog-modalpopup",yj="goog-option",zj="goog-option-selected",Aj="google-visualization-toolbar-big-dialog",Bj="google-visualization-toolbar-export-data",Cj="google-visualization-toolbar-export-igoogle",Dj="google-visualization-toolbar-html-code",Ej="google-visualization-toolbar-html-code-explanation",Fj="google-visualization-toolbar-small-dialog",Gj="google-visualization-toolbar-triangle",Hj="google.loader.GoogleApisBase",Ij="google.visualization.",Jj="google.visualization.Version",Kj="hasLabelsColumn",Lj="haspopup",Mj="head",Nj="hex",Oj="hidden",Pj="hide",Qj="highlight",Rj="horizontal",Sj="html",Tj="htmlcode",Uj="http",Vj="http%",Wj="http://ajax.googleapis.com/ajax",Xj="http://dummy.com",Yj="http://www.google.com/ig/adde?moduleurl=",Zj="https",$j="https%",ak="identity",bk="iframe",ck="igoogle",dk="img",ek="inline",fk="innerText",gk="input",hk="invalid_query",ik='javascript:""',jk="jscode",kk="json",lk="key",mk="keydown",ok="keypress",pk="keyup",qk="labelledby",rk="leave",sk="left",tk="link",uk="listbox",vk="losecapture",wk="makeRequest",xk="make_request_failed",yk="maxValue",zk="medium",Ak="menu",Bk="menuitem",Ck="message",Dk="minValue",Ek="modal-dialog",Fk="modifier",Gk="mousedown",Hk="mousemove",Ik="mouseout",Jk="mouseover",Kk="mouseup",Lk="ms, aborting",Mk="named",Nk="native code",Ok="new ",Pk="nodeType",Qk="none",Rk="not_modified",Sk="null",K="number",Tk="o",Uk="object",Vk="on",Wk="opacity",Xk="open",Yk="option",Zk="options",$k="out:csv;",al="out:html;",bl="outerHTML",cl="overflow",dl="package",el="padding: 2px",fl="paddingBottom",gl="paddingLeft",hl="paddingRight",il="paddingTop",jl="pixelLeft",kl="position",ll="position:fixed;width:0;height:0;left:0;top:0;",ml="pre",nl="pressed",ol="pub",pl="px",ql="r",rl="range",sl="ready",tl="readystatechange",ul="reason",vl="refresh",wl="relative",xl="reqId:",yl="resize",zl="rgb",Al="right",Bl="role",Cl="rs",Dl="rtl",El="script",Fl="scroll",Gl="select",Hl="selected",Il="separator",Jl="setContainerId",Kl="setDataSourceUrl",Ll="setDataTable",Ml="setOptions",Nl="setPackages",Ol="setQuery",Pl="setRefreshInterval",Ql="show",Rl="solid",Sl="sortColumns",Tl="sortColumns[",Ul="span",Vl="splice",Wl="start",Xl="statechange",Yl="static",M="string",Zl="stringify",$l="style",am="stylesheet",bm="success",cm="tabIndex",dm="tabindex",em="text/css",fm="text/javascript",gm="textContent",hm="tick",im="timeofday",jm="timeout",km="toJSON",lm="touchcancel",mm="touchend",nm="touchmove",om="touchstart",pm="tqrt",qm="tqx",rm="transparent",sm="true",tm="type",um="uncheck",vm="unhighlight",wm="unselect",xm="unselectable",ym="user_not_authenticated",zm="value",Am="var ",Bm="var _et_ = 1;",Cm="vertical",Dm="visible",Em="visualization",Fm="warning",Gm="width: 700px; height: 500px;",Hm="window.event",Im="withCredentials",Jm="xhr",Km="xhrpost",Lm="zx",Mm="{",Nm="}",Om="\u00a0",Pm="\u00d7",Qm="\u25bc",N,Rm=Rm||{},O=this;function Sm(a,b){for(var c=a[Pc](Ve),d=b||O,f;f=c.shift();){if(P(d[f])){d=d[f]}else{return k}}return d}function Tm(){}function Um(a){a.qa=function(){return a.tk||(a.tk=new a)}}function Vm(a){var b=typeof a;if(b==Uk){if(a){if(a instanceof oa){return uh}if(a instanceof da){return b}var c=da[D][yc][G](a);if(c==bh){return Uk}if(c==$g||typeof a[B]==K&&"undefined"!=typeof a[Kd]&&"undefined"!=typeof a[Ec]&&!a[Ec](Vl)){return uh}if(c==ah||"undefined"!=typeof a[G]&&"undefined"!=typeof a[Ec]&&!a[Ec](Ph)){return Mi}}else{return Sk}}else{if(b==Mi&&"undefined"==typeof a[G]){return Uk}}return b}function Wm(a){return a!==g}function Xm(a){return a===k}function P(a){return a!=k}function Q(a){return Vm(a)==uh}function Ym(a){var b=Vm(a);return b==uh||b==Uk&&typeof a[B]==K}function Zm(a){return $m(a)&&typeof a[ld]==Mi}function R(a){return typeof a==M}function an(a){return typeof a==K}function bn(a){return Vm(a)==Mi}function $m(a){a=Vm(a);return a==Uk||a==uh||a==Mi}function cn(a){return a[dn]||(a[dn]=++en)}var dn="closure_uid_"+q[kb](2147483648*q.random())[yc](36),en=0;function fn(a){var b=Vm(a);if(b==Uk||b==uh){if(a[cd]){return a[cd]()}var b=b==uh?[]:{},c;for(c in a){b[c]=fn(a[c])}return b}return a}function gn(a,b,c){return a[G][Ad](a[kc],arguments)}function hn(a,b,c){a||e(n());if(2<arguments[B]){var d=oa[D][hb][G](arguments,2);return function(){var c=oa[D][hb][G](arguments);oa[D].unshift[Ad](c,d);return a[Ad](b,c)}}return function(){return a[Ad](b,arguments)}}function jn(a,b,c){jn=Function[D][kc]&&-1!=Function[D][kc][yc]()[v](Nk)?gn:hn;return jn[Ad](k,arguments)}function kn(a,b){var c=oa[D][hb][G](arguments,1);return function(){var b=oa[D][hb][G](arguments);b.unshift[Ad](b,c);return a[Ad](this,b)}}var ln=Date.now||function(){return +new Date};function mn(a){if(O[Nd]){O[Nd](a,qg)}else{if(O.eval){if(nn==k&&(O.eval(Bm),"undefined"!=typeof O._et_?(delete O._et_,nn=i):nn=l),nn){O.eval(a)}else{var b=O[Nc],c=b[Pb](El);Ca(c,fm);c.defer=l;c[Ya](b[qb](a));b[ad][Ya](c);b[ad][bd](c)}}else{e(n("goog.globalEval not available"))}}}var nn=k;function S(a,b){function c(){}c.prototype=b[D];a.b=b[D];a.prototype=new c;a[D].constructor=a}function on(a){var b;if(0==ja[rc](Mj)[B]){b=ja[rc](Sj)[0];var c=ja[rc](Bh)[0],d=ja[Pb](Mj);b[vb](d,c)}b=ja[rc](Mj)[0];c=ja[Pb](El);Ca(c,fm);c.src=a;b[Ya](c)}function pn(a){return function(b){google[E][Gd][id](a);var c=b[Nb]();c&&google[E][Gd].addErrorFromQueryResponse(a,b);return !c}}function qn(a){a=J+a;if(/^\s*$/[cb](a)?0:/^[\],:{}\s\u2028\u2029]*$/[cb](a[u](/\\["\\\/bfnrtu]/g,Ff)[u](/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,gh)[u](/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,J))){try{return eval(pe+a+se)}catch(b){}}e(n("Invalid JSON string: "+a))}function rn(a){this.Wd=a}rn[D].cl=function(a){var b=[];this.Bf(a,b);return b[Ld](J)};rn[D].Bf=function(a,b){switch(typeof a){case M:this.nh(a,b);break;case K:this.wk(a,b);break;case Ch:b[s](a);break;case"undefined":b[s](Sk);break;case Uk:if(a==k){b[s](Sk);break}if(Q(a)){this.vk(a,b);break}this.xk(a,b);break;case Mi:break;default:e(n("Unknown type: "+typeof a))}};var sn={'"':'\\"',"\\":ch,"/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\u000b"},tn=/\uffff/[cb]("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;rn[D].nh=function(a,b){b[s](Xd,a[u](tn,function(a){if(a in sn){return sn[a]}var b=a[rd](0),f=fh;16>b?f+=kf:256>b?f+=jf:4096>b&&(f+=ff);return sn[a]=f+b[yc](16)}),Xd)};rn[D].wk=function(a,b){b[s](ha(a)&&!la(a)?a:Sk)};rn[D].vk=function(a,b){var c=a[B];b[s](Zg);for(var d=J,f=0;f<c;f++){b[s](d),d=a[f],this.Bf(this.Wd?this.Wd[G](a,J+f,d):d,b),d=ue}b[s](gh)};rn[D].xk=function(a,b){b[s](Mm);var c=J,d;for(d in a){if(da[D][Yc][G](a,d)){var f=a[d];typeof f!=Mi&&(b[s](c),this.nh(d,b),b[s](uf),this.Bf(this.Wd?this.Wd[G](a,d,f):f,b),c=ue)}}b[s](Nm)};function un(a){a=vn(a,wn);return(new rn(g)).cl(a)}function xn(a){qn(a);return yn(a)}function yn(a){a=zn(a);return eval(pe+a+se)}function vn(a,b){var a=b(a),c=Vm(a);if(c==Uk||c==uh){var c=c==uh?[]:{},d;for(d in a){var f=vn(a[d],b);Wm(f)&&(c[d]=f)}}else{c=a}return c}function zn(a){return a[u](/"(Date\([\d,\s]*\))"/g,function(a,c){return Ok+c})}function wn(a){Zm(a)&&(a=0!==a.getMilliseconds()?[a[ld](),a[Ac](),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()]:0!==a.getSeconds()||0!==a.getMinutes()||0!==a.getHours()?[a[ld](),a[Ac](),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()]:[a[ld](),a[Ac](),a.getDate()],a=Xf+a[Ld](ve)+se);return a}function An(a){return/^[\s\xa0]*$/[cb](a==k?J:J+a)}function Bn(a){return a[u](/[\t\r\n ]+/g,Sd)[u](/^[\t\r\n ]+|[\t\r\n ]+$/g,J)}function Cn(a){return a[u](/^[\s\xa0]+|[\s\xa0]+$/g,J)}var Dn=/^[a-zA-Z0-9\-_.!~*'()]*$/;function En(a){a=J+a;return !Dn[cb](a)?aa(a):a}function Fn(a,b){if(b){return a[u](Gn,ge)[u](Hn,ie)[u](In,he)[u](Jn,je)}if(!Kn[cb](a)){return a}-1!=a[v](fe)&&(a=a[u](Gn,ge));-1!=a[v](yf)&&(a=a[u](Hn,ie));-1!=a[v](Df)&&(a=a[u](In,he));-1!=a[v](Xd)&&(a=a[u](Jn,je));return a}var Gn=/&/g,Hn=/</g,In=/>/g,Jn=/\"/g,Kn=/[&<>\"]/;function Ln(a,b){this.x=Wm(a)?a:0;this.y=Wm(b)?b:0}Ra(Ln[D],function(){return new Ln(this.x,this.y)});function Mn(a,b){return new Ln(a.x-b.x,a.y-b.y)}function Nn(a,b){pa(this,a);Wa(this,b)}Ra(Nn[D],function(){return new Nn(this[t],this[I])});Nn[D].floor=function(){pa(this,q[kb](this[t]));Wa(this,q[kb](this[I]));return this};Nn[D].round=function(){pa(this,q.round(this[t]));Wa(this,q.round(this[I]));return this};var On=na("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Pn(a){return a&&ka(a)}function Qn(a,b){return b[Gb](On)[a]||k}var Rn=/#|$/;var Sn=/\/spreadsheet/,Tn=/\/(ccc|tq|pub)$/,Un=/^\/a\/(\w+.)*\w+/,Vn=/^(\/a\/(\w+.)*\w+)?/,Wn=/^spreadsheets?[0-9]?\.google\.com$/,Xn=/^docs\.google\.com*$/,Yn=/^(trix|spreadsheets|docs|webdrive)-[a-z]+\.corp\.google\.com/,Zn=/^(\w*\.){1,2}corp\.google\.com$/;function $n(a){var b=Pn(Qn(3,a)),c=Wn[cb](b),d=Yn[cb](b),f=Zn[cb](b),b=Xn[cb](b),h=Pn(Qn(5,a)),j=na(Vn[lc]+Tn[lc]),h=(a=na(Vn[lc]+Sn[lc]+Tn[lc])[cb](h))||j[cb](h);return b&&a||(d||f||c)&&h}var ao=oa[D],bo=ao[v]?function(a,b,c){return ao[v][G](a,b,c)}:function(a,b,c){c=c==k?0:0>c?q.max(0,a[B]+c):c;if(R(a)){return !R(b)||1!=b[B]?-1:a[v](b,c)}for(;c<a[B];c++){if(c in a&&a[c]===b){return c}}return -1},co=ao[Xb]?function(a,b,c){ao[Xb][G](a,b,c)}:function(a,b,c){for(var d=a[B],f=R(a)?a[Pc](J):a,h=0;h<d;h++){h in f&&b[G](c,f[h],h,a)}},eo=ao.filter?function(a,b,c){return ao.filter[G](a,b,c)}:function(a,b,c){for(var d=a[B],f=[],h=0,j=R(a)?a[Pc](J):a,o=0;o<d;o++){if(o in j){var r=j[o];b[G](c,r,o,a)&&(f[h++]=r)}}return f},fo=ao.map?function(a,b,c){return ao.map[G](a,b,c)}:function(a,b,c){for(var d=a[B],f=oa(d),h=R(a)?a[Pc](J):a,j=0;j<d;j++){j in h&&(f[j]=b[G](c,h[j],j,a))}return f},go=ao.every?function(a,b,c){return ao.every[G](a,b,c)}:function(a,b,c){for(var d=a[B],f=R(a)?a[Pc](J):a,h=0;h<d;h++){if(h in f&&!b[G](c,f[h],h,a)){return l}}return i};function ho(a,b){return 0<=bo(a,b)}function io(a,b){var c=bo(a,b),d;(d=0<=c)&&ao[Kd][G](a,c,1);return d}function jo(a){return ao[ob][Ad](ao,arguments)}function ko(a){if(Q(a)){return jo(a)}for(var b=[],c=0,d=a[B];c<d;c++){b[c]=a[c]}return b}function lo(a,b){for(var c=1;c<arguments[B];c++){var d=arguments[c],f;if(Q(d)||(f=Ym(d))&&d[Yc](Qh)){a[s][Ad](a,d)}else{if(f){for(var h=a[B],j=d[B],o=0;o<j;o++){a[h+o]=d[o]}}else{a[s](d)}}}}function mo(a,b,c,d){return ao[Kd][Ad](a,no(arguments,1))}function no(a,b,c){return 2>=arguments[B]?ao[hb][G](a,b):ao[hb][G](a,b,c)}function oo(a,b){ao.sort[G](a,b||po)}function qo(a,b){for(var c=0;c<a[B];c++){a[c]={index:c,value:a[c]}}var d=b||po;oo(a,function(a,b){return d(a[sb],b[sb])||a.index-b.index});for(c=0;c<a[B];c++){a[c]=a[c][sb]}}function po(a,b){return a>b?1:a<b?-1:0}function ro(a,b,c){for(var d in a){b[G](c,a[d],d,a)}}function so(a){var b=[],c=0,d;for(d in a){b[c++]=a[d]}return b}function to(a){var b=[],c=0,d;for(d in a){b[c++]=d}return b}function uo(a,b){for(var c in a){if(a[c]==b){return i}}return l}function vo(a,b){var c;(c=b in a)&&delete a[b];return c}function wo(a){var b={},c;for(c in a){b[c]=a[c]}return b}function xo(a){var b=Vm(a);if(b==Uk||b==uh){if(a[cd]){return a[cd]()}var b=b==uh?[]:{},c;for(c in a){b[c]=xo(a[c])}return b}return a}var yo="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function zo(a,b){for(var c,d,f=1;f<arguments[B];f++){d=arguments[f];for(c in d){a[c]=d[c]}for(var h=0;h<yo[B];h++){c=yo[h],da[D][Yc][G](d,c)&&(a[c]=d[c])}}}var Ao,Bo,Co,Do,Eo,Fo;function Go(){return O.navigator?O.navigator.userAgent:k}function Ho(){return O.navigator}Eo=Do=Co=Bo=Ao=l;var Io;if(Io=Go()){var Jo=Ho();Ao=0==Io[v]("Opera");Bo=!Ao&&-1!=Io[v]("MSIE");Do=(Co=!Ao&&-1!=Io[v]("WebKit"))&&-1!=Io[v]("Mobile");Eo=!Ao&&!Co&&"Gecko"==Jo.product}var Ko=Ao,T=Bo,Lo=Eo,Mo=Co,No=Do,Oo=Ho(),Po=Oo&&Oo.platform||J;Fo=-1!=Po[v]("Mac");Po[v]("Win");Po[v]("Linux");var Qo=!!Ho()&&-1!=(Ho().appVersion||J)[v]("X11"),Ro;a:{var So=J,To;if(Ko&&O.opera){var Uo=O.opera.version,So=typeof Uo==Mi?Uo():Uo}else{if(Lo?To=/rv\:([^\);]+)(\)|;)/:T?To=/MSIE\s+([^\);]+)(\)|;)/:Mo&&(To=/WebKit\/(\S+)/),To){var Vo=To.exec(Go()),So=Vo?Vo[1]:J}}if(T){var Wo,Xo=O[Nc];Wo=Xo?Xo.documentMode:g;if(Wo>ga(So)){Ro=J+Wo;break a}}Ro=So}var Yo=Ro,Zo={};function $o(a){var b;if(!(b=Zo[a])){b=0;for(var c=Cn(J+Yo)[Pc](Ve),d=Cn(J+a)[Pc](Ve),f=q.max(c[B],d[B]),h=0;0==b&&h<f;h++){var j=c[h]||J,o=d[h]||J,r=na(re,Ni),w=na(re,Ni);do{var C=r.exec(j)||[J,J,J],L=w.exec(o)||[J,J,J];if(0==C[0][B]&&0==L[0][B]){break}b=((0==C[1][B]?0:fa(C[1],10))<(0==L[1][B]?0:fa(L[1],10))?-1:(0==C[1][B]?0:fa(C[1],10))>(0==L[1][B]?0:fa(L[1],10))?1:0)||((0==C[2][B])<(0==L[2][B])?-1:(0==C[2][B])>(0==L[2][B])?1:0)||(C[2]<L[2]?-1:C[2]>L[2]?1:0)}while(0==b)}b=Zo[a]=0<=b}return b}var ap={};function bp(a){return ap[a]||(ap[a]=T&&ja.documentMode&&ja.documentMode>=a)}var cp,dp=!T||bp(9);!Lo&&!T||T&&bp(9)||Lo&&$o("1.9.1");var ep=T&&!$o("9");function fp(a){return(a=a.className)&&typeof a[Pc]==Mi?a[Pc](/\s+/):[]}function gp(a,b){var c=fp(a),d=no(arguments,1),f;f=c;for(var h=0,j=0;j<d[B];j++){ho(f,d[j])||(f[s](d[j]),h++)}f=h==d[B];Oa(a,c[Ld](Sd));return f}function hp(a,b){var c=fp(a),d=no(arguments,1),f;f=c;for(var h=0,j=0;j<f[B];j++){ho(d,f[j])&&(mo(f,j--,1),h++)}f=h==d[B];Oa(a,c[Ld](Sd));return f}function ip(a){return a?new jp(kp(a)):cp||(cp=new jp)}function lp(a){return R(a)?ja[lb](a):a}function mp(a,b){ro(b,function(b,d){d==$l?a[F].cssText=b:d==Wh?Oa(a,b):d==Ki?a.htmlFor=b:d in np?a[$b](np[d],b):0==d[jd](th,0)?a[$b](d,b):a[d]=b})}var np={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:tm};function op(a){var b=a[Nc];if(Mo&&!$o(of)&&!No){"undefined"==typeof a.innerHeight&&(a=ba);var b=a.innerHeight,c=a[Nc][uc][Sb];a==a.top&&c<b&&(b-=15);return new Nn(a.innerWidth,b)}a=pp(b)?b[uc]:b[ad];return new Nn(a[Jc],a[pd])}function qp(a){return a?a.parentWindow||a[ic]:ba}function rp(a,b,c){return sp(ja,arguments)}function sp(a,b){var c=b[0],d=b[1];if(!dp&&d&&(d[nc]||d[z])){c=[yf,c];d[nc]&&c[s](Vd,Fn(d[nc]),Xd);if(d[z]){c[s](Wd,Fn(d[z]),Xd);var f={};zo(f,d);d=f;delete d[z]}c[s](Df);c=c[Ld](J)}c=a[Pb](c);d&&(R(d)?Oa(c,d):Q(d)?gp[Ad](k,[c][ob](d)):mp(c,d));2<b[B]&&tp(a,c,b,2);return c}function tp(a,b,c,d){function f(c){c&&b[Ya](R(c)?a[qb](c):c)}for(;d<c[B];d++){var h=c[d];Ym(h)&&!up(h)?co(vp(h)?ko(h):h,f):f(h)}}function pp(a){return a.compatMode==Qf}function wp(a,b){tp(kp(a),a,arguments,1)}function xp(a){for(var b;b=a[Vb];){a[bd](b)}}function yp(a,b){b[Hd]&&b[Hd][vb](a,b)}function zp(a){return a&&a[Hd]?a[Hd][bd](a):k}function up(a){return $m(a)&&0<a[ib]}function Ap(a,b){if(a.contains&&1==b[ib]){return a==b||a.contains(b)}if("undefined"!=typeof a.compareDocumentPosition){return a==b||Boolean(a.compareDocumentPosition(b)&16)}for(;b&&a!=b;){b=b[Hd]}return b==a}function kp(a){return 9==a[ib]?a:a.ownerDocument||a[Nc]}function Bp(a,b){if(gm in a){a.textContent=b}else{if(a[Vb]&&3==a[Vb][ib]){for(;a[fd]!=a[Vb];){a[bd](a[fd])}a[Vb].data=b}else{xp(a),a[Ya](kp(a)[qb](b))}}}function Cp(a){if(bl in a){return a.outerHTML}var b=kp(a)[Pb](ti);b[Ya](a.cloneNode(i));return b.innerHTML}var Dp={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ep={IMG:Sd,BR:Qd};function Fp(a){var b=a.getAttributeNode(dm);return b&&b.specified?(a=a.tabIndex,an(a)&&0<=a&&32768>a):l}function Gp(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute(cm))}function Hp(a){var b=[];Ip(a,b,l);return b[Ld](J)}function Ip(a,b,c){if(!(a[Bb] in Dp)){if(3==a[ib]){c?b[s]((J+a.nodeValue)[u](/(\r\n|\r|\n)/g,J)):b[s](a.nodeValue)}else{if(a[Bb] in Ep){b[s](Ep[a[Bb]])}else{for(a=a[Vb];a;){Ip(a,b,c),a=a[oc]}}}}}function vp(a){if(a&&typeof a[B]==K){if($m(a)){return typeof a.item==Mi||typeof a.item==M}if(bn(a)){return typeof a.item==Mi}}return l}function jp(a){this.o=a||O[Nc]||ja}N=jp[D];N.t=ip;N.a=function(a){return R(a)?this.o[lb](a):a};N.setProperties=mp;N.Tj=function(a){a=a||this.ed();return op(a||ba)};N.d=function(a,b,c){return sp(this.o,arguments)};N.createElement=function(a){return this.o[Pb](a)};N.createTextNode=function(a){return this.o[qb](a)};N.ff=function(){return pp(this.o)};N.ed=function(){return this.o.parentWindow||this.o[ic]};N.Sj=function(){return !Mo&&pp(this.o)?this.o[uc]:this.o[ad]};N.ac=function(){var a=this.o,b=!Mo&&pp(a)?a[uc]:a[ad],a=a.parentWindow||a[ic];return new Ln(a.pageXOffset||b[qd],a.pageYOffset||b[xc])};N.appendChild=function(a,b){a[Ya](b)};N.vg=xp;N.se=yp;N.removeNode=zp;Ua(N,Ap);var Jp="StopIteration" in O?O.StopIteration:n("StopIteration");function Kp(){}Pa(Kp[D],function(){e(Jp)});Kp[D].Qd=function(){return this};function Lp(a){if(typeof a.Ja==Mi){return a.Ja()}if(R(a)){return a[Pc](J)}if(Ym(a)){for(var b=[],c=a[B],d=0;d<c;d++){b[s](a[d])}return b}return so(a)}function Mp(a,b,c){if(typeof a[Xb]==Mi){a[Xb](b,c)}else{if(Ym(a)||R(a)){co(a,b,c)}else{var d;if(typeof a.Tb==Mi){d=a.Tb()}else{if(typeof a.Ja!=Mi){if(Ym(a)||R(a)){d=[];for(var f=a[B],h=0;h<f;h++){d[s](h)}}else{d=to(a)}}else{d=g}}for(var f=Lp(a),h=f[B],j=0;j<h;j++){b[G](c,f[j],d&&d[j],a)}}}}function Np(a,b){this.O={};this.D=[];var c=arguments[B];if(1<c){c%2&&e(n("Uneven number of arguments"));for(var d=0;d<c;d+=2){this.set(arguments[d],arguments[d+1])}}else{a&&this.mf(a)}}N=Np[D];N.m=0;N.Jb=0;N.Nd=function(){return this.m};N.Ja=function(){this.Bd();for(var a=[],b=0;b<this.D[B];b++){a[s](this.O[this.D[b]])}return a};N.Tb=function(){this.Bd();return this.D[ob]()};N.Pa=function(a){return Op(this.O,a)};Ea(N,function(){this.O={};Ma(this.D,0);this.Jb=this.m=0});N.remove=function(a){return Op(this.O,a)?(delete this.O[a],this.m--,this.Jb++,this.D[B]>2*this.m&&this.Bd(),i):l};N.Bd=function(){if(this.m!=this.D[B]){for(var a=0,b=0;a<this.D[B];){var c=this.D[a];Op(this.O,c)&&(this.D[b++]=c);a++}Ma(this.D,b)}if(this.m!=this.D[B]){for(var d={},b=a=0;a<this.D[B];){c=this.D[a],Op(d,c)||(this.D[b++]=c,d[c]=1),a++}Ma(this.D,b)}};N.get=function(a,b){return Op(this.O,a)?this.O[a]:b};N.set=function(a,b){Op(this.O,a)||(this.m++,this.D[s](a),this.Jb++);this.O[a]=b};N.mf=function(a){var b;a instanceof Np?(b=a.Tb(),a=a.Ja()):(b=to(a),a=so(a));for(var c=0;c<b[B];c++){this.set(b[c],a[c])}};Ra(N,function(){return new Np(this)});N.Qd=function(a){this.Bd();var b=0,c=this.D,d=this.O,f=this.Jb,h=this,j=new Kp;Pa(j,function(){for(;;){f!=h.Jb&&e(n("The map has changed since the iterator was created"));b>=c[B]&&e(Jp);var j=c[b++];return a?j:d[j]}});return j};function Op(a,b){return da[D][Yc][G](a,b)}function Pp(a){this.O=new Np;a&&this.mf(a)}function Qp(a){var b=typeof a;return b==Uk&&a||b==Mi?Tk+cn(a):b[vc](0,1)+a}N=Pp[D];N.Nd=function(){return this.O.Nd()};N.add=function(a){this.O.set(Qp(a),a)};N.mf=function(a){for(var a=Lp(a),b=a[B],c=0;c<b;c++){this.add(a[c])}};N.removeAll=function(a){for(var a=Lp(a),b=a[B],c=0;c<b;c++){this[Mb](a[c])}};N.remove=function(a){return this.O[Mb](Qp(a))};Ea(N,function(){this.O.clear()});Ua(N,function(a){return this.O.Pa(Qp(a))});N.Ng=function(a){for(var b=new Pp,a=Lp(a),c=0;c<a[B];c++){var d=a[c];this.contains(d)&&b.add(d)}return b};N.Ja=function(){return this.O.Ja()};Ra(N,function(){return new Pp(this)});N.Qd=function(){return this.O.Qd(l)};function Rp(){}Rp[D].Rc=l;Rp[D].Q=function(){if(!this.Rc){this.Rc=i,this.k()}};Rp[D].k=function(){this.Uk&&Sp[Ad](k,this.Uk)};function Tp(a){a&&typeof a.Q==Mi&&a.Q()}function Sp(a){for(var b=0,c=arguments[B];b<c;++b){var d=arguments[b];Ym(d)?Sp[Ad](k,d):Tp(d)}}function Up(a){Up[Sd](a);return a}Up[Sd]=Tm;var Vp=!T||bp(9),Wp=!T||bp(9),Xp=T&&!$o(tf);!Mo||$o(qf);Lo&&$o("1.9b")||T&&$o(tf)||Ko&&$o("9.5")||Mo&&$o(qf);!Lo||$o(tf);function Yp(a,b){Ca(this,a);Sa(this,b);sa(this,this[ed])}S(Yp,Rp);N=Yp[D];N.k=function(){delete this[z];delete this[ed];delete this[Cb]};N.Rb=l;N.Lc=i;N.stopPropagation=function(){this.Rb=i};N.preventDefault=function(){this.Lc=l};function Zp(a){a[ub]()}function $p(a,b){a&&this.Pb(a,b)}S($p,Yp);var aq=[1,4,2];N=$p[D];Sa(N,k);N.relatedTarget=k;N.offsetX=0;N.offsetY=0;Ha(N,0);Ia(N,0);va(N,0);wa(N,0);N.button=0;ya(N,0);N.charCode=0;N.ctrlKey=l;N.altKey=l;N.shiftKey=l;N.metaKey=l;N.Ze=l;N.Y=k;N.Pb=function(a,b){var c=Ca(this,a[z]);Yp[G](this,c);Sa(this,a[ed]||a.srcElement);sa(this,b);var d=a[eb];if(d){if(Lo){var f;a:{try{Up(d[Bb]);f=i;break a}catch(h){}f=l}f||(d=k)}}else{if(c==Jk){d=a.fromElement}else{if(c==Ik){d=a.toElement}}}this.relatedTarget=d;this.offsetX=Mo||a.offsetX!==g?a.offsetX:a.layerX;this.offsetY=Mo||a.offsetY!==g?a.offsetY:a.layerY;Ha(this,a[sc]!==g?a[sc]:a.pageX);Ia(this,a[tc]!==g?a[tc]:a.pageY);va(this,a[Eb]||0);wa(this,a[Fb]||0);this.button=a.button;ya(this,a[Tb]||0);this.charCode=a[Lb]||(c==ok?a[Tb]:0);this.ctrlKey=a[Oc];this.altKey=a[zc];this.shiftKey=a[Bd];this.metaKey=a[xb];this.Ze=Fo?a[xb]:a[Oc];this.state=a.state;this.Y=a;delete this.Lc;delete this.Rb};N.Xk=function(a){return Vp?this.Y.button==a:this[z]==Xh?0==a:!!(this.Y.button&aq[a])};N.ne=function(){return this.Xk(0)&&!(Mo&&Fo&&this[Oc])};N.stopPropagation=function(){$p.b[Sc][G](this);this.Y[Sc]?this.Y[Sc]():this.Y.cancelBubble=i};N.preventDefault=function(){$p.b[ub][G](this);var a=this.Y;if(a[ub]){a[ub]()}else{if(a.returnValue=l,Xp){try{(a[Oc]||112<=a[Tb]&&123>=a[Tb])&&ya(a,-1)}catch(b){}}}};N.sj=function(){return this.Y};N.k=function(){$p.b.k[G](this);this.Y=k;Sa(this,k);sa(this,k);this.relatedTarget=k};function bq(){}var cq=0;N=bq[D];N.key=0;N.Ib=l;N.gh=l;N.Pb=function(a,b,c,d,f,h){bn(a)?this.eh=i:a&&a[bc]&&bn(a[bc])?this.eh=l:e(n(pg));this.kc=a;this.Ig=b;this.src=c;Ca(this,d);this.capture=!!f;this.td=h;this.gh=l;this.key=++cq;this.Ib=l};za(N,function(a){return this.eh?this.kc[G](this.td||this.src,a):this.kc[bc][G](this.kc,a)});var dq={},eq={},fq={},gq={};function hq(a,b,c,d,f){if(b){if(Q(b)){for(var h=0;h<b[B];h++){hq(a,b[h],c,d,f)}return k}var d=!!d,j=eq;b in j||(j[b]={m:0,la:0});j=j[b];d in j||(j[d]={m:0,la:0},j.m++);var j=j[d],o=cn(a),r;j.la++;if(j[o]){r=j[o];for(h=0;h<r[B];h++){if(j=r[h],j.kc==c&&j.td==f){if(j.Ib){break}return r[h].key}}}else{r=j[o]=[],j.m++}h=iq();h.src=a;j=new bq;j.Pb(c,h,a,b,d,f);c=j.key;h.key=c;r[s](j);dq[c]=j;fq[o]||(fq[o]=[]);fq[o][s](j);a.addEventListener?(a==O||!a.Dg)&&a.addEventListener(b,h,d):a.attachEvent(b in gq?gq[b]:gq[b]=Vk+b,h);return c}e(n("Invalid event type"))}function iq(){var a=jq,b=Wp?function(c){return a[G](b.src,b.key,c)}:function(c){c=a[G](b.src,b.key,c);if(!c){return c}};return b}function kq(a,b,c,d,f){if(Q(b)){for(var h=0;h<b[B];h++){kq(a,b[h],c,d,f)}return k}d=!!d;a=lq(a,b,d);if(!a){return l}for(h=0;h<a[B];h++){if(a[h].kc==c&&a[h][zb]==d&&a[h].td==f){return mq(a[h].key)}}return l}function mq(a){if(!dq[a]){return l}var b=dq[a];if(b.Ib){return l}var c=b.src,d=b[z],f=b.Ig,h=b[zb];c.removeEventListener?(c==O||!c.Dg)&&c.removeEventListener(d,f,h):c.detachEvent&&c.detachEvent(d in gq?gq[d]:gq[d]=Vk+d,f);c=cn(c);f=eq[d][h][c];if(fq[c]){var j=fq[c];io(j,b);0==j[B]&&delete fq[c]}b.Ib=i;f.Rg=i;nq(d,h,c,f);delete dq[a];return i}function nq(a,b,c,d){if(!d.Id&&d.Rg){for(var f=0,h=0;f<d[B];f++){d[f].Ib?d[f].Ig.src=k:(f!=h&&(d[h]=d[f]),h++)}Ma(d,h);d.Rg=l;0==h&&(delete eq[a][b][c],eq[a][b].m--,0==eq[a][b].m&&(delete eq[a][b],eq[a].m--),0==eq[a].m&&delete eq[a])}}function oq(a,b,c){var d=0,f=b==k,h=c==k,c=!!c;if(a==k){ro(fq,function(a){for(var j=a[B]-1;0<=j;j--){var o=a[j];if((f||b==o[z])&&(h||c==o[zb])){mq(o.key),d++}}})}else{if(a=cn(a),fq[a]){for(var a=fq[a],j=a[B]-1;0<=j;j--){var o=a[j];if((f||b==o[z])&&(h||c==o[zb])){mq(o.key),d++}}}}return d}function lq(a,b,c){var d=eq;return b in d&&(d=d[b],c in d&&(d=d[c],a=cn(a),d[a]))?d[a]:k}function pq(a,b,c,d,f){var h=1,b=cn(b);if(a[b]){a.la--;a=a[b];a.Id?a.Id++:a.Id=1;try{for(var j=a[B],o=0;o<j;o++){var r=a[o];r&&!r.Ib&&(h&=qq(r,f)!==l)}}finally{a.Id--,nq(c,d,b,a)}}return Boolean(h)}function qq(a,b){var c=a[bc](b);a.gh&&mq(a.key);return c}function rq(a,b){var c=b[z]||b,d=eq;if(!(c in d)){return i}if(R(b)){b=new Yp(b,a)}else{if(b instanceof Yp){Sa(b,b[ed]||a)}else{var f=b,b=new Yp(c,a);zo(b,f)}}var f=1,h,d=d[c],c=i in d,j;if(c){h=[];for(j=a;j;j=j.md){h[s](j)}j=d[i];j.la=j.m;for(var o=h[B]-1;!b.Rb&&0<=o&&j.la;o--){sa(b,h[o]),f&=pq(j,h[o],b[z],i,b)&&b.Lc!=l}}if(l in d){if(j=d[l],j.la=j.m,c){for(o=0;!b.Rb&&o<h[B]&&j.la;o++){sa(b,h[o]),f&=pq(j,h[o],b[z],l,b)&&b.Lc!=l}}else{for(d=a;!b.Rb&&d&&j.la;d=d.md){sa(b,d),f&=pq(j,d,b[z],l,b)&&b.Lc!=l}}}return Boolean(f)}function jq(a,b){if(!dq[a]){return i}var c=dq[a],d=c[z],f=eq;if(!(d in f)){return i}var f=f[d],h,j;if(!Wp){h=b||Sm(Hm);var o=i in f,r=l in f;if(o){if(0>h[Tb]||h.returnValue!=g){return i}a:{var w=l;if(0==h[Tb]){try{ya(h,-1);break a}catch(C){w=i}}if(w||h.returnValue==g){h.returnValue=i}}}w=new $p;w.Pb(h,this);h=i;try{if(o){for(var L=[],ta=w[Cb];ta;ta=ta[Hd]){L[s](ta)}j=f[i];j.la=j.m;for(var ia=L[B]-1;!w.Rb&&0<=ia&&j.la;ia--){sa(w,L[ia]),h&=pq(j,L[ia],d,i,w)}if(r){j=f[l];j.la=j.m;for(ia=0;!w.Rb&&ia<L[B]&&j.la;ia++){sa(w,L[ia]),h&=pq(j,L[ia],d,l,w)}}}else{h=qq(c,w)}}finally{L&&Ma(L,0),w.Q()}return h}d=new $p(b,this);try{h=qq(c,d)}finally{d.Q()}return h}function sq(){}S(sq,Rp);N=sq[D];N.Dg=i;N.md=k;N.Qe=function(a){this.md=a};N.addEventListener=function(a,b,c,d){hq(this,a,b,c,d)};N.removeEventListener=function(a,b,c,d){kq(this,a,b,c,d)};N.dispatchEvent=function(a){return rq(this,a)};N.k=function(){sq.b.k[G](this);oq(this);this.md=k};function tq(a,b){this.Kd=a||1;this.Dc=b||uq;this.nf=jn(this.ek,this);this.of=ln()}S(tq,sq);tq[D].enabled=l;var uq=O.window;N=tq[D];N.ga=k;N.ek=function(){if(this.enabled){var a=ln()-this.of;if(0<a&&a<0.8*this.Kd){this.ga=this.Dc[Lc](this.nf,this.Kd-a)}else{if(this.Rj(),this.enabled){this.ga=this.Dc[Lc](this.nf,this.Kd),this.of=ln()}}}};N.Rj=function(){this[x](hm)};N.start=function(){this.enabled=i;if(!this.ga){this.ga=this.Dc[Lc](this.nf,this.Kd),this.of=ln()}};N.stop=function(){this.enabled=l;if(this.ga){this.Dc[fb](this.ga),this.ga=k}};N.k=function(){tq.b.k[G](this);this.stop();delete this.Dc};function vq(){}vq[D].Gh=k;vq[D].getOptions=function(){return this.Gh||(this.Gh=this.Jk())};var wq;function xq(){}S(xq,vq);xq[D].Ah=function(){var a=this.Jh();return a?new ActiveXObject(a):new XMLHttpRequest};xq[D].Jk=function(){var a={};this.Jh()&&(a[0]=i,a[1]=i);return a};xq[D].If=k;xq[D].Jh=function(){if(!this.If&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=[wg,vg,ug,xg],b=0;b<a[B];b++){var c=a[b];try{return new ActiveXObject(c),this.If=c}catch(d){}}e(n("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return this.If};wq=new xq;function yq(a){this.headers=new Np;this.ud=a||k}S(yq,sq);var zq=/^https?$/i,Aq=[];function Bq(a){a.Q();io(Aq,a)}N=yq[D];N.eb=l;N.u=k;N.od=k;N.mg=J;N.ui=J;N.Bc=0;N.Hb=J;N.Ge=l;N.ld=l;N.Ce=l;N.Fb=l;N.vd=0;N.Nb=k;N.ng=J;N.wi=l;N.gl=function(a){this.vd=q.max(0,a)};N.send=function(a,b,c,d){this.u&&e(n("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():cg;this.mg=a;this.Hb=J;this.Bc=0;this.ui=b;this.Ge=l;this.eb=i;this.u=this.ti();this.od=this.ud?this.ud[mb]():wq[mb]();this.u.onreadystatechange=jn(this.cg,this);try{this.Ce=i,this.u[bb](b,a,i),this.Ce=l}catch(f){this.lg(5,f);return}var a=c||J,h=this.headers[cd]();d&&Mp(d,function(a,b){h.set(b,a)});b==Fg&&!h.Pa(Uf)&&h.set(Uf,sh);Mp(h,function(a,b){this.u.setRequestHeader(b,a)},this);if(this.ng){this.u.responseType=this.ng}if(Im in this.u){this.u.withCredentials=this.wi}try{if(this.Nb){uq[fb](this.Nb),this.Nb=k}if(0<this.vd){this.Nb=uq[Lc](jn(this.vi,this),this.vd)}this.ld=i;this.u[Jb](a);this.ld=l}catch(j){this.lg(5,j)}};N.ti=function(){return this.ud?this.ud.Ah():wq.Ah()};N.vi=function(){if("undefined"!=typeof Rm&&this.u){this.Hb=Tg+this.vd+Lk,this.Bc=8,this[x](jm),this[Kc](8)}};N.lg=function(a,b){this.eb=l;if(this.u){this.Fb=i,this.u[Kc](),this.Fb=l}this.Hb=b;this.Bc=a;this.wg();this.dd()};N.wg=function(){if(!this.Ge){this.Ge=i,this[x](ai),this[x](Ci)}};N.abort=function(a){if(this.u&&this.eb){this.eb=l,this.Fb=i,this.u[Kc](),this.Fb=l,this.Bc=a||7,this[x](ai),this[x](kh),this.dd()}};N.k=function(){if(this.u){if(this.eb){this.eb=l,this.Fb=i,this.u[Kc](),this.Fb=l}this.dd(i)}yq.b.k[G](this)};N.cg=function(){!this.Ce&&!this.ld&&!this.Fb?this.xf():this.lh()};N.xf=function(){this.lh()};N.lh=function(){if(this.eb&&"undefined"!=typeof Rm&&(!this.od[1]||!(4==this.Kc()&&2==this.df()))){if(this.ld&&4==this.Kc()){uq[Lc](jn(this.cg,this),0)}else{if(this[x](tl),this.vj()){this.eb=l,this.Lg()?(this[x](ai),this[x](bm)):(this.Bc=6,this.Hb=this.uj()+Td+this.df()+gh,this.wg()),this.dd()}}}};N.dd=function(a){if(this.u){var b=this.u,c=this.od[0]?Tm:k;this.od=this.u=k;if(this.Nb){uq[fb](this.Nb),this.Nb=k}a||this[x](sl);try{b.onreadystatechange=c}catch(d){}}};N.Da=function(){return !!this.u};N.vj=function(){return 4==this.Kc()};N.Lg=function(){var a=this.df(),b;a:switch(a){case 200:case 201:case 202:case 204:case 304:case 1223:b=i;break a;default:b=l}return b||0===a&&!this.Gk()};N.Gk=function(){var a=Qn(1,J+this.mg);if(!a&&self[Uc]){a=self[Uc].protocol,a=a[vc](0,a[B]-1)}return zq[cb](a?a[Od]():J)};N.Kc=function(){return this.u?this.u.readyState:0};N.df=function(){try{return 2<this.Kc()?this.u.status:-1}catch(a){return -1}};N.uj=function(){try{return 2<this.Kc()?this.u.statusText:J}catch(a){return J}};N.Dk=function(){try{return this.u?this.u.responseText:J}catch(a){return J}};N.Ck=function(){return R(this.Hb)?this.Hb:J+this.Hb};yq.send=function(a,b,c,d,f,h){var j=new yq;Aq[s](j);b&&hq(j,ai,b);hq(j,sl,kn(Bq,j));h&&j.gl(h);j[Jb](a,c,d,f)};yq.Fl=function(){for(;Aq[B];){Aq.pop().Q()}};yq.Hl=function(a){yq[D].xf=a.ol(yq[D].xf)};yq.Gl=Bq;yq.sl=Uf;yq.vl=sh;yq.Jl=Aq;function Cq(a,b){var c;a instanceof Cq?(this.fc(b==k?a.Fa:b),this.zc(a.Ga),this.jd(a.Eb),this.gd(a.hb),this.yc(a.Qa),this.xc(a.ja),this.Ae(a.Z[cd]()),this.hd(a.Db)):a&&(c=(J+a)[Gb](On))?(this.fc(!!b),this.zc(c[1]||J,i),this.jd(c[2]||J,i),this.gd(c[3]||J,i),this.yc(c[4]),this.xc(c[5]||J,i),this[$c](c[6]||J,i),this.hd(c[7]||J,i)):(this.fc(!!b),this.Z=new Dq(k,this,this.Fa))}N=Cq[D];N.Ga=J;N.Eb=J;N.hb=J;N.Qa=k;N.ja=J;N.Db=J;N.Yk=l;N.Fa=l;N.toString=function(){if(this.ra){return this.ra}var a=[];this.Ga&&a[s](Eq(this.Ga,Fq),uf);this.hb&&(a[s]($e),this.Eb&&a[s](Eq(this.Eb,Fq),Ff),a[s](R(this.hb)?aa(this.hb):k),this.Qa!=k&&a[s](uf,J+this.Qa));this.ja&&(this.xe()&&this.ja[pb](0)!=Ye&&a[s](Ye),a[s](Eq(this.ja,this.ja[pb](0)==Ye?Gq:Hq)));var b=J+this.Z;b&&a[s](Ef,b);this.Db&&a[s](ae,Eq(this.Db,Iq));return this.ra=a[Ld](J)};N.Pj=function(a){var b=this[cd](),c=a.Fi();c?b.zc(a.Ga):c=a.Gi();c?b.jd(a.Eb):c=a.xe();c?b.gd(a.hb):c=a.Di();var d=a.ja;if(c){b.yc(a.Qa)}else{if(c=a.ug()){if(d[pb](0)!=Ye){if(this.xe()&&!this.ug()){d=Ye+d}else{var f=b.ja[jd](Ye);-1!=f&&(d=b.ja[vc](0,f+1)+d)}}f=d;if(f==We||f==Ve){d=J}else{if(-1==f[v](Xe)&&-1==f[v](Ze)){d=f}else{for(var d=0==f[jd](Ye,0),f=f[Pc](Ye),h=[],j=0;j<f[B];){var o=f[j++];o==Ve?d&&j==f[B]&&h[s](J):o==We?((1<h[B]||1==h[B]&&h[0]!=J)&&h.pop(),d&&j==f[B]&&h[s](J)):(h[s](o),d=i)}d=h[Ld](Ye)}}}}c?b.xc(d):c=a.Ei();c?b[$c](a.Bi()):c=a.Ci();c&&b.hd(a.Db);return b};Ra(N,function(){var a=this.Ga,b=this.Eb,c=this.hb,d=this.Qa,f=this.ja,h=this.Z[cd](),j=this.Db,o=new Cq(k,this.Fa);a&&o.zc(a);b&&o.jd(b);c&&o.gd(c);d&&o.yc(d);f&&o.xc(f);h&&o.Ae(h);j&&o.hd(j);return o});N.zc=function(a,b){this.Ua();delete this.ra;if(this.Ga=b?a?ka(a):J:a){this.Ga=this.Ga[u](/:$/,J)}return this};N.Fi=function(){return !!this.Ga};N.jd=function(a,b){this.Ua();delete this.ra;this.Eb=b?a?ka(a):J:a;return this};N.Gi=function(){return !!this.Eb};N.gd=function(a,b){this.Ua();delete this.ra;this.hb=b?a?ka(a):J:a;return this};N.xe=function(){return !!this.hb};N.yc=function(a){this.Ua();delete this.ra;a?(a=ca(a),(la(a)||0>a)&&e(n("Bad port number "+a)),this.Qa=a):this.Qa=k;return this};N.Di=function(){return this.Qa!=k};N.xc=function(a,b){this.Ua();delete this.ra;this.ja=b?a?ka(a):J:a;return this};N.ug=function(){return !!this.ja};N.Ei=function(){return this.Z[yc]()!==J};N.Ae=function(a,b){this.Ua();delete this.ra;a instanceof Dq?(this.Z=a,this.Z.af=this,this.Z.fc(this.Fa)):(b||(a=Eq(a,Jq)),this.Z=new Dq(a,this,this.Fa));return this};N.setQuery=function(a,b){return this.Ae(a,b)};N.Wk=function(){return this.Z[yc]()};N.Bi=function(){return this.Z.pk()};N.getQuery=function(){return this.Wk()};N.nd=function(a,b){this.Ua();delete this.ra;this.Z.set(a,b);return this};N.kh=function(a){return this.Z.get(a)};N.hd=function(a,b){this.Ua();delete this.ra;this.Db=b?a?ka(a):J:a;return this};N.Ci=function(){return !!this.Db};N.Jj=function(){this.Ua();this.nd(Lm,q[kb](2147483648*q.random())[yc](36)+q.abs(q[kb](2147483648*q.random())^ln())[yc](36));return this};N.Ua=function(){this.Yk&&e(n("Tried to modify a read-only Uri"))};N.fc=function(a){this.Fa=a;this.Z&&this.Z.fc(a);return this};var Kq=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function Eq(a,b){var c=k;R(a)&&(c=a,Kq[cb](c)||(c=encodeURI(a)),0<=c.search(b)&&(c=c[u](b,Lq)));return c}function Lq(a){a=a[rd](0);return ce+(a>>4&15)[yc](16)+(a&15)[yc](16)}var Fq=/[#\/\?@]/g,Hq=/[\#\?:]/g,Gq=/[\#\?]/g,Jq=/[\#\?@]/g,Iq=/#/g;function Dq(a,b,c){this.Za=a||k;this.af=b||k;this.Fa=!!c}N=Dq[D];N.Ta=function(){if(!this.z&&(this.z=new Np,this.m=0,this.Za)){for(var a=this.Za[Pc](fe),b=0;b<a[B];b++){var c=a[b][v](Cf),d=k,f=k;0<=c?(d=a[b][xd](0,c),f=a[b][xd](c+1)):d=a[b];d=ka(d[u](/\+/g,Sd));d=this.Kb(d);this.add(d,f?ka(f[u](/\+/g,Sd)):J)}}};N.z=k;N.m=k;N.Nd=function(){this.Ta();return this.m};N.add=function(a,b){this.Ta();this.Fc();a=this.Kb(a);if(this.Pa(a)){var c=this.z.get(a);Q(c)?c[s](b):this.z.set(a,[c,b])}else{this.z.set(a,b)}this.m++;return this};N.remove=function(a){this.Ta();a=this.Kb(a);if(this.z.Pa(a)){this.Fc();var b=this.z.get(a);Q(b)?this.m-=b[B]:this.m--;return this.z[Mb](a)}return l};Ea(N,function(){this.Fc();this.z&&this.z.clear();this.m=0});N.Pa=function(a){this.Ta();a=this.Kb(a);return this.z.Pa(a)};N.Tb=function(){this.Ta();for(var a=this.z.Ja(),b=this.z.Tb(),c=[],d=0;d<b[B];d++){var f=a[d];if(Q(f)){for(var h=0;h<f[B];h++){c[s](b[d])}}else{c[s](b[d])}}return c};N.Ja=function(a){this.Ta();if(a){if(a=this.Kb(a),this.Pa(a)){var b=this.z.get(a);if(Q(b)){return b}a=[];a[s](b)}else{a=[]}}else{for(var b=this.z.Ja(),a=[],c=0;c<b[B];c++){var d=b[c];Q(d)?lo(a,d):a[s](d)}}return a};N.set=function(a,b){this.Ta();this.Fc();a=this.Kb(a);if(this.Pa(a)){var c=this.z.get(a);Q(c)?this.m-=c[B]:this.m--}this.z.set(a,b);this.m++;return this};N.get=function(a,b){this.Ta();a=this.Kb(a);if(this.Pa(a)){var c=this.z.get(a);return Q(c)?c[0]:c}return b};N.toString=function(){if(this.Za){return this.Za}if(!this.z){return J}for(var a=[],b=0,c=this.z.Tb(),d=0;d<c[B];d++){var f=c[d],h=En(f),f=this.z.get(f);if(Q(f)){for(var j=0;j<f[B];j++){0<b&&a[s](fe),a[s](h),f[j]!==J&&a[s](Cf,En(f[j])),b++}}else{0<b&&a[s](fe),a[s](h),f!==J&&a[s](Cf,En(f)),b++}}return this.Za=a[Ld](J)};N.pk=function(){if(!this.pc){this.pc=this[yc]()?ka(this[yc]()):J}return this.pc};N.Fc=function(){delete this.pc;delete this.Za;this.af&&delete this.af.ra};Ra(N,function(){var a=new Dq;if(this.pc){a.pc=this.pc}if(this.Za){a.Za=this.Za}if(this.z){a.z=this.z[cd]()}return a});N.Kb=function(a){a=J+a;this.Fa&&(a=a[Od]());return a};N.fc=function(a){a&&!this.Fa&&(this.Ta(),this.Fc(),Mp(this.z,function(a,c){var d=c[Od]();c!=d&&(this[Mb](c),this.add(d,a))},this));this.Fa=a};N.extend=function(a){for(var b=0;b<arguments[B];b++){Mp(arguments[b],function(a,b){this.add(b,a)},this)}};function Mq(a,b,c){(typeof b!=Uk||!(Zh in b))&&e(n(c+' must have a property "column"'));ki in b&&typeof b.desc!=Ch&&e(n('Property "desc" in '+c+" must be boolean."));U(a,b.column)}function Nq(a,b){if(typeof b==K){return U(a,b),[{column:b}]}if(typeof b==Uk){if(Ym(b)){1>b[B]&&e(n("sortColumns is an empty array. Must have at least one element."));var c={};if(typeof b[0]==Uk){for(var d=0;d<b[B];d++){Mq(a,b[d],Tl+d+gh);var f=b[d].column;f in c&&e(n(Sf+f+Ud));c[f]=i}return b}if(typeof b[0]==K){for(var h=[],d=0;d<b[B];d++){U(a,b[d]),b[d] in c&&e(n(Sf+f+Ud)),c[f]=i,h[s]({column:b[d]})}return h}e(n("sortColumns is an array, but neither of objects nor of numbers. Must be either of those."))}Mq(a,b,Sl);return[b]}}function Oq(a,b){var c=a[Dc]();0<c?(q[kb](b)!==b||0>b||b>=c)&&e(n("Invalid row index "+b+". Should be in the range [0-"+(c-1)+"].")):e(n("Table has no rows."))}function U(a,b){var c=a[rb]();0<c?(q[kb](b)!==b||0>b||b>=c)&&e(n("Invalid column index "+b+". Should be an integer in the range [0-"+(c-1)+"].")):e(n("Table has no columns."))}function Pq(a,b,c){if(c!=k){var a=a[Ub](b),d=typeof c;switch(a){case K:if(d==K){return}break;case M:if(d==M){return}break;case Ch:if(d==Ch){return}break;case gi:case hi:if(Zm(c)){return}break;case im:if(Ym(c)&&2<c[B]&&5>c[B]){for(var d=i,f=0;f<c[B];f++){var h=c[f];if(typeof h!=K||h!=q[kb](h)){d=l;break}}if(0>c[0]||23<c[0]||0>c[1]||59<c[1]||0>c[2]||59<c[2]){d=l}if(4==c[B]&&(0>c[3]||999<c[3])){d=l}if(d){return}}}e(n("Type mismatch. Value "+c+" does not match type "+a+" in column index "+b))}}function Qq(a,b,c){if(b==k){return c==k?0:-1}if(c==k){return 1}switch(a){case Ch:case K:case M:case gi:case hi:return b<c?-1:c<b?1:0;case im:for(a=0;3>a;a++){if(b[a]<c[a]){return -1}if(c[a]<b[a]){return 1}}b=4>b[B]?0:b[3];c=4>c[B]?0:c[3];return b<c?-1:c<b?1:0}}function Rq(a,b){U(a,b);var c=a[Ub](b),d=k,f=k,h,j,o=a[Dc]();for(h=0;h<o;h++){if(j=a[A](h,b),P(j)){f=d=j;break}}if(d==k){return{min:k,max:k}}for(h++;h<o;h++){j=a[A](h,b),P(j)&&(0>Qq(c,j,d)?d=j:0>Qq(c,f,j)&&(f=j))}return{min:d,max:f}}function Sq(a,b){for(var b=Nq(a,b),c=[],d=a[Dc](),f=0;f<d;f++){c[s](f)}qo(c,function(c,d){for(var f=0;f<b[B];f++){var r=b[f],w=r.column,w=Qq(a[Ub](w),a[A](c,w),a[A](d,w));if(0!=w){return w*(r.desc?-1:1)}}return 0});return c}function Tq(a,b){U(a,b);var c=a[Dc]();if(0==c){return[]}for(var d=[],f=0;f<c;++f){d[s](a[A](f,b))}var h=a[Ub](b);qo(d,function(a,b){return Qq(h,a,b)});var c=d[0],j=[];j[s](c);for(f=1;f<d[B];f++){var o=d[f];0!=Qq(h,o,c)&&j[s](o);c=o}return j}function Uq(a,b,c){for(var d=0;d<b[B];d++){var f=b[d],h=f.column,j=a[A](c,h),h=a[Ub](h);if(f.minValue!=k||f.maxValue!=k){if(j==k){return l}if(f.minValue!=k&&0>Qq(h,j,f.minValue)){return l}if(f.maxValue!=k&&0<Qq(h,j,f.maxValue)){return l}}else{if(0!=Qq(h,j,f[sb])){return l}}}return i}function Vq(a,b){(!Ym(b)||0==b[B])&&e(n("columnFilters must be a non-empty array"));for(var c={},d=0;d<b[B];d++){if(typeof b[d]!=Uk||!(Zh in b[d])){zm in b[d]||Dk in b[d]||yk in b[d]?zm in b[d]&&(Dk in b[d]||yk in b[d])&&e(n($h+d+'] must specify either "value" or range properties ("minValue" and/or "maxValue"')):e(n($h+d+'] must have properties "column" and "value", "minValue"or "maxValue"'))}var f=b[d].column;f in c&&e(n(Sf+f+" is duplicate in columnFilters."));U(a,f);Pq(a,f,b[d][sb]);c[f]=i}c=[];d=a[Dc]();for(f=0;f<d;f++){Uq(a,b,f)&&c[s](f)}return c}function Wq(a,b){var c;b==im?(c=[],c[s](a[0]),c[s]((10>a[1]?ff:J)+a[1]),c[s]((10>a[2]?ff:J)+a[2]),c=c[Ld](uf),3<a[B]&&0<a[3]&&(c+=Ve+(10>a[3]?jf:100>a[3]?ff:J)+a[3])):b==gi?(c=new google[E].DateFormat({formatType:zk,valueType:gi}),c=c.formatValue(a)):b==hi?(c=new google[E].DateFormat({formatType:zk,valueType:hi}),c=c.formatValue(a)):c=J+a;return c}function Xq(a,b,c,d){for(var f=k,h=a[Dc]();(d?0<=b:b<h)&&Xm(f);){f=a[A](b,c),b+=d?-1:1}return f}function V(a,b){this.Jb=b?b==gf?gf:hf:hf;if(a){if(R(a)){a=xn(a)}else{a:for(var c=a.cols||[],d=a[zd]||[],f=c[B],h=0;h<f;h++){var j=c[h][z];if(j==gi||j==hi){for(var j=d[B],o=0;o<j;o++){var r=d[o].c[h];if(r){var w=r.v;if(Zm(w)){break a}R(w)&&(r=un(r),r=xn(r),d[o].c[h]=r)}}}}}this.B=a.cols||[];this.G=a[zd]||[];this.$a=a.p||k}else{this.B=[],this.G=[],this.$a=k}}var Yq={rl:Ch,xl:K,zl:M,tl:gi,Al:im,ul:hi};N=V[D];N.B=k;N.Jb=k;N.G=k;N.$a=k;N.getNumberOfRows=function(){return this.G[B]};N.getNumberOfColumns=function(){return this.B[B]};Ra(N,function(){return new V(this[Hc]())});N.getColumnId=function(a){U(this,a);return this.B[a].id||J};N.getColumnIndex=function(a){for(var b=this.B,c=0;c<b[B];c++){if(b[c].id==a){return c}}return -1};N.getColumnLabel=function(a){U(this,a);return this.B[a][Id]||J};N.getColumnPattern=function(a){U(this,a);return this.B[a].pattern};N.getColumnRole=function(a){a=this[Qc](a,Bl);return a=R(a)?a:J};N.getColumnType=function(a){U(this,a);return this.B[a][z]};Ga(N,function(a,b){Oq(this,a);U(this,b);var c=this.Nc(a,b),d=k;if(c){d=c.v,d=Wm(d)?d:k}return d});N.Nc=function(a,b){return this.G[a].c[b]};N.getFormattedValue=function(a,b){Oq(this,a);U(this,b);var c=this.Nc(a,b),d=J;if(c){if("undefined"!=typeof c.f&&c.f!=k){d=c.f}else{if(c=this[A](a,b),!Xm(c)){return Wq(c,this[Ub](b))}}}return d};N.getProperty=function(a,b,c){Oq(this,a);U(this,b);return(a=(a=this.Nc(a,b))&&a.p)&&c in a?a[c]:k};N.getProperties=function(a,b){Oq(this,a);U(this,b);var c=this.Nc(a,b);c||(c={v:k,f:k},this.G[a].c[b]=c);c.p||(c.p={});return c.p};N.getTableProperties=function(){return this.$a};N.getTableProperty=function(a){var b=this.$a;return b&&a in b?b[a]:k};N.setTableProperties=function(a){this.$a=a};N.setTableProperty=function(a,b){if(!this.$a){this.$a={}}this.$a[a]=b};Na(N,function(a,b,c){this[jc](a,b,c,g,g)});N.setFormattedValue=function(a,b,c){this[jc](a,b,g,c,g)};N.setProperties=function(a,b,c){this[jc](a,b,g,g,c)};N.setProperty=function(a,b,c,d){this[Fc](a,b)[c]=d};N.setCell=function(a,b,c,d,f){Oq(this,a);U(this,b);var h=this.Nc(a,b);h||(h={},this.G[a].c[b]=h);if("undefined"!=typeof c){Pq(this,b,c),h.v=c}"undefined"!=typeof d&&(h.f=d);Wm(f)&&(h.p=$m(f)?f:{})};N.setRowProperties=function(a,b){Oq(this,a);this.G[a].p=b};N.setRowProperty=function(a,b,c){this[cc](a)[b]=c};N.getRowProperty=function(a,b){Oq(this,a);var c=this.G[a];return(c=c&&c.p)&&b in c?c[b]:k};N.getRowProperties=function(a){Oq(this,a);a=this.G[a];a.p||(a.p={});return a.p};N.setColumnLabel=function(a,b){U(this,a);this.B[a].label=b};N.setColumnProperties=function(a,b){U(this,a);this.B[a].p=b};N.setColumnProperty=function(a,b,c){this[Ab](a)[b]=c};N.getColumnProperty=function(a,b){U(this,a);var c=this.B[a];return(c=c&&c.p)&&b in c?c[b]:k};N.getColumnProperties=function(a){U(this,a);a=this.B[a];a.p||(a.p={});return a.p};N.insertColumn=function(a,b,c,d){a!==this.B[B]&&U(this,a);$m(b)||(b={id:d||J,label:c||J,pattern:J,type:b});c=b[z];uo(Yq,c)||e(n("Invalid type: "+c+Ve));if(c=b.role){d=b.p||{},d.role=c,b.p=d}this.B[Kd](a,0,b);for(b=0;b<this.G[B];b++){this.G[b].c[Kd](a,0,{v:k,f:k})}};N.addColumn=function(a,b,c){this.insertColumn(this.B[B],a,b,c);return this.B[B]-1};N.Hj=function(a,b){var c={};if(Vm(b)==Uk&&!Zm(b)){c.v="undefined"==typeof b.v?k:b.v;var d=typeof b.f;"undefined"==d||d==Sk?c.f=k:d==M?c.f=b.f:e(n("Formatted value ('f'), if specified, must be a string."));d=typeof b.p;d==Uk?c.p=b.p:d!=Sk&&"undefined"!=d&&e(n("Properties ('p'), if specified, must be an Object."))}else{c.v=P(b)?b:k,c.f=k}Pq(this,a,c.v);return c};N.insertRows=function(a,b){a!==this.G[B]&&Oq(this,a);var c;if(Q(b)){c=b}else{if(typeof b==K){(b!=q[kb](b)||0>b)&&e(n("Invalid value for numOrArray: "+b+". If numOrArray is a number it should be a nonnegative integer."));c=[];for(var d=0;d<b;d++){c[d]=k}}else{e(n("Invalid value for numOrArray. Should be a number or an array of arrays of cells."))}}for(var d=[],f=0;f<c[B];f++){var h=c[f],j=[];if(h===k){for(h=0;h<this.B[B];h++){j[s]({v:k,f:k})}}else{if(Q(h)){h[B]!=this.B[B]&&e(n("Row given with size different than "+this.B[B]+" (the number of columns in the table)."));for(var o=0;o<h[B];o++){j[s](this.Hj(o,h[o]))}}else{e(n("Every row given must be either null or an array."))}}h={};h.c=j;d[s](h)}kn(mo,this.G,a,0)[Ad](k,d);return a+d[B]-1};N.addRows=function(a){if(typeof a==K||Q(a)){return this.insertRows(this.G[B],a)}e(n("Argument given to addRows must be either a number or an array"))};N.addRow=function(a){if(Q(a)){return this[pc]([a])}P(a)&&e(n("If argument is given to addRow, it must be an array, or null"));return this[pc](1)};N.getColumnRange=function(a){return Rq(this,a)};N.getSortedRows=function(a){return Sq(this,a)};N.sort=function(a){var a=Nq(this,a),b=this;qo(this.G,function(c,d){for(var f=0;f<a[B];f++){var h=a[f],j=h.column,o=c.c[j],r=d.c[j],o=o?o.v:k,r=r?r.v:k,j=Qq(b[Ub](j),o,r);if(0!=j){return j*(h.desc?-1:1)}}return 0})};N.toJSON=function(){return un({cols:this.B,rows:this.G,p:this.$a})};N.getDistinctValues=function(a){return Tq(this,a)};N.getFilteredRows=function(a){return Vq(this,a)};N.removeRows=function(a,b){0>=b||(Oq(this,a),a+b>this.G[B]&&(b=this.G[B]-a),this.G[Kd](a,b))};N.removeRow=function(a){this.removeRows(a,1)};N.removeColumns=function(a,b){if(!(0>=b)){U(this,a);a+b>this.B[B]&&(b=this.B[B]-a);this.B[Kd](a,b);for(var c=0;c<this.G[B];c++){this.G[c].c[Kd](a,b)}}};N.removeColumn=function(a){this.removeColumns(a,1)};function Zq(a){var b=a.version||hf;this.rj=uo($q,b)?b:hf;this.ef=a.status;this.pb=[];this.qb=[];this.qb=a.warnings||[];this.pb=a[Gd]||[];ar(this.qb);ar(this.pb);if(this.ef!=Ci){this.Mg=a.sig,this.h=new V(a.table,this.rj)}}function ar(a){for(var b=0;b<a[B];b++){var c=a[b].detailed_message;c&&(a[b].detailed_message=!c?J:c[Gb](br)&&!c[Gb](cr)?c:c[u](/&/g,ge)[u](/</g,ie)[u](/>/g,he)[u](/\"/g,je))}}var br=/^[^<]*(<a(( )+target=('_blank')?("_blank")?)?( )+(href=('[^']*')?("[^"]*")?)>[^<]*<\/a>[^<]*)*$/,cr=/javascript((s)?( )?)*:/,$q={Bl:gf,Cl:hf};N=Zq[D];N.Mg=k;N.h=k;N.isError=function(){return this.ef==Ci};N.hasWarning=function(){return this.ef==Fm};N.containsReason=function(a){for(var b=0;b<this.pb[B];b++){if(this.pb[b].reason==a){return i}}for(b=0;b<this.qb[B];b++){if(this.qb[b].reason==a){return i}}return l};N.getDataSignature=function(){return this.Mg};N.getDataTable=function(){return this.h};N.Ff=function(a){return this[Nb]()&&this.pb&&this.pb[0]&&this.pb[0][a]?this.pb[0][a]:this.hasWarning()&&this.qb&&this.qb[0]&&this.qb[0][a]?this.qb[0][a]:k};N.getReasons=function(){var a=this.Ff(ul);return P(a)&&a!=J?[a]:[]};N.getMessage=function(){return this.Ff(Ck)||J};N.getDetailedMessage=function(){return this.Ff(li)||J};function dr(a,b){var c=b||{};this.qf=c.sendMethod||vh;uo(er,this.qf)||e(n("Send method not supported: "+this.qf));this.Og=c.makeRequestParams_||{};$n(a)&&(a=this.kk(a));var d=a,c=$n(d),d=Pn(Qn(5,d)),d=Un[cb](d);this.Lj=c&&d;this.Kj=a;this.Gg=fr++;gr[s](this)}var er={Dl:Jm,El:Km,yl:"scriptInjection",wl:wk,ql:vh},hr=new Np({"X-DataSource-Auth":"a"}),fr=0,ir={};dr[D].rh=30;var gr=[],jr=O.gadgets;function kr(){for(var a=0;a<gr[B];a++){var b=gr[a];b.tf&&b.Jd()}}N=dr[D];N.kk=function(a){var b=new Cq(a);433==b.Qa&&b.yc(k);var c=b.ja,c=c[u](/\/ccc$/,df);/\/pub$/[cb](c)&&(c=c[u](/\/pub$/,df),b.nd(ol,lf));b.xc(c);var c=Pn(Qn(3,a)),a=(ca(Qn(4,a))||k)!=k,d=Yn[cb](c),c=Zn[cb](c)&&!d&&a;b.zc(c?Uj:Zj);return b[yc]()};function lr(a){a[ed].Lg()?(a=Cn(a[ed].Dk()),a[Gb](/^({.*})$/)?(a=yn(a),mr(a)):mn(zn(a))):e(n("google.visualization.Query: "+a[ed].Ck()))}function mr(a){var b=a.reqId,c=ir[b];c?(ir[b]=k,c.Od(a)):e(n("Missing query for request id: "+b))}N.vf=k;N.Md=k;N.Vd=k;N.Ra=k;N.kf=k;N.rc=k;N.tf=i;N.Gb=0;N.$e=k;N.Da=l;N.setRefreshInterval=function(a){(typeof a!=K||0>a)&&e(n("Refresh interval must be a non-negative number"));this.Gb=a;this.sh()};N.sf=function(){if(this.Vd){ba[fb](this.Vd),this.Vd=k}};N.sk=function(){this.Lh(jm,Ig)};N.Lh=function(a,b,c){this.Od({version:hf,status:Ci,errors:[{reason:a,message:b,detailed_message:c}]})};N.Nj=function(a){var b={};this.Ra&&(b.tq=J+this.Ra);var c=xl+this.Gg,d=this.$e;d&&(c+=wf+d);this.kf&&(c+=xf+this.kf);b.tqx=c;if(this.rc){var c=[],f;for(f in this.rc){c[s](f+uf+this.rc[f])}b.tqh=c[Ld](vf)}f=a;a=f[v](ae);-1!=a&&(f=f[xd](0,a));c=f[v](Ef);d=a=J;d=[];-1==c?a=f:(a=f[xd](0,c),d=f[xd](c+1),d=d[Pc](fe));f=[];for(c=0;c<d[B];c++){var h={};h.name=d[c][Pc](Cf)[0];h.pf=d[c];f[s](h)}for(var j in b){d=b[j];h=l;for(c=0;c<f[B];c++){if(f[c][nc]==j){f[c].pf=j+Cf+aa(d);h=i;break}}if(!h){c={},c.name=j,c.pf=j+Cf+aa(d),f[s](c)}}b=a;if(0<f[B]){b+=Ef;j=[];for(c=0;c<f[B];c++){j[s](f[c].pf)}b+=j[Ld](fe)}a=b;this.Gb&&(b=new Cq(a),Mo&&b.Jj(),a=b[yc]());return a};N.Jd=function(){var a=this.Nj(this.Kj);ir[J+this.Gg]=this;var b=this.qf,c=cg;b==Km&&(b=Jm,c=Fg);if(b==vh){if(/[?&]alt=gviz(&[^&]*)*$/[cb](a)){b=wk}else{var b=a.search(Rn),d;b:{for(d=0;0<=(d=a[v](pm,d))&&d<b;){var f=a[rd](d-1);if(38==f||63==f){if(f=a[rd](d+4),!f||61==f||38==f||35==f){break b}}d+=5}d=-1}if(0>d){b=k}else{f=a[v](fe,d);if(0>f||f>b){f=b}d+=5;b=ka(a[vc](d,f-d)[u](/\+/g,Sd))}b=b||vh;uo(er,b)||(b=vh)}}if(b==wk){Sm(Oi)?this.Qj(a,this.Og):e(n("gadgets.io.makeRequest is not defined."))}else{if(!(d=b==Jm)){if(b=b==vh){d=(new Cq(O[Uc][wd])).Pj(new Cq(a))[yc](),b=O[Uc][wd][Gb](On),d=d[Gb](On),b=b[3]==d[3]&&b[1]==d[1]&&b[4]==d[4]}d=b}d?(b=g,d=a,c==Fg&&(a=a[Pc](Ef),1<=a[B]&&(d=a[0]),2<=a[B]&&(b=a[1])),yq[Jb](d,lr,c,b,hr)):(c=ja[rc](Bh)[0],b=Xm(this.$e),this.Lj&&b?(b=ja[Pb](dk),this.Oj(b,a),c[Ya](b)):this.uf(a))}};N.Oj=function(a,b){var c=this;a.onerror=function(){c.uf(b)};a.onload=function(){c.uf(b)};Va(a[F],Qk);a.src=b+ke+(new Date).getTime()};N.Qj=function(a,b){if(b[jr.io[nb].CONTENT_TYPE]==k){b[jr.io[nb].CONTENT_TYPE]=jr.io.ContentType.TEXT}if(b[jr.io[nb].AUTHORIZATION]==k){b[jr.io[nb].AUTHORIZATION]=jr.io.AuthorizationType.SIGNED}b.OAUTH_ENABLE_PRIVATE_NETWORK==k&&(b.OAUTH_ENABLE_PRIVATE_NETWORK=i);b.OAUTH_ADD_EMAIL==k&&(b.OAUTH_ADD_EMAIL=i);jr.io.makeRequest(a,jn(this.Ik,this),b);this.zh()};N.Ik=function(a){if(a!=k&&a.data){mn(zn(a.data))}else{var b=J;a&&a[Gd]&&(b=a[Gd][Ld](Sd));this.Lh(xk,Pi,b)}};N.uf=function(a){this.zh();on(a);this.sh()};N.zh=function(){var a=this;this.sf();this.Vd=ba[Lc](function(){a.sk()},1000*this.rh)};N.$g=function(){if(this.Md){ba[fb](this.Md),this.Md=k}};N.sh=function(){this.$g();if(0!=this.Gb&&this.tf&&this.Da){var a=this;this.Md=ba[Lc](function(){a.Jd()},1000*this.Gb)}};N.send=function(a){this.Da=i;this.vf=a;this.Jd()};N.makeRequest=function(a,b){this.Da=i;this.vf=a;this.jl=wk;this.Og=b||{};this.Jd()};N.abort=function(){this.Da=l;this.sf();this.$g()};N.Od=function(a){this.sf();a=new Zq(a);if(!a.containsReason(Rk)){this.$e=a[Nb]()?k:a.getDataSignature();var b=this.vf;b[G](b,a)}};N.setTimeout=function(a){(typeof a!=K||la(a)||0>=a)&&e(n("Timeout must be a positive number"));this.rh=a};N.setRefreshable=function(a){typeof a!=Ch&&e(n("Refreshable must be a boolean"));return this.tf=a};N.setQuery=function(a){typeof a!=M&&e(n("queryString must be a string"));this.Ra=a};N.el=function(a){this.kf=a;a!=k&&this.Ch(tm,a)};N.Ch=function(a,b){a=a[u](/\\/g,ch);b=b[u](/\\/g,ch);a=a[u](/:/g,dh);b=b[u](/:/g,dh);a=a[u](/;/g,eh);b=b[u](/;/g,eh);if(!this.rc){this.rc={}}this.rc[a]=b};function nr(){var a;or||(or=i,O.IDIModule&&O.IDIModule.registerListener(kr,{pollingInterval:100}),O.gadgets&&(pr(We),this.yh()));a=ja;a=a.querySelectorAll&&a.querySelector&&(!Mo||pp(ja)||$o(qf))?a.querySelectorAll(Kf):a[rc](Kf);this.Kk=pn(a[0])}var or=l;nr[D].Fh=200;function qr(){return !!O.gadgets&&!!O.gadgets.rpc}nr[D].yh=function(){if(qr()){var a=O.gadgets;bn(a.rpc.register)&&a.rpc.register(vl,kr)}else{0<this.Fh&&(this.Fh--,ba[Lc](jn(this.yh,this),100))}};nr[D].createQueryFromPrefs=function(a){var b=a.getString(jh),c=b[Od]();if(0==c[v](Vj)||0==c[v]($j)){b=ka(b)}b=new dr(b);a=a.getInt(ih);b[fc](a);return b};nr[D].validateResponse=function(a){return this.Kk(a)};function pr(a){if(qr()){var b=O.gadgets;try{b.rpc.getRelayUrl(a)||b.rpc.setRelayUrl(a,Xj)}catch(c){bn(b.rpc.setRelayUrl)&&b.rpc.setRelayUrl(a,Xj)}}}O.gadgets&&!qr()&&on("http://www.gmodules.com/gadgets/rpc/rpc.v.js");pr(We);function rr(a){var b=a.__eventTarget;if(!P(b)){b=new sq,a.__eventTarget=b}return a=b}function sr(a){return function(b){a(b.al)}}function tr(a){this.Zk=a}tr[D].getKey=function(){return this.Zk};function ur(a,b){Yp[G](this,a);this.al=b}S(ur,Yp);function vr(a,b,c,d){this.Ra=a;this.Cg=b;this.jb=c||{};this.ec=d;this.Jc=k;if(d){this.Jc=this.rf=pn(d)}(!b||!(wi in b)||typeof b[kd]!=Mi)&&e(n("Visualization must have a draw method."))}N=vr[D];N.rf=k;N.hh=k;N.ih=k;N.h=k;N.setOptions=function(a){this.jb=a||{}};N.draw=function(){this.h&&this.Cg[kd](this.h,this.jb)};N.dl=function(a){var b=this.ec;this.Jc=a?a:b?this.Jc=this.rf:k};N.sendAndDraw=function(){this.Jc||e(n("If no container was supplied, a custom error handler must be supplied instead."));var a=this;this.Ra[Jb](function(b){var c=a.hh;c&&c(b);a.Od(b);(c=a.ih)&&c(b)})};N.Od=function(a){var b=this.Jc;if(b(a)){this.h=a[tb](),this.Cg[kd](this.h,this.jb)}};N.setCustomResponseHandler=function(a){a==k?this.pl=k:(typeof a!=Mi&&e(n("Custom response handler must be a function.")),this.hh=a)};N.setCustomPostResponseHandler=function(a){if(a!=k){typeof a!=Mi&&e(n("Custom post response handler must be a function.")),this.ih=a}};N.abort=function(){this.Ra[Kc]()};function W(a){this.h=a;for(var b=[],a=a[rb](),c=0;c<a;c++){b[s](c)}this.s=b;this.Xa=i;this.Wa=k;this.Le=[];this.Ke=i}N=W[D];N.mj=function(){for(var a=0;a<this.s[B];a++){$m(this.s[a])&&(this.Le[a]=[])}this.Ke=l};N.Ic=function(){this.Ke=i};N.Xj=function(){for(var a=[],b=this.h[Dc](),c=0;c<b;c++){a[s](c)}this.Wa=a;this.Ic()};N.setColumns=function(a){for(var b=this.h,c=to(wr),d=0;d<a[B];d++){var f=a[d];if(an(f)){U(b,f)}else{if($m(f)){var h=f.sourceColumn,f=f.calc;R(f)&&((!c||c&&!ho(c,f))&&e(n('Unknown function "'+f+Xd)),P(h)&&U(b,h))}else{e(n("Invalid column input, expected either a number or an object."))}}}this.s=fn(a);a=this.h;b=this.s;for(c=0;c<b[B];c++){if(d=b[c],$m(d)){if(h=d.role){f=d.properties||{},f.role=h,d.properties=f}h=d.sourceColumn;if(an(h)){U(a,h),d.calc=d.calc||ak,Ca(d,d[z]||a[Ub](h))}}}this.Ic()};N.dh=function(a,b){if(Q(a)){Wm(b)&&e(n("If the first parameter is an array, no second parameter is expected"));for(var c=0;c<a[B];c++){Oq(this.h,a[c])}return ko(a)}if(Vm(a)==K){!Vm(b)==K&&e(n("If first parameter is a number, second parameter must be specified and be a number."));a>b&&e(n("The first parameter (min) must be smaller than or equal to the second parameter (max)."));Oq(this.h,a);Oq(this.h,b);for(var d=[],c=a;c<=b;c++){d[s](c)}return d}e(n("First parameter must be a number or an array."))};N.setRows=function(a,b){this.Wa=this.dh(a,b);this.Xa=l;this.Ic()};N.getViewColumns=function(){return fn(this.s)};N.getViewRows=function(){if(this.Xa){for(var a=[],b=this.h[Dc](),c=0;c<b;c++){a[s](c)}return a}return ko(this.Wa)};N.hideColumns=function(a){this[Md](eo(this.s,function(b){return !ho(a,b)}));this.Ic()};N.hideRows=function(a,b){var c=this.dh(a,b);if(this.Xa){this.Xj(),this.Xa=l}this.setRows(eo(this.Wa,function(a){return !ho(c,a)}));this.Ic()};N.getViewColumnIndex=function(a){for(var b=0;b<this.s[B];b++){var c=this.s[b];if(c==a){return b}if($m(c)&&c.sourceColumn==a){return b}}return -1};N.getViewRowIndex=function(a){return this.Xa?0>a||a>=this.h[Dc]()?-1:a:bo(this.Wa,a)};N.getTableColumnIndex=function(a){U(this,a);a=this.s[a];return an(a)?a:$m(a)&&an(a.sourceColumn)?a.sourceColumn:-1};N.getUnderlyingTableColumnIndex=function(a){a=this.getTableColumnIndex(a);if(-1==a){return a}bn(this.h.getUnderlyingTableColumnIndex)&&(a=this.h.getUnderlyingTableColumnIndex(a));return a};N.getTableRowIndex=function(a){Oq(this,a);return this.Xa?a:this.Wa[a]};N.getUnderlyingTableRowIndex=function(a){a=this[Zb](a);bn(this.h.getUnderlyingTableRowIndex)&&(a=this.h.getUnderlyingTableRowIndex(a));return a};N.getNumberOfRows=function(){return this.Xa?this.h[Dc]():this.Wa[B]};N.getNumberOfColumns=function(){return this.s[B]};N.getColumnId=function(a){U(this,a);a=this.s[a];return an(a)?this.h.getColumnId(a):a.id||J};N.getColumnIndex=function(a){for(var b=0;b<this.s[B];b++){var c=this.s[b];if($m(c)&&c.id==a){return b}}return this.getViewColumnIndex(this.h.getColumnIndex(a))};N.getColumnLabel=function(a){U(this,a);a=this.s[a];return an(a)?this.h[Qb](a):a[Id]||J};N.getColumnPattern=function(a){U(this,a);a=this.s[a];return an(a)?this.h[Tc](a):k};N.getColumnRole=function(a){a=this[Qc](a,Bl);return a=R(a)?a:J};N.getColumnType=function(a){U(this,a);a=this.s[a];return an(a)?this.h[Ub](a):a[z]};Ga(N,function(a,b){U(this,b);var c=this[Zb](a),d=this.s[b];return an(d)?this.h[A](c,d):this.qj(c,b)});N.qj=function(a,b){this.Ke&&this.mj();var c=this.Le[b][a];if(Wm(c)){return c}var c=this.s[b],d=c.calc;R(d)?(d=wr[d],c=d(this.h,a,c.sourceColumn)):c=d[G](k,this.h,a);return this.Le[b][a]=c};N.getFormattedValue=function(a,b){U(this,b);var c=this.s[b];return $m(c)?Wq(this[A](a,b),this[Ub](b)):an(c)?this.h[Fd](this[Zb](a),c):J};N.getProperty=function(a,b,c){U(this,b);b=this.s[b];return an(b)?this.h.getProperty(this[Zb](a),b,c):k};N.getProperties=function(a,b){U(this,b);var c=this.s[b];return an(c)?this.h[Fc](this[Zb](a),c):{}};N.getColumnProperty=function(a,b){U(this,a);var c=this.s[a];return an(c)?this.h[Qc](c,b):this[Ab](a)[b]||k};N.getColumnProperties=function(a){U(this,a);a=this.s[a];return an(a)?this.h[Ab](a):a.properties||{}};N.getTableProperty=function(a){return this.h.getTableProperty(a)};N.getTableProperties=function(){return this.h[dc]()};N.getRowProperty=function(a,b){return this.h.getRowProperty(this[Zb](a),b)};N.getRowProperties=function(a){Oq(this,a);return this.h[cc](this[Zb](a))};N.getColumnRange=function(a){return Rq(this,a)};N.getDistinctValues=function(a){return Tq(this,a)};N.getSortedRows=function(a){return Sq(this,a)};N.getFilteredRows=function(a){return Vq(this,a)};N.toDataTable=function(){var a=this.h;bn(a[Rb])&&(a=a[Rb]());var a=xn(a[Hc]()),b=this[rb](),c=this[Dc](),d,f,h,j=[],o=[];for(d=0;d<b;d++){h=this.s[d],$m(h)?(f=wo(h),delete f.calc,delete f.sourceColumn):an(h)?f=a.cols[h]:e(n(og)),j[s](f)}for(f=0;f<c;f++){var r=a[zd][this.Xa?f:this.Wa[f]],w=[];for(d=0;d<b;d++){h=this.s[d];var C;$m(h)?C={v:this[A](f,d)}:an(h)?C=r.c[this.s[d]]:e(n(og));w[s](C)}r.c=w;o[s](r)}a.cols=j;a.rows=o;return a=new V(a)};N.toJSON=function(){for(var a={},b=[],c=0;c<this.s[B];c++){var d=this.s[c];(!$m(d)||R(d.calc))&&b[s](d)}0==b[B]||(a.columns=b);this.Xa||(a.rows=ko(this.Wa));return un(a)};var wr={emptyString:function(){return J},stringify:function(a,b,c){return a[Fd](b,c)},fillFromTop:function(a,b,c){return Xq(a,b,c,i)},fillFromBottom:function(a,b,c){return Xq(a,b,c,l)},identity:function(a,b,c){return a[A](b,c)}};var X={Ef:"google-visualization-errors"};X.yg=X.Ef+"-";X.vh=X.Ef+uf;X.Af=X.Ef+"-all-";X.Me=X.vh+" container is null";X.Mi="background-color: #c00000; color: white; padding: 2px;";X.Oi="background-color: #fff4c2; color: black; white-space: nowrap; padding: 2px; border: 1px solid black;";X.Pi="font: normal 0.8em arial,sans-serif; margin-bottom: 5px;";X.Ni="font-size: 1.1em; color: #0000cc; font-weight: bold; cursor: pointer; padding-left: 10px; color: black;text-align: right; vertical-align: top;";X.xg=0;X.addError=function(a,b,c,d){X.Ne(a)||e(n(X.Me+". message: "+b));var c=X.Ri(b,c,d),f=c.errorMessage,b=c.detailedMessage,c=c.options,h=P(c.showInTooltip)?!!c.showInTooltip:i,j=(c[z]==Fm?Fm:Ci)==Ci?X.Mi:X.Oi,j=j+(c[F]?c[F]:J),o=!!c.removable,d=ip(),f=d.d(Ul,{style:j},d[qb](f)),j=X.yg+X.xg++,r=d.d(ti,{id:j,style:X.Pi},f);if(b){h?f.title=b:(h=ja[Pb](Ul),qa(h,b),d[Ya](r,d.d(ti,{style:el},h)))}if(o){b=d.d(Ul,{style:X.Ni},d[qb](Pm)),b.onclick=kn(X.Pe,r),d[Ya](f,b)}X.Qi(a,r);c.removeDuplicates&&X.Si(a,r);return j};X.removeAll=function(a){X.Ne(a)||e(n(X.Me));if(a=X.zf(a,l)){Va(a[F],Qk),xp(a)}};X.addErrorFromQueryResponse=function(a,b){X.Ne(a)||e(n(X.Me));b||e(n(X.vh+" response is null"));if(!b[Nb]()&&!b.hasWarning()){return k}var c=b.getReasons(),d=i;b[Nb]()&&(d=!(ho(c,ym)||ho(c,hk)));var c=b.getMessage(),f=b.getDetailedMessage(),d={showInTooltip:d};Ca(d,b[Nb]()?Ci:Fm);d.removeDuplicates=i;return X[Gc](a,c,f,d)};X.removeError=function(a){a=ja[lb](a);return X.Cf(a)?(X.Pe(a),i):l};X.getContainer=function(a){a=ja[lb](a);return X.Cf(a)?a[Hd][Hd]:k};X.createProtectedCallback=function(a,b){return function(){try{a[Ad](k,arguments)}catch(c){bn(b)?b(c):google[E][Gd][Gc](b,c[Xc])}}};X.Pe=function(a){var b=a[Hd];zp(a);0==b[hc][B]&&Va(b[F],Qk)};X.Cf=function(a){return up(a)&&a.id&&0==a.id[jd](X.yg,0)&&(a=a[Hd])&&a.id&&0==a.id[jd](X.Af,0)&&a[Hd]?i:l};X.Ri=function(a,b,c){var d=P(a)&&a?a:Ci,f=J,h={},j=arguments[B];2==j?b&&Vm(b)==Uk?h=b:f=P(b)?b:f:3==j&&(f=P(b)?b:f,h=c||{});d=Cn(d);f=Cn(f);return{errorMessage:d,detailedMessage:f,options:h}};X.Ne=function(a){return P(a)&&up(a)};X.zf=function(a,b){for(var c=a[hc],d=k,f=ip(),h=0;h<c[B];h++){if(c[h].id&&0==c[h].id[jd](X.Af,0)){d=c[h];f.removeNode(d);break}}!d&&b&&(d=X.Af+X.xg++,d=rp(ti,{id:d,style:si},k));d&&((c=a[Vb])?f.se(d,c):f[Ya](a,d));return d};X.Qi=function(a,b){var c=X.zf(a,i);Va(c[F],zh);c[Ya](b)};X.Fk=function(a,b){var c=X.zf(a,i);co(c&&c[hc],function(a){X.Cf(a)&&b(a)})};X.Si=function(a,b){var c=/id="?google-visualization-errors-[0-9]*"?/,d=Cp(b),d=d[u](c,J),f=[];X.Fk(a,function(a){if(a!=b){var j=Cp(a),j=j[u](c,J);j==d&&f[s](a)}});co(f,X.Pe);return f[B]};var xr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function yr(a){var b={},a=J+a,c=a[pb](0)==ae?a:ae+a;if(zr[cb](c)){return a=c,zr[cb](a)||e(n("'"+a+"' is not a valid hex color")),4==a[B]&&(a=a[u](Ar,be)),b.Hf=a[Od](),Ca(b,Nj),b}a:{var d=a[Gb](Br);if(d){var c=ca(d[1]),f=ca(d[2]),d=ca(d[3]);if(0<=c&&255>=c&&0<=f&&255>=f&&0<=d&&255>=d){c=[c,f,d];break a}}c=[]}if(c[B]){return f=c[0],a=c[1],c=c[2],f=ca(f),a=ca(a),c=ca(c),(la(f)||0>f||255<f||la(a)||0>a||255<a||la(c)||0>c||255<c)&&e(n('"('+f+ue+a+ue+c+'") is not a valid RGB color')),f=Cr(f[yc](16)),a=Cr(a[yc](16)),c=Cr(c[yc](16)),b.Hf=ae+f+a+c,Ca(b,zl),b}if(xr&&(c=xr[a[Od]()])){return b.Hf=c,Ca(b,Mk),b}e(n(a+" is not a valid color string"))}var Ar=/#(.)(.)(.)/,zr=/^#(?:[0-9a-f]{3}){1,2}$/i,Br=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Cr(a){return 1==a[B]?ff+a:a}function Dr(a){return a==Qk||a==J||a==rm?Qk:yr(a).Hf}function Er(a,b){this.start=a<b?a:b;this.end=a<b?b:a}Ra(Er[D],function(){return new Er(this.start,this.end)});function Fr(a,b){return a.start<=b&&a.end>=b}function Gr(a){P(a)||(a={});this.Ve=Qk;P(a.fill)&&this.dj(a.fill);this.Ue=1;P(a.Fg)&&this.ej(a.Fg);this.Te=Qk;P(a.stroke)&&this.gj(a.stroke);this.Ye=1;P(a.kj)&&this.Eg(a.kj);this.Xe=1;P(a.Hg)&&this.ij(a.Hg);this.We=Rl;P(a.jj)&&this.hj(a.jj);this.Ka=k;if(a.Ka){this.Ka=wo(a.Ka),this.Ka.bj=Dr(this.Ka.bj),this.Ka.cj=Dr(this.Ka.cj)}this.Cd=k;a.pattern&&this.fj(a.pattern)}N=Gr[D];Ra(N,function(){var a=new Gr;a.Ve=this.Ve;a.Ue=this.Ue;a.Te=this.Te;a.Ye=this.Ye;a.Xe=this.Xe;a.We=this.We;a.Ka=this.Ka?wo(this.Ka):k;a.Cd=this.Cd?this.Cd[cd]():k;return a});N.dj=function(a){this.Ve=Dr(a)};N.ej=function(a){this.Ue=q.min(q.max(a,0),1)};N.gj=function(a,b){this.Te=Dr(a);P(b)&&this.Eg(b)};N.Eg=function(a){this.Ye=a};N.ij=function(a){this.Xe=q.min(q.max(a,0),1)};N.hj=function(a){this.We=a};N.fj=function(a){this.Cd=a};new Gr({Fg:0,fill:"white",Hg:0,stroke:"white"});function Hr(a,b,c,d){this.top=a;Xa(this,b);Ta(this,c);ua(this,d)}Ra(Hr[D],function(){return new Hr(this.top,this[Pd],this[ud],this[y])});Ua(Hr[D],function(a){return !this||!a?l:a instanceof Hr?a[y]>=this[y]&&a[Pd]<=this[Pd]&&a.top>=this.top&&a[ud]<=this[ud]:a.x>=this[y]&&a.x<=this[Pd]&&a.y>=this.top&&a.y<=this[ud]});function Ir(a,b,c,d){ua(this,a);this.top=b;pa(this,c);Wa(this,d)}Ra(Ir[D],function(){return new Ir(this[y],this.top,this[t],this[I])});Ir[D].Ng=function(a){var b=q.max(this[y],a[y]),c=q.min(this[y]+this[t],a[y]+a[t]);if(b<=c){var d=q.max(this.top,a.top),a=q.min(this.top+this[I],a.top+a[I]);if(d<=a){return ua(this,b),this.top=d,pa(this,c-b),Wa(this,a-d),i}}return l};Ua(Ir[D],function(a){return a instanceof Ir?this[y]<=a[y]&&this[y]+this[t]>=a[y]+a[t]&&this.top<=a.top&&this.top+this[I]>=a.top+a[I]:a.x>=this[y]&&a.x<=this[y]+this[t]&&a.y>=this.top&&a.y<=this.top+this[I]});function Jr(a,b){var c=kp(a);return c[ic]&&c[ic].getComputedStyle&&(c=c[ic].getComputedStyle(a,k))?c[b]||c.getPropertyValue(b):J}function Kr(a,b){return Jr(a,b)||(a[vd]?a[vd][b]:k)||a[F]&&a[F][b]}function Lr(a){return Kr(a,kl)}function Mr(a,b,c){var d,f=Lo&&(Fo||Qo)&&$o(nf);b instanceof Ln?(d=b.x,b=b.y):(d=b,b=c);ua(a[F],Nr(d,f));a[F].top=Nr(b,f)}function Or(a){var b=a[$a]();if(T){a=a.ownerDocument,ua(b,b[y]-(a[uc][Yb]+a[ad][Yb])),b.top-=a[uc][ac]+a[ad][ac]}return b}function Pr(a){if(T&&!bp(8)){return a.offsetParent}for(var b=kp(a),c=Kr(a,kl),d=c==Gi||c==lh,a=a[Hd];a&&a!=b;a=a[Hd]){if(c=Kr(a,kl),d=d&&c==Yl&&a!=b[uc]&&a!=b[ad],!d&&(a.scrollWidth>a[Jc]||a[Sb]>a[pd]||c==Gi||c==lh||c==wl)){return a}}return k}function Qr(a){for(var b=new Hr(0,ea,ea,0),c=ip(a),d=c.o[ad],f=c.o[uc],h=c.Sj();a=Pr(a);){if((!T||0!=a[Jc])&&(!Mo||0!=a[pd]||a!=d)&&a!=d&&a!=f&&Kr(a,cl)!=Dm){var j=Rr(a),o;o=a;if(Lo&&!$o(nf)){var r=ga(Jr(o,Ih));if(Sr(o)){var w=o.offsetWidth-o[Jc]-r-ga(Jr(o,Kh)),r=r+w}o=new Ln(r,ga(Jr(o,Mh)))}else{o=new Ln(o[Yb],o[ac])}j.x+=o.x;j.y+=o.y;b.top=q.max(b.top,j.y);Xa(b,q.min(b[Pd],j.x+a[Jc]));Ta(b,q.min(b[ud],j.y+a[pd]));ua(b,q.max(b[y],j.x))}}d=h[qd];h=h[xc];ua(b,q.max(b[y],d));b.top=q.max(b.top,h);c=c.Tj();Xa(b,q.min(b[Pd],d+c[t]));Ta(b,q.min(b[ud],h+c[I]));return 0<=b.top&&0<=b[y]&&b[ud]>b.top&&b[Pd]>b[y]?b:k}function Rr(a){var b,c=kp(a),d=Kr(a,kl),f=Lo&&c[Ib]&&!a[$a]&&d==lh&&(b=c[Ib](a))&&(0>b[Eb]||0>b[Fb]),h=new Ln(0,0),j;b=c?9==c[ib]?c:kp(c):ja;j=T&&!bp(9)&&!ip(b).ff()?b[ad]:b[uc];if(a==j){return h}if(a[$a]){b=Or(a),a=ip(c).ac(),h.x=b[y]+a.x,h.y=b.top+a.y}else{if(c[Ib]&&!f){b=c[Ib](a),a=c[Ib](j),h.x=b[Eb]-a[Eb],h.y=b[Fb]-a[Fb]}else{b=a;do{h.x+=b.offsetLeft;h.y+=b[Jd];b!=a&&(h.x+=b[Yb]||0,h.y+=b[ac]||0);if(Mo&&Lr(b)==Gi){h.x+=c[ad][qd];h.y+=c[ad][xc];break}b=b.offsetParent}while(b&&b!=a);if(Ko||Mo&&d==lh){h.y-=c[ad][Jd]}for(b=a;(b=Pr(b))&&b!=c[ad]&&b!=j;){if(h.x-=b[qd],!Ko||b[Cd]!=Sg){h.y-=b[xc]}}}}return h}function Tr(a,b,c){b instanceof Nn?(c=b[I],b=b[t]):c==g&&e(n("missing height argument"));pa(a[F],Nr(b,i));Wa(a[F],Nr(c,i))}function Nr(a,b){typeof a==K&&(a=(b?q.round(a):a)+pl);return a}function Ur(a){if(Kr(a,ri)!=Qk){return Vr(a)}var b=a[F],c=b.display,d=b.visibility,f=b.position;Ka(b,Oj);b.position=lh;Va(b,ek);a=Vr(a);Va(b,c);b.position=f;Ka(b,d);return a}function Vr(a){var b=a.offsetWidth,c=a.offsetHeight,d=Mo&&!b&&!c;return(!Wm(b)||d)&&a[$a]?(a=Or(a),new Nn(a[Pd]-a[y],a[ud]-a.top)):new Nn(b,c)}function Wr(a){var b=Rr(a),a=Ur(a);return new Ir(b.x,b.y,a[t],a[I])}function Xr(a,b){var c=a[F];if(Wk in c){c.opacity=b}else{if(yg in c){c.MozOpacity=b}else{if(Fi in c){c.filter=b===J?J:rh+100*b+se}}}}function Yr(a,b){Va(a[F],b?J:Qk)}function Sr(a){return Dl==Kr(a,oi)}var Zr=Lo?"MozUserSelect":Mo?"WebkitUserSelect":k;function $r(a,b,c){c=!c?a[rc](te):k;if(Zr){if(b=b?Qk:J,a[F][Zr]=b,c){for(var a=0,d;d=c[a];a++){d[F][Zr]=b}}}else{if(T||Ko){if(b=b?Vk:J,a[$b](xm,b),c){for(a=0;d=c[a];a++){d[$b](xm,b)}}}}}function as(a,b,c,d){if(/^\d+px?$/[cb](b)){return fa(b,10)}var f=a[F][c],h=a.runtimeStyle[c];a.runtimeStyle[c]=a[vd][c];a[F][c]=b;b=a[F][d];a[F][c]=f;a.runtimeStyle[c]=h;return b}function bs(a,b){return as(a,a[vd]?a[vd][b]:k,sk,jl)}var cs={thin:2,medium:4,thick:6};function ds(a,b){if((a[vd]?a[vd][b+Qg]:k)==Qk){return 0}var c=a[vd]?a[vd][b+Yg]:k;return c in cs?cs[c]:as(a,c,sk,jl)}function es(){var a=Sm(Hj);P(a)||(a=Wj);var b=Sm(Jj);P(b)||(b=mf);return a+cf+b}function fs(a){var b=Sm(a);bn(b)||(b=Sm(Ij+a),bn(b)||(b=k));return b}function gs(){}N=gs[D];N.$=function(a){(!$m(a)||!bn(a[rb])||!bn(a[Dc]))&&e(n("Invalid data table."))};N.rk=function(a){this.$(a);a=new google[E][md](a);if(this.W(a)){return a}a=this.Ij(a);a=this.Ub(a);a=this.Zg(a);return this.W(a)?a:k};N.e=function(a,b,c){return a[rb]()>b&&c==a[Ub](b)};N.indexOf=function(a,b){for(var c=0;c<a[rb]();c++){if(a[Ub](c)==b){return c}}return -1};N.bf=function(a,b){return this.e(a,b,K)?this.Sb(a,b,function(a){return 0<=a}):l};N.Sb=function(a,b,c){for(var d=q.min(a[Dc](),20),f=0;f<d;f++){var h=a[A](f,b);if(h!=k&&!c(h)){return l}}return i};N.tj=function(a,b,c){if(!this.e(a,b,K)){return l}if(!this.e(a,c,K)){return l}var d=jn(this.wj,this),f=jn(this.xj,this);return this.Sb(a,b,d)&&this.Sb(a,c,f)};N.wj=function(a){return Fr(new Er(-90,90),a)&&!(ha(a)&&0==a%1)};N.xj=function(a){return Fr(new Er(-180,180),a)&&!(ha(a)&&0==a%1)};N.Ia=function(a,b){var c=new google[E][md](a);c[Md](b);return c};N.ta=function(a,b){for(var c=a[rb](),d=0;d<c;d++){b(d)}};N.Ed=function(a,b){var c=this,d=0;this.ta(a,function(f){c.e(a,f,b)&&d++});return d};N.Ub=function(a){var b=this,c=[],d=this.Ed(a,M);this.ta(a,function(f){b.e(a,f,K)?c[s](f):b.e(a,f,M)&&1==d&&c[s](f)});return this.Ia(a,c)};N.Zg=function(a){if(1==this.Ed(a,M)){var b=this[v](a,M),c=[b];this.ta(a,function(a){a!=b&&c[s](a)});a=this.Ia(a,c)}return a};N.Ij=function(a){var b=this,c=[];this.ta(a,function(d){b.e(a,d,M)?b.Sb(a,d,function(a){return/^[\s\xa0]*$/[cb](a)})||c[s](d):c[s](d)});return this.Ia(a,c)};N.Kg=function(a){for(var b=a.getDistinctValues(0),c=q.min(a[Dc](),20),d=0,f=0;f<c;f++){var h=a[A](f,1);(!h||ho(b,h))&&d++}return 0.6<d/c};function hs(){}S(hs,gs);hs[D].W=function(a){this.$(a);var b=a[rb]();if(2>b){return l}var c=a[Ub](0);if(c!=gi&&c!=hi){return l}if(a[Ub](1)!=K){return l}for(var c=0,d=1;d<b;d++){var f=a[Ub](d);if(f==K){c=0}else{if(f==M){if(c++,2<c){return l}}else{return l}}}return i};hs[D].Ub=function(a){var b=this,c=[];this.ta(a,function(d){(b.e(a,d,M)||b.e(a,d,K)||b.e(a,d,gi)||b.e(a,d,hi))&&c[s](d)});return this.Ia(a,c)};hs[D].Zg=function(a){var b;b=0+this.Ed(a,gi);b+=this.Ed(a,hi);if(1==b){var c=this[v](a,gi),c=-1==c?this[v](a,hi):c,d=[c];this.ta(a,function(a){a!=c&&d[s](a)});a=this.Ia(a,d)}return a};function is(a){this.Jg=!!(a||{}).Dh}S(is,gs);is[D].W=function(a){this.$(a);var b=0,c=a[rb]();if(1>c){return l}if(!this.e(a,0,K)&&(b++,this.Jg)){for(;b<c&&this.e(a,b,M);){b++}}for(var d=k;b<c;){var f=a[Ub](b);if(f==K){d={}}else{if(this.Jg&&f==M){if(!d){return l}}else{if(f==Ch){if(!d){return l}if(d.pj){return l}d.pj=b}else{return l}}}b++}return !Xm(d)};function js(a){is[G](this,a)}S(js,is);function ks(){}S(ks,gs);ks[D].W=function(a){this.$(a);var b=a[rb]();return 3>b||5<b?l:!this.e(a,0,M)?l:!this.e(a,1,K)?l:!this.e(a,2,K)?l:3<b&&!this.e(a,3,M)?l:4<b&&!this.e(a,4,K)?l:i};function ls(){}S(ls,gs);ls[D].W=function(a){this.$(a);if(5!=a[rb]()){return l}if(!this.e(a,0,M)||!this.e(a,1,K)||!this.e(a,2,K)||!this.e(a,3,K)||!this.e(a,4,K)){return l}for(var b=q.min(a[Dc](),20),c=0;c<b;c++){var d=a[A](c,1),f=a[A](c,2),h=a[A](c,3),j=a[A](c,4);if(d!=q.min(d,f,h,j)){return l}if(j!=q.max(d,f,h,j)){return l}}return i};ls[D].Ub=function(a){var b=this,c=[];this.ta(a,function(d){(b.e(a,d,M)||b.e(a,d,K))&&c[s](d)});return this.Ia(a,c)};function ms(){is[G](this)}S(ms,is);function ns(){}S(ns,gs);ns[D].W=function(a){this.$(a);return this.gk(a)||this.hk(a)};ns[D].gk=function(a){var b=a[rb]();if(1>b||2<b){return l}var c=i;2==b&&(c=c&&this.e(a,0,M));return c=c&&this.bf(a,b-1)};ns[D].hk=function(a){var b=a[rb](),c=a[Dc]();if(0==b||1!=c){return l}for(var c=i,d=0;d<b;d++){if(!this.e(a,d,K)){c=l;break}}return c};function os(){}S(os,gs);os[D].W=function(a){var b=a[rb]();if(1>b||2<b){return l}var c=this.e(a,0,M);2==b&&(c=c&&this.e(a,1,K));return c};function ps(){}S(ps,gs);ps[D].W=function(a){return this.Ok(a)||this.Nk(a)};ps[D].Ok=function(a){this.$(a);var b=a[rb]();if(2>b||3<b){return l}var c=this.e(a,0,K),c=c&&this.e(a,1,K);3==b&&(c=c&&this.e(a,2,M));return c&&this.tj(a,0,1)};ps[D].Nk=function(a){this.$(a);var b=a[rb]();return 1>b||2<b?l:!this.e(a,0,M)?l:2==b&&!this.e(a,1,M)?l:i};function qs(){}S(qs,gs);qs[D].W=function(a){this.$(a);var b=a[rb]();if(3>b){return l}if(a[Ub](0)!=M){return l}var c=a[Ub](1);if(c!=K&&c!=gi&&c!=M){return l}if(c==M&&!this.ak(a,1)&&!this.$j(a,1)){return l}if(c==K&&!this.Sb(a,1,function(a){return ha(a)&&0==a%1})){return l}for(c=2;c<b;c++){var d=a[Ub](c);if(d!=K&&d!=M){return l}}return i};qs[D].ak=function(a,b){return this.Sb(a,b,function(a){return 7!=a[B]?l:la(a[xd](0,3))?l:a[pb](4)!=Xg?l:la(a[xd](6,7))?l:i})};qs[D].$j=function(a,b){return this.Sb(a,b,function(a){return 6!=a[B]?l:la(a[xd](0,3))?l:a[pb](4)!=Hg?l:la(a[pb](5))?l:i})};function rs(){}S(rs,gs);rs[D].W=function(a){this.$(a);var b=a[rb]();if(2>b||3<b){return l}var c=this.e(a,0,M)&&this.e(a,1,M);3==b&&(c=c&&this.e(a,2,M));return c&&this.Kg(a)};rs[D].Ub=function(a){var b=this,c=[];this.ta(a,function(d){b.e(a,d,M)&&c[s](d)});return this.Ia(a,c)};function ss(){}S(ss,gs);ss[D].W=function(a){this.$(a);var b=a[rb]();if(1>b||2<b){return l}var c=this.e(a,b-1,K);return c=c&&this.bf(a,b-1)};function ts(){}S(ts,gs);ts[D].W=function(a){this.$(a);var b=a[rb]();if(0==b){return l}for(var c=this.e(a,0,M)?1:0,d=b>c;c<b;c++){if(!this.e(a,c,K)){d=l;break}}return d};function us(){}S(us,gs);us[D].W=function(a){this.$(a);var b=a[rb]();if(2>b){return l}if(this.e(a,0,Ch)||this.e(a,0,M)){return l}for(var c=1,d=0,f=0;c<b;){var h=a[Ub](c);if(h==K){d++,f=0}else{if(h==Ch){f++;if(0==d){return l}if(1<f){return l}}else{return l}}c++}return 0<d};us[D].Ub=function(a){var b=this,c=[];this.ta(a,function(d){!b.e(a,d,M)&&!b.e(a,d,Ch)&&c[s](d)});return this.Ia(a,c)};function vs(){}S(vs,gs);vs[D].W=function(a){this.$(a);for(var b=i,c=a[rb](),d=0;d<c;d++){if(!this.e(a,d,K)){b=l;break}}return b};vs[D].Ub=function(a){var b=this,c=[];this.ta(a,function(d){b.e(a,d,K)&&c[s](d)});return this.Ia(a,c)};function ws(){}S(ws,gs);ws[D].W=function(){return i};function xs(){}S(xs,gs);xs[D].W=function(a){this.$(a);var b=a[rb]();if(2>b||4<b){return l}var c=this.e(a,0,M)&&this.e(a,1,M);2<b&&(c=c&&this.bf(a,2))&&3<b&&(c=c&&this.e(a,3,K));return c&&this.Kg(a)};xs[D].Ub=function(a){var b=this,c=[];this.ta(a,function(d){(b.e(a,d,M)||b.e(a,d,K))&&c[s](d)});return this.Ia(a,c)};var ys={AnnotatedTimeLine:{format:new hs,J:3},AreaChart:{format:new js({Dh:i}),J:2},BarChart:{format:new is,J:2},BubbleChart:{format:new ks,J:2},CandlestickChart:{format:new ls,J:2},ColumnChart:{format:new is,J:2},ComboChart:{format:new ms,J:2},Gauge:{format:new ns,J:1},GeoChart:{format:new os,J:3},LineChart:{format:new is({Dh:i}),J:2},ImageRadarChart:{format:new ts,J:1},ImageSparkLine:{format:new vs,J:1},Map:{format:new ps,J:2},MotionChart:{format:new qs,J:3},OrgChart:{format:new rs,J:2},PieChart:{format:new ss,J:2},ScatterChart:{format:new us,J:2},SteppedAreaChart:{format:new js,J:2},Table:{format:new ws,J:0},TreeMap:{format:new xs,J:2},WordTree:{format:new os,J:2}};function zs(a){An(a)||(a=a[u](/\d/g,ff),a=a[u](/#{10,}/,oa(11)[Ld](ae)));return a}function As(a){if(1!=a.Nd()){return k}a=a.Ja()[0];return zs(a)}function Bs(a,b){var c=b||{};R(c)&&(c=xn(c));this.Ee=c.containerId||k;this.pd=a;this.fa=c[a+Vg]||k;this.og=c[a+Bg]||k;Qa(this,k);this.He=c.dataSourceUrl||k;this.h=k;this[hd](c.dataTable);this.jb=c.options||{};this.Sa=c.state||{};var d=c.packages;this.pg=Wm(d)?d:k;this.Ra=c.query||k;this.Gb=c.refreshInterval||k;this.Ob=c.view||k}var Cs={AnnotatedTimeLine:"annotatedtimeline",AreaChart:di,BarChart:di,BubbleChart:di,CandlestickChart:di,ColumnChart:di,ComboChart:di,Gauge:"gauge",GeoChart:"geochart",GeoMap:"geomap",ImageAreaChart:"imageareachart",ImageBarChart:"imagebarchart",ImageCandlestickChart:"imagechart",ImageChart:"imagechart",ImageLineChart:"imagelinechart",ImagePieChart:"imagepiechart",ImageSparkLine:"imagesparkline",IntensityMap:"intensitymap",LineChart:di,Map:"map",MotionChart:"motionchart",OrgChart:"orgchart",PieChart:di,RangeSelector:di,ScatterChart:di,SparklineChart:di,SteppedAreaChart:di,Table:"table",Timeline:"timeline",TreeMap:"treemap",StringFilter:ci,NumberRangeFilter:ci,CategoryFilter:ci,ChartRangeFilter:ci,Dashboard:ci};N=Bs[D];N.fh=k;N.ec=k;Ra(N,function(){return new this[Rc](this[Hc]())});N.draw=function(a){a=lp(a||J);up(a)?a!=this.ec&&this.hf():(a=lp(this[td]()),up(a)||e(n("The container is null or not defined.")));this.ec=a;try{if(P(this.fa)||e(n("The "+this.pd+" type is not defined.")),fs(this.fa)){this.ah(a)}else{var b=jn(this.ah,this,a),b=google[E][Gd].createProtectedCallback(b,jn(this.jf,this,a));this.Mj(b)}}catch(c){this.jf(a,c)}};N.toJSON=function(){return this.Eh(this[tb]())};N.Eh=function(a){var b=this[sd](),c=g;Xm(a)||(c=bn(a[Rb])?xn(a[Rb]()[Hc]()):xn(a[Hc]()));a={containerId:this[td]()||g,dataSourceUrl:this[dd]()||g,dataTable:c,options:this[mb]()||g,state:this[od]()||g,packages:Xm(b)?g:b,refreshInterval:this[nd]()||g,query:this[yd]()||g,view:this[Cc]()||g};a[this.pd+Vg]=this.fa||g;a[this.pd+Bg]=this[Kb]()||g;this.mh(a);return un(a)};N.Yj=function(){this.mk();this.lk();var a=this.fa,b=this[tb](),c=this[mb](),d=c.vAxes||[{},{}],f=c.hAxis||{},h=d[0]||{},j=d[1]||{},o=c.vAxis||{};if(!f[Hb]&&!h[Hb]&&!j[Hb]&&!o[Hb]){if(a==Of){if(!(3>b[rb]())){a=b[Tc](1);if(!An(a)){d=c.hAxis||{},xa(d,zs(a)),c.hAxis=d}b=b[Tc](2);if(!An(b)){a=c.vAxes||{},d=a[0]||{},xa(d,zs(b)),a[0]=d,c.vAxes=a}}}else{for(var o=[new Pp,new Pp],r=b&&b[rb]()||0,w=0;w<r;w++){if(b[Ub](w)==K){var C=b[Tc](w);if(!An(C)){var L;L=w;0==L?L=k:(L--,L=((c.series||{})[L]||{}).targetAxisIndex||0);Xm(L)||o[L].add(C)}}}o[0]=As(o[0]);o[1]=As(o[1]);a==Nf?xa(f,o[0]):(xa(h,o[0]),xa(j,o[1]),0<r&&b[Ub](0)!=M&&(C=b[Tc](0),C=zs(C),An(C)||xa(f,C)));d[0]=h;d[1]=j;c.vAxes=d;c.hAxis=f}}};N.mh=function(){};N.getDataSourceUrl=function(){return this.He};N.getDataTable=function(){return this.h};N.Kh=function(){return this.fa};N.getName=function(){return this.og};N.Gf=function(){return this[E]};N.getContainerId=function(){return this.Ee};N.getQuery=function(){return this.Ra};N.getRefreshInterval=function(){return this.Gb};N.getOption=function(a,b){return Ds(this.jb,a,b)};function Ds(a,b,c){a=-1==b[v](Ve)?a[b]:Sm(b,a);c=Wm(c)?c:k;return a=P(a)?a:c}N.getOptions=function(){return this.jb};N.getState=function(){return this.Sa};N.setDataSourceUrl=function(a){if(a!=this.He){this.nl=k}this.He=a};N.setDataTable=function(a){this.h=a==k?k:bn(a[dc])?a:Q(a)?google[E].arrayToDataTable(a):new google[E].DataTable(a)};N.yf=function(a){this.fa=a};N.Jf=function(a){this.og=a};N.setContainerId=function(a){if(this.Ee!=a){this.Ee=a,this.hf()}};N.setQuery=function(a){this.Ra=a};N.setRefreshInterval=function(a){this.Gb=a};N.setOption=function(a,b){Es(this.jb,a,b)};function Es(a,b,c){if(c==k){Xm(Ds(a,b))||(c=b[Pc](Ve),1<c[B]&&(b=c.pop(),a=Ds(a,c[Ld](Ve))),delete a[b])}else{b=b[Pc](Ve);a=a||O;!(b[0] in a)&&a[Nd]&&a[Nd](Am+b[0]);for(var d;b[B]&&(d=b.shift());){!b[B]&&Wm(c)?a[d]=c:a=a[d]?a[d]:a[d]={}}}}N.setOptions=function(a){this.jb=a||{}};La(N,function(a){this.Sa=a||{}});N.setPackages=function(a){this.pg=a};N.setView=function(a){this.Ob=a};N.hl=function(a){Qa(this,a)};N.getSnapshot=function(){return new this[Rc](this.Eh(this.fh||this[tb]()))};N.getView=function(){return this.Ob};N.getPackages=function(){return this.pg};N.jf=function(a,b){var c=b&&b[Xc]||Ci,d=google[E][Gd][Gc](a,c);google[E][jb].trigger(this,Ci,{id:d,message:c})};N.Ek=function(a,b){var c=b.getMessage(),d=b.getDetailedMessage(),f=google[E][Gd].addErrorFromQueryResponse(a,b);google[E][jb].trigger(this,Ci,{id:f,message:c,detailedMessage:d})};N.Sk=function(){var a=this[sd]();if(!P(a)){var b=this.fa,b=b[u](Ij,J),a=Cs[b];P(a)||e(n("Invalid visualization type: "+b))}R(a)&&(a=[a]);return a};N.yd=function(a,b){var c=fs(this.fa);c||e(n("Invalid "+this.pd+" type: "+this.fa));var d,f=this.fa==dg;if(!this[E]||this[E][Rc]!=c||f){f||this.hf();d=new c(a);var h=this;co([sl,Gl,Ci,Xl],function(a){google[E][jb].addListener(d,a,function(b){a==sl&&Qa(h,d);(a==sl||a==Xl)&&bn(d[od])&&h[wc](d[od][G](d));google[E][jb].trigger(h,a,b)})})}else{d=this[E]}this.fh=b;c=xo(this[mb]());c=new Y({chartType:this.fa,dataTable:b,options:c,view:this[Cc]()});c.Yj();d[kd](c[tb](),c[mb](),this[od]())};N.pushView=function(a){Q(this.Ob)?this.Ob[s](a):this.Ob=Xm(this.Ob)?[a]:[this.Ob,a]};N.mk=function(){var d;var a=this[tb](),b=this[Cc]();if(b==vh){b=this.fa;if(b==mg){var c=this.getOption(Vh);if(c==ql||c==Cl){b=ng}}if(d=(b=ys[b])&&b[Hb],b=d){a=(b=b.rk(a))?b[Rb]():a}}else{if(Q(b)){for(c=0;c<b[B];c++){a=google[E][md].fromJSON(a,b[c])}}else{P(b)&&(a=google[E][md].fromJSON(a,b))}}this[Zc](k);this[hd](a)};N.uk=function(a,b){if(b[Nb]()){this.Ek(a,b)}else{var c=b[tb]();this.yd(a,c)}};N.Mj=function(a){var a={packages:this.Sk(),callback:a},b=Sm(Jj);Xm(b)&&(b=mf);google.load(Em,b,a)};N.ah=function(a){var b=this[tb]();b?this.yd(a,b):(b=jn(this.uk,this,a),b=google[E][Gd].createProtectedCallback(b,jn(this.jf,this,a)),this.sendQuery(b,i))};N.sendQuery=function(a,b){var c=typeof b==Ch?b:l,d=this[dd]()||J,d=new google[E].Query(d),f=this[nd]();f&&c&&d[fc](f);(c=this[yd]())&&d[$c](c);d[Jb](a)};N.lk=function(){var a=this.fa;if(!(Cs[a]!=di||a==Mg)){var a=this[tb](),b=this[mb]()||{},c=Ds(b,Kj);if(c!=k){for(var d=[{calc:c?Zl:yi,sourceColumn:0,type:M}],f=c?1:0,c=a[rb]();f<c;f++){d[s](f)}a=new google[E][md](a);a[Md](d);Es(b,Kj,k);this[hd](a);this[Vc](b)}}};N.hf=function(){this[E]&&bn(this[E].clearChart)&&this[E].clearChart();Qa(this,k)};function Y(a){Bs[G](this,Sh,a)}S(Y,Bs);N=Y[D];N.getChart=Bs[D].Gf;N.setChart=Bs[D].hl;N.setChartType=Bs[D].yf;N.getChartType=Bs[D].Kh;N.setChartName=Bs[D].Jf;N.getChartName=Bs[D][Kb];function Z(a){Bs[G](this,bi,a)}S(Z,Bs);N=Z[D];N.getControl=Bs[D].Gf;N.setControlType=Bs[D].yf;N.getControlType=Bs[D].Kh;N.setControlName=Bs[D].Jf;N.getControlName=Bs[D][Kb];function $(a){Bs[G](this,fi,a);a=a||{};R(a)&&(a=xn(a));this.Ha=a.wrappers||k;this.nc=a.bindings||k;this.yf(a.dashboardType||Wf);this.wf()}S($,Bs);N=$[D];N.yd=function(a,b){function c(a){return h[a]}Tp(this[E]);for(var d=new google[E].Dashboard(a),f=this.nc||[],h=this.Ha,j=f[B],o=0;o<j;o++){var r=fo(f[o].controls,c),w=fo(f[o].participants,c);d[kc](r,w)}Qa(this,d);$.b.yd[G](this,a,b)};N.mh=function(a){a.wrappers=this.Ha?fo(this.Ha,function(a){return a[Hc](k)}):g;a.bindings=this.nc||g};N.setWrappers=function(a){this.Ha=a||k;this.wf()};N.getWrappers=function(){return this.Ha};N.setBindings=function(a){this.nc=a||k;this.wf()};N.getBindings=function(){return this.nc};N.getDashboard=Bs[D].Gf;N.setDashboardName=Bs[D].Jf;N.getDashboardName=Bs[D][Kb];N.wf=function(){var a=this.Ha,b=this.nc;if(!Fs(a)||!Fs(b)){this.Ha=fo(a,this.dk,this),this.nc=fo(b,this.ck,this)}};N.dk=function(a){this.oh(a)||(a=google[E].createWrapper(a));a[hd](k);a[Mc](k);return a};N.ck=function(a){var b=a.controls,c=a.participants;(Fs(b)||Fs(c))&&e(n("invalid binding: "+a));b=fo(b,this.Ih,this);c=fo(c,this.Ih,this);return{controls:b,participants:c}};N.Ih=function(a){!/[^0-9]/[cb](a)&&(a=fa(a,10));if(an(a)){return a}var b=a;if(this.jk(a)){return this.oh(b)||(b=google[E].createWrapper(b)),this.Ha[s](b),this.Ha[B]-1}a=this.ik();a=!An(b)?bo(a,b):-1;-1==a&&e(n("Invalid wrapper name: "+b));return a};N.oh=function(a){return bn(a[Hc])};N.jk=function(a){var b=/${.*}^/;return $m(a)||R(a)&&b[cb](a)};N.ik=function(){return fo(this.Ha,function(a){return a[Kb]()})};function Fs(a){return Q(a)?0==a[B]:i}function Gs(a,b){Hs(a)[kd](b)}function Hs(a){a=a||{};R(a)&&(a=xn(a));return a.controlType?new google[E].ControlWrapper(a):a.dashboardType?new google[E].DashboardWrapper(a):new google[E].ChartWrapper(a)}function Is(a){for(var b=0,c=0;c<a[B];c++){b+=a[c]}return b}function Js(a,b,c,d,f){this.aa=!!b;a&&this.qc(a,d);Ba(this,f!=g?f:this.ua||0);this.aa&&Ba(this,-1*this[gc]);this.Hd=!c}S(Js,Kp);N=Js[D];N.sa=k;N.ua=0;N.Oe=l;N.qc=function(a,b,c){if(this.sa=a){this.ua=an(b)?b:1!=this.sa[ib]?0:this.aa?-1:1}an(c)&&Ba(this,c)};N.ue=function(a){this.sa=a.sa;this.ua=a.ua;Ba(this,a[gc]);this.aa=a.aa;this.Hd=a.Hd};Ra(N,function(){return new Js(this.sa,this.aa,!this.Hd,this.ua,this[gc])});N.Zj=function(){var a=this.aa?1:-1;if(this.ua==a){this.ua=-1*a,Ba(this,this[gc]+this.ua*(this.aa?-1:1))}};Pa(N,function(){var a;if(this.Oe){(!this.sa||this.Hd&&0==this[gc])&&e(Jp);a=this.sa;var b=this.aa?-1:1;if(this.ua==b){var c=this.aa?a[fd]:a[Vb];c?this.qc(c):this.qc(a,-1*b)}else{(c=this.aa?a.previousSibling:a[oc])?this.qc(c):this.qc(a[Hd],-1*b)}Ba(this,this[gc]+this.ua*(this.aa?-1:1))}else{this.Oe=i}(a=this.sa)||e(Jp);return a});N.yj=function(){return 1==this.ua};N.splice=function(a){var b=this.sa;this.Zj();this.aa=!this.aa;Js[D].next[G](this);this.aa=!this.aa;for(var c=Ym(arguments[0])?arguments[0]:arguments,d=c[B]-1;0<=d;d--){b[Hd]&&b[Hd][vb](c[d],b[oc])}zp(b)};function Ks(a,b){Js[G](this,a,b,i)}S(Ks,Js);function Ls(a,b,c,d,f){var h;if(a){this.I=a;this.N=b;this.C=c;this.M=d;if(1==a[ib]&&a[Cd]!=Lf){if(a=a[hc],b=a[b]){this.I=b,this.N=0}else{if(a[B]){this.I=a[a[B]-1]}h=i}}if(1==c[ib]){(this.C=c[hc][d])?this.M=0:this.C=c}}Ks[G](this,f?this.C:this.I,f);if(h){try{this.next()}catch(j){j!=Jp&&e(j)}}}S(Ls,Ks);N=Ls[D];N.I=k;N.C=k;N.N=0;N.M=0;N.ma=function(){return this.I};N.La=function(){return this.C};N.oj=function(){return this.Oe&&this.sa==this.C&&(!this.M||!this.yj())};Pa(N,function(){this.oj()&&e(Jp);return Ls.b.next[G](this)});N.ue=function(a){this.I=a.I;this.C=a.C;this.N=a.N;this.M=a.M;this.bg=a.bg;Ls.b.ue[G](this,a)};Ra(N,function(){var a=new Ls(this.I,this.N,this.C,this.M,this.bg);a.ue(this);return a});"ScriptEngine" in O&&"JScript"==O.ScriptEngine()&&(O.ScriptEngineMajorVersion(),O.ScriptEngineMinorVersion(),O.ScriptEngineBuildVersion());function Ms(){}Ms[D].Bg=function(a,b){var c=b&&!a[Za](),d=a.q;try{return c?0<=this.ka(d,0,1)&&0>=this.ka(d,1,0):0<=this.ka(d,0,0)&&0>=this.ka(d,1,1)}catch(f){return T||e(f),l}};Ms[D].Qd=function(){return new Ls(this.ma(),this.Ya(),this.La(),this.ob())};function Ns(a){this.q=a}S(Ns,Ms);function Os(a){var b=kp(a).createRange();if(3==a[ib]){b[Bc](a,0),b[yb](a,a[B])}else{if(Ps(a)){for(var c,d=a;(c=d[Vb])&&Ps(c);){d=c}b[Bc](d,0);for(d=a;(c=d[fd])&&Ps(c);){d=c}b[yb](d,1==d[ib]?d[hc][B]:d[B])}else{c=a[Hd],a=bo(c[hc],a),b[Bc](c,a),b[yb](c,a+1)}}return b}function Qs(a,b,c,d){var f=kp(a).createRange();f[Bc](a,b);f[yb](c,d);return f}N=Ns[D];Ra(N,function(){return new this[Rc](this.q.cloneRange())});N.getContainer=function(){return this.q.commonAncestorContainer};N.ma=function(){return this.q.startContainer};N.Ya=function(){return this.q.startOffset};N.La=function(){return this.q.endContainer};N.ob=function(){return this.q.endOffset};N.ka=function(a,b,c){return this.q.compareBoundaryPoints(1==c?1==b?O.Range.START_TO_START:O.Range.START_TO_END:1==b?O.Range.END_TO_START:O.Range.END_TO_END,a)};N.isCollapsed=function(){return this.q.collapsed};N.select=function(a){this.Td(qp(kp(this.ma())).getSelection(),a)};N.Td=function(a){a.removeAllRanges();a.addRange(this.q)};N.collapse=function(a){this.q[gb](a)};function Rs(a){this.q=a}S(Rs,Ns);Rs[D].Td=function(a,b){var c=b?this.La():this.ma(),d=b?this.ob():this.Ya(),f=b?this.ma():this.La(),h=b?this.Ya():this.ob();a[gb](c,d);(c!=f||d!=h)&&a.extend(f,h)};function Ss(a,b){this.q=a;this.aj=b}S(Ss,Ms);function Ts(a){var b=kp(a)[ad].createTextRange();if(1==a[ib]){b.moveToElementText(a),Ps(a)&&!a[hc][B]&&b[gb](l)}else{for(var c=0,d=a;d=d.previousSibling;){var f=d[ib];if(3==f){c+=d[B]}else{if(1==f){b.moveToElementText(d);break}}}d||b.moveToElementText(a[Hd]);b[gb](!d);c&&b.move(Rh,c);b.moveEnd(Rh,a[B])}return b}function Us(a,b,c,d){var C;var f=a,h=b,j=c,o=d,r=l;1==f[ib]&&(h=f[hc][h],r=!h,f=h||f[fd]||f,h=0);var w=Ts(f);h&&w.move(Rh,h);if(f==j&&h==o){w[gb](i)}else{r&&w[gb](l),r=l,1==j[ib]&&(C=(h=j[hc][o])||j[fd]||j,j=C,o=0,r=!h),f=Ts(j),f[gb](!r),o&&f.moveEnd(Rh,o),w.setEndPoint(Zf,f)}o=new Ss(w,kp(a));o.I=a;o.N=b;o.C=c;o.M=d;return o}N=Ss[D];N.Va=k;N.I=k;N.C=k;N.N=-1;N.M=-1;Ra(N,function(){var a=new Ss(this.q.duplicate(),this.aj);a.Va=this.Va;a.I=this.I;a.C=this.C;return a});N.getContainer=function(){if(!this.Va){var a=this.q.text,b=this.q.duplicate(),c=a[u](/ +$/,J);(c=a[B]-c[B])&&b.moveEnd(Rh,-c);c=b.parentElement();b=b.htmlText[u](/(\r\n|\r|\n)+/g,Sd)[B];if(this[Za]()&&0<b){return this.Va=c}for(;b>c.outerHTML[u](/(\r\n|\r|\n)+/g,Sd)[B];){c=c[Hd]}for(;1==c[hc][B]&&c.innerText==(3==c[Vb][ib]?c[Vb].nodeValue:c[Vb].innerText)&&Ps(c[Vb]);){c=c[Vb]}0==a[B]&&(c=this.Qg(c));this.Va=c}return this.Va};N.Qg=function(a){for(var b=a[hc],c=0,d=b[B];c<d;c++){var f=b[c];if(Ps(f)){var h=Ts(f),j=h.htmlText!=f.outerHTML;if(this[Za]()&&j?0<=this.ka(h,1,1)&&0>=this.ka(h,1,0):this.q.inRange(h)){return this.Qg(f)}}}return a};N.ma=function(){if(!this.I&&(this.I=this.Ec(1),this[Za]())){this.C=this.I}return this.I};N.Ya=function(){if(0>this.N&&(this.N=this.Sg(1),this[Za]())){this.M=this.N}return this.N};N.La=function(){if(this[Za]()){return this.ma()}if(!this.C){this.C=this.Ec(0)}return this.C};N.ob=function(){if(this[Za]()){return this.Ya()}if(0>this.M&&(this.M=this.Sg(0),this[Za]())){this.N=this.M}return this.M};N.ka=function(a,b,c){return this.q.compareEndPoints((1==b?Ng:Yf)+Ug+(1==c?Ng:Yf),a)};N.Ec=function(a,b){var c=b||this.getContainer();if(!c||!c[Vb]){return c}for(var d=1==a,f=0,h=c[hc][B];f<h;f++){var j=d?f:h-f-1,o=c[hc][j],r;try{r=Vs(o)}catch(w){continue}var C=r.q;if(this[Za]()){if(Ps(o)){if(r.Bg(this)){return this.Ec(a,o)}}else{if(0==this.ka(C,1,1)){this.N=this.M=j;break}}}else{if(this.Bg(r)){if(!Ps(o)){d?this.N=j:this.M=j+1;break}return this.Ec(a,o)}if(0>this.ka(C,1,0)&&0<this.ka(C,0,1)){return this.Ec(a,o)}}}return c};N.Aj=function(a,b,c){return this.q.compareEndPoints((1==b?Ng:Yf)+Ug+(1==c?Ng:Yf),Vs(a).q)};N.Sg=function(a,b){var c=1==a,d=b||(c?this.ma():this.La());if(1==d[ib]){for(var d=d[hc],f=d[B],h=c?1:-1,j=c?0:f-1;0<=j&&j<f;j+=h){var o=d[j];if(!Ps(o)&&0==this.Aj(o,a,a)){return c?j:j+1}}return -1==j?0:j}f=this.q.duplicate();h=Ts(d);f.setEndPoint(c?Zf:Pg,h);f=f.text[B];return c?d[B]-f:f};N.isCollapsed=function(){return 0==this.q.compareEndPoints(Og,this.q)};N.select=function(){this.q.select()};N.collapse=function(a){this.q[gb](a);a?(this.C=this.I,this.M=this.N):(this.I=this.C,this.N=this.M)};function Ws(a){this.q=a}S(Ws,Ns);Ws[D].Td=function(a){a[gb](this.ma(),this.Ya());(this.La()!=this.ma()||this.ob()!=this.Ya())&&a.extend(this.La(),this.ob());0==a.rangeCount&&a.addRange(this.q)};function Xs(a){this.q=a}S(Xs,Ns);Xs[D].ka=function(a,b,c){return $o(qf)?Xs.b.ka[G](this,a,b,c):this.q.compareBoundaryPoints(1==c?1==b?O.Range.START_TO_START:O.Range.END_TO_START:1==b?O.Range.START_TO_END:O.Range.END_TO_END,a)};Xs[D].Td=function(a,b){a.removeAllRanges();b?a.setBaseAndExtent(this.La(),this.ob(),this.ma(),this.Ya()):a.setBaseAndExtent(this.ma(),this.Ya(),this.La(),this.ob())};function Vs(a){if(T&&!bp(9)){var b=new Ss(Ts(a),kp(a));if(Ps(a)){for(var c,d=a;(c=d[Vb])&&Ps(c);){d=c}b.I=d;b.N=0;for(d=a;(c=d[fd])&&Ps(c);){d=c}b.C=d;b.M=1==d[ib]?d[hc][B]:d[B];b.Va=a}else{b.I=b.C=b.Va=a[Hd],b.N=bo(b.Va[hc],a),b.M=b.N+1}a=b}else{a=Mo?new Xs(Os(a)):Lo?new Rs(Os(a)):Ko?new Ws(Os(a)):new Ns(Os(a))}return a}function Ps(a){var b;a:if(1!=a[ib]){b=l}else{switch(a[Cd]){case Gf:case Hf:case Jf:case Lf:case Pf:case bg:case gg:case jg:case kg:case ig:case lg:case sg:case zg:case Ag:case tg:case Dg:case Eg:case Jg:case Lg:b=l;break a}b=i}return b||3==a[ib]}function Ys(a,b){a[$b](Bl,b);a.Il=b}function Zs(a,b,c){a[$b](th+b,c)}function $s(a,b,c,d,f){if(!T&&(!Mo||!$o(pf))){return i}if(Fo&&f){return at(a)}if(f&&!d){return l}if(!c&&(17==b||18==b)){return l}if(T&&d&&b==a){return l}switch(a){case 13:return !(T&&bp(9));case 27:return !Mo}return at(a)}function at(a){if(48<=a&&57>=a){return i}if(96<=a&&106>=a){return i}if(65<=a&&90>=a){return i}if(Mo&&0==a){return i}switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return i;default:return l}}function bt(a){this.Pg=a;this.D=[]}S(bt,Rp);var ct=[];N=bt[D];N.i=function(a,b,c,d,f){Q(b)||(ct[0]=b,b=ct);for(var h=0;h<b[B];h++){this.D[s](hq(a,b[h],c||this,d||l,f||this.Pg||this))}return this};N.X=function(a,b,c,d,f){if(Q(b)){for(var h=0;h<b[B];h++){this.X(a,b[h],c,d,f)}}else{a:{c=c||this;f=f||this.Pg||this;d=!!d;if(a=lq(a,b,d)){for(b=0;b<a[B];b++){if(!a[b].Ib&&a[b].kc==c&&a[b][zb]==d&&a[b].td==f){a=a[b];break a}}}a=k}if(a){a=a.key,mq(a),io(this.D,a)}}return this};N.removeAll=function(){co(this.D,mq);Ma(this.D,0)};N.k=function(){bt.b.k[G](this);this[id]()};za(N,function(){e(n("EventHandler.handleEvent not implemented"))});function dt(a,b,c){Sa(this,a);this.handle=b||a;this.lf=c||new Ir(NaN,NaN,NaN,NaN);this.o=kp(a);this.Ca=new bt(this);hq(this.handle,[om,Gk],this.ag,l,this)}S(dt,sq);var et=T||Lo&&$o("1.9.3");N=dt[D];Ha(N,0);Ia(N,0);va(N,0);wa(N,0);N.sg=0;N.tg=0;N.ic=0;N.jc=0;N.vb=i;N.kb=l;N.qg=0;N.Ji=0;N.Ui=l;N.P=function(){return this.Ca};N.ig=function(a){this.lf=a||new Ir(NaN,NaN,NaN,NaN)};N.k=function(){dt.b.k[G](this);kq(this.handle,[om,Gk],this.ag,l,this);this.Ca.Q();delete this[ed];delete this.handle;delete this.Ca};N.ag=function(a){var b=a[z]==Gk;if(this.vb&&!this.kb&&(!b||a.ne())){this.Be(a);if(0==this.qg){if(this.rg(a),this.kb){a[ub]()}else{return}}else{a[ub]()}this.Ki();Ha(this,this.sg=a[sc]);Ia(this,this.tg=a[tc]);va(this,a[Eb]);wa(this,a[Fb]);this.ic=this[ed].offsetLeft;this.jc=this[ed][Jd];this.Ie=ip(this.o).ac();this.Ji=ln()}else{this[x](xi)}};N.Ki=function(){var a=this.o,b=a[uc],c=!et;this.Ca.i(a,[nm,Hk],this.Ti,c);this.Ca.i(a,[mm,Kk],this.sd,c);et?(b.setCapture(l),this.Ca.i(b,vk,this.sd)):this.Ca.i(qp(a),Ah,this.sd);T&&this.Ui&&this.Ca.i(a,vi,Zp);this.Wi&&this.Ca.i(this.Wi,Fl,this.Vi,c)};N.rg=function(a){if(this[x](new ft(Wl,this,a[sc],a[tc],a))!==l){this.kb=i}};N.sd=function(a,b){this.Ca[id]();et&&this.o.releaseCapture();var c=this.zg(this.ic),d=this.Ag(this.jc);if(this.kb){this.Be(a),this.kb=l,this[x](new ft(Ai,this,a[sc],a[tc],a,c,d,b||a[z]==lm))}else{this[x](xi)}(a[z]==mm||a[z]==lm)&&a[ub]()};N.Be=function(a){var b=a[z];b==om||b==nm?a.Pb(a.Y[wb][0],a[Cb]):(b==mm||b==lm)&&a.Pb(a.Y.changedTouches[0],a[Cb])};N.Ti=function(a){if(this.vb){this.Be(a);var b=a[sc]-this[sc],c=a[tc]-this[tc];Ha(this,a[sc]);Ia(this,a[tc]);va(this,a[Eb]);wa(this,a[Fb]);if(!this.kb){var d=this.sg-this[sc],f=this.tg-this[tc];if(d*d+f*f>this.qg&&(this.rg(a),!this.kb)){this.sd(a);return}}c=this.Tg(b,c);b=c.x;c=c.y;this.kb&&this[x](new ft(wh,this,a[sc],a[tc],a,b,c))!==l&&(this.Ug(a,b,c,l),a[ub]())}};N.Tg=function(a,b){var c=ip(this.o).ac(),a=a+(c.x-this.Ie.x),b=b+(c.y-this.Ie.y);this.Ie=c;this.ic+=a;this.jc+=b;var c=this.zg(this.ic),d=this.Ag(this.jc);return new Ln(c,d)};N.Vi=function(a){var b=this.Tg(0,0);Ha(a,this[sc]);Ia(a,this[tc]);this.Ug(a,b.x,b.y,i)};N.Ug=function(a,b,c){this.Tk(b,c);this[x](new ft(ui,this,a[sc],a[tc],a,b,c))};N.zg=function(a){var b=this.lf,c=!la(b[y])?b[y]:k,b=!la(b[t])?b[t]:0;return q.min(c!=k?c+b:ea,q.max(c!=k?c:-ea,a))};N.Ag=function(a){var b=this.lf,c=!la(b.top)?b.top:k,b=!la(b[I])?b[I]:0;return q.min(c!=k?c+b:ea,q.max(c!=k?c:-ea,a))};N.Tk=function(a,b){ua(this[ed][F],a+pl);this[ed][F].top=b+pl};function ft(a,b,c,d,f,h,j,o){Yp[G](this,a);Ha(this,c);Ia(this,d);this.kl=f;ua(this,Wm(h)?h:b.ic);this.top=Wm(j)?j:b.jc;this.ml=b;this.ll=!!o}S(ft,Yp);function gt(a){this.j=a;a=T?Ji:Ah;this.ni=hq(this.j,T?Ii:Hi,this,!T);this.oi=hq(this.j,a,this,!T)}S(gt,sq);za(gt[D],function(a){var b=new $p(a.Y);Ca(b,a[z]==Ii||a[z]==Hi?Ii:Ji);try{this[x](b)}finally{b.Q()}});gt[D].k=function(){gt.b.k[G](this);mq(this.ni);mq(this.oi);delete this.j};function ht(){}Um(ht);ht[D].$k=0;ht[D].zk=function(){return uf+(this.$k++)[yc](36)};ht.qa();function it(a){this.fb=a||ip();this.Hc=jt}S(it,sq);it[D].Ak=ht.qa();var jt=k;function kt(a,b){switch(a){case 1:return b?pi:zi;case 2:return b?Qj:vm;case 4:return b?nh:ji;case 8:return b?Gl:wm;case 16:return b?Th:um;case 32:return b?Hi:Ah;case 64:return b?Xk:Yh}e(n("Invalid component state"))}N=it[D];N.Ad=k;N.r=l;N.j=k;N.Hc=k;N.je=k;N.Aa=k;N.U=k;N.Na=k;N.Yh=l;N.Vb=function(){return this.Ad||(this.Ad=this.Ak.zk())};N.a=function(){return this.j};N.dg=function(a){this.j=a};N.P=function(){return this.bc||(this.bc=new bt(this))};N.$d=function(a){this==a&&e(n(Wg));a&&this.Aa&&this.Ad&&this.Aa.ce(this.Ad)&&this.Aa!=a&&e(n(Wg));this.Aa=a;it.b.Qe[G](this,a)};N.getParent=function(){return this.Aa};N.Qe=function(a){this.Aa&&this.Aa!=a&&e(n("Method not supported"));it.b.Qe[G](this,a)};N.t=function(){return this.fb};N.d=function(){this.j=this.fb[Pb](ti)};N.ub=function(a){this.Sf(a)};N.Sf=function(a,b){this.r&&e(n(Tf));this.j||this.d();a?a[vb](this.j,b||k):this.fb.o[ad][Ya](this.j);(!this.Aa||this.Aa.r)&&this.K()};N.K=function(){this.r=i;this.rb(function(a){!a.r&&a.a()&&a.K()})};N.ba=function(){this.rb(function(a){a.r&&a.ba()});this.bc&&this.bc[id]();this.r=l};N.k=function(){it.b.k[G](this);this.r&&this.ba();this.bc&&(this.bc.Q(),delete this.bc);this.rb(function(a){a.Q()});!this.Yh&&this.j&&zp(this.j);this.Aa=this.je=this.j=this.Na=this.U=k};N.fl=function(a){this.je=a};N.Dd=function(a,b){this.Cc(a,this.ab(),b)};N.Cc=function(a,b,c){a.r&&(c||!this.r)&&e(n(Tf));(0>b||b>this.ab())&&e(n("Child component index out of bounds"));if(!this.Na||!this.U){this.Na={},this.U=[]}if(a[ab]()==this){this.Na[a.Vb()]=a,io(this.U,a)}else{var d=this.Na,f=a.Vb();f in d&&e(n('The object already contains the key "'+f+Xd));d[f]=a}a.$d(this);mo(this.U,b,0,a);a.r&&this.r&&a[ab]()==this?(c=this.S(),c[vb](a.a(),c[hc][b]||k)):c?(this.j||this.d(),b=this.bb(b+1),a.Sf(this.S(),b?b.j:k)):this.r&&!a.r&&a.j&&a.K()};N.S=function(){return this.j};N.le=function(){if(this.Hc==k){this.Hc=Sr(this.r?this.j:this.fb.o[ad])}return this.Hc};N.dc=function(a){this.r&&e(n(Tf));this.Hc=a};N.Pk=function(){return !!this.U&&0!=this.U[B]};N.ab=function(){return this.U?this.U[B]:0};N.ce=function(a){return this.Na&&a?(a in this.Na?this.Na[a]:g)||k:k};N.bb=function(a){return this.U?this.U[a]||k:k};N.rb=function(a,b){this.U&&co(this.U,a,b)};N.Vc=function(a){return this.U&&a?bo(this.U,a):-1};N.removeChild=function(a,b){if(a){var c=R(a)?a:a.Vb(),a=this.ce(c);c&&a&&(vo(this.Na,c),io(this.U,a),b&&(a.ba(),a.j&&zp(a.j)),a.$d(k))}a||e(n("Child is not in parent component"));return a};N.Qk=function(a,b){return this[bd](this.bb(a),b)};N.vg=function(a){for(;this.Pk();){this.Qk(0,a)}};function lt(a,b){it[G](this,b);this.pi=!!a}S(lt,it);N=lt[D];N.ae=k;N.n=l;N.ca=k;N.V=k;N.ya=k;N.A=function(){return xj};N.Yc=function(){return this.ca};N.d=function(){lt.b.d[G](this);var a=this.a();gp(a,this.A());Gp(a,i);Yr(a,l);this.ei();this.di()};N.ei=function(){if(this.pi&&!this.V){this.V=this.t().d(bk,{frameborder:0,style:Eh,src:ik}),Oa(this.V,this.A()+xe),Yr(this.V,l),Xr(this.V,0)}if(!this.ca){this.ca=this.t().d(ti,this.A()+xe),Yr(this.ca,l)}};N.di=function(){if(!this.ya){this.ya=this.t()[Pb](Ul),Yr(this.ya,l),Gp(this.ya,i),this.ya[F].position=lh}};N.Xh=function(){this.V&&yp(this.V,this.a());yp(this.ca,this.a())};N.K=function(){this.Xh();lt.b.K[G](this);var a=this.a();a[Hd]&&a[Hd][vb](this.ya,a[oc]);this.ae=new gt(this.t().o);this.P().i(this.ae,Ii,this.Wh)};N.ba=function(){this.n&&this.F(l);Tp(this.ae);lt.b.ba[G](this);zp(this.V);zp(this.ca);zp(this.ya)};N.F=function(a){a!=this.n&&(a?this.Vj():this.Uj())};N.Vj=function(){if(this[x](yh)){this.ye(),this.vc(),this.P().i(this.t().ed(),yl,this.ye),this.hg(i),this[Ob](),this.n=i,this[x](Ql)}};N.Uj=function(){if(this[x](xh)){this.P().X(this.t().ed(),yl,this.ye),this.hg(l),this.n=l,this[x](Pj)}};N.hg=function(a){this.V&&Yr(this.V,a);this.ca&&Yr(this.ca,a);Yr(this.a(),a);Yr(this.ya,a)};N.focus=function(){this.th()};N.ye=function(){this.V&&Yr(this.V,l);this.ca&&Yr(this.ca,l);var a=this.t().o,b=op(qp(a)||ba||ba),c=q.max(a[ad].scrollWidth,b[t]),a=q.max(a[ad][Sb],b[I]);this.V&&(Yr(this.V,i),Tr(this.V,c,a));this.ca&&(Yr(this.ca,i),Tr(this.ca,c,a))};N.vc=function(){var a=this.t().o,b=qp(a)||ba;if(Lr(this.a())==Gi){var c=a=0}else{c=this.t().ac(),a=c.x,c=c.y}var d=Ur(this.a()),b=op(b||ba),a=q.max(a+b[t]/2-d[t]/2,0),c=q.max(c+b[I]/2-d[I]/2,0);Mr(this.a(),a,c);Mr(this.ya,a,c)};N.Wh=function(a){if(a[ed]==this.ya){a=this.th,bn(a)?this&&(a=jn(a,this)):a&&typeof a[bc]==Mi?a=jn(a[bc],a):e(n(pg)),uq[Lc](a,0)}};N.th=function(){try{T&&this.t().o[ad][Ob](),this.a()[Ob]()}catch(a){}};function mt(a,b,c){lt[G](this,b,c);this.za=a||Ek;this.cb=nt()}S(mt,lt);N=mt[D];N.xi=i;N.Mf=i;N.Nf=i;N.$h=i;N.be=0.5;N.Vh=J;N.na=J;N.ib=k;N.fi=l;N.Zb=k;N.Pc=k;N.Pf=k;N.Oc=k;N.tc=k;N.Ma=k;N.A=function(){return this.za};Fa(N,function(a){this.na=a;this.tc&&qa(this.tc,a)});N.zd=function(){this.a()||this.ub()};N.S=function(){this.zd();return this.tc};N.$i=function(){this.zd();return this.Pc};N.Zi=function(){this.zd();return this.Ma};N.Yc=function(){this.zd();return mt.b.Yc[G](this)};N.Uh=function(a){this.be=a;this.a()&&(a=this.Yc())&&Xr(a,this.be)};N.bi=function(a){this.Nf=a;if(this.r){var b=this.t(),c=this.Yc(),d=this.V;a?(d&&b.se(d,this.a()),b.se(c,this.a())):(b.removeNode(d),b.removeNode(c))}};N.qi=function(){return new dt(this.a(),this.Zb)};N.Qf=function(a){if(this.a()){var b=this.Zb,c=this.za+Se;a?gp(b,c):hp(b,c)}if(a&&!this.ib){this.ib=this.qi(),gp(this.Zb,this.za+Se),hq(this.ib,Wl,this.ri,l,this)}else{if(!a&&this.ib){this.ib.Q(),this.ib=k}}};N.d=function(){mt.b.d[G](this);var a=this.a(),b=this.t();this.Zb=b.d(ti,{className:this.za+Qe,id:this.Vb()},this.Pc=b.d(Ul,this.za+Te,this.Vh),this.Oc=b.d(Ul,this.za+Re));wp(a,this.Zb,this.tc=b.d(ti,this.za+Ce),this.Ma=b.d(ti,this.za+ye));this.Pf=this.Zb.id;Ys(a,mi);Zs(a,qk,this.Pf||J);this.na&&qa(this.tc,this.na);Yr(this.Oc,this.Mf);this.cb&&this.cb.Th(this.Ma);Yr(this.Ma,!!this.cb);this.Uh(this.be)};N.K=function(){mt.b.K[G](this);this.P().i(this,[Ql,Pj],this.ci);this.Qf(this.$h);this.P().i(this.Oc,Xh,this.ai);Ys(this.a(),mi);this.Pc.id!==J&&Zs(this.a(),qk,this.Pc.id);this.Nf||this.bi(l)};N.ba=function(){this.n&&this.F(l);this.Qf(l);mt.b.ba[G](this)};N.F=function(a){a!=this.n&&(this.r||this.ub(),mt.b.F[G](this,a))};N.ci=function(a){a[ed]==this&&(this.n?(this.P().i(this.a(),mk,this.cd).i(this.a(),ok,this.cd),this[x](qh),this.P().i(this.Ma,Xh,this.Xf)):(this.P().X(this.a(),mk,this.cd).X(this.a(),ok,this.cd).X(this.Ma,Xh,this.Xf),this[x](ph),this.fi&&this.Q()))};N.focus=function(){mt.b[Ob][G](this);if(this.cb){var a=this.cb.Sc;if(a){for(var b=this.t().o,c=this.Ma[rc](Oh),d=0,f;f=c[d];d++){if(f[nc]==a){try{if(Mo||Ko){var h=b[Pb](gk);h[F].cssText=ll;this.a()[Ya](h);h[Ob]();this.a()[bd](h)}f[Ob]()}catch(j){}break}}}}};N.ri=function(){var a=this.t().o,b=op(qp(a)||ba||ba),c=q.max(a[ad].scrollWidth,b[t]),a=q.max(a[ad][Sb],b[I]),d=Ur(this.a());Lr(this.a())==Gi?this.ib.ig(new Ir(0,0,q.max(0,b[t]-d[t]),q.max(0,b[I]-d[I]))):this.ib.ig(new Ir(0,0,c-d[t],a-d[I]))};N.ai=function(){if(this.Mf){var a=this.cb,b=a&&a.De;b?(a=a.get(b),this[x](new ot(b,a))&&this.F(l)):this.F(l)}};N.k=function(){this.Ma=this.Oc=k;mt.b.k[G](this)};N.Xf=function(a){if((a=this.Wj(a[ed]))&&!a[Wc]){var a=a[nc],b=this.cb.get(a);this[x](new ot(a,b))&&this.F(l)}};N.Wj=function(a){for(;a!=k&&a!=this.Ma;){if(a[Cd]==Mf){return a}a=a[Hd]}return k};N.cd=function(a){var b=l,c=l,d=this.cb,f=a[ed];if(a[z]==mk){if(this.xi&&27==a[Tb]){var h=d&&d.De,f=f[Cd]==Kg&&!f[Wc];h&&!f?(c=i,b=d.get(h),b=this[x](new ot(h,b))):f||(b=i)}else{9==a[Tb]&&a[Bd]&&f==this.a()&&(c=i)}}else{if(13==a[Tb]){if(f[Cd]==Mf){h=f[nc]}else{if(d){var j=d.Sc,o=j&&d.yi(j),f=(f[Cd]==Rg||f[Cd]==Kg)&&!f[Wc];o&&!o[Wc]&&!f&&(h=j)}}h&&d&&(c=i,b=this[x](new ot(h,J+d.get(h))))}}if(b||c){a[Sc](),a[ub]()}b&&this.F(l)};function ot(a,b){Ca(this,ni);this.key=a;this.caption=b}S(ot,Yp);function pt(a){this.fb=a||ip();Np[G](this)}S(pt,Np);N=pt[D];N.za="goog-buttonset";N.Sc=k;N.j=k;N.De=k;N.set=function(a,b,c,d){Np[D].set[G](this,a,b);if(c){this.Sc=a}if(d){this.De=a}return this};N.va=function(a,b,c){return this.set(a.key,a.caption,b,c)};N.Th=function(a){this.j=a;this.ub()};N.ub=function(){if(this.j){qa(this.j,J);var a=ip(this.j);Mp(this,function(b,c){var d=a.d(Oh,{name:c},b);c==this.Sc&&Oa(d,this.za+De);this.j[Ya](d)},this)}};N.a=function(){return this.j};N.t=function(){return this.fb};N.yi=function(a){for(var b=this.Vk(),c=0,d;d=b[c];c++){if(d[nc]==a||d.id==a){return d}}return k};N.Vk=function(){return this.j[rc](Mf)};var qt={key:"ok",caption:"OK"},rt={key:"cancel",caption:"Cancel"},st={key:"yes",caption:"Yes"},tt={key:"no",caption:"No"},ut={key:"save",caption:"Save"},vt={key:"continue",caption:"Continue"};function nt(){return(new pt).va(qt,i).va(rt,l,i)}"undefined"!=typeof ja&&((new pt).va(qt,i,i),nt(),(new pt).va(st,i).va(tt,l,i),(new pt).va(st).va(tt,i).va(rt,l,i),(new pt).va(vt).va(ut).va(rt,i,i));function wt(a,b){a&&this.Tf(a,b)}S(wt,sq);N=wt[D];N.j=k;N.Fd=k;N.cf=k;N.Gd=k;N.mb=-1;N.lb=-1;var xt={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},yt={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},zt={61:187,59:186},At=T||Mo&&$o(pf);N=wt[D];N.Bj=function(a){if(Mo&&(17==this.mb&&!a[Oc]||18==this.mb&&!a[zc])){this.lb=this.mb=-1}At&&!$s(a[Tb],this.mb,a[Bd],a[Oc],a[zc])?this[bc](a):this.lb=Lo&&a[Tb] in zt?zt[a[Tb]]:a[Tb]};N.Cj=function(){this.lb=this.mb=-1};za(N,function(a){var b=a.Y,c,d;T&&a[z]==ok?(c=this.lb,d=13!=c&&27!=c?b[Tb]:0):Mo&&a[z]==ok?(c=this.lb,d=0<=b[Lb]&&63232>b[Lb]&&at(c)?b[Lb]:0):Ko?(c=this.lb,d=at(c)?b[Tb]:0):(c=b[Tb]||this.lb,d=b[Lb]||0,Fo&&63==d&&!c&&(c=191));var f=c,h=b.keyIdentifier;c?63232<=c&&c in xt?f=xt[c]:25==c&&a[Bd]&&(f=9):h&&h in yt&&(f=yt[h]);a=f==this.mb;this.mb=f;b=new Bt(f,d,a,b);try{this[x](b)}finally{b.Q()}});N.a=function(){return this.j};N.Tf=function(a,b){this.Gd&&this.detach();this.j=a;this.Fd=hq(this.j,ok,this,b);this.cf=hq(this.j,mk,this.Bj,b,this);this.Gd=hq(this.j,pk,this.Cj,b,this)};N.detach=function(){if(this.Fd){mq(this.Fd),mq(this.cf),mq(this.Gd),this.Gd=this.cf=this.Fd=k}this.j=k;this.lb=this.mb=-1};N.k=function(){wt.b.k[G](this);this.detach()};function Bt(a,b,c,d){d&&this.Pb(d,g);Ca(this,lk);ya(this,a);this.charCode=b;this.repeat=c}S(Bt,$p);function Ct(){}var Dt;Um(Ct);N=Ct[D];N.nb=function(){};N.d=function(a){var b=a.t().d(ti,this.hc(a)[Ld](Sd),a.na);this.Je(a,b);return b};N.S=function(a){return a};N.xd=function(a,b,c){if(a=a.a?a.a():a){if(T&&!$o(sf)){var d=this.kg(fp(a),b);d[s](b);kn(c?gp:hp,a)[Ad](k,d)}else{c?gp(a,b):hp(a,b)}}};N.Xg=function(a,b,c){this.xd(a,b,c)};N.Wb=function(a){a.le()&&this.dc(a.a(),i);a[gd]()&&this.Ab(a,a.n)};N.li=function(a,b){var c=b||this.nb();c&&Ys(a,c)};N.Je=function(a,b){a[gd]()||this.da(b,1,i);a.Wg()&&this.da(b,8,i);a.T(16)&&this.da(b,16,a.ke());a.T(64)&&this.da(b,64,a.cc())};N.$c=function(a,b){$r(a,!b,!T&&!Ko)};N.dc=function(a,b){this.xd(a,this.oc()+Ne,b)};N.sb=function(a){var b;return a.T(32)&&(b=a.R())?Fp(b):l};N.Ab=function(a,b){var c;if(a.T(32)&&(c=a.R())){if(!b&&a.Yg()){try{c.blur()}catch(d){}a.Yg()&&a.yb(k)}Fp(c)!=b&&Gp(c,b)}};N.F=function(a,b){Yr(a,b)};La(N,function(a,b,c){var d=a.a();if(d){var f=this.kd(b);f&&this.xd(a,f,c);this.da(d,b,c)}});N.da=function(a,b,c){Dt||(Dt={1:qi,8:Hl,16:Uh,64:Di});(b=Dt[b])&&Zs(a,b,c)};Fa(N,function(a,b){var c=this.S(a);if(c&&(xp(c),b)){if(R(b)){Bp(c,b)}else{var d=function(a){if(a){var b=kp(c);c[Ya](R(a)?b[qb](a):a)}};Q(b)?co(b,d):Ym(b)&&!(Pk in b)?co(ko(b),d):d(b)}}});N.R=function(a){return a.a()};N.A=function(){return nj};N.oc=function(){return this.A()};N.hc=function(a){var b=this.A(),c=[b],d=this.oc();d!=b&&c[s](d);b=this.Fj(a[od]());c[s][Ad](c,b);(a=a.Ea)&&c[s][Ad](c,a);T&&!$o(sf)&&c[s][Ad](c,this.kg(c));return c};N.kg=function(a,b){var c=[];b&&(a=a[ob]([b]));co([],function(d){go(d,kn(ho,a))&&(!b||ho(d,b))&&c[s](d[Ld](hh))});return c};N.Fj=function(a){for(var b=[];a;){var c=a&-a;b[s](this.kd(c));a&=~c}return b};N.kd=function(a){this.uh||this.Hk();return this.uh[a]};N.Hk=function(){var a=this.oc();this.uh={1:a+Ee,2:a+Je,4:a+we,8:a+Pe,16:a+Be,32:a+Ge,64:a+Le}};function Et(a,b){a||e(n("Invalid class name "+a));bn(b)||e(n("Invalid decorator function "+b))}var Ft={};function Gt(a,b,c){it[G](this,c);if(!b){for(var b=this[Rc],d;b;){d=cn(b);if(d=Ft[d]){break}b=b.b?b.b[Rc]:k}b=d?bn(d.qa)?d.qa():new d:k}this.l=b;this.Zf(a)}S(Gt,it);N=Gt[D];N.na=k;N.Sa=0;N.uc=39;N.Sd=255;N.Ld=0;N.n=i;N.Ea=k;N.de=i;N.ee=l;N.fg=k;N.ie=function(a){this.r&&a!=this.de&&this.Rf(a);this.de=a};N.R=function(){return this.l.R(this)};N.Wc=function(){return this.ia||(this.ia=new wt)};N.Mk=function(a){if(a){this.Ea?ho(this.Ea,a)||this.Ea[s](a):this.Ea=[a],this.l.Xg(this,a,i)}};N.Rk=function(a){if(a&&this.Ea){io(this.Ea,a);if(0==this.Ea[B]){this.Ea=k}this.l.Xg(this,a,l)}};N.xd=function(a,b){b?this.Mk(a):this.Rk(a)};N.d=function(){var a=this.l.d(this);this.dg(a);this.l.li(a,this.fg);this.ee||this.l.$c(a,l);this.n||this.l.F(a,l)};N.Hh=function(a){this.fg=a};N.S=function(){return this.l.S(this.a())};N.K=function(){Gt.b.K[G](this);this.l.Wb(this);if(this.uc&-2&&(this.de&&this.Rf(i),this.T(32))){var a=this.R();if(a){var b=this.Wc();b.Tf(a);this.P().i(b,lk,this.wa).i(a,Hi,this.Xc).i(a,Ah,this.yb)}}};N.Rf=function(a){var b=this.P(),c=this.a();a?(b.i(c,Jk,this.qe).i(c,Gk,this.tb).i(c,Kk,this.zb).i(c,Ik,this.pe),T&&b.i(c,ii,this.$f)):(b.X(c,Jk,this.qe).X(c,Gk,this.tb).X(c,Kk,this.zb).X(c,Ik,this.pe),T&&b.X(c,ii,this.$f))};N.ba=function(){Gt.b.ba[G](this);this.ia&&this.ia.detach();this.n&&this[gd]()&&this.l.Ab(this,l)};N.k=function(){Gt.b.k[G](this);this.ia&&(this.ia.Q(),delete this.ia);delete this.l;this.Ea=this.na=k};Fa(N,function(a){this.l[mc](this.a(),a);this.Zf(a)});N.Zf=function(a){this.na=a};N.wc=function(){var a=this.na;if(!a){return J}if(!R(a)){if(Q(a)){a=fo(a,Hp)[Ld](J)}else{if(ep&&fk in a){a=a.innerText[u](/(\r\n|\r|\n)/g,Qd)}else{var b=[];Ip(a,b,i);a=b[Ld](J)}a=a[u](/ \xAD /g,Sd)[u](/\xAD/g,J);a=a[u](/\u200B/g,J);ep||(a=a[u](/ +/g,Sd));a!=Sd&&(a=a[u](/^\s*/,J))}}return Bn(a)};N.dc=function(a){Gt.b.dc[G](this,a);var b=this.a();b&&this.l.dc(b,a)};N.$c=function(a){this.ee=a;var b=this.a();b&&this.l.$c(b,a)};N.F=function(a,b){if(b||this.n!=a&&this[x](a?Ql:Pj)){var c=this.a();c&&this.l.F(c,a);this[gd]()&&this.l.Ab(this,a);this.n=a;return i}return l};N.isEnabled=function(){return !this.oa(1)};N.xa=function(a){this.sc(2,a)&&this[wc](2,a)};N.Da=function(){return this.oa(4)};N.setActive=function(a){this.sc(4,a)&&this[wc](4,a)};N.Wg=function(){return this.oa(8)};N.gf=function(a){this.sc(8,a)&&this[wc](8,a)};N.ke=function(){return this.oa(16)};N.zj=function(a){this.sc(16,a)&&this[wc](16,a)};N.Yg=function(){return this.oa(32)};N.ph=function(a){this.sc(32,a)&&this[wc](32,a)};N.cc=function(){return this.oa(64)};N.H=function(a){this.sc(64,a)&&this[wc](64,a)};N.getState=function(){return this.Sa};N.oa=function(a){return !!(this.Sa&a)};La(N,function(a,b){if(this.T(a)&&b!=this.oa(a)){this.l[wc](this,a,b),this.Sa=b?this.Sa|a:this.Sa&~a}});N.jh=function(a){this.Sa=a};N.T=function(a){return !!(this.uc&a)};N.pa=function(a,b){this.r&&this.oa(a)&&!b&&e(n(Tf));!b&&this.oa(a)&&this[wc](a,l);this.uc=b?this.uc|a:this.uc&~a};N.ea=function(a){return !!(this.Sd&a)&&this.T(a)};N.nk=function(a,b){this.Sd=b?this.Sd|a:this.Sd&~a};N.gg=function(a,b){this.Ld=b?this.Ld|a:this.Ld&~a};N.sc=function(a,b){return this.T(a)&&this.oa(a)!=b&&(!(this.Ld&a)||this[x](kt(a,b)))&&!this.Rc};N.qe=function(a){(!a[eb]||!Ap(this.a(),a[eb]))&&this[x](Bi)&&this[gd]()&&this.ea(2)&&this.xa(i)};N.pe=function(a){if((!a[eb]||!Ap(this.a(),a[eb]))&&this[x](rk)){this.ea(4)&&this[qc](l),this.ea(2)&&this.xa(l)}};N.tb=function(a){this[gd]()&&(this.ea(2)&&this.xa(i),a.ne()&&(this.ea(4)&&this[qc](i),this.l.sb(this)&&this.R()[Ob]()));!this.ee&&a.ne()&&a[ub]()};N.zb=function(a){this[gd]()&&(this.ea(2)&&this.xa(i),this.Da()&&this.Bb(a)&&this.ea(4)&&this[qc](l))};N.$f=function(a){this[gd]()&&this.Bb(a)};N.Bb=function(a){this.ea(16)&&this.zj(!this.ke());this.ea(8)&&this.gf(i);this.ea(64)&&this.H(!this.cc());var b=new Yp(mh,this);if(a){b.altKey=a[zc],b.ctrlKey=a[Oc],b.metaKey=a[xb],b.shiftKey=a[Bd],b.Ze=a.Ze}return this[x](b)};N.Xc=function(){this.ea(32)&&this.ph(i)};N.yb=function(){this.ea(4)&&this[qc](l);this.ea(32)&&this.ph(l)};N.wa=function(a){return this.n&&this[gd]()&&this.Ba(a)?(a[ub](),a[Sc](),i):l};N.Ba=function(a){return 13==a[Tb]&&this.Bb(a)};bn(Gt)||e(n("Invalid component class "+Gt));bn(Ct)||e(n("Invalid renderer class "+Ct));var Ht=cn(Gt);Ft[Ht]=Ct;Et(nj,function(){return new Gt(k)});function It(){this.wh=[]}S(It,Ct);Um(It);N=It[D];N.fd=function(a){var b=this.wh[a];if(!b){switch(a){case 0:b=this.oc()+He;break;case 1:b=this.oc()+Ae;break;case 2:b=this.oc()+Ce}this.wh[a]=b}return b};N.nb=function(){return Bk};N.d=function(a){var b=a.t().d(ti,this.hc(a)[Ld](Sd),this.zi(a.na,a.t()));this.Ai(a,b,a.T(8)||a.T(16));return b};N.S=function(a){return a&&a[Vb]};Fa(N,function(a,b){var c=this.S(a),d=this.re(a)?c[Vb]:k;It.b[mc][G](this,a,b);d&&!this.re(a)&&c[vb](d,c[Vb]||k)});N.zi=function(a,b){var c=this.fd(2);return b.d(ti,c,a)};N.re=function(a){if(a=this.S(a)){var a=a[Vb],b=this.fd(1);return !!a&&!!a.className&&-1!=a.className[v](b)}return l};N.Ai=function(a,b,c){if(c!=this.re(b)){if(c?gp(b,yj):hp(b,yj),b=this.S(b),c){c=this.fd(1),b[vb](a.t().d(ti,c),b[Vb]||k)}else{b[bd](b[Vb])}}};N.kd=function(a){switch(a){case 2:return this.fd(0);case 16:case 8:return zj;default:return It.b.kd[G](this,a)}};N.A=function(){return tj};function Jt(a,b,c,d){Gt[G](this,a,d||It.qa(),c);this[Ic](b)}S(Jt,Gt);N=Jt[D];Ga(N,function(){var a=this.je;return a!=k?a:this.wc()});Na(N,function(a){this.fl(a)});N.wc=function(){var a=this.na;return Q(a)?(a=fo(a,function(a){var c=fp(a);return ho(c,uj)||ho(c,vj)?J:Hp(a)})[Ld](J),Bn(a)):Jt.b.wc[G](this)};N.zb=function(a){var b=this[ab]();if(b){var c=b.eg;b.eg=k;if(b=c&&an(a[sc])){b=new Ln(a[sc],a[tc]),b=c==b?i:!c||!b?l:c.x==b.x&&c.y==b.y}if(b){return}}Jt.b.zb[G](this,a)};N.Ba=function(a){return a[Tb]==this.jg&&this.Bb(a)?i:Jt.b.Ba[G](this,a)};N.Hi=function(){return this.jg};Et(tj,function(){return new Jt(k)});function Kt(a,b,c,d,f,h,j,o){var r,w=c.offsetParent;if(w){var C=w[Cd]==hg||w[Cd]==Kf;if(!C||Lr(w)!=Yl){r=Rr(w),C||(r=Mn(r,new Ln(w[qd],w[xc])))}}w=Wr(a);(C=Qr(a))&&w.Ng(new Ir(C[y],C.top,C[Pd]-C[y],C[ud]-C.top));var C=ip(a),L=ip(c);if(C.o!=L.o){var ta=C.o[ad],L=L.ed(),ia=new Ln(0,0),db=qp(kp(ta)),Da=ta;do{var Ja;if(db==L){Ja=Rr(Da)}else{var ma=Da;Ja=new Ln;if(1==ma[ib]){if(ma[$a]){ma=Or(ma),Ja.x=ma[y],Ja.y=ma.top}else{var ra=ip(ma).ac(),ma=Rr(ma);Ja.x=ma.x-ra.x;Ja.y=ma.y-ra.y}}else{var ra=bn(ma.sj),Aa=ma;ma[wb]?Aa=ma[wb][0]:ra&&ma.Y[wb]&&(Aa=ma.Y[wb][0]);Ja.x=Aa[sc];Ja.y=Aa[tc]}}ia.x+=Ja.x;ia.y+=Ja.y}while(db&&db!=L&&(Da=db.frameElement)&&(db=db.parent));ta=Mn(ia,Rr(ta));T&&!C.ff()&&(ta=Mn(ta,C.ac()));ua(w,w[y]+ta.x);w.top+=ta.y}a=(b&4&&Sr(a)?b^2:b)&-5;b=new Ln(a&2?w[y]+w[t]:w[y],a&1?w.top+w[I]:w.top);r&&(b=Mn(b,r));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var H;if(j&&(H=Qr(c))&&r){H.top-=r.y,Xa(H,H[Pd]-r.x),Ta(H,H[ud]-r.y),ua(H,H[y]-r.x)}a:{r=b[cd]();f=0;a=(d&4&&Sr(c)?d^2:d)&-5;d=Ur(c);o=o?o[cd]():d[cd]();if(h||0!=a){a&2?r.x-=o[t]+(h?h[Pd]:0):h&&(r.x+=h[y]),a&1?r.y-=o[I]+(h?h[ud]:0):h&&(r.y+=h.top)}if(j){if(H){h=r;f=0;if(65==(j&65)&&(h.x<H[y]||h.x>=H[Pd])){j&=-2}if(132==(j&132)&&(h.y<H.top||h.y>=H[ud])){j&=-5}if(h.x<H[y]&&j&1){h.x=H[y],f|=1}h.x<H[y]&&h.x+o[t]>H[Pd]&&j&16&&(pa(o,q.max(o[t]-(h.x+o[t]-H[Pd]),0)),f|=4);if(h.x+o[t]>H[Pd]&&j&1){h.x=q.max(H[Pd]-o[t],H[y]),f|=1}j&2&&(f|=(h.x<H[y]?16:0)|(h.x+o[t]>H[Pd]?32:0));if(h.y<H.top&&j&4){h.y=H.top,f|=2}h.y>=H.top&&h.y+o[I]>H[ud]&&j&32&&(Wa(o,q.max(o[I]-(h.y+o[I]-H[ud]),0)),f|=8);if(h.y+o[I]>H[ud]&&j&4){h.y=q.max(H[ud]-o[I],H.top),f|=2}j&8&&(f|=(h.y<H.top?64:0)|(h.y+o[I]>H[ud]?128:0));j=f}else{j=256}f=j;if(f&496){c=f;break a}}Mr(c,r);if(!(d==o||(!d||!o?0:d[t]==o[t]&&d[I]==o[I]))){h=ip(kp(c)).ff(),T&&(!h||!$o(tf))?(j=c[F],h?(T?(h=bs(c,gl),d=bs(c,hl),r=bs(c,il),H=bs(c,fl),h=new Hr(r,d,H,h)):(h=Jr(c,gl),d=Jr(c,hl),r=Jr(c,il),H=Jr(c,fl),h=new Hr(ga(r),ga(d),ga(H),ga(h))),T?(d=ds(c,Hh),r=ds(c,Jh),H=ds(c,Lh),c=ds(c,Fh),c=new Hr(H,r,c,d)):(d=Jr(c,Ih),r=Jr(c,Kh),H=Jr(c,Mh),c=Jr(c,Gh),c=new Hr(ga(H),ga(r),ga(c),ga(d))),j.pixelWidth=o[t]-c[y]-h[y]-h[Pd]-c[Pd],j.pixelHeight=o[I]-c.top-h.top-h[ud]-c[ud]):(j.pixelWidth=o[t],j.pixelHeight=o[I])):(c=c[F],Lo?c.MozBoxSizing=Dh:Mo?c.WebkitBoxSizing=Dh:c.boxSizing=Dh,pa(c,q.max(o[t],0)+pl),Wa(c,q.max(o[I],0)+pl))}c=f}return c}function Lt(){}Lt[D].vc=function(){};function Mt(a,b){this.element=a;this.bd=b}S(Mt,Lt);Mt[D].vc=function(a,b,c){Kt(this[Ed],this.bd,a,b,g,c)};function Nt(a,b,c){Mt[G](this,a,b);this.qk=c}S(Nt,Mt);Nt[D].qh=function(){return 5};Nt[D].vc=function(a,b,c,d){var f=Kt(this[Ed],this.bd,a,b,k,c,10,d);if(f&496){var h=this.Ud(f,this.bd),b=this.Ud(f,b),f=Kt(this[Ed],h,a,b,k,c,10,d);f&496&&(h=this.Ud(f,h),b=this.Ud(f,b),this.qk?Kt(this[Ed],h,a,b,k,c,this.qh(),d):Kt(this[Ed],h,a,b,k,c,0,d))}};Nt[D].Ud=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function Ot(a,b,c,d){Nt[G](this,a,b,c||d);this.bl=d}S(Ot,Nt);Ot[D].qh=function(){return 65|(this.bl?32:132)};var Pt,Qt;Qt=Pt=l;var Rt=Go();Rt&&(-1!=Rt[v]("Firefox")||-1!=Rt[v]("Camino")||(-1!=Rt[v]("iPhone")||-1!=Rt[v]("iPod")?Pt=i:-1!=Rt[v]("iPad")?Qt=i:-1!=Rt[v]("Android")||-1!=Rt[v]("Chrome")||Rt[v]("Safari")));var St=Pt,Tt=Qt;function Ut(){}S(Ut,Ct);Um(Ut);N=Ut[D];N.nb=function(){return Oh};N.da=function(a,b,c){16==b?Zs(a,nl,c):Ut.b.da[G](this,a,b,c)};N.d=function(a){var b=Ut.b.d[G](this,a),c=a.ad();c&&this.fe(b,c);(c=a[A]())&&this[Ic](b,c);a.T(16)&&this.da(b,16,a.ke());return b};Ga(N,Tm);Na(N,Tm);N.ad=function(a){return a.title};N.fe=function(a,b){if(a){a.title=b||J}};N.A=function(){return lj};function Vt(){}S(Vt,Ut);Um(Vt);N=Vt[D];N.nb=function(){};N.d=function(a){this.Li(a);return a.t().d(Oh,{"class":this.hc(a)[Ld](Sd),disabled:!a[gd](),title:a.ad()||J,value:a[A]()||J},a.wc()||J)};N.Wb=function(a){a.P().i(a.a(),Xh,a.Bb)};N.$c=Tm;N.dc=Tm;N.sb=function(a){return a[gd]()};N.Ab=Tm;La(N,function(a,b,c){Vt.b[wc][G](this,a,b,c);if((a=a.a())&&1==b){a.disabled=c}});Ga(N,function(a){return a[sb]});Na(N,function(a,b){if(a){a.value=b}});N.da=Tm;N.Li=function(a){a.ie(l);a.nk(255,l);a.pa(32,l)};function Wt(a,b,c){Gt[G](this,a,b||Vt.qa(),c)}S(Wt,Gt);N=Wt[D];Ga(N,function(){return this.Wf});Na(N,function(a){this.Wf=a;this.l[Ic](this.a(),a)});N.ad=function(){return this.Vf};N.fe=function(a){this.Vf=a;this.l.fe(this.a(),a)};N.k=function(){Wt.b.k[G](this);delete this.Wf;delete this.Vf};N.K=function(){Wt.b.K[G](this);if(this.T(32)){var a=this.R();a&&this.P().i(a,pk,this.Ba)}};N.Ba=function(a){return 13==a[Tb]&&a[z]==lk||32==a[Tb]&&a[z]==pk?this.Bb(a):32==a[Tb]};Et(lj,function(){return new Wt(k)});function Xt(){}S(Xt,Ct);Um(Xt);Xt[D].d=function(a){return a.t().d(ti,this.A())};Fa(Xt[D],function(){});Xt[D].A=function(){return wj};function Yt(a,b){Gt[G](this,k,a||Xt.qa(),b);this.pa(1,l);this.pa(2,l);this.pa(4,l);this.pa(32,l);this.jh(1)}S(Yt,Gt);Yt[D].K=function(){Yt.b.K[G](this);Ys(this.a(),Il)};Et(wj,function(){return new Yt});function Zt(){}Um(Zt);N=Zt[D];N.nb=function(){};N.Yf=function(a,b){if(a){a.tabIndex=b?0:-1}};N.d=function(a){return a.t().d(ti,this.hc(a)[Ld](Sd))};N.S=function(a){return a};N.Wb=function(a){a=a.a();$r(a,i,Lo);if(T){a.hideFocus=i}var b=this.nb();b&&Ys(a,b)};N.R=function(a){return a.a()};N.A=function(){return mj};N.hc=function(a){var b=this.A(),c=[b,a.gc==Rj?b+Ie:b+Ue];a[gd]()||c[s](b+Ee);return c};function $t(a,b,c){it[G](this,c);this.l=b||Zt.qa();this.gc=a||Cm}S($t,it);N=$t[D];N.he=k;N.ia=k;N.l=k;N.gc=k;N.n=i;N.vb=i;N.Fe=i;N.ha=-1;N.L=k;N.ge=l;N.mi=l;N.ki=i;N.Oa=k;N.R=function(){return this.he||this.l.R(this)};N.Wc=function(){return this.ia||(this.ia=new wt(this.R()))};N.d=function(){this.dg(this.l.d(this))};N.S=function(){return this.l.S(this.a())};N.K=function(){$t.b.K[G](this);this.rb(function(a){a.r&&this.Kf(a)},this);var a=this.a();this.l.Wb(this);this.F(this.n,i);this.P().i(this,Bi,this.Xd).i(this,Qj,this.Yd).i(this,vm,this.Zd).i(this,Xk,this.Ph).i(this,Yh,this.Nh).i(a,Gk,this.tb).i(kp(a),Kk,this.Oh).i(a,[Gk,Kk,Jk,Ik],this.Mh);this.sb()&&this.Lf(i)};N.Lf=function(a){var b=this.P(),c=this.R();a?b.i(c,Hi,this.Xc).i(c,Ah,this.yb).i(this.Wc(),lk,this.wa):b.X(c,Hi,this.Xc).X(c,Ah,this.yb).X(this.Wc(),lk,this.wa)};N.ba=function(){this.Yb(-1);this.L&&this.L.H(l);this.ge=l;$t.b.ba[G](this)};N.k=function(){$t.b.k[G](this);if(this.ia){this.ia.Q(),this.ia=k}this.l=this.L=this.Oa=this.he=k};N.Xd=function(){return i};N.Yd=function(a){var b=this.Vc(a[ed]);if(-1<b&&b!=this.ha){var c=this.$b();c&&c.xa(l);this.ha=b;c=this.$b();this.ge&&c[qc](i);this.ki&&this.L&&c!=this.L&&(c.T(64)?c.H(i):this.L.H(l))}Zs(this.a(),oh,a[ed].a().id)};N.Zd=function(a){if(a[ed]==this.$b()){this.ha=-1}Zs(this.a(),oh,J)};N.Ph=function(a){if((a=a[ed])&&a!=this.L&&a[ab]()==this){this.L&&this.L.H(l),this.L=a}};N.Nh=function(a){if(a[ed]==this.L){this.L=k}};N.tb=function(a){this.vb&&this.Xb(i);var b=this.R();b&&Fp(b)?b[Ob]():a[ub]()};N.Oh=function(){this.Xb(l)};N.Mh=function(a){var b=this.bk(a[ed]);if(b){switch(a[z]){case Gk:b.tb(a);break;case Kk:b.zb(a);break;case Jk:b.qe(a);break;case Ik:b.pe(a)}}};N.bk=function(a){if(this.Oa){for(var b=this.a();a&&a!==b;){var c=a.id;if(c in this.Oa){return this.Oa[c]}a=a[Hd]}}return k};N.Xc=function(){};N.yb=function(){this.Yb(-1);this.Xb(l);this.L&&this.L.H(l)};N.wa=function(a){return this[gd]()&&this.n&&(0!=this.ab()||this.he)&&this.Ba(a)?(a[ub](),a[Sc](),i):l};N.Ba=function(a){var b=this.$b();if(b&&typeof b.wa==Mi&&b.wa(a)){return i}if(this.L&&this.L!=b&&typeof this.L.wa==Mi&&this.L.wa(a)){return i}if(a[Bd]||a[Oc]||a[xb]||a[zc]){return l}switch(a[Tb]){case 27:if(this.sb()){this.R().blur()}else{return l}break;case 36:this.Xi();break;case 35:this.Yi();break;case 38:if(this.gc==Cm){this.Se()}else{return l}break;case 37:if(this.gc==Rj){this.le()?this.Re():this.Se()}else{return l}break;case 40:if(this.gc==Cm){this.Re()}else{return l}break;case 39:if(this.gc==Rj){this.le()?this.Se():this.Re()}else{return l}break;default:return l}return i};N.Kf=function(a){var b=a.a(),b=b.id||(b.id=a.Vb());if(!this.Oa){this.Oa={}}this.Oa[b]=a};N.Dd=function(a,b){$t.b.Dd[G](this,a,b)};N.Cc=function(a,b,c){a.gg(2,i);a.gg(64,i);(this.sb()||!this.mi)&&a.pa(32,l);a.ie(l);$t.b.Cc[G](this,a,b,c);a.r&&this.r&&this.Kf(a);b<=this.ha&&this.ha++};N.removeChild=function(a,b){if(a=R(a)?this.ce(a):a){var c=this.Vc(a);-1!=c&&(c==this.ha?a.xa(l):c<this.ha&&this.ha--);(c=a.a())&&c.id&&this.Oa&&vo(this.Oa,c.id)}a=$t.b[bd][G](this,a,b);a.ie(i);return a};N.F=function(a,b){if(b||this.n!=a&&this[x](a?Ql:Pj)){this.n=a;var c=this.a();c&&(Yr(c,a),this.sb()&&this.l.Yf(this.R(),this.vb&&this.n),b||this[x](this.n?qh:ph));return i}return l};N.isEnabled=function(){return this.vb};N.sb=function(){return this.Fe};N.Ab=function(a){a!=this.Fe&&this.r&&this.Lf(a);this.Fe=a;this.vb&&this.n&&this.l.Yf(this.R(),a)};N.Yb=function(a){(a=this.bb(a))?a.xa(i):-1<this.ha&&this.$b().xa(l)};N.xa=function(a){this.Yb(this.Vc(a))};N.$b=function(){return this.bb(this.ha)};N.Xi=function(){this.Pd(function(a,b){return(a+1)%b},this.ab()-1)};N.Yi=function(){this.Pd(function(a,b){a--;return 0>a?b-1:a},0)};N.Re=function(){this.Pd(function(a,b){return(a+1)%b},this.ha)};N.Se=function(){this.Pd(function(a,b){a--;return 0>a?b-1:a},this.ha)};N.Pd=function(a,b){for(var c=0>b?this.Vc(this.L):b,d=this.ab(),c=a[G](this,c,d),f=0;f<=d;){var h=this.bb(c);if(h&&this.Vg(h)){return this.Dj(c),i}f++;c=a[G](this,c,d)}return l};N.Vg=function(a){return a.n&&a[gd]()&&a.T(2)};N.Dj=function(a){this.Yb(a)};N.Xb=function(a){this.ge=a};function au(){}S(au,Ct);Um(au);au[D].A=function(){return sj};function bu(a,b,c){Gt[G](this,a,c||au.qa(),b);this.pa(1,l);this.pa(2,l);this.pa(4,l);this.pa(32,l);this.jh(1)}S(bu,Gt);Et(sj,function(){return new bu(k)});function cu(){}S(cu,Zt);Um(cu);cu[D].nb=function(){return Ak};cu[D].Cb=function(a,b){return Ap(a.a(),b)};cu[D].A=function(){return qj};cu[D].Wb=function(a){cu.b.Wb[G](this,a);Zs(a.a(),Lj,sm)};Et(wj,function(){return new Yt});function du(a,b){$t[G](this,Cm,b||cu.qa(),a);this.Ab(l)}S(du,$t);N=du[D];N.we=i;N.Ej=l;N.A=function(){return this.l.A()};N.Cb=function(a){if(this.l.Cb(this,a)){return i}for(var b=0,c=this.ab();b<c;b++){var d=this.bb(b);if(typeof d.Cb==Mi&&d.Cb(a)){return i}}return l};N.gb=function(a){this.Dd(a,i)};N.mc=function(a,b){this.Cc(a,b,i)};N.Mc=function(a){return this.bb(a)};N.Df=function(){return this.ab()};N.qc=function(a,b){var c=this.n;c||Yr(this.a(),i);var d=this.a(),f=a,h=b,j=Rr(d);if(f instanceof Ln){h=f.y,f=f.x}Mr(d,d.offsetLeft+(f-j.x),d[Jd]+(h-j.y));c||Yr(this.a(),l)};N.si=function(a){(this.we=a)&&this.Ab(i)};N.F=function(a,b,c){(b=du.b.F[G](this,a,b))&&a&&this.r&&this.we&&this.R()[Ob]();this.eg=a&&c&&an(c[sc])?new Ln(c[sc],c[tc]):k;return b};N.Xd=function(a){this.we&&this.R()[Ob]();return du.b.Xd[G](this,a)};N.Vg=function(a){return(this.Ej||a[gd]())&&a.n&&a.T(2)};N.Ba=function(a){var b=du.b.Ba[G](this,a);b||this.rb(function(c){!b&&c.Hi&&c.jg==a[Tb]&&(this[gd]()&&this.xa(c),b=c.wa(a))},this);return b};function eu(){}S(eu,Ut);Um(eu);N=eu[D];N.d=function(a){var b={"class":pj+this.hc(a)[Ld](Sd),title:a.ad()||J},b=a.t().d(ti,b,this.createButton(a.na,a.t()));this.Je(a,b);return b};N.nb=function(){return Oh};N.Je=function(a,b){a[gd]()||this.da(b,1,i);a.Wg()&&this.da(b,8,i);a.T(16)&&this.da(b,16,i);a.cc()&&this.da(b,64,i)};N.S=function(a){return a&&a[Vb][Vb]};N.createButton=function(a,b){return b.d(ti,pj+(this.A()+Me),b.d(ti,pj+(this.A()+Ke),a))};N.A=function(){return oj};function fu(){}S(fu,eu);Um(fu);Lo&&Fa(fu[D],function(a,b){var c=fu.b.S[G](this,a&&a[Vb]);if(c){var d=this.createCaption(b,ip(a)),f=c[Hd];f&&f.replaceChild(d,c)}});N=fu[D];N.S=function(a){a=fu.b.S[G](this,a&&a[Vb]);Lo&&a&&a.__goog_wrapper_div&&(a=a[Vb]);return a};N.createButton=function(a,b){return fu.b.createButton[G](this,[this.createCaption(a,b),this.nj(b)],b)};N.createCaption=function(a,b){return b.d(ti,pj+(this.A()+ze),a)};N.nj=function(a){return a.d(ti,pj+(this.A()+Fe),Om)};N.A=function(){return rj};function gu(a,b,c,d){Wt[G](this,a,c||fu.qa(),d);this.pa(64,i);b&&this.Zc(b);this.Zh=k;this.ga=new tq(500);(St||Tt)&&!$o(rf)&&this.Gj(i)}S(gu,Wt);N=gu[D];N.gi=i;N.me=l;N.Tc=l;N.Sh=l;N.K=function(){gu.b.K[G](this);this.g&&this.Uc(this.g,i);Zs(this.a(),Lj,sm)};N.ba=function(){gu.b.ba[G](this);if(this.g){this.H(l);this.g.ba();this.Uc(this.g,l);var a=this.g.a();a&&zp(a)}};N.k=function(){gu.b.k[G](this);this.g&&(this.g.Q(),delete this.g);delete this.Qh;this.ga.Q()};N.tb=function(a){gu.b.tb[G](this,a);this.Da()&&(this.H(!this.cc(),a),this.g&&this.g.Xb(this.cc()))};N.zb=function(a){gu.b.zb[G](this,a);this.g&&!this.Da()&&this.g.Xb(l)};N.Bb=function(){this[qc](l);return i};N.hi=function(a){this.g&&this.g.n&&!this.Cb(a[ed])&&this.H(l)};N.Cb=function(a){return a&&Ap(this.a(),a)||this.g&&this.g.Cb(a)||l};N.Ba=function(a){if(32==a[Tb]){if(a[ub](),a[z]!=pk){return l}}else{if(a[z]!=lk){return l}}if(this.g&&this.g.n){var b=this.g.wa(a);return 27==a[Tb]?(this.H(l),i):b}return 40==a[Tb]||38==a[Tb]||32==a[Tb]?(this.H(i),i):l};N.ve=function(){this.H(l)};N.ii=function(){this.Da()||this.H(l)};N.yb=function(a){this.Tc||this.H(l);gu.b.yb[G](this,a)};N.Ac=function(){this.g||this.Zc(new du(this.t()));return this.g||k};N.Zc=function(a){var b=this.g;if(a!=b&&(b&&(this.H(l),this.r&&this.Uc(b,l),delete this.g),a)){this.g=a,a.$d(this),a.F(l),a.si(this.Tc),this.r&&this.Uc(a,i)}return b};N.gb=function(a){this.Ac().Dd(a,i)};N.mc=function(a,b){this.Ac().Cc(a,b,i)};N.Mc=function(a){return this.g?this.g.bb(a):k};N.Df=function(){return this.g?this.g.ab():0};N.F=function(a,b){var c=gu.b.F[G](this,a,b);c&&!this.n&&this.H(l);return c};N.Gj=function(a){this.Tc=a};N.H=function(a,b){gu.b.H[G](this,a);if(this.g&&this.oa(64)==a){if(a){this.g.r||(this.Sh?this.g.ub(this.a()[Hd]):this.g.ub()),this.xb=Qr(this.a()),this.wb=Wr(this.a()),this.Of(),this.g.Yb(-1)}else{if(this[qc](l),this.g.Xb(l),this.a()&&Zs(this.a(),oh,J),P(this.Qc)){this.Qc=g;var c=this.g.a();c&&Tr(c,J,J)}}this.g.F(a,l,b);this.Rc||this.Rh(a)}};N.Of=function(){if(this.g.r){var a=this.Qh||this.a(),b=this.il;b||(b=new Ot(a,this.gi?5:7,!this.me,this.me));a=this.g.a();this.g.n||(Ka(a[F],Oj),Yr(a,i));if(!this.Qc&&this.me){this.Qc=Ur(a)}b.vc(a,b.bd^1,this.Zh,this.Qc);this.g.n||(Yr(a,l),Ka(a[F],Dm))}};N.ji=function(){var a=Wr(this.a()),b=Qr(this.a());if(!(this.wb==a||(!this.wb||!a?0:this.wb[y]==a[y]&&this.wb[t]==a[t]&&this.wb.top==a.top&&this.wb[I]==a[I]))||!(this.xb==b||(!this.xb||!b?0:this.xb.top==b.top&&this.xb[Pd]==b[Pd]&&this.xb[ud]==b[ud]&&this.xb[y]==b[y]))){this.wb=a,this.xb=b,this.Of()}};N.Uc=function(a,b){var c=this.P(),d=b?c.i:c.X;d[G](c,a,mh,this.ve);d[G](c,a,Qj,this.Yd);d[G](c,a,vm,this.Zd)};N.Yd=function(a){Zs(this.a(),oh,a[ed].a().id)};N.Zd=function(){this.g.$b()||Zs(this.a(),oh,J)};N.Rh=function(a){var b=this.P(),c=a?b.i:b.X;c[G](b,this.t().o,Gk,this.hi,i);this.Tc&&c[G](b,this.g,Ah,this.ii);c[G](b,this.ga,hm,this.ji);a?this.ga.start():this.ga.stop()};Et(rj,function(){return new gu(k)});function hu(a){this.Lb=[];this.yk(a)}S(hu,sq);N=hu[D];N.Mb=k;N.Bh=k;N.Df=function(){return this.Lb[B]};N.Bk=function(a){return a?bo(this.Lb,a):-1};N.Mc=function(a){return this.Lb[a]||k};N.yk=function(a){a&&(co(a,function(a){this.Rd(a,l)},this),lo(this.Lb,a))};N.gb=function(a){this.mc(a,this.Df())};N.mc=function(a,b){a&&(this.Rd(a,l),mo(this.Lb,b,0,a))};N.wd=function(){return this.Mb};N.Qb=function(a){if(a!=this.Mb){this.Rd(this.Mb,l),this.Mb=a,this.Rd(a,i)}this[x](Gl)};N.qd=function(){return this.Bk(this.Mb)};N.xh=function(a){this.Qb(this.Mc(a))};Ea(N,function(){var a=this.Lb;if(!Q(a)){for(var b=a[B]-1;0<=b;b--){delete a[b]}}Ma(a,0);this.Mb=k});N.k=function(){hu.b.k[G](this);delete this.Lb;this.Mb=k};N.Rd=function(a,b){a&&(typeof this.Bh==Mi?this.Bh(a,b):typeof a.gf==Mi&&a.gf(b))};function iu(a,b,c,d){gu[G](this,a,b,c,d);this.Lk(a);this.Hh(uk)}S(iu,gu);N=iu[D];N.w=k;N.te=k;N.K=function(){iu.b.K[G](this);this.oe();this.Uf();Zs(this.a(),Lj,Ei)};N.k=function(){iu.b.k[G](this);if(this.w){this.w.Q(),this.w=k}this.te=k};N.ve=function(a){this.Qb(a[ed]);iu.b.ve[G](this,a);a[Sc]();this[x](mh)};N.lj=function(){var a=this.wd();iu.b[Ic][G](this,a&&a[A]());this.oe()};N.Zc=function(a){var b=iu.b.Zc[G](this,a);a!=b&&(this.w&&this.w.clear(),a&&(this.w?a.rb(function(a){this.rd(a);this.w.gb(a)},this):this.ze(a)));return b};N.Lk=function(a){this.te=a;this.oe()};N.gb=function(a){this.rd(a);iu.b.gb[G](this,a);this.w?this.w.gb(a):this.ze(this.Ac())};N.mc=function(a,b){this.rd(a);iu.b.mc[G](this,a,b);this.w?this.w.mc(a,b):this.ze(this.Ac())};N.Qb=function(a){this.w&&this.w.Qb(a)};N.xh=function(a){this.w&&this.Qb(this.w.Mc(a))};Na(N,function(a){if(P(a)&&this.w){for(var b=0,c;c=this.w.Mc(b);b++){if(c&&typeof c[A]==Mi&&c[A]()==a){this.Qb(c);return}}}this.Qb(k)});N.wd=function(){return this.w?this.w.wd():k};N.qd=function(){return this.w?this.w.qd():-1};N.ze=function(a){this.w=new hu;a&&a.rb(function(a){this.rd(a);this.w.gb(a)},this);this.Uf()};N.Uf=function(){this.w&&this.P().i(this.w,Gl,this.lj)};N.oe=function(){var a=this.wd();this[mc](a?a.wc():this.te)};N.rd=function(a){a.Hh(a instanceof Jt?Yk:Il)};N.H=function(a,b){iu.b.H[G](this,a,b);this.cc()&&this.Ac().Yb(this.qd())};Et("goog-select",function(){return new iu(k)});function ju(a,b){this.fb=ip();this.ec=a;this.bh=[];a:{for(var c=es()+ef,d=ja[rc](sg),f=0;f<d[B];f++){if(d[f]&&d[f][wd]&&d[f][wd]==c){break a}}d=ja[Pb](tk);d.href=c;d.rel=am;Ca(d,em);if(0==ja[rc](Mj)[B]){var c=ja[rc](Sj)[0],f=ja[rc](Bh)[0],h=ja[Pb](Mj);c[vb](h,f)}ja[rc](Mj)[0][Ya](d)}this.fk(b)}N=ju[D];N.lc=k;function ku(a,b){var c=ip(),d,f,h=k;switch(a){case 2:d=new mt(Fj);h=rl+d.Vb();f=c.d(ti,k,c.d(ti,{"class":Ej},Vf),c.d(Nh,k),c.d(ml,k,c.d(ti,{id:h},b[Xc])));break;case 3:d=new mt(Aj);f=c.d(ti,k,c.d(ti,{"class":Ej},Vf),c.d(Nh,k));var j=c.d(ti,k,c.d(ml,k,b[Xc]));c[Ya](f,j)}d[mc](f.innerHTML);qa(d.$i(),eg);qa(d.Zi(),J);d.F(i);h&&(c=lp(h),(T&&!bp(9)?Us(c,0,c,1):Mo?new Xs(Qs(c,0,c,1)):Lo?new Rs(Qs(c,0,c,1)):Ko?new Ws(Qs(c,0,c,1)):new Ns(Qs(c,0,c,1))).select())}N.fk=function(a){var a=a||[],b=this.ec,c=this.fb;c.vg(b);b||e(n("Container is not defined"));var d=c.d(Ul,k),f=[c.d(Ul,k,Rf),c.d(ti,{"class":Gj},Qm)];this.lc=new iu(f);if(a){for(f=0;f<a[B];f++){var h=k,j=a[f],o=j.datasource,r=j.gadget,w=j.userprefs,C=j[E],L=j[dl],ta=j[F]||Gm;switch(j[z]){case ei:h=this.Gc(f,kn(function(a){ba[bb]((new Cq(a)).nd(qm,$k),fg)},o),$f,Bj);break;case Tj:h=this.Gc(f,kn(function(a,b){ku(2,{message:Af+ta+Zd+aa(a)+me+aa(b)+lu(w)+Yd})},r,o),Gg,Dj);break;case jk:h=this.Gc(f,kn(function(a,b,c){ku(3,{message:zf+aa(b)+oe+a+ne+aa(c)+qe})},o,L,C),rg,Dj);break;case Sj:h=this.Gc(f,kn(function(a){ba[bb]((new Cq(a)).nd(qm,al),fg)},o),ag,Bj);break;case ck:h=this.Gc(f,kn(function(a,b,c){ba[bb](Yj+aa(a)+me+aa(b)+lu(c))},r,o,w),If,Cj);break;default:e(n("No such toolbar component as: "+j.toSource()))}h&&this.lc.gb(h)}}hq(this.lc,mh,jn(this.Ii,this));this.lc.ub(d);c[Ya](b,d)};N.ok=function(){this.lc.xh(-1)};N.Ii=function(){this.bh[this.lc.qd()]();this.ok()};N.Gc=function(a,b,c){c=new Jt(c);this.bh[a]=b;return c};function lu(a){if(!a){return J}var b=J,c;for(c in a){b+=le+c+Cf+aa(a[c])}return b}m("google.visualization.drawChart",Gs);m("google.visualization.drawFromUrl",function(a,b){var c=new Cq(b||ja[Uc][wd]),d=c.kh(kk),f;P(d)?f=d:(f={},co(c.Z.Tb(),function(a){var b=c.kh(a);try{P(b)&&(b=xn(b))}catch(d){}f[a]=b}),f.options=fn(f));Gs(f,a)});m("google.visualization.createUrl",function(a,b){R(a)&&(a=xn(a));var c=[],d,f;for(f in a){if(f==Zk){var h=a[f],j;for(j in h){d=h[j],R(d)||(d=un(d)),c[s](j+Cf+En(d))}}else{d=a[f],R(d)||(d=bn(d[Hc])?d[Hc]():un(d)),c[s](f+Cf+En(d))}}d=es()+af;d=d[u](/^https?:/,J);c=(b||d)+Ef+c[Ld](fe);c=c[u](/'/g,ee);return c=c[u](/"/g,de)});m("google.visualization.createSnippet",function(a){var b=es()+bf,b=b[u](/^https?:/,J),b=Bf+b+$d,a=Hs(a)[Hc](),a=a[u](/</g,ie),a=a[u](/>/g,he);return b+a+Rd});m("google.visualization.createWrapper",Hs);m("google.visualization.ChartWrapper",Y);p(Y[D],wi,Y[D][kd]);p(Y[D],km,Y[D][Hc]);p(Y[D],ij,Y[D].getSnapshot);p(Y[D],Xi,Y[D][dd]);p(Y[D],Yi,Y[D][tb]);p(Y[D],"getChartName",Y[D].getChartName);p(Y[D],"getChartType",Y[D].getChartType);p(Y[D],"getChart",Y[D].getChart);p(Y[D],Wi,Y[D][td]);p(Y[D],dj,Y[D][sd]);p(Y[D],ej,Y[D][yd]);p(Y[D],fj,Y[D][nd]);p(Y[D],"getView",Y[D][Cc]);p(Y[D],"getOption",Y[D].getOption);p(Y[D],"getOptions",Y[D][mb]);p(Y[D],"getState",Y[D][od]);p(Y[D],"pushView",Y[D].pushView);p(Y[D],"sendQuery",Y[D].sendQuery);p(Y[D],Kl,Y[D][Mc]);p(Y[D],Ll,Y[D][hd]);p(Y[D],"setChart",Y[D].setChart);p(Y[D],"setChartName",Y[D].setChartName);p(Y[D],"setChartType",Y[D].setChartType);p(Y[D],Jl,Y[D].setContainerId);p(Y[D],Nl,Y[D].setPackages);p(Y[D],Ol,Y[D][$c]);p(Y[D],Pl,Y[D][fc]);p(Y[D],"setView",Y[D][Zc]);p(Y[D],"setOption",Y[D].setOption);p(Y[D],Ml,Y[D][Vc]);p(Y[D],"setState",Y[D][wc]);m("google.visualization.ControlWrapper",Z);p(Z[D],wi,Z[D][kd]);p(Z[D],km,Z[D][Hc]);p(Z[D],ij,Z[D].getSnapshot);p(Z[D],Xi,Z[D][dd]);p(Z[D],Yi,Z[D][tb]);p(Z[D],"getControlName",Z[D].getControlName);p(Z[D],"getControlType",Z[D].getControlType);p(Z[D],"getControl",Z[D].getControl);p(Z[D],Wi,Z[D][td]);p(Z[D],dj,Z[D][sd]);p(Z[D],ej,Z[D][yd]);p(Z[D],fj,Z[D][nd]);p(Z[D],"getView",Z[D][Cc]);p(Z[D],"getOption",Z[D].getOption);p(Z[D],"getOptions",Z[D][mb]);p(Z[D],"getState",Z[D][od]);p(Z[D],"sendQuery",Z[D].sendQuery);p(Z[D],Kl,Z[D][Mc]);p(Z[D],Ll,Z[D][hd]);p(Z[D],"setControlName",Z[D].setControlName);p(Z[D],"setControlType",Z[D].setControlType);p(Z[D],Jl,Z[D].setContainerId);p(Z[D],Nl,Z[D].setPackages);p(Z[D],Ol,Z[D][$c]);p(Z[D],Pl,Z[D][fc]);p(Z[D],"setView",Z[D][Zc]);p(Z[D],"setOption",Z[D].setOption);p(Z[D],Ml,Z[D][Vc]);p(Z[D],"setState",Z[D][wc]);m("google.visualization.DashboardWrapper",$);p($[D],wi,$[D][kd]);p($[D],km,$[D][Hc]);p($[D],"getBindings",$[D].getBindings);p($[D],Xi,$[D][dd]);p($[D],Yi,$[D][tb]);p($[D],"getDashboard",$[D].getDashboard);p($[D],"getDashboardName",$[D].getDashboardName);p($[D],Wi,$[D][td]);p($[D],dj,$[D][sd]);p($[D],ej,$[D][yd]);p($[D],fj,$[D][nd]);p($[D],"getView",$[D][Cc]);p($[D],"getWrappers",$[D].getWrappers);p($[D],"setBindings",$[D].setBindings);p($[D],Kl,$[D][Mc]);p($[D],Ll,$[D][hd]);p($[D],"setDashboardName",$[D].setDashboardName);p($[D],Jl,$[D].setContainerId);p($[D],Nl,$[D].setPackages);p($[D],Ol,$[D][$c]);p($[D],Pl,$[D][fc]);p($[D],"setView",$[D][Zc]);p($[D],ij,$[D].getSnapshot);p($[D],"setWrappers",$[D].setWrappers);m("google.visualization.drawToolbar",function(a,b){new ju(a,b)});m("google.visualization.data.avg",function(a){return Is(a)/a[B]});m("google.visualization.data.count",function(a){return a[B]});m("google.visualization.data.group",function(a,b,c){function d(a,b,c,d){return b[G](k,c[A](d,a))}var f=[],h=[];co(b,function(a){if(an(a)){f[s](a)}else{if(Vm(a)==Uk){var b=a.column;Fk in a&&h[s]([b,{calc:kn(d,b,a.modifier),type:a[z],label:a[Id],id:a.id}]);f[s](b)}}});if(0!=h[B]){for(var j=new google[E][md](a),o=j.getViewColumns(),r=a[Dc](),w=0;w<r;w++){co(h,function(a){o[a[0]]=a[1]})}j[Md](o);a=j}var C=new google[E].DataTable,L=[];co(f,function(c,d){var f=a[Ub](c),h=b[d][Id]||a[Qb](c);C[Dd](f,h,b[d].id);L[s](f)});c=c||[];co(c,function(b){var c=b.column,c=b[Id]||a[Qb](c);C[Dd](b[z],c,b.id)});var ta=[];co(f,function(a){ta[s]({column:a})});for(var ia=a[Wb](ta),db=[],Da=0;Da<c[B];Da++){db[s]([])}for(Da=0;Da<ia[B];Da++){co(c,function(b,c){db[c][s](a[A](ia[Da],b.column))});j=l;if(Da<ia[B]-1){j=i;for(r=0;r<f[B];r++){var w=a[A](ia[Da],f[r]),Ja=a[A](ia[Da+1],f[r]);if(0!=google[E].datautils.compareValues(L[r],w,Ja)){j=l;break}}}if(!j){var ma=C.addRow();co(f,function(b,c){C[Ic](ma,c,a[A](ia[Da],b))});var ra=b[B];co(c,function(a,b){var c=a.aggregation[G](k,db[b]);C[Ic](ma,ra+b,c)});for(j=0;j<c[B];j++){db[j]=[]}}}return C});m("google.visualization.data.join",function(a,b,c,d,f,h){var j=c==sk||c==Li,o=c==Al||c==Li,r=new google[E].DataTable,w=[];co(d,function(c){var d=a[Ub](c[0]),f=b[Ub](c[1]);d!=f&&e(n("Key types do not match:"+d+ve+f));f=r[Dd](d,a[Qb](c[0]));r[Db](f,a[Ab](c[0]));w[s](d)});var C=[],L=[];co(d,function(a){C[s]({column:a[0]});L[s]({column:a[1]})});var ta=a[Wb](C),ia=b[Wb](L);co(f,function(b){var c=r[Dd](a[Ub](b),a[Qb](b));r[Db](c,a[Ab](b))});co(h,function(a){var c=r[Dd](b[Ub](a),b[Qb](a));r[Db](c,b[Ab](a))});for(var db=l,Da=0,Ja=0,ma=0;Da<ta[B]||Ja<ia[B];){var ra=0,Aa=[];if(Ja>=ia[B]){if(j){Aa[0]=ta[Da],ra=-1}else{break}}else{if(Da>=ta[B]){if(o){Aa[1]=ia[Ja],ra=1}else{break}}else{Aa[0]=ta[Da];Aa[1]=ia[Ja];for(var H=0;H<d[B];H++){var ra=a[A](Aa[0],d[H][0]),mu=b[A](Aa[1],d[H][1]),ra=google[E].datautils.compareValues(w[H],ra,mu);if(0!=ra){break}}}}if(db&&0!=ra){db=l,Ja++}else{if(-1==ra&&j||1==ra&&o||0==ra){r.addRow();var Oe,ec;-1==ra&&j||0==ra&&c!=Al?(Oe=a,ec=0):(Oe=b,ec=1);co(d,function(a,b){c==Li?r[Ic](ma,b,Oe[A](Aa[ec],a[ec])):r[jc](ma,b,Oe[A](Aa[ec],a[ec]),Oe[Fd](Aa[ec],a[ec]),Oe[Fc](Aa[ec],a[ec]))});if(-1==ra&&j||0==ra){var nk=d[B];co(f,function(b,c){r[jc](ma,c+nk,a[A](Aa[0],b),a[Fd](Aa[0],b),a[Fc](Aa[0],b))})}if(1==ra&&o||0==ra){nk=f[B]+d[B],co(h,function(a,c){r[jc](ma,c+nk,b[A](Aa[1],a),b[Fd](Aa[1],a),b[Fc](Aa[1],a))})}ma++}1==ra?Ja++:Da++;0==ra&&(db=i)}}return r});m("google.visualization.data.max",function(a){if(0==a[B]){return k}for(var b=a[0],c=1;c<a[B];c++){var d=a[c];d!=k&&d>b&&(b=d)}return b});m("google.visualization.data.min",function(a){if(0==a[B]){return k}for(var b=a[0],c=1;c<a[B];c++){var d=a[c];d!=k&&d<b&&(b=d)}return b});m("google.visualization.data.month",function(a){return a[Ac]()+1});m("google.visualization.data.sum",Is);m("__gvizguard__",i);m("google.visualization.Query",dr);p(dr[D],wk,dr[D].makeRequest);p(dr[D],Pl,dr[D][fc]);p(dr[D],Ol,dr[D][$c]);p(dr[D],"send",dr[D][Jb]);p(dr[D],"setRefreshable",dr[D].setRefreshable);p(dr[D],"setTimeout",dr[D][Lc]);p(dr[D],"setHandlerType",dr[D].el);p(dr[D],"setHandlerParameter",dr[D].Ch);p(dr,"setResponse",mr);p(dr[D],kh,dr[D][Kc]);m("google.visualization.QueryResponse",Zq);p(Zq[D],Yi,Zq[D][tb]);p(Zq[D],"isError",Zq[D][Nb]);p(Zq[D],"hasWarning",Zq[D].hasWarning);p(Zq[D],"getReasons",Zq[D].getReasons);p(Zq[D],"getMessage",Zq[D].getMessage);p(Zq[D],"getDetailedMessage",Zq[D].getDetailedMessage);m("google.visualization.DataTable",V);p(V[D],"addColumn",V[D][Dd]);p(V[D],"addRow",V[D].addRow);p(V[D],"addRows",V[D][pc]);p(V[D],"clone",V[D][cd]);p(V[D],"getColumnId",V[D].getColumnId);p(V[D],Qi,V[D].getColumnIndex);p(V[D],Ri,V[D][Qb]);p(V[D],Si,V[D][Tc]);p(V[D],Ui,V[D][Qc]);p(V[D],Ti,V[D][Ab]);p(V[D],Vi,V[D].getColumnRange);p(V[D],"getColumnRole",V[D].getColumnRole);p(V[D],"getColumnType",V[D][Ub]);p(V[D],Zi,V[D].getDistinctValues);p(V[D],$i,V[D].getFilteredRows);p(V[D],aj,V[D][Fd]);p(V[D],bj,V[D][rb]);p(V[D],cj,V[D][Dc]);p(V[D],"getProperties",V[D][Fc]);p(V[D],"getProperty",V[D].getProperty);p(V[D],hj,V[D].getRowProperty);p(V[D],gj,V[D][cc]);p(V[D],"getSortedRows",V[D][Wb]);p(V[D],kj,V[D].getTableProperty);p(V[D],jj,V[D][dc]);p(V[D],"getValue",V[D][A]);p(V[D],"insertColumn",V[D].insertColumn);p(V[D],"insertRows",V[D].insertRows);p(V[D],"removeColumn",V[D].removeColumn);p(V[D],"removeColumns",V[D].removeColumns);p(V[D],"removeRow",V[D].removeRow);p(V[D],"removeRows",V[D].removeRows);p(V[D],"setCell",V[D][jc]);p(V[D],"setColumnLabel",V[D].setColumnLabel);p(V[D],"setColumnProperties",V[D][Db]);p(V[D],"setColumnProperty",V[D].setColumnProperty);p(V[D],"setFormattedValue",V[D].setFormattedValue);p(V[D],"setProperties",V[D].setProperties);p(V[D],"setProperty",V[D].setProperty);p(V[D],"setRowProperties",V[D].setRowProperties);p(V[D],"setRowProperty",V[D].setRowProperty);p(V[D],"setTableProperties",V[D].setTableProperties);p(V[D],"setTableProperty",V[D].setTableProperty);p(V[D],"setValue",V[D][Ic]);p(V[D],"sort",V[D].sort);p(V[D],km,V[D][Hc]);m("google.visualization.DataView",W);p(W,"fromJSON",function(a,b){R(b)&&(b=xn(b));var c=new W(a),d=b.columns,f=b[zd];P(d)&&c[Md](d);P(f)&&c.setRows(f);return c});p(W[D],"getColumnId",W[D].getColumnId);p(W[D],Qi,W[D].getColumnIndex);p(W[D],Ri,W[D][Qb]);p(W[D],Si,W[D][Tc]);p(W[D],Ui,W[D][Qc]);p(W[D],Ui,W[D][Qc]);p(W[D],Ti,W[D][Ab]);p(W[D],Vi,W[D].getColumnRange);p(W[D],"getColumnRole",W[D].getColumnRole);p(W[D],"getColumnType",W[D][Ub]);p(W[D],Zi,W[D].getDistinctValues);p(W[D],$i,W[D].getFilteredRows);p(W[D],aj,W[D][Fd]);p(W[D],bj,W[D][rb]);p(W[D],cj,W[D][Dc]);p(W[D],"getProperties",W[D][Fc]);p(W[D],"getProperty",W[D].getProperty);p(W[D],hj,W[D].getRowProperty);p(W[D],gj,W[D][cc]);p(W[D],"getSortedRows",W[D][Wb]);p(W[D],"getTableColumnIndex",W[D].getTableColumnIndex);p(W[D],"getUnderlyingTableColumnIndex",W[D].getUnderlyingTableColumnIndex);p(W[D],"getTableRowIndex",W[D][Zb]);p(W[D],"getUnderlyingTableRowIndex",W[D].getUnderlyingTableRowIndex);p(W[D],kj,W[D].getTableProperty);p(W[D],jj,W[D][dc]);p(W[D],"getValue",W[D][A]);p(W[D],"getViewColumnIndex",W[D].getViewColumnIndex);p(W[D],"getViewColumns",W[D].getViewColumns);p(W[D],"getViewRowIndex",W[D].getViewRowIndex);p(W[D],"getViewRows",W[D].getViewRows);p(W[D],"hideColumns",W[D].hideColumns);p(W[D],"hideRows",W[D].hideRows);p(W[D],"setColumns",W[D][Md]);p(W[D],"setRows",W[D].setRows);p(W[D],"toDataTable",W[D][Rb]);p(W[D],km,W[D][Hc]);m("google.visualization.GadgetHelper",nr);p(nr[D],"createQueryFromPrefs",nr[D].createQueryFromPrefs);p(nr[D],"validateResponse",nr[D].validateResponse);m("google.visualization.errors",X);p(X,"addError",X[Gc]);p(X,"removeAll",X[id]);p(X,"removeError",X.removeError);p(X,"addErrorFromQueryResponse",X.addErrorFromQueryResponse);p(X,"getContainer",X.getContainer);p(X,"createProtectedCallback",X.createProtectedCallback);m("google.visualization.events.addListener",function(a,b,c){a=rr(a);b=hq(a,b,sr(c));return new tr(b)});m("google.visualization.events.trigger",function(a,b,c){a=rr(a);b=new ur(b,c);rq(a,b)});m("google.visualization.events.removeListener",function(a){a=a&&bn(a.getKey)&&a.getKey();return an(a)?mq(a):l});m("google.visualization.events.removeAllListeners",function(a){var b=rr(a),b=oq(b);Tp(a.__eventTarget);a.__eventTarget=g;return b});m("google.visualization.QueryWrapper",vr);p(vr[D],Ml,vr[D][Vc]);p(vr[D],wi,vr[D][kd]);p(vr[D],"setCustomErrorHandler",vr[D].dl);p(vr[D],"sendAndDraw",vr[D].sendAndDraw);p(vr[D],"setCustomPostResponseHandler",vr[D].setCustomPostResponseHandler);p(vr[D],"setCustomResponseHandler",vr[D].setCustomResponseHandler);p(vr[D],kh,vr[D][Kc]);m("google.visualization.arrayToDataTable",function(a,b){var c=new V,d,f,h;Q(a)||e(n("Not an array"));if(0==a[B]){return c}Q(a[0])||e(n(Cg));var j=a[0][B];for(d=1;d<a[B];d++){(!Q(a[d])||a[d][B]!=j)&&e(n(Cg))}var o=(d=!b)?a[0]:[],r=d?a[hb](1,a[B]):a,w=[];for(f=0;f<j;f++){var C=M;for(d=0;d<r[B];d++){if(h=r[d][f],P(h)){R(h)?C=M:an(h)?C=K:Q(h)?C=im:typeof h==Ch?C=Ch:(Zm(h)&&e(n("Date and datetime column types are not supported")),e(n("Invalid value in "+d+ue+f)));break}}w[f]=C}for(f=0;f<j;f++){c[Dd](w[f],o[f])}c[pc](r);return c});m("google.visualization.datautils.compareValues",Qq)})();(function(){function h(a){throw a}var ba=void 0,k=!0,l=null,n=!1,ca=google_exportSymbol,da=window,ea=Number,fa=Object,p=Infinity,r=Error,ga=parseInt,ha=parseFloat,ia=isFinite,ja=document,ka=isNaN,la=google_exportProperty,ma=Array,s=Math;function oa(a,b){return a.width=b}function pa(a,b){return a.text=b}function qa(a,b){return a.round=b}function ra(a,b){return a.fontFamily=b}function sa(a,b){return a.ceil=b}function ta(a,b){return a.floor=b}function ua(a,b){return a.stroked=b}function va(a,b){return a.color=b}function wa(a,b){return a.currentTarget=b}function xa(a,b){return a.left=b}function ya(a,b){return a.format=b}function za(a,b){return a.keyCode=b}function Aa(a,b){return a.type=b}function Ba(a,b){return a.clear=b}function Ca(a,b){return a.orientation=b}function Ea(a,b){return a.getValue=b}function Fa(a,b){return a.visibility=b}function Ga(a,b){return a.length=b}function Ha(a,b){return a.title=b}function Ia(a,b){return a.position=b}function Ja(a,b){return a.cursor=b}function Ka(a,b){return a.className=b}function La(a,b){return a.index=b}function Ma(a,b){return a.next=b}function Na(a,b){return a.fontSize=b}function Oa(a,b){return a.clone=b}function Pa(a,b){return a.target=b}function Qa(a,b){return a.anchor=b}function Ra(a,b){return a.bottom=b}function Sa(a,b){return a.contains=b}function Ta(a,b){return a.display=b}function Ua(a,b){return a.height=b}function Va(a,b){return a.right=b}var t="appendChild",v="push",Wa="direction",Xa="trigger",Ya="getBoundingClientRect",Za="test",$a="relatedTarget",w="width",x="text",z="round",ab="slice",bb="replace",cb="nodeType",A="data",db="ceil",eb="events",B="floor",fb="content",gb="getElementById",hb="concat",ib="charAt",kb="selected",lb="createTextNode",mb="getNumberOfColumns",nb="value",ob="preventDefault",pb="item",qb="targetTouches",rb="move",sb="indexOf",tb="color",ub="dispatchEvent",vb="capture",C="left",wb="domain",xb="screenX",yb="screenY",zb="format",Ab="getBoxObjectFor",Bb="createElement",Cb="getColumnLabel",Db="atan2",Eb="keyCode",Fb="getColumnType",Gb="firstChild",Hb="clientLeft",Ib="sqrt",Jb="getTableRowIndex",E="setAttribute",Kb="clientTop",Lb="handleEvent",Mb="path",Nb="setSelection",F="type",Ob="parentWindow",Pb="clear",Qb="orientation",Rb="defaultView",Sb="name",H="getValue",Tb="NumberFormat",Ub="contentWindow",Vb="getTime",Wb="clientX",Xb="clientY",Yb="documentElement",Zb="substr",$b="scrollTop",ac="toString",bc="bold",dc="getNumberOfRows",I="length",ec="propertyIsEnumerable",J="title",fc="position",K="prototype",gc="cursor",hc="size",ic="index",jc="setChartType",kc="clientWidth",lc="getSelection",mc="setTimeout",nc="document",oc="next",pc="ctrlKey",qc="split",rc="formatValue",sc="constructor",tc="stopPropagation",uc="scope",vc="rect",M="fontSize",wc="visualization",xc="rotate",yc="hasOwnProperty",zc="style",Ac="close",Bc="body",Cc="removeChild",Dc="clone",Ec="target",Fc="dataType",Gc="getUTCMonth",N="call",Hc="anchor",Ic="removeAll",O="start",Jc="lastIndexOf",Kc="draw",Lc="getFullYear",Mc="clientHeight",Nc="scrollLeft",P="bottom",Oc="currentStyle",Pc="documentMode",Qc="setTime",Rc="scale",Sc="every",Tc="contains",Uc="apply",Vc="tagName",Wc="contentDocument",Xc="getFormattedValue",Yc="errors",Zc="parentNode",$c="areas",Q="height",ad="compact",bd="splice",cd="join",dd="lineWidth",ed="transform",fd="toLowerCase",R="right",S="",gd="\n",hd="\u000b",id=" ",jd=" (",kd=" - ",ld=" / ",md=" [",nd=" _loaded = true;",od=' name="',pd=' onload="CHART_loaded()"',qd=' type="',rd=' xmlns:svg="http://www.w3.org/2000/svg"',sd=' xmlns:xlink="http://www.w3.org/1999/xlink">',td='"',ud="#",vd="#$1$1$2$2$3$3",wd="#000020",xd="#666666",yd="#7993ad",zd="#7f9a6b",Ad="#8080ff",Bd="#9bbdde",Cd="#a2c488",Dd="#a992ad",Ed="#ad7d79",Fd="#aea971",Gd="#c991ff",Hd="#ccc",Id="#cdc785",Jd="#ce9839",Kd="#d2feb0",Ld="#d6b9db",Md="#dea19b",Nd="#e0e0e0",Od="#eeee5b",Pd="#eeeeac",Qd="#ffbc46",Rd="#ffd1c9",Sd="#fff",Td="#fff0db",Ud="#ffffff",Vd="#gridline#",Wd="#label#",Xd="#title",Yd="%",Zd="&",$d="&amp;",ae="&gt;",be="&lt;",ce="&quot;",de="(",ee="(\\d*)(\\D*)",fe=")",ge=",",he=",\n",ie=", ",je=",0,",ke="-",le="-200px",me=".",ne="...",oe=".color",pe=".enableInteractivity",qe=".gif",re=".hole",se=".offset",te=".style",ue=".textStyle",ve=".type",we=".visibleInLegend",xe="/",ye="/core/patterns/",ze="/static/modules/gviz/",Ae="0",Be="0 0",Ce="0 0 4 4",De="0%",Ee="00",Fe="000",Ge="1",He="1.0",Ie="1.8",Je="1.9",Ke="100%",Le="1px",Me="1px solid infotext",Ne="2",Oe="4",Pe="420+",Qe="5.5",Re="500",Se="636363",Te="6c6c6c",Ue="8",Ve="9",We="9.0",Xe="9e9e9e",Ye=":",Ze="<",$e="</body>",af="</head>",bf="</html>",cf="<\/script>",df='<?xml version="1.0"?>',ef='<body marginwidth="0" marginheight="0"',ff='<div id="chartArea"></div>',gf="<head>",hf='<html xmlns:v="urn:scheman-microsoft-com:vml">',jf='<html xmlns="http://www.w3.org/1999/xhtml"',kf='<script type="text/javascript">',lf="<style> v\\:* { behavior:url(#default#VML);}</style>",mf=">",nf="@",of="A",pf="AT",qf="AreaChart",rf="B",sf="BODY",tf="C",uf="CSS1Compat",vf="ComboChart",wf="DAY",xf="Date(",yf="Drawing_Frame_",zf="E",Af="HH:mm",Bf="HH:mm:ss",Cf="HOUR",Df="HTML",Ef="IFRAME",Ff="Invalid listener argument",Gf="L",Hf="LineChart",If="M",Jf="MILLISECOND",Kf="MINUTE",Mf="MONTH",Nf="No data",Of="Other",Pf="Q",Qf="Q yyyy",Rf="QUARTER",Sf="SECOND",Tf="ScatterChart",Uf="Style",Vf="T",Wf="TR",Xf="WA",Yf="WEEK",Zf="Width",$f="X",ag="YEAR",bg="Z",cg="[",dg="[object Array]",eg="[object Function]",fg="[object Window]",gg="\\u",hg="]",ig="_",jg="_ABSTRACT_RENDERER_ID_",kg="_default_",lg="absolute",mg="angle",ng="animation.duration",og="animation.easing",pg="animationEasing",qg="animationfinish",rg="annotation",sg="annotation.",tg="annotationClick",ug="annotationHoverIn",vg="annotationHoverOut",wg="annotations.domainTextStyle",xg="annotations.stemColor",yg="annotations.style",zg="annotations.textStyle",Ag="annotationtext",Bg="arc",Cg="area",Dg="areaOpacity",Eg="aria-",Fg="array",Gg="attachToEnd",Hg="attachToStart",Ig="axisBackgroundColor",Jg="axisTitlesPosition",Kg="axistick",Lg="axistitle",Mg="backgroundColor",Ng="bar",Og="barWidth",Pg="bars",Qg="baseline",Rg="baselineColor",Sg="beforehide",Tg="beforeshow",Ug="black",Vg="block",Wg="blur",Xg="bold",Yg="boolean",Zg="border-box",$g="borderBottom",ah="borderBottomWidth",bh="borderLeft",dh="borderLeftWidth",eh="borderRight",fh="borderRightWidth",gh="borderTop",hh="borderTopWidth",ih="both",jh="bottom",kh="bottom-space",lh="bound",mh="boxWidth",nh="boxes",oh="bubble",ph="bubble.opacity",qh="bubble.strokeColor",rh="bubble.textStyle",sh="bubbles",th="call",uh="callee",vh="candlestick",wh="candlesticks",xh="category",yh="categoryClick",zh="categoryHoverIn",Ah="categoryHoverOut",Bh="categorypoint",Ch="ceil",Dh="cell",Eh="center",Fh="chart",Gh="chartArea",Hh="chartArea.height",Ih="chartArea.left",Jh="chartArea.top",Kh="chartArea.width",Lh="chartClick",Mh="chartOptions",Nh="chartType",Oh="chartarea",Ph="circle",Qh="class",Rh="click",Sh="clip-path",Th="clipPath",Uh="clipped",Vh="close",Wh="closedPhase",Xh="col-resize",Yh="color",Zh="color2",$h="colorAxis.colors",ai="colorAxis.maxValue",bi="colorAxis.minValue",ci="colorAxis.values",di="colorAxis.values must not contain nulls",ei="colors",fi="column",gi="columns",hi="connectSteps",ii="contextmenu",ji="curve",ki="curveType",li="cx",mi="cy",ni="d",oi="dash",pi="data",qi="dataType",ri="datum",si="datumClick",ti="datumHoverIn",ui="datumHoverOut",vi="dd MM y",wi="dd MMM y HH:mm:ss",xi="deactivate",yi="default",zi="defs",Ai="direction",Bi="display",Ci="displayTinySlicesInLenged",Di="div",Ei="dive",Fi="domain",Gi="domainAxis",Hi="draw",Ii="e",Ji="easing",Ki="ellipse",Li="emptyString",Mi="enableInteractivity",Ni="end",Oi="error",Pi="explicit",Qi="false",Ri="fill",Si="fill-opacity",Ti="fillOpacity",Ui="firstVisibleText",Vi="fixed",Wi="floor",Xi="focus",Yi="focusTarget",Zi="font-family",$i="font-size",aj="font-style",bj="font-weight",cj="fontName",dj="fontSize",ej="for",fj="format",gj="formatOptions",hj="formatOptions.scaleFactor",ij="formatter.numDecimals",jj="formatter.numSignificantDigits",kj="formatter.unit",lj="formatter.useMagnitudes",T="function",mj="function CHART_loaded() {",nj="g",oj="get",pj="getSelection",qj="google.loader.GoogleApisBase",rj="google.visualization.Version",sj="gradient",tj="gradientUnits",uj="gridline",vj="gridlineColor",wj="gridlines.color",xj="gridlines.count",yj="hAxes.",zj="hAxis",Aj="hAxis#",Bj="height",Cj="hex",Dj="hidden",Ej="hide",Fj="high",Gj="horizontal",Hj="hover",Ij="hovercard",Jj="http://ajax.googleapis.com/ajax",Kj="http://www.w3.org/1999/xhtml",Lj="http://www.w3.org/2000/svg",Mj="id",Nj="iframe",Oj="image/svg+xml",Pj="in",Qj="inAndOut",Rj="inTextPosition",Sj="infobackground",Tj="inline",Uj="inside",Vj="interactivityModel",Wj="interpolateNulls",Xj="interval",Yj="interval.",Zj="intervals.",$j="is3D",ak="isStacked",bk="italic",ck="keydown",dk="keypress",ek="label",fk="labelInLegend",gk="labeled",hk="left",ik="legend",jk="legend#entry#",kk="legend.labeledValueText",lk="legend.maxLines",mk="legend.pagingTextStyle",nk="legend.position",ok="legend.scrollArrows.activeColor",pk="legend.scrollArrows.inactiveColor",qk="legend.scrollArrows.orientation",rk="legend.showPageIndex",sk="legend.textStyle",tk="legendEntryClick",uk="legendEntryHoverIn",vk="legendEntryHoverOut",wk="legendFontSize",xk="legendScrollButtonClick",yk="legendTextColor",zk="legendTextStyle",Ak="line",Bk="lineSize",Ck="lineWidth",Dk="linear",Ek="linearGradient",Fk="log",Gk="logScale",Hk="logScaleX",Ik="low",Jk="majorAxisTextColor",Kk="max",Lk="maxAlternation",Mk="maxValue",Nk="maximized",Ok="middle",Pk="min",Qk="minRangeSize",Rk="minValue",Sk="minorAxisTextColor",Tk="mirrorLog",Uk="mousedown",Vk="mousemove",Wk="mouseout",Xk="mouseover",Yk="mouseup",Zk="move",$k="move_offscreen",al="named",bl="native code",cl="new ",dl="no",U="none",el="nowrap",fl="null",gl="number",hl="o",il="object",jl="offset",kl="on",ll="onmouseout",ml="onmouseover",nl="orientation",ol="out",pl="outTextPosition",ql="outside",sl="overflow",tl="paddingBottom",ul="paddingLeft",vl="paddingRight",wl="paddingTop",xl="path",yl="pathinterval",zl="pattern",Al="patternUnits",Bl="percentage",Cl="phase",Dl="pie",El="pieHole",Fl="pieResidueSliceColor",Gl="pieResidueSliceLabel",Hl="pieSliceBorderColor",Il="pieSliceText",Jl="pieSliceTextStyle",Kl="pixelLeft",Ll="point",Ml="pointSize",Nl="points",Ol="pointsensitivityarea",Pl="position",Ql="position: absolute; top: 0; left: 0; z-index: 1;",Rl="position:absolute;display:none;",Sl="pretty",Tl="primarydiagonalstripes",Ul="px",Vl="r",Wl="rangeChangeEventFiringRate",Xl="rangechange",Yl="ready",Zl="rect",$l="rect(",am="relative",bm="removeSerieButtonClick",cm="removeserie",dm="reset",em="reverseAxis",fm="reverseCategories",gm="rgb",hm="right",im="right-space",jm="role",km="rotate(",lm="round",mm="row",nm="rtl",om="rx",pm="ry",qm="scaleType",rm="scatter",sm="screen",tm="select",um="selectionMode",vm="serieClick",wm="serieHoverIn",xm="serieHoverOut",ym="series",zm="series-color",Am="series-color-dark",Bm="series-color-light",Cm="series.",Dm="seriesType",Em="set",Fm="setSelection",Gm="shortBarWidth",Hm="shortdash",Im="show",Jm="showRemoveSeriesButton",Km="showTextEvery",Lm="showTextEveryMode",Mm="single",Nm="sizeAxis.logScale",Om="sizeAxis.maxSize",Pm="sizeAxis.maxValue",Qm="sizeAxis.minSize",Rm="sizeAxis.minValue",Sm="sizeAxis.scaleType",Tm="slantedText",Um="slantedTextAngle",Vm="slice",Wm="sliceVisibilityThreshold",Xm="slices.",Ym="smoothingFactor",Zm="snapToData",$m="solid",an="sortBubblesBySize",bn="sparkline",cn="splice",dn="square",en="src",fn="start",gn="static",hn="steppedArea",jn="steppedareabar",kn="sticks",ln="stop",mn="stop-color:",nn="stopDomEventPropagation",on="strictFirstColumnType",pn="string",qn="stroke",rn="stroke-dasharray",sn="stroke-linecap",tn="stroke-opacity",un="stroke-width",vn="style",wn="svg",xn="targetAxes.",yn="targetAxis",zn="targetAxisIndex",An="text",Bn="text-anchor",Cn="text-decoration",Dn="textColor",En="textContent",Fn="textFontSize",Gn="textPosition",Hn="textStyle",In="textpathok",Jn="tick",Kn="tickScoringWeights",Ln="ticks",Mn="timeGranularity",Nn="title",On="titleColor",Pn="titleFontSize",Qn="titlePosition",Rn="titleTextStyle",Sn="titleX",Tn="titleY",Un="toggle_display",Vn="tooltip",Wn="tooltip.showColorCode",Xn="tooltip.text",Yn="tooltip.textStyle",Zn="tooltip.trigger",$n="tooltipClick",ao="tooltipFontSize",bo="tooltipHoverIn",co="tooltipHoverOut",eo="tooltipText",fo="tooltipTextColor",go="tooltipTextStyle",ho="tooltipTrigger",io="top",jo="top-space",ko="transform",lo="translate(",mo="transparent",no="trigger",oo="true",po="type",qo="unbound",ro="underline",so="url(#",to="userSpaceOnUse",uo="v",vo="v-text-align",wo="v:fill",xo="v:group",yo="v:oval",zo="v:path",Ao="v:rect",Bo="v:shape",Co="v:stroke",Do="v:textpath",Eo="vAxes.",Fo="vAxis",Go="vAxis#",Ho="value",Io="valueFormatter",Jo="var _loaded = false;",Ko="vertical",Lo="viewBox",Mo="viewWindow.max",No="viewWindow.min",Oo="viewWindowMode",Po="visible",Qo="visibleInLegend",Ro="warning",So="white",To="width",Uo="window.event",Vo="x",Wo="x1",Xo="x2",Yo="y",Zo="y1",$o="y2",ap="zOrder",bp="{",cp="}",V,dp=this;function ep(a,b){for(var c=a[qc](me),d=b||dp,e;e=c.shift();){if(W(d[e])){d=d[e]}else{return l}}return d}function fp(){}function gp(a){var b=typeof a;if(b==il){if(a){if(a instanceof ma){return Fg}if(a instanceof fa){return b}var c=fa[K][ac][N](a);if(c==fg){return il}if(c==dg||typeof a[I]==gl&&"undefined"!=typeof a[bd]&&"undefined"!=typeof a[ec]&&!a[ec](cn)){return Fg}if(c==eg||"undefined"!=typeof a[N]&&"undefined"!=typeof a[ec]&&!a[ec](th)){return T}}else{return fl}}else{if(b==T&&"undefined"==typeof a[N]){return il}}return b}function hp(a){return a!==ba}function ip(a){return a===l}function W(a){return a!=l}function jp(a){return gp(a)==Fg}function kp(a){var b=gp(a);return b==Fg||b==il&&typeof a[I]==gl}function lp(a){return mp(a)&&typeof a[Lc]==T}function np(a){return typeof a==pn}function op(a){return typeof a==gl}function pp(a){return gp(a)==T}function mp(a){a=gp(a);return a==il||a==Fg||a==T}function qp(a){return a[rp]||(a[rp]=++sp)}var rp="closure_uid_"+s[B](2147483648*s.random())[ac](36),sp=0;function tp(a,b,c){return a[N][Uc](a.bind,arguments)}function up(a,b,c){a||h(r());if(2<arguments[I]){var d=ma[K][ab][N](arguments,2);return function(){var c=ma[K][ab][N](arguments);ma[K].unshift[Uc](c,d);return a[Uc](b,c)}}return function(){return a[Uc](b,arguments)}}function Z(a,b,c){Z=Function[K].bind&&-1!=Function[K].bind[ac]()[sb](bl)?tp:up;return Z[Uc](l,arguments)}function vp(a,b){var c=ma[K][ab][N](arguments,1);return function(){var b=ma[K][ab][N](arguments);b.unshift[Uc](b,c);return a[Uc](this,b)}}var wp=Date.now||function(){return +new Date};function xp(a,b){function c(){}c.prototype=b[K];a.Pb=b[K];a.prototype=new c;a[K].constructor=a}function yp(a){return a[bb](/^[\s\xa0]+|[\s\xa0]+$/g,S)}function zp(a,b){if(b){return a[bb](Ap,$d)[bb](Bp,be)[bb](Cp,ae)[bb](Dp,ce)}if(!Ep[Za](a)){return a}-1!=a[sb](Zd)&&(a=a[bb](Ap,$d));-1!=a[sb](Ze)&&(a=a[bb](Bp,be));-1!=a[sb](mf)&&(a=a[bb](Cp,ae));-1!=a[sb](td)&&(a=a[bb](Dp,ce));return a}var Ap=/&/g,Bp=/</g,Cp=/>/g,Dp=/\"/g,Ep=/[&<>\"]/;function Fp(a,b){for(var c=0,d=yp(S+a)[qc](me),e=yp(S+b)[qc](me),f=s.max(d[I],e[I]),g=0;0==c&&g<f;g++){var i=d[g]||S,j=e[g]||S,m=RegExp(ee,nj),o=RegExp(ee,nj);do{var q=m.exec(i)||[S,S,S],u=o.exec(j)||[S,S,S];if(0==q[0][I]&&0==u[0][I]){break}c=((0==q[1][I]?0:ga(q[1],10))<(0==u[1][I]?0:ga(u[1],10))?-1:(0==q[1][I]?0:ga(q[1],10))>(0==u[1][I]?0:ga(u[1],10))?1:0)||((0==q[2][I])<(0==u[2][I])?-1:(0==q[2][I])>(0==u[2][I])?1:0)||(q[2]<u[2]?-1:q[2]>u[2]?1:0)}while(0==c)}return c}function Gp(a){var b=ea(a);return 0==b&&/^[\s\xa0]*$/[Za](a)?NaN:b}var Hp={};function Ip(a){return Hp[a]||(Hp[a]=(S+a)[bb](/\-([a-z])/g,function(a,c){return c.toUpperCase()}))}function Jp(a){return a[a[I]-1]}var Kp=ma[K],Lp=Kp[sb]?function(a,b,c){return Kp[sb][N](a,b,c)}:function(a,b,c){c=c==l?0:0>c?s.max(0,a[I]+c):c;if(np(a)){return !np(b)||1!=b[I]?-1:a[sb](b,c)}for(;c<a[I];c++){if(c in a&&a[c]===b){return c}}return -1},Mp=Kp.forEach?function(a,b,c){Kp.forEach[N](a,b,c)}:function(a,b,c){for(var d=a[I],e=np(a)?a[qc](S):a,f=0;f<d;f++){f in e&&b[N](c,e[f],f,a)}},Np=Kp.filter?function(a,b,c){return Kp.filter[N](a,b,c)}:function(a,b,c){for(var d=a[I],e=[],f=0,g=np(a)?a[qc](S):a,i=0;i<d;i++){if(i in g){var j=g[i];b[N](c,j,i,a)&&(e[f++]=j)}}return e},Op=Kp.map?function(a,b,c){return Kp.map[N](a,b,c)}:function(a,b,c){for(var d=a[I],e=ma(d),f=np(a)?a[qc](S):a,g=0;g<d;g++){g in f&&(e[g]=b[N](c,f[g],g,a))}return e};function Pp(a,b,c,d){if(a.reduce){return d?a.reduce(Z(b,d),c):a.reduce(b,c)}var e=c;Mp(a,function(c,g){e=b[N](d,e,c,g,a)});return e}var Qp=Kp[Sc]?function(a,b,c){return Kp[Sc][N](a,b,c)}:function(a,b,c){for(var d=a[I],e=np(a)?a[qc](S):a,f=0;f<d;f++){if(f in e&&!b[N](c,e[f],f,a)){return n}}return k};function Rp(a,b,c){b=Tp(a,b,c);return 0>b?l:np(a)?a[ib](b):a[b]}function Tp(a,b,c){for(var d=a[I],e=np(a)?a[qc](S):a,f=0;f<d;f++){if(f in e&&b[N](c,e[f],f,a)){return f}}return -1}function Up(a,b,c){a:{for(var d=np(a)?a[qc](S):a,e=a[I]-1;0<=e;e--){if(e in d&&b[N](c,d[e],e,a)){b=e;break a}}b=-1}return 0>b?l:np(a)?a[ib](b):a[b]}function Vp(a){if(!jp(a)){for(var b=a[I]-1;0<=b;b--){delete a[b]}}Ga(a,0)}function Wp(a,b){var c=Lp(a,b),d;(d=0<=c)&&Kp[bd][N](a,c,1);return d}function Xp(a){return Kp[hb][Uc](Kp,arguments)}function Yp(a){if(jp(a)){return Xp(a)}for(var b=[],c=0,d=a[I];c<d;c++){b[c]=a[c]}return b}function Zp(a,b){for(var c=1;c<arguments[I];c++){var d=arguments[c],e;if(jp(d)||(e=kp(d))&&d[yc](uh)){a[v][Uc](a,d)}else{if(e){for(var f=a[I],g=d[I],i=0;i<g;i++){a[f+i]=d[i]}}else{a[v](d)}}}}function $p(a,b,c){return 2>=arguments[I]?Kp[ab][N](a,b):Kp[ab][N](a,b,c)}function aq(a,b){for(var c=b||a,d={},e=0,f=0;f<a[I];){var g=a[f++],i=mp(g)?hl+qp(g):(typeof g)[ib](0)+g;fa[K][yc][N](d,i)||(d[i]=k,c[e++]=g)}Ga(c,e)}function bq(a,b){Kp.sort[N](a,b||cq)}function dq(a,b){for(var c=0;c<a[I];c++){a[c]={index:c,value:a[c]}}var d=b||cq;bq(a,function(a,b){return d(a[nb],b[nb])||a[ic]-b[ic]});for(c=0;c<a[I];c++){a[c]=a[c][nb]}}function eq(a,b,c){if(!kp(a)||!kp(b)||a[I]!=b[I]){return n}for(var d=a[I],c=c||fq,e=0;e<d;e++){if(!c(a[e],b[e])){return n}}return k}function cq(a,b){return a>b?1:a<b?-1:0}function fq(a,b){return a===b}function gq(a,b){for(var c=[],d=0;d<b;d++){c[d]=a}return c}function hq(a){if(!arguments[I]){return[]}for(var b=[],c=0;;c++){for(var d=[],e=0;e<arguments[I];e++){var f=arguments[e];if(c>=f[I]){return b}d[v](f[c])}b[v](d)}}function $(a,b){this.x=hp(a)?a:0;this.y=hp(b)?b:0}Oa($[K],function(){return new $(this.x,this.y)});function iq(a,b){return a==b?k:!a||!b?n:a.x==b.x&&a.y==b.y}function jq(a,b){return new $(a.x-b.x,a.y-b.y)}function kq(a,b){return new $(a.x+b.x,a.y+b.y)}function lq(a,b){oa(this,a);Ua(this,b)}V=lq[K];Oa(V,function(){return new lq(this[w],this[Q])});V.pb=function(){return this[w]*this[Q]};sa(V,function(){oa(this,s[db](this[w]));Ua(this,s[db](this[Q]));return this});ta(V,function(){oa(this,s[B](this[w]));Ua(this,s[B](this[Q]));return this});qa(V,function(){oa(this,s[z](this[w]));Ua(this,s[z](this[Q]));return this});V.scale=function(a){oa(this,this[w]*a);Ua(this,this[Q]*a);return this};function mq(a,b,c){for(var d in a){b[N](c,a[d],d,a)}}function nq(a,b,c){var d={},e;for(e in a){d[e]=b[N](c,a[e],e,a)}return d}function oq(a,b,c){for(var d in a){if(!b[N](c,a[d],d,a)){return n}}return k}function pq(a){var b=[],c=0,d;for(d in a){b[c++]=a[d]}return b}function qq(a){var b=[],c=0,d;for(d in a){b[c++]=d}return b}function rq(a,b){for(var c in a){if(a[c]==b){return k}}return n}function sq(a){var b={},c;for(c in a){b[c]=a[c]}return b}function tq(a){var b=gp(a);if(b==il||b==Fg){if(a[Dc]){return a[Dc]()}var b=b==Fg?[]:{},c;for(c in a){b[c]=tq(a[c])}return b}return a}var uq="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function vq(a,b){for(var c,d,e=1;e<arguments[I];e++){d=arguments[e];for(c in d){a[c]=d[c]}for(var f=0;f<uq[I];f++){c=uq[f],fa[K][yc][N](d,c)&&(a[c]=d[c])}}}var wq,xq,yq,zq,Aq,Bq;function Cq(){return dp.navigator?dp.navigator.userAgent:l}function Dq(){return dp.navigator}Aq=zq=yq=xq=wq=n;var Eq;if(Eq=Cq()){var Fq=Dq();wq=0==Eq[sb]("Opera");xq=!wq&&-1!=Eq[sb]("MSIE");zq=(yq=!wq&&-1!=Eq[sb]("WebKit"))&&-1!=Eq[sb]("Mobile");Aq=!wq&&!yq&&"Gecko"==Fq.product}var Gq=wq,Hq=xq,Iq=Aq,Jq=yq,Kq=zq,Lq=Dq();Bq=-1!=(Lq&&Lq.platform||S)[sb]("Mac");var Mq=!!Dq()&&-1!=(Dq().appVersion||S)[sb]("X11"),Nq;a:{var Oq=S,Pq;if(Gq&&dp.opera){var Qq=dp.opera.version,Oq=typeof Qq==T?Qq():Qq}else{if(Iq?Pq=/rv\:([^\);]+)(\)|;)/:Hq?Pq=/MSIE\s+([^\);]+)(\)|;)/:Jq&&(Pq=/WebKit\/(\S+)/),Pq){var Rq=Pq.exec(Cq()),Oq=Rq?Rq[1]:S}}if(Hq){var Sq,Tq=dp[nc];Sq=Tq?Tq[Pc]:ba;if(Sq>ha(Oq)){Nq=S+Sq;break a}}Nq=Oq}var Uq=Nq,Vq={};function Wq(a){return Vq[a]||(Vq[a]=0<=Fp(Uq,a))}var Xq={};function Yq(a){return Xq[a]||(Xq[a]=Hq&&ja[Pc]&&ja[Pc]>=a)}var Zq,$q=!Hq||Yq(9);!Iq&&!Hq||Hq&&Yq(9)||Iq&&Wq("1.9.1");Hq&&Wq(Ve);function ar(a,b){var c;c=(c=a.className)&&typeof c[qc]==T?c[qc](/\s+/):[];var d=$p(arguments,1),e;e=c;for(var f=0,g=0;g<d[I];g++){0<=Lp(e,d[g])||(e[v](d[g]),f++)}e=f==d[I];Ka(a,c[cd](id));return e}function br(a){return a?new cr(dr(a)):Zq||(Zq=new cr)}function er(a,b){mq(b,function(b,d){d==vn?a[zc].cssText=b:d==Qh?Ka(a,b):d==ej?a.htmlFor=b:d in fr?a[E](fr[d],b):0==d[Jc](Eg,0)?a[E](d,b):a[d]=b})}var fr={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:Bj,width:To,usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:po};function gr(a,b,c){return hr(ja,arguments)}function hr(a,b){var c=b[0],d=b[1];if(!$q&&d&&(d[Sb]||d[F])){c=[Ze,c];d[Sb]&&c[v](od,zp(d[Sb]),td);if(d[F]){c[v](qd,zp(d[F]),td);var e={};vq(e,d);d=e;delete d[F]}c[v](mf);c=c[cd](S)}c=a[Bb](c);d&&(np(d)?Ka(c,d):jp(d)?ar[Uc](l,[c][hb](d)):er(c,d));2<b[I]&&ir(a,c,b,2);return c}function ir(a,b,c,d){function e(c){c&&b[t](np(c)?a[lb](c):c)}for(;d<c[I];d++){var f=c[d];kp(f)&&!(mp(f)&&0<f[cb])?Mp(jr(f)?Yp(f):f,e):e(f)}}function kr(a){return a.compatMode==uf}function lr(a){for(var b;b=a[Gb];){a[Cc](b)}}function mr(a){return a&&a[Zc]?a[Zc][Cc](a):l}function nr(a,b){if(a[Tc]&&1==b[cb]){return a==b||a[Tc](b)}if("undefined"!=typeof a.compareDocumentPosition){return a==b||Boolean(a.compareDocumentPosition(b)&16)}for(;b&&a!=b;){b=b[Zc]}return b==a}function dr(a){return 9==a[cb]?a:a.ownerDocument||a[nc]}function jr(a){if(a&&typeof a[I]==gl){if(mp(a)){return typeof a[pb]==T||typeof a[pb]==pn}if(pp(a)){return typeof a[pb]==T}}return n}function or(a,b,c,d){c||(a=a[Zc]);for(var c=d==l,e=0;a&&(c||e<=d);){if(b(a)){return a}a=a[Zc];e++}return l}function cr(a){this.nb=a||dp[nc]||ja}V=cr[K];V.q=function(a){return np(a)?this.nb[gb](a):a};V.xw=function(a){var a=a||this.Ip()||da,b=a[nc];if(Jq&&!Wq(Re)&&!Kq){"undefined"==typeof a.innerHeight&&(a=da);var b=a.innerHeight,c=a[nc][Yb].scrollHeight;a==a.top&&c<b&&(b-=15);a=new lq(a.innerWidth,b)}else{a=kr(b)?b[Yb]:b[Bc],a=new lq(a[kc],a[Mc])}return a};V.ep=function(a,b,c){return hr(this.nb,arguments)};V.createElement=function(a){return this.nb[Bb](a)};V.createTextNode=function(a){return this.nb[lb](a)};V.Kl=function(){return kr(this.nb)};V.Ip=function(){return this.nb[Ob]||this.nb[Rb]};V.ww=function(){return !Jq&&kr(this.nb)?this.nb[Yb]:this.nb[Bc]};V.Oi=function(){var a=this.nb,b=!Jq&&kr(a)?a[Yb]:a[Bc],a=a[Ob]||a[Rb];return new $(a.pageXOffset||b[Nc],a.pageYOffset||b[$b])};V.appendChild=function(a,b){a[t](b)};V.Ng=lr;V.removeNode=mr;Sa(V,nr);function pr(a,b,c){return s.min(s.max(a,b),c)}function qr(a,b){var c=a%b;return 0>c*b?c+b:c}function rr(a){return qr(a,360)}function sr(a){return a*s.PI/180}function tr(a){return Pp(arguments,function(a,c){return a+c},0)}function ur(a){return tr[Uc](l,arguments)/arguments[I]}function vr(a,b,c,d){this.Of=a;this.Pf=b;this.Cb=c;this.Db=d}V=vr[K];Oa(V,function(){return new vr(this.Of,this.Pf,this.Cb,this.Db)});V.Od=function(a){return this.Of==a.Of&&this.Pf==a.Pf&&this.Cb==a.Cb&&this.Db==a.Db};V.qx=function(){var a=this.Cb-this.Of,b=this.Db-this.Pf;return a*a+b*b};V.ax=function(){return s[Ib](this.qx())};V.Ep=function(a){return new $(this.Of+a*(this.Cb-this.Of),this.Pf+a*(this.Db-this.Pf))};function wr(a,b){this.x=a;this.y=b}xp(wr,$);V=wr[K];Oa(V,function(){return new wr(this.x,this.y)});V.Aq=function(){return s[Ib](this.x*this.x+this.y*this.y)};V.Tr=function(){return this.x*this.x+this.y*this.y};V.scale=function(a){this.x*=a;this.y*=a;return this};V.add=function(a){this.x+=a.x;this.y+=a.y;return this};V.pq=function(a){this.x-=a.x;this.y-=a.y;return this};V.rotate=function(a){var b=s.cos(a),a=s.sin(a),c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};V.Od=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y};function xr(a,b){return new wr(a.x+b.x,a.y+b.y)}function yr(a,b){return new wr(a.x-b.x,a.y-b.y)}function zr(){}zr[K].iq=n;zr[K].cc=function(){if(!this.iq){this.iq=k,this.lb()}};zr[K].lb=function(){this.nx&&Ar[Uc](l,this.nx)};function Br(a){a&&typeof a.cc==T&&a.cc()}function Ar(a){for(var b=0,c=arguments[I];b<c;++b){var d=arguments[b];kp(d)?Ar[Uc](l,d):Br(d)}}function Cr(a){Cr[id](a);return a}Cr[id]=fp;var Dr=!Hq||Yq(9),Er=!Hq||Yq(9),Fr=Hq&&!Wq(Ue);!Jq||Wq("528");Iq&&Wq("1.9b")||Hq&&Wq(Ue)||Gq&&Wq("9.5")||Jq&&Wq("528");!Iq||Wq(Ue);function Gr(a,b){Aa(this,a);Pa(this,b);wa(this,this[Ec])}xp(Gr,zr);V=Gr[K];V.lb=function(){delete this[F];delete this[Ec];delete this.currentTarget};V.Ge=n;V.jh=k;V.stopPropagation=function(){this.Ge=k};V.preventDefault=function(){this.jh=n};function Hr(a){a[ob]()}function Ir(a,b){a&&this.oc(a,b)}xp(Ir,Gr);var Jr=[1,4,2];V=Ir[K];Pa(V,l);V.relatedTarget=l;V.offsetX=0;V.offsetY=0;V.clientX=0;V.clientY=0;V.screenX=0;V.screenY=0;V.button=0;za(V,0);V.charCode=0;V.ctrlKey=n;V.altKey=n;V.shiftKey=n;V.metaKey=n;V.iw=n;V.Fc=l;V.oc=function(a,b){var c=Aa(this,a[F]);Gr[N](this,c);Pa(this,a[Ec]||a.srcElement);wa(this,b);var d=a[$a];if(d){if(Iq){var e;a:{try{Cr(d.nodeName);e=k;break a}catch(f){}e=n}e||(d=l)}}else{if(c==Xk){d=a.fromElement}else{if(c==Wk){d=a.toElement}}}this.relatedTarget=d;this.offsetX=Jq||a.offsetX!==ba?a.offsetX:a.layerX;this.offsetY=Jq||a.offsetY!==ba?a.offsetY:a.layerY;this.clientX=a[Wb]!==ba?a[Wb]:a.pageX;this.clientY=a[Xb]!==ba?a[Xb]:a.pageY;this.screenX=a[xb]||0;this.screenY=a[yb]||0;this.button=a.button;za(this,a[Eb]||0);this.charCode=a.charCode||(c==dk?a[Eb]:0);this.ctrlKey=a[pc];this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.iw=Bq?a.metaKey:a[pc];this.state=a.state;this.Fc=a;delete this.jh;delete this.Ge};V.sx=function(a){return Dr?this.Fc.button==a:this[F]==Rh?0==a:!!(this.Fc.button&Jr[a])};V.lp=function(){return this.sx(0)&&!(Jq&&Bq&&this[pc])};V.stopPropagation=function(){Ir.Pb[tc][N](this);this.Fc[tc]?this.Fc[tc]():this.Fc.cancelBubble=k};V.preventDefault=function(){Ir.Pb[ob][N](this);var a=this.Fc;if(a[ob]){a[ob]()}else{if(a.returnValue=n,Fr){try{(a[pc]||112<=a[Eb]&&123>=a[Eb])&&za(a,-1)}catch(b){}}}};V.Uv=function(){return this.Fc};V.lb=function(){Ir.Pb.lb[N](this);this.Fc=l;Pa(this,l);wa(this,l);this.relatedTarget=l};function Kr(){}var Lr=0;V=Kr[K];V.key=0;V.Lf=n;V.Sl=n;V.oc=function(a,b,c,d,e,f){pp(a)?this.Yp=k:a&&a[Lb]&&pp(a[Lb])?this.Yp=n:h(r(Ff));this.hh=a;this.yp=b;this.src=c;Aa(this,d);this.capture=!!e;this.Al=f;this.Sl=n;this.key=++Lr;this.Lf=n};V.handleEvent=function(a){return this.Yp?this.hh[N](this.Al||this.src,a):this.hh[Lb][N](this.hh,a)};var Mr={},Nr={},Or={},Pr={};function Qr(a,b,c,d,e){if(b){if(jp(b)){for(var f=0;f<b[I];f++){Qr(a,b[f],c,d,e)}return l}var d=!!d,g=Nr;b in g||(g[b]={Ua:0,rc:0});g=g[b];d in g||(g[d]={Ua:0,rc:0},g.Ua++);var g=g[d],i=qp(a),j;g.rc++;if(g[i]){j=g[i];for(f=0;f<j[I];f++){if(g=j[f],g.hh==c&&g.Al==e){if(g.Lf){break}return j[f].key}}}else{j=g[i]=[],g.Ua++}f=Rr();f.src=a;g=new Kr;g.oc(c,f,a,b,d,e);c=g.key;f.key=c;j[v](g);Mr[c]=g;Or[i]||(Or[i]=[]);Or[i][v](g);a.addEventListener?(a==dp||!a.np)&&a.addEventListener(b,f,d):a.attachEvent(b in Pr?Pr[b]:Pr[b]=kl+b,f);return c}h(r("Invalid event type"))}function Rr(){var a=Sr,b=Er?function(c){return a[N](b.src,b.key,c)}:function(c){c=a[N](b.src,b.key,c);if(!c){return c}};return b}function Tr(a,b,c,d,e){if(jp(b)){for(var f=0;f<b[I];f++){Tr(a,b[f],c,d,e)}return l}a=Qr(a,b,c,d,e);Mr[a].Sl=k;return a}function Ur(a,b,c,d,e){if(jp(b)){for(var f=0;f<b[I];f++){Ur(a,b[f],c,d,e)}return l}d=!!d;a:{f=Nr;if(b in f&&(f=f[b],d in f&&(f=f[d],a=qp(a),f[a]))){a=f[a];break a}a=l}if(!a){return n}for(f=0;f<a[I];f++){if(a[f].hh==c&&a[f][vb]==d&&a[f].Al==e){return Vr(a[f].key)}}return n}function Vr(a){if(!Mr[a]){return n}var b=Mr[a];if(b.Lf){return n}var c=b.src,d=b[F],e=b.yp,f=b[vb];c.removeEventListener?(c==dp||!c.np)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in Pr?Pr[d]:Pr[d]=kl+d,e);c=qp(c);e=Nr[d][f][c];if(Or[c]){var g=Or[c];Wp(g,b);0==g[I]&&delete Or[c]}b.Lf=k;e.Mp=k;Wr(d,f,c,e);delete Mr[a];return k}function Wr(a,b,c,d){if(!d.Qi&&d.Mp){for(var e=0,f=0;e<d[I];e++){d[e].Lf?d[e].yp.src=l:(e!=f&&(d[f]=d[e]),f++)}Ga(d,f);d.Mp=n;0==f&&(delete Nr[a][b][c],Nr[a][b].Ua--,0==Nr[a][b].Ua&&(delete Nr[a][b],Nr[a].Ua--),0==Nr[a].Ua&&delete Nr[a])}}function Xr(a,b,c){var d=0,e=b==l,f=c==l,c=!!c;if(a==l){mq(Or,function(a){for(var g=a[I]-1;0<=g;g--){var i=a[g];if((e||b==i[F])&&(f||c==i[vb])){Vr(i.key),d++}}})}else{if(a=qp(a),Or[a]){for(var a=Or[a],g=a[I]-1;0<=g;g--){var i=a[g];if((e||b==i[F])&&(f||c==i[vb])){Vr(i.key),d++}}}}return d}function Yr(a,b,c,d,e){var f=1,b=qp(b);if(a[b]){a.rc--;a=a[b];a.Qi?a.Qi++:a.Qi=1;try{for(var g=a[I],i=0;i<g;i++){var j=a[i];j&&!j.Lf&&(f&=Zr(j,e)!==n)}}finally{a.Qi--,Wr(c,d,b,a)}}return Boolean(f)}function Zr(a,b){var c=a[Lb](b);a.Sl&&Vr(a.key);return c}function Sr(a,b){if(!Mr[a]){return k}var c=Mr[a],d=c[F],e=Nr;if(!(d in e)){return k}var e=e[d],f,g;if(!Er){f=b||ep(Uo);var i=k in e,j=n in e;if(i){if(0>f[Eb]||f.returnValue!=ba){return k}a:{var m=n;if(0==f[Eb]){try{za(f,-1);break a}catch(o){m=k}}if(m||f.returnValue==ba){f.returnValue=k}}}m=new Ir;m.oc(f,this);f=k;try{if(i){for(var q=[],u=m.currentTarget;u;u=u[Zc]){q[v](u)}g=e[k];g.rc=g.Ua;for(var y=q[I]-1;!m.Ge&&0<=y&&g.rc;y--){wa(m,q[y]),f&=Yr(g,q[y],d,k,m)}if(j){g=e[n];g.rc=g.Ua;for(y=0;!m.Ge&&y<q[I]&&g.rc;y++){wa(m,q[y]),f&=Yr(g,q[y],d,n,m)}}}else{f=Zr(c,m)}}finally{q&&Ga(q,0),m.cc()}return f}d=new Ir(b,this);try{f=Zr(c,d)}finally{d.cc()}return f}function $r(a){this.Dc=a;this.wa=[]}xp($r,zr);var as=[];$r[K].If=function(a,b,c,d,e){jp(b)||(as[0]=b,b=as);for(var f=0;f<b[I];f++){this.wa[v](Qr(a,b[f],c||this,d||n,e||this.Dc||this))}return this};$r[K].removeAll=function(){Mp(this.wa,Vr);Ga(this.wa,0)};$r[K].lb=function(){$r.Pb.lb[N](this);this[Ic]()};$r[K].handleEvent=function(){h(r("EventHandler.handleEvent not implemented"))};function bs(a){a=S+a;if(/^\s*$/[Za](a)?0:/^[\],:{}\s\u2028\u2029]*$/[Za](a[bb](/\\["\\\/bfnrtu]/g,nf)[bb](/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,hg)[bb](/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,S))){try{return eval(de+a+fe)}catch(b){}}h(r("Invalid JSON string: "+a))}function cs(a){this.Xi=a}cs[K].Gu=function(a){var b=[];this.Zl(a,b);return b[cd](S)};cs[K].Zl=function(a,b){switch(typeof a){case pn:this.gq(a,b);break;case gl:this.Vw(a,b);break;case Yg:b[v](a);break;case"undefined":b[v](fl);break;case il:if(a==l){b[v](fl);break}if(jp(a)){this.Uw(a,b);break}this.Ww(a,b);break;case T:break;default:h(r("Unknown type: "+typeof a))}};var ds={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\u000b"},es=/\uffff/[Za]("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;cs[K].gq=function(a,b){b[v](td,a[bb](es,function(a){if(a in ds){return ds[a]}var b=a.charCodeAt(0),e=gg;16>b?e+=Fe:256>b?e+=Ee:4096>b&&(e+=Ae);return ds[a]=e+b[ac](16)}),td)};cs[K].Vw=function(a,b){b[v](ia(a)&&!ka(a)?a:fl)};cs[K].Uw=function(a,b){var c=a[I];b[v](cg);for(var d=S,e=0;e<c;e++){b[v](d),d=a[e],this.Zl(this.Xi?this.Xi[N](a,S+e,d):d,b),d=ge}b[v](hg)};cs[K].Ww=function(a,b){b[v](bp);var c=S,d;for(d in a){if(fa[K][yc][N](a,d)){var e=a[d];typeof e!=T&&(b[v](c),this.gq(d,b),b[v](Ye),this.Zl(this.Xi?this.Xi[N](a,d,e):e,b),c=ge)}}b[v](cp)};function fs(a,b){var c=qp(a),d=b||gs;return function(){var b=this||dp,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),f=d(c,arguments);return b[yc](f)?b[f]:b[f]=a[Uc](this,arguments)}}function gs(a,b){for(var c=[a],d=b[I]-1;0<=d;--d){c[v](typeof b[d],b[d])}return c[cd](hd)}function hs(a,b,c,d){this.top=a;Va(this,b);Ra(this,c);xa(this,d)}Oa(hs[K],function(){return new hs(this.top,this[R],this[P],this[C])});Sa(hs[K],function(a){return !this||!a?n:a instanceof hs?a[C]>=this[C]&&a[R]<=this[R]&&a.top>=this.top&&a[P]<=this[P]:a.x>=this[C]&&a.x<=this[R]&&a.y>=this.top&&a.y<=this[P]});hs[K].Gn=function(a){xa(this,s.min(this[C],a[C]));this.top=s.min(this.top,a.top);Va(this,s.max(this[R],a[R]));Ra(this,s.max(this[P],a[P]))};function is(a,b){return a[C]<=b[R]&&b[C]<=a[R]&&a.top<=b[P]&&b.top<=a[P]}function js(a,b,c,d){xa(this,a);this.top=b;oa(this,c);Ua(this,d)}Oa(js[K],function(){return new js(this[C],this.top,this[w],this[Q])});js[K].Jp=function(a){var b=s.max(this[C],a[C]),c=s.min(this[C]+this[w],a[C]+a[w]);if(b<=c){var d=s.max(this.top,a.top),a=s.min(this.top+this[Q],a.top+a[Q]);if(d<=a){return xa(this,b),this.top=d,oa(this,c-b),Ua(this,a-d),k}}return n};Sa(js[K],function(a){return a instanceof js?this[C]<=a[C]&&this[C]+this[w]>=a[C]+a[w]&&this.top<=a.top&&this.top+this[Q]>=a.top+a[Q]:a.x>=this[C]&&a.x<=this[C]+this[w]&&a.y>=this.top&&a.y<=this.top+this[Q]});function ks(a,b,c){np(b)?ls(a,c,b):mq(b,vp(ls,a))}function ls(a,b,c){a[zc][Ip(c)]=b}function ms(a,b){var c=dr(a);return c[Rb]&&c[Rb].getComputedStyle&&(c=c[Rb].getComputedStyle(a,l))?c[b]||c.getPropertyValue(b):S}function ns(a,b){return ms(a,b)||(a[Oc]?a[Oc][b]:l)||a[zc]&&a[zc][b]}function os(a){a=a?9==a[cb]?a:dr(a):ja;return Hq&&!Yq(9)&&!br(a).Kl()?a[Bc]:a[Yb]}function ps(a){var b=a[Ya]();if(Hq){a=a.ownerDocument,xa(b,b[C]-(a[Yb][Hb]+a[Bc][Hb])),b.top-=a[Yb][Kb]+a[Bc][Kb]}return b}function qs(a){if(Hq&&!Yq(8)){return a.offsetParent}for(var b=dr(a),c=ns(a,Pl),d=c==Vi||c==lg,a=a[Zc];a&&a!=b;a=a[Zc]){if(c=ns(a,Pl),d=d&&c==gn&&a!=b[Yb]&&a!=b[Bc],!d&&(a.scrollWidth>a[kc]||a.scrollHeight>a[Mc]||c==Vi||c==lg||c==am)){return a}}return l}function rs(a){for(var b=new hs(0,p,p,0),c=br(a),d=c.nb[Bc],e=c.nb[Yb],f=c.ww();a=qs(a);){if((!Hq||0!=a[kc])&&(!Jq||0!=a[Mc]||a!=d)&&a!=d&&a!=e&&ns(a,sl)!=Po){var g=ss(a),i;i=a;if(Iq&&!Wq(Je)){var j=ha(ms(i,dh));if(ts(i)){var m=i.offsetWidth-i[kc]-j-ha(ms(i,fh)),j=j+m}i=new $(j,ha(ms(i,hh)))}else{i=new $(i[Hb],i[Kb])}g.x+=i.x;g.y+=i.y;b.top=s.max(b.top,g.y);Va(b,s.min(b[R],g.x+a[kc]));Ra(b,s.min(b[P],g.y+a[Mc]));xa(b,s.max(b[C],g.x))}}d=f[Nc];f=f[$b];xa(b,s.max(b[C],d));b.top=s.max(b.top,f);c=c.xw();Va(b,s.min(b[R],d+c[w]));Ra(b,s.min(b[P],f+c[Q]));return 0<=b.top&&0<=b[C]&&b[P]>b.top&&b[R]>b[C]?b:l}function ss(a){var b,c=dr(a),d=ns(a,Pl),e=Iq&&c[Ab]&&!a[Ya]&&d==lg&&(b=c[Ab](a))&&(0>b[xb]||0>b[yb]),f=new $(0,0),g=os(c);if(a==g){return f}if(a[Ya]){b=ps(a),a=br(c).Oi(),f.x=b[C]+a.x,f.y=b.top+a.y}else{if(c[Ab]&&!e){b=c[Ab](a),a=c[Ab](g),f.x=b[xb]-a[xb],f.y=b[yb]-a[yb]}else{b=a;do{f.x+=b.offsetLeft;f.y+=b.offsetTop;b!=a&&(f.x+=b[Hb]||0,f.y+=b[Kb]||0);if(Jq&&ns(b,Pl)==Vi){f.x+=c[Bc][Nc];f.y+=c[Bc][$b];break}b=b.offsetParent}while(b&&b!=a);if(Gq||Jq&&d==lg){f.y-=c[Bc].offsetTop}for(b=a;(b=qs(b))&&b!=c[Bc]&&b!=g;){if(f.x-=b[Nc],!Gq||b[Vc]!=Wf){f.y-=b[$b]}}}}return f}function us(a,b){typeof a==gl&&(a=(b?s[z](a):a)+Ul);return a}function vs(a){if(ns(a,Bi)!=U){return ws(a)}var b=a[zc],c=b.display,d=b.visibility,e=b[fc];Fa(b,Dj);Ia(b,lg);Ta(b,Tj);a=ws(a);Ta(b,c);Ia(b,e);Fa(b,d);return a}function ws(a){var b=a.offsetWidth,c=a.offsetHeight,d=Jq&&!b&&!c;return(!hp(b)||d)&&a[Ya]?(a=ps(a),new lq(a[R]-a[C],a[P]-a.top)):new lq(b,c)}function xs(a,b){Ta(a[zc],b?S:U)}function ts(a){return nm==ns(a,Ai)}function ys(a,b,c,d){if(/^\d+px?$/[Za](b)){return ga(b,10)}var e=a[zc][c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a[Oc][c];a[zc][c]=b;b=a[zc][d];a[zc][c]=e;a.runtimeStyle[c]=f;return b}function zs(a,b){return ys(a,a[Oc]?a[Oc][b]:l,hk,Kl)}var As={thin:2,medium:4,thick:6};function Bs(a,b){if((a[Oc]?a[Oc][b+Uf]:l)==U){return 0}var c=a[Oc]?a[Oc][b+Zf]:l;return c in As?As[c]:ys(a,c,hk,Kl)}function Cs(a,b,c,d,e,f,g,i){var j,m=c.offsetParent;if(m){var o=m[Vc]==Df||m[Vc]==sf;if(!o||ns(m,Pl)!=gn){j=ss(m),o||(j=jq(j,new $(m[Nc],m[$b])))}}m=ss(a);o=vs(a);m=new js(m.x,m.y,o[w],o[Q]);(o=rs(a))&&m.Jp(new js(o[C],o.top,o[R]-o[C],o[P]-o.top));var o=br(a),q=br(c);if(o.nb!=q.nb){var u=o.nb[Bc],q=q.Ip(),y=new $(0,0),D=dr(u)?dr(u)[Ob]||dr(u)[Rb]:da,Y=u;do{var L;if(D==q){L=ss(Y)}else{var X=Y;L=new $;if(1==X[cb]){if(X[Ya]){X=ps(X),L.x=X[C],L.y=X.top}else{var G=br(X).Oi(),X=ss(X);L.x=X.x-G.x;L.y=X.y-G.y}}else{var G=pp(X.Uv),aa=X;X[qb]?aa=X[qb][0]:G&&X.Fc[qb]&&(aa=X.Fc[qb][0]);L.x=aa[Wb];L.y=aa[Xb]}}y.x+=L.x;y.y+=L.y}while(D&&D!=q&&(Y=D.frameElement)&&(D=D.parent));u=jq(y,ss(u));Hq&&!o.Kl()&&(u=jq(u,o.Oi()));xa(m,m[C]+u.x);m.top+=u.y}a=(b&4&&ts(a)?b^2:b)&-5;b=new $(a&2?m[C]+m[w]:m[C],a&1?m.top+m[Q]:m.top);j&&(b=jq(b,j));e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var na;if(g&&(na=rs(c))&&j){na.top-=j.y,Va(na,na[R]-j.x),Ra(na,na[P]-j.y),xa(na,na[C]-j.x)}return Ds(b,c,d,f,na,g,i)}function Ds(a,b,c,d,e,f,g){var a=a[Dc](),i=0,j=(c&4&&ts(b)?c^2:c)&-5,c=vs(b),g=g?g[Dc]():c[Dc]();if(d||0!=j){j&2?a.x-=g[w]+(d?d[R]:0):d&&(a.x+=d[C]),j&1?a.y-=g[Q]+(d?d[P]:0):d&&(a.y+=d.top)}if(f){if(e){i=a;d=0;if(65==(f&65)&&(i.x<e[C]||i.x>=e[R])){f&=-2}if(132==(f&132)&&(i.y<e.top||i.y>=e[P])){f&=-5}if(i.x<e[C]&&f&1){i.x=e[C],d|=1}i.x<e[C]&&i.x+g[w]>e[R]&&f&16&&(oa(g,s.max(g[w]-(i.x+g[w]-e[R]),0)),d|=4);if(i.x+g[w]>e[R]&&f&1){i.x=s.max(e[R]-g[w],e[C]),d|=1}f&2&&(d|=(i.x<e[C]?16:0)|(i.x+g[w]>e[R]?32:0));if(i.y<e.top&&f&4){i.y=e.top,d|=2}i.y>=e.top&&i.y+g[Q]>e[P]&&f&32&&(Ua(g,s.max(g[Q]-(i.y+g[Q]-e[P]),0)),d|=8);if(i.y+g[Q]>e[P]&&f&4){i.y=s.max(e[P]-g[Q],e.top),d|=2}f&8&&(d|=(i.y<e.top?64:0)|(i.y+g[Q]>e[P]?128:0));i=d}else{i=256}if(i&496){return i}}f=a;e=Iq&&(Bq||Mq)&&Wq(Je);f instanceof $?(a=f.x,f=f.y):(a=f,f=ba);xa(b[zc],us(a,e));b[zc].top=us(f,e);if(!(c==g||(!c||!g?0:c[w]==g[w]&&c[Q]==g[Q]))){a=br(dr(b)).Kl(),Hq&&(!a||!Wq(Ue))?(c=b[zc],a?(Hq?(a=zs(b,ul),e=zs(b,vl),f=zs(b,wl),d=zs(b,tl),a=new hs(f,e,d,a)):(a=ms(b,ul),e=ms(b,vl),f=ms(b,wl),d=ms(b,tl),a=new hs(ha(f),ha(e),ha(d),ha(a))),Hq?(e=Bs(b,bh),f=Bs(b,eh),d=Bs(b,gh),b=Bs(b,$g),b=new hs(d,f,b,e)):(e=ms(b,dh),f=ms(b,fh),d=ms(b,hh),b=ms(b,ah),b=new hs(ha(d),ha(f),ha(b),ha(e))),c.pixelWidth=g[w]-b[C]-a[C]-a[R]-b[R],c.pixelHeight=g[Q]-b.top-a.top-a[P]-b[P]):(c.pixelWidth=g[w],c.pixelHeight=g[Q])):(b=b[zc],Iq?b.MozBoxSizing=Zg:Jq?b.WebkitBoxSizing=Zg:b.boxSizing=Zg,oa(b,s.max(g[w],0)+Ul),Ua(b,s.max(g[Q],0)+Ul))}return i}function Es(){}Es[K].Oc=function(){};function Fs(a,b){this.element=a;this.vq=b}xp(Fs,Es);Fs[K].Oc=function(a,b,c){Cs(this.element,this.vq,a,b,ba,c)};function Gs(a,b){this.u=a instanceof $?a:new $(a,b)}xp(Gs,Es);Gs[K].Oc=function(a,b,c,d){Cs(os(a),0,a,b,this.u,c,l,d)};var Hs="StopIteration" in dp?dp.StopIteration:r("StopIteration");function Is(){}Ma(Is[K],function(){h(Hs)});Is[K].Tl=function(){return this};function Js(a){if(typeof a.He==T){a=a.He()}else{if(kp(a)||np(a)){a=a[I]}else{var b=0,c;for(c in a){b++}a=b}}return a}function Ks(a){if(typeof a.Je==T){return a.Je()}if(np(a)){return a[qc](S)}if(kp(a)){for(var b=[],c=a[I],d=0;d<c;d++){b[v](a[d])}return b}return pq(a)}function Ls(a,b,c){if(typeof a[Sc]==T){return a[Sc](b,c)}if(kp(a)||np(a)){return Qp(a,b,c)}var d;if(typeof a.$l==T){d=a.$l()}else{if(typeof a.Je!=T){if(kp(a)||np(a)){d=[];for(var e=a[I],f=0;f<e;f++){d[v](f)}}else{d=qq(a)}}else{d=ba}}for(var e=Ks(a),f=e[I],g=0;g<f;g++){if(!b[N](c,e[g],d&&d[g],a)){return n}}return k}function Ms(a,b){this.Oa={};this.wa=[];var c=arguments[I];if(1<c){c%2&&h(r("Uneven number of arguments"));for(var d=0;d<c;d+=2){this.set(arguments[d],arguments[d+1])}}else{a&&this.Il(a)}}V=Ms[K];V.Ua=0;V.eh=0;V.He=function(){return this.Ua};V.Je=function(){this.bh();for(var a=[],b=0;b<this.wa[I];b++){a[v](this.Oa[this.wa[b]])}return a};V.$l=function(){this.bh();return this.wa[hb]()};V.vw=function(a){return Ns(this.Oa,a)};V.oq=function(a){for(var b=0;b<this.wa[I];b++){var c=this.wa[b];if(Ns(this.Oa,c)&&this.Oa[c]==a){return k}}return n};V.Od=function(a,b){if(this===a){return k}if(this.Ua!=a.He()){return n}var c=b||Os;this.bh();for(var d,e=0;d=this.wa[e];e++){if(!c(this.get(d),a.get(d))){return n}}return k};function Os(a,b){return a===b}Ba(V,function(){this.Oa={};Ga(this.wa,0);this.eh=this.Ua=0});V.remove=function(a){return Ns(this.Oa,a)?(delete this.Oa[a],this.Ua--,this.eh++,this.wa[I]>2*this.Ua&&this.bh(),k):n};V.bh=function(){if(this.Ua!=this.wa[I]){for(var a=0,b=0;a<this.wa[I];){var c=this.wa[a];Ns(this.Oa,c)&&(this.wa[b++]=c);a++}Ga(this.wa,b)}if(this.Ua!=this.wa[I]){for(var d={},b=a=0;a<this.wa[I];){c=this.wa[a],Ns(d,c)||(this.wa[b++]=c,d[c]=1),a++}Ga(this.wa,b)}};V.get=function(a,b){return Ns(this.Oa,a)?this.Oa[a]:b};V.set=function(a,b){Ns(this.Oa,a)||(this.Ua++,this.wa[v](a),this.eh++);this.Oa[a]=b};V.Il=function(a){var b;a instanceof Ms?(b=a.$l(),a=a.Je()):(b=qq(a),a=pq(a));for(var c=0;c<b[I];c++){this.set(b[c],a[c])}};Oa(V,function(){return new Ms(this)});V.Tl=function(a){this.bh();var b=0,c=this.wa,d=this.Oa,e=this.eh,f=this,g=new Is;Ma(g,function(){for(;;){e!=f.eh&&h(r("The map has changed since the iterator was created"));b>=c[I]&&h(Hs);var g=c[b++];return a?g:d[g]}});return g};function Ns(a,b){return fa[K][yc][N](a,b)}function Ps(a){this.Oa=new Ms;a&&this.Il(a)}function Qs(a){var b=typeof a;return b==il&&a||b==T?hl+qp(a):b[Zb](0,1)+a}V=Ps[K];V.He=function(){return this.Oa.He()};V.add=function(a){this.Oa.set(Qs(a),a)};V.Il=function(a){for(var a=Ks(a),b=a[I],c=0;c<b;c++){this.add(a[c])}};V.removeAll=function(a){for(var a=Ks(a),b=a[I],c=0;c<b;c++){this.remove(a[c])}};V.remove=function(a){return this.Oa.remove(Qs(a))};Ba(V,function(){this.Oa[Pb]()});Sa(V,function(a){return this.Oa.vw(Qs(a))});V.Jp=function(a){for(var b=new Ps,a=Ks(a),c=0;c<a[I];c++){var d=a[c];this[Tc](d)&&b.add(d)}return b};V.Je=function(){return this.Oa.Je()};Oa(V,function(){return new Ps(this)});V.Od=function(a){return this.He()==Js(a)&&this.Xw(a)};V.Xw=function(a){var b=Js(a);if(this.He()>b){return n}!(a instanceof Ps)&&5<b&&(a=new Ps(a));return Ls(this,function(b){return typeof a[Tc]==T?a[Tc](b):typeof a.oq==T?a.oq(b):kp(a)||np(a)?0<=Lp(a,b):rq(a,b)})};V.Tl=function(){return this.Oa.Tl(n)};function Rs(){}xp(Rs,zr);V=Rs[K];V.np=k;V.Bl=l;V.addEventListener=function(a,b,c,d){Qr(this,a,b,c,d)};V.removeEventListener=function(a,b,c,d){Ur(this,a,b,c,d)};V.dispatchEvent=function(a){var b=a[F]||a,c=Nr;if(b in c){if(np(a)){a=new Gr(a,this)}else{if(a instanceof Gr){Pa(a,a[Ec]||this)}else{var d=a,a=new Gr(b,this);vq(a,d)}}var d=1,e,c=c[b],b=k in c,f;if(b){e=[];for(f=this;f;f=f.Bl){e[v](f)}f=c[k];f.rc=f.Ua;for(var g=e[I]-1;!a.Ge&&0<=g&&f.rc;g--){wa(a,e[g]),d&=Yr(f,e[g],a[F],k,a)&&a.jh!=n}}if(n in c){if(f=c[n],f.rc=f.Ua,b){for(g=0;!a.Ge&&g<e[I]&&f.rc;g++){wa(a,e[g]),d&=Yr(f,e[g],a[F],n,a)&&a.jh!=n}}else{for(e=this;!a.Ge&&e&&f.rc;e=e.Bl){wa(a,e),d&=Yr(f,e,a[F],n,a)&&a.jh!=n}}}a=Boolean(d)}else{a=k}return a};V.lb=function(){Rs.Pb.lb[N](this);Xr(this);this.Bl=l};function Ss(a,b){this.Si=a||1;this.ih=b||Ts;this.Jl=Z(this.Gl,this);this.Nf=wp()}xp(Ss,Rs);Ss[K].enabled=n;var Ts=dp.window;V=Ss[K];V.sc=l;V.Gl=function(){if(this.enabled){var a=wp()-this.Nf;if(0<a&&a<0.8*this.Si){this.sc=this.ih[mc](this.Jl,this.Si-a)}else{if(this.$v(),this.enabled){this.sc=this.ih[mc](this.Jl,this.Si),this.Nf=wp()}}}};V.$v=function(){this[ub](Jn)};V.start=function(){this.enabled=k;if(!this.sc){this.sc=this.ih[mc](this.Jl,this.Si),this.Nf=wp()}};V.stop=function(){this.enabled=n;if(this.sc){this.ih.clearTimeout(this.sc),this.sc=l}};V.lb=function(){Ss.Pb.lb[N](this);this.stop();delete this.ih};function Us(a,b,c){pp(a)?c&&(a=Z(a,c)):a&&typeof a[Lb]==T?a=Z(a[Lb],a):h(r(Ff));return 2147483647<b?-1:Ts[mc](a,b||0)}function Vs(a){return a}function Ws(a,b){this.Dc=new $r(this);this.wl(a||l);b&&this.Hw(b)}xp(Ws,Rs);V=Ws[K];V.Ga=l;V.yu=k;V.Up=l;V.Jf=n;V.kw=n;V.sq=-1;V.rq=-1;V.zu=n;V.cw=k;V.Cf=Un;V.Hw=function(a){this.Cf=a};V.q=function(){return this.Ga};V.wl=function(a){this.uw();this.Ga=a};V.uw=function(){this.Jf&&h(r("Can not change this state of the popup while showing."))};V.B=function(){return this.Jf};V.Df=function(a){this.Tg&&this.Tg.stop();this.$g&&this.$g.stop();a?this.zw():this.Pi()};V.Oc=fp;V.zw=function(){if(!this.Jf&&this.bl()){this.Ga||h(r("Caller must call setElement before trying to show the popup"));this.Oc();var a=dr(this.Ga);this.zu&&this.Dc.If(a,ck,this.Au,k);if(this.yu){if(this.Dc.If(a,Uk,this.ap,k),Hq){var b;try{b=a.activeElement}catch(c){}for(;b&&b.nodeName==Ef;){try{var d=b[Wc]||b[Ub][nc]}catch(e){break}a=d;b=a.activeElement}this.Dc.If(a,Uk,this.ap,k);this.Dc.If(a,xi,this.$o)}else{this.Dc.If(a,Wg,this.$o)}}this.Cf==Un?this.Bu():this.Cf==$k&&this.Oc();this.Jf=k;this.Tg?(Tr(this.Tg,Ni,this.bp,n,this),this.Tg.play()):this.bp()}};V.Pi=function(a){if(!this.Jf||!this.ew(a)){return n}this.Dc&&this.Dc[Ic]();this.$g?(Tr(this.$g,Ni,vp(this.Xp,a),n,this),this.$g.play()):this.Xp(a);return k};V.Xp=function(a){this.Cf==Un?this.kw?Us(this.Zp,0,this):this.Zp():this.Cf==$k&&this.jw();this.Jf=n;this.vl(a)};V.Bu=function(){Fa(this.Ga[zc],Po);xs(this.Ga,k)};V.Zp=function(){Fa(this.Ga[zc],Dj);xs(this.Ga,n)};V.jw=function(){xa(this.Ga[zc],le);this.Ga[zc].top=le};V.bl=function(){return this[ub](Tg)};V.bp=function(){this.sq=wp();this.rq=-1;this[ub](Im)};V.ew=function(a){return this[ub]({type:Sg,target:a})};V.vl=function(a){this.rq=wp();this[ub]({type:Ej,target:a})};V.ap=function(a){a=a[Ec];!nr(this.Ga,a)&&(!this.Up||nr(this.Up,a))&&!this.Sp()&&this.Pi(a)};V.Au=function(a){27==a[Eb]&&this.Pi(a[Ec])&&(a[ob](),a[tc]())};V.$o=function(a){if(this.cw){var b=dr(this.Ga);if(Hq||Gq){if(a=b.activeElement,!a||nr(this.Ga,a)||a[Vc]==sf){return}}else{if(a[Ec]!=b){return}}this.Sp()||this.Pi()}};V.Sp=function(){return 150>wp()-this.sq};V.lb=function(){Ws.Pb.lb[N](this);this.Dc.cc();Br(this.Tg);Br(this.$g);delete this.Ga;delete this.Dc};function Xs(a,b){this.Qt=4;this.m=b||ba;Ws[N](this,a)}xp(Xs,Ws);Xs[K].re=function(){return this.m||l};Xs[K].Qw=function(a){this.m=a||ba;this.B()&&this.Oc()};Xs[K].Oc=function(){if(this.m){var a=!this.B()&&this.Cf!=$k,b=this.q();a&&(Fa(b[zc],Dj),xs(b,k));this.m.Oc(b,this.Qt,this.Cx);a&&xs(b,n)}};function Ys(a,b,c){this.Ai=c||(a?br(np(a)?ja[gb](a):a):br());Xs[N](this,this.Ai.ep(Di,{style:Rl}));this.Ll=new $(1,1);this.Ce=new Ps;a&&this.lw(a);b!=l&&this.rw(b)}xp(Ys,Xs);var Zs=[];V=Ys[K];V.Rb=l;Ka(V,"goog-tooltip");V.mq=500;V.nq=0;V.lw=function(a){a=np(a)?ja[gb](a):a;this.Ce.add(a);Qr(a,Xk,this.cq,n,this);Qr(a,Wk,this.Vi,n,this);Qr(a,Vk,this.bq,n,this);Qr(a,Xi,this.aq,n,this);Qr(a,Wg,this.Vi,n,this)};V.detach=function(a){if(a){a=np(a)?ja[gb](a):a,this.jq(a),this.Ce.remove(a)}else{for(var b=this.Ce.Je(),c=0;a=b[c];c++){this.jq(a)}this.Ce[Pb]()}};V.jq=function(a){Ur(a,Xk,this.cq,n,this);Ur(a,Wk,this.Vi,n,this);Ur(a,Vk,this.bq,n,this);Ur(a,Xi,this.aq,n,this);Ur(a,Wg,this.Vi,n,this)};V.Fv=function(a){this.mq=a};V.Ev=function(a){this.nq=a};V.rw=function(a){var b=this.q();if(En in b){b.textContent=a}else{if(b[Gb]&&3==b[Gb][cb]){for(;b.lastChild!=b[Gb];){b[Cc](b.lastChild)}b[Gb].data=a}else{lr(b),b[t](dr(b)[lb](a))}}};V.wl=function(a){var b=this.q();b&&mr(b);Ys.Pb.wl[N](this,a);a&&(b=this.Ai.nb[Bc],b.insertBefore(a,b.lastChild))};V.getState=function(){return this.Mf?this.B()?4:1:this.Wg?3:this.B()?2:0};V.bl=function(){if(!Ws[K].bl[N](this)){return n}if(this[Hc]){for(var a,b=0;a=Zs[b];b++){nr(a.q(),this[Hc])||a.Df(n)}}0<=Lp(Zs,this)||Zs[v](this);a=this.q();Ka(a,this.className);this.Fi();Qr(a,Xk,this.dp,n,this);Qr(a,Wk,this.cp,n,this);this.$k();return k};V.vl=function(){Wp(Zs,this);for(var a=this.q(),b,c=0;b=Zs[c];c++){b[Hc]&&nr(a,b[Hc])&&b.Df(n)}this.jp&&this.jp.jl();Ur(a,Xk,this.dp,n,this);Ur(a,Wk,this.cp,n,this);Qa(this,ba);if(0==this.getState()){this.yi=n}Ws[K].vl[N](this)};V.Pw=function(a,b){this[Hc]==a&&this.Ce[Tc](this[Hc])&&(this.yi||!this.Ix?(this.Df(n),this.B()||this.cv(a,b)):Qa(this,ba));this.Mf=ba};V.cv=function(a,b){Qa(this,a);this.Qw(b||this.Gp(0));this.Df(k)};V.Sw=function(a){this.Wg=ba;a==this[Hc]&&(this.Rb==l||this.Rb!=this.q()&&!this.Ce[Tc](this.Rb))&&!this.Lu()&&this.Df(n)};V.Lu=function(){return !(!this.wp||!this.wp.Rb)};V.Pp=function(a){var b=this.Ai.Oi();this.Ll.x=a[Wb]+b.x;this.Ll.y=a[Xb]+b.y};V.cq=function(a){var b=this.Ei(a[Ec]);this.Rb=b;this.Fi();b!=this[Hc]&&(Qa(this,b),this.Kp(b),this.Hp(),this.Pp(a))};V.Ei=function(a){try{for(;a&&!this.Ce[Tc](a);){a=a[Zc]}return a}catch(b){return l}};V.bq=function(a){this.Pp(a);this.yi=k};V.aq=function(a){this.Rb=a=this.Ei(a[Ec]);this.yi=k;if(this[Hc]!=a){Qa(this,a);var b=this.Gp(1);this.Fi();this.Kp(a,b);this.Hp()}};V.Gp=function(a){return 0==a?(a=this.Ll[Dc](),new $s(a)):new at(this.Rb)};V.Hp=function(){if(this[Hc]){for(var a,b=0;a=Zs[b];b++){if(nr(a.q(),this[Hc])){a.wp=this,this.jp=a}}}};V.Vi=function(a){var b=this.Ei(a[Ec]),c=this.Ei(a[$a]);if(b!=c){if(b==this.Rb){this.Rb=l}this.$k();this.yi=n;this.B()&&(!a[$a]||!nr(this.q(),a[$a]))?this.jl():Qa(this,ba)}};V.dp=function(){var a=this.q();if(this.Rb!=a){this.Fi(),this.Rb=a}};V.cp=function(a){var b=this.q();if(this.Rb==b&&(!a[$a]||!nr(b,a[$a]))){this.Rb=l,this.jl()}};V.Kp=function(a,b){if(!this.Mf){this.Mf=Us(Z(this.Pw,this,a,b),this.mq)}};V.$k=function(){if(this.Mf){Ts.clearTimeout(this.Mf),this.Mf=ba}};V.jl=function(){if(2==this.getState()){this.Wg=Us(Z(this.Sw,this,this[Hc]),this.nq)}};V.Fi=function(){if(this.Wg){Ts.clearTimeout(this.Wg),this.Wg=ba}};V.lb=function(){this.Df(n);this.$k();this.detach();this.q()&&mr(this.q());this.Rb=l;delete this.Ai;Ys.Pb.lb[N](this)};function $s(a,b){Gs[N](this,a,b)}xp($s,Gs);$s[K].Oc=function(a,b,c){b=os(a);b=rs(b);c=c?new hs(c.top+10,c[R],c[P],c[C]+10):new hs(10,0,0,10);Ds(this.u,a,4,c,b,9)&496&&Ds(this.u,a,4,c,b,5)};function at(a){Fs[N](this,a,3)}xp(at,Fs);at[K].Oc=function(a,b,c){var d=new $(10,0);Cs(this.element,this.vq,a,b,d,c,9)&496&&Cs(this.element,2,a,1,d,c,5)};var bt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:Ud,whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ct(a){var b={},a=S+a,c=a[ib](0)==ud?a:ud+a;if(dt[Za](c)){return b.Wi=et(c),Aa(b,Cj),b}a:{var d=a.match(ft);if(d){var c=ea(d[1]),e=ea(d[2]),d=ea(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c[I]){return b.Wi=gt(c),Aa(b,gm),b}if(bt&&(c=bt[a[fd]()])){return b.Wi=c,Aa(b,al),b}h(r(a+" is not a valid color string"))}var ht=/#(.)(.)(.)/;function et(a){dt[Za](a)||h(r("'"+a+"' is not a valid hex color"));4==a[I]&&(a=a[bb](ht,vd));return a[fd]()}function it(a){a=et(a);return[ga(a[Zb](1,2),16),ga(a[Zb](3,2),16),ga(a[Zb](5,2),16)]}function jt(a,b,c){a=ea(a);b=ea(b);c=ea(c);(ka(a)||0>a||255<a||ka(b)||0>b||255<b||ka(c)||0>c||255<c)&&h(r('"('+a+ge+b+ge+c+'") is not a valid RGB color'));a=kt(a[ac](16));b=kt(b[ac](16));c=kt(c[ac](16));return ud+a+b+c}function gt(a){return jt(a[0],a[1],a[2])}var dt=/^#(?:[0-9a-f]{3}){1,2}$/i,ft=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function kt(a){return 1==a[I]?Ae+a:a}function lt(a,b,c){c=pr(c,0,1);return[s[z](c*a[0]+(1-c)*b[0]),s[z](c*a[1]+(1-c)*b[1]),s[z](c*a[2]+(1-c)*b[2])]}function mt(a){return a==U||a==S||a==mo?U:ct(a).Wi}function nt(a){if(a==U){return U}a=it(a);a=s[z]((a[0]+a[1]+a[2])/3);return jt(a,a,a)}function ot(a,b){a=sq(a);if(!W(a[bc])){a.bold=b}return a}function pt(a,b){this.start=a<b?a:b;this.end=a<b?b:a}Oa(pt[K],function(){return new pt(this[O],this.end)});function qt(a,b){return a[O]<=b&&a.end>=b}function rt(a,b,c){c=W(c)?c:0.00001;return a==b||s.abs(a-b)<=c}function st(a,b,c){return !a||a==U?b:!b||b==U?a:gt(lt(it(a),it(b),c))}function tt(a,b){if(!W(b)){return a}var c=new pt(b,b);return a?new pt(s.min(a[O],c[O]),s.max(a.end,c.end)):c}function ut(a,b,c){var d=W(b)?b:a&&W(c)&&c<a[O]?c:a?a[O]:l,a=W(c)?c:a&&W(b)&&b>a.end?b:a?a.end:l;return W(d)&&W(a)?new pt(d,a):l}function vt(a,b,c){this.ze=a;this.ye=mt(b);this.xe=mt(W(c)?c:Ud)}Oa(vt[K],function(){return new vt(this.ze,this.ye,this.xe)});vt[K].$h=function(){return new vt(this.ze,nt(this.ye),nt(this.xe))};function wt(a){W(a)||(a={});this.O=U;W(a.fill)&&this.Fk(a.fill);this.$b=1;W(a.rb)&&this.dk(a.rb);this.Jb=U;W(a.stroke)&&this.gc(a.stroke);this.H=1;W(a.Qa)&&this.ee(a.Qa);this.nc=1;W(a.vd)&&this.bg(a.vd);this.jd=$m;W(a.io)&&this.co(a.io);this.F=l;if(a.F){this.F=sq(a.F),this.F.Kd=mt(this.F.Kd),this.F.Ld=mt(this.F.Ld)}this.Ea=l;a.pattern&&this.Kk(a.pattern)}V=wt[K];Oa(V,function(){var a=new wt;a.O=this.O;a.$b=this.$b;a.Jb=this.Jb;a.H=this.H;a.nc=this.nc;a.jd=this.jd;a.F=this.F?sq(this.F):l;a.Ea=this.Ea?this.Ea[Dc]():l;return a});V.$h=function(){var a=this[Dc]();a.Fk(nt(this.O));a.gc(nt(this.Jb));if(this.F){var b=sq(this.F);b.Kd=nt(this.F.Kd);b.Ld=nt(this.F.Ld);a.F=b}this.Ea&&a.Kk(this.Ea.$h());return a};V.Fk=function(a){this.O=mt(a)};V.dk=function(a){this.$b=pr(a,0,1)};V.gc=function(a,b){this.Jb=mt(a);W(b)&&this.ee(b)};V.ee=function(a){this.H=a};V.wo=function(){return this.pd()?this.H:0};V.bg=function(a){this.nc=pr(a,0,1)};V.co=function(a){this.jd=a};V.Kk=function(a){this.Ea=a};V.Qg=function(){return 0<this.$b&&(!(!W(this.O)||this.O==U)||W(this.F)||W(this.Ea))};V.pd=function(){return 0<this.H&&0<this.nc&&!(!W(this.Jb)||this.Jb==U)};V.ho=function(){return this.jd!=$m};V.xg=function(){return !this.Qg()&&!this.pd()};V.Af=function(){return this.Qg()&&1<=this.$b};V.fo=function(){return this.pd()&&1<=this.nc};var xt=new wt({rb:0,fill:So,vd:0,stroke:So});function yt(a,b){return new wt({stroke:U,fill:a,rb:W(b)?b:1})}function zt(a,b,c){return new wt({stroke:a,Qa:b,fill:W(c)&&c?Sd:U})}function At(a,b){return a.Af()?a.O:b.Af()?!a.Qg()?b.O:st(a.O,b.O,a.$b):l}function Bt(a,b){a&&(a.logicalname=b)}function Ct(a){a=or(a,function(a){return W(a.logicalname)},k);return !a?kg:a.logicalname}function Dt(a){var b=l,c=l;pp(a)?b=a:c=a;this.dw=b;this.Ga=c;this.Ui=l}Dt[K].ib=function(a){this.Ui=a;this.Mg()&&Bt(this.Ga,a)};Dt[K].Nn=function(){return this.Mg()?Ct(this.Ga):this.Ui};Dt[K].q=function(){if(!this.Ga){this.Ga=this.dw(),ip(this.Ui)||Bt(this.Ga,this.Ui)}return this.Ga};Dt[K].Mg=function(){return !!this.Ga};function Et(){this.eb=[]}V=Et[K];V.ac=function(a){this.eb[v](a)};V.move=function(a,b){this.ac({type:Zk,data:{x:a,y:b}})};V.G=function(a,b){this.ac({type:Ak,data:{x:a,y:b}})};V.pi=function(a,b,c,d,e,f){this.ac({type:ji,data:{Cb:a,Db:b,gd:c,hd:d,x:e,y:f}})};V.jb=function(a,b,c,d,e,f,g){this.ac({type:Bg,data:{ml:a,nl:b,ol:c,pl:d,Ho:e,ql:f,Io:g}})};V.Dk=function(a,b){if(0!=a[I]){if(0==this.eb[I]?this[rb](a[0].x,a[0].y):this.G(a[0].x,a[0].y),b){for(var c=1;c<a[I];++c){this.pi(b[c-1][1].x,b[c-1][1].y,b[c][0].x,b[c][0].y,a[c].x,a[c].y)}}else{for(c=1;c<a[I];++c){this.G(a[c].x,a[c].y)}}}};V.close=function(){this.ac({type:Vh,data:l})};function Ft(a,b){var c=new Et;0<a[I]&&(c.Dk(a),b||c[Ac]());return c}function Gt(a,b,c){switch(c){case fn:c=a;a+=b;break;case Ni:c=a-b;break;case Eh:c=a-b/2;a+=b/2;break;default:c=a=NaN}return{start:c,end:a}}function Ht(a,b,c){switch(c){case fn:return a;case Ni:return b;case Eh:return ur(a,b)}}function It(a){this.Nc=a;this.Wd=br(a);this.ll=[];this.Pd=new $r;this.Ln=fs(Z(function(a,c){return this.Rp(a,c)},this),function(a,c){var d=[a,c[0]];mq(c[1],function(a,b){d[v](a);d[v](b)});return d[cd](ig)})}var Jt=0;function Kt(){var a=jg+Jt[ac]();Jt++;return a}V=It[K];oa(V,0);Ua(V,0);V.qs=function(a,b){var c=this.hq(a,b);c.ib(kg);return c};Ba(V,function(){this.Pd.cc();this.Pd=new $r;Mp(this.ll,function(a){a.lb()});Vp(this.ll);this.Qo(this.Nc[gb](Gh))});V.ib=function(a,b){a&&(a[sc]==Dt?a.ib(b):Bt(a,b))};V.Nn=function(a){return Ct(a)};V.qf=function(a,b,c){a[sc]==Dt&&(a=a.q());this.Pd.If(a,b,c)};V.is=function(a,b,c){a=new Ys(a);b=this.Wd.ep(Di,S,b);ks(b,c);a.q()[t](b);a.Fv(100);a.Ev(100);this.ll[v](a);return a};V.appendChild=function(a,b){if(b){var c;if(b[sc]==Dt){if(!b.Mg()){return}c=b.q()}else{c=b}this.Dp(a)[t](c)}};V.replaceChild=function(a,b,c){this.Dp(a).replaceChild(b,c);Xr(c)};V.Ng=function(a){a.Mg()&&this.Qo(a.q())};V.Qo=function(a){this.Wd.Ng(a)};V.tl=function(a){this.Wd.removeNode(a);Xr(a)};V.Dp=function(a){return a?a.q():this.Nc[gb](Fh)};V.ja=function(a){var a=W(a)?a:n,b=new Dt(Z(this.Lp,this));a||b.q();return b};V.oe=function(a,b){return this.tq(this.bx(a),b)};V.Zj=function(a,b,c,d,e){a=this.Uh(a,b,c,d);this[t](e,a);return a};V.um=function(a,b,c,d,e,f){a=this.wq(a,b,c,d,e);this[t](f,a);return a};V.Wa=function(a,b,c,d,e,f){a=this.ne(a,b,c,d,e);this[t](f,a);return a};V.xa=function(a,b,c){a=this.oe(a,b);this[t](c,a);return a};V.rh=function(a,b,c,d,e,f,g,i){a=this.xq(a,b,c,d,e,f,g);this[t](i,a);return a};V.ct=function(a,b,c,d,e,f,g,i,j){a=this.Yi(a,b,c,d,e,f,g,i);this[t](j,a);return a};V.js=function(a,b,c,d,e,f,g,i,j){a=this.Zi(a,b,c,d,e,f,g,i);this[t](j,a);return a};V.Ju=function(a,b){return this.Ln(a,b)[w]};V.yw=function(a,b){switch(b[F]){case Zk:var c=b[A];this.Yo(a,c.x,c.y);break;case Ak:c=b[A];this.Xo(a,c.x,c.y);break;case ji:c=b[A];this.Wo(a,c.Cb,c.Db,c.gd,c.hd,c.x,c.y);break;case Bg:c=b[A];this.Uo(a,c.ml,c.nl,c.ol,c.pl,c.Ho,c.ql,c.Io);break;case Vh:this.Vo(a)}};V.bx=function(a){for(var b=[],c=0;c<a.eb[I];c++){this.yw(b,a.eb[c])}return b};function Lt(a){It[N](this,a);this.Ff=this.dh=l;this.Ji={}}xp(Lt,It);V=Lt[K];V.hq=function(a,b){oa(this,a);Ua(this,b);var c=this.fb(wn);c[E](Mj,Fh);c[E](To,a);c[E](Bj,b);this.Nc[gb](Gh)[t](c);this.Ff=this.fb(zi);this.Ff[E](Mj,zi);this.Ji={};c[t](this.Ff);return new Dt(c)};V.Qp=function(){return this.Nc[gb](Gh).innerHTML};qa(V,function(a){return s[z](100*a)/100});V.Uh=function(a,b,c,d){var e=this.fb(Ph);e[E](li,a);e[E](mi,b);e[E](Vl,c);this.Ec(e,d);return e};V.wq=function(a,b,c,d,e){var f=this.fb(Ki);f[E](li,a);f[E](mi,b);f[E](om,c);f[E](pm,d);this.Ec(f,e);return f};V.ne=function(a,b,c,d,e){var f=this.fb(Zl);f[E](Vo,a);f[E](Yo,b);f[E](To,c);f[E](Bj,d);this.Ec(f,e);return f};V.tq=function(a,b){var c=this.fb(xl);c[E](ni,a[cd](S));this.Ec(c,b);return c};V.xq=function(a,b,c,d,e,f,g){return this.Zi(a,b,c,d,0,e,f,g)};V.Yi=function(a,b,c,d,e,f,g,i){var j=Ht(b,d,f),m=Ht(c,e,f);return this.Zi(a,j,m,(new vr(b,c,d,e)).ax(),rr(180*s[Db](e-c,d-b)/s.PI),f,g,i)};V.Zi=function(a,b,c,d,e,f,g,i){var j=new wt({fill:i[tb]});if(i[tb]&&i[tb]!=U&&i.$a&&i.$a!=U){var m=new wt({fill:i[tb],stroke:i.$a,Qa:3}),o=this.ja();this.Yg(a,b,c,d,e,f,g,i,m,o);this.Yg(a,b,c,d,e,f,g,i,j,o);return o.q()}return this.Xg(a,b,c,d,e,f,g,i,j)};V.Xg=function(a,b,c,d,e,f,g,i,j){d=this.fb(An);g=Gt(0,i[M],g);g=Ht(g[O],g.end,Ni);g-=0.15*i[M];g=new wr(0,g);g[xc](sr(e));c=new wr(b,c);c.add(g);b=c.x;c=c.y;d[t](this.Nc[lb](a));switch(f){case fn:d[E](Bn,fn);break;case Eh:d[E](Bn,Ok);break;case Ni:d[E](Bn,Ni)}d[E](Vo,b);d[E](Yo,c);d[E](Zi,i.zb);d[E]($i,i[M]||0);i[bc]&&d[E](bj,Xg);i.zf&&d[E](aj,bk);i.$n&&d[E](Cn,ro);0!=e&&d[E](ko,km+e+id+b+id+c+fe);this.Ec(d,j);return d};V.Yg=function(a,b,c,d,e,f,g,i,j,m){a=this.Xg(a,b,c,d,e,f,g,i,j);this[t](m,a);return a};V.Lp=function(){return this.fb(nj)};V.en=function(a,b){var c=Kt(),d=this.fb(Th),e=this.fb(Zl);e[E](Vo,b[C]);e[E](Yo,b.top);e[E](To,b[w]);e[E](Bj,b[Q]);d[t](e);d[E](Mj,c);this.Ff[t](d);d=a.q();d[E](Sh,so+c+fe);return d};V.Yo=function(a,b,c){a[v](If+b+ge+c)};V.Xo=function(a,b,c){a[v](Gf+b+ge+c)};V.Wo=function(a,b,c,d,e,f,g){a[v](tf+b+ge+c+ge+d+ge+e+ge+f+ge+g)};V.Vo=function(a){a[v](bg)};V.Uo=function(a,b,c,d,e,f,g,i){var f=rr(f),g=rr(g),j=d*s.cos(sr(g-90)),m=e*s.sin(sr(g-90)),f=i?g-f:f-g;0>f&&(f+=360);a[v](of+d+ge+e+je+(180<f?1:0)+ge+(i?1:0)+ge+(b+j)+ge+(c+m))};V.Kg=function(a,b,c){a[E](ko,lo+b+ie+c+fe)};V.Qk=function(a,b){a[E](To,b)};V.no=function(a,b){a[E](Vo,b)};V.gc=function(a,b,c){a[E](un,c);b&&a[E](qn,b)};V.Rp=function(a,b){var c=this.dh;if(!c){var d=this.Nc,c=d.createElementNS(Kj,Di),e=c[zc];Ta(e,U);Ia(e,lg);e.top=this[Q]+10+Ul;xa(e,this[w]+10+Ul);e.whiteSpace=el;c[t](d[lb](id));d[Bc][t](c);this.dh=c}c[Gb].data=a;e=c[zc];ra(e,b.zb);Na(e,b[M]+Ul);e.fontWeight=b[bc]?Xg:S;e.fontStyle=b.zf?bk:S;Ta(e,Vg);d=c[kc];c=c[Mc];Ta(e,U);return new lq(d,c)};V.fb=function(a){return this.Nc.createElementNS(Lj,a)};V.Ec=function(a,b){b.pd()?(a[E](qn,b.Jb),a[E](un,b.H),b.fo()?a.removeAttribute(tn):a[E](tn,b.nc),b.ho()?a[E](rn,Mt(b.jd,b.H)):a.removeAttribute(rn)):(a[E](qn,U),a[E](un,0));b.Af()?a.removeAttribute(Si):a[E](Si,b.$b);var c=b.F;if(c){c=this.ht(c),a[E](Ri,so+c+fe)}else{if(W(b.Ea)){c=this.it(b.Ea),a[E](Ri,so+c+fe)}else{a[E](Ri,b.O)}}};V.ht=function(a){var b=Kt(),c=this.fb(Ek),d=a.Cb,e=a.gd,f=a.Db,g=a.hd;typeof d==pn&&d[ib](d[I]-1)==Yd&&(d=s[z](ga(d,10)*this[w]/100));typeof e==pn&&e[ib](e[I]-1)==Yd&&(e=s[z](ga(e,10)*this[w]/100));typeof f==pn&&f[ib](f[I]-1)==Yd&&(f=s[z](ga(f,10)*this[Q]/100));typeof g==pn&&g[ib](g[I]-1)==Yd&&(g=s[z](ga(g,10)*this[Q]/100));c[E](Mj,b);c[E](Wo,d);c[E](Zo,f);c[E](Xo,e);c[E]($o,g);c[E](tj,to);d=this.fb(ln);d[E](jl,De);d[E](vn,mn+a.Kd);c[t](d);d=this.fb(ln);d[E](jl,Ke);d[E](vn,mn+a.Ld);c[t](d);this.Ff[t](c);return b};V.it=function(a){var b=a.ze+ig+a.ye+ig+a.xe;if(!(b in this.Ji)){var c=l;switch(a.ze){case Tl:c=this.Zv(a)}a=Kt();c[E](Mj,a);this.Ff[t](c);this.Ji[b]=a}return this.Ji[b]};V.Zv=function(a){var b=this.fb(zl);b[E](Al,to);b[E](Vo,Ae);b[E](Yo,Ae);b[E](To,Oe);b[E](Bj,Oe);b[E](Lo,Ce);var c=this.fb(Zl);c[E](Vo,Ae);c[E](Yo,Ae);c[E](To,Oe);c[E](Bj,Oe);c[E](Ri,a.xe);b[t](c);c=this.fb(nj);c[E](qn,a.ye);c[E](sn,dn);a=this.fb(Ak);a[E](Wo,Ne);a[E](Zo,Ae);a[E](Xo,Oe);a[E]($o,Ne);a[E](un,Ne);c[t](a);a=this.fb(Ak);a[E](Wo,Ae);a[E](Zo,Ne);a[E](Xo,Ne);a[E]($o,Oe);a[E](un,Ne);c[t](a);b[t](c);return b};function Mt(a,b){switch(a){case $m:return Ae;case oi:return S+4*b+ge+(S+b);default:return Mt($m,b)}}function Nt(a){this.$d=a}function Ot(a,b,c){a=ep(b,a);return W(a)&&pp(c)?c(a):a}V=Nt[K];V.R=function(a,b,c){for(var d=l,e=0;e<this.$d[I];e++){a:{var d=this.$d[e],f=a,g=c;if(np(f)){d=Ot(d,f,g)}else{for(var i=0;i<f[I];++i){var j=Ot(d,f[i],g);if(W(j)){d=j;break a}}d=l}}if(W(d)){return d}}d=b;return hp(d)?d:l};V.fi=function(a,b,c){for(var b=W(b)?sq(b):{},d=this.$d[I]-1;0<=d;d--){var e=b,f=this.$d[d],g=a,i=c;np(g)&&(g=[g]);for(var j=0;j<g[I];++j){var m=Ot(f,g[j],i)||{};vq(e,m)}}return b};function Pt(a){if(!W(a)){return l}if(typeof a==Yg){return a}a=S+a;return a==Ge||a[fd]()==oo?k:a==Ae||a[fd]()==Qi?n:l}V.za=function(a,b){var c=this.Go(a);if(W(c)){return c}hp(b)||(b=n);return b};V.Go=function(a){return this.R(a,l,Pt)};function Qt(a){if(!W(a)){return l}if(typeof a==gl){return a}a=Gp(S+a);return ka(a)?l:a}V.be=function(a,b){var c=this.Mc(a);if(W(c)){return c}hp(b)||(b=0);return b};V.Mc=function(a){return this.R(a,l,Qt)};function Rt(a){a=Qt(a);return W(a)&&0<=a?a:l}V.da=function(a,b){var c=this.Uk(a);if(W(c)){return c}hp(b)||(b=0);return b};V.Uk=function(a){return this.R(a,l,Rt)};function St(a){return !W(a)?l:S+a}V.Hc=function(a,b){hp(b)||(b=S);return this.R(a,b,St)};V.hi=function(a){return this.R(a,l,St)};function Tt(a){return(a=St(a))?a:l}V.Uc=function(a,b){return this.R(a,b,Tt)};function Ut(a,b){var c=St(b);return rq(a,c)?c:l}V.ia=function(a,b,c){return this.R(a,c,Z(Ut,l,b))};V.Wh=function(a,b){return this.R(a,l,Z(Ut,l,b))};V.rx=function(a){a=this.R(a,l);if(np(a)){var b=a[qc](Ye);1==b[I]&&(b=a[qc](ge));if(3==b[I]){var c=Gp(b[0]),d=Gp(b[1]),b=Gp(b[2]);if(0<=b&&0<=d&&0<=c){return[c,d,b]}}}return !jp(a)||3!=a[I]?l:a};V.zh=function(a,b){var c=this.fi(a,b,function(a){mp(a)||(a={fill:a});var b={},c=Tt(a.fill);if(W(c)){b.fill=c}c=Tt(a.stroke);if(W(c)){b.stroke=c}c=Rt(a.opacity);if(W(c)){b.rb=c}c=Rt(a.strokeWidth);if(W(c)){b.Qa=c}if((a=a.gradient)&&W(a.color1)&&W(a.color2)&&W(a.x1)&&W(a.y1)&&W(a.x2)&&W(a.y2)){c={},c.Kd=Tt(a.color1),c.Ld=Tt(a.color2),c.Cb=a.x1,c.Db=a.y1,c.gd=a.x2,c.hd=a.y2,b.F=c}return b}),c=new wt(c);c.Qg()||(c.Fk(xt.O),c.dk(xt.$b));c.pd()||(c.gc(xt.Jb),c.bg(xt.nc));return c};V.vc=function(a,b){return this.fi(a,b,function(a){var b={},e=Tt(a[tb]);W(e)&&va(b,e);e=Tt(a.auraColor);if(W(e)){b.$a=e}if(e=St(a.fontName)){b.zb=e}(e=Rt(a[M]))&&Na(b,e);e=Pt(a[bc]);if(W(e)){b.bold=e}e=Pt(a.italic);if(W(e)){b.zf=e}a=Pt(a.underline);if(W(a)){b.$n=a}return b})};var Vt={Ay:"multiple",Ky:Mm};function Wt(a,b,c){b||h(r("viscommon: container cannot be null"));var d=!!c,e=gr(Di,{style:Ql}),c=ns(b,Pl);(c==S||c==gn)&&ks(b,Pl,am);return{addError:function(c){d?(e[Zc]!=b&&b[t](e),Xt(a,e,c)):Xt(a,b,c)},Ty:function(c){d?(e[Zc]!=b&&b[t](e),Yt(a,e,c)):Yt(a,b,c)},removeAll:function(){d?google[wc][Yc][Ic](e):google[wc][Yc][Ic](b)}}}function Xt(a,b,c){var d={removable:n,type:Oi},b=google[wc][Yc].addError(b,c,l,d);google[wc][eb][Xa](a,Oi,{id:b,message:c,detailedMessage:S,options:d})}function Yt(a,b,c){var d={removable:k,type:Ro},b=google[wc][Yc].addError(b,c,l,d);google[wc][eb][Xa](a,Oi,{id:b,message:c,detailedMessage:S,options:d})}function Zt(a){It[N](this,a);this.dh=l}xp(Zt,It);V=Zt[K];V.hq=function(a,b){oa(this,a);Ua(this,b);var c=this.xb(Di);this.Td(c,-50000,-50000,this[w]+100000,this[Q]+100000);this.Nc[gb](Gh)[t](c);var d=this.ja(),e=d.q();e.id=Fh;e.coordorigin=Be;e.coordsize=a+id+b;e[zc].top=50000;xa(e[zc],50000);c[t](e);return d};qa(V,function(a){return s[z](a)});V.Uh=function(a,b,c,d){var e=this.xb(yo),f=2*c;this.Td(e,a-c,b-c,f,f);this.Ec(e,d,n);return e};V.wq=function(a,b,c,d,e){var f=this.xb(yo);this.Td(f,a-c,b-d,2*c,2*d);this.Ec(f,e,n);return f};V.ne=function(a,b,c,d,e){var f=this.xb(Ao),g=e.Af()&&1<=d&&1<=c&&!W(e.F);this.Ec(f,e,g);if(e.pd()||g){c=s.max(c-1,0),d=s.max(d-1,0)}this.Td(f,a,b,c,d);return f};V.tq=function(a,b){for(var c=this.xb(Bo),d=this.xb(zo);0<a[I]&&0==Jp(a)[Jc](If,0);){a=$p(a,0,a[I]-1)}d[E](uo,a[cd](S));this.Td(c,0,0,this[w],this[Q]);c[t](d);this.Ec(c,b,n);return c};V.xq=function(a,b,c,d,e,f,g){b=Gt(b,d,e);c=Gt(c,g[M],f);f=Eh;c=Ht(c[O],c.end,f);return this.Yi(a,b[O],c,b.end,c,e,f,g)};V.Yi=function(a,b,c,d,e,f,g,i){var j=new wt({fill:i[tb]});if(i[tb]&&i[tb]!=U&&i.$a&&i.$a!=U){var m=new wt({fill:i[tb],stroke:i.$a,Qa:2}),o=this.ja();this.Yg(a,b,c,d,e,f,g,i,m,o);this.Yg(a,b,c,d,e,f,g,i,j,o);return o.q()}return this.Xg(a,b,c,d,e,f,g,i,j)};V.Zi=function(a,b,c,d,e,f,g,i){var e=sr(e),d=Gt(b,d,f),b=new wr(b,c),j=new wr(d[O],c),j=j[Dc]().pq(b)[xc](e).add(b),c=new wr(d.end,c),c=c[Dc]().pq(b)[xc](e).add(b);return this.Yi(a,j.x,j.y,c.x,c.y,f,g,i)};V.Xg=function(a,b,c,d,e,f,g,i,j){var m=this.xb(Bo);this.Td(m,0,0,this[w],this[Q]);if(g!=Eh){g=Gt(0,i[M],g),g=Ht(g[O],g.end,Eh),g=new wr(0,g),g[xc](sr(rr(180*s[Db](e-c,d-b)/s.PI))),c=new wr(b,c),e=new wr(d,e),c.add(g),e.add(g),b=c.x,c=c.y,d=e.x,e=e.y}b=s[z](b);c=s[z](c);d=s[z](d);e=s[z](e);g=this.xb(zo);g[E](uo,If+b+ge+c+Gf+d+ge+e+zf);g[E](In,oo);b=this.xb(Do);b[E](kl,oo);d=b[zc];Na(d,i[M]);ra(d,i.zb);switch(f){case fn:d[E](vo,hk);break;case Eh:d[E](vo,Eh);break;case Ni:d[E](vo,hm)}if(i[bc]){d.fontWeight=Xg}if(i.zf){d.fontStyle=bk}b[E](pn,a);m[t](g);m[t](b);this.Ec(m,j,n);return m};V.Yg=function(a,b,c,d,e,f,g,i,j,m){a=this.Xg(a,b,c,d,e,f,g,i,j);this[t](m,a);return a};V.Lp=function(){var a=this.xb(xo);this.Td(a,0,0,this[w],this[Q]);return a};V.en=function(a,b){var c=this.xb(Di),d=[this.Gb(50000+b.top),this.Gb(50000+b[C]+b[w]),this.Gb(50000+b.top+b[Q]),this.Gb(50000+b[C])];c[zc].clip=$l+d[cd](ie)+fe;this.Td(c,0,0,this[w]+100000,this[Q]+100000);a.q();d=new Dt(c);this[t](d,a);this.Wa(1,1,1,1,new wt({fill:So}),d);return c};V.Yo=function(a,b,c){a[v](If+s[z](b)+ge+s[z](c))};V.Xo=function(a,b,c){a[v](Gf+s[z](b)+ge+s[z](c))};V.Wo=function(a,b,c,d,e,f,g){a[v](tf+s[z](b)+ge+s[z](c)+ge+s[z](d)+ge+s[z](e)+ge+s[z](f)+ge+s[z](g))};V.Vo=function(a){a[v]($f)};V.Uo=function(a,b,c,d,e,f,g,i){var f=rr(f),g=rr(g),j=s[z](d*s.cos(sr(f-90))),m=s[z](e*s.sin(sr(f-90))),o=s[z](d*s.cos(sr(g-90))),q=s[z](e*s.sin(sr(g-90))),d=s[z](d),e=s[z](e),b=s[z](b),c=s[z](c);if(!(j===o&&m===q)||!(i&&180>rr(g-f)||!i&&180>rr(f-g))){a[v]((i?Xf:pf)+(b-d)+ge+(c-e)+ge+(b+d)+ge+(c+e)+ge+(b+j)+ge+(c+m)+ge+(b+o)+ge+(c+q))}};V.Kg=function(a,b,c){a[zc].top=this.Gb(c);xa(a[zc],this.Gb(b))};V.Qk=function(a,b){oa(a[zc],this.Gb(b))};V.no=function(a,b){xa(a[zc],this.Gb(b))};V.gc=function(a,b,c){if(0==c){ua(a,n)}else{ua(a,k);if(b){a.strokecolor=b}a.strokeweight=c}};V.Rp=function(a,b){var c=this.dh;if(c==l){var c=this.xb(Di),d=c[zc];Ta(d,U);Ia(d,lg);d.top=this.Gb(this[Q]+10);xa(d,this.Gb(this[w]+10));d.whiteSpace=el;d=this.Nc;c[t](d[lb](id));d[Bc][t](c);this.dh=c}c[Gb].data=a;d=c[zc];ra(d,b.zb);Na(d,this.Gb(b[M]||0));d.fontWeight=b[bc]?Xg:S;d.fontStyle=b.zf?bk:S;Ta(d,Vg);var e=c[kc],c=c[Mc];Ta(d,U);b[bc]&&(e*=1.1);b.zf&&(e*=0.9);return new lq(e,c)};V.Gb=function(a){return s[z](a)+Ul};V.xb=function(a){return this.Nc[Bb](a)};V.Ec=function(a,b,c){for(var d=a.children,e=0;e<d[I];e++){(a.children[e][Vc]==Ri||a.children[e][Vc]==qn)&&a[Cc](d[e])}c=W(c)?c:k;if(b.pd()){if(ua(a,k),a.strokeweight=b.H,a.strokecolor=b.Jb,c=!b.fo(),d=b.ho(),c||d){e=this.xb(Co);if(c){e.opacity=S+s[z](100*b.nc)+Yd}d&&(e.dashstyle=$t(b.jd));a[t](e)}}else{c&&b.Af()?(ua(a,k),a.strokeweight=1,a.strokecolor=b.O):ua(a,n)}if(hp(a.filled)){a.filled=k}c=b.F;if(W(b.F)){b=this.xb(wo);b[E](Yh,c.Kd);b[E](Zh,c.Ld);var d=c.Cb,e=c.Db,f=c.gd,c=c.hd;typeof d==pn&&(d=ga(d,10));typeof e==pn&&(e=ga(e,10));typeof f==pn&&(f=ga(f,10));typeof c==pn&&(c=ga(c,10));c=rr(180*s[Db](c-e,f-d)/s.PI);c=qr(270-c,360);b[E](mg,c);b[E](po,sj);a[t](b)}else{b.Ea?(b=this.Xs(b.Ea),a[t](b)):b.O==U?a.filled=n:b.Af()?a.fillcolor=b.O:(c=this.xb(wo),c.opacity=S+s[z](100*b.$b)+Yd,va(c,b.O),a[t](c))}};V.Xs=function(a){var b=this.xb(wo);b[E](po,zl);b[E](Yh,a.ye);b[E](Zh,a.xe);var c=ep(qj);W(c)||(c=Jj);var d=ep(rj);W(d)||(d=He);b[E](en,c+ze+d+ye+a.ze+qe);return b};V.Td=function(a,b,c,d,e){a=a[zc];Ia(a,lg);xa(a,this.Gb(b));a.top=this.Gb(c);oa(a,this.Gb(d));Ua(a,this.Gb(e))};function $t(a){switch(a){case $m:return $m;case oi:return Hm;default:return $t($m)}}function au(a,b){(Hq?0<=Fp(Uq,Qe):Iq?0<=Fp(Uq,Ie):Gq?0<=Fp(Uq,We):Jq&&0<=Fp(Uq,Pe))||h("Graphics is not supported");for(var c=s[B](100000*s.random());da.frames[yf+c];){c++}this.xl=yf+c;this.wb=a;this.Wd=br(this.wb);this.Nb=l;c=!Hq?n:W(ja[Pc])?9>ja[Pc]:!Wq(Ve);this.Qv(b,c);bu(Z(this.Sv,this),Z(this.Rv,this,c))}xp(au,zr);V=au[K];V.Rv=function(a){var b=this.Lw();this.Nb=a?new Zt(b):new Lt(b)};V.Sv=function(){var a=this.px();return a&&a._loaded};V.Og=function(a){var b=Z(function(){return W(this.Nb)},this),c=Z(function(){a(this.Nb)},this);bu(b,c)};V.tt=function(a){var b=this.cm();b&&(oa(b,a[w][ac]()),Ua(b,a[Q][ac]()))};V.Lw=function(){var a=this.cm();return a?a[Wc]||a[Ub][nc]:l};V.px=function(){var a=this.cm();return a?a[Ub]||(a[Wc]||a[Ub][nc])[Ob]||(a[Wc]||a[Ub][nc])[Rb]:l};V.cm=function(){return this.Wd.q(this.xl)};V.Qv=function(a,b){var c=this.Wd[Bb](Nj);c.name=this.xl;c.id=this.xl;oa(c,a[w][ac]());Ua(c,a[Q][ac]());c.frameBorder=0;c.scrolling=dl;c.marginHeight=0;c.marginWidth=0;c.allowTransparency=oo;b||Aa(c,Oj);this.wb.innerHTML=S;this.Wd[t](this.wb,c);c=c[Wc]||c[Ub][nc];c.open();var d=[];b?(d[v](hf),d[v](gf),d[v](lf)):(d[v](df),d[v](jf),d[v](rd),d[v](sd),d[v](gf));d[v](kf);d[v](Jo);d[v](mj);d[v](nd);d[v](cp);d[v](cf);d[v](af);d[v](ef);d[v](pd);d[v](mf);d[v](ff);d[v]($e);d[v](bf);c.write(d[cd](gd));c[Ac]()};function bu(a,b,c){hp(c)||(c=50);a[N]()?b[N]():da[mc](function(){bu(a,b,c)},c)}V.lb=function(){this.Nb&&this.Nb[Pb]();this.Nb=l;this.Wd.Ng(this.wb)};function cu(a){return a*a*a}function du(a){return 1-s.pow(1-a,3)}function eu(a){return 3*a*a-2*a*a*a}var fu={LINEAR:Dk,jy:Pj,By:ol,ky:Qj};function gu(a){switch(a){case Dk:return function(a){return a};case Pj:return cu;case ol:return du;case Qj:return eu}}function hu(){this.eb=[]}V=hu[K];V.ac=function(a,b){this.eb[v]({b:a,vk:b})};V.move=function(a,b){this.ac(l,{type:Zk,data:{x:a,y:b}})};V.G=function(a,b,c){this.ac(a,{type:Ak,data:{x:b,y:c}})};V.pi=function(a,b,c,d,e,f,g){this.ac(a,{type:ji,data:{Cb:b,Db:c,gd:d,hd:e,x:f,y:g}})};V.jb=function(a,b,c,d,e,f,g,i){this.ac(a,{type:Bg,data:{ml:b,nl:c,ol:d,pl:e,Ho:f,ql:g,Io:i}})};V.close=function(a){var b=this.eb[0].vk[A];this.G(a,b.x,b.y)};function iu(a){switch(a[F]){case Zk:case Ak:case ji:return a=a[A],new $(a.x,a.y);case Bg:var a=a[A],b=rr(a.ql);return new $(a.ml+a.ol*s.cos(sr(b-90)),a.nl+a.pl*s.sin(sr(b-90)))}}V.jt=function(){for(var a=[],b=l,c=0;c<this.eb[I];c++){var d=this.eb[c],e=d.vk;if(e[F]==Zk){b=iu(e)}else{d=d.b;a:{for(var f=0;f<a[I];f++){var g=a[f];if(d===g.b||(d==l||g.b==l?0:d.O==g.b.O&&d.$b==g.b.$b&&d.Jb==g.b.Jb&&d.H==g.b.H&&d.nc==g.b.nc&&d.jd==g.b.jd&&(d.F===g.b.F||(d.F==l||g.b.F==l?0:d.F.Kd==g.b.F.Kd&&d.F.Ld==g.b.F.Ld&&d.F.Cb==g.b.F.Cb&&d.F.Db==g.b.F.Db&&d.F.gd==g.b.F.gd&&d.F.hd==g.b.F.hd))&&(d.Ea===g.b.Ea||(d.Ea==l||g.b.Ea==l?0:d.Ea.xe==g.b.Ea.xe&&d.Ea.ye==g.b.Ea.ye&&d.Ea.ze==g.b.Ea.ze)))){d=g;break a}}g={b:d,eb:new Et,ob:l};a[v](g);d=g}iq(d.ob,b)||d.eb[rb](b.x,b.y);d.eb.ac(e);b=d.ob=iu(e)}}return a};V.oe=function(a){var b=this.jt();if(0==b[I]){a=l}else{if(1==b[I]){a=a.oe(b[0].eb,b[0].b)}else{for(var c=a.ja(),d=0;d<b[I];d++){var e=b[d],e=a.oe(e.eb,e.b);a[t](c,e)}a=c.q()}}return a};V.yn=function(){for(var a=new Et,b=0;b<this.eb[I];b++){a.ac(this.eb[b].vk)}return a};function ju(a){this.$d=gq({},a);this.Xl=gq({},a)}ju[K].Lb=function(a,b){var c=this.$d[I];this.$d[a]=b;for(var d=a;d<c;++d){this.Xl[d]=this.Wl(0==d?{}:this.Xl[d-1],this.$d[d])}};ju[K].qq=function(a){var b=gp(a);return b!=il&&b!=Fg||b==il&&pp(a[Dc])||lp(a)};ju[K].Wl=function(a,b){if(this.qq(b)||this.qq(a)||gp(b)==Fg){return b}if(gp(a)==il){var c=sq(a);mq(b,function(b,e){c[e]=!(e in a)||a[e]==l?b:this.Wl(a[e],b)},this)}else{c=Yp(a),mq(b,function(b,e){c[e]=this.Wl(a[e],b)},this)}return c};ju[K].compact=function(){return Jp(this.Xl)};function ku(a,b,c){var d=b.ja(),e=a.outline,f=new Et,g=new hs(e.p.top+0.5,e.p[R]+0.5,e.p[P]+0.5,e.p[C]+0.5),i=e.Eb;f[rb](g[C]+1,g[P]);f.jb(g[C]+1,g[P]-1,1,1,180,270,k);f.G(g[C],g.top+1);f.jb(g[C]+1,g.top+1,1,1,270,0,k);if(W(i)&&i[0].y==e.p.top){for(var j=0;3>j;++j){f.G(i[j].x+0.5,i[j].y+0.5)}}f.G(g[R]-1,g.top);f.jb(g[R]-1,g.top+1,1,1,0,90,k);f.G(g[R],g[P]-1);f.jb(g[R]-1,g[P]-1,1,1,90,180,k);if(W(i)&&i[0].y==e.p[P]){for(j=0;3>j;++j){f.G(i[j].x+0.5,i[j].y+0.5)}}f[Ac]();e=[new wt({fill:So,stroke:Hd,Qa:1}),new wt({fill:Hd,Qa:0,rb:0.6}),new wt({fill:Hd,Qa:0,rb:0.4})];for(g=e[I]-1;0<=g;--g){i=b.xa(f,e[g],d),b.Kg(i,g,g)}a=a.Gs;for(f=0;f<a.pc[I];f++){switch(i=a.pc[f],e=i[pb],g=i.x,i=i.y,e[F]){case An:b.rh(e[A][x],g,i,1,fn,fn,e[A][zc],d);break;case dn:var e=e[A],j=b,m=d,o=new wt({fill:e[tb]});j.Wa(g,i,e[hc],e[hc],o,m)}}b[t](c,d);return d}function lu(a,b){if(!W(a)&&!W(b)){return a===b}if(a===b){return k}var c=gp(a),d=gp(b);if(c!=d){return n}var d=lp(a),e=lp(b);if(d!=e){return n}switch(c){case il:if(d&&e){return 0==a[Vb]()-b[Vb]()}for(var f in a){if(a[yc](f)&&(!b[yc](f)||!lu(a[f],b[f]))){return n}}for(var g in b){if(b[yc](g)&&!a[yc](g)){return n}}return k;case Fg:if(a[I]!=b[I]){return n}for(c=0;c<a[I];++c){if(!lu(a[c],b[c])){return n}}return k;case T:return k;case pn:case gl:case Yg:return n;default:h(r("Error while comparing "+a+" and "+b+": unexpected type of obj1 "+c))}}function mu(a){if(lp(a)){var b=new Date;b[Qc](a.valueOf());return b}var c=gp(a);if(c==il||c==Fg){if(a[Dc]){return a[Dc]()}c=c==Fg?[]:{};for(b in a){c[b]=mu(a[b])}return c}return a}function nu(a){var b=a[Hc]?a[Hc]:{x:0,y:0};return Pp(a.d,function(c,d){var e=Gt(d.x+b.x,d[I],a.Za),f=Gt(d.y+b.y,a.t[M],a.Pa),e=new hs(f[O],e.end,f.end,e[O]);c?c.Gn(e):c=e;return c},l)}var ou={NONE:U,Dy:Dl,jx:T,mx:rm,Tx:oh},pu={NONE:U,kx:Ak,gx:Cg,Ly:hn,hx:Pg,Vx:wh,mx:rm,Ux:sh},qu={hx:Pg,My:kn,Sx:nh,POINTS:Nl,kx:Ak,gx:Cg,NONE:U},ru={ix:xh,uq:Ho,Wx:Bh},su={Ey:Sl,ry:Nk,ey:Pi},tu={NONE:U,Gy:hm,ny:hk,Ny:io,Qx:jh,Qc:Pj,my:gk},uu={Py:Ko,gy:Gj},vu={NONE:U,Qc:Pj,ri:ol},wu={Rx:lh,Oy:qo},xu={fy:Fj,qy:Ik},yu={NONE:U,ly:ek,uq:Ho,lx:Bl},zu={vp:ih,uq:Ho,lx:Bl},Au={by:yi,cy:Ei},Bu={Zx:ri,ix:xh,Jy:ym},Cu={NONE:U,iy:Hj},Du={NONE:U,jx:T,Cy:Cl,Xx:Wh},Eu={Px:Hg,Ox:Gg},Fu=[{color:"#3366CC",lighter:"#45AFE2"},{color:"#DC3912",lighter:"#FF3300"},{color:"#FF9900",lighter:"#FFCC00"},{color:"#109618",lighter:"#14C21D"},{color:"#990099",lighter:"#DF51FD"},{color:"#0099C6",lighter:"#15CBFF"},{color:"#DD4477",lighter:"#FF97D2"},{color:"#66AA00",lighter:"#97FB00"},{color:"#B82E2E",lighter:"#DB6651"},{color:"#316395",lighter:"#518BC6"},{color:"#994499",lighter:"#BD6CBD"},{color:"#22AA99",lighter:"#35D7C2"},{color:"#AAAA11",lighter:"#E9E91F"},{color:"#6633CC",lighter:"#9877DD"},{color:"#E67300",lighter:"#FF8F20"},{color:"#8B0707",lighter:"#D20B0B"},{color:"#651067",lighter:"#B61DBA"},{color:"#329262",lighter:"#40BD7E"},{color:"#5574A6",lighter:"#6AA7C4"},{color:"#3B3EAC",lighter:"#6D70CD"},{color:"#B77322",lighter:"#DA9136"},{color:"#16D620",lighter:"#2DEA36"},{color:"#B91383",lighter:"#E81EA6"},{color:"#F4359E",lighter:"#F558AE"},{color:"#9C5935",lighter:"#C07145"},{color:"#A9C413",lighter:"#D7EE53"},{color:"#2A778D",lighter:"#3EA7C6"},{color:"#668D1C",lighter:"#97D129"},{color:"#BEA413",lighter:"#E9CA1D"},{color:"#0C5922",lighter:"#149638"},{color:"#743411",lighter:"#C5571D"}],Gu={vAxis:{titleTextStyle:{color:"#222",italic:k}},hAxis:{titleTextStyle:{color:"#222",italic:k}},sizeAxis:{minSize:5,maxSize:30},fontName:"Arial",titleTextStyle:{color:Ug,bold:k},bubble:{textStyle:{color:Ug}},annotations:{textStyle:{color:zm},domainTextStyle:{color:"#222"},stemColor:"#999"},majorAxisTextColor:"#222",minorAxisTextColor:"#444",backgroundColor:{fill:Sd,stroke:"#666",strokeWidth:0},axisBackgroundColor:{fill:U},tooltip:{textStyle:{color:Ug}},baselineColor:"#333",gridlineColor:Hd,pieSliceBorderColor:So,pieResidueSliceColor:Hd,pieSliceTextStyle:{color:So},areaOpacity:0.3,intervals:{style:Pg,color:Am,lineWidth:1,fillOpacity:0.3,barWidth:0.25,shortBarWidth:0.1,boxWidth:0.25,pointSize:6},legend:{textStyle:{color:"#222"},pagingTextStyle:{color:"#01c"},scrollArrows:{activeColor:"#01c",inactiveColor:Hd}}};function Hu(a){return a[cd](me)}function Iu(a,b,c,d,e){W(e)||(e=1);if(0==e){return{d:[],aa:n,Yb:0}}var f=[],b=Ju(b,f,d,e,function(b){return a(b,c)[w]});return{d:f,aa:b.Fe,Yb:b.Yb}}function Ju(a,b,c,d,e){var f=e(a);if(f<=c){return a&&b[v](a),{Fe:n,Yb:f}}if(1<d){for(var g=0,i=0,f=1;f<a[I];f++){if(a[ib](f)==id){var j=e(a[Zb](0,f));if(j<=c){i=j,g=f}else{break}}}if(0<g){return b[v](a[Zb](0,g)),b=Ju(a[Zb](g+1),b,c,d-1,e),{Fe:b.Fe,Yb:s.max(i,b.Yb)}}}d=e(ne);if(c<d){for(f=2;1<=f;f--){if(a=e("..."[Zb](0,f)),a<=c){return b[v]("..."[Zb](0,f)),{Fe:k,Yb:a}}}return{Fe:k,Yb:0}}for(f=a[I]-1;1<=f;f--){if(i=a[Zb](0,f)+ne,g=e(i),g<=c){return b[v](i),{Fe:k,Yb:g}}}b[v](ne);return{Fe:k,Yb:d}}function Ku(a){var b={background:Sj,padding:Le,border:Me};if(W(a[M])){Na(b,a[M]+Ul),b.margin=a[M]+Ul}W(a.zb)&&ra(b,a.zb);return b}var Lu=s.log(10);function Mu(a,b){return s.abs(a-b)}function Nu(a,b,c,d){if(!a||!b){return k}var e=d||Mu;return oq(a,function(a,d){var i=b[d];return !hp(b[d])||e(a,i)<=c})}function Ou(a,b,c){if(0==a.x||0==b.x){return{x:0,y:(0==a.x&&0==b.x?0:0==a.x?a.y:b.y)*c/6}}c=c/3*s.min(s.abs(a.x),s.abs(b.x));b=(a.y/a.x+b.y/b.x)/2;return 0<a.x?{x:c,y:c*b}:{x:-c,y:-c*b}}function Pu(a,b,c){var d=a.Aq(),e=b.Aq();if(0==d||0==e){return new wr(0,0)}d=s[Ib](d/e);return xr(a[Dc]()[Rc](1/d),b[Dc]()[Rc](d))[Rc](c/6)}function Qu(a,b,c,d,e){for(var c=c?Ou:Pu,f=[],g=0;g<a[I];++g){var i,j;e?(i=Ru(a,g,1,d),j=Ru(a,g,-1,d)):(i=d?(g+1)%a[I]:g+1,j=d?(a[I]+g-1)%a[I]:g-1);W(i)&&W(j)&&W(a[g])&&W(a[j])&&W(a[i])?(i=c(yr(a[g],a[j]),yr(a[i],a[g]),b),f[v]([yr(a[g],i),xr(a[g],i)])):W(a[g])?f[v]([a[g][Dc](),a[g][Dc]()]):f[v](l)}return f}function Ru(a,b,c,d){var e=b+c;for(d&&(e=(e+a[I])%a[I]);e!=b&&0<=e&&e<a[I];){if(W(a[e])){return e}e+=c;d&&(e=(e+a[I])%a[I])}return l}function Su(a,b,c){var c=c||0,d=Tp(b,function(b){return b[c]>a});return -1==d?b[I]-1:0==d?0:b[d][c]-a<a-b[d-1][c]?d:d-1}function Tu(a,b,c,d){d=d||0;c=c||0;if(0<b[I]&&a<=Jp(b)){return c=Su(a,b,d),[c,b[c][d]]}var e=b[I]-1-c,f=Jp(b)[d],g=b[e][d],i=f-g,j=s[B]((a-f)/i),a=a-f-j*i,e=Op($p(b,e),function(a){return[a[d]-g]}),a=Su(a,e,0);return[b[I]-1+j*c+a,f+j*i+e[a][0]]}function Uu(a,b,c){for(var d=[],e=0;e<a;e++){d[e]=b[N](c,e)}return d}function Vu(a){return W(a.max)?a.max:a.min}function Wu(a,b,c,d){hp(c)||(c=0);hp(d)||(d=a[I]);for(var c=b-c,e=0,f=0<=c?0:l,g=0,i=0,j=l,m=l;e<a[I];){var o=a[e].min,q=Vu(a[e])-o,g=g+o;if(g<=c){var f=e+1,u=s.min(c-g,q),i=g+u,m=o+u}if(g>b){return e>=d?{Gc:e,El:j,oh:b-(g-o)}:ip(f)?l:{Gc:f,El:m,oh:c-i}}u=s.min(b-g,q);g+=u;j=o+u;e++}return{Gc:e,El:j,oh:b-g}}function Xu(a,b,c){a=Op(a,c||Vs);bq(a);for(var d=c=0;d<a[I];d++){var e=a[I]-d,f=(a[d]-c)*e;if(f<=b){c=a[d],b-=f}else{c+=b/e;b=0;break}}return{Pv:c,oh:b}}function Yu(a,b,c,d){var e=Wu(a,b,c,d);if(!e){return l}var b=e.oh,c=$p(a,0,e.Gc),d=Pp(c,function(a,b){return s.max(a,b.T[I])},0),f=Op(c,Vu);if(0<f[I]){f[f[I]-1]=e.El}for(var g=0;g<d;g++){for(var e=Xu(c,b,function(a){return a.T[g]||0}),b=e.oh,i=0;i<f[I];i++){f[i]+=s.min(e.Pv,a[i].T[g]||0)}if(0==b){break}}return f}function Zu(a,b,c,d){var e=Yu(a,b,c,d),f={};Mp(a,function(a,b){var c=a.key;W(f[c])||(f[c]=[]);b<e[I]&&f[c][v](e[b])});return f}function $u(a,b){for(var c=$p(arguments,1),d=[],e=0;e<c[I];e+=2){var f=s.min(c[e],a[I]),g=s.min(c[e+1],a[I]),f=$p(a,f,g);Zp(d,f)}return d}function av(a){var b=google[wc][Tb].DECIMAL_PATTERN;if(0>=a){return b[Zb](0,b[Jc](me))}for(var b=b[Zb](0,b[Jc](me)+1),c=0;c<a;c++){b+=ud}return b}function bv(a,b){return np(a)?[a+me+b]:Op(a,function(a){return a+me+b})}function cv(a,b,c,d,e,f){var g=[],i=0>d-1||0>e?l:c[d-1][e];i&&g[v]({Li:i,ec:i.ec+1,lh:d-1,Mi:l,mh:l,Ni:l});(i=0>d||0>e-1?l:c[d][e-1])&&g[v]({Li:i,ec:i.ec+1,lh:l,Mi:l,mh:e-1,Ni:l});(c=0>d-1||0>e-1?l:c[d-1][e-1])&&f(a[d-1],b[e-1])&&g[v]({Li:c,ec:c.ec,lh:d-1,Mi:e-1,mh:e-1,Ni:d-1});bq(g,function(a,b){return a.ec-b.ec});return 0<g[I]?g[0]:{Li:l,ec:0,lh:l,Mi:l,mh:l,Ni:l}}function dv(a,b,c){for(var d=c||function(a,b){return a==b},c=[],e=0;e<=a[I];e++){c[e]=c[e]||[];for(var f=0;f<=b[I];f++){c[e][f]=cv(a,b,c,e,f,d)}}d={};e={};a=c[a[I]][b[I]];for(b=a.ec;a;){if(W(a.lh)){d[a.lh]=a.Mi}if(W(a.mh)){e[a.mh]=a.Ni}a=a.Li}return{ec:b,ng:d,og:e}}function ev(a,b,c){if(!a||!b){return l}var d={};if(0==a[I]||0==b[I]){return d}for(var c=c||Vs,e=0,f=0;f<a[I];f++){var g=l,i=c(a[f]);for(0==f||c(a[f-1]);e<b[I];){var j=c(b[e]);0==e||c(b[e-1]);j=s.abs(i-j);if(!W(g)||j<g){g=j,d[f]=e,e++}else{if(j==g){e++}else{break}}}e--}return d}function fv(a,b){for(var c in a){if(!(0<=Lp(b,c))){return n}}return k}function gv(a,b,c,d,e){for(var f=1,g=0;500>g;g++){var i=hv(a,b,c,f);if(Nu(a,i,0.05,d)){break}a=i;f*=e}return a}function hv(a,b,c,d){var e={};mq(a,function(f,g){for(var i=f,j=0;j<b[I];j++){var m=(0,b[j])(a,g,d),i=c(i,m)}e[g]=i});return e}function iv(a){return new wr(s[z](a.x),s[z](a.y))}function jv(a){return Pp(arguments,xr,new wr(0,0))}function kv(a){return Pp(arguments,function(a,c){return new lq(a[w]+c[w],a[Q]+c[Q])},new lq(0,0))}function lv(a,b,c){return new wr(s.cos(a)*b,s.sin(a)*c)}function mv(a){return new wr(a[0],a[1])}function nv(a,b){return Op([[a.x-b[w]/2,a.y-b[Q]/2],[a.x+b[w]/2,a.y-b[Q]/2],[a.x+b[w]/2,a.y+b[Q]/2],[a.x-b[w]/2,a.y+b[Q]/2]],mv)}function ov(a,b){this.g=a;this.Ia=this.Cc=this.se=l;this.Gd=b;this.Kc=this.Lg=l}V=ov[K];V.Og=function(){return this.g};V.drawChart=function(a,b){this.Cc={};var c=this.g;c[Pb]();var d=new ju(2);d.Lb(0,a);d.Lb(1,b);var d=this.Ia=d[ad](),e=c.qs(d[w],d[Q]);c.ib(e,Fh);c.qf(e,ii,Hr);c.qf(e,Rh,Z(function(a){return this[ub](Lh,{ds:c.Nn(a[Ec])},a)},this));var f=d.cj;f&&!f.xg()&&c.Wa(0,0,d[w],d[Q],f,e);d.Pe==ol&&this.g.ib(this.yd(d[J],e),Nn);this.Kc=c.ja(k);this.Kc.ib(ik);this.ln(d.f);d.f[fc]!=Pj&&c[t](e,this.Kc);this.Mn(d,e)||this.rs(d,e);if(d.z){this.Lg=c.ja(n),c[t](e,this.Lg),this.Lg.ib(Vn),this.zc(e.q(),{click:yh,mousemove:zh,mouseout:Ah},l)}this.se=b};V.Rt=function(a,b){var c=qq({e:l,v:l,f:l,Bc:l});!fv(b,c)||!fv(this.se,c)?this.drawChart(a,b):(lu(b.f,this.se.f)||(this.g.Ng(this.Kc),c=new ju(2),c.Lb(0,a.f||{}),c.Lb(1,b.f||{}),this.ln(c[ad]())),this.Xn(a,b),this.se=b)};V.rs=function(a,b){var c={color:Ug,zb:a.Tc,fontSize:a.uc,bold:n,zf:n,$n:n};this.dt(Nf,c,a.a[w]);var d=a.a.top+s[z](a.a[Q]/2);this.g.ct(Nf,a.a[C],d,a.a[C]+a.a[w],d,Eh,Eh,c,b)};V.ln=function(a){var b=a.kc;if(a.pb&&b){for(var c=0;c<b[I];c++){var d=b[c];d.B&&this.Su(d)}this.Tu(a.qg)}};V.Su=function(a){var b=l;a.o&&(b=this.yd(a.o,this.Kc),this.g.ib(b,jk+a[ic]));var c=l;a.P&&(c=this.g.Wa(a.P.S[C],a.P.S.top,a.P.S[w],a.P.S[Q],a.P.b,this.Kc),this.g.ib(c,jk+a[ic]));var d=l;a.ba&&a.ba.B&&(d=this.hs(a.ba.S.x,a.ba.S.y,a.ba.b,this.Kc));if(this.Ia.z&&a.z){var e={Fh:a[ic]};if(c){var f={click:tk,mouseover:uk,mouseout:vk};this.zc(c,f,e)}if(a.ba&&(b&&(f={mouseover:uk,mouseout:vk},this.zc(b,f,e)),d)){f.click=bm,this.zc(d,f,e)}}};V.Tu=function(a){a&&(this.Tp(a.ok,-1),a.nk&&this.yd(a.nk,this.Kc),this.Tp(a.mk,1))};V.Tp=function(a,b){if(a){var c=this.g.xa(Ft(a[Mb]),a.b,this.Kc);this.Ia.z&&a.fd&&this.zc(c,{click:xk},{cs:b})}};V.hs=function(a,b,c,d){var e=this.g,f=e.ja();e.Wa(a,b,12,12,c,f);e[t](d,f);c=new Et;c[rb](a+2,b+2);c.G(a+12-2,b+12-2);c[rb](a+12-2,b+2);c.G(a+2,b+12-2);a=new wt;a.gc(Ud);a.ee(2);e.xa(c,a,f);return f.q()};V.dt=function(a,b,c){var d=b[M],a=this.g.Ju(a,b);a>c&&(d=s.max(1,s[B](b[M]*c/a)));return d};V.Mk=function(a,b){var c=hp(b)?b:l,c=W(c)?Hu([Vn,a,c]):Hu([Vn,a]),d=this.Cc[c];d&&(this.g.tl(d),delete this.Cc[c])};V.wh=function(a,b,c){var c=hp(c)?c:l,d=ku(a,this.g,this.Lg),a=W(c)?Hu([Vn,b,c]):Hu([Vn,b]),d=d.q();this.Cc[a]=d;if(this.Ia.z){b={$:b};if(W(c)){b.Sa=c}this.zc(d,{click:$n,mouseover:bo,mouseout:co},b)}};V.Us=function(a){var a=Hu([Ij,a]),b=this.Cc[a];b&&(this.g.tl(b),delete this.Cc[a])};V.Pm=function(a,b){var c=ku(a,this.g,this.Lg);this.Cc[Hu([Ij,b])]=c.q();this.Ia.z&&this.zc(c.q(),{click:$n,mouseover:bo,mouseout:co},l)};V.yd=function(a,b,c){(a=this.Sn(a,c))&&this.g[t](b,a);return a};V.Sn=function(a,b){var c=a.d;if(!c||0==c[I]){return l}for(var d=this.g,e=a.t,f=W(a.kf)?a.kf:0,g=a[Hc]?a[Hc]:{x:0,y:0},i=a.K,j=!!i||b||n,m=d.ja(),o=0;o<c[I];o++){0==f?d.rh(c[o][x],c[o].x+g.x,c[o].y+g.y,c[o][I],a.Za,a.Pa,e,m):d.js(c[o][x],c[o].x+g.x,c[o].y+g.y,c[o][I],f,a.Za,a.Pa,e,m)}if(this.Ia.z&&j){j=l;if(0==f){c=nu(a),j=d.Wa(c[C],c.top,c[R]-c[C],c[P]-c.top,xt,m)}else{var q=sr(f),c=Pp(c,function(b,c){var d=new wr(c.x+g.x,c.y+g.y);d[xc](-q);var f=Gt(d.x,c[I],a.Za),d=Gt(d.y,e[M],a.Pa),f=new hs(d[O],f.end,d.end,f[O]);b?b.Gn(f):b=f;return b},l),c=[new wr(c[C],c.top),new wr(c[R],c.top),new wr(c[R],c[P]),new wr(c[C],c[P])];Mp(c,function(a){a[xc](q)});c=Ft(c,n);j=d.xa(c,xt,m)}i&&d.is(j,i,Ku(e))}return m.q()};V.zc=function(a,b,c){for(var d in b){this.g.qf(a,d,this.Cu(b[d],c))}};V.Cu=function(a,b){return Z(function(c){return this[ub](a,b,c)},this)};V.dispatchEvent=function(a,b,c){this.Gd[ub]({type:a,va:b,dd:c})};V.yc=function(a,b,c){var d=this.Cc[b];W(d)?this.g.replaceChild(a,c,d):this.g[t](a,c);this.Cc[b]=c};V.ak=function(a){var b=this.Cc[a];b&&(this.g.tl(b),delete this.Cc[a])};function pv(a,b){return a.i&&a.i.b||a.b||b.Hm}function qv(a){return a[F]==Ak||a[F]==Cg||a[F]==rm}function rv(a,b){return W(a.gf)?a.gf:b.vm}function sv(a,b){return a.i&&W(a.i.Xb)?a.i.Xb:W(a.Xb)?a.Xb:b.yr}function tv(a,b){return sv(a,b)+pv(a,b).wo()/2}function uv(a){return a.Vc&&a.N==T&&a[Qb]==Gj}function vv(a,b){for(var c=new hu,d=k,e=k,f=l,g=l,i=0;i<a.c[I];i++){var j=a.c[i];if(!j||!j.i||!W(j.i.x)||!W(j.i.y)){e=!b||d}else{d&&(f=i,d=n);var m=j.i;if(e){c[rb](m.x,m.y),e=n}else{var o=j.Eg||a.Ha;a.ek?c.pi(o,a.c[g].md.x,a.c[g].md.y,j.ld.x,j.ld.y,m.x,m.y):c.G(o,m.x,m.y)}g=i}}!d&a.wr&&(d=b?g:a.c[I]-1,f=b?f:0,W(d)&&W(f)&&a.c[d]&&a.c[f]&&(o=a.c[f].Eg||a.Ha,a.ek?c.pi(o,a.c[d].md.x,a.c[d].md.y,a.c[f].ld.x,a.c[f].ld.y,a.c[f].i.x,a.c[f].i.y):c[Ac](o)));return c}function wv(a){for(var b=new hu,c=k,d=0;d<a.c[I];d++){var e=a.c[d].i;!W(e.x)||!W(e.y)?c=k:(c||b.G(a.c[d].Eg||a.Ha,e.Jh,e.Kh),(c||e.Jh!=e.Hh||e.Kh!=e.Ih)&&b[rb](e.Hh,e.Ih),c=n)}return b}function xv(a,b){ov[N](this,a,b);this.la=l;this.Gr=[uj,Cg,jn,Ng,yl,Qg,Xj,Ak,vh,oh,rg,Ol,Ll,Ag,Nn,Kg,Lg,ik];this.vj=this.tj=this.sj=this.rj=l}xp(xv,ov);var yv={ri:ql,Qc:Uj,Pc:Uh};V=xv[K];V.Mn=function(a,b){this.Jr(a);var c=this.g.ja(n);c.ib(Oh);this.g[t](b,c);mq(this.la,function(a,b){if(!a.ma){a.ma=this.g.ja(!hp(a.Mm)||a.Mm),a.ma.ib(b)}},this);this.g.Wa(a.a[C],a.a.top,a.a[w],a.a[Q],a.bj,c);Mp(a.ta,function(b){this.Hr(a,b)},this);Mp(a.Ka,function(b){this.Ir(a,b)},this);Mp(a.ta,function(b){this.gn(a,b)},this);Mp(a.Ka,function(b){this.gn(a,b)},this);a.Pe==Pj&&this.yd(a[J],this.la[J].ma);a.cg&&this.yd(a.cg,this.la.axistitle.ma);Mp(a.v,function(a,b){a.Ue&&this.lm(a.Ue,l,l,b)},this);this.rj={};this.sj={};this.tj={};this.vj={};for(var d=[],e=0;e<a.e[I];e++){d[v]({Ah:a.e[e].Ah,index:e})}dq(d,function(a,b){return cq(a.Ah,b.Ah)});for(e=0;e<d[I];e++){var f=d[e][ic];this.Xj(a.e[f],f)}for(e=0;e<a.v[I];e++){a.v[e].kg&&this.Pm(a.v[e].kg,e)}var d=new js(a.a[C],a.a.top,a.a[w],a.a[Q]),g=this.g.ja(n),d=this.g.en(g,d);this.g[t](c,d);Mp(this.Gr,function(a){var d=this.la[a].ma;if(d){var e;switch(this.la[a][fc]){case Uh:e=g;break;case Uj:e=c;break;case ql:e=b}this.g[t](e,d)}},this);if(!a.z){return k}this.g.qf(c,Rh,Z(function(a){var b=this.fn(new $(a[Wb],a[Xb]));W(b)&&this[ub](si,b,a)},this));this.g.qf(c,Vk,Z(function(a){var b=this.fn(new $(a[Wb],a[Xb]));W(b)?this[ub](ti,b,a):this[ub](ui,l,a)},this));this.g.qf(c,Wk,Z(function(a){this[ub](ui,l,a)},this));return k};V.Jr=function(a){var b=this.la={};b.annotation={position:yv.Qc};b.annotationtext={position:yv.Qc};b.area={position:yv.Pc};b.bar={position:yv.Pc};b.baseline={position:yv.Pc};b.bubble={position:yv.Pc};b.candlestick={position:yv.Pc};b.gridline={position:yv.Pc};b.interval={position:yv.Pc};b.line={position:yv.Pc};b.pathinterval={position:yv.Pc};b.point={position:yv.Qc,Mm:!a.z};b.pointsensitivityarea={position:yv.Qc};b.steppedareabar={position:yv.Pc};Ha(b,{position:a.Pe==Pj?yv.Qc:yv.ri});b.axistick={position:yv.Qc};b.axistitle={position:a.Vf==Pj?yv.Qc:yv.ri};b.legend={ma:a.f[fc]==Pj?this.Kc:l,position:a.f[fc]==Pj?yv.Qc:yv.ri}};V.fn=function(a){return this.ow(this.rj,a)||this.nw(this.vj,a)||this.$p(this.sj,a)||this.$p(this.tj,a)};V.ow=function(a,b){var c=b.x,d=b.y,e=l,f=p,g;for(g in a){var i=a[g],j=i.Hb.x,m=i.Hb.y,o=i.Xb;j-c<=o&&j-c>=-o&&m-d<=o&&m-d>=-o&&(j=(j-c)*(j-c)+(m-d)*(m-d),j<=o*o&&j<=f&&(e={$:i.$,Sa:i.Sa},f=j))}return e};V.nw=function(a,b){for(var c in a){var d=a[c];if(d[vc][Tc](b)||d.tb[Tc](b)){return{$:d.$,Sa:d.Sa}}}return l};V.$p=function(a,b){var c=l,d;for(d in a){var e=a[d];if(e[vc][Tc](b)&&(!c||e.$>c.$||e.$==c.$&&e.Sa>c.Sa)){c={$:e.$,Sa:e.Sa}}}return c};V.Xj=function(a,b){a[F]==sh?this.$u(a,b):a[F]==Pg?this.pp(a,b):a[F]==hn?this.pp(a,b):a[F]==wh?this.av(a,b):a[F]==Cg?this.Zu(a,b,this.Ia.Vc):this.Sm(a,b,this.Ia.Qe);a.hc&&a.hc.fk&&this.bv(a,b)};V.bv=function(a,b){for(var c=a.hc.fk,d=0,e;e=c[d];++d){if(0!=e.tb[I]){var f=new Et;f.Dk(e.tb,e.mm);e[P]&&f.Dk(e[P],e.Qr);var g=this.g.ja();this.g.xa(f,e.b,g);e=g.q();this.yc(this.la.pathinterval.ma,Hu([yl,b,d]),e)}}};V.ao=function(a,b,c,d){a[F]==Pg||a[F]==hn?this.Lo(a,b,c,d):a[F]==wh?this.Mo(a,b,c,d):a[F]==sh?this.Tn(a,b,c,d):this.No(a,b,c,d)};V.$u=function(a,b){for(var c=this.la.bubble.ma,d=0;d<a.c[I];d++){var e=a.c[d];e&&(this.Tn(a,b,e,d),this.g.rh(e[x],e.i.x,e.i.y,e.Sq,Eh,Eh,e.t,c))}};V.pp=function(a,b){for(var c=0;c<a.c[I];c++){this.Lo(a,b,a.c[c],c)}};V.Lo=function(a,b,c,d){if(c&&c.i){var e=pv(c,a),f=a[F]==Pg?Ng:jn,g=Hu([f,b,d]),i=c.i.Wf||c.i,e=this.g.ne(i[C],i.top,i[w],i[Q],e),j=l,m=c.i.outline,o=c.xc,q=c.qb;if(m||o||q){j=this.g.ja(),this.g[t](j,e)}if(m){var u=c.Ha||a.Ha;this.g.xa(Ft(m,k),u,j)}if(o){for(m=0;m<o.Ca[I];m++){u=o.Ca[m][vc],this.g.Wa(u[C],u.top,u[w],u[Q],o.Ca[m].b,j)}}q&&this.g.Wa(q[vc][C],q[vc].top,q[vc][w],q[vc][Q],q.b,j);e=j?j.q():e;this.yc(this.la[f].ma,g,e);c.K&&this.wh(c.K,b,d);c.i.Wc&&this.Lm(a,b,d,c.i.Wc);this.Ia.z&&a.z&&(b={rect:new js(i[C],i.top,i[w],i[Q]),$:b,Sa:d},a[F]==Pg?this.sj[g]=b:a[F]==hn&&(this.tj[g]=b))}};V.Zu=function(a,b,c){if(0!=a.c[I]){var d=k,e=l,f=new Et;f[rb](a.c[0].i.Fj,a.c[0].i.Gj);for(var g=0;g<a.c[I];g++){var i=a.c[g].i;f.G(i.Jh,i.Kh);(i.Hh!=i.Jh||i.Ih!=i.Kh)&&f.G(i.Hh,i.Ih);W(i.x)&&W(i.y)&&(d=n,e=g)}if(!d){if(c){for(g=a.c[I]-1;0<=g;g--){i=a.c[g].i,f.G(i.Hj,i.Ij),(i.Fj!=i.Hj||i.Gj!=i.Ij)&&f.G(i.Fj,i.Gj)}}else{i=a.c[e].i,f.G(i.Hj,i.Ij),f[Ac]()}g=Hu([Cg,b]);f=this.g.oe(f,a.Jq);this.yc(this.la.area.ma,g,f);if(c){g=wv(a);c=Hu([Ak,b]);if(f=g.oe(this.g)){d=l;e=a.xc;i=a.qb;if(e||i){d=this.g.ja()}if(e){for(g=0;g<e.Ca[I];g++){this.g.xa(e.Ca[g][Mb],e.Ca[g].b,d)}}i&&this.g.xa(i[Mb],i.b,d);d&&this.g[t](d,f);g=d?d.q():f;this.yc(this.la.line.ma,c,g)}this.Yj(a,b)}else{this.Sm(a,b,n)}}}};V.Sm=function(a,b,c){var d=Hu([Ak,b]);if(0>=a[dd]){this.ak(d),this.Yj(a,b)}else{if(c=vv(a,c),0!=c.eb[I]){if(c=c.oe(this.g)){var e=l,f=a.xc,g=a.qb;if(f||g){e=this.g.ja()}if(f){for(var i=0;i<f.Ca[I];i++){this.g.xa(f.Ca[i][Mb],f.Ca[i].b,e)}}g&&this.g.xa(g[Mb],g.b,e);e&&this.g[t](e,c);e=e?e.q():c;this.yc(this.la.line.ma,d,e)}this.Yj(a,b);this.Ia.z&&a.z&&this.Ia.ae==Ei&&c&&this.zc(c,{mouseover:wm,mousemove:nn,mouseout:xm},{$:b})}}};V.Yj=function(a,b){for(var c=0;c<a.c[I];c++){this.No(a,b,a.c[c],c)}};V.Kr=function(a,b){var c=this.Ia.a;if(a.x-b>=c[R]||a.x+b<=c[C]||a.y-b>=c[P]||a.y+b<=c.top){return n}if((a.x>=c[R]||a.x<=c[C])&&(a.y>=c[P]||a.y<=c.top)){var d=b*b,e=a.x-c[R],f=a.x-c[C],g=a.y-c[P],c=a.y-c.top,e=e*e,f=f*f,g=g*g,c=c*c;if(e+g>=d&&e+c>=d&&f+c>=d&&f+g>=d){return n}}return k};V.No=function(a,b,c,d){this.Bp(a,b,c,d,this.la.point.ma,this.la.pointsensitivityarea.ma)};V.Tn=function(a,b,c,d){this.Bp(a,b,c,d,this.la.bubble.ma,l)};V.Bp=function(a,b,c,d,e){if(c&&c.i&&!c.ud){var f=rv(c,a),g=Hu([a[F]==sh?oh:Ll,b,d]);if(f){if(!this.Kr(c.i,tv(c,a))){this.ak(g);return}var f=this.g.Uh(c.i.x,c.i.y,sv(c,a),pv(c,a)),i=l,j=c.qb,m=c.xc;if(j||m){i=this.g.ja()}j&&this.g.Zj(j.x,j.y,j.Xb,j.b,i);i&&this.g[t](i,f);if(m){for(j=0;j<m.Ca[I];j++){this.g.Zj(m.x,m.y,m.Ca[j].Xb,m.Ca[j].b,i)}}f=i?i.q():f;this.yc(e,g,f)}else{if(this.ak(g),0==a[dd]){return}}c.K&&this.wh(c.K,b,d);c.Ue&&this.lm(c.Ue,a,b,d);c.i.Wc&&this.Lm(a,b,d,c.i.Wc);this.Ia.z&&a.z&&(this.rj[g]={Hb:c.i,Xb:c.i&&W(c.i.Zh)?c.i.Zh:W(c.Zh)?c.Zh:a.Hq,$:b,Sa:d})}};V.av=function(a,b){for(var c=0;c<a.c[I];c++){this.Mo(a,b,a.c[c],c)}};V.Mo=function(a,b,c,d){if(c&&c.i){var e=this.g.ne(c.i.tb[C],c.i.tb.top,c.i.tb[w],c.i.tb[Q],c.Ha),f=this.g.ne(c.i[vc][C],c.i[vc].top,c.i[vc][w],c.i[vc][Q],c.dm),g=this.g.ja();this.g[t](g,e);this.g[t](g,f);if(e=c.xc){for(f=0;f<e.Ca[I];f++){var i=e.Ca[f][vc];this.g.Wa(i[C],i.top,i[w],i[Q],e.Ca[f].b,g)}}(e=c.qb)&&this.g.Wa(e[vc][C],e[vc].top,e[vc][w],e[vc][Q],e.b,g);e=Hu([vh,b,d]);this.yc(this.la.candlestick.ma,e,g.q());c.K&&this.wh(c.K,b,d);this.Ia.z&&a.z&&(this.vj[e]={rect:c.i[vc],tb:c.i.tb,$:b,Sa:d})}};V.lm=function(a,b,c,d){if(a){var e=a.Ym,f=this.Ia.a;if(!(e.x<f[C]||e.x>f[R])){if(e=this.Ms(e[Qb],e.x,e.y,e[I],this.Ia.Iq),a=this.Sn(a.label,k)){f=[rg],W(c)&&f[v](c),f[v](d),this.yc(this.la.annotation.ma,Hu(f),e),f[0]=Ag,this.yc(this.la.annotationtext.ma,Hu(f),a),this.Ia.z&&(!b||b.z)&&this.Ia.jc!=xh&&this.zc(a,{click:tg,mouseover:ug,mouseout:vg,mousemove:nn},{$:c,Sa:d})}}}};V.Ms=function(a,b,c,d,e){a=a==Gj?[d,1]:[1,d];return this.g.ne(s.min(b,b+a[0]),s.min(c,c+a[1]),s.abs(a[0]),s.abs(a[1]),new wt({fill:e}))};V.Lm=function(a,b,c,d){if(!W(a.hc)){return l}for(var e=this.g.ja(),a=a.hc.jg,f=0;f<d[I];f++){var g=d[f][vc],i=a[d[f].ig];if(!(i[zc]==Cg||i[zc]==Ak)){var j=i.b;if(0==g[w]&&0==g[Q]){i=i.Qq/2,0<i&&(g=this.g.Uh(g[C],g.top,i,j),this.g[t](e,g))}else{if(0==g[w]||0==g[Q]){i=new Et,i[rb](g[C],g.top),i.G(g[C]+g[w],g.top+g[Q]),this.g.xa(i,j,e)}else{this.g[t](e,this.g.ne(g[C],g.top,g[w],g[Q],j))}}}}if(!e.Mg()){return l}b=Hu([Xj,b,c]);e=e.q();this.yc(this.la.interval.ma,b,e);return e};V.Hr=function(a,b){var c=this.g,d=a.a.top,e=a.a[Q];b.kb&&!b.We.xg()&&Mp(b.kb,function(a,f){if(a.B){var j=c.Wa(s[B](a.u),d,1,e,b.We,this.la.gridline.ma);c.ib(j,b[Sb]+Vd+f)}},this);if(b.V&&b.V.B&&!b.Ve.xg()){var f=c.Wa(s[B](b.V.u),d,1,e,b.Ve,this.la.baseline.ma);c.ib(f,b[Sb])}};V.Ir=function(a,b){var c=this.g,d=a.a[C],e=a.a[w];b.kb&&!b.We.xg()&&Mp(b.kb,function(a,f){if(a.B){var j=c.Wa(d,s[B](a.u),e,1,b.We,this.la.gridline.ma);c.ib(j,b[Sb]+Vd+f)}},this);if(b.V&&b.V.B&&!b.Ve.xg()){var f=c.Wa(d,s[B](b.V.u),e,1,b.Ve,this.la.baseline.ma);c.ib(f,b[Sb])}};V.gn=function(a,b){var c=this.la;this.g.ib(this.yd(b[J],c.axistitle.ma),b[Sb]+Xd);if(b[x]){var d=c.axistick.ma;Mp(b[x],function(a,c){a.B&&this.g.ib(this.yd(a.o,d),b[Sb]+Wd+c)},this)}};V.Xn=function(a,b){this.il(a,this.se);this.hl(a,b)};V.il=function(a,b){for(var c in b.e){var d=a.e[c];if(fv(b.e[c],qq({c:l}))){for(var e in b.e[c].c){b.e[c].c[e].K&&this.Mk(ea(c),ea(e)),this.ao(d,ea(c),d.c[e],ea(e))}}else{for(e in b.e[c].c){b.e[c].c[e].K&&this.Mk(ea(c),ea(e))}this.Xj(d,ea(c))}}for(var f in b.v){b.v[f].kg&&this.Us(ea(f))}};V.hl=function(a,b){for(var c in b.e){var d=a.e[c];if(fv(b.e[c],qq({c:l}))){for(var e in b.e[c].c){var f=new ju(2);f.Lb(0,d.c[e]);f.Lb(1,b.e[c].c[e]);f=f[ad]();this.ao(d,ea(c),f,ea(e))}}else{f=new ju(2),f.Lb(0,d),f.Lb(1,b.e[c]),this.Xj(f[ad](),ea(c))}}for(var g in b.v){b.v[g].kg&&this.Pm(b.v[g].kg,ea(g))}};function zv(a,b){a?b[I]!=a[I]&&h(r("colorsScale and valuesScale must be of the same length")):1!=b[I]&&h(r("colorsScale must contain exactly one element when no valueScale is provided"));this.Zd=a;this.Ne=Op(b,function(a){return ct(a).Wi})}var Av=["#EFE6DC","#109618"],Bv=["#DC3912","#EFE6DC","#109618"];zv[K].lt=function(a){if(!this.Zd){return this.Ne[0]}if(a>=this.Zd[this.Zd[I]-1]){return this.Ne[this.Ne[I]-1]}if(a<=this.Zd[0]){return this.Ne[0]}var b,c=this.Zd;b=cq;for(var d=0,e=c[I],f;d<e;){var g=d+e>>1,i;i=b(a,c[g]);0<i?d=g+1:(e=g,f=!i)}b=f?d:~d;if(0<=b){return this.Ne[b]}c=-b-2;b=-b-1;return st(this.Ne[b],this.Ne[c],(a-this.Zd[c])/(this.Zd[b]-this.Zd[c]))};function Cv(a,b){!b||0==b[I]?b=a&&3==a[I]?Bv:Av:1==b[I]&&(b=[Av[0],b[0]]);if(!a||2>a[I]){return{hk:l,gk:[Jp(b)]}}var c=a[0],d=a[a[I]-1],e=d-c;if(0==e){return{hk:[d],gk:[Jp(b)]}}if(2==a[I]){a=[];d=e/(b[I]-1);for(e=0;e<b[I];e++){a[v](c+d*e)}}return{hk:a,gk:b}}function Dv(){return{transform:function(a){return a},inverse:function(a){return a}}}function Ev(){return{transform:function(a){return s.log(a)/s.LN10},inverse:function(a){return s.pow(10,a)}}}function Fv(a){return{transform:function(b){return b>a?s.log(b/a)/s.LN10:b<-a?-s.log(-b/a)/s.LN10:0},inverse:function(b){return 0<b?s.pow(10,b)*a:0>b?-s.pow(10,-b)*a:0}}}var Gv={LINEAR:Dk,py:Fk,uy:Tk};function Hv(a,b,c){return(c=a.Wh(c,Gv))?c:a.za(b)?Fk:Dk}function Iv(a,b){switch(a){case Dk:return Dv();case Fk:return Ev();case Tk:return Fv(b/2)}}function Jv(a,b,c,d){this.dq=s.pow(a,2);this.pw=s.pow(b,2);this.mw=b;this.eq=(this.Uf=c?new pt(d[ed](c[O]),d[ed](c.end)):l)?this.Uf.end-this.Uf[O]:l;this.qw=d}Jv[K].mt=function(a){if(!this.eq||!W(a)){return this.mw}a=this.qw[ed](a);a=pr(a,this.Uf[O],this.Uf.end);return s[z](s[Ib](this.dq+(a-this.Uf[O])/this.eq*(this.pw-this.dq)))};var Kv={sy:Jf,Iy:Sf,ty:Kf,hy:Cf,$x:wf,Qy:Yf,vy:Mf,Fy:Rf,Ry:ag};function Lv(a){switch(a){case Jf:return 1;case Sf:return 1000;case Kf:return 60000;case Cf:return 3600000;case wf:return 86400000;case Yf:return 604800000;case Mf:return 2629746000;case Rf:return 7889238000;case ag:return 31556952000;default:h(r("Unknown time duration: "+a))}}var Mv={Nw:"yyyy",Ow:"MMM y",Sy:"MMMM yyyy",wy:"MMM d",xy:"MMMM dd",zy:"M/d",yy:"MMMM d",ay:ni},Nv=Mv,Nv=Mv;function Ov(a,b,c,d){return new Pv(b,a+(id+c),a+(id+d))}function Pv(a,b,c){this.Ti=a;this.lq=new google[wc][Tb]({pattern:b});this.Rw=c?new google[wc][Tb]({pattern:c}):this.lq}ya(Pv[K],function(a){a/=this.Ti;return(1==s.abs(s[z](a))?this.Rw:this.lq)[rc](a)});function Qv(){this.kq=new Date;this.Dg(Jf)}Qv[K].Dg=function(a){switch(a){case ag:a=Nv.Nw;break;case Rf:a=Qf;break;case Mf:a=Nv.Ow;break;case wf:a=3;break;default:a=11}this.Qd=new google[wc].DateFormat({pattern:a,timeZone:0})};ya(Qv[K],function(a){this.kq[Qc](a);return this.Qd[rc](this.kq)});function Rv(){this.Ql=l;this.Rf=[];this.Pl=this.Ke=this.ph=l}V=Rv[K];V.lu=function(a){this.Pl=a;return this};V.iu=function(a){this.Ql=a;return this};V.ju=function(a){this.ph=a;return this};V.ku=function(a){this.Ke=a;return this};V.mu=function(a){a=av(op(a)?a:3);this.Rf=[Ov(a,s.pow(10,15),Pf,Pf),Ov(a,s.pow(10,12),Vf,Vf),Ov(a,s.pow(10,9),rf,rf),Ov(a,s.pow(10,6),If,If)];return this};V.gu=function(){var a;a=this.Pl?new google[wc][Tb]({pattern:this.Pl}):new google[wc][Tb]({pattern:av(op(this.Ql)?this.Ql:16)});return new Sv(a,this.Rf,this.ph,this.Ke)};function Sv(a,b,c,d){this.bw=a;this.Rf=b||[];this.ph=c||l;this.Ke=d||l;a:{a=this.Rf;b=p;for(c=0;c<a[I];c++){d=a[c];if(b<d.Ti){break a}b=d.Ti}}}ya(Sv[K],function(a){var b=0>a,a=s.abs(a);if(this.ph){var c=this.ph;if(0!=a){var d=s[B](s.log(s.abs(a))/Lu)+1;d>c?(c=s.pow(10,d-c),a=s[z](a/c)*c):(c=s.pow(10,c-d),a=s[z](a*c)/c)}}c=l;for(d=0;d<this.Rf[I];d++){var e=this.Rf[d];if(a>=e.Ti){c=e[zb](a);break}}c==l&&(c=this.bw[rc](a));c=this.tw(c);return b?ke+c:c});Sv[K].tw=function(a){if(!this.Ke){return a}var b=this.Ke.symbol,c=this.Ke.usePadding?id:S;return this.Ke[fc]==hm?a+c+b:b+c+a};function Tv(a,b,c,d,e){this.Ri=a;this.Hl=b;this.Kx=c;this.Jx=d;this.Tf=e;a=this.Ml(a);b=this.Ml(b)-a;this.Ie=(d-c)/b;this.nh=this.Ie*a-c}Tv[K].pa=function(a){return this.Ml(a)*this.Ie-this.nh};Tv[K].Mb=function(a){return this.Kw((a+this.nh)/this.Ie)};Tv[K].Ml=function(a){switch(this.Tf){case 0:return s.log(a);case 1:return a;default:return(s.pow(a,this.Tf)-1)/this.Tf}};Tv[K].Kw=function(a){switch(this.Tf){case 0:return s.pow(s.E,a);case 1:return a;default:return s.pow(a*this.Tf+1,1/this.Tf)}};function Uv(a,b){return 0>b?a/s.pow(10,-b):a*s.pow(10,b)}function Vv(a){return 0.4342944819032518*s.log(a)}function Wv(a){return s[B](Vv(a))}function Xv(a){return s[db](Vv(a))}function Yv(a,b,c,d,e,f){this.De=a;this.Ug=b;this.tf=c;this.sf=d;this.au=e;this.Eo=f;this.dc=this.bu();a>=this.dc?(this.Fa=this.Xd(a,b,c,d),this.mb=s[z](this.Fa.pa(this.dc))):b<=-this.dc?(this.Fa=this.Xd(-b,-a,d,c),this.mb=s[z](this.Fa.pa(this.dc)),f=2*this.mb-d,e=2*this.mb-c,this.Fa=this.Xd(-b,-a,f,e)):a>=-this.dc?(this.mb=s[z](c),this.Fa=this.Xd(this.dc,b,this.mb,d)):b<=this.dc?(this.mb=s[z](d),e=2*this.mb-c,this.Fa=this.Xd(this.dc,-a,this.mb,e)):(this.Fa=this.Xd(this.dc,b,0,1),e=this.Fa.pa(-a),this.mb=s[z](c+(d-c)*(e/(e+1))),b>=-a?this.Fa=this.Xd(this.dc,b,this.mb,d):(e=2*this.mb-c,this.Fa=this.Xd(this.dc,-a,this.mb,e)));this.vg=d<c}V=Yv[K];V.me=function(){return this.De};V.le=function(){return this.Ug};V.pe=function(){return this.tf};V.Hd=function(){return this.sf};V.bu=function(){return this.De==this.Ug?this.De/2:ka(this.Eo)?Uv(1,Wv(this.Ug-this.De))/1000:this.Eo/2};V.Xd=function(a,b,c,d){return new Tv(a,b,c,d,this.au)};V.Mb=function(a){if(this.De==this.Ug){return this.De}var b=this.vg?-1:1;return a*b>this.mb*b?this.Fa.Mb(a):a*b<this.mb*b?-this.Fa.Mb(2*this.mb-a):0};V.pa=function(a){return this.De==this.Ug?s.abs(this.tf-this.sf)/2:a>this.dc?this.Fa.pa(a):a<-this.dc?2*this.mb-this.Fa.pa(-a):this.mb};function Zv(a,b,c,d,e,f,g){hp(g)||(g=2);this.Pu=a;this.m=b;this.Mu=c;this.Nu=d;this.Fx=e;this.Id=f;this.Gx=this.Ou(g)}Zv[K].Ou=function(a){switch(a){case 1:case 2:case 3:break;default:h(r("Invalid label alignment value: "+a))}return a};function $v(a,b,c){return new Zv(a,b,k,k,k,c)}function aw(a,b,c){return new Zv(a,b,n,n,n,c)}Zv[K].re=function(){return s[z](this.m)};Ea(Zv[K],function(){return this.Pu});Zv[K].Jv=function(a){this.Id=a};function bw(a,b){this.gh=a;this.fh=b||0;this.kp=this.Yu(this.gh+this.fh);this.m=0}V=bw[K];Ma(V,function(){this.m++;return this[H]()});V.Ya=function(){this.m--;return this[H]()};Ea(V,function(){return s[z]((this.m*this.gh+this.fh)*this.kp)/this.kp});ta(V,function(a){this.m=s[B]((a-this.fh)/this.gh);return this[H]()});sa(V,function(a){this.m=s[db]((a-this.fh)/this.gh);return this[H]()});qa(V,function(a){this.m=s[z]((a-this.fh)/this.gh);return this[H]()});V.Yu=function(a){if(1<=a){return 1}var b=a[ac](),a=0,c=b[sb](Ii);-1!=c?a=ga(b[Zb](c+1),10):c=b[I];b=b[sb](me);-1!=b&&(a-=c-1-b);return s.pow(10,-a)};function cw(a,b,c,d){this.I=a;this.qc=b;this.ub=c;this.Qd=d}V=cw[K];V.Bo=function(a){var b=a[I];if(0<b){for(;--b;){if(this.yq(a[b-1],a[b])){return n}}}return k};V.yq=function(a,b){var c=this.zp(a),d=this.zp(b);return s.abs(this.I.pa(a)-this.I.pa(b))<(c+d)/2};V.nu=function(a){var b=[];if(1>=a[I]||0!=a[0]){return a}b[v](a[0]);for(var c=1,d=a[I];c<d;c++){this.yq(a[0],a[c])||b[v](a[c])}return b};V.zp=function(a){return this.qc.Hf(this.Qd[zb](a),this.ub)};V.Oo=function(a,b){return s.abs(this.I.Mb(b)-this.I.Mb(a))};V.Bi=function(a){for(var b=[],c=0;c<a[I];c++){var d=a[c];b[v]($v(d,this.I.pa(d),this.Qd[zb](d)))}return b};V.fl=function(a,b,c,d){if(b==c){return[b]}for(var e=[],b=a[db](b);b<=c;){e[v](b),b=a[oc]()}1==e[I]&&(b=(new bw(d/10))[B](c),b!=e[0]&&e[v](b));return e};function dw(a){this.zv(a);this.dv=a[hb]();this.ah=a[I];this.m=0}V=dw[K];Ma(V,function(){this.m++;return this[H]()});V.Ya=function(){this.m--;return this[H]()};V.zv=function(a){var b=a[I];0==b&&h(r("Multiplier is empty."));1>a[0]&&h(r("Multipliers first value is too low."));10<=a[b-1]&&h(r("Multipliers last value is too high."));for(var c=0,d,e=0;e<b;e++){d=a[e],op(a[e])||h(r("MultiplierList contains non-numerical value.")),d<=c&&h(r("MultiplierList is not sorted.")),c=d}};Ea(V,function(){var a=s[B](this.m/this.ah);return Uv(this.dv[this.m-a*this.ah],a)});ta(V,function(a){this.yl(Wi,a);this.m=this.ah*Xv(a);if(this[H]()!=a){for(;this.Ya()>a;){}}return this[H]()});sa(V,function(a){this.yl(Ch,a);this.m=this.ah*Wv(a);if(this[H]()!=a){for(;this[oc]()<a;){}}return this[H]()});qa(V,function(a){this.yl(lm,a);this.m=this.ah*Xv(a);if(this[H]()!=a){for(;this.Ya()>a;){}if(a-this[H]()<this[oc]()-a){return this.Ya()}}return this[H]()});V.yl=function(a,b){0>=b&&h(r(this+me+a+de+b+") - Received "+b+" but may only take positive numbers as argument."))};function ew(a,b,c,d,e){this.Fa=a;this.sl=e;this.bc=new cw(a,c,d,b);this.sd=new dw([1,2,5])}ew[K].ai=function(){var a=this.gl(),b;this.sd[B](a);do{b=this.bc.fl(new bw(a),this.Fa.me(),this.Fa.le(),a),a=this.sd[oc]()}while(!this.bc.Bo(b));return this.bc.Bi(b)};ew[K].gl=function(){var a=this.Fa.pe(),b=this.Fa.Hd(),c=s.max(this.bc.Oo(a,a+this.sl),this.bc.Oo(b-this.sl,b)),d=this.Fa.pa(0);d>=a&&d<=b&&(a=this.Fa.Mb(this.Fa.pa(0)+this.sl),c=s.max(c,a));return this.sd[db](c)};function fw(a,b,c,d){this.Ri=a;this.Hl=b;this.Rl=c;this.Vp=d;this.Ie=(this.Vp-this.Rl)/(this.Hl-this.Ri);this.nh=this.Ie*this.Ri-this.Rl}V=fw[K];V.Mb=function(a){return(a+this.nh)/this.Ie};V.pa=function(a){return a*this.Ie-this.nh};V.pe=function(){return this.Rl};V.Hd=function(){return this.Vp};V.me=function(){return this.Ri};V.le=function(){return this.Hl};function gw(a,b){this.Ci=a;this.Vg=s[B](a/10);this.td=a-this.Vg;this.Va=0;this.Di=Wv(s.abs(b));this.Ee=this.td*this.Di;this.m=0}V=gw[K];V.fp=function(){var a=s[B](this.m/this.td),b;b=10*(this.m+this.Vg-a*this.td)/this.Ci;0==b&&(b=1);return Uv(b,a)};Ea(V,function(){this.m=s.abs(this.Va)+this.Ee;return 0<this.Va?this.fp():0>this.Va?-this.fp():0});Ma(V,function(){this.Va++;return this[H]()});V.Ya=function(){this.Va--;return this[H]()};ta(V,function(a){var b=this.Vg,c=Wv(s.abs(a));if(s.abs(a)<=s.pow(10,this.Di)){return this.Va=0>a?-1:0,this[H]()}if(0<a){this.Va=this.td*c-this.Ee}else{if(0>a){this.Va=this.Ee-this.td*c,b=-b}}this[H]()!=a&&(c=this.Ci*a/Uv(1,Xv(s.abs(a))),this.Va+=s[B](c)-b);return this[H]()});sa(V,function(a){var b=this.Vg,c=Wv(s.abs(a));if(s.abs(a)<=s.pow(10,this.Di)){return this.Va=0<a?1:0,this[H]()}if(0<a){this.Va=this.td*c-this.Ee}else{if(0>a){this.Va=this.Ee-this.td*c,b=-b}}this[H]()!=a&&(c=this.Ci*a/Uv(1,Xv(s.abs(a))),this.Va+=s[db](c)-b);return this[H]()});qa(V,function(a){var b=Wv(s.abs(a));if(s.abs(a)<=s.pow(10,this.Di)){return this.Va=0}if(0<a){this.Va=this.td*b-this.Ee;if(this[oc]()>a){return a-this[H]()>=this.Ya()-a?this[oc]():this[H]()}this.Ya()}else{if(0>a){this.Va=this.Ee-this.td*b;if(this.Ya()<a){return a-this[H]()<this[oc]()-a?this.Ya():this[H]()}this[oc]()}}this[H]()!=a&&(b=this.Ci*a/Uv(1,Xv(s.abs(a))),this.Va+=s[z](b)-this.Vg);return this[H]()});function hw(a,b,c,d,e,f){this.I=a;this.Qd=b;this.qc=c;this.ub=d;this.xi=f;this.Vt=e;this.bc=new cw(a,c,d,b);this.sd=new dw([1,2,5])}hw[K].ai=function(){var a=this.gl(),b=this.bc.fl(new gw(a,this.xi),this.I.me(),this.I.le(),a);if(2>b[I]){return this.bc.Bi(b)}var a=b[0],c=b[1];if(0==a){if(3>b[I]){return this.bc.Bi(b)}a=c;c=b[2]}b=Uv(1,Xv(s.abs(a)));b==a&&(b*=10);this.sd[db](b/s.abs(c-a));do{a=this.sd.Ya(),b=this.bc.fl(new gw(a,this.xi),this.I.me(),this.I.le(),a),b=this.bc.nu(b)}while(!this.bc.Bo(b));return this.bc.Bi(b)};hw[K].gl=function(){var a=this.I.pa(10*this.xi),b;this.sd[B](1);do{b=this.sd[oc](),b=this.I.pa(10*this.xi*(b-1)/b)}while(s.abs(a-b)>=this.Vt);return this.sd.Ya()};function iw(a,b){this.Wp=a;this.W=b}iw[K].op=function(a){return this.Wp(a,this.W)[w]};iw[K].Sf=function(a){return this.Wp(a,this.W)[Q]};iw[K].Hf=function(a,b){return b==Gj?this.op(a):this.Sf(a)};function jw(a,b){W(a)?(s[z](a),this.Yd=a):this.Yd=1;if(12<this.Yd){this.gw=new bw(s[B](this.Yd/12))}var c=b||0;s[z](c);this.fw=c;this.fc=new Date;this[B](0)}V=jw[K];Ea(V,function(){return this.fc[Vb]()});Ma(V,function(){var a=this.fc[Gc](),a=a+this.Yd;this.fc.setUTCMonth(a);return this[H]()});V.Ya=function(){this.fc.setUTCMonth(this.fc[Gc]()-this.Yd);return this[H]()};ta(V,function(a){this.fc[Qc](a);1<this.Yd&&(this.fc.setUTCMonth(this.fc[Gc]()-(this.fc[Gc]()+12-this.fw)%this.Yd%12),12<this.Yd&&this.fc.setUTCFullYear(this.gw[B](this.fc.getUTCFullYear())));this.fc.setUTCDate(1);this.fc.setUTCHours(0,0,0,0);return this[H]()});sa(V,function(a){return this[B](a)<a?this[oc]():this[H]()});qa(V,function(a){return this[B](a)!=a&&a-this[H]()<this[oc]()-a?this.Ya():this[H]()});function kw(){this.m=0}V=kw[K];Ma(V,function(){this.m++;return this[H]()});V.Ya=function(){this.m--;return this[H]()};Ea(V,function(){return Uv(1,this.m)});ta(V,function(a){this.m=Wv(a);return this[H]()});sa(V,function(a){this.m=Xv(a);return this[H]()});qa(V,function(a){var b=Uv(1,Xv(a)),c=b/10;this.m=s[z](Vv(a-c<b-a?c:b));return this[H]()});function lw(a){a?(this.Fb=[1000,5000,10000,15000,30000,60000,300000,600000,900000,1800000,3600000,10800000,21600000,43200000,86400000,604800000,2629746000,7889238000,31556952000],this.Ta=new dw([1,2,5])):(this.Fb=[1000,60000,3600000,86400000,604800000,2629746000,7889238000,31556952000],this.Ta=new kw);this.zi=this.Ta[z](this.Fb[0]);this.cl=this.Ta.Ya();this.Ft=this.cl+(this.zi-this.cl)/2;this.Gf=this.Fb[this.Fb[I]-1];this.Ta[z](1);this.zo=this.Gf*this.Ta[oc]();this.Gt=this.Gf+(this.zo-this.Gf)/2;this.Sb(2)}V=lw[K];V.Sb=function(a){this.dl=1==a||4==a;if(2==a){this.m=0}else{if(3==a){this.m=this.Fb[I]-1}else{if(1==a){this.Rc=1}else{if(4==a){this.Rc=this.Gf}}}}};Ea(V,function(){return this.dl?this.Rc*this.Ta[H]():this.Fb[this.m]});ta(V,function(a){if(a<this.zi){return this.Sb(1),this.Ta[B](a)}if(a>=this.zo){return this.Sb(4),this.Rc*this.Ta[B](a/this.Rc)}for(this.Sb(2);a>=this.Fb[this.m];){this.m++}return this.Fb[--this.m]});sa(V,function(a){if(a<=this.cl){return this.Sb(1),this.Ta[db](a)}if(a>this.Gf){return this.Sb(4),this.Rc*this.Ta[db](a/this.Rc)}for(this.Sb(3);a<=this.Fb[this.m];){this.m--}return this.Fb[++this.m]});qa(V,function(a){if(a<this.Ft){return this.Sb(1),this.Ta[z](a)}if(a>=this.Gt){return this.Sb(4),this.Rc*this.Ta[z](a/this.Rc)}for(this.Sb(3);0<this.m&&a<this.Fb[this.m];){this.m--}this.Fb[this.m+1]-a<=a-this.Fb[this.m]&&this.m++;return this.Fb[this.m]});Ma(V,function(){this.dl?(this.Ta[oc](),1==this.Rc&&this.Ta[H]()==this.zi&&this.Sb(2)):(this.m++,this.m==this.Fb[I]&&(this.Sb(4),this.Ta[z](1),this.Ta[oc]()));return this[H]()});V.Ya=function(){this.dl?(this.Ta.Ya(),this.Rc==this.Gf&&1==this.Ta[H]()&&this.Sb(3)):(this.m--,-1==this.m&&(this.Sb(1),this.Ta[z](this.zi),this.Ta.Ya()));return this[H]()};function mw(a,b){var c=W(b)?b:1,a=(new lw)[z](a);return 2629746000>a?604800000==a?new bw(a,86400000*(3+c)):new bw(a):new jw(s[z](a/2629746000))}function nw(a,b){if(0==a){return 0}for(var c=a,d=0,e=NaN;;){var f=Wv(c),g=Uv(1,f),i=ow(c);if(5<i&&(e=5*g+d,e=pw(e,f),e<=a&&e>a-b)){break}e=i*g+d;e=pw(e,f);if(e<=a&&e>a-b){break}f=i*g;d+=f;c-=f}return e}function qw(a,b){if(0==a){return 0}for(var c=a,d=0,e=NaN;;){var f=Wv(c),g=Uv(1,f),i=ow(c);if(5>i&&(e=5*g+d,e=pw(e,f),e<=a+b&&e>=a)){break}e=i*g+d;e=pw(e,f);if(e<=a+b&&e>=a){break}e=(i+1)*g+d;e=pw(e,f);if(e<=a+b&&e>=a){break}f=i*g;d+=f;c-=f}return e}function pw(a,b){var c=Uv(1,s.abs(b));return s[z](a*c)/c}function ow(a){var b=Wv(a),a=a/Uv(1,b),b=s.abs(s[z](a)-a);0!=b&&1e-10>b&&(a=s[z](a));return s[B](a)}function rw(a,b,c,d,e,f,g,i,j){this.rt=a;this.to=b;this.uo=c;this.qc=d;this.Qb=e;this.I=f;this.wi=g;this.ub=i;this.Rk=j;this.qt=Lv(a);this.ti=Lv(b);this.Qb.Dg(this.to)}V=rw[K];V.Mt=function(a){return[aw(a,s.abs(this.I.pe()-this.I.Hd())/2,this.Qb[zb](a))]};V.Iw=function(){var a=this.I.me(),b=this.I.le();this.Qb.Dg(this.rt);if(a==b){return this.Mt(a)}var c;c=this.Qb[zb](b);c=new Zv(b,this.I.Hd(),k,k,n,c,1);this.Qb.Dg(this.to);for(var d=1==this.uo&&this.ti>this.qt,e=mw(this.ti*this.uo),f=mw(this.ti),g=[],i=NaN,j=e[db](a),a=f[db](a);a<=b;a=f[oc]()){var m=this.I.pa(a);if(a==j){j=e[oc]();if(this.Ot(i,a)){return l}d?(ka(i)||g[v](this.Kt(i,a)),g[v](new Zv(a,m,k,k,k,l))):(i=$v(a,m,this.Qb[zb](a)),g[v](i));i=a}else{g[v](new Zv(a,m,n,k,n,l))}}d&&b<a&&this.Ht(g,f,b);this.Rk&&(this.Jt(c,g,this.qc),g[v](c));return 2>this.Lt(g)?this.It():this.Nt(g)?this.Pt(g):g};V.Ht=function(a,b,c){var d=this.Qb[zb](c),e=this.qc.Hf(d,this.ub),f=b[H](),b=this.I.pa(b.Ya()),g=this.I.pa(f),f=this.I.pa(c),b=(b+g)/2;f-b>e/2&&a[v](aw(c,b,d))};V.Jt=function(a,b){var c=this.Iv(b);if(c!=l){var d=this.qc.Hf(c.Id,this.ub),e=this.qc.Hf(a.Id,this.ub);s.abs(c.re()-a.re())-(d+e)/2<this.wi&&c.Jv(l)}};V.Iv=function(a){for(var b=a[I]-1;0<=b;b--){if(a[b].Id!=l){return a[b]}}return l};V.It=function(){var a=this.Qb[zb](this.I.me()),b=this.Qb[zb](this.I.le()),a=a+ke+b,b=[];this.Ku(a,this.I)||b[v](aw(NaN,this.I.pe()+this.I.Hd()/2,a));return b};V.Ku=function(a){var b=s.abs(this.I.pe()-this.I.Hd());return this.qc.op(a)>b+40};V.Lt=function(a){for(var b=0,c=0;c<a[I];c++){a[c].Id!=l&&b++}return b};V.Pt=function(a){for(var b=[],c=0;c<a[I];c++){var d=a[c];(!d.Nu||d.Mu)&&b[v](d)}return b};V.Ot=function(a,b){var c=this.qc.Hf(this.Qb[zb](a),this.ub),d=this.qc.Hf(this.Qb[zb](b),this.ub);return s.abs(this.I.pa(a)-this.I.pa(b))-(c+d)/2<this.wi};V.Nt=function(a){if(2>a[I]){return n}for(var b=a[0],c=1;c<a[I];c++){var d=a[c];if(5>s.abs(d.re()-b.re())&&b[H]()!=d[H]()){return k}b=d}return n};V.Kt=function(a,b){var c=this.I.pa(a),d=this.I.pa(b),c=(c+d)/2;return aw(this.I.Mb(c),c,this.Qb[zb](a))};function sw(a,b,c,d,e,f,g){this.I=a;this.dg=b;this.qc=c;this.Qb=d;this.wi=e;this.ub=f;this.Rk=g;this.Po=this.xu()}sw[K].xu=function(){return[this.yb(wf,1),this.yb(wf,7),this.yb(Mf,1),this.yb(Mf,2),this.yb(Mf,3),this.yb(Mf,6),this.yb(ag,1),this.yb(ag,2),this.yb(ag,5),this.yb(ag,10),this.yb(ag,20),this.yb(ag,50),this.yb(ag,100),this.yb(ag,1000),this.yb(ag,10000),this.yb(ag,10000000)]};sw[K].yb=function(a,b){return new rw(this.dg,a,b,this.qc,this.Qb,this.I,this.wi,this.ub,this.Rk)};sw[K].ai=function(){for(var a=Lv(this.dg),b=0;b<this.Po[I];b++){var c=this.Po[b];if(a<=c.ti&&(c=c.Iw(),c!=l)){return c}}return[]};function tw(){this.Bq={}}var uw=l;function vw(){return uw?uw:uw=new tw}tw[K].Vs=function(a){return(a=this.Bq[a])?a[Uc](l,[]):l};tw[K].aj=function(a,b){this.Bq[a]=b};function ww(){}V=ww[K];V.oc=function(a,b){this.k=a;this.lg=b;this.Ax=0;this.cb=this.Ak();this.r=[];this.M=p;this.Q=-p;ya(this,a.hi(this.A(fj)));this.Ws=a.R(this.A(Io),function(a,b){return b});this.Ok=l};V.uf=function(a){var b=Hv(this.k,this.A(Gk),this.A(qm));this.Ok=Iv(b,a)};V.A=function(a){return bv(this.lg,a)};V.Ak=function(){return -1};V.ss=function(a,b,c){c&&(this.Fo(a),this.Fo(b));if(this.M==p||this.Q==-p){this.M=0,this.Q=1}if(this.M==this.Q){0==this.M?(this.M=-1,this.Q=1):0<this.M?(this.M/=2,this.Q*=2):(this.M*=2,this.Q/=2)}this.kl(this.M,this.Q,c);this.cb=s.max(1,this.r[I]-1)};V.ts=function(a){var b=this.$i(a);return this.Ws(a,b)};V.U=function(a){a=this.od(a);if(typeof a!=gl){return l}a=this.Tw(a);return !ia(a)?l:a};V.Y=function(a){if(W(a)){this.M=s.min(this.M,a),this.Q=s.max(this.Q,a)}};V.Fo=function(a){this.Y(this.U(a))};V.Vh=function(a){return this.am(this.kk(a))};V.Tw=function(a){return this.Ok[ed](a)};V.kk=function(a){return this.Ok.inverse(a)};V.$i=function(a){return a[ac]()};function xw(a,b,c,d,e,f){this.lg=c;this.k=b;La(this,d);Aa(this,b.ia(this.A(po),ru,e));this.dataType=b.Hc(this.A(qi));this.xh=this.gj=this.hj=l;this.Gq=0<a.gb.bars;c=b.Hc(this.A(Nn));d={zb:a.Tc,fontSize:a.uc,$a:a.Vf==Pj?a.Se:U};d=b.vc(this.A(Rn),d);Ha(this,{text:c,t:d,d:[],Za:Eh,Pa:fn,K:S});this.Re=l;this.ic=b.ia(this.A(Gn),vu,ol);c={color:this[F]!=Ho||a.N==rm?b.Hc(Jk):b.Hc(Sk),zb:a.Tc,fontSize:a.uc,$a:this.ic==Pj?a.Se:U};this.Ra=b.vc(this.A(Hn),c);this.Kq=b.ia(this.A(pl),wu,qo);this.gm=b.ia(this.A(Rj),xu,Ik);c=b.Uc(this.A(Rg),a.Eq);this.Ve=new wt({fill:c});a=b.Uc(this.A(wj),a.Fq);this.We=new wt({fill:a});this.Jc=2;this.em=s.max(this.Jc,s[z](this[J].t[M]/3.236));this.r=[];this.uh=0;this.direction=this.ag=b.be(this.A(Ai),1);this.ob=this.sb=l;this.th=this.Yf=0;this.J={min:-p,max:p};this.Ac=l;this.Lq=f;this[F]==Ho?(this.V=this.j=l,this.dg=b.ia(this.A(Mn),Kv,Jf),this.yh=p):(this.$e=1,this.fg=this.Xe=0,this.kj=1,this.hm=0,this.Zf(b))}V=xw[K];V.A=function(a){return bv(this.lg,a)};V.yf=function(a){if(0!=a){this.yh=s.min(s.abs(a),this.yh)}};V.uf=function(){this.j.uf(this.yh)};V.oi=function(a,b){var a=this[Fc]||a||gl,c=vw().Vs(a);c.oc(b,this.lg);this.j=c;this.hj=c.R(b,this.A(Rk));this.gj=c.R(b,this.A(Mk));this.xh=c.R(b,this.A(Qg));c=this.j.Ak()+1;this.j.cb=this.k.da(this.A(xj),c)-1};V.et=function(){if(this.J.min!=-p){this.j.M=this.J.min}if(this.J.max!=p){this.j.Q=this.J.max}if(this.j.M>this.j.Q){this.j.M=s.min(this.J.max,this.j.M),this.j.Q=s.max(this.J.min,this.j.Q)}};V.Zf=function(a){this.Ac=a.Wh(this.A(Oo),su);if(ip(this.Ac)||this.Ac==Pi){if(this[F]==Ho){var b=this.j,c=b.U(b.R(a,this.A(No))),a=b.U(b.R(a,this.A(Mo)));if(W(c)){this.J.min=c}if(W(a)){this.J.max=a}}else{this.J.min=a.be(this.A(No),this.J.min),this.J.max=a.be(this.A(Mo),this.J.max)}this.J.min!=-p||this.J.max!=p?(this.Ac=Pi,this.J.min>=this.J.max&&h(r("viewWindow.max must be greater than viewWindow.min"))):(this.Ac==Pi&&h(r('Option "viewWindowMode" was set to "explicit" but "viewWindow" was not specified.')),this.Ac=this.Lq);this[F]==Ho&&this.Ac==Pi&&this.et()}};V.On=function(){return this.Ac==Pi&&(this.J.min==-p||this.J.max==p)};V.ko=function(){this[F]==Ho&&!this.j&&h(r("Axis type/data type mismatch for "+this.lg))};V.xf=function(a,b,c,d){this.sb=c+(1==this[Wa]?0.5:-0.5);this.uh=b-1;this.ob=c+b*this[Wa];if(this[F]==Ho){0==this.j.cb?this.j[sc]==yw?this.Mr(a):this.Nr(a):this.Lr()}else{var e;if(this.Ac==Pi){if(this.J.min==-p){this.J.min=s.min(0,this.J.max-1)}else{if(this.J.max==p){this.J.max=s.max(this.fg,this.J.min+1)}}c=this.J.min;e=this.J.max-this.J.min}else{c=0,e=this.fg}this[F]==Bh&&(e=s.max(1,e-1));this.Gq&&(e=s.min(e,s[B]((b+1)/2)));b=this.uh/1.618/e;this.$e=s.min(this.kj,s[B]((b+1)/2));this.Xe=s[B]((b-this.$e+1)/this.$e);this.hm=((this.Xe+1)*this.$e-1)/2;this.th=c+(this[F]==xh?-0.5:0);this.Yf=this.uh/e;this.r=Uu(this.fg,function(b){var c=b-this.th;return{fa:a.v[b][A],u:this.Aa(b),text:a.v[b].dj[0],B:0<=c&&c<=e}},this)}this.jn(a);this.hn(a,d);return{title:this[J],name:this.kn(),Ve:this.Ve,We:this.We,ag:this.ag,sb:this.sb,ob:this.ob,L:this[F]==Ho?{Pq:Z(this.j.Vh,this.j),sg:Z(this.j.U,this.j),jf:Z(this.Or,this),mc:Z(this.Tm,this)}:l,V:this[F]==Ho&&this.V?{fa:this.V.fa,u:this.V.u,B:k}:l,kb:this[F]==Ho?Op(this.r,function(a){return{fa:a.fa,u:a.u,B:k}}):l,text:this.Re}};V.Lr=function(){this.Y(this.j.U(this.xh));this.j.ss(this.hj,this.gj,this.Ac==Sl||this.On());if(this.On()){if(this.J.min!=-p){this.j.M=this.J.min}else{if(this.J.max!=p){this.j.Q=this.J.max}}this.j.r=Np(this.j.r,function(a){return a>=this.j.M&&a<=this.j.Q},this)}this.ck();this.r=Op(this.j.r,function(a){var b=this.j.Vh(a),c=this.j.ts(b);return{fa:b,u:this.Aa(a),text:c,B:k}},this)};V.Mr=function(a){this.ck();var b=this.jk(a),c=new Qv;c.Dg(this.dg);var d=b.tf,e=b.sf,a=new iw(a.tc,this.Ra);if(b.vg){var f=d,d=e,e=f}b=(new sw(new fw(this.j.M,this.j.Q,d,e),this.dg,a,c,15,b[Qb],k)).ai();this.r=[];for(c=0;c<b[I];c++){d=b[c],d.Id&&this.r[v]({fa:d[H](),u:d.re(),text:d.Id,B:k})}};V.ck=function(){var a=this.j.M,b=this.j.Q;this.Yf=this.uh/(b-a);this.th=a;if(W(this.xh)){a=this.j.U(this.xh)}else{var c=this.j.U(this.j.Jk()),a=pr(c,a,b)}this.V=this.wd(a)?{fa:this.j.Vh(a),u:this.Aa(a)}:l};V.Nr=function(a){this.Y(this.hj);this.Y(this.gj);if(this.Ac==Sl){var b;b=new pt(this.j.M,this.j.Q);if(b[O]!=b.end){(!ia(b[O])||!ia(b.end))&&h(r("Range must be finite."));b[O]>b.end&&h(r("Range start must be less or equal to end."));var c=0.1*(b.end-b[O]);b=new pt(0>b[O]?-qw(-b[O],c):nw(b[O],c),0>b.end?-nw(-b.end,c):qw(b.end,c))}this.Y(b[O]);this.Y(b.end)}this.ck();var d=this.jk(a),e=this.j.kk(this.j.M),f=this.j.kk(this.j.Q),g=Hv(this.k,this.A(Gk),this.A(qm))==Dk?1:0;var i=d.tf,j=d.sf-1;b=this.yh;var c=d[Qb],m=new iw(a.tc,this.Ra),a=this.Rr(this.k);d.vg&&(d=i,i=j,j=d);if(e==f){b=(j-i)/2+i,c=a[zb](e),b=[aw(e,b,c)]}else{e=1==g?new fw(e,f,i,j):new Yv(e,f,i,j,g,b);if(e.me()==e.le()){f=1}else{var g=s.min(e.pe(),e.Hd()),i=s.max(e.pe(),e.Hd()),j=s.abs(e.Mb(g)),d=s.abs(e.Mb(i)),f=s.max(j,d),o=0,q=e.pa(0);if(g>q||q>i){o=s.min(j,d)}g=e.pa(o);f=e.pa(f);f=s.abs(e.Mb(g+10)-e.Mb(g))/s.abs(e.Mb(f+10)-e.Mb(f))}b=(0.5<f?new ew(e,a,m,c,40):new hw(e,a,m,c,40,b)).ai()}this.r=[];for(c=0;c<b[I];c++){a=b[c],this.r[v]({fa:a[H](),u:a.re(),text:a.Id,B:k})}};V.Rr=function(a){var b=new Rv,c=a.hi(this.A(fj));c?b.lu(c):(c=a.Mc(this.A(ij)),op(c)&&b.iu(c),c=a.Mc(this.A(jj)),op(c)&&b.ju(c),(c=a.R(this.A(kj)))&&b.ku({symbol:c.symbol,position:c[fc],usePadding:c.usePadding}),a.za(this.A(lj))&&b.mu(5));return b.gu()};V.Y=function(a){this[F]==Ho&&W(a)&&this.wd(a)&&this.j.Y(a)};V.Wm=function(){if(this[F]==Ho){var a=this.j,b=0.01*(a.Q-a.M);if(0<a.M&&this.J.min==-p){a.M=s.max(a.M-b,0)}if(0>a.Q&&this.J.max==p){a.Q=s.min(a.Q+b,0)}}};V.ke=function(a,b){this.fg=s.max(this.fg,a);this.kj=s.max(this.kj,b)};V.Aa=function(a){return !W(a)?l:this.sb+(a-this.th)*this[Wa]*this.Yf};V.Uu=function(a){return !W(a)?l:(a-this.sb)*this[Wa]/this.Yf+this.j.M};V.Or=function(a){a=this.Uu(a);return !W(a)?l:this.j.Vh(a)};V.Tm=function(a){return this.Aa(this.j.U(a))};V.wd=function(a){return a>=this.J.min&&a<=this.J.max};V.po=function(a){return a*this[Wa]>this.ob*this[Wa]};V.kt=function(a){return a*this[Wa]<this.sb*this[Wa]};function zw(a,b,c,d){this.D=a;this.k=b;this.h=d;this.ra=c;this.W=this.k.vc(rh,{zb:d.Tc,fontSize:d.uc,$a:d.Se});this.Fr=this.k.Uc(qh,Hd);this.Er=this.k.da(ph,0.8);this.uj=0;this.gg=1;this.hg=2;this.Cd=3;this.bd=4;this.zd=this.pm=this.om=this.rm=this.qm=S;this.bk=this.k.R(ei,Fu);this.Dr=Aw(this.bk[0])[tb];this.tm=this.sm=this.qj=this.pj=this.cf=this.af=l;this.xj()}V=zw[K];V.xj=function(){function a(a,b,d){if(c[mb]()<=a){return S}var e=c[Fb](a);b&&!(0<=Lp(d,e))&&h(r("Column "+a+" must be of type "+d[cd](xe)));!b&&0<=Lp(d,e)&&h(r("Column "+a+" cannot be of type "+d[cd](xe)));return e}var b=this.h,c=this.D,d=c[mb]();3>d&&h(r("Data table should have at least 3 columns"));a(this.uj,k,[pn]);var e=a(this.gg,n,[pn]),f=a(this.hg,n,[pn]);this.qm=c[Cb](this.gg);this.rm=c[Cb](this.hg);if(this.Cd<d){this.zd=a(this.Cd,k,[gl,pn]);if(this.zd==pn){this.af={},this.cf=[]}this.om=c[Cb](this.Cd)}else{this.Cd=l}this.bd<d?(a(this.bd,k,[gl]),this.pm=c[Cb](this.bd),this.k.za(an,k)&&c.setRows(c.getSortedRows({column:this.bd,desc:k}))):this.bd=l;b.v=[];b.df={};for(d=0;d<c[dc]();d++){var g=c[Jb](d);b.df[g]=d}b.e=[{type:sh,vm:k,z:k,c:[],tx:this.af,ux:this.cf}];b.fe=e;b.mf=[f];b.gb={};b.gb.bubbles=1;b.$c=[]};V.rr=function(a,b){for(var c=this.D,d=0;d<c[dc]();d++){var e=c[H](d,this.gg),f=c[H](d,this.hg),e=a.j.od(e),f=b.j.od(f);W(e)&&a.yf(e);W(f)&&b.yf(f)}};V.jr=function(a,b){for(var c=0;c<this.D[dc]();c++){this.h.e[0].c[v](this.zr(a,b,c))}if(this.zd==gl){var c=this.k,d=this.pj,e=l,f=c.R(ci);if(f&&0<f[I]){W(f[0])||h(r(di));for(e=1;e<f[I];e++){W(f[e])||h(r(di)),f[e]<=f[e-1]&&h(r("colorAxis.values must be a monotonically increasing series"))}e=f}else{var f=c.Mc(bi),g=c.Mc(ai);W(f)&&W(g)&&f>g&&h(r("colorAxis.minValue ("+f+") must be at most colorAxis.maxValue ("+g+fe));(d=ut(d,f,g))&&(e=[d[O],d.end])}d=c.R(ei);d=c.R($h,d);c=Cv(e,d);this.sm=new zv(c.hk,c.gk)}else{if(this.zd==pn){for(c=0;c<this.cf[I];c++){e=this.cf[c],d=this.af[e],d.qh&&this.h.$c[v]({index:c,id:e,text:d.fj,b:new wt({fill:d[tb]}),z:n})}}}d=this.k;f=this.qj;c=d.da(Qm);e=d.da(Om);c>e&&h(r("sizeAxis.minSize ("+c+") must be at most sizeAxis.maxSize ("+e+fe));var g=d.Mc(Rm),i=d.Mc(Pm);W(g)&&W(i)&&g>i&&h(r("sizeAxis.minValue ("+g+") must be at most sizeAxis.maxValue ("+i+fe));f=ut(f,g,i);d=Hv(d,Nm,Sm);d=Iv(d,NaN);this.tm=new Jv(c,e,f,d)};V.zr=function(a,b,c){var d=this.D,e=d[H](c,this.uj),f=d[Xc](c,this.uj),g=d[H](c,this.gg),i=d[H](c,this.hg),j=l;if(W(this.Cd)&&(j=d[H](c,this.Cd),!W(j))){return l}var m=l;if(W(this.bd)&&(m=d[H](c,this.bd),!W(m))){return l}var o=this.ra(f,this.W)[w];if(this.zd==gl){this.pj=tt(this.pj,j)}else{if(this.zd==pn){var q=j,u=this.af[q];if(!u){var u=Cm+q+me,y=this.k.Uc(u+Yh,this.bk[this.cf[I]%this.bk[I]]),y=Aw(y),D=this.k.za(u+Qo,k),u=this.k.Hc(u+fk,q),u={color:y[tb],qh:D,fj:u};this.af[q]=u;this.cf[v](q)}}}this.qj=tt(this.qj,m);g=a.j.U(g);i=b.j.U(i);if(ip(g)||ip(i)){return l}a.wd(g)&&b.wd(i)&&(a.Y(g),b.Y(i));a=this.ik(c,f);return{wc:d[Jb](c),id:e,text:f,Sq:o,t:this.W,Xf:a,hb:{x:g,y:i,color:j,size:m}}};V.ik=function(a,b){var c=this.D,d=c[Xc](a,this.gg),e=c[Xc](a,this.hg),d=[{title:this.qm,value:d},{title:this.rm,value:e}];W(this.Cd)&&(e=c[Xc](a,this.Cd),d[v]({title:this.om,value:e}));W(this.bd)&&(c=c[Xc](a,this.bd),d[v]({title:this.pm,value:c}));return{title:b,d:d}};V.Tv=function(a,b,c){var a=a.Aa(c.x),b=b.Aa(c.y),d;d=this.zd==gl?this.sm.lt(c[tb]):this.zd==pn?this.af[c[tb]][tb]:this.Dr;d=new wt({fill:d,rb:this.Er,stroke:this.Fr});c=this.tm.mt(c[hc]);return{x:a,y:b,b:d,Xb:c,Zh:c}};function Bw(a,b,c,d,e,f,g,i){this.qo=a;this.Ud=b;this.Wu=c;this.Ro=d;this.Gi=e;this.nt=f;this.Xu=g;this.ro=i}function Cw(a,b,c,d){switch(d){case Hg:return a;case Gg:return(b-1-a)%c}}V=Bw[K];V.yt=function(a){return 1>=this.Ud[I]?this.qo:s.abs(this.Ud[1].u-this.Ud[0].u)*a-this.Xu};V.Ii=function(a,b,c){a=s[db]((this.Ud[I]-a)/(b*c));return 2>this.Ud[I]||2>a};V.Vv=function(a,b,c,d){for(var a=Cw(a,this.Ud[I],c,this.nt),e=this.yt(c),f=[];a<this.Ud[I];a+=c){var g=this.Ud[a],i=g.B?s.min(e,2*g.u,2*(this.qo-g.u)):e,j=this.ro(g[x],i,d),m=j.aa;if(i<e){m=this.ro(g[x],e,d).aa}f[v]({fa:g.fa,B:g.B,u:g.u,zm:b,text:g[x],width:j.Yb,Ed:j,aa:m})}return f};V.Ao=function(a,b,c){for(var d=a*b,c=1<a?1:c,e=[],f=0;f<a;f++){var g=this.Vv(this.Wu+f*b,f*c,d,c);Zp(e,g)}bq(e,function(a,b){return a.u-b.u});return e};V.Cl=function(a,b){var c=this.Ao(a,b,p);return Pp(c,function(a,b){return{pf:s.max(a.pf,b.Ed.d[I]),aa:a.aa||b.aa}},{pf:0,aa:n})};V.Tj=function(){for(var a=1,b=this.Gi||1,c=this.Cl(a,b),d=a;c.aa&&a<this.Ro;){a++;if(this.Ii(0,a,b)){break}d=a;c=this.Cl(d,b)}a=b;if(!this.Gi){for(;c.aa;){b++;if(this.Ii(0,d,b)){break}a=b;c=this.Cl(d,a)}}return{Lj:d,je:a,pf:c.pf*d}};V.Ol=function(a,b,c,d){a=this.Ao(a,b,c);d=Pp(a,function(a,b){var c=b.aa?1:0;delete b.aa;return a+c},0)<=a[I]*d;return{Nh:a,qp:d}};V.Gm=function(a,b,c,d){for(var e=s.min(this.Ro,c),a=s.min(a,e),b=this.Gi||b,f=this.Ol(a,b,c,d),g=a;!f.qp&&a<e;){a++;if(this.Ii(0,a,b)){break}g=a;f=this.Ol(g,b,c,d)}e=b;if(!this.Gi){for(;!f.qp;){b++;if(this.Ii(0,g,b)){break}e=b;f=this.Ol(g,e,c,d)}}return{Lj:g,je:e,Nh:f.Nh}};function Dw(a,b,c,d,e,f){xw[N](this,a,b,Xp([yj+d,zj],c),d,e,f);this.Jj=b.Go(this.A(Tm));a=b.da(this.A(Um),30);if(1>a||90<a){a=30}this.Sr=a;this.bi=sr(a);this.nm=b.da(this.A(Ui));this.Cj=b.da(this.A(Lk),2);this.Gh=b.da(this.A(Km),0);this.Bj=b.ia(this.A(Lm),Eu,Hg)}xp(Dw,xw);V=Dw[K];V.kn=function(){return Aj+this[ic]};V.xf=function(a,b){return Dw.Pb.xf[N](this,a,a.a[w],1==this[Wa]?a.a[C]:a.a[R],b)};V.jn=function(a){if(0==this[ic]){var b=a.tc,c=this.Ra[M],d=this[J].t[M],e=a.f.t[M],f=a.Vf==ol?this[J][x]:S,g=this,i=new Bw(a[w],this.r,this.nm,this.Cj,this.Gh,this.Bj,c,function(a,c,d){return Iu(b,a,g.Ra,c,d)}),j=this.Gh||1,m,o;this.ic==ol&&(W(this.Jj)?this.Jj?o=this.Ph(b):m=i.Tj():this.r[I]*c/(this.Cj*j)<=a[w]?(m=i.Tj(),m.je>j&&(o=this.Ph(b),m=l)):o=this.Ph(b));var q=Iu(b,f,this[J].t,a.a[w],p),u=this.Jc,y=s.max(u,s[z](c/1.618)),D=s.max(u,s[z](c/3.236)),Y=function(){return{key:Ln,min:o.minHeight+u,max:o.maxHeight+u,T:[y-u]}},L=[];L[v]({key:kh,min:u,T:[p]});0<q.d[I]&&L[v]({key:Nn,min:d+u,T:[p]});a.f[fc]==jh&&L[v]({key:ik,min:e+u,T:[p]});var X=L[I];m?L[v]({key:Ln,min:c+u,T:[y-u]}):o&&L[v](Y());var G=L[I];if(m){for(var aa=1;aa<m.pf;aa++){L[v]({key:Ln,min:c+u,T:[D-u]})}}c=L[I];for(aa=1;aa<q.d[I];aa++){L[v]({key:Nn,min:d+u,T:[this.em-u]})}var d=Zu(L,a[Q]-a.a[P]),na=d.ticks||[],jb;m&&(jb=i.Gm(m.Lj,m.je,na[I],0),!W(this.Jj)&&jb.je>j&&(jb=m=l,o=this.Ph(b),L[X]=Y(),L=$u(L,0,G,c,ba),d=Zu(L,a[Q]-a.a[P])));var Da=a.a[P],na=d.ticks||[];if(0<na[I]){for(aa=1;aa<na[I];aa++){na[aa]+=na[aa-1]}if(m){this.Re=Op(jb.Nh,function(a){var b=Op(a.Ed.d,function(b,c){return{x:0,y:na[a.zm+c],length:a[w],text:b}},this);return{fa:a.fa,B:a.B,o:{text:a[x],t:this.Ra,d:b,Za:Eh,Pa:Ni,K:a.Ed.aa?a[x]:S,anchor:{x:a.u,y:Da}}}},this)}else{if(o){aa=na[0],i=s.min(aa-u,o.maxHeight),this.Re=this.Rq(b,Da+aa-i,i,o.je)}}Da+=Jp(na)}i=d[J]||[];if(0<i[I]){j=Iu(b,f,this[J].t,a.a[w],i[I]);this[J].K=j.aa?f:S;for(aa=0;aa<i[I];aa++){Da+=i[aa],this[J].Pa=Ni,this[J].d[v]({x:a.a[C]+a.a[w]/2,y:Da,length:a.a[w],text:j.d[aa]})}}f=d.legend||[];if(0<f[I]){Da+=f[0],a.f.pb=new hs(Da-e,a.a[R],Da,a.a[C])}}};V.Ph=function(a){function b(b){b=a(b[x],c)[w]*e+d*f;return s[db](b)}var c=this.Ra,d=c[M],e=s.sin(this.bi),f=s.cos(this.bi),g=this.Gh;g||(g=2>this.r[I]?1:s[db]((d+this.Jc)/e/s.abs(this.r[1].u-this.r[0].u)));for(var i=0,j=0;j<this.r[I];j+=g){i=s.max(b(this.r[j]),i)}j=b({text:ne});return{minHeight:s.min(i,j),maxHeight:i,je:g}};V.Rq=function(a,b,c,d){for(var e=Cw(0,this.r[I],d,this.Bj),c=(c-this.Ra[M]*s.cos(this.bi))/s.sin(this.bi),c=s[B](c),f=[];e<this.r[I];e+=d){var g=this.r[e],i=Iu(a,g[x],this.Ra,c,1),j={text:g[x],t:this.Ra,d:[],kf:-this.Sr,Za:Ni,Pa:fn,K:i.aa?g[x]:S,anchor:{x:g.u,y:b}};0<i.d[I]&&j.d[v]({x:0,y:0,length:c,text:i.d[0]});f[v]({fa:g.fa,B:g.B,o:j})}return f};V.hn=function(a){if(0==this[ic]){var b=a.tc,c=this.Ra[M],d=new Bw(a[w],this.r,this.nm,this.Cj,this.Gh,this.Bj,c,Z(function(a,c,d){return Iu(b,a,this.Ra,c,d)},this)),e;this.ic==Pj&&(e=d.Tj());var f=this.Jc,g=s.max(this.Jc,s[z](c/3.236)),i=s.max(this.Jc,s[z](c/1.618)),i=this[F]==Ho?g:i,j=s.max(f,s[z](c/3.236)),m,o;this[F]==Ho?this.gm==Fj?(m=fn,o=g):(m=Ni,o=-g):(m=Eh,o=0);g=[];g[v]({key:jo,min:f,T:[p]});if(e){for(var q=0;q<e.pf;q++){g[v]({key:Ln,min:c+f,T:[(0==q?i:j)-f]})}}var u=Zu(g,s[B](a.a[Q]/2)).ticks||[];if(0<u[I]){for(q=1;q<u[I];q++){u[q]+=u[q-1]}c=d.Gm(e.Lj,e.je,u[I],0.5);this.Re=Op(c.Nh,function(b){var c=b.Ed.d;c.reverse();c=Op(c,function(a,c){return{x:0,y:-u[b.zm+c],length:b[w],text:a}},this);return{fa:b.fa,B:b.B,o:{text:b[x],t:this.Ra,d:c,Za:m,Pa:fn,K:b.Ed.aa?b[x]:S,anchor:{x:o+b.u,y:a.a[P]}}}},this)}}};V.jk=function(a){var b={};b.vg=-1==this[Wa];b.tf=a.a[C];b.sf=a.a[R];Ca(b,Gj);return b};function Ew(a,b,c){for(var d=new Date(a),e=n,f=b[I],g=[s[B],s[db]][c],i=0;i<f;++i){var j=a[Em+Fw[i]],m=a[oj+Fw[i]][Uc](a),o=b[i],q=Gw[i];if(0==o){e=e||0!=m&&0!=c,j[Uc](d,[q])}else{return e?j[Uc](d,[q+o*(1+s[B]((m-q)/o))]):j[Uc](d,[q+o*g((m-q)/o)]),d}}}function Hw(a,b,c){var d=Yp(a),e;for(e=0;e<d[I]&&0==b[e];++e){d[e]=0}if(e==d[I]){return l}if(0==e){return d[0]=c(a[0]/b[0])*b[0],d}var f=0;a[e-1]>=Iw[e-1]?f=0.7:0<a[e-1]&&(f=0.1);d[e]=c((a[e]+f)/b[e])*b[e];return d}function Jw(a,b,c){var d=Op(b,function(a){return[s.log(Kw(a))]});if(!c){return a=Su(s.log(a),d),b[a]}c=Tu(s.log(a),d,c);a=c[0];return a<=d[I]-1?b[a]:Hw(Lw(s.exp(c[1])),Jp(b),s[z])}function Mw(a){a=Tp(a,function(a){return 0!=a});return s.max(0,a)}function Kw(a){if(a==l){return -1}for(var b=0,c=a[I],d=0;d<c;++d){b+=a[d]*Nw[d]}return b}function Lw(a){for(var b=[],c=Nw[I]-1;0<=c;c--){b[c]=s[B](a/Nw[c]),a-=b[c]*Nw[c]}return b}function Ow(a){var b=[],a=s[B](a/1000);b[v](s[B](a/3600));b[v](s[B](a/60)-60*b[0]);b[v](a-3600*b[0]-60*b[1]);return b}var Fw="Milliseconds,Seconds,Minutes,Hours,Date,Month,FullYear".split(","),Gw=[0,0,0,0,1,0,0],Iw=[500,30,30,12,15,6,0],Nw=[1,1000,60000,3600000,86400000,2629743830,31556926000];function yw(a,b,c){this.el=a;this.hu=b;this.zl=c}xp(yw,ww);V=yw[K];V.oc=function(a,b){yw.Pb.oc[N](this,a,b);var c=a.fi(this.A(gj)),d=[];d[v](c.millisecond);d[v](c.second);d[v](c.minute);d[v](c.hour);d[v](c.day);d[v](c.month);d[v](c.year);this.zl=Pw([d,gq(this[zb],d[I]),this.zl])};function Pw(a){a=hq[Uc](l,a);return Op(a,function(a){return Rp(a,function(a){return a})})}V.R=function(a,b){return a.R(b)};V.od=function(a){return lp(a)?a[Vb]():NaN};V.am=function(a){return new Date(a)};V.Jk=function(){var a=new Date(0);a.setFullYear(0);return a};V.kl=function(a,b,c){var d=(b-a)/6,e=Jw(d,this.el,this.hu);c?(a=Ew(new Date(a),e,0),b=Ew(new Date(b),e,1)):(a=Ew(new Date(a),e,1),b=Ew(new Date(b),e,0));d=Lw(d);d=Hw(d,e,s[z]);d=0<Kw(d)?d:e;this.r=[];for(e=a;e<b;){this.r[v](e[Vb]());var f=d,g=new Date(e),i;b:{for(i=0;i<f[I];++i){if(0!=f[i]){i=n;break b}}i=k}if(!i){for(i=0;i<f[I];++i){var j=Fw[i],m=g[Em+j],j=g[oj+j][Uc](g,[]);m[Uc](g,[j+f[i]])}g<=e&&h("Error adding duration to date")}e=g}(c||e<=b)&&this.r[v](e[Vb]());if(c){this.M=a[Vb](),this.Q=e[Vb]()}this.ou=this.pu(d)};V.$i=function(a){return this.ou[rc](a)};V.pu=function(a){a=this.zl[Mw(a)];return new google[wc].DateFormat({pattern:a})};var Qw=[[0,0,0,0,1],[0,0,0,0,2],[0,0,0,0,7],[0,0,0,0,0,1],[0,0,0,0,0,3],[0,0,0,0,0,6],[0,0,0,0,0,12],[0,0,0,0,0,0,1],[0,0,0,0,0,0,5],[0,0,0,0,0,0,10],[0,0,0,0,0,0,25],[0,0,0,0,0,0,50],[0,0,0,0,0,0,100]],Rw=[vi,vi,vi,vi,vi,"MM y",Yo],Sw=[[1],[2],[5],[10],[20],[50],[100],[200],[500],[0,1],[0,2],[0,5],[0,10],[0,15],[0,30],[0,0,1],[0,0,2],[0,0,5],[0,0,10],[0,0,15],[0,0,30],[0,0,0,1],[0,0,0,2],[0,0,0,3],[0,0,0,4],[0,0,0,6],[0,0,0,12],[0,0,0,0,1],[0,0,0,0,2],[0,0,0,0,7],[0,0,0,0,0,1],[0,0,0,0,0,3],[0,0,0,0,0,6],[0,0,0,0,0,12],[0,0,0,0,0,0,1],[0,0,0,0,0,0,5],[0,0,0,0,0,0,10],[0,0,0,0,0,0,25],[0,0,0,0,0,0,50],[0,0,0,0,0,0,100]],Tw=[wi,wi,"dd MMM y HH:mm","dd MMM y HH:00","dd MMM y","MMM y",Yo];function Uw(a,b,c,d,e,f,g,i){if(!(c=Vw(a,b,c,d,e,f,g,i))){0<=a||0>=b||1==g?c={Kb:a,Lc:b}:(c=s.max(1,s.min(g-1,s[z](g*(b/(b-a))))),g-=c,a=s.max(b/c,-a/g),c={Kb:-g*a,Lc:c*a})}return c}function Vw(a,b,c,d,e,f,g,i){var j=b-a;if(0>=j){return l}for(var m=s[B](s.log(j)/s.log(10)),j=Uu(5,function(a){return{kh:s.pow(10,m-a),Ki:5}}),o=[],q=n,u=0;u<j[I];++u){var y=j[u],D=Ww(a/(y.kh*y.Ki),b/(y.kh*y.Ki),c,d,e,f,g),o=o[hb](Op(D,function(a){return[y,a]}));if(q){break}q=0!=D[I]}return Pp(o,function(a,b){for(var c=b[0],d=b[1],e=d.Bv;e<=d.Av;e+=d.Cv){var f=s[z](c.Ki*e),j=s[z](c.Ki*(e+g*d.Dv)),m=i(f,j,c.kh);m>a.ec&&(a={ec:m,xp:{Kb:s[z](f)*c.kh,Lc:s[z](j)*c.kh}})}return a},{ec:-p,xp:l}).xp}function Ww(a,b,c,d,e,f,g){for(var i=[],j=b-a,m=d+f,o=s[db](j/(1-(c+e))/g),j=s[B](j/(1-m)/g);o<=j;++o){var m=o*g,q=s[db](s.max(a-d*m,b-(1-e)*m)),u=s[B](s.min(a-c*m,b-(1-f)*m)),y=1;0<b&&0>a?1<g&&(q=s[db](q/o)*o,u=s[B](u/o)*o,y=o):0<=a?q=s.max(0,q):u=s.min(-m,u);0<=u-q&&i[v]({Dv:o,Cv:y,Bv:q,Av:u})}return i}function Xw(a){if(0==a){return 0}for(0>a&&(a=-a);0==s[z](a%10);){a=s[z](a/10)}return 1==a||5==a?0.5:s[B](s.log(a)/s.log(10))+1}function Yw(){}xp(Yw,ww);V=Yw[K];V.Ak=function(){return 4};V.oc=function(a,b){Yw.Pb.oc[N](this,a,b);this.Qd=l;this.Pk=a.Mc(this.A(hj));this.rd=a.R(this.A(Kn),[10,2,5,1])};V.kl=function(a,b,c){var d,e,f,g;c?(c=Z(Zw,l,this.rd,this.cb,a,b),d=-0.0001,e=1/s.max(this.cb,3),f=d,g=e):(d=-1/s.max(this.cb,3),e=0,f=d,g=e,this.rd[0]*=-1,c=Z(Zw,l,this.rd,this.cb,this.M,this.Q));c=Uw(a,b,d,e,f,g,this.cb,c);d=(c.Lc-c.Kb)/this.cb;this.r=[];for(e=0;e<=this.cb;++e){this.r[v](c.Kb+d*e)}this.M=s.min(c.Kb,a);this.Q=s.max(c.Lc,b);a:if(a=this.Pk?d/this.Pk:d,0==a){a=0}else{a=s.abs(a);for(b=0;16>b;++b){if(s.abs(a-s[z](a))<1e-7*a){a=b;break a}a*=10}a=16}this.zt=a;this.Qd=new google[wc][Tb]({pattern:this[zb],fractionDigits:this[zb]?l:this.zt,scaleFactor:this.Pk})};function Zw(a,b,c,d,e,f,g){function i(a){return s.pow(Xw(a),1.2)}c=a[0]*(d-c)/(g*(f-e));d=(f-e)/b;for(g=1;g<b;++g){c-=a[1]*i(e+g*d)}c-=a[2]*i(e);c-=a[2]*i(f);return c-=a[3]*i(d)}V.R=function(a,b){return a.Mc(b)};V.$i=function(a){return this.Qd[rc](a)};V.od=function(a){return a};V.am=function(a){return a};V.Jk=function(){return 0};function $w(a){this.el=a}xp($w,ww);V=$w[K];V.oc=function(a,b){$w.Pb.oc[N](this,a,b);this.rd=a.R(this.A(Kn),[10,2,1])};V.R=function(a,b){return a.rx(b)};V.od=function(a){return W(a)?1000*(60*(60*a[0]+a[1])+a[2]):NaN};V.am=function(a){return Ow(a)};V.Jk=function(){return Ow(0)};V.kl=function(a,b,c){if(-1==this.cb){var d=(b-a)/6,e=Jw(d,this.el,0),f=Kw(e),d=s.max(1,s[z](d/f))*f;c?(a=s[B](a/d)*d,b=s[db](b/d)*d):(a=s[db](a/d)*d,b=s[B](b/d)*d);this.r=[];for(f=a;f<b;){this.r[v](f),f+=d}this.r[v](f);if(c){this.M=a,this.Q=b}this.vo=Mw(e)}else{this.$t(a,b,c)}};V.$t=function(a,b,c){var d,e,f,g;c?(c=Z(ax,l,this.rd,this.cb,a,b),d=-0.0001,e=1/s.max(this.cb,3),f=d,g=e):(d=-1/s.max(this.cb,3),e=0,f=d,g=e,this.rd[0]*=-1,c=Z(ax,l,this.rd,this.cb,this.M,this.Q));c=Uw(a,b,d,e,f,g,this.cb,c);d=(c.Lc-c.Kb)/this.cb;this.r=[];for(e=0;e<=this.cb;++e){this.r[v](c.Kb+d*e)}this.M=s.min(c.Kb,a);this.Q=s.max(c.Lc,b);this.vo=0==d-s[B](d)?1:0};function ax(a,b,c,d,e,f){c=a[0]*(d-c)/(f-e);f=(f-e)/b;for(d=0;d<=b;++d){c-=a[1]*Xw(e+d*f)}return c-=a[2]*Xw(f)}V.$i=function(a){return(new google[wc].DateFormat({pattern:this[zb]?this[zb]:1>=this.vo?Bf:Af}))[rc](new Date(1970,0,1,a[0],a[1],a[2],0))};var bx=[[0,1,0,0],[0,2,0,0],[0,5,0,0],[0,10,0,0],[0,20,0,0],[0,30,0,0],[0,0,1,0],[0,0,5,0],[0,0,10,0],[0,0,15,0],[0,0,30,0],[0,0,0,1],[0,0,0,2],[0,0,0,3],[0,0,0,4],[0,0,0,6],[0,0,0,12]];vw().aj("timeofday",function(){return new $w(bx)});vw().aj("date",function(){return new yw(Qw,3,Rw)});vw().aj("datetime",function(){return new yw(Sw,3,Tw)});vw().aj(gl,function(){return new Yw});var cx={},dx=n;function Aw(a){var b={};va(b,a[tb]||a);var c=mt(b[tb]);c==U?(b.wf=a.darker||c,b.si=a.lighter||c):(c=it(c),b.wf=a.darker||gt(lt([0,0,0],c,0.25)),b.si=a.lighter||gt(lt([255,255,255],c,0.25)));return b}function ex(a,b,c,d,e,f){xw[N](this,a,b,Xp([Eo+d,Fo],c),d,e,f);if(this[F]==Ho){this.direction=-this[Wa]}}xp(ex,xw);V=ex[K];V.kn=function(){return Go+this[ic]};V.xf=function(a,b){return ex.Pb.xf[N](this,a,a.a[Q],1==this[Wa]?a.a.top:a.a[P],b)};V.jn=function(a){var b=a.tc,c=this.Ra[M],d=this[J].t[M],e=a.Vf==ol?this[J][x]:S,f=this.Jc,g=Pp(this.r,function(a,c){return s.max(a,b(c[x],this.Ra)[w])},0,this),i=b(ne,this.Ra)[w],i=s.min(i,g),j=Iu(b,e,this[J].t,a.a[Q],p),m=[];this.ic==ol?m[v]({key:im,min:f,T:[c-f]}):m[v]({key:im,min:0,T:[p]});0<j.d[I]&&m[v]({key:Nn,min:d+f,T:[p]});this.ic==ol&&m[v]({key:Ln,min:i+f,max:g+f,T:[p]});for(c=1;c<j.d[I];c++){m[v]({key:Nn,min:d+f,T:[this.em-f]})}var d=Zu(m,0==this[ic]?a.a[C]:a[w]-a.a[R]),o=0==this[ic]?0:a[w],j=d[J]||[];if(0<j[I]){m=Iu(b,e,this[J].t,a.a[Q],j[I]);this[J].K=m.aa?e:S;for(c=0;c<j[I];c++){o+=j[c]*(0==this[ic]?1:-1),this[J].kf=-90,this[J].Pa=0==this[ic]?Ni:fn,this[J].d[v]({x:o,y:a.a.top+a.a[Q]/2,length:a.a[Q],text:m.d[c]})}}if(this.ic==ol){var e=d.ticks[0]||0,o=o+e*(0==this[ic]?1:-1),q=s.min(g,e-f);this.Re=q<i?[]:Op(this.r,function(b,c){var d=0==this[ic]?Ni:fn,e=Eh;this.Kq==lh&&(0==c&&(e=1==this[Wa]?fn:Ni),c==this.r[I]-1&&(e=1==this[Wa]?Ni:fn));return this.Fn(a,b,o,q,d,e,0)},this)}};V.hn=function(a){var b=a.tc,c=this.Ra[M],d=this.Jc,e=s.max(this.Jc,s[z](c/3.236)),c=s.max(this.Jc,s[z](c/1.618)),c=this[F]==Ho?e:c,f,g;this[F]==Ho?this.gm==Fj?(f=Ni,g=e):(f=fn,g=-e):(f=Eh,g=0);var e=Pp(this.r,function(a,c){return s.max(a,b(c[x],this.Ra)[w])},0,this),i=b(ne,this.Ra)[w],i=s.min(i,e),j=[];j[v]({key:im,min:d,T:[p]});this.ic==Pj&&j[v]({key:Ln,min:i+d,max:e+c,T:[]});var c=Zu(j,a.a[w]/2),m=0==this[ic]?a.a[C]:a.a[R];if(this.ic==Pj){var c=c.ticks[0]||0,o=s.min(e,c-d),m=m+(c-o)*(0==this[ic]?1:-1);this.Re=Op(this.r,function(b){return this.Fn(a,b,m,o,0==this[ic]?fn:Ni,f,g)},this)}};V.Fn=function(a,b,c,d,e,f,g){var a=Iu(a.tc,b[x],this.Ra,d,1),i=Op(a.d,function(a){return{x:0,y:0,length:d,text:a}},this);return{fa:b.fa,B:b.B,o:{text:b[x],t:this.Ra,d:i,Za:e,Pa:f,K:a.aa?b[x]:S,anchor:{x:c,y:b.u-g}}}};V.jk=function(a){var b={};b.vg=-1==this[Wa];b.tf=a.a.top;b.sf=a.a[P];Ca(b,Ko);return b};function fx(a,b,c,d){this.D=a;this.k=b;this.ra=c;this.bf=l;this.h=d;this.Oh=this.Z=this.sa=this.La=this.Ma=l;this.h.jc=b.ia(Yi,Bu,ri);d.jc==xh&&d.N!=T&&h(r("Focus target "+d.jc+" is not supported for the chosen chart type."));d.N==oh?this.Oh=new zw(this.D,this.k,this.ra,d):(this.bf=b.R(ei,Fu),this.ps());a=0<d.gb.bars||0<d.gb.area||0<d.gb.steppedArea;this.h.Vc=this.k.za(ak)&&a;this.h.dn=this.k.za(Wn,this.h.jc==xh);this.h.im=this.k.za(Jm,n);this.os()}V=fx[K];V.ps=function(){var a=this.h,b=this.D,c=a.N==rm?function(){return rm}:Z(function(b){return this.k.ia(Cm+b+ve,pu,a.fm)},this),c=gx(b,c);a.v=[];a.df={};for(var d=0;d<b[dc]();d++){var e=b[Jb](d),f=b[H](d,0),g=Op(c.Zc,function(a){return b[Xc](d,a.w[wb][0])||S});a.v[v]({data:f,dj:g,wc:e});a.df[e]=d}a.e=[];a.yj={};for(d=0;d<c.Xm[I];d++){e=this.cr(d,c.Xm[d]),a.e[v](e),a.yj[e.wc]=d}a.Zc=c.Zc;a.fe=c.fe;a.gb={};a.Th=[];a.mf={};for(d=0;d<a.e[I];++d){c=a.e[d],a.Th[v](c.Ja),e=a.mf[c.Ja],W(e)?e!=c[Fc]&&h("All series on a given axis must be of the same data type"):a.mf[c.Ja]=c[Fc],a.gb[c[F]]=(a.gb[c[F]]||0)+1}aq(a.Th);a.$c=[];for(c=0;c<a.e[I];c++){if(e=a.e[c],e.qh&&a.$c[v]({id:e.id,text:e.fj,b:new wt({fill:e[tb][tb]}),index:c,z:e.z}),a.jc==xh){e.z=n}}};function gx(a,b){for(var c=[],d=[],e=l,f=0,g=0;g<a[mb]();++g){var i=a[Fb](g),j=a.getColumnProperty(g,jm)||(0==g?Fi:pi);j==Fi&&(0<f&&h("Unexpected domain column (column #"+g+fe),e={w:{},dataType:i},d[v](e));j==pi&&0==f&&(f=b(c[I]),e={type:f,dataType:i,w:{}},c[v](e),f=f==wh?4:1);j==pi&&(f--,i!=e[Fc]&&h("All data columns of the same series must be of the same data type"));e.w[j]=e.w[j]||[];e.w[j][v](g)}0<f&&h("Last serie does not have enough data columns (missing "+f+fe);e=0;i=d[0][Fc];for(g=0;g<c[I];++g){d[I]<=e&&h("Serie #"+g+" does not have a domain column.");if((j=d[e+1])&&j.w[wb][0]<=c[g].w[A][0]){++e,i!=d[e][Fc]&&h("All domains must be of the same data type")}c[g].Ad=e}return{Xm:c,Zc:d,fe:i}}V.cr=function(a,b){var c=b[F],d=b.w,e=b.Ad,f=this.k,g=Cm+a+me,i=d[A],j=this.D.getTableColumnIndex(i[0]),m=this.D[Cb](i[0])||S,o=c==rm?0:2,q=f.da([g+Ml,Ml],c==rm?7:0),u=c==Ak||c==Cg||c==rm?0<q:k;0==q&&(q=c==rm?7:6);q/=2;0<q&&(q+=1);var y=f.R(g+Yh,this.bf[a%this.bf[I]]),y=Aw(y),D=l;if(c==Cg||c==hn){D=f.da([g+Dg,Dg]),D=yt(y[tb],D)}var o=f.da([g+Ck,Ck],o),Y=zt(y[tb],o),L=c==hn?D:yt(y[tb]),X=this.Ur(d,f,g,y);return{id:this.D.getColumnId(i[0]),title:m,dataType:b[Fc],B:k,wc:j,w:d,Ad:e,hc:X,color:y,Hm:L,Ha:Y,Jq:D,type:c,Ah:f.be(g+ap,0),lineWidth:o,yr:q,Hq:12,Ze:f.ia([g+ki,ki],Du,U),ij:f.da([g+Ym,Ym],1),vm:u,c:[],mm:[],Ja:f.da(g+zn,0),qh:f.za(g+Qo,k),fj:f.Hc(g+fk,m),z:f.za(g+Mi,k)}};V.Ur=function(a,b,c,d){function e(a,b){return[c+Yj+a+me+b,c+Zj+b,Yj+a+me+b,Zj+b]}var f=a.interval;if(!f){return l}for(var a={Jd:[],qe:[],Xh:[],c:[],areas:[],d:[],jg:{}},g={},i=0;i<f[I];i++){var j=f[i],m=this.D.getColumnId(j)||this.D[Cb](j)||yi,o=b.Wh(e(m,vn),qu);switch(o){case Pg:a.Jd[v](j);break;case kn:a.qe[v](j);break;case nh:a.Xh[v](j);break;case Nl:a.c[v](j);break;case Cg:a[$c][v](j);break;case Ak:a.d[v](j);break;case U:break;default:h(r("Invalid interval style: "+o))}m in g?g[m][v](j):g[m]=[j]}if(1<a.Jd[I]&&0==a.qe[I]){a.qe=[a.Jd[0],a.Jd[a.Jd[I]-1]]}0!=a.qe[I]%2&&h(r("Stick-intervals must be defined by an even number of columns"));0!=a[$c][I]%2&&h(r("Area-intervals must be defined by an even number of columns"));for(m in g){for(var o=b.da(e(m,Ck)),i=b.da(e(m,Ti)),j=b.Hc(e(m,Yh)),j=hx(j,d),i=new wt({stroke:j,fill:j,rb:i,Qa:o}),j=b.da(e(m,Og)),f=b.da(e(m,Gm)),q=b.da(e(m,mh)),u=b.da(e(m,Ml)),o=b.Wh(e(m,vn),qu),y=b.za(e(m,Wj)[hb]([c+Wj,Wj])),D=b.ia(e(m,ki)[hb]([c+ki,ki]),Du,U),Y=b.da(e(m,Ym)[hb]([c+Ym,Ym]),1),o={style:o,b:i,Zq:j,ar:f,$q:q,Qq:u,Qe:y,Ze:D,ij:Y},f=g[m],i=0;i<f[I];++i){j=f[i],a.jg[j]=o}}return a};V.os=function(){var a=this.h;switch(a.N){case T:Ca(a,this.k.ia(nl,uu,S));a[Qb]||h(r("Unspecified orientation."));this.Z=[];this.Ma=[];this.La=[];var b,c,d,e;switch(a[Qb]){case Gj:d=Dw;e=this.Ma;b=ex;c=this.La;break;case Ko:d=ex,e=this.La,b=Dw,c=this.Ma}for(var f=0;f<a.Th[I];++f){var g=a.Th[f],i=new b(a,this.k,[xn+g,yn],g,Ho,Sl);i[F]!=Ho&&h(r("Target-axis must be of type value"));this.Z[g]=i;c[g]=i}this.Z[0]||h(r("Axis #0 must have some data column associated with it."));this.sa=new d(a,this.k,[Gi],0,this.Ps(),Nk);e[v](this.sa);break;case rm:case oh:this.Ma=[new Dw(a,this.k,[],0,Ho,Sl)],this.La=[new ex(a,this.k,[],0,Ho,Sl)]}this.Qs()};V.Ps=function(){return this.D[Fb](0)==pn||!this.h.lj?this.eu(this.du()):Ho};V.du=function(){var a=[Ak,Cg,hn,Pg,wh],b={};Mp(a,function(a,c){b[a]=c});var c=Pp(this.h.e,function(a,c){return s.max(a,b[c[F]])},0);return a[c]};V.eu=function(a){switch(a){case Cg:return 1<this.h.v[I]?Bh:xh;case Ak:case Pg:case hn:case wh:return xh}return l};V.Qs=function(){var a=this.h;switch(a.N){case rm:case oh:a.fe==pn&&h(r("X values column cannot be of type string"));var b=a.mf[0];b==pn&&h(r("Data column(s) cannot be of type string"));var c=this.Ma[0],d=this.La[0];c[F]!=Ho&&h(r("The x-axis must be of type value"));c.oi(a.fe,this.k);d[F]!=Ho&&h(r("The y-axis must be of type value"));d.oi(b,this.k);break;case T:b=this.sa;b[F]==Ho&&(a.fe==pn&&h(r("Domain column cannot be of type string, it should be the X values on a continuous domain axis")),b.oi(a.fe,this.k));for(b=0;b<this.Z[I];++b){a.mf[b]==pn&&h(r("Data column(s) for axis #"+b+" cannot be of type string")),this.Z[b].oi(a.mf[b],this.k)}}Mp(this.Ma,function(a){a.ko()});Mp(this.La,function(a){a.ko()})};V.xm=function(){return 1<this.La[I]};V.pr=function(){for(var a=this.h,b=this.D,c=this.sa,d=0;d<a.v[I];d++){for(var e=0;e<a.e[I];e++){var f=a.e[e],g=this.Z[f.Ja],f=b[H](d,f.w[A][0]),f=g.j.od(f);W(f)&&g.yf(f)}c[F]==Ho&&(e=b[H](d,0),e=c.j.od(e),c.yf(e))}};V.qr=function(){for(var a=this.h,b=this.D,c=this.Ma[0],d=this.La[0],e=0;e<b[dc]();e++){for(var f=0;f<a.e[I];f++){var g=a.e[f],i=g.w[A][0],g=b[H](e,a.Zc[g.Ad].w[wb][0]),i=b[H](e,i),g=c.j.od(g),i=d.j.od(i);W(g)&&c.yf(g);W(i)&&d.yf(i)}}};V.tn=function(){var a=this.h;this.or();a.Vc&&Mp(this.Z,function(a){a.Y(0)});if(a.N==T){this.pr();this.sa[F]==Ho&&(this.sa.uf(),this.sa.Zf(this.k));for(var b=0;b<this.Z[I];b++){this.Z[b].uf(),this.Z[b].Zf(this.k)}}else{a.N==oh?this.Oh.rr(this.Ma[0],this.La[0]):a.N==rm&&this.qr(),this.Ma[0].uf(),this.Ma[0].Zf(this.k),this.La[0].uf(),this.La[0].Zf(this.k)}a.gb.bars&&this.$m(Pg);a.gb.steppedArea&&this.$m(hn);a.gb.candlesticks&&this.kr();a.gb.line&&(this.mr(),this.an());a.gb.area&&this.ir();a.gb.scatter&&(this.nr(),this.an());a.gb.bubbles&&this.Oh.jr(this.Ma[0],this.La[0]);a.ta=Op(this.Ma,function(b){return b.xf(a,b)});a.Ka=Op(this.La,function(b){return b.xf(a,b)});this.lr();this.tr();a.N==T&&a[Qb]==Gj&&this.sr();b=a.f[fc];if((b==hm||b==gk)&&!this.xm()){if(a.f.pb=new hs(a.a.top,a[w]-a.f.t[M],a.a[P],a.a[R]+a.f.t[M]),a.f.pb[R]<a.f.pb[C]){a.f.pb=l}}this.ur()};V.or=function(){var a=this.h,b=this.ra,c=this.Ma[0][J].t,d=s.max(a[J].t[M],c[M]),e=a.f.t[M],f=a.f[fc],g=a.Pe==Pj?a[J][x]:S,i=S,j=S;if(a.Vf==Pj){var m=function(a){a=Op(a,function(a){return a[J][x]});return Np(a,function(a){return a!=S})[cd](ie)};switch(a.N){case rm:case oh:i=m(this.Ma);j=m(this.La);break;case T:i=m([this.sa]),j=m(this.Z)}}var i=i&&j?i+ld+j:i?i:j?j:S,j=s.max(2,s[z](d/1.618)),o=s.max(2,s[z](e/1.618)),q=a.a[w]-2*j,m=Iu(b,g,a[J].t,q,1),u=0<m.d[I]?m.d[0]:S,y=b(u,a[J].t)[w],D=s[z](s.max(2,1.618*d)),q=s.max(q-y-D,0),b=Iu(b,i,c,q,1),D=0<b.d[I]?b.d[0]:S,Y=[];Y[v]({key:kh,min:2,T:[p]});(u||D)&&Y[v]({key:Nn,min:d+2,T:[j-2]});f==Pj&&Y[v]({key:ik,min:e+2,T:[o-2]});f=Zu(Y,s[B](a.a[Q]/2));d=a.a.top;o=f[J]||[];if(0<o[I]){d+=o[0];if(u){a[J].d[v]({text:u,x:a.a[C]+j,y:d,length:y}),a[J].K=m.aa?g:S}if(D){a.cg={text:i,t:c,d:[],Za:Ni,Pa:Ni,K:b.aa?i:S},a.cg.d[v]({text:D,x:a.a[R]-j,y:d,length:q})}}c=f.legend||[];if(0<c[I]){d+=c[0],a.f.pb=new hs(d-e,a.a[R],d,a.a[C])}};V.$m=function(a){var b=this.h;this.sa[F]==Ho&&h(r("Bars series with value domain axis is not supported."));b.Vc?this.su(a):this.ru(a)};V.su=function(a){var b=this.h,c=this.D;this.sa.ke(b.v[I],1);for(var d=0;d<b.v[I];d++){for(var e=[],f=0;f<this.Z[I];f++){e[v]([0,0])}for(f=0;f<b.e[I];f++){var g=b.e[f],i=g.c,j=g.Ja,m=this.Z[j];if(g[F]==a){var o=c[H](d,g.w[A][0]),o=m.j.U(o);if(ip(o)){i[v](l)}else{var q=0<o?0:1,j=e[j];m.Y(j[q]+o);m={hb:{Bd:d,de:0,pg:j[q],Eh:j[q]+o,rg:this.Qh(g,d,j[q],k)}};if(g[F]==hn){var u=i[I];m.hb.Aj=0==u||!i[u-1]?l:i[u-1].hb.Eh}this.of(m,g,d);i[v](m);j[q]+=o}}}}};V.ru=function(a){var b=this.h,c=this.D,d=this.sa,e=Np(b.e,function(b){return b[F]==a});d.ke(b.v[I],1);Mp(b.v,function(a,b){Mp(e,function(a,e){var f=this.Z[a.Ja],o=a.w[A][0],q=c[H](b,o),u=f.j,q=u.U(q);if(ip(q)){a.c[v](l)}else{f.Y(q);d.ke(0,e+1);f={hb:{Bd:b,de:e,pg:l,Eh:q,rg:this.Qh(a,b,0,k)}};if(a[F]==hn){f.hb.Aj=0==b?l:u.U(c[H](b-1,o))}this.of(f,a,b);a.c[v](f)}},this)},this);Mp(this.Z,function(a){a.Wm()})};V.kr=function(){var a=this.h,b=this.D,c=this.sa,d=Np(a.e,function(a){return a[F]==wh});c.ke(a.v[I],1);Mp(a.v,function(a,f){Mp(d,function(a,d){var e=a.w[A],m=this.Z[a.Ja];c.ke(0,d+1);var o=b[H](f,e[0]),q=b[H](f,e[1]),u=b[H](f,e[2]),e=b[H](f,e[3]),o=m.j.U(o),q=m.j.U(q),u=m.j.U(u),e=m.j.U(e);if(ip(o)||ip(e)||ip(q)||ip(u)){a.c[v](l)}else{var y=u<q;m.Y(o);m.Y(e);m={dm:this.xr(a[tb][tb],y),Ha:yt(a[tb][tb]),hb:{Bd:f,de:d,er:o,lineTo:e,fr:y?u:q,gr:y?q:u,dr:y}};this.of(m,a,f);a.c[v](m)}},this)},this);Mp(this.Z,function(a){a.Wm()})};V.mr=function(){var a=this.h,b=this.D,c=this.sa;c[F]!=Ho&&c.ke(a.v[I],1);for(var d=0;d<a.v[I];d++){for(var e=0;e<a.e[I];e++){var f=a.e[e],g=this.Z[f.Ja];if(f[F]==Ak){var i=b[H](d,f.w[A][0]),i=g.j.U(i);if(W(i)){var j,m;c[F]==Ho?(j=b[H](d,0),j=c.j.U(j),c.Y(j),m=c.wd(j)):(j=d,m=k);m&&g.Y(i);g=this.Qh(f,d,0,m);g={hb:{Bd:d,de:0,Wb:j,nf:i,rg:g},Bm:m};this.of(g,f,d);f.c[v](g)}else{f.c[v](l)}}}}this.Uj()};V.ir=function(){var a=this.h,b=this.D,c=this.sa;c[F]!=Ho&&c.ke(a.v[I],1);for(var d=0;d<a.v[I];d++){for(var e=gq(0,this.Z[I]),f=Yp(e),g=Yp(e),i=0;i<a.e[I];i++){var j=a.e[i];if(j[F]==Cg){var m=j.Ja,o=this.Z[m],q=l,u=l,y=j.w[A][0],D=b[H](d,y),D=o.j.U(D);if(W(D)){var Y,L,X;a.Vc?(Y=D+g[m],q=f[m],u=e[m],L=f[m]+D,X=e[m]+D,d==b[dc]()-1||!ip(b[H](d+1,y))?f[m]+=D:L=f[m],0==d||!ip(b[H](d-1,y))?e[m]+=D:X=e[m]):(Y=D,L=d==b[dc]()-1||!ip(b[H](d+1,y))?Y:l,X=0==d||!ip(b[H](d-1,y))?Y:l);var G;c[F]==Ho?(y=b[H](d,0),G=c.j.U(y),c.Y(G),y=c.wd(G)):(G=d,y=k);y&&o.Y(Y);o=this.Qh(j,d,g[m],y);a.Vc&&(g[m]=Y);m={Wb:G,nf:Y,Bd:d,de:0,Fm:G,Rj:X,Em:G,Qj:L,Dm:G,Pj:q,Cm:G,Oj:u,rg:o}}else{a.Vc&&(q=f[m],u=e[m]),m={Dm:d,Pj:q,Cm:d,Oj:u,Fm:d,Rj:u,Em:d,Qj:q},y=n}m={hb:m,Bm:y};this.of(m,j,d);if(!W(D)){m.ud=k}j.c[v](m)}}}this.Uj()};V.nr=function(){for(var a=this.h,b=this.D,c=this.Ma[0],d=this.La[0],e=0;e<b[dc]();e++){for(var f=0;f<a.e[I];f++){var g=a.e[f],i=g.Ad;if(g[F]==rm){var j=g.w[A][0],i=b[H](e,a.Zc[i].w[wb][0]),m=b[H](e,j),j=this.Ma[0].j.U(i),i=this.La[0].j.U(m);if(!ip(j)&&!ip(i)){if(m=c.wd(j)&&d.wd(i)){c.Y(j),d.Y(i)}j={hb:{x:j,y:i},Yq:m};this.of(j,g,e);g.c[v](j)}else{g.c[v](l)}}}}this.Uj()};V.Uj=function(){function a(a){return{Hg:W(a.Hg)?a.Hg:1,ve:W(a.ve)?a.ve:1,scope:W(a[uc])?a[uc]:k}}function b(a){return a&&!a.ud}for(var c=0;c<this.h.e[I];c++){var d=this.h.e[c],e=d.w.emphasis||[],f=d.w[uc]||[];if(!(0==(d.w.certainty||[])[I]&&0==e[I]&&0==f[I])){e=Up(d.c,b);e=a(e||{});for(f=0;f<d.c[I];f++){var g=d.c[f];if(b(g)){var i=a(g),j=d.Ha;if(1>i.Hg||1>e.Hg){j=this.rk(j,n),g.Eg=j}if(1!=i.ve&&1!=e.ve){var m=s.min(e.ve,i.ve),j=this.zs(j,m);g.Eg=j}if(!i[uc]&&!e[uc]){j=j.$h(),g.Eg=j}e=i}}}}};V.of=function(a,b,c){a.Xf=this.ik(b,c);var d=this.Ct(b,c),e=this.Dt(b,c),c=this.Et(b,c),f=b.Hm,g=tv(a,b);if(!c){a.scope=c,f=f.$h(),a.b=f}if(1!=e&&(a.ve=e,b[F]==Ak||b[F]==Cg||b[F]==rm)){g=s[z](10*g*s[Ib](e))/10,a.Xb=g}if(1>d){switch(a.Hg=d,b[F]){case Ak:case Cg:case rm:a.b=this.rk(f,k);a.Xb=s.max(g-a.b.wo()/2,0);break;case Pg:case hn:a.b=this.rk(f,n)}}};V.ik=function(a,b){if(a.w.tooltip){return{content:Op(a.w.tooltip,function(a){return this.D[Xc](b,a)},this)[cd](gd)}}switch(this.h.N){case rm:return this.vt(a,b);case T:return this.ut(a,b)}};V.vt=function(a,b){var c=this.D,d=a.w[A][0];return{lf:a[J],content:c[Xc](b,this.h.Zc[a.Ad].w[wb][0])+ld+c[Xc](b,d)}};V.ut=function(a,b){var c=this.D,d=this.h.v[b],e=a.w[A];if(a[F]==wh){e=c[Xc](b,e[0])+kd+c[Xc](b,e[3])+ie+c[Xc](b,e[1])+kd+c[Xc](b,e[2])}else{var e=this.D[Xc](b,e[0]),f=a.w.interval||[];f[I]&&(f=Op(f,function(a){return c[Xc](b,a)}),e+=md+f[cd](ie)+hg)}return{Hk:d.dj[a.Ad],lf:a[J],content:e}};V.an=function(){function a(a){return{Wb:a.x,nf:a.y}}function b(a){return new wr(a.Wb,a.nf)}function c(a){return{x:a.x,y:a.y}}function d(a){return new wr(a.x,a.y)}var e=this.h,f=this.sa,g=Z(function(a,b,c){b.Yq&&(this.Ma[0].Y(c.x),this.La[0].Y(c.y))},this),i=Z(function(a,b,c){f.Y(c.Wb);b.Bm&&this.Z[a.Ja].Y(c.nf)},this),j,m,o;switch(e.N){case rm:j=d;m=c;o=g;break;case T:j=b,m=a,o=i}for(g=0;g<e.e[I];g++){if(i=e.e[g],i[F]==rm||i[F]==Ak){if(0<=Lp([T,Cl,Wh],i.Ze)){var q=i[F]==rm&&i.Ze==Wh,u=i.Ze==T;i.ek=k;i.wr=q;q=Qu(Op(i.c,function(a){return W(a)?j(a.hb):l}),i.ij,u,q,e.Qe);for(u=0;u<i.c[I];++u){var y=i.c[u];if(q[u]){var D=m(q[u][0]),Y=m(q[u][1]);y.Qm=D;y.Rm=Y;o(i,y,D);o(i,y,Y)}}}else{i.ek=n}}}};V.lr=function(){if(this.h.jc==xh){for(var a=this.h.v,b=this.sa,c=b.sb,d=b.ob,e,f,g=0;g<a[I];g++){if(f=this.oo(g),W(f)){if(b.po(f)){return}if(!b.kt(f)){e=g;break}}}if(hp(e)){for(var i,g=e;g<a[I];g++){e=c;if(g==a[I]-1){this.Tk(g,e,d);break}i=this.oo(g+1);if(W(i)){if(b.po(i)){this.Tk(g,e,d);break}c=ur(f,i);this.Tk(g,e,c);f=i}}}}};V.oo=function(a){var b=this.h.v,c=this.sa;return c[F]==Ho?!W(b[a][A])?l:c.Tm(b[a][A]):c.Aa(a)};V.Tk=function(a,b,c){var d=this.h.a.top,e=this.h.a[P],f=this.h.a[C],g=this.h.a[R],i=this.sa[Wa];this.h.v[a].Ls=this.h[Qb]==Gj?1==i?new hs(d,c,e,b):new hs(d,b,e,c):1==i?new hs(b,g,c,f):new hs(c,g,b,f)};V.ur=function(){this.ex();this.fx()};V.ex=function(){for(var a=this.h,b=0;b<a.Ka[I];++b){this.al(this.La[b],a.Ka[b],this.Bt)}for(b=0;b<a.ta[I];++b){this.al(this.Ma[b],a.ta[b],this.At)}};V.fx=function(){for(var a=this.h,b=0;b<a.ta[I];++b){this.al(this.Ma[b],a.ta[b],this.cu)}};V.al=function(a,b,c){b[x]&&pa(b,Np(b[x],Z(c,this,a)))};V.At=function(a,b){var c=this.h,d=b.o;if(d.kf){return k}d=nu(d);return !d?k:a.ic==Pj&&!(new hs(c.a.top,c.a[R],c.a[P],c.a[C]))[Tc](d)?n:k};V.cu=function(a,b){var c=this.h;if(a.ic!=Pj){return k}var d=b.o;if(d.kf){return k}var e=nu(d);if(!e){return k}for(var d=d.t[M]/2,f=new hs(e.top,e[R]+d,e[P],e[C]-d),g=0;g<c.Ka[I];++g){if(this.La[g].ic==Pj&&!(1>(c.Ka[0][x]?c.Ka[0][x][I]:0))){var i=nu(c.Ka[g][x][0].o),j=nu(Jp(c.Ka[g][x]).o);if(i||j){if(i&&is(f,i)||j&&is(f,j)){return n}var m;i?j?(m=s.min(i[C],j[C]),i=s.max(i[R],j[R])):(m=i[C],i=i[R]):(m=j[C],i=j[R]);if(s.abs(e[C]-m<d)||s.abs(e[R]-i<d)){return n}}}}return k};V.Bt=function(a,b){var c=this.h,d=new hs(c.a.top,c.a[R],c.a[P],c.a[C]),e=b.o,f=e.t[M]/2,e=nu(e);if(!e){return k}if(a.ic==Pj&&!d[Tc](e)){return n}d=new hs(e.top,e[R]+f,e[P],e[C]-f);if((f=nu(c[J]))&&is(d,f)){return n}return(f=c.cg?nu(c.cg):l)&&is(d,f)?n:(c=c.f.pb)&&is(d,c)?n:k};V.sr=function(){var a=this.D,b=this.h,c=this.sa;Mp(this.h.v,function(d,e){var f=[],g=[];Mp(b.Zc,function(a){a=this.Jm(e,a.w);Zp(f,a.Mj);Zp(g,a.tb)},this);if(f[I]||g[I]){var i;c[F]==Ho?(i=a[H](e,0),i=c.j.U(i)):i=e;i=c.Aa(i);var j=b.a.top+b.a[Q],m=this.h.Dq;if(f[I]){var o=this.$j(f);d.Ue=this.Km(i,j,o,m,5)}if(g[I]){o=this.$j(g),d.Ue=this.Uq(i,j,o,m)}}},this);Mp(this.h.e,function(a){if(a[F]==Cg||a[F]==Ak){for(var b=0;b<a.c[I];++b){if(W(a.c[b])){var c=this.Jm(b,a.w).Mj;if(c[I]){var g=a.c[b].i,i=sq(this.h.Cq);va(i,hx(i[tb],a[tb]));c=this.$j(c);a.c[b].Ue=this.Km(g.x,g.y,c,i,12)}}}}},this)};V.Jm=function(a,b){var c=this.D,d=b.annotation,e={tb:[],Mj:[]};if(!W(d)){return e}for(var f=b.annotationText||[],g=0;g<d[I];++g){var i=d[g],j=i+1,m=0<=Lp(f,j);c[H](a,i)&&(j=m?c[Xc](a,j):S,j={te:c[Xc](a,i),Ag:j||l},m=[],m[v](sg+i+te),m[v](yg),this.k.hi(m)==Ak?e.tb[v](j):e.Mj[v](j))}return e};V.$j=function(a){for(var b=[],c=[],d=0;d<a[I];++d){b[v](a[d].te),a[d].Ag&&c[v](a[d].Ag)}return{te:b[cd](ie),Ag:c[cd](he)}};V.Km=function(a,b,c,d,e){var f=this.ra(c.te,d);return{Ym:{x:a,y:b,orientation:Ko,length:-e},label:{text:c.te,t:d,d:[{x:a,y:b-e,length:f[w],text:c.te}],Za:Eh,Pa:Ni,K:c.Ag}}};V.Uq=function(a,b,c,d){var e=Iu(this.h.tc,c.te,d,this.h.a[Q]-d[M]);return{Ym:{x:a,y:b,orientation:Ko,length:-this.h.a[Q]},label:{text:c,t:d,d:[{x:a+2,y:b-this.h.a[Q]/2,length:e.Yb,text:e.d[0]}],Za:Eh,Pa:fn,K:c.Ag||(e.aa?c.te:S),kf:270}}};V.tr=function(){Mp(this.h.e,function(a){var b=this.es(a);a.c&&Mp(a.c,function(a){if(W(a)){a.i=b(a.hb);if(W(a.Qm)){a.ld=b(a.Qm)}if(W(a.Rm)){a.md=b(a.Rm)}}});a.hc&&(0<a.hc.d[I]||0<a.hc[$c][I])&&this.fs(a)},this)};V.fs=function(a){function b(b){var c=e[b];delete e[b];if(c&&1<c.tb[I]){c[P]&&c[P].reverse();if(f[b].Ze!=U){var d=f[b].Ze==T,b=f[b].ij;c.mm=Qu(c.tb,b,d,n,n);if(c[P]){c.Qr=Qu(c[P],b,d,n,n)}}a.hc.fk[v](c)}}function c(a,b){if(!e[a]){var c=f[a].b[Dc](),d=f[a][zc],g={};g.ig=a;g.tb=[];d==Cg?(c.ee(0),Ra(g,[])):c.dk(0);g.b=c;e[a]=g}e[a].tb[v](new wr(b[C],b.top));e[a][P]&&e[a][P][v](new wr(b[C]+b[w],b.top+b[Q]))}function d(a){a=f[a][zc];return a==Cg||a==Ak}var e={},f=a.hc.jg;a.hc.fk=[];for(var g=0;g<a.c[I];g++){var i={},j=a.c[g];if(j&&j.i&&j.i.Wc){for(var j=j.i.Wc,m=0;m<j[I];++m){var o=j[m].ig;d(o)&&(i[o]=k,c(o,j[m][vc]))}}for(o in e){!i[o]&&!f[o].Qe&&b(o)}}for(o in e){b(o)}};V.es=function(a){switch(a[F]){case rm:return Z(this.Fw,this,a);case sh:return Z(this.Cw,this,a);case Ak:return Z(this.Ew,this,a);case Pg:return Z(this.Bw,this,a);case hn:return Z(this.Gw,this,a);case wh:return Z(this.Dw,this,a);case Cg:return Z(this.Aw,this,a)}return l};V.Fw=function(a,b){return{x:this.Ma[0].Aa(b.x),y:this.La[0].Aa(b.y)}};V.Cw=function(a,b){return this.Oh.Tv(this.Ma[0],this.La[0],b)};V.Ew=function(a,b){var c=this.Bf(a.Ja,b.Wb,b.nf);c.Wc=this.ci(a,b);return c};V.Bw=function(a,b){var c=this.Dl(a,b,b.pg,b.Eh);return !c?l:{top:c.top,left:c[C],width:c[w],height:c[Q],Wc:this.ci(a,b)}};V.Dw=function(a,b){var c=this.Dl(a,b,b.fr,b.gr),d=this.Dl(a,b,b.er,b.lineTo);oa(d,2);xa(d,d[C]+(c[w]-(c[w]%2?3:2))/2);b.dr&&(Ua(c,c[Q]-2),oa(c,c[w]-2),xa(c,c[C]+1),c.top+=1);Ua(c,s.max(c[Q],2));oa(c,s.max(c[w],1));return{rect:c,tb:d}};V.Gw=function(a,b){var c=this.Z[a.Ja];if(!W(b.pg)){b.pg=c.j.U(c.V.fa)}var d=this.sa,e=d.r[b.Bd].u,f=d.Yf,g=s[B](e-d[Wa]*f/2),f=s[B](e+d[Wa]*f/2),i=c.Aa(b.Eh),d=this.nd(g,c.Aa(b.pg)),e=this.nd(g,i),f=this.nd(f,i),i=[];this.k.za(hi,k)&&W(b.Aj)&&(c=this.nd(g,c.Aa(b.Aj)),i[v](c));i[v](e);i[v](f);return{Wf:new js(s.min(d.x,f.x),s.min(d.y,f.y),s.abs(f.x-d.x),s.abs(f.y-d.y)),outline:i,Wc:this.ci(a,b)}};V.Os=function(a,b,c){return s.min(a.Aa(b),a.Aa(c))};V.Ns=function(a,b,c){return s.max(a.Aa(b),a.Aa(c))};V.Dl=function(a,b,c,d){var e=this.sa,f=this.Z[a.Ja];W(c)||(c=f.j.U(f.V.fa));if(b.de>e.$e||b.Bd>=e.r[I]){return l}a=this.Os(f,c,d);c=this.Ns(f,c,d);d=s.min(1,0.2*(c-a));s[B](a+d)<s[B](c)&&s[B](a+d)>s[B](a)?(a=s[B](a+d),c=s[B](c)):a+=d;b=this.Rn(b);d=e.Xe/2;e=s[B](b+d);a=this.nd(s[B](b-d),a);e=this.nd(e,c);return new js(s.min(a.x,e.x),s.min(a.y,e.y),s.abs(e.x-a.x),s.abs(e.y-a.y))};V.Aw=function(a,b){var c=this.Z[a.Ja],d=c.j.U(c.V.fa),c=this.Bf(a.Ja,b.Wb,b.nf),e=this.Bf(a.Ja,b.Cm,W(b.Oj)?b.Oj:d),f=this.Bf(a.Ja,b.Dm,W(b.Pj)?b.Pj:d),g=this.Bf(a.Ja,b.Em,W(b.Qj)?b.Qj:d),d=this.Bf(a.Ja,b.Fm,W(b.Rj)?b.Rj:d),i=this.ci(a,b);return{x:c.x,y:c.y,Fj:e.x,Gj:e.y,Hj:f.x,Ij:f.y,Hh:g.x,Ih:g.y,Jh:d.x,Kh:d.y,Wc:i}};V.ci=function(a,b){if(!b.rg){return[]}var c=this.sa,d=this.Z[a.Ja];if(c[F]!=Ho&&(b.de>c.$e||b.Bd>=c.r[I])){return[]}for(var e=this.Rn(b),f=[],g=0,i;i=b.rg[g];g++){var j=d.Aa(i.Ar),m=d.Aa(i.Br),o=(c[F]==Ho?c.r&&1<c.r[I]?c.r[1].u-c.r[0].u:0:c.Xe)*i.Cr,q=s.abs(j-m),m=this.nd(e-o/2,s.min(m,j)),j=m.x,m=m.y,o=this.nd(o,q);f[v]({rect:new js(j,m,o.x,o.y),ig:i.ig})}return f};V.Rn=function(a){var b=this.sa;return b[F]==Ho?b.Aa(a.Wb):b.r[a.Bd].u-b.hm+(b.Xe+1)*a.de+b.Xe/2};function hx(a,b){switch(a){case Am:return b.wf;case Bm:return b.si;case zm:return b[tb];default:return a}}V.nd=function(a,b){switch(this.h[Qb]){case Gj:return{x:a,y:b};case Ko:return{x:b,y:a}}h(r("Invalid orientation."))};V.Bf=function(a,b,c){return this.nd(this.sa.Aa(b),this.Z[a].Aa(c))};V.xr=function(a,b){return b?zt(a,2,k):yt(a)};V.rk=function(a,b){var c=a[Dc]();c.Qg()&&c.O!=Ud?(c.Kk(new vt(Tl,c.O)),!c.pd()&&b&&(c.gc(c.O),c.ee(1))):c.pd()&&c.co(oi);return c};V.zs=function(a,b){var c=a[Dc]();c.ee(c.H*b);return c};V.Ct=function(a,b){var c=this.D,d=a.w.certainty||[];if(d[I]){var e=c[H](b,d[0]);if(W(e)){return c[Fb](d[0])==Yg?e?1:0:e}}return 1};V.Et=function(a,b){var c=this.D,d=a.w[uc]||[];return d[I]&&(c=c[H](b,d[0]),W(c))?!!c:k};V.Dt=function(a,b){var c=this.D,d=a.w.emphasis||[];if(d[I]){var e=c[H](b,d[0]);if(W(e)){return c[Fb](d[0])==Yg?e?2:1:e}}return 1};V.Qh=function(a,b,c,d){function e(a,e,f){var m=g.j.U(i[H](b,a)),e=g.j.U(i[H](b,e));W(m)&&W(e)&&(m+=c,e+=c,d&&(g.Y(m),g.Y(e)),j[v]({Br:m,Ar:e,Cr:f,ig:a}))}var f=a.hc;if(!f){return l}for(var g=this.Z[a.Ja],i=this.D,j=[],a=0;a<f.qe[I];a+=2){e(f.qe[a],f.qe[a+1],0)}for(var m=0,o=f.Xh[I]-1;m<=o;m++,o--){var a=f.Xh[m],q=f.Xh[o];e(a,q,f.jg[a].$q)}for(q=0;q<f.c[I];q++){a=f.c[q],e(a,a,0)}for(q=0;q<f.Jd[I];q++){a=f.Jd[q],m=f.jg[a],e(a,a,0==q||q==f.Jd[I]-1?m.Zq:m.ar)}m=0;for(o=f[$c][I]-1;m<=o;m++,o--){a=f[$c][m],q=f[$c][o],e(a,q,0)}for(q=0;q<f.d[I];q++){a=f.d[q],e(a,a,0)}return j[I]?j:l};function ix(a,b,c){this.Fl=a;this.Fg=b;this.wg=a-b/2;this.Vq=c;La(this,0)}ix[K].Op=function(a){this.wg=a};ix[K].Zw=function(){return this.wg+this.Fg};ix[K].Sf=function(){return this.Fg};function jx(a,b){this.Nl=a;this.Le=b;for(var c=0,d=b[I];c<d;c++){La(b[c],c)}}V=jx[K];V.Wq=function(){for(var a=0,b=0,c=this.Le[I];b<c;b++){a+=this.Le[b].Sf()}a>this.Nl&&h(r("Not enough space for labels. Need: "+a+" got: "+this.Nl));this.Le.sort(function(a,b){var c=a.Fl,d=b.Fl;return c==d?a[ic]>b[ic]:c>d?1:-1});b=0;for(c=this.Le[I];b<c;b++){var a=this.Le[b],d=this.Np(a.wg,a.Sf());a.Op(d)}b=[];a=0;for(c=this.Le[I];a<c;a++){b[v]([this.Le[a]])}for(;this.Yv(b);){}};V.Yv=function(a){for(var b=0;b<a[I]-1;b++){var c=a[b],d=a[b+1];if(this.dx(c,d)){return this.cx(c,d),a[bd](b+1,1),k}}return n};V.dx=function(a,b){return a[a[I]-1].Zw()>b[0].wg};V.cx=function(a,b){for(var c=0;c<b[I];c++){a[v](b[c])}for(var d=0,e=0,c=0;c<a[I];c++){d+=a[c].Fl,e+=a[c].Sf()}d=d/a[I]-e/2;d=this.Np(d,e);for(c=0;c<a[I];c++){e=a[c],e.Op(d),d+=e.Sf()}};V.Np=function(a,b){return pr(a,0,this.Nl-b)};function kx(a,b){var c=a.f;this.m=c[fc];var d=Gj;if(this.m==hk||this.m==hm||this.m==gk){d=Ko}this.ub=d;this.ad=n;this.W=c.t;this.Am=b.vc(mk,this.W);this.ra=a.tc;this.h=a;this.ab=this.W[M];this.Dd=s[z](this.W[M]/(1.618*1.618));this.oa=l;this.yg=[];this.Ej=b.za(rk,k);this.Oq=b.ia(qk,uu,this.ub);this.Mq=b.zh(ok);this.Nq=b.zh(pk);this.ha=l;this.Yh=this.Dd;this.he=this.ie=this.Dj=0;this.sn=this.m==io?b.da(lk,1):1;this.mg=0;this.Zr()}V=kx[K];V.as=function(){var a=this.h.f;this.oa=a.pb;this.ub==Ko?this.Is(k):this.m==io?this.Ik(n):this.m==jh?this.Ik(k):this.m==Pj&&this.Ik(n);a.ha=this.ha;a.kc=a.ha&&0<a.ha[I]?a.ha[0]:l;a.qg=this.ad?this.Hs(0,n,1<a.ha[I]):l};V.Zr=function(){this.yg=this.h.$c};V.Is=function(a){var b=s.max(this.oa[R]-this.oa[C]-(this.ab+this.Dd),0),c=this.oa[P]-this.oa.top,d=s.max(c-2*this.ab,0),e=this.yg,f=this.h;uv(f)&&e.reverse();var g=Op(e,function(a){a=Iu(this.ra,a[x],this.W,b,p);if(0==a.d[I]){a.d=[S]}return a},this);if(this.m==gk&&f.fm==Ak){e=this.us(g,c,e),this.ha=[e]}else{if(c=this.zk(g,c),this.ad=a&&this.vs(e,c)){if(c=this.zk(g,d),!hp(c[0])||0==c[0][I]){this.ad=n}else{this.ha=[];for(a=e;0<a[I];){e=this.Pn(c,a);this.ha[v](e);for(e=0;hp(c[e])&&0!=c[e][I];){++e}g=$p(g,e);c=this.zk(g,d);a=$p(a,e)}if(this.ad){this.Dj=s[z](this.oa[P]-this.ab),this.ie=this.oa[C],this.he=this.ie+this.ab+this.Yh,this.Ej&&(this.he+=this.wk(this.ha[I])+this.Yh)}}}else{e=this.Pn(c,e),this.ha=[e]}}};V.zk=function(a,b){var c=this.W[M],d=s[z](c/1.618),e=s[z](c/3.236),c=this.hw(a,c+d,c+e);return Zu(c,b)};V.Xq=function(a){var b=this.h.e[a].c,a=this.h.ta[0],a=a.L.jf(a.ob)[Vb](),b=Np(b,function(a){return W(a)}),c=b[b[I]-1];if(a>c.hb.Wb||1==b[I]){return c.i.y}c=b[0];if(a<c.hb.Wb){return c.i.y}var d=b[I]-1;do{d--}while(b[d].hb.Wb>a);c=b[d];b=b[d+1];return c.i.y+(a-c.hb.Wb)/(b.hb.Wb-c.hb.Wb)*(b.i.y-c.i.y)};V.us=function(a,b,c){for(var d=this.oa[R]-this.oa[C],e=s[z](this.oa[C]),f=[],g=[],i=this.h.ae==Ei,j=0;j<c[I];j++){var m=c[j],o=Iu(this.ra,m[x],this.W,d,a[j].d[I]),q={};q.id=m.id;q.b=m.b[Dc]();var u=sq(this.W);va(u,q.b.O);q.o={text:m[x],t:u,d:[],Za:fn,Pa:fn,K:o.aa?m[x]:S};u.$a&&q.b.gc(u.$a,1);q.B=k;q.z=m.z;for(var y=0;y<o.d[I];y++){q.o.d[v]({length:d,text:o.d[y]})}if(i){y=this.ra(q.o.d[0][x],u)[w],q.ba={},q.ba.S={x:e+y+5},q.ba.b=q.b,q.ba.B=n}La(q,m[ic]);y=this.Xq(q[ic]);u=this.ra(q.o.d[0],u)[Q];u*=q.o.d[I];m=new ix(y,u,q);f[v](m);g[v](q)}(new jx(b,f)).Wq();for(y=0;y<f[I];y++){m=f[y];a=m.wg;q=m.Vq;b=q.o.d;for(j=0;j<b[I];j++){if(b[j].y=s[z](j*u+a),b[j].x=e,i){q.ba.S.y=b[j].y}}}return g};V.Pn=function(a,b){for(var c=this.ab+this.Dd,d=this.oa[R]-this.oa[C]-c,e=this.W[M],f=s[z](e/1.618),g=s[z](e/3.236),f=e+f,e=e+g,g=[],i=s[z](this.oa.top),j=s[z](this.oa[C]),m=0;m<b[I];m++){var o=b[m],q=a[m][I];if(0!=q){var q=Iu(this.ra,o[x],this.W,d,q),u={};u.id=o.id;u.o={text:o[x],t:this.W,d:[],Za:fn,Pa:fn,K:q.aa?o[x]:S};u.P={};u.P.S=new js(j,i,this.ab,this.ab);u.P.b=o.b[Dc]();this.W.$a&&u.P.b.gc(this.W.$a,1);var y=j+c;u.B=k;u.z=o.z;for(var D=0;D<q.d[I];D++){0<D&&(i+=e),u.o.d[v]({x:y,y:i,length:d,text:q.d[D]})}La(u,o[ic]);i+=f;g[v](u)}}return g};V.hw=function(a,b,c){for(var d=Pp(a,function(a,b){return s.max(a,b.d[I])},0),e=[],f=0;f<d;f++){var g=0==f?b:c;Mp(a,function(a,b){f<a.d[I]&&e[v]({key:b,min:0==f&&0==b?this.W[M]:g,T:[]})},this)}return e};V.vs=function(a,b){var c=a[I]-1;return 1<a[I]&&1>b[c][I]};V.Vr=function(a){for(var b=this.yg,c=this.Zg(b,a),d=1;(0==this.sn||this.sn>d)&&c[I]<b[I];){++d,b=$p(b,c[I]),c=this.Zg(b,a)}return d};V.Ik=function(a){for(var b=[1,9,99,0],c=0;c<b[I]&&!this.tu(b[c],a);++c){}if(this.ad){this.Dj=s[z]((this.oa.top+this.oa[P]-this.ab)/2),this.he=this.oa[R]-this.ab,this.ie=this.he-this.Yh-this.ab,this.Ej&&(this.ie-=this.wk(this.ha[I])+this.Yh)}};V.tu=function(a,b){var c=this.oa[R]-this.oa[C],d=b;1!=a&&(c-=2*(this.ab+this.Dd),d=n,0!=a&&(c-=this.wk(a)+this.Dd));var e=this.Zg(this.yg,c);if(0==e[I]){return this.ad=n,k}this.ha=[];for(var f=this.yg;0<f[I];){if(0<a&&this.ha[I]==a){return n}for(var g=[this.Ko(e,f,d)],i=1;i<this.mg&&!(f[I]==e[I]);i++){f=$p(f,e[I]),e=this.Zg(f,c),g[v](this.Ko(e,f,d))}this.ha[v](this.qu(g));f=$p(f,e[I]);e=this.Zg(f,c)}this.ad=1<this.ha[I];return k};V.qu=function(a){var b=this.oa.top,c=this.oa[P]-b,d=this.W[M],e=c-this.mg*d,f=1<this.mg?e/(this.mg-1):0,g=b+(c-((d+f)*a[I]-f))/2,i=[];Mp(a,function(a){var b=s[z](g);Mp(a,function(a){a.o.d[0].y=b;a.P.S.top=b});g+=d+f;Zp(i,a)});return i};V.Zg=function(a,b){var c=this.ab+this.Dd,d=s.min(this.h[w]*(2-1.618)/2,b);if(d<c){return[]}c=this.wu(d,a);return Yu(c,b)};V.Ko=function(a,b,c){for(var d=this.oa[R]-this.oa[C],e=this.ab+this.Dd,f=s[z](1.618*this.W[M]),g=[],i=0,j=s[z](this.oa.top),m=0;m<a[I];m++){var o=b[m],q=Iu(this.ra,o[x],this.W,a[m]-e-(0<m?f:0),1),u=0<q.d[I]?q.d[0]:S,y=this.ra(u,this.W)[w],D={};D.id=o.id;D.o={text:o[x],t:this.W,d:[{x:i+e,y:j,length:y,text:u}],Za:fn,Pa:fn,K:q.aa?o[x]:S};D.B=k;D.z=o.z;D.P={};D.P.b=o.b[Dc]();this.W.$a&&D.P.b.gc(this.W.$a,1);D.P.S=new js(i,j,this.ab,this.ab);La(D,o[ic]);g[v](D);i+=y+e+f}a=this.oa[C];!this.ad&&c&&(a+=s[B]((d-(i-f))/2));for(m=0;m<g[I];m++){D=g[m];xa(D.P.S,D.P.S[C]+a);for(c=0;c<D.o.d[I];c++){D.o.d[c].x+=a}}return g};V.wu=function(a,b){var c=this.ab+this.Dd,d=s[z](1.618*this.W[M]);return Op(b,function(b,f){var g=this.ra(b[x],this.W)[w]+c,i=s.min(a,g),g=g-i;0<f&&(i+=d);return{min:i,T:[g]}},this)};V.wk=function(a){for(var b=Ae;10<=a;){b+=Ae,a/=10}return this.ra(b+xe+b,this.Am)[w]};V.Hs=function(a,b,c){var d=this.Dj,e=l;if(this.Ej){var e=a+1+xe+this.ha[I],a=this.ie+this.ab,f=this.he-a,e={text:e,t:this.Am,d:[{x:a+f/2,y:d,text:e,length:f}],Za:Eh,Pa:fn,K:S}}var g=this.Oq==Ko,i=this.ab,j=s[z](i/2),m=this.ie,o=this.he,f=a=l;g?(a=[{x:m+i,y:d+i},{x:m+j,y:d},{x:m,y:d+i}],f=[{x:o,y:d},{x:o+i,y:d},{x:o+j,y:d+i}]):(a=[{x:m+i,y:d+i},{x:m+i,y:d},{x:m,y:d+j}],f=[{x:o,y:d},{x:o+i,y:d+j},{x:o,y:d+i}]);d={fd:this.Mq,ei:this.Nq};return{ok:{path:a,fd:b,cd:d,b:b?d.fd:d.ei},mk:{path:f,fd:c,cd:d,b:c?d.fd:d.ei},nk:e}};function lx(a,b,c,d,e){var f=a[R]-a[C],g=sq(d);va(g,Te);var i=sq(d);va(i,Xe);var d=d[M]/3.236,j=g[M]+d,m=i[M]+d,o=mx(a,f,b,g,i,d,e),q=[],u;2==c?(c=a[R],a=a[C],u=Ni):(c=a[C],a=a[R],u=fn);for(var y=0;y<e[I];++y){var D=e[y],Y=o[y];if(W(Y)){var L=Iu(b,D.ef,g,f,Y.Nd),X=Iu(b,D.ff,i,f,Y.we),G=iv(new wr(c,Y.y));q[v]({bn:2,Kb:iv(D.ym(pr(Y.y,D.Lh[O],D.Lh.end))),cn:a,Lc:G,vr:new wt({fill:Se,rb:0.7}),Ha:new wt({stroke:Se,Qa:1,vd:0.7}),yx:d,ef:{text:D.ef,t:g,anchor:{x:G.x,y:G.y},d:Op(L.d,function(a,b){return{x:0,y:(b-L.d[I])*j,length:L.Yb,text:a}}),Za:u,Pa:fn,K:L.aa?D.ef:S},vx:g,ff:{text:D.ff,t:i,anchor:{x:G.x,y:G.y},d:Op(X.d,function(a,b){return{x:0,y:(b+1)*m,length:X.Yb,text:a}}),Za:u,Pa:Ni,K:X.aa?D.ff:S},xx:i,wx:u,z:D.z,index:D[ic]})}}return q}function mx(a,b,c,d,e,f,g){var i=d[M]+f,j=e[M]+f,m=Op(g,function(a,g){var i=Iu(c,a.ef,d,b,p),j=Iu(c,a.ff,e,b,p);return{Ef:g,Vd:a.hr,Nd:i.d[I],we:j.d[I],ui:f,vi:f}});bq(m,function(a,b){return a.Vd-b.Vd});var o=Op(m,function(a){return a});bq(o,function(a,b){return g[a.Ef].Zm-g[b.Ef].Zm});for(var q;q=nx(a,i,j,g,m,n),q.Vk;){for(var u=q.Ed,y=0;y<o[I];y++){var D=o[y];if(u[D.Ef].Vk){0<D.we?D.we--:0<D.Nd&&(D.Nd--,0==D.Nd&&(Wp(m,D),Kp[bd][N](o,y,1)));break}}}return q.Ed}function nx(a,b,c,d,e,f){if(0<e[I]){e[0].ui=0,Jp(e).vi=0}for(var g=0;g<e[I];g++){var i=e[g],j=e[g-1],m=e[g+1],m=m?d[m.Ef].Lh.end-5:a[P];i.rp=new pt(s.min(i.Vd,j?d[j.Ef].Lh[O]+5:a.top),s.max(i.Vd,m))}a=ox(a,b,c,e,f);d=n;f={};for(g=0;g<e[I];g++){var i=e[g],j=a[g],m=(j[Hc]-j.top-i.ui)/b,o=(j[P]-j[Hc]-i.vi)/c,m=s[B](m+0.1),o=s[B](o+0.1),q=m<i.Nd||o<i.we,d=d||q;f[i.Ef]={y:j[Hc],Nd:m,we:o,Vk:q}}return{Ed:f,Vk:d}}function ox(a,b,c,d,e){var f=nq(d,function(a){return{anchor:a.Vd,top:a.Vd-(a.Nd*b+a.ui),bottom:a.Vd+(a.we*c+a.vi)}}),g=[];g[v](function(b,c){var d=b[c].top;return 0==c?{top:s.max(a.top-d,0)}:{top:s.max(b[Gp(c)-1][P]-d,0)/2}});g[v](function(b,c){var e=b[c][P];return c==d[I]-1?{bottom:s.min(a[P]-e,0)}:{bottom:s.min(b[Gp(c)+1].top-e,0)/2}});g[v](function(a,c,f){var g=a[c][Hc]-a[c].top,a=s.max(-g,0),c=s.max(d[c].Nd*b+d[c].ui-s.max(g,0),0),f=(a+c*(e?1:f))/2;return{anchor:f,top:-f}});g[v](function(a,b,f){var g=a[b][P]-a[b][Hc],a=s.max(-g,0),b=s.max(d[b].we*c+d[b].vi-s.max(g,0),0),f=(a+b*(e?1:f))/2;return{anchor:-f,bottom:f}});g[v](function(a,b){var c=a[b][Hc],e=d[b];return{anchor:pr(c,e.rp[O],e.rp.end)-c}});e&&g[v](function(a,b,c){return{anchor:(d[b].Vd-a[b][Hc])*c}});var i=gv(f,g,function(a,b){return{anchor:a[Hc]+(b[Hc]||0),top:a.top+(b.top||0),bottom:a[P]+(b[P]||0)}},function(a,b){return s.max(s.abs(a[Hc]-b[Hc]),s.abs(a.top-b.top),s.abs(a[P]-b[P]))},0.999);return Op(d,function(a,b){var c=i[b];return{anchor:c[Hc],top:c.top,bottom:c[P]}})}function px(a,b){var c=Tp(a,function(a){return a[ic]==b});if(0>c){return{}}var d={};d[c]={bn:4,Ha:new wt({stroke:Se,Qa:2,vd:0.7})};return d}function qx(a,b,c,d){for(var e=0;e<a[dc]();e++){0>a[H](e,1)&&h(r("Negative values are invalid for a pie chart."))}this.D=a;this.k=b;this.ra=c;this.bf=b.R(ei,Fu);this.h=d;this.h.jc=ym;this.h.dn=this.k.za(Wn,n)}V=qx[K];V.tn=function(){var a=this.h;this.D[Fb](0)!=pn&&a.lj&&h(r("Pie chart should have a first column of type string"));var b=this.Sj();this.Yr(b.ea.Hb,b.ea.ka,b.ea.ua,b.ea[Q]);b.f?a.f.pb=b.f:a.f[fc]==jh?a.f.pb=this.Wr():a.f[fc]==gk&&this.Xr(a.a,b,a.f.t,a.e)};V.Vm=function(a){var b=this.h,c={},d=this.k.Uc(Hl,S),e=a[tb],f=a.wf,a=a.si,g;b.Te?(b=e,g=f,d=a):g=b=d;c.br=new wt({stroke:b,Qa:1,fill:e,rb:1});c.wf=new wt({stroke:g,Qa:1,fill:f,rb:1});c.si=new wt({stroke:d,Qa:1,fill:a,rb:1});return c};V.Wr=function(){var a=this.h,b=a[Q]-a.a[P],c=a.f.t[M],d=[];d[v]({min:2,T:[p]});var e=d[I];d[v]({min:c+2,T:[p]});b=Yu(d,b);return b[I]>e?(e=a.a[P]+b[e],new hs(e-c,a.a[R],e,a.a[C])):l};V.Sj=function(){var a=this.h,b=a.a,c=a.f[fc],d=l,e=l,d=s[z](1.618*a.uc),f=s[z](b[w]*(1-1/1.618)-d);c==hk?(e=new hs(b.top,b[C]+f,b[P],b[C]),d=new hs(b.top,b[R],b[P],e[R]+d)):c==hm?(e=new hs(b.top,b[R],b[P],b[R]-f),d=new hs(b.top,e[C]-d,b[P],b[C])):d=new hs(b.top,b[R],b[P],b[C]);var b=0,c=s.min(d[R]-d[C],d[P]-d.top),f=c=s[B](c/2),g=s[z]((d[R]+d[C])/2),d=s[z]((d[P]+d.top)/2);a.Te&&(f*=0.8,b=c/5,d-=b/2);return{ea:{Hb:new wr(g,d),ka:c,ua:f,height:b},f:e}};V.Yr=function(a,b,c,d){for(var e=this.h,f=this.D,g=Aw(this.k.Uc(Fl,S)),i=this.Vm(g),j=this.k.vc(Jl,{zb:e.Tc,fontSize:e.uc}),m=this.k.ia(Il,yu,Bl),o=this.k.ia(Xn,zu,ih),q=this.k.da(Wm,1/720),u=this.k.za(Ci),y=this.k.Hc(Gl,Of),D=this.k.da(El,0),Y=0,L=0;L<f[dc]();L++){Y+=f[H](L,1)||0}var X=0,G=0;e.e=[];e.$c=[];for(L=0;L<f[dc]();++L){var aa=f[H](L,1)||0,na=f[Xc](L,1),jb=f[H](L,0),Da=f[Xc](L,0),cc=G/Y,Sp=cc+aa/Y,rl=Sp-cc>=q;rl?G+=aa:X+=aa;var Lf=Xm+L,ch=this.k.R(Lf+oe,this.bf[L%this.bf[I]]),ch=Aw(ch),qy=this.Vm(ch),ry=this.k.be(Lf+se,0),sy=this.k.da(Lf+re,D),ty=this.k.vc(Lf+ue,j),aa=this.Um(L,cc,Sp,aa,na,Da,rl,a,b,c,sy,d,ry,m,ty,o,ch,qy);aa.z=this.k.za(Lf+pe,k);e.e[v](aa);this.k.za(Lf+we,rl||u)&&e.$c[v]({id:jb,text:Da,b:new wt({fill:ch[tb]}),index:L,z:aa.z})}f=l;0<X&&(Da=y,f=this.Um(l,1-X/Y,1,X,S+X,Da,k,a,b,c,D,d,0,m,j,o,g,i),u||e.$c[v]({text:Da,b:new wt({fill:g[tb]}),index:l,z:n}));e.ea={ka:b,ua:c,Hb:a,ej:d,zj:f}};function rx(a,b){switch(b){case Bl:return a.lk;case Ho:return a.rn;case ih:return a.rn+jd+a.lk+fe}}V.Um=function(a,b,c,d,e,f,g,i,j,m,o,q,u,y,D,Y,L,X){q=this.h;if(q.Te||1<=o){o=0}var G={},aa=c-b;G.value=d;G.rn=e;va(G,L);G.cd=X;G.b=G.cd.br;Ha(G,f);La(G,a);G.wc=W(a)?this.D[Jb](a):l;G.B=g;a=j*o;o*=m;G.$f=a;G.Ye=o;G.ga=360*b;G.ca=360*c;d=2*s.PI*(b-0.25);f=2*s.PI*(c-0.25);G.lk=s[z](1000*aa)/10+Yd;L=S;switch(y){case Bl:L=G.lk;break;case ek:L=G[J];break;case Ho:L=e}pa(G,L);if(!g){return G}G.t=D;e=this.ra(G[x],D)[w];g=D[M];G.Bh=new lq(e,g);G.Xc=1==aa;if(G[x]){if(G.Xc){G.oj=yr(i,new wr(e/2,g/2)),G.nj=k}else{D=j-g;aa=m-g;e=G.Bh;e=new lq(e[w]/D,e[Q]/aa);g=new lq(2/D,2/aa);y=lv((d+f)/2+s.PI,1,1);b:{for(var L=nv(new wr(0,0),e),X=1,na=s.min,jb=0;jb<L[I];++jb){var Da;var cc=L[jb];Da=y.x*cc.x+y.y*cc.y;cc=Da*Da+1-cc.Tr();0>cc?Da=l:(cc=s[Ib](cc),Da=[Da-cc,Da+cc]);if(ip(Da)||0>Da[1]){L=l;break b}X=na(X,Da[1])}L=X}if(W(0.4)&&0.4>L){e=l}else{y=y[Dc]()[Rc](-L);e=kv(e,g,g);b:{e=nv(y,e);g=qr(f-d,2*s.PI);L=0;X=g;for(na=0;na<e[I];++na){jb=qr(s[Db](e[na].y,e[na].x)-d,2*s.PI);if(jb>=g||0==jb){e=n;break b}X=s.min(jb,X);L=s.max(jb,L)}e=L-X<s.PI}e=e?y:l}D=e&&new wr(e.x*D,e.y*aa);if(!ip(D)){G.nj=k,G.oj=jv(i,D,new wr(-G.Bh[w]/2,-G.Bh[Q]/2))}}}else{G.nj=n}G.Yc=lv((d+f)/2,j,m)[Rc](u);u=lv(f,j,m);G.Ba=xr(i,lv(d,j,m));G.Ib=xr(i,u);m=lv(f,a,o);G.jm=xr(i,lv(d,a,o));G.km=xr(i,m);if(q.Te&&270>=G.ga&&90<=G.ca){m={},90>G.ga?(m.ga=90,m.Ba=new wr(i.x+j,i.y)):(m.ga=G.ga,m.Ba=G.Ba),270<G.ca?(m.ca=270,m.Ib=new wr(i.x-j,i.y)):(m.ca=G.ca,m.Ib=G.Ib),m.b=G.cd.wf,G.C=m}G.xd=q.Te&&0.5<b;G.ce=q.Te&&0.5>c;if(G.xd||G.ce){G.sh=G.cd.wf}G.Xf={lf:G[J],content:rx(G,Y)};return G};V.Xr=function(a,b,c){for(var d=this.h,e=b.ea.ka,f=b.ea.ua,g=b.ea.Hb,i=this.k.ia(kk,zu,Bl),j=s.PI*(3*(e+f)-s[Ib]((3*e+f)*(e+3*f))),m=[],o=[],q=0;q<d.$c[I];++q){var u=d.$c[q],y;y=u[ic]!=l?d.e[u[ic]]:d.ea.zj;var D=s.max((e+y.$f)/2,0.75*e),Y=s.max((f+y.Ye)/2,0.75*f),L=(y.ca+y.ga)/2,X=360*(ur(e-D,f-Y)/j),G,aa;2*X<y.ca-y.ga?(G=y.ga+X,aa=y.ca-X,180>L?aa=s.min(aa,180):G=s.max(G,180)):aa=G=L;var na=function(a){return xr(g,lv(a,D,Y))},X=function(a){return na(s.asin(pr((a-g.y)/Y,-1,1)))},jb=function(a){return na(s.PI-s.asin(pr((a-g.y)/Y,-1,1)))},u={hr:na(sr(L-90)).y,Lh:new pt(na(sr(G-90)).y,na(sr(aa-90)).y),ef:u[x],ff:rx(y,i),Zm:y[nb],z:u.z,index:y[ic]};180>L?(u.ym=X,m[v](u)):(u.ym=jb,o[v](u))}b=a[w]/2-b.ea.ka-c[M];m=lx(new hs(a.top,a[R],a[P],a[R]-b),this.ra,2,c,m);a=lx(new hs(a.top,a[C]+b,a[P],a[C]),this.ra,1,c,o);c=[];Zp(c,m,a);this.h.Bc=c};function sx(a,b,c,d,e){this.jj=a;this.D=l;this.k=b;this.ra=c;var f=this.h={};f.tc=c;oa(f,d);Ua(f,e);f.N=b.ia(po,ou,U);f.Tc=b.Hc(cj);f.uc=b.da(dj,s[z](s.pow(2*(f[w]+f[Q]),1/3)));f.fm=b.ia(Dm,pu,Ak);f.mj=b.vc(Yn,{zb:f.Tc,fontSize:f.uc});f.Ic=b.ia(Zn,Cu,Hj);f.vh=b.ia(um,Vt,Mm);f.cj=b.zh(Mg);f.bj=b.zh(Ig);f.Eq=b.Uc(Rg,S);f.Fq=b.Uc(vj,S);f.Se=At(f.bj,f.cj)||S;c={zb:f.Tc,fontSize:f.uc,$a:f.Se};f.Cq=b.vc(zg,c);f.Dq=b.vc(wg,c);f.Iq=b.Uc(xg,S);c=b.Hc(Nn);f.Pe=b.ia(Qn,vu,ol);d=b.vc(Rn,{zb:f.Tc,fontSize:f.uc,$a:f.Pe==Pj?f.Se:U});Ha(f,{text:c,t:d,d:[],Za:fn,Pa:Ni,K:S});f.Vf=b.ia(Jg,vu,ol);f.Te=b.za($j);f.Qe=b.za(Wj);f.ae=b.ia(Vj,Au,yi);f.z=this.k.za(Mi,k);f.lj=this.k.za(on,k)||a.getColumnProperty(0,jm)==Fi;this.xj();f.ae==Ei&&(!f.gb||f.gb.line!=f.e[I])&&h(r("DIVE interactivity model is only supported when all series are of type line."))}V=sx[K];V.Gg=function(){return this.h};V.xj=function(){var a=this.h;this.$r();this.Sj();var b=l,c=hm;a.N==Dl?b=new qx(this.D,this.k,this.ra,a):(b=new fx(this.D,this.k,this.ra,a),b.xm()&&(c=io));var c=this.k.ia(nk,tu,c),d=this.k.vc(sk,{zb:a.Tc,fontSize:a.uc,$a:c==Pj?a.Se:U});a.f={position:c,t:d,pb:l,ha:l,kc:l,qg:l};b.tn();this.Nj=new kx(a,this.k);this.bs();a.f.pb&&this.Nj.as()};V.qi=function(a,b,c){var d=NaN,e=a.Mc(b);W(e)?d=e:(a=a.hi(b),W(a)&&(a=yp(a),b=a[I]-1,0<=b&&a[sb](Yd,b)==b&&(d=a[I]-1,b=a,0<=d&&d<a[I]&&(b=a[Zb](0,d)+a[Zb](d+1,a[I]-d-1)),a=Gp(b),d=c*a/100)));return d=s[z](pr(d,0,c))};V.$r=function(){var a=this.h,b=this.jj,c=new google[wc].DataView(b);if(a.N!=rm&&a.N!=oh){var d=b[mb](),e=l,f=l;if(0<d){b.getColumnProperty(0,jm);var g=b[Fb](0);if(!a.lj&&g!=pn&&(1==d||g==b[Fb](1))){e={calc:Li,type:pn},f=0}}if(W(e)){for(a=[e];f<d;f++){a[v](f)}c.setColumns(a)}}2>c[mb]()&&h(r("Not enough columns given to draw the requested chart."));if(this.k.za(fm)){d=[];for(f=b[dc]()-1;0<=f;f--){d[v](f)}c.setRows(d)}this.D=c};V.mo=function(a,b,c,d){ka(b)&&(b=d());ka(a)&&(a=s[z]((c-b)/2));b=s.min(a+b,c);return{start:a,end:b}};V.Sj=function(){var a=this.h,b=this.qi(this.k,Kh,a[w]),c=this.qi(this.k,Hh,a[Q]),d=this.qi(this.k,Jh,a[Q]),e=this.qi(this.k,Ih,a[w]),f=Z(function(){var b=a[w]/1.618,c=a[w]-a[Q]*(1.618-1);return s[z](b>c?b:(b+2*c)/3)},this),e=this.mo(e,b,a[w],f),b=s.min(e[O],e.end),e=e.end,f=e-b,g=Z(function(){var b=a[Q]/1.618,c=a[Q]-a[w]*(1.618-1);return s[z](b>c?b:(b+2*c)/3)},this),d=this.mo(d,c,a[Q],g),c=s.min(d[O],d.end),d=d.end;a.a={left:b,right:e,width:f,top:c,bottom:d,height:d-c}};V.bs=function(){var a=this.h,b=a[J].t[M],c=a.f.t[M],d=a.f[fc],e=a.Pe==ol?a[J][x]:S,f=Iu(this.ra,e,a[J].t,a.a[w],p),g=s.max(2,s[z](b/3.236)),i=s.max(2,s[z](c/1.618)),j=s.max(2,s[z](1.618*a.uc)),m=[];m[v]({key:kh,min:2,T:[j-2]});m[v]({key:jo,min:0,T:[p]});0<f.d[I]&&m[v]({key:Nn,min:b+2,T:[]});if(d==io){j=this.Nj.Vr(a.a[w]);for(d=0;d<j;++d){m[v]({key:ik,min:c+2,T:[i-2]})}}for(d=1;d<f.d[I];d++){m[v]({key:Nn,min:b+2,T:[g-2]})}f=Zu(m,a.a.top);b=f[jo][0]||0;g=f[J]||[];i=Iu(this.ra,e,a[J].t,a.a[w],g[I]);for(d=0;d<i.d[I];d++){b+=g[d],a[J].d[v]({text:i.d[d],x:a.a[C],y:b,length:a.a[w]})}a[J].K=i.aa?e:S;e=f.legend||[];if(0<e[I]){this.Nj.mg=e[I],c=b+e[0]-c,b+=tr[Uc](l,e),a.f.pb=new hs(c,a.a[R],b,a.a[C])}};function tx(a,b){this.tg=a;this.ug=b;this.Ab=sq(a);if(this.Ab.ta){this.Ab.ta=Op(this.Ab.ta,sq),this.Nm=Uu(a.ta[I],function(c){return ux(a.ta[c],b.ta[c],this.Ab.ta[c],k,n)},this)}if(this.Ab.Ka){this.Ab.Ka=Op(this.Ab.Ka,sq),this.Om=Uu(a.Ka[I],function(c){return ux(a.Ka[c],b.Ka[c],this.Ab.Ka[c],n,k)},this)}this.rf=this.Fd=l;this.vu();this.Rh=this.Wj=l;this.uu()}function ux(a,b,c,d,e){var f=sq(a),g=sq(a);if(a.L&&b.L){if(a.V&&b.V){g.V=b.V,c.V=sq(c.V)}var i=a.L.mc,j=b.L.mc;g.L=sq(g.L);c.L=sq(c.L);g.L.mc=j;if(a.kb&&b.kb){g.kb=Yp(g.kb);c.kb=Yp(c.kb);for(var m=g.kb,o=c.kb,q=0;q<m[I];q++){m[q]=sq(m[q]);o[q]=sq(o[q]);var u=m[q];u.u=j(u.fa)}}if(a[x]&&b[x]){pa(g,Yp(g[x]));pa(c,Yp(c[x]));m=g[x];c=c[x];vx(m);vx(c);for(q=0;q<m[I];q++){wx(a[x][q],b[x][q],i,j,m[q],d,e)}}}else{if(a[x]&&b[x]){var y=dv(a[x],b[x],function(a,b){return a.fa==b.fa});pa(f,Np(a[x],function(a,b){return W(y.ng[b])}));pa(g,Np(b[x],function(a,b){return W(y.og[b])}));pa(c,Yp(f[x]));vx(f[x]);vx(g[x]);vx(c[x])}}return[f,g]}function wx(a,b,c,d,e,f,g){b=e.o;c=c(e.fa);d=d(e.fa);if(f){f=a.o[Hc].x-c,b[Hc].x=d+f}if(g){f=a.o[Hc].y-c,b[Hc].y=d+f}}function vx(a){Mp(a,function(b,c){a[c]=sq(a[c]);b=a[c];b.o=sq(b.o);var d=b.o;d[Hc]&&Qa(d,sq(d[Hc]))})}V=tx[K];V.vu=function(){var a=this.tg,b=this.ug;if(a.e&&b.e){var c=dv(a.e,b.e,function(a,b){return a.id==b.id});this.Fd=Np(a.e,function(a,b){return W(c.ng[b])});this.rf=Np(b.e,function(a,b){return W(c.og[b])});a.N==T||a.N==rm?(a=a[Qb]==Gj?a.ta[0]:a.Ka[0],a.L?this.at(a.L.sg,a.L.Pq):this.bt()):a.N==oh&&this.$s()}};V.bt=function(){var a=this.tg.v,b=this.ug.v;if(a&&b){for(var c=dv(a,b,function(a,b){return a[A]==b[A]}),d=0,e=0,f=[],g=[];d<a[I]||e<b[I];){d<a[I]&&!W(c.ng[d])?(g[v]({Ae:{Sc:d,Kf:k},Be:{Sc:e,Kf:n}}),f[v]({data:a[d][A]}),d++):(e<b[I]&&!W(c.og[e])?(g[v]({Ae:{Sc:d,Kf:n},Be:{Sc:e,Kf:k}}),f[v]({data:b[e][A]})):(g[v]({Ae:{Sc:d,Kf:k},Be:{Sc:e,Kf:k}}),f[v]({data:a[d][A]}),d++),e++)}this.Ab.v=f;this.mi(g,function(a,b){return b.Kf?a[b.Sc]:0==b.Sc?a[0]:b.Sc>=a[I]?Jp(a):xx(a[b.Sc-1],a[b.Sc],0.5)})}};V.at=function(a,b){var c=this.tg.v,d=this.ug.v;if(c&&d){if(0==c[I]||0==d[I]){this.Ab.v=[],this.mi([],function(){return l})}else{for(var e=function(b){return a(b[A])},f=ev(c,d,e),g=ev(d,c,e),i=0,j=0,m=[],o=[];i<c[I]||j<d[I];){i<c[I]&&(f[i]<j||j<d[I]&&g[j]>i)?(o[v]({Ae:i,Be:f[i]}),m[v]({data:c[i][A]}),i++):(j<d[I]&&(i<c[I]&&f[i]>j||g[j]<i)?(o[v]({Ae:g[j],Be:j}),m[v]({data:d[j][A]})):(o[v]({Ae:i,Be:j}),m[v]({data:b(ur(e(c[i]),e(d[j])))}),i++),j++)}this.Ab.v=m;this.mi(o,function(a,b){return a[b]})}}};V.$s=function(){for(var a=this.tg.e[0].c,b=this.ug.e[0].c,c=dv(a,b,function(a,b){return !a&&!b?k:!a||!b?n:a.id==b.id}),d=0,e=0,f=[];d<a[I]||e<b[I];){if(d<a[I]&&!W(c.ng[d])){d++}else{if(!(e<b[I])||W(c.og[e])){f[v]({Ae:d,Be:e}),d++}e++}}this.mi(f,function(a,b){return a[b]})};V.mi=function(a,b){for(var c=0;c<this.Fd[I];c++){for(var d=this.Fd[c].c,e=this.rf[c].c,f=[],g=[],i=0;i<a[I];i++){var j=a[i];f[v](b(d,j.Ae));g[v](b(e,j.Be))}this.Fd[c]=yx(this.Fd[c],f);this.rf[c]=yx(this.rf[c],g)}};function yx(a,b){var c=sq(a);c.c=b;return c}V.uu=function(){var a=this.tg,b=this.ug;if(a.f&&a.f.ha&&b.f&&b.f.ha){var a=a.f.ha[0],b=b.f.ha[0],c=dv(a,b,function(a,b){return a.id==b.id});this.Wj=Np(a,function(a,b){return W(c.ng[b])});this.Rh=Np(b,function(a,b){return W(c.og[b])});this.Ab.f=sq(this.Ab.f);b=this.Ab.f;b.kc=Yp(this.Rh);b.ha=[b.kc];b=b.kc;for(a=0;a<b[I];++a){b[a]=sq(b[a]);var d=b[a];if(d.o&&(d.o=sq(d.o),d.o.d)){d.o.d=Yp(d.o.d);for(var e=0;e<d.o.d[I];e++){d.o.d[e]=sq(d.o.d[e])}}if(d.P&&(d.P=sq(d.P),d.P.S)){d.P.S=d.P.S[Dc]()}if(d.ba&&(d.ba=sq(d.ba),d.ba.S)){d.ba.S=sq(d.ba.S)}}}};function zx(a,b,c){if(a!==b){if(a&&a[sc]==wt&&b&&b[sc]==wt){a=new wt({fill:st(a.O,b.O,1-c),rb:zx(a.$b,b.$b,c),stroke:st(a.Jb,b.Jb,1-c),Qa:zx(a.H,b.H,c),vd:zx(a.nc,b.nc,c),io:a.jd,F:a.F,pattern:a.Ea})}else{if(jp(a)&&jp(b)){if(a){if(b){for(var d=[],e=s.min(a[I],b[I]),f=0;f<e;f++){d[v](zx(a[f],b[f],c))}a=d}}else{a=b}}else{a=mp(a)&&mp(b)?Ax(a,b,c):op(a)&&op(b)?a*(1-c)+b*c:l}}}return a}function Ax(a,b,c){if(!a){return b}if(!b){return a}var d={};mq(a,function(e,f){hp(b[f])&&(d[f]=zx(a[f],b[f],c))});return d}function Bx(a,b,c,d,e){b=!e||(c?b>=c.top&&b<=c[P]:n);return(!d||(c?a>=c[C]&&a<=c[R]:n))&&b}function Cx(a,b,c,d,e){if(a.L&&a.L.mc&&b.L&&b.L.mc){c.L.mc=function(c){var d=a.L.mc(c),c=b.L.mc(c);return zx(d,c,e)}}if(a.V&&b.V){c.V.u=zx(a.V.u,b.V.u,e)}a.kb&&b.kb&&Mp(c.kb,function(c,g){c.u=zx(a.kb[g].u,b.kb[g].u,e);c.B=d(c.u,c.u)});a[x]&&b[x]&&Mp(c[x],function(c,g){if(c){var i=a[x][g].o,j=b[x][g].o,m=c.o;if(m&&m[Hc]){m[Hc].x=zx(i[Hc].x,j[Hc].x,e),m[Hc].y=zx(i[Hc].y,j[Hc].y,e)}if(c.o){c.B=d(c.o[Hc].x,c.o[Hc].y)}}})}function xx(a,b,c){if(!a||!b){return l}var d=sq(a);if(hp(a.i)&&hp(b.i)){d.i=zx(a.i,b.i,c)}if(hp(a.ld)&&hp(b.ld)){d.ld=zx(a.ld,b.ld,c)}if(hp(a.md)&&hp(b.md)){d.md=zx(a.md,b.md,c)}return d}V.Ut=function(a){var b=this.Ab;if(b.ta){var c=function(a,c){return Bx(a,c,b.a,k,n)};Mp(b.ta,function(b,d){Cx(this.Nm[d][0],this.Nm[d][1],b,c,a)},this)}if(b.Ka){var d=function(a,c){return Bx(a,c,b.a,n,k)};Mp(b.Ka,function(b,c){Cx(this.Om[c][0],this.Om[c][1],b,d,a)},this)}if(this.Fd&&this.rf){b.e=[];for(var e=0;e<this.Fd[I];++e){var f=this.Fd[e],g=this.rf[e],i=sq(g);if(f&&g&&f.c&&g.c&&f[F]==g[F]){i.c=[];for(var j=0;j<f.c[I];j++){i.c[j]=xx(f.c[j],g.c[j],a)}}b.e[e]=i}}if(this.Wj&&this.Rh&&b.f&&b.f.kc){for(e=0;e<b.f.kc[I];e++){f=b.f.kc[e];g=this.Wj[e];i=this.Rh[e];if(f.o&&f.o.d&&g.o&&g.o.d&&0!=g.o.d[I]&&i.o&&i.o.d){for(var m=f.o.d,o=g.o.d,q=i.o.d,u=o[I],j=0;j<m[I];j++){var y=j<u?o[j]:o[u-1];m[j].x=zx(y.x,q[j].x,a);m[j].y=zx(y.y,q[j].y,a)}}if(f.P&&f.P.S&&g.P&&g.P.S&&i.P&&i.P.S){j=zx(g.P.S,i.P.S,a),f.P.S=new js(j[C],j.top,j[w],j[Q])}if(f.ba&&f.ba.S&&g.ba&&g.ba.S&&i.ba&&i.ba.S){f.ba.S=zx(g.ba.S,i.ba.S,a)}}}return b};function Dx(a,b){var c=new Et,d=a.eb;if(0==d[I]||1==d[I]){return c}for(var e=[l],f=0;f<d[I];f++){var g=d[f];g[A]&&e[v](new $(g[A].x,g[A].y))}e[v](l);var g=d[d[I]-1][F]==Vh,f=e[1][Dc](),i=e[2][Dc](),j=e[e[I]-3][Dc](),m=e[e[I]-2][Dc]();g?(e[0]=m,e[e[I]-1]=f):iq(f,m)?(e[0]=j,e[e[I]-1]=i):(e[0]=(new vr(f.x,f.y,i.x,i.y)).Ep(-1),e[e[I]-1]=(new vr(m.x,m.y,j.x,j.y)).Ep(-1));for(var i=0>b,o=Ex(e[0],e[1],b),j=e[I]-2,f=1;f<=j;f++){var m=Ex(e[f],e[f+1],b),q=Fx(o,m),u;if(mp(q)){u=Fx(Gx(e[f-1],e[f]),o);var y=Fx(Gx(e[f],e[f-1]),o);u=qt(new pt(u.x,y.x),q.x)&&qt(new pt(u.y,y.y),q.y)}else{u=q==p}o=u&&q!=p?q:Fx(Gx(e[f],e[f-1]),o);c.ac(Hx(d[f-1],o));u||(o=180-180*s[Db](o.x-e[f].x,o.y-e[f].y)/s.PI,q=Fx(Gx(e[f],e[f+1]),m),c.jb(e[f].x,e[f].y,s.abs(b),s.abs(b),o,180-180*s[Db](q.x-e[f].x,q.y-e[f].y)/s.PI,i));o=m}g&&c[Ac]();return c}function Hx(a,b){var c=tq(a);switch(a[F]){case Zk:case Ak:c[A].x=b.x;c[A].y=b.y;break;case ji:c[A].x=b.x;c[A].y=b.y;var d=b.x-a[A].x,e=b.y-a[A].y;c[A].Cb+=d;c[A].Db+=e;c[A].gd+=d;c[A].hd+=e}return c}function Ex(a,b,c){var d,e=(b.y-a.y)/(b.x-a.x);d=!ia(e)?{Oe:p,Gc:a.x}:{Oe:e,Gc:a.y-e*a.x};e=d.Oe;d=d.Gc;if(e==p){return{Oe:p,Gc:0>b.y-a.y?d+c:d-c}}c*=s[Ib](1+e*e);return{Oe:e,Gc:0<b.x-a.x?d+c:d-c}}function Gx(a,b){var c=(a.x-b.x)/(b.y-a.y),d;ia(c)?d=a.y-c*a.x:(c=p,d=a.x);return{Oe:c,Gc:d}}function Fx(a,b){var c=a.Oe,d=a.Gc,e=b.Oe,f=b.Gc;ia(c)||(c=p);ia(e)||(e=p);if(rt(c,e)){return rt(d,f)?p:l}if(c==p){return new $(d,e*d+f)}if(e==p){return new $(f,c*f+d)}var g=e-c;return new $(-(f-d)/g,(d*e-c*f)/g)}function Ix(){this.Ub={};this.Tb={};this.Vb={}}V=Ix[K];Ba(V,function(){this.Ub={};this.Tb={};this.Vb={}});Oa(V,function(){var a=new Ix;a.Ub=sq(this.Ub);a.Tb=sq(this.Tb);a.Vb=sq(this.Vb);return a});V.Od=function(a){return lu(this.Ub,a.Ub)&&lu(this.Tb,a.Tb)&&lu(this.Vb,a.Vb)};V.zq=function(a){var a=a==mm?this.Ub:this.Tb,b=[],c;for(c in a){b[v](ga(c,10))}return b};V.Bk=function(){return this.zq(mm)};V.Wn=function(){return this.zq(fi)};V.Vn=function(){var a=[],b;for(b in this.Vb){var c=b[qc](ge);a[v]({row:ga(c[0],10),column:ga(c[1],10)})}return a};V.getSelection=function(){for(var a=[],b=this.Bk(),c=this.Wn(),d=this.Vn(),e=0;e<b[I];e++){var f={};f.row=b[e];a[v](f)}for(e=0;e<c[I];e++){f={},f.column=c[e],a[v](f)}for(e=0;e<d[I];e++){f={},f.row=d[e].row,f.column=d[e].column,a[v](f)}return a};V.Wv=function(a,b){return a==mm?this.Vl(b[0]):this.Ul(b[0])};V.Vl=function(a){return this.Ub[S+a]!=l};V.Ul=function(a){return this.Tb[S+a]!=l};V.fq=function(a,b){return this.Vb[S+(a+ge+b)]!=l};V.bm=function(a,b){if(this.Wv(a,b)){return n}a==mm?this.Ub[b[0]]=1:a==fi?this.Tb[b[0]]=1:this.Vb[S+(b[0]+ge+b[1])]=1;return k};V.addRow=function(a){return this.bm(mm,[a])};V.addColumn=function(a){return this.bm(fi,[a])};V.Yw=function(a,b){return this.bm(Dh,[a,b])};V.pk=function(a,b){var c=this.Vl(a);b&&this[Pb]();c?this.removeRow(a):this.addRow(a);return !c};V.Zs=function(a,b){var c=this.Ul(a);b&&this[Pb]();c?this.removeColumn(a):this.addColumn(a);return !c};V.En=function(a,b,c){var d=this.fq(a,b);c&&this[Pb]();d?this.$w(a,b):this.Yw(a,b);return !d};V.removeRow=function(a){if(!this.Vl(a)){return n}delete this.Ub[a];return k};V.removeColumn=function(a){if(!this.Ul(a)){return n}delete this.Tb[a];return k};V.$w=function(a,b){if(!this.fq(a,b)){return n}delete this.Vb[S+(a+ge+b)];return k};V.setSelection=function(a){var b={},c={},d={};a||(a=[]);for(var e=0;e<a[I];e++){var f=a[e];f.row!=l&&f.column!=l?d[S+(f.row+ge+f.column)]=1:f.row!=l?b[f.row]=1:f.column!=l&&(c[f.column]=1)}var g=this.Qf(b,this.Ub),i=this.Qf(c,this.Tb),j=this.Qf(d,this.Vb),a=this.Qf(this.Ub,b),e=this.Qf(this.Tb,c),f=this.Qf(this.Vb,d);this.Ub=b;this.Tb=c;this.Vb=d;b=new Ix;b.Ub=g;b.Tb=i;b.Vb=j;c=new Ix;c.Ub=a;c.Tb=e;c.Vb=f;return new Jx(b,c)};V.Qf=function(a,b){var c={},d;for(d in a){b[d]||(c[d]=1)}return c};function Jx(a,b){this.Lx=a;this.Mx=b}function Kx(a){this.selected=new Ix;this.s={na:l,Xa:l,Bb:l};this.X={na:l,Xa:l,Bb:l};this.Ob={s:{Md:l,w:l}};this.f={s:{lc:l},vf:l};Ja(this,{position:l});if(a){this[kb][Nb](a[kb]);if(a.s){this.s=Lx(this.s,a.s)}if(a.X){this.X=Lx(this.X,a.X)}if(a.Ob){this.Ob=Lx(this.Ob,a.Ob)}if(a.f){this.f=Lx(this.f,a.f)}}}Oa(Kx[K],function(){var a=new Kx;a.selected=this[kb][Dc]();a.s=mu(this.s);a.X=mu(this.X);a.Ob=mu(this.Ob);a.f=mu(this.f);Ja(a,mu(this[gc]));return a});Kx[K].Od=function(a){return this[kb].Od(a[kb])&&lu(this.s,a.s)&&lu(this.X,a.X)&&lu(this.Ob,a.Ob)&&lu(this.f,a.f)&&lu(this[gc],a[gc])};function Lx(a,b){var c=new ju(2);c.Lb(0,a);c.Lb(1,b);return c[ad]()}function Mx(a,b,c,d,e){var f={pc:[]};W(e)&&f.pc[v]({type:dn,data:{size:b[M]/2,color:e}});W(c)&&(W(d)||h(r("Line title is specified without a text style.")),c={type:An,data:{text:c+Ye,style:d}},f.pc[v](c));c={type:An,data:{text:a,style:b}};f.pc[v](c);return f}function Nx(a,b,c,d,e,f,g){var i;for(var j=i=0;j<a.d[I];j++){for(var m=a.d[j],o=0;o<m.pc[I];o++){var q=m.pc[o];q[F]==An&&(i=s.max(i,q[A][zc][M]))}}i=0==i?g:i;for(var u,m=g=j=0;m<a.d[I];m++){o=Ox(a.d[m],b),g+=o[Q]+(0<m?o.Rg:0),j=s.max(j,o[w])}j=s.max(j,2*i);j=s[z](j+2*i/1.618);g=s[z](g+2*i/1.618);u=new lq(j,g);var j=d.x>=f.x?1:-1,m=d.y>f.y?1:-1,y=l,y=c?new $(d.x+j*i,d.y+m*(i+u[Q]/2)):new $(d.x+j*u[w]/2,d.y+m*u[Q]/2),o=y.x-u[w]/2,q=o+u[w],D=y.y-u[Q]/2,Y=D+u[Q],g={};if(c){c=new $(y.x,d.y+i/(i+u[Q]/2)*(y.y-d.y)),y=new $(y.x+-1*(d.x-y.x),c.y),c.x=s[z](c.x),c.y=s[z](c.y),y.x=s[z](y.x),y.y=s[z](y.y),g.Eb=1==j*m?[c,d,y]:[y,d,c]}g.p=new hs(s[z](D),s[z](q),s[z](Y),s[z](o));d=e[C]+5;c=e[R]-5;if(!(g.p[C]>=d&&g.p[R]<=c)){j=tq(g);m=j.p[C];xa(j.p,f.x+-1*(j.p[R]-f.x));Va(j.p,f.x+-1*(m-f.x));if(m=j.Eb){o=m[0],m[0]=m[2],m[2]=o,m[0].x=f.x+-1*(m[0].x-f.x),m[1].x=f.x+-1*(m[1].x-f.x),m[2].x=f.x+-1*(m[2].x-f.x)}if(j.p[C]>=d&&j.p[R]<=c){g.p=j.p,g.Eb=j.Eb}else{if(g.Eb&&(m=new pt(d+4,c-4),o=new pt(j.Eb[0].x,j.Eb[2].x),q=new pt(g.Eb[0].x,g.Eb[2].x),!(m[O]<=q[O]&&m.end>=q.end)&&m[O]<=o[O]&&m.end>=o.end)){g.p=j.p,g.Eb=j.Eb}g.p[R]>c&&(xa(g.p,g.p[C]-(g.p[R]-c)),Va(g.p,c));g.p[C]<d&&(Va(g.p,g.p[R]+(d-g.p[C])),xa(g.p,d))}}d=e.top+5;e=e[P]-5;if(!(g.p.top>=d&&g.p[P]<=e)){c=tq(g);j=c.p.top;c.p.top=f.y+-1*(c.p[P]-f.y);Ra(c.p,f.y+-1*(j-f.y));if(j=c.Eb){m=j[0],j[0]=j[2],j[2]=m,j[0].y=f.y+-1*(j[0].y-f.y),j[1].y=f.y+-1*(j[1].y-f.y),j[2].y=f.y+-1*(j[2].y-f.y)}if(c.p.top>=d&&c.p[P]<=e){g.p=c.p,g.Eb=c.Eb}else{g.p[P]>e&&(g.p.top-=g.p[P]-e,Ra(g.p,e));if(g.p.top<d){Ra(g.p,g.p[P]+(d-g.p.top)),g.p.top=d}delete g.Eb}}e=i/1.618;i=g.p;f=i[C]+e;e=i.top+e;i=[];for(d=0;d<a.d[I];d++){c=a.d[d];j=Ox(c,b);0<d&&(e+=j.Rg);m=f;o=e+j[Q]/2;for(q=0;q<c.pc[I];q++){D=c.pc[q],Y=Px(D,b),0<q&&(m+=Y.Wk),y=o-Y[Q]/2,i[v]({x:s[z](m),y:s[z](y),item:D}),m+=Y[w]}e+=j[Q]}return{outline:g,Gs:{pc:i}}}function Ox(a,b){for(var c=0,d=0,e=0,f=0;f<a.pc[I];f++){var g=Px(a.pc[f],b),c=c+(g[w]+(0<f?g.Wk:0)),d=s.max(d,g[Q]),e=s.max(e,g[Q]/2+g.Rg)}return{width:c,height:d,Rg:e-d/2}}function Px(a,b){switch(a[F]){case An:return{width:b?b(a[A][x],a[A][zc])[w]:0,height:a[A][zc][M],Rg:a[A][zc][M]/3.236,Wk:a[A][zc][M]/3.236};case dn:var c=a[A][hc];return{width:c,height:c,Rg:c,Wk:c}}}function Qx(a){this.l=a;this.Sg=a.mj;this.Yk=ot(this.Sg,k)}V=Qx[K];V.gp=function(a){var b=this.l,c={d:[]},d=l,e=0,f=1,g=b.e[I];uv(b)&&(e=b.e[I]-1,g=f=-1);for(;e!=g;e+=f){var i=b.e[e];if(d!=i.Ad){var d=i.Ad,j=this.l.v[a].dj[d];/^[\s\xa0]*$/[Za](j==l?S:S+j)||this.xk(c,j)}if(i.c[a]&&!i.c[a].ud){j=i.c[a].Xf,this.gi(c,j.lf,j[fb],k,i)}}return c};V.Zn=function(a,b){var c={d:[]};if(b.d){b[J]&&this.xk(c,b[J]);for(var d=0;d<b.d[I];d++){var e=b.d[d];this.fu(c,e[J],e[nb])}}else{b.Hk?(this.xk(c,b.Hk),this.gi(c,b.lf,b[fb],k,a)):b.lf?this.gi(c,b.lf,b[fb],k,a,k):this.gi(c,l,b[fb],n,a)}return c};V.xk=function(a,b){var c=Mx(b,this.Yk);a.d[v](c)};V.gi=function(a,b,c,d,e,f){var g=W(f)?f:n,f=this.l.dn,d=d?this.Yk:this.Sg,c=c[qc](gd),e=f?e[tb][tb]:l,b=g&&W(b)?Mx(b,this.Sg,l,l,e):Mx(c[0],d,b,this.Sg,e);a.d[v](b);for(g=g?0:1;g<c[I];g++){e=f?U:l,b=Mx(c[g],d,l,l,e),a.d[v](b)}};V.fu=function(a,b,c){b&&(b=Mx(c,this.Yk,b,this.Sg),a.d[v](b))};function Rx(a,b){this.l=a;this.un=b;this.qk=new hs(0,a[w],a[Q],0);this.bo=a.mj[M];if(a.N==Dl){var c=a.ea.Hb;this.qd=new $(c.x,c.y)}else{var c=a.ta[0],c=W(c.V)?c.V.u:s.min(c.sb,c.ob),d=a.Ka[0],d=W(d.V)?d.V.u:s.max(d.sb,d.ob);this.qd=new $(c,d)}}V=Rx[K];V.Tq=function(a){this.qk=a};V.eo=function(a,b){var c=a.i,d=1+s[db](tv(a,b)/s[Ib](2));return new $(c.x+(c.x>=this.qd.x?d:-d),c.y+(c.y<=this.qd.y?-d:d))};V.Rs=function(a){a=a.i.Wf||a.i;a=new $(a[C]+(a[C]<this.qd.x?0:a[w]),a.top+(a.top<this.qd.y?0:a[Q]));this.Zo(a);return a};V.Ss=function(a){a=a.i[vc];a=new $(a[C]+a[w]>this.qd.x?a[C]+a[w]:a[C],a.top<this.qd.y?a.top:a.top+a[Q]);this.Zo(a);return a};V.Ts=function(a){var b=xr(this.l.ea.Hb,lv(((a.Xc?45:(a.ga+a.ca)/2)/180-0.5)*s.PI,this.l.ea.ka,this.l.ea.ua)),a=new $(b.x+a.Yc.x,b.y+a.Yc.y);this.ft(a);return a};V.Js=function(a,b){var c=this.l.e[a],d=c[F];switch(this.l.N){case T:switch(d){case Pg:case hn:return this.Rs(c.c[b]);case Ak:case Cg:return this.eo(c.c[b],c);case wh:return this.Ss(c.c[b])}case rm:case oh:return this.eo(c.c[b],c);case Dl:return this.Ts(c)}};V.Zo=function(a){var b=this.l.a;a.x=pr(a.x,b[C],b[R]);a.y=pr(a.y,b.top,b[P])};V.ft=function(a){a.x=pr(a.x,0,this.l[w]);a.y=pr(a.y,0,this.l[Q])};V.Du=function(a){return new $(a.x-4*this.l.ta[0].ag*this.bo,a.y-this.l.Ka[0].ag*this.bo)};V.xs=function(a){var b=a[C],c=a[w],d=a.top,a=a[Q],e=d+a;return this.l[Qb]==Gj?e>this.qd.y?new $(b+c/2,e-0.1):new $(b+c/2,d+0.1):b<this.qd.x?new $(b+0.1,d+a/2):new $(b+c-0.1,d+a/2)};V.ys=function(a){var b=xr(this.l.ea.Hb,lv(((a.Xc?45:(a.ga+a.ca)/2)/180-0.5)*s.PI,this.l.ea.ka-0.1,this.l.ea.ua-0.1));return new $(b.x+a.Yc.x,b.y+a.Yc.y)};V.Ks=function(a,b){var c=this.l.e[a];if(this.l.N==Dl){return this.ys(c)}var d=c[F],c=c.c[b].i;return d==Pg||d==hn||d==wh?this.xs(c.Wf||c[vc]||c):new $(c.x,c.y)};V.Mh=function(a,b){var c=this.l.e[a],d=this.l.N==Dl?c.Xf:c.c[b].Xf,e=this.Js(a,b),f=this.Ks(a,b);return Nx(this.un.Zn(c,d),this.l.tc,k,e,this.qk,f)};V.As=function(a,b){var c=this.un.gp(a);return Nx(c,this.l.tc,n,this.Du(b),this.qk,b)};function Sx(a){this.ge=a}V=Sx[K];V.Co=function(a,b,c){switch(a.ae){case yi:this.Yl(a,b,c);break;case Ei:this.Mw(a,b,c)}};V.eg=function(a,b,c){a.e=a.e||{};a=a.e;a[b]=a[b]||{};b=a[b];b.c=b.c||{};b=b.c;b[c]=b[c]||{};return b[c]};V.Dh=function(a,b){a.e=a.e||{};var c=a.e;c[b]=c[b]||{};return c[b]};V.Bs=function(a,b){a.v=a.v||{};var c=a.v;c[b]=c[b]||{};return c[b]};V.Im=function(a,b){a.f=a.f||{};var c=a.f;c.kc=c.kc||{};c=c.kc;c[b]=c[b]||{};return c[b]};V.Yl=function(a,b,c){for(var d=b[kb].Vn(),e=0;e<d[I];++e){var f=a.yj[d[e].column];if(W(f)){var g=a.df[d[e].row];this.Sh(a,f,g,c)}}g=b[kb].Wn();for(e=0;e<g[I];++e){f=a.yj[g[e]],this.Fs(a,f,c)}d=b[kb].Bk();for(e=0;e<d[I];++e){g=d[e],a.N==oh?(f=0,g=a.df[g],this.Sh(a,f,g,c)):this.Es(a,a.df[g],c)}e=b.s.na;f=b.s.Xa;g=b.X.na;d=b.X.Xa;W(f)&&this.Vj(a,e,f,c);if(W(d)){this.eg(c,g,d).K=this.ge.Mh(g,d)}e=b.f.s.lc;W(e)&&this.Ds(a,e,c);e=b.s.Bb;W(e)&&this.Cs(a,e,c);a=b.X.Bb;if(W(a)&&(c=this.Bs(c,a),b[gc][fc])){c.kg=this.ge.As(a,b[gc][fc])}};var Tx=[0.25,0.1,0.05],Ux=[0.3,0.1,0.05],Vx=[0.3,0.15,0.05];V=Sx[K];V.Vj=function(a,b,c,d){var e=a.e[b],f=e.c[c];if(f&&!f.ud&&f.i&&(!qv(e)||0!=e[dd]||rv(f,e))){a=e[F]==Pg?Vx:Tx;d=this.eg(d,b,c);d.xc={};b=d.xc;b.Ca=[];for(c=0;c<a[I];c++){var g=new wt({fill:U,stroke:Ug,vd:a[c],Qa:1});b.Ca[v]({b:g})}switch(e[F]){case Pg:case hn:case wh:e=f.i.Wf||f.i[vc]||f.i;f=new js(e[C],e.top,e[w],e[Q]);for(c=0;c<a[I];c++){e=b.Ca[c].b.H,b.Ca[c].rect=new js(f[C]-e/2,f.top-e/2,f[w]+e,f[Q]+e),xa(f,f[C]-e),f.top-=e,oa(f,f[w]+2*e),Ua(f,f[Q]+2*e)}break;case Ak:case Cg:case rm:case sh:d.gf=k;b.x=f.i.x;b.y=f.i.y;d.qb?(e=d.qb,f=e.Xb+e.b.H/2):f=tv(f,e);for(c=0;c<a[I];c++){e=b.Ca[c].b.H,b.Ca[c].Xb=f+e/2,f+=e}}}};V.Ds=function(a,b,c){var o;var d=a.e[b],e;if(qv(d)&&0<d[dd]){e=this.Dh(c,b);e.xc={};e=e.xc;e.Ca=[];var f;f=d[F]==Cg?a.Vc?wv(d):vv(d,n):vv(d,a.Qe);f=f.yn();for(var g=d.Ha.H/2,i=0;i<Ux[I];i++){var j=new wt({fill:U,stroke:Ug,vd:Ux[i],Qa:1}),m=Dx(f,g+j.H/2);e.Ca[v]({b:j,path:m});g+=j.H}}o=(e=(e=c.e)&&e[b])&&e.c,e=o;for(f=0;f<d.c[I];++f){g=d.c[f],!g||g.ud||(rv(g,d)||e&&e[f]&&e[f].gf)&&this.Vj(a,b,f,c)}};V.Cs=function(a,b,c){for(var d=a.e,e=0;e<d[I];e++){this.Vj(a,e,b,c)}};V.Sh=function(a,b,c,d){var e=a.e[b],f=e.c[c];if(f&&!f.ud&&f.i&&(!qv(e)||0!=e[dd]||rv(f,e))){var g=pv(f,e),b=this.eg(d,b,c);b.qb={};c=b.qb;a=At(a.bj,a.cj);d=1;W(a)||(a=So,d=0);switch(e[F]){case Pg:case hn:case wh:c.b=xt[Dc]();c.b.gc(a);e[F]==wh&&f.dm.O==a&&c.b.gc(g.O);c.b.bg(d);c.b.ee(1);e=f.i.Wf||f.i[vc]||f.i;g=g.H;f=c.b.H;c.rect=new js(e[C]+g/2+1.5+f/2,e.top+g/2+1.5+f/2,e[w]-(g+3+f),e[Q]-(g+3+f));(0>=c[vc][w]||0>=c[vc][Q])&&delete b.qb;break;case Ak:case Cg:case rm:case sh:b.gf=k,c.x=f.i.x,c.y=f.i.y,c.b=new wt({fill:a,rb:d,stroke:g.O,Qa:1}),c.Xb=tv(f,e)+1.5+c.b.H/2}}};V.Fs=function(a,b,c){var d=a.e[b];if((d[F]==Ak||d[F]==Cg||d[F]==rm)&&0<d[dd]){var e=this.Dh(c,b);e.qb={};var e=e.qb,f;f=d[F]==Cg?a.Vc?wv(d):vv(d,n):vv(d,a.Qe);f=f.yn();e.b=new wt({stroke:d.Ha.Jb,Qa:s.min(1,d.Ha.H/2)});e.path=Dx(f,-(d.Ha.H/2+2+e.b.H/2))}for(e=0;e<d.c[I];++e){f=d.c[e],!f||f.ud||rv(f,d)&&this.Sh(a,b,e,c)}};V.Es=function(a,b,c){for(var d=a.e,e=0;e<d[I];++e){this.Sh(a,e,b,c)}};V.Mw=function(a,b,c){var d=b.s.na,e=b.s.Xa,f=b.X.na,g=b.X.Xa,i=l;if(W(e)){i=this.eg(c,d,e);i.gf=k;e=this.Im(c,d);e.ba={B:a.im};for(e=0;e<a.e[I];e++){if(e!=d){var j=this.Dh(c,e),m=a.e[e];j.Ha=m.Ha[Dc]();j.Ha.bg(0.3)}}}a.f.pb&&this.ge.Tq(new hs(0,a.f.pb[C],a[Q],0));if(W(g)){i.K=this.ge.Mh(f,g)}if(a.f&&a.f[fc]==gk&&W(b.f.s.lc)){b=b.f.s.lc;e=this.Im(c,b);e.ba={B:a.im};for(var i=a.e[b].c,o,d=i[I]-1;0<=d;d--){if((f=i[d])&&!f.ud&&f.i&&(new hs(a.a.top,a.a[R],a.a[P],a.a[C]))[Tc](new $(f.i.x,f.i.y))){o=d;break}}if(W(o)&&(i=this.eg(c,b,o),i.gf=k,a.Ic!=U)){i.K=this.ge.Mh(b,o)}for(e=0;e<a.e[I];e++){if(e!=b){j=this.Dh(c,e),m=a.e[e],j.Ha=m.Ha[Dc](),j.Ha.bg(0.3)}}}};function Wx(a){this.Jo=ot(a,k);this.rl=sq(a);va(this.rl,xd);Na(this.rl,a[M]-2)}Wx[K].Zn=function(a,b){var c=[];if(!a.qh){var d=Mx(a[J],this.Jo);c[v](d)}d=Mx(b[fb],this.Jo);c[v](d);d=Mx(b.Hk,this.rl);c[v](d);return{d:c}};Wx[K].gp=function(){return{d:[]}};function Xx(a){this.ge=a}V=Xx[K];V.Co=function(a,b,c){this.Yl(a,b,c)};V.Kj=function(a,b){a.e=a.e||{};var c=a.e;c[b]=c[b]||{};return c[b]};V.Yl=function(a,b,c){for(var d=b[kb].Bk(),e=0;e<d[I];++e){this.Ys(a,d[e],c)}d=b.s.na;W(d)&&this.lo(a,d,c);e=b.X.na;if(W(e)){var f=this.Kj(c,e);if(a.Ic!=U){f.K=this.ge.Mh(e,l)}if(a.f[fc]==gk){c.Bc=px(a.Bc,d)}}b=b.f.s.lc;if(W(b)&&(this.lo(a,b,c),a.f[fc]==gk)){c.Bc=px(a.Bc,b)}};V.lo=function(a,b,c){var d=a.ea,a=a.e[b],c=this.Kj(c,b);c.xc={};b=c.xc;b.b=new wt({stroke:a.b.O,Qa:6.5,vd:0.3});b.bb=new $(d.Hb.x+a.Yc.x,d.Hb.y+a.Yc.y);b.ga=a.ga;b.ca=a.ca;b.Xc=a.Xc;var e=c.qb;e?(c=e.ka+e.b.H/2,d=e.ua+e.b.H/2):(c=d.ka+a.b.H/2,d=d.ua+a.b.H/2);b.ka=c+b.b.H/2;b.ua=d+b.b.H/2;d=sr(b.ga-90);c=sr(b.ca-90);b.Ba=kq(b.bb,lv(d,b.ka,b.ua));b.Ib=kq(b.bb,lv(c,b.ka,b.ua));if(e=a.C){b.C=b.C||{},b.C.b=yt(e.b.O,0.3),b.C.bb=b.bb[Dc](),b.C.ga=e.ga,b.C.ca=e.ca,b.C.ka=b.ka+b.b.H/2,b.C.ua=b.ua+b.b.H/2,d=sr(b.C.ga-90),c=sr(b.C.ca-90),b.C.Ba=kq(b.C.bb,lv(d,b.C.ka,b.C.ua)),b.C.Ib=kq(b.C.bb,lv(c,b.C.ka,b.C.ua))}b.xd=a.xd;b.ce=a.ce;if(b.xd||b.ce){b.sh=yt(a.sh.O,0.3),b.Pr=b.xd?d:c,a=function(a,b){return kq(a.bb,lv(a.Pr,a.ka+b*a.b.H/2,a.ua+b*a.b.H/2))},b.hf=a(b,-1),b.Ch=a(b,1)}};V.Ys=function(a,b,c){var d=a.ea;if(!(0<d.ej)){a=a.e[b],b=this.Kj(c,b),b.qb={},b=b.qb,b.b=zt(a.b.O,2),b.bb=new $(d.Hb.x+a.Yc.x,d.Hb.y+a.Yc.y),b.ga=a.ga,b.ca=a.ca,b.Xc=a.Xc,a=a.b.H/2+2.5+b.b.H/2,b.ka=d.ka+a,b.ua=d.ua+a,d=sr(b.ca-90),b.Ba=kq(b.bb,lv(sr(b.ga-90),b.ka,b.ua)),b.Ib=kq(b.bb,lv(d,b.ka,b.ua))}};function Yx(a,b){this.ue={};W(b.f.vf)&&this.Yt(a,b);var c=new Rx(a,this.Zt(a)),d=l,d=a.N==Dl?new Xx(c):new Sx(c);d.Co(a,b,this.ue)}Yx[K].Zt=function(a){return a.ae==Ei?new Wx(a.mj):new Qx(a)};Yx[K].Yt=function(a,b){this.ue.f=this.ue.f||{};var c=a.f,d=b.f.vf;this.ue.f.kc=c.ha[d];var e=d+1+xe+c.ha[I],f=c.qg.ok,g=0<d,c=c.qg.mk,d=d<a.f.ha[I]-1;this.ue.f.qg={ok:{b:g?f.cd.fd:f.cd.ei,fd:g},mk:{b:d?c.cd.fd:c.cd.ei,fd:d},nk:{text:e,d:{"0":{text:e}}}}};function Zx(a){this.sc=new Ss(50);this.aw=a;this.Me=p;this.Nf=0;Qr(this.sc,Jn,Z(this.Gl,this));this.sc[O]()}xp(Zx,zr);Zx[K].Da=function(a){this.Me=s.min(this.Me,a)};Zx[K].sw=function(){this.Me=p};Zx[K].Gl=function(){var a=wp();this.Me-=a-this.Nf;this.Nf=a;if(0>=this.Me){this.aw(),this.Me=p}};Zx[K].lb=function(){this.sc.cc();this.sc=l};function $x(a,b,c){this.n=this.l=l;this.Gd=a;this.St=b;this.ya=new Zx(c);this.Tt()}xp($x,zr);V=$x[K];V.Wt=function(a){this.l=a;return this};V.st=function(a){this.n=a;return this};V.ot=function(){this.ya.sw()};V.cc=function(){this.ya.cc();this.ya=l};V.hp=function(a){this.St[v](a)};V.jv=function(a){this.hp({type:Rh,entityName:a.va.ds});this.ya.Da(0)};V.hv=function(a){if(this.l.jc==xh){var b=this.l.Ic,a=new $(a.dd[Wb],a.dd[Xb]);Ia(this.n[gc],a);a=this.uk(a);this.n.s.Bb=a;if(b==Hj){this.n.X.Bb=a}this.ya.Da(50)}};V.iv=function(){this.l.jc==xh&&(this.Do(),this.ya.Da(50))};V.tp=function(a){var b=this.l;b.jc==xh&&(a=this.uk(new $(a.dd[Wb],a.dd[Xb])),W(a)&&(this.n[kb].pk(b.v[a].wc,b.vh==Mm),this.ya.Da(50)))};V.ov=function(a){this.n.f.s.lc=a.va.Fh;this.ya.Da(50)};V.pv=function(){this.n.f.s.lc=l;this.ya.Da(250)};V.nv=function(a){this.So(a.va.Fh);this.ya.Da(50)};V.qv=function(a){if(!W(this.n.f.vf)){this.n.f.vf=0}this.n.f.vf+=a.va.cs;this.ya.Da(50)};V.tv=function(a){var b=this.l,c=a.va.$;this.n.s.na=c;var d=b.Ic;if(d==Hj){this.n.X.na=c}if(b.ae==Ei){for(var b=b.e[c].c,c=Np(b,function(a){return W(a)}),a=a.dd[Wb],e=0;e<c[I]&&c[e].i.x<a;e++){}var f=0==e?0:l,f=e==c[I]?c[I]-1:l;ip(f)&&(a=a<ur(c[e-1].i.x,c[e].i.x)?e-1:e,f=Lp(b,c[a]));this.n.s.Xa=f;if(d==Hj){this.n.X.Xa=f}}this.ya.Da(50)};V.uv=function(){var a=this.l;this.jo();if(a.ae==Ei&&(this.n.s.Xa=l,this.l.Ic==Hj)){this.n.X.Xa=l}this.ya.Da(250)};V.sv=function(a){this.So(a.va.$);this.ya.Da(50)};V.rv=function(a){this.hp({type:cm,index:a.va.Fh});this.ya.Da(0)};V.lv=function(a){this.n.s.na=a.va.$;this.n.s.Xa=a.va.Sa;if(this.l.Ic==Hj){this.n.X.Xa=a.va.Sa,this.n.X.na=a.va.$}this.ya.Da(50)};V.mv=function(){this.Gk();this.ya.Da(250)};V.kv=function(a){var b=this.l,c=b.vh==Mm,d=b.e[a.va.$];b.N==oh?(a=d.c[a.va.Sa].wc,this.n[kb].pk(a,c)):(a=a.va.Sa,this.n[kb].En(a,d.wc,c));this.ya.Da(50)};V.fv=function(a){this.n.Ob.s.Md=a.va.Sa;this.n.Ob.s.w=this.Un(a.va.$);this.Gk();this.ya.Da(50)};V.gv=function(){this.n.Ob.s.Md=l;this.n.Ob.s.w=l;this.ya.Da(250)};V.ev=function(a){for(var b=this.l.vh==Mm,c=a.va.Sa,d=this.Un(a.va.$),e=0;e<d[I];++e){this.n[kb].En(c,d[e],b)}a.dd[tc]();this.ya.Da(50)};V.xv=function(a){var b=this.l.Ic;switch(this.l.jc){case ri:this.n.s.Xa=a.va.Sa;this.n.s.na=a.va.$;if(b==Hj){this.n.X.Xa=a.va.Sa,this.n.X.na=a.va.$}break;case ym:this.n.s.na=a.va.$;if(b==Hj){this.n.X.na=a.va.$}break;case xh:if(a=new $(a.dd[Wb],a.dd[Xb]),Ia(this.n[gc],a),a=this.uk(a),this.n.s.Bb=a,b==Hj){this.n.X.Bb=a}}this.ya.Da(50)};V.yv=function(){switch(this.l.jc){case ri:this.Gk();break;case ym:this.jo();break;case xh:this.Do()}this.ya.Da(750)};V.wv=function(a){this.tp(a)};V.vv=function(a){a.dd[tc]()};V.Gk=function(){this.n.s.na=l;this.n.s.Xa=l;if(this.l.Ic==Hj){this.n.X.Xa=l,this.n.X.na=l}};V.jo=function(){this.n.s.na=l;if(this.l.Ic==Hj){this.n.X.na=l}};V.Do=function(){Ia(this.n[gc],l);this.n.s.Bb=l;if(this.l.Ic==Hj){this.n.X.Bb=l}};V.Un=function(a){var b=this.l,c=[];if(W(a)){c=b.e[a].w.annotation}else{for(a=0;a<b.Zc[I];++a){Zp(c,b.Zc[a].w.annotation)}}return c};V.Tt=function(){var a=Z(function(a,c){Qr(this.Gd,a,Z(c,this))},this);a(Lh,this.jv);a(zh,this.hv);a(Ah,this.iv);a(yh,this.tp);a(uk,this.ov);a(vk,this.pv);a(tk,this.nv);a(xk,this.qv);a(wm,this.tv);a(xm,this.uv);a(vm,this.sv);a(bm,this.rv);a(ti,this.lv);a(ui,this.mv);a(si,this.kv);a(ug,this.fv);a(vg,this.gv);a(tg,this.ev);a(bo,this.xv);a(co,this.yv);a($n,this.wv);a(nn,this.vv)};V.uk=function(a){var b=this.l,c=b.a,d=a.x,e=a.y;if(d<=c[C]||d>=c[R]||e<=c.top||e>=c[P]){return l}b=b.v;for(c=0;c<b[I];c++){if((d=b[c].Ls)&&d[Tc](a)){return c}}return l};V.So=function(a){var b=this.l,c=b.vh==Mm,a=b.e[a].wc;b.N==Dl?this.n[kb].pk(a,c):this.n[kb].Zs(a,c)};function ay(a,b){ov[N](this,a,b);this.di=this.wj=l}xp(ay,ov);V=ay[K];V.Mn=function(a,b){var c=this.g;if(1>a.e[I]){return n}this.wj=b;for(var d=0;d<a.e[I]&&180>a.e[d].ca;){this.Pg(a.e[d]),d+=1}a.ea.zj&&this.Pg(a.ea.zj);for(var e=a.e[I]-1;e>=d;e--){this.Pg(a.e[e])}if(a.Bc){this.di=c.ja(),this.Yn(a.Bc),c[t](this.wj,this.di)}return k};V.Pg=function(a){if(a.B){var b=this.g.ja(),c=this.Ia,d=c.ea.ka,e=c.ea.ua,f=c.ea.Hb,g=a.Yc;if(a.C){var i=c.ea.ej,j=a.C,m=new Et;m[rb](g.x+j.Ba.x,g.y+j.Ba.y);m.G(g.x+j.Ba.x,g.y+j.Ba.y+i);m.jb(g.x+f.x,g.y+f.y+i,d,e,j.ga,j.ca,k);m.G(g.x+j.Ib.x,g.y+j.Ib.y);m.jb(g.x+f.x,g.y+f.y,d,e,j.ca,j.ga,n);this.g.xa(m,j.b,b)}if(a.xd||a.ce){i=c.ea.ej,c=new Et,c[rb](g.x+f.x,g.y+f.y),c.G(g.x+f.x,g.y+f.y+i),a.ce&&(c.G(g.x+a.Ib.x,g.y+a.Ib.y+i),c.G(g.x+a.Ib.x,g.y+a.Ib.y)),a.xd&&(c.G(g.x+a.Ba.x,g.y+a.Ba.y+i),c.G(g.x+a.Ba.x,g.y+a.Ba.y)),this.g.xa(c,a.sh,b)}a.Xc?0==a.$f&&0==a.Ye?this.g.um(f.x,f.y,d,e,a.b,b):(c=new Et,c[rb](f.x,f.y-e),c.jb(f.x,f.y,d,e,0,180,k),c.jb(f.x,f.y,d,e,180,360,k),c[rb](f.x,f.y-a.Ye),c.jb(f.x,f.y,a.$f,a.Ye,360,180,n),c.jb(f.x,f.y,a.$f,a.Ye,180,0,n),c[Ac](),this.g.xa(c,a.b,b)):(c=new Et,c[rb](g.x+a.jm.x,g.y+a.jm.y),c.G(g.x+a.Ba.x,g.y+a.Ba.y),c.jb(g.x+f.x,g.y+f.y,d,e,a.ga,a.ca,k),c.G(g.x+a.km.x,g.y+a.km.y),c.jb(g.x+f.x,g.y+f.y,a.$f,a.Ye,a.ca,a.ga,n),this.g.xa(c,a.b,b));a.qb&&this.wm(a.qb,b);if(d=a.xc){d.C&&(e=new Et,e[rb](d.C.Ba.x,d.C.Ba.y),e.G(d.C.Ba.x,d.C.Ba.y+i),e.jb(d.C.bb.x,d.C.bb.y+i,d.C.ka,d.C.ua,d.C.ga,d.C.ca,k),e.G(d.C.Ib.x,d.C.Ib.y),e.jb(d.C.bb.x,d.C.bb.y,d.C.ka,d.C.ua,d.C.ca,d.C.ga,n),this.g.xa(e,d.C.b,b));if(d.xd||d.ce){e=new Et,e[rb](d.hf.x,d.hf.y),e.G(d.Ch.x,d.Ch.y),e.G(d.Ch.x,d.Ch.y+i),e.G(d.hf.x,d.hf.y+i),e.G(d.hf.x,d.hf.y),this.g.xa(e,d.sh,b)}this.wm(d,b)}a.nj&&this.g.rh(a[x],a.oj.x+g.x,a.oj.y+g.y,a.Bh[w],fn,fn,a.t,b);g=Hu([Vm,a[ic]]);b=b.q();this.yc(this.wj,g,b);a.K&&this.wh(a.K,a[ic]);this.Ia.z&&a.z&&this.zc(b,{click:vm,mouseover:wm,mouseout:xm},{$:a[ic]})}};V.wm=function(a,b){if(a.Xc){this.g.um(a.bb.x,a.bb.y,a.ka,a.ua,a.b,b)}else{var c=new Et;c[rb](a.Ba.x,a.Ba.y);c.jb(a.bb.x,a.bb.y,a.ka,a.ua,a.ga,a.ca,k);this.g.xa(c,a.b,b)}};V.Yn=function(a){for(var b=Z(this.yd,this),c=this.g,d=Z(this.zc,this),e=this.di,f=0;f<a[I];++f){var g=a[f],i=c.ja(),j=c.ja(),m=new Et;m[rb](g.Kb.x+0.5,g.Kb.y+0.5);m.G(g.cn+0.5,g.Kb.y+0.5);m.G(g.cn+0.5,g.Lc.y+0.5);m.G(g.Lc.x+0.5,g.Lc.y+0.5);c.xa(m,g.Ha,j);c.Zj(g.Kb.x+0.5,g.Kb.y+0.5,g.bn,g.vr,j);b(g.ef,i);b(g.ff,i);c[t](e,i);c[t](e,j);g.z&&(g={Fh:g[ic]},i=i.q(),d(i,{click:tk,mouseover:uk,mouseout:vk},g))}};V.Xn=function(a,b){if(!lu(b.Bc,this.se.Bc)){this.g.Ng(this.di);var c=new ju(2);c.Lb(0,a.Bc||{});c.Lb(1,b.Bc||{});this.Yn(c[ad]())}this.il(a,this.se);this.hl(a,b)};V.il=function(a,b){for(var c in b.e){b.e[c].K&&this.Mk(ea(c)),this.Pg(a.e[c])}};V.hl=function(a,b){for(var c in b.e){var d=a.e[c],e=new ju(2);e.Lb(0,d);e.Lb(1,b.e[c]);this.Pg(e[ad]())}};function by(a,b,c){this.Bx=b;W(c)&&Qr(this,Yl,c);this.k=this.l=l;this.wb=a;this.kd=this.Rd=this.Cg=this.n=this.zg=l;this.Nk=[];this.Gd=new Rs;a=Z(this.ji,this,k);this.Pd=new $x(this.Gd,this.Nk,a)}xp(by,Rs);V=by[K];V.Zk=function(){return this.Rd};V.Gg=function(){return this.l};V.draw=function(a,b,c){this.Pd.ot();b.isStacked&&b.vAxis&&b.vAxis.baseline&&h(r("Cannot set a non-zero base-line for a stacked chart"));var d=b.theme||[];jp(d)||(d=[d]);for(var b=[b],e=0;e<d[I];++e){var f;if(np(d[e])){f=d[e];if(!dx){var g={colors:[{color:Md,dark:Ed,light:Rd},{color:Id,dark:Fd,light:Pd},{color:Ld,dark:Dd,light:Td},{color:Cd,dark:zd,light:Kd},{color:Qd,dark:Jd,light:Od},{color:Bd,dark:yd,light:Gd}],backgroundColor:{gradient:{color1:Ad,color2:wd,x1:De,y1:De,x2:Ke,y2:Ke}},titleTextStyle:{color:So},hAxis:{textStyle:{color:So},titleTextStyle:{color:So}},vAxis:{textStyle:{color:So},titleTextStyle:{color:So}},legend:{textStyle:{color:So}},axisBackgroundColor:{stroke:Nd,fill:U},areaOpacity:0.8};cx.classic=g;g={titlePosition:Pj,axisTitlesPosition:Pj,legend:{position:Pj},chartArea:{width:Ke,height:Ke},vAxis:{textPosition:Pj},hAxis:{textPosition:Pj}};cx.maximized=g;g={enableInteractivity:n,legend:{position:U},seriesType:Cg,lineWidth:1.6,chartArea:{width:Ke,height:Ke},vAxis:{textPosition:U,gridlines:{color:U},baselineColor:U},hAxis:{textPosition:U,gridlines:{color:U},baselineColor:U,type:Bh}};cx.sparkline=g;dx=k}f=cx[f]}else{mp(d[e])?f=d[e]:h(r("Theme should be a theme name or an options object."))}b[v](f)}b[v](Gu);this.k=new Nt(b);this.vn=this.k.Uk(To)||this.wb[kc]||400;this.Fg=this.k.Uk(Bj)||this.wb[Mc]||200;d=new lq(this.vn,this.Fg);if(W(this.Rd)){this.Rd.tt(d)}else{try{this.Rd=new au(this.wb,d)}catch(i){h(r("Your browser does not support charts"))}}this.n=new Kx(c);this.Pd.st(this.n);this.jj=a;this.Rd.Og(Z(this.pt,this))};V.pt=function(a){var b;this.kd?(b=this.kd.Jn,this.tk()):b=this.l;var c=(new sx(this.jj,this.k,Z(a.Ln,a),this.vn,this.Fg)).Gg();this.zg=c.N==Dl?new ay(a,this.Gd):new xv(a,this.Gd);var d=this.k;(a=d.da(ng,0))?(d=d.ia(og,fu,Dk),d=gu(d),a={duration:a,ws:d}):a=l;a&&b&&b.N==c.N&&b[w]==c[w]&&b[Q]==c[Q]&&b.a.top==c.a.top&&b.a[P]==c.a[P]&&b.a[C]==c.a[C]&&b.a[R]==c.a[R]?(this.l=l,d=wp(),this.kd={zx:b,ns:c,ms:new tx(b,c),Jn:b,startTime:d,ls:d+a.duration,Kn:0,yk:new Ss(10),ks:a.ws,Hn:n},this.Qn(),Qr(this.kd.yk,Jn,Z(this.Qn,this)),this.kd.yk[O]()):(this.l=c,this.In());this[ub]({type:Yl})};V.clearChart=function(){this.kd&&this.tk();this.Pd.cc();Xr(this.Gd);this.Rd.cc();this.Rd=l;Xr(this)};V.setSelection=function(a){var b=this.yo();this.n[kb][Nb](a);this.ji(n);this.xo(b)};V.getSelection=function(){return this.Cg[kb][lc]()};V.ji=function(a){this.Rd.Og(Z(this.Jw,this,a))};V.Jw=function(a){var b=[];if(!this.n.Od(this.Cg)){this.zg.Rt(this.l,(new Yx(this.l,this.n)).ue),a&&(b=this.yo()),this.Cg=this.n[Dc]()}a&&(b=Xp(this.Nk,b),Vp(this.Nk),this.xo(b))};V.yo=function(){var a=this.n,b=this.Cg,c=l,d=[],e=a.s,f=b.s;if(e.na!=f.na||e.Xa!=f.Xa){W(f.na)&&d[v](this.li(ll,f.na,f.Xa)),W(e.na)&&d[v](this.li(ml,e.na,e.Xa))}if(e.Bb!=f.Bb){if(W(f.Bb)){c=f=f.Bb,d[v]({type:ll,row:c,column:l})}if(W(e.Bb)){c=f=e.Bb,d[v]({type:ml,row:c,column:l})}}e=a.Ob.s;f=b.Ob.s;if(e.Md!=f.Md||!eq(e.w,f.w)){if(W(f.Md)||f.w){c=f.Md,Mp(f.w,function(a){d[v]({type:ll,row:c,column:a})})}if(W(e.Md)||e.w){c=e.Md,Mp(e.w,function(a){d[v]({type:ml,row:c,column:a})})}}e=a.f.s;f=b.f.s;e.lc!=f.lc&&(W(f.lc)&&d[v](this.li(ll,f.lc,l)),W(e.lc)&&d[v](this.li(ml,e.lc,l)));a[kb].Od(b[kb])||d[v]({type:tm});return d};V.li=function(a,b,c){var d=this.l,b=d.e[b];d.N==Dl?(c=b.wc,d=l):(c=d.N==oh?b.c[c].wc:c,d=b.wc);return{type:a,row:c,column:d}};V.xo=function(a){for(var b=0;b<a[I];++b){this[ub](a[b])}};V.In=function(){this.zg.drawChart(this.l,(new Yx(this.l,this.n)).ue);this.Cg=this.n[Dc]();this.Pd.Wt(this.l)};V.Qn=function(){var a=this.kd;if(a.Hn){this.tk(),this.l=a.ns,this.In(),this[ub]({type:qg})}else{var b=wp(),c=(b-a.startTime)/(a.ls-a.startTime);if(1>c){if(b-a.Kn<1000/30){return}}else{c=1,a.Hn=k}c=a.ms.Ut(a.ks(c));c.z=n;a.Jn=c;a.Kn=b;this.zg.drawChart(c,{})}};V.tk=function(){this.kd.yk.cc();this.kd=l};function cy(a){a=dy(a);return eval(de+a+fe)}function ey(a,b){var a=b(a),c=gp(a);if(c==il||c==Fg){var c=c==Fg?[]:{},d;for(d in a){var e=ey(a[d],b);hp(e)&&(c[d]=e)}}else{c=a}return c}function dy(a){return a[bb](/"(Date\([\d,\s]*\))"/g,function(a,c){return cl+c})}function fy(a){lp(a)&&(a=0!==a.getMilliseconds()?[a[Lc](),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()]:0!==a.getSeconds()||0!==a.getMinutes()||0!==a.getHours()?[a[Lc](),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()]:[a[Lc](),a.getMonth(),a.getDate()],a=xf+a[cd](ie)+fe);return a}function gy(a){this.Hx=hy++;this.ip=this.Hi=U;this.ub=Gj;this.To=l;mp(a)&&0<a[cb]||h(r("Container is not defined"));this.wb=a;this.Vu=Wt(this,a);this.ul=n;this.qa=l}var hy=0;V=gy[K];V.Fu=function(){if(!this.qa){this.qa=new by(this.wb,Z(this.up,this),Z(this.Mv,this)),Qr(this.qa,qg,Z(this.Kv,this)),Qr(this.qa,tm,Z(this.Ov,this)),Qr(this.qa,Rh,Z(this.Lv,this)),Qr(this.qa,ml,Z(this.Ap,this,k)),Qr(this.qa,ll,Z(this.Ap,this,n)),Qr(this.qa,cm,Z(this.Nv,this))}};V.setChartType=function(a,b,c,d){this.Hi=a;if(W(b)){this.ip=b}if(W(c)){this.ub=c}if(W(d)){this.To=d}};V.up=function(a,b){var c;var d=this.Vu;try{c=a[N](b)}catch(e){d.addError(e.message)}return c};V.draw=function(a,b,c){this.up(function(){this.Xk(a,b,c)},this)};V.Xk=function(a,b,c){b=b||{};b=ey(b,fy);b=(new cs(ba)).Gu(b);bs(b);b=cy(b);this.Fu();this.Hu(b);this.Iu(b);Ca(b,b[Qb]||this.ub);b.theme=b.theme||this.To;if(this.Hi!=U){var d=b;d.hAxis=d.hAxis||{};d.vAxis=d.vAxis||{};var e=d.hAxis,f=d.vAxis,g=l;switch(d[F]){case rm:g=f;break;case T:d.targetAxis=d.targetAxis||{},g=d.targetAxis}g&&(iy(d,Pk,g,Rk),iy(d,Kk,g,Mk),iy(d,Gk,g,Gk));e&&(iy(d,Hk,e,Gk),iy(d,Sn,e,Nn));f&&iy(d,Tn,f,Nn);d.smoothLine&&!hp(d.curveType)&&(d.curveType=T);iy(d,Bk,d,Ck);iy(d,em,d,fm)}d=b;jy(d,On,Pn,Rn);jy(d,yk,wk,zk);ky(d.hAxis);for(var i in d.hAxes){ky(d.hAxes[i])}ky(d.vAxis);for(i in d.vAxes){ky(d.vAxes[i])}i=d.tooltip;if(!W(i)){i={},d.tooltip=i}jy(d,fo,ao,go);iy(d,go,i,Hn);iy(d,eo,i,An);iy(d,ho,i,no);i=d.legend;if(W(i)){if(typeof i==pn){e=i,i={},d.legend=i,Ia(i,e)}}else{i={},d.legend=i}iy(d,zk,i,Hn);i=d.animation;if(W(i)){if(typeof i==gl){e=1000*i,i={},d.animation=i,i.duration=e}}else{i={},d.animation=i}iy(d,pg,i,Ji);google[wc][Yc][Ic](this.wb);a||h(r("Data table is not defined"));this.Eu=(i=a[Fb](0)!=gl)?1:0;this.Ex=a[dc]();if(this.Hi==Dl){if(i&&1==a[mb]()){a=google[wc][A].group(a,[0],[{column:0,aggregation:google[wc][A].count,type:gl}]),this.ul=k}else{if(b.aggregate&&i){a=google[wc][A].group(a,[0],[{column:this.Eu,aggregation:google[wc][A].sum,type:gl}]),this.ul=k}}}this.qa[Kc](a,b,c)};V.Ap=function(a,b){google[wc][eb][Xa](this,a?ml:ll,{row:b.row,column:b.column})};V.Mv=function(){google[wc][eb][Xa](this,Yl,l)};V.Kv=function(){google[wc][eb][Xa](this,qg,l)};V.Ov=function(){google[wc][eb][Xa](this,tm,l)};V.Lv=function(a){google[wc][eb][Xa](this,Rh,{entityName:a.entityName})};V.Nv=function(a){google[wc][eb][Xa](this,cm,{index:a[ic]})};V.getSelection=function(){return this.ul?l:this.qa[lc]()};V.setSelection=function(a){this.qa[Nb](a)};V.Hu=function(a){switch(a[F]){case Ak:this[jc](T,Ak,Gj);Aa(a,l);break;case Cg:this[jc](T,Cg,Gj);Aa(a,l);break;case gi:this[jc](T,Pg,Gj);Aa(a,l);break;case Pg:this[jc](T,Pg,Ko);Aa(a,l);break;case rm:this[jc](rm);Aa(a,l);break;case Dl:this[jc](Dl),Aa(a,l)}var b=this.Hi;b==U&&(b=l);var c=a[F]||U;c==U&&(c=l);!b&&!c&&h(r("Unspecified chart type."));b&&c&&b!=c&&h(r("Incompatible chart types."));Aa(a,b||c)};V.Iu=function(a){if(a[F]==T){var b=this.ip;b==U&&(b=l);var c=a.seriesType||U;c==U&&(c=l);b&&c&&b!=c&&h(r("Incompatible default series types."));a.seriesType=b||c}};function ky(a){if(W(a)){jy(a,Dn,Fn,Hn);jy(a,On,Pn,Rn);a.gridlines=a.gridlines||{};var b=a.gridlines,c=a.numberOfSections;!hp(b.count)&&hp(c)&&typeof c==gl&&(b.count=c+1);a=a.gridlineColor;!hp(b[tb])&&hp(a)&&va(b,a)}}function jy(a,b,c,d){a[d]=a[d]||{};d=a[d];iy(a,b,d,Yh);iy(a,c,d,dj)}function iy(a,b,c,d){hp(a[b])&&!hp(c[d])&&(c[d]=a[b])}V.clearChart=function(){this.qa.clearChart()};V.ox=function(){var a=this.qa.zg.Og();return a.Qp?a.Qp():S};V.Zk=function(){return this.qa.Zk()};V.Gg=function(){return this.qa.Gg()};function ly(a){gy[N](this,a);this[jc](T,Cg,Gj)}xp(ly,gy);function my(a){gy[N](this,a);this[jc](T,hn,Gj)}xp(my,gy);function ny(a){gy[N](this,a);this[jc](T,U,Gj,bn)}xp(ny,gy);function oy(a){gy[N](this,a);this[jc](T,Ak,Gj)}xp(oy,gy);function py(a){gy[N](this,a);this[jc](rm)}xp(py,gy);function uy(a){gy[N](this,a);this[jc](oh)}xp(uy,gy);function vy(a){gy[N](this,a);this[jc](T,Pg,Ko)}xp(vy,gy);function wy(a){gy[N](this,a);this[jc](T,wh,Gj)}xp(wy,gy);function xy(a){gy[N](this,a);this[jc](T,Pg,Gj)}xp(xy,gy);function yy(a){gy[N](this,a);this[jc](T,U,Gj)}xp(yy,gy);function zy(a){gy[N](this,a);this[jc](Dl)}xp(zy,gy);function Ay(a){this.ed={};this.Ck=this.ki=this.Nb=this.l=this.qa=l;this.wb=a;this.Ek=50;this.ni=1;this.ii=n;this.Zb={Na:{start:l,end:l},Lk:l,vb:l};this.Sd=l}xp(Ay,Rs);var By={Hv:fn,dy:Ni,vp:ih,Gv:dm},Cy={nn:"rangeSelectorStartHandle",mn:"rangeSelectorEndHandle",pn:"rangeSelectorStartScreen",on:"rangeSelectorEndScreen"},Dy={oy:Hf,Nx:qf,Yx:vf,Hy:Tf},Ey={chartArea:{top:Ae,height:Ke},enableInteractivity:n,legend:{position:U},hAxis:{textPosition:Pj},vAxis:{textPosition:U,gridlines:{color:U}}},Fy={qn:{b:new wt({stroke:"#000",fill:Sd}),Bg:new lq(11,18),Dn:3},Cn:new wt({fill:Hd,rb:0.5}),Bn:new wt({fill:"#000",rb:0})};V=Ay[K];V.draw=function(a,b,c){this.ed={};var c=c||{},b=new Nt([b||{}]),d=mu(b.fi(Mh));d.theme=Ey;if(!W(this.ki)){this.ki=new Zx(Z(this.ji,this,k))}if(!W(this.Dx)){this.Ck=new Zx(Z(this.Sk,this,k))}this.Ek=b.be(Wl,50);this.ii=b.za(Zm,this.ii);switch(b.ia(Nh,Dy,vf)){case Hf:this.qa=new oy(this.wb);break;case qf:this.qa=new ly(this.wb);break;case vf:this.qa=new yy(this.wb);break;case Tf:this.qa=new py(this.wb)}google[wc][eb].addListener(this.qa,Yl,Z(this.Xt,this,a,c,b.be(Qk)));this.qa[Kc](a,d)};V.wt=function(a,b){for(var c=b[dc](),d=[],e=0;e<c;e++){var f=b[H](e,0);W(f)&&d[v](a.L.mc(f))}return d};V.xt=function(a,b){if(0>=b){this.ni=1}var c=0,c=a.L.jf(a.sb),d=l;lp(c)?(d=new Date,d[Qc](c[Vb]()+b)):d=c+b;c=s[db](s.abs(a.L.mc(d)-a.sb));c=s.max(c,1);this.ni=c<s.abs(a.ob-a.sb)?c:1};V.Xt=function(a,b,c){this.l=this.qa.Gg();var d=this.l.ta[0];if(W(d.L)){this.xt(d,c);if(this.ii){this.Sd=this.wt(d,a)}this.qa.Zk().Og(Z(this.Xk,this,b))}};V.Xk=function(a,b){this.Nb=b;var c=a.range,d=mp(c)?c[O]:ba,c=mp(c)?c.end:ba,e=this.wn(d,c);this.Zb.Na=e;c=b.ja(n);b[t](l,c);var f=Fy.qn,g=this.l;b.Wa(0,0,g[w],g[Q],Fy.Bn,c);var d=b.Wa(g.a[C],g.a.top,g.a[w],g.a[Q],Fy.Bn,c),i=b.Wa(g.a[C],g.a.top,e[O]-g.a[C],g.a[Q],Fy.Cn,c);this.ed[Cy.pn]=i;i=b.Wa(e.end,g.a.top,g.a[w]+g.a[C]-e.end,g.a[Q],Fy.Cn,c);this.ed[Cy.on]=i;i=this.An(e[O],g.a.top,g.a[Q],f.Bg[w],f.Bg[Q],f.Dn,b,f.b,c);this.ed[Cy.nn]=i;e=this.An(e.end,g.a.top,g.a[Q],f.Bg[w],f.Bg[Q],f.Dn,b,f.b,c);this.ed[Cy.mn]=e;c=c.q();Qr(c,Vk,Z(this.gs,this));Qr(c,Wk,Z(this.Jg,this,{type:sm,Ig:n}));Qr(c,Yk,Z(this.sk,this));this.zn(i,fn,fn);this.zn(e,Ni,Ni);Qr(d,Uk,Z(this.xn,this,{vb:ih}));Qr(d,Xk,Z(this.Jg,this,{type:sm,Ig:k}));Qr(d,Wk,Z(this.Jg,this,{type:sm,Ig:n}));google[wc][eb][Xa](this,Yl,l)};V.zn=function(a,b,c){Qr(a,Uk,Z(this.xn,this,{vb:c}));Qr(a,Xk,Z(this.Jg,this,{type:b,Ig:k}));Qr(a,Wk,Z(this.Jg,this,{type:b,Ig:n}));Qr(a,Yk,Z(this.sk,this))};V.An=function(a,b,c,d,e,f,g,i,j){var m=s[B](0.5*d),o=g.ja(n);g[t](j,o);g.Kg(o.q(),a-m,b);this.Qu(m,0,c,g,i,o);this.Ru(0,0.5*(c-e),d,e,f,g,i,o);return o.q()};V.Qu=function(a,b,c,d,e,f){a=Ft([{x:a,y:b},{x:a,y:b+c}]);d.xa(a,e,f)};V.Ru=function(a,b,c,d,e,f,g,i){var c=a+c,d=b+d,j=Ft([{x:a+e,y:b},{x:c-e,y:b},{x:c,y:b+e},{x:c,y:d-e},{x:c-e,y:d},{x:a+e,y:d},{x:a,y:d-e},{x:a,y:b+e}],n);f.xa(j,g,i);e+=1;a=Ft([{x:a+e,y:b+e},{x:a+e,y:d-e}]);f.xa(a,g,i);b=Ft([{x:c-e,y:b+e},{x:c-e,y:d-e}]);f.xa(b,g,i)};V.wn=function(a,b){var c=this.l.ta[0],d=c.L.jf(c.sb),e=c.L.jf(c.ob),f=W(a)?a:d,g=W(b)?b:e,d=c.L.sg(d),e=c.L.sg(e),i=c.L.sg(f),j=c.L.sg(g);return d<=i&&i<=j&&j<=e?{start:c.L.mc(f),end:c.L.mc(g)}:{start:c.sb,end:c.ob}};V.getRange=function(){var a=this.l.ta[0],b=this.Zb.Na;return{start:a.L.jf(b[O]),end:a.L.jf(b.end)}};V.setRange=function(a,b){var c=this.Zb.Na;if(!W(c[O])||!W(c.end)){return n}c=this.wn(a,b);return this.mp(c[O],c.end)};V.mp=function(a,b){var c=this.Zb.Na;if(c[O]==a&&c.end==b){return n}this.Zb.Na={start:a,end:b};this.Zb.vb=dm;this.Cp();return k};V.Cp=function(){var a=this.l.ta[0],b=a.sb,a=a.ob,c=this.Zb;if(c.vb==dm){c.vb=l}var d=0,e=s[B](0.5*Fy.qn.Bg[w]);c.vb!=Ni&&(d=s.min(c.Na[O],c.Na.end),d>=b&&(this.Nb.Kg(this.ed[Cy.nn],d-e,0),this.Nb.Qk(this.ed[Cy.pn],d-b)));c.vb!=fn&&(d=s.max(c.Na[O],c.Na.end),b=this.ed[Cy.on],c=this.ed[Cy.mn],a>=d&&(this.Nb.Qk(b,a-d),this.Nb.no(b,d),this.Nb.Kg(c,d-e,0)))};V.gs=function(a){var b=this.Zb;if(W(b.vb)){Ja(a[Ec][zc],Zk);var c=this.l.ta[0],d=c.sb,e=c.ob;if(!b.Na||!W(b.Na[O])||!W(b.Na.end)){b.Na={start:d,end:e}}c=a[Wb];d=this.gt(d,e,c-b.Lk);b.Lk=c;if(b.vb!=Ni){b.Na.start=b.Na[O]+d}b.vb!=fn&&(b.Na.end+=d);this.ki.Da(this.Ek);this.Ck.Da(this.Ek);a[ob]()}};V.gt=function(a,b,c){var d=this.Zb.Na,e=this.Zb.vb;e==By.vp||e==By.Gv?(a-=d[O],b-=d.end):e==By.Hv?(a-=d[O],b=d.end-d[O]-this.ni):(a=d[O]-d.end+this.ni,b-=d.end);return pr(c,a,b)};V.xn=function(a,b){if(b.lp()){var c=this.Zb;c.Lk=b[Wb];c.vb=a.vb;b[ob]()}};V.sk=function(a){if(a.lp()){var b=this.Zb;W(b.vb)&&W(b.Na)&&(this.ii?this.mp(this.sp(b.Na[O]),this.sp(b.Na.end))&&this.Sk(n):this.Sk(n));b.vb=l;a[ob]()}};V.sp=function(a){for(var b=this.Sd[I],c=0;c<b-1;c++){if(a<=this.Sd[c+1]&&a>=this.Sd[c]){return a-this.Sd[c]<this.Sd[c+1]-a?this.Sd[c]:this.Sd[c+1]}}return a};V.Jg=function(a,b){this.Zb.vb?this.Xv(b[Wb],b[Xb])||this.sk(b):Ja(b[Ec][zc],a.Ig?a[F]==sm?Zk:Xh:yi)};V.Xv=function(a,b){var c=this.l.a;return a>c[C]&&a<c[C]+c[w]&&b>c.top&&b<c.top+c[Q]};V.ji=function(){this.Cp()};V.Sk=function(a){var b=this.getRange();W(b)&&google[wc][eb][Xa](this,Xl,{start:b[O],end:b.end,inProgress:a})};V.Fp=function(a){W(a)&&a.cc()};V.clearChart=function(){this.Fp(this.ki);this.Fp(this.Ck);this.qa.clearChart();this.Nb=l;Xr(this)};ca("google.visualization.CoreChart",gy);la(gy[K],Hi,gy[K][Kc]);la(gy[K],pj,gy[K][lc]);la(gy[K],Fm,gy[K][Nb]);la(gy[K],"dump",gy[K].ox);la(gy[K],"clearChart",gy[K].clearChart);ca("google.visualization.AreaChart",ly);la(ly[K],Hi,ly[K][Kc]);la(ly[K],pj,ly[K][lc]);la(ly[K],Fm,ly[K][Nb]);ca("google.visualization.BarChart",vy);la(vy[K],Hi,vy[K][Kc]);la(vy[K],pj,vy[K][lc]);la(vy[K],Fm,vy[K][Nb]);ca("google.visualization.BubbleChart",uy);la(uy[K],Hi,uy[K][Kc]);la(uy[K],pj,uy[K][lc]);la(uy[K],Fm,uy[K][Nb]);ca("google.visualization.CandlestickChart",wy);la(wy[K],Hi,wy[K][Kc]);la(wy[K],pj,wy[K][lc]);la(wy[K],Fm,wy[K][Nb]);ca("google.visualization.ColumnChart",xy);la(xy[K],Hi,xy[K][Kc]);la(xy[K],pj,xy[K][lc]);la(xy[K],Fm,xy[K][Nb]);ca("google.visualization.ComboChart",yy);la(yy[K],Hi,yy[K][Kc]);la(yy[K],pj,yy[K][lc]);la(yy[K],Fm,yy[K][Nb]);ca("google.visualization.LineChart",oy);la(oy[K],Hi,oy[K][Kc]);la(oy[K],pj,oy[K][lc]);la(oy[K],Fm,oy[K][Nb]);ca("google.visualization.PieChart",zy);la(zy[K],Hi,zy[K][Kc]);la(zy[K],pj,zy[K][lc]);la(zy[K],Fm,zy[K][Nb]);ca("google.visualization.ScatterChart",py);la(py[K],Hi,py[K][Kc]);la(py[K],pj,py[K][lc]);la(py[K],Fm,py[K][Nb]);ca("google.visualization.SparklineChart",ny);la(ny[K],Hi,ny[K][Kc]);la(ny[K],pj,ny[K][lc]);la(ny[K],Fm,ny[K][Nb]);ca("google.visualization.SteppedAreaChart",my);la(my[K],Hi,my[K][Kc]);la(my[K],pj,my[K][lc]);la(my[K],Fm,my[K][Nb]);ca("google.visualization.RangeSelector",Ay);la(Ay[K],Hi,Ay[K][Kc]);la(Ay[K],"getRange",Ay[K].getRange);la(Ay[K],"setRange",Ay[K].setRange)})();google.loader.loaded({module:"visualization",version:"1.0",components:["corechart","default","format"]});google.loader.eval.visualization=function(){eval(arguments[0])};if(google.loader.eval.scripts&&google.loader.eval.scripts.visualization){(function(){var scripts=google.loader.eval.scripts.visualization;for(var i=0;i<scripts.length;i++){google.loader.eval.visualization(scripts[i])}})();google.loader.eval.scripts.visualization=null}})();
;}catch(e){}
try{
/*
 * jQuery gvChart plugin
 * This plugin was created to simplify things when using Google Visualisation Charts. 
 * It still needs to be used with google script import tag, however now you can
 * crate chart from your table. 
 * All examples you will find on http://www.ivellios.toron.pl/technikalia/demos/gvChart/
 * @name jquery.gvChart-1.0.1.min.js
 * @author Janusz Kamieński - http://www.ivellios.toron.pl/technikalia
 * @version 1.0.1
 * @date December 04, 2010
 * @category jQuery plugin google charts
 * @copyright (c) 2010 Janusz Kamieński (www.ivellios.toron.pl)
 * @license CC Attribution Works 3.0 Poland - http://creativecommons.org/licenses/by/3.0/pl/deed.en_US
 * @example Visit http://www.ivellios.toron.pl/technikalia/demos/gvChart/ for more informations about this jQuery plugin
 */
(function(jQuery){jQuery.fn.gvChart=function(settings){defaults={hideTable:true,chartType:'AreaChart',chartDivID:'gvChartDiv',gvSettings:null};var el=document.createElement('div');jQuery(el).insertBefore(this);gvChartCount++;gvChartID=defaults.chartDivID+gvChartCount;jQuery(el).attr('id',gvChartID);jQuery(el).addClass('gvChart');if(settings){jQuery.extend(defaults,settings);}if(defaults.hideTable)$(this).hide();var data=new google.visualization.DataTable();data.addColumn('string','X labels');var a=new Array();var headers=$(this).find('thead').find('th');var rows=$(this).find('tbody').find('tr');rows.each(function(index){data.addColumn('number',$(this).find('th').text());});data.addRows(headers.length-1);headers.each(function(index){if(index){data.setCell(index-1,0,$(this).text());}});rows.each(function(index){$(this).find('td').each(function(index2){data.setCell(index2,index+1,parseFloat($(this).text()));});});chartSettings={title:$(this).find('caption').text()};if(defaults.gvSettings){jQuery.extend(chartSettings,defaults.gvSettings);}eval("var chart = new google.visualization."+defaults.chartType+"(document.getElementById('"+gvChartID+"'))");chart.draw(data,chartSettings);}})(jQuery);function gvChartInit(){gvChartCount=0;google.load('visualization','1',{packages:['corechart']});}

;}catch(e){}
$(document).ready(function(){
            gvChartInit();
            });try{
var JSGantt;if(!JSGantt){JSGantt={}}var vgantColor;var vTimeout=0;var vBenchTime=new Date().getTime();JSGantt.TaskItem=function(v,x,e,c,k,t,w,q,o,J,b,B,h,u){var F=v;var H=x;var l=new Date();var y=new Date();var m=k;var C=t;var G=w;var D=q;var z=o;var f=J;var a=b;var d=B;var g=h;var I=u;var n="";var E=0;var p=0;var A=1;var s,L,r,K;if(f!=1){l=JSGantt.parseDateStr(e,gantg.getDateInputFormat());y=JSGantt.parseDateStr(c,gantg.getDateInputFormat())}this.getID=function(){return F};this.getName=function(){return H};this.getStart=function(){return l};this.getEnd=function(){return y};this.getColor=function(){return m};this.getLink=function(){return C};this.getMile=function(){return G};this.getDepend=function(){if(g){return g}else{return null}};this.getCaption=function(){if(I){return I}else{return""}};this.getResource=function(){if(D){return D}else{return"&nbsp"}};this.getCompVal=function(){if(z){return z}else{return 0}};this.getCompStr=function(){if(z){return z+"%"}else{return""}};this.getDuration=function(M){if(G){n="-"}else{if(M=="hour"){tmpPer=Math.ceil((this.getEnd()-this.getStart())/(60*60*1000));if(tmpPer==1){n="1 小时"}else{n=tmpPer+" 小时"}}else{if(M=="minute"){tmpPer=Math.ceil((this.getEnd()-this.getStart())/(60*1000));if(tmpPer==1){n="1 分"}else{n=tmpPer+" 分"}}else{tmpPer=Math.ceil((this.getEnd()-this.getStart())/(24*60*60*1000)+1);if(tmpPer==1){n="1 天"}else{n=tmpPer+" 天"}}}}return(n)};this.getParent=function(){return a};this.getGroup=function(){return f};this.getOpen=function(){return d};this.getLevel=function(){return E};this.getNumKids=function(){return p};this.getStartX=function(){return s};this.getStartY=function(){return L};this.getEndX=function(){return r};this.getEndY=function(){return K};this.getVisible=function(){return A};this.setDepend=function(M){g=M};this.setStart=function(M){l=M};this.setEnd=function(M){y=M};this.setLevel=function(M){E=M};this.setNumKid=function(M){p=M};this.setCompVal=function(M){z=M};this.setStartX=function(M){s=M};this.setStartY=function(M){L=M};this.setEndX=function(M){r=M};this.setEndY=function(M){K=M};this.setOpen=function(M){d=M};this.setVisible=function(M){A=M}};JSGantt.GanttChart=function(o,k,f){var w=o;var d=k;var a=f;var s=1;var l=1;var r=1;var m=1;var p=1;var q="yy-mm-dd";var g="yyyy-mm-dd";var h=0;var n;var c=1;var b=new Array();var t=new Array("day","week","month","quarter");var e=new Array(1,1,1,2,2,2,3,3,3,4,4,4);var u=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var v=new Array("一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月");this.setFormatArr=function(){t=new Array();for(var x=0;x<arguments.length;x++){t[x]=arguments[x]}if(t.length>4){t.length=4}};this.setShowRes=function(x){s=x};this.clearList=function(){b=[]};this.setShowDur=function(x){l=x};this.setShowComp=function(x){r=x};this.setColor=function(x){vgantColor=x};this.setShowStartDate=function(x){m=x};this.setShowEndDate=function(x){p=x};this.setDateInputFormat=function(x){q=x};this.setDateDisplayFormat=function(x){g=x};this.setCaptionType=function(x){n=x};this.setFormat=function(x){a=x;this.Draw()};this.getShowRes=function(){return s};this.getShowDur=function(){return l};this.getShowComp=function(){return r};this.getShowStartDate=function(){return m};this.getShowEndDate=function(){return p};this.getDateInputFormat=function(){return q};this.getDateDisplayFormat=function(){return g};this.getCaptionType=function(){return n};this.CalcTaskXY=function(){var B=this.getList();var D;var A;var C,y,x,z;for(i=0;i<B.length;i++){vID=B[i].getID();D=document.getElementById("taskbar_"+vID);vBarDiv=document.getElementById("bardiv_"+vID);A=document.getElementById("childgrid_"+vID);if(vBarDiv){B[i].setStartX(vBarDiv.offsetLeft);B[i].setStartY(A.offsetTop+vBarDiv.offsetTop+6);B[i].setEndX(vBarDiv.offsetLeft+vBarDiv.offsetWidth);B[i].setEndY(A.offsetTop+vBarDiv.offsetTop+6)}}};this.AddTaskItem=function(x){b.push(x)};this.getList=function(){return b};this.clearDependencies=function(){var y=document.getElementById("rightside");var z;var x=c;for(i=1;i<x;i++){z=document.getElementById("line"+i);if(z){y.removeChild(z)}}c=1};this.sLine=function(z,B,x,A){vLeft=Math.min(z,x);vTop=Math.min(B,A);vWid=Math.abs(x-z)+1;vHgt=Math.abs(A-B)+1;vDoc=document.getElementById("rightside");var y=document.createElement("div");y.id="line"+c++;y.style.position="absolute";y.style.margin="0px";y.style.padding="0px";y.style.overflow="hidden";y.style.border="0px";y.style.zIndex=0;y.style.backgroundColor="red";y.style.left=vLeft+"px";y.style.top=vTop+"px";y.style.width=vWid+"px";y.style.height=vHgt+"px";y.style.visibility="visible";vDoc.appendChild(y)};this.dLine=function(A,E,z,D){var H=z-A;var G=D-E;var F=A;var C=E;var B=Math.max(Math.abs(H),Math.abs(G));H=H/B;G=G/B;for(i=0;i<=B;i++){vx=Math.round(F);vy=Math.round(C);this.sLine(vx,vy,vx,vy);F+=H;C+=G}};this.drawDependency=function(y,A,x,z){if(y+10<x){this.sLine(y,A,y+4,A);this.sLine(y+4,A,y+4,z);this.sLine(y+4,z,x,z);this.dLine(x,z,x-3,z-3);this.dLine(x,z,x-3,z+3);this.dLine(x-1,z,x-3,z-2);this.dLine(x-1,z,x-3,z+2)}else{this.sLine(y,A,y+4,A);this.sLine(y+4,A,y+4,z-10);this.sLine(y+4,z-10,x-8,z-10);this.sLine(x-8,z-10,x-8,z);this.sLine(x-8,z,x,z);this.dLine(x,z,x-3,z-3);this.dLine(x,z,x-3,z+3);this.dLine(x-1,z,x-3,z-2);this.dLine(x-1,z,x-3,z+2)}};this.DrawDependencies=function(){this.CalcTaskXY();this.clearDependencies();var B=this.getList();for(var A=0;A<B.length;A++){vDepend=B[A].getDepend();if(vDepend){var x=vDepend+"";var D=x.split(",");var C=D.length;for(var y=0;y<C;y++){var z=this.getArrayLocationByID(D[y]);if(B[z].getVisible()==1){this.drawDependency(B[z].getEndX(),B[z].getEndY(),B[A].getStartX()-1,B[A].getStartY())}}}}};this.getArrayLocationByID=function(y){var z=this.getList();for(var x=0;x<z.length;x++){if(z[x].getID()==y){return x}}};this.Draw=function(){var L=new Date();var U=new Date();var B=new Date();var I=new Date();var C=new Date();var M=0;var X=0;var F=0;var P=0;var x="";var z="";var R="";var O="";var G="";var E=0;var D=0;var S=0;var y=0;var H=0;var N="";var K=220;var J=70;var W=15+220+70+70+70+70+70;if(b.length>0){JSGantt.processRows(b,0,-1,1,1);U=JSGantt.getMinDate(b,a);L=JSGantt.getMaxDate(b,a);if(a=="day"){E=18;D=1}else{if(a=="week"){E=37;D=7}else{if(a=="month"){E=37;D=30}else{if(a=="quarter"){E=60;D=90}else{if(a=="hour"){E=18;D=1}else{if(a=="minute"){E=18;D=1}}}}}}y=(Date.parse(L)-Date.parse(U))/(24*60*60*1000);h=y/D;S=h*E+1;H=(E/D)+(1/D);x='<TABLE id=theTable cellSpacing=0 cellPadding=0 border=0><TBODY><TR><TD vAlign=top bgColor=#ffffff style="border-top:1px solid #efefef;border-bottom:1px solid #efefef">';if(s!=1){K+=J}if(l!=1){K+=J}if(r!=1){K+=J}if(m!=1){K+=J}if(p!=1){K+=J}z='<DIV class=ganttscroll id=leftside style="width:'+W+'px;border-top:0;border-bottom:0"><TABLE cellSpacing=0 cellPadding=0 border=0><TBODY><TR style="HEIGHT: 17px">  <TD style="WIDTH: 15px; HEIGHT: 20px"></TD>  <TD style="WIDTH: '+K+'px; HEIGHT: 17px"><NOBR></NOBR></TD>';if(s==1){z+='  <TD style="WIDTH: '+J+'px; HEIGHT: 17px"></TD>'}if(l==1){z+='  <TD style="WIDTH: '+J+'px; HEIGHT: 17px"></TD>'}if(r==1){z+='  <TD style="WIDTH: '+J+'px; HEIGHT: 17px"></TD>'}if(m==1){z+='  <TD style="WIDTH: '+J+'px; HEIGHT: 17px"></TD>'}if(p==1){z+='  <TD style="WIDTH: '+J+'px; HEIGHT: 17px"></TD>'}z+='<TR style="HEIGHT: 20px">  <TD style="BORDER-TOP: #efefef 1px solid; WIDTH: 15px; HEIGHT: 20px"></TD>  <TD style="BORDER-TOP: #efefef 1px solid; WIDTH: '+K+'px; HEIGHT: 20px"><NOBR></NOBR></TD>';if(s==1){z+='  <TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: 60px; HEIGHT: 20px" align=center nowrap>指派给</TD>'}if(l==1){z+='  <TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: 60px; HEIGHT: 20px" align=center nowrap>时长</TD>'}if(r==1){z+='  <TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: 60px; HEIGHT: 20px" align=center nowrap>进度%</TD>'}if(m==1){z+='  <TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: 60px; HEIGHT: 20px" align=center nowrap>开始时间</TD>'}if(p==1){z+='  <TD style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; WIDTH: 60px; HEIGHT: 20px" align=center nowrap>截止时间</TD>'}z+="</TR>";for(T=0;T<b.length;T++){if(b[T].getGroup()){vBGColor="f3f3f3";vRowType="group"}else{vBGColor="ffffff";vRowType="row"}P=b[T].getID();if(b[T].getVisible()==0){z+="<TR id=child_"+P+" bgcolor=#"+vBGColor+' style="display:none"  onMouseover=gantg.mouseOver(this,'+P+',"left","'+vRowType+'") onMouseout=gantg.mouseOut(this,'+P+',"left","'+vRowType+'")>'}else{z+="<TR id=child_"+P+" bgcolor=#"+vBGColor+" onMouseover=gantg.mouseOver(this,"+P+',"left","'+vRowType+'") onMouseout=gantg.mouseOut(this,'+P+',"left","'+vRowType+'")>'}z+='  <TD class=gdatehead style="WIDTH: 15px; HEIGHT: 20px; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: none">&nbsp;</TD>  <TD class=gname style="WIDTH: '+K+'px; HEIGHT: 20px; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px;" nowrap><NOBR><span style="color: #aaaaaa">';for(j=1;j<b[T].getLevel();j++){z+="&nbsp&nbsp&nbsp&nbsp"}z+="</span>";if(b[T].getGroup()){if(b[T].getOpen()==1){z+='<SPAN id="group_'+P+'" style="color:#000000; cursor:pointer; font-weight:bold; FONT-SIZE: 12px;" onclick="JSGantt.folder('+P+","+w+");"+w+'.DrawDependencies();">&ndash;</span><span style="color:#000000">&nbsp</SPAN>'}else{z+='<SPAN id="group_'+P+'" style="color:#000000; cursor:pointer; font-weight:bold; FONT-SIZE: 12px;" onclick="JSGantt.folder('+P+","+w+");"+w+'.DrawDependencies();">+</span><span style="color:#000000">&nbsp</SPAN>'}}else{z+='<span style="color: #000000; font-weight:bold; FONT-SIZE: 12px;">&nbsp&nbsp&nbsp</span>'}z+='<span onclick=JSGantt.taskLink("'+b[T].getLink()+'",300,200); style="cursor:pointer"> '+b[T].getName()+"</span></NOBR></TD>";if(s==1){z+='  <TD class=gname style="WIDTH: 60px; HEIGHT: 20px; TEXT-ALIGN: center; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><NOBR>'+b[T].getResource()+"</NOBR></TD>"}if(l==1){z+='  <TD class=gname style="WIDTH: 60px; HEIGHT: 20px; TEXT-ALIGN: center; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><NOBR>'+b[T].getDuration(a)+"</NOBR></TD>"}if(r==1){z+='  <TD class=gname style="WIDTH: 60px; HEIGHT: 20px; TEXT-ALIGN: center; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><NOBR>'+b[T].getCompStr()+"</NOBR></TD>"}if(m==1){z+='  <TD class=gname style="WIDTH: 60px; HEIGHT: 20px; TEXT-ALIGN: center; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><NOBR>'+JSGantt.formatDateStr(b[T].getStart(),g)+"</NOBR></TD>"}if(p==1){z+='  <TD class=gname style="WIDTH: 60px; HEIGHT: 20px; TEXT-ALIGN: center; BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><NOBR>'+JSGantt.formatDateStr(b[T].getEnd(),g)+"</NOBR></TD>"}z+="</TR>"}z+='</TD></TR><TR><TD border=1 colspan=15 align=left style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 11px; BORDER-LEFT:none; height:40px">&nbsp;&nbsp;格式:';if(t.join().indexOf("minute")!=-1){if(a=="minute"){z+='<INPUT TYPE=RADIO NAME="radFormat" VALUE="minute" checked>分'}else{z+='<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("minute",'+w+'); VALUE="minute">分'}}if(t.join().indexOf("hour")!=-1){if(a=="hour"){z+='<INPUT TYPE=RADIO NAME="radFormat" VALUE="hour" checked>小时'}else{z+='<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("hour",'+w+'); VALUE="hour">小时'}}if(t.join().indexOf("day")!=-1){if(a=="day"){z+='<INPUT TYPE=RADIO NAME="radFormat" VALUE="day" checked>天'}else{z+='<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("day",'+w+'); VALUE="day">天'}}if(t.join().indexOf("week")!=-1){if(a=="week"){z+='<INPUT TYPE=RADIO NAME="radFormat" VALUE="week" checked>周'}else{z+='<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("week",'+w+') VALUE="week">周'}}if(t.join().indexOf("month")!=-1){if(a=="month"){z+='<INPUT TYPE=RADIO NAME="radFormat" VALUE="month" checked>月'}else{z+='<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("month",'+w+') VALUE="month">月'}}if(t.join().indexOf("quarter")!=-1){if(a=="quarter"){z+='<INPUT TYPE=RADIO NAME="radFormat" VALUE="quarter" checked>季'}else{z+='<INPUT TYPE=RADIO NAME="radFormat" onclick=JSGantt.changeFormat("quarter",'+w+') VALUE="quarter">季'}}z+="</TD></TR></TBODY></TABLE></TD>";x+=z;R='<TD style="width: '+S+'px;border:1px solid #efefef" vAlign=top bgColor=#ffffff><DIV class=ganttscroll2 id=rightside style="width:'+($(d).width()-W)+'px"><TABLE style="width: '+S+'px;" cellSpacing=0 cellPadding=0 border=0><TBODY><TR style="HEIGHT: 18px">';B.setFullYear(U.getFullYear(),U.getMonth(),U.getDate());B.setHours(0);B.setMinutes(0);while(Date.parse(B)<=Date.parse(L)){N=B.getFullYear()+"";N=N.substring(2,4);if(a=="minute"){R+='<td class=gdatehead style="FONT-SIZE: 12px; HEIGHT: 19px;" align=center colspan=60>';R+=JSGantt.formatDateStr(B,g)+" "+B.getHours()+":00 -"+B.getHours()+":59 </td>";B.setHours(B.getHours()+1)}if(a=="hour"){R+='<td class=gdatehead style="FONT-SIZE: 12px; HEIGHT: 19px;" align=center colspan=24>';R+=JSGantt.formatDateStr(B,g)+"</td>";B.setDate(B.getDate()+1)}if(a=="day"){R+='<td class=gdatehead style="FONT-SIZE: 12px; HEIGHT: 19px;" align=center colspan=7>'+JSGantt.formatDateStr(B,"yyyy-mm-dd")+" 至 ";B.setDate(B.getDate()+6);R+=JSGantt.formatDateStr(B,"yyyy-mm-dd").substring(5)+"</td>";B.setDate(B.getDate()+1)}else{if(a=="week"){R+='<td class=gdatehead align=center style="FONT-SIZE: 12px; HEIGHT: 19px;" width='+E+"px>`"+N+"</td>";B.setDate(B.getDate()+7)}else{if(a=="month"){R+='<td class=gdatehead align=center style="FONT-SIZE: 12px; HEIGHT: 19px;" width='+E+"px>`"+N+"</td>";B.setDate(B.getDate()+1);while(B.getDate()>1){B.setDate(B.getDate()+1)}}else{if(a=="quarter"){R+='<td class=gdatehead align=center style="FONT-SIZE: 12px; HEIGHT: 19px;" width='+E+"px>`"+N+"</td>";B.setDate(B.getDate()+81);while(B.getDate()>1){B.setDate(B.getDate()+1)}}}}}}R+="</TR><TR>";B.setFullYear(U.getFullYear(),U.getMonth(),U.getDate());I.setFullYear(U.getFullYear(),U.getMonth(),U.getDate());F=0;while(Date.parse(B)<=Date.parse(L)){if(a=="minute"){if(B.getMinutes()==0){vWeekdayColor="ccccff"}else{vWeekdayColor="ffffff"}O+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">'+B.getMinutes()+"</div></td>";G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>';B.setMinutes(B.getMinutes()+1)}else{if(a=="hour"){if(B.getHours()==0){vWeekdayColor="ccccff"}else{vWeekdayColor="ffffff"}O+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">'+B.getHours()+"</div></td>";G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>';B.setHours(B.getHours()+1)}else{if(a=="day"){if(JSGantt.formatDateStr(C,"mm/dd/yyyy")==JSGantt.formatDateStr(B,"mm/dd/yyyy")){vWeekdayColor="ccccff";vWeekendColor="9999ff";vWeekdayGColor="bbbbff";vWeekendGColor="8888ff"}else{vWeekdayColor="ffffff";vWeekendColor="cfcfcf";vWeekdayGColor="f3f3f3";vWeekendGColor="c3c3c3"}if(B.getDay()%6==0){O+='<td class="gheadwkend" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekendColor+' align=center><div style="width: '+E+'px">'+B.getDate()+"</div></td>";G+='<td class="gheadwkend" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekendColor+' align=center><div style="width: '+E+'px">&nbsp</div></td>'}else{O+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">'+B.getDate()+"</div></td>";if(JSGantt.formatDateStr(C,"mm/dd/yyyy")==JSGantt.formatDateStr(B,"mm/dd/yyyy")){G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}else{G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; cursor: default;"  align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}}B.setDate(B.getDate()+1)}else{if(a=="week"){I.setDate(I.getDate()+7);if(C>=B&&C<I){vWeekdayColor="ccccff"}else{vWeekdayColor="ffffff"}if(I<=L){O+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+E+'px><div style="width: '+E+'px">'+(B.getMonth()+1)+"/"+B.getDate()+"</div></td>";if(C>=B&&C<I){G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}else{G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}}else{O+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid; bgcolor=#'+vWeekdayColor+' BORDER-RIGHT: #efefef 1px solid;" align=center width:'+E+'px><div style="width: '+E+'px">'+(B.getMonth()+1)+"/"+B.getDate()+"</div></td>";if(C>=B&&C<I){G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}else{G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}}B.setDate(B.getDate()+7)}else{if(a=="month"){I.setFullYear(B.getFullYear(),B.getMonth(),u[B.getMonth()]);if(C>=B&&C<I){vWeekdayColor="ccccff"}else{vWeekdayColor="ffffff"}if(I<=L){O+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+E+'px><div style="width: '+E+'px">'+v[B.getMonth()].substr(0,3)+"</div></td>";if(C>=B&&C<I){G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}else{G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}}else{O+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+E+'px><div style="width: '+E+'px">'+v[B.getMonth()].substr(0,3)+"</div></td>";if(C>=B&&C<I){G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}else{G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}}B.setDate(B.getDate()+1);while(B.getDate()>1){B.setDate(B.getDate()+1)}}else{if(a=="quarter"){I.setDate(I.getDate()+122);if(B.getMonth()==0||B.getMonth()==1||B.getMonth()==2){I.setFullYear(B.getFullYear(),2,31)}else{if(B.getMonth()==3||B.getMonth()==4||B.getMonth()==5){I.setFullYear(B.getFullYear(),5,30)}else{if(B.getMonth()==6||B.getMonth()==7||B.getMonth()==8){I.setFullYear(B.getFullYear(),8,30)}else{if(B.getMonth()==9||B.getMonth()==10||B.getMonth()==11){I.setFullYear(B.getFullYear(),11,31)}}}}if(C>=B&&C<I){vWeekdayColor="ccccff"}else{vWeekdayColor="ffffff"}if(I<=L){O+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+E+'px><div style="width: '+E+'px">第'+e[B.getMonth()]+"季</div></td>";if(C>=B&&C<I){G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}else{G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid;" align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}}else{O+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; HEIGHT: 19px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+" align=center width:"+E+'px><div style="width: '+E+'px">第'+e[B.getMonth()]+"季</div></td>";if(C>=B&&C<I){G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" bgcolor=#'+vWeekdayColor+' align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}else{G+='<td class="ghead" style="BORDER-TOP: #efefef 1px solid; FONT-SIZE: 12px; BORDER-LEFT: #efefef 1px solid; BORDER-RIGHT: #efefef 1px solid;" align=center><div style="width: '+E+'px">&nbsp&nbsp</div></td>'}}B.setDate(B.getDate()+81);while(B.getDate()>1){B.setDate(B.getDate()+1)}}}}}}}}R+=O+"</TR>";R+="</TBODY></TABLE>";for(T=0;T<b.length;T++){B.setFullYear(U.getFullYear(),U.getMonth(),U.getDate());vTaskStart=b[T].getStart();vTaskEnd=b[T].getEnd();F=0;P=b[T].getID();h=(b[T].getEnd()-b[T].getStart())/(24*60*60*1000)+1;if(a=="hour"){h=(b[T].getEnd()-b[T].getStart())/(60*1000)+1}else{if(a=="minute"){h=(b[T].getEnd()-b[T].getStart())/(60*1000)+1}}if(b[T].getVisible()==0){R+="<DIV id=childgrid_"+P+' style="position:relative; display:none;">'}else{R+="<DIV id=childgrid_"+P+' style="position:relative">'}if(b[T].getMile()){R+='<DIV><TABLE style="position:relative; top:0px; width: '+S+'px;" cellSpacing=0 cellPadding=0 border=0><TR id=childrow_'+P+' class=yesdisplay style="HEIGHT: 20px" onMouseover=gantg.mouseOver(this,'+P+',"right","mile") onMouseout=gantg.mouseOut(this,'+P+',"right","mile")>'+G+"</TR></TABLE></DIV>";O=JSGantt.formatDateStr(vTaskStart,g);M=(Date.parse(b[T].getStart())-Date.parse(U))/(24*60*60*1000);X=1;R+="<div id=bardiv_"+P+' style="position:absolute; top:0px; left:'+Math.ceil((M*(H)+1))+'px; height: 18px; width:160px; overflow:hidden;">  <div id=taskbar_'+P+' title="'+b[T].getName()+": "+O+'" style="height: 16px; width:12px; overflow:hidden; cursor: pointer;" onclick=JSGantt.taskLink("'+b[T].getLink()+'",300,200);>';if(b[T].getCompVal()<100){R+="&loz;</div>"}else{R+="&diams;</div>"}if(gantg.getCaptionType()){vCaptionStr="";switch(gantg.getCaptionType()){case"Caption":vCaptionStr=b[T].getCaption();break;case"Resource":vCaptionStr=b[T].getResource();break;case"Duration":vCaptionStr=b[T].getDuration(a);break;case"Complete":vCaptionStr=b[T].getCompStr();break}R+='<div style="FONT-SIZE:12px; position:absolute; top:2px; width:120px; left:12px">'+vCaptionStr+"</div>"}R+="</div>"}else{O=JSGantt.formatDateStr(vTaskStart,g)+" - "+JSGantt.formatDateStr(vTaskEnd,g);if(a=="minute"){X=(Date.parse(b[T].getEnd())-Date.parse(b[T].getStart()))/(60*1000)+1/D;M=Math.ceil((Date.parse(b[T].getStart())-Date.parse(U))/(60*1000))}else{if(a=="hour"){X=(Date.parse(b[T].getEnd())-Date.parse(b[T].getStart()))/(60*60*1000)+1/D;M=(Date.parse(b[T].getStart())-Date.parse(U))/(60*60*1000)}else{X=(Date.parse(b[T].getEnd())-Date.parse(b[T].getStart()))/(24*60*60*1000)+1/D;M=Math.ceil((Date.parse(b[T].getStart())-Date.parse(U))/(24*60*60*1000));if(a="day"){var A=new Date();A.setTime(Date.parse(b[T].getStart()));if(A.getMinutes()>29){M+=0.5}}}}if(b[T].getGroup()){R+='<DIV><TABLE style="position:relative; top:0px; width: '+S+'px;" cellSpacing=0 cellPadding=0 border=0><TR id=childrow_'+P+' class=yesdisplay style="HEIGHT: 20px" bgColor=#f3f3f3 onMouseover=gantg.mouseOver(this,'+P+',"right","group") onMouseout=gantg.mouseOut(this,'+P+',"right","group")>'+G+"</TR></TABLE></DIV>";R+="<div id=bardiv_"+P+' style="position:absolute; top:5px; left:'+Math.ceil(M*(H)+1)+"px; height: 7px; width:"+Math.ceil((X)*(H)-1)+'px"><div id=taskbar_'+P+' title="'+b[T].getName()+": "+O+'" class=gtask style="background-color:#000000; height: 7px; width:'+Math.ceil((X)*(H)-1)+'px;  cursor: pointer;opacity:0.9;"><div style="Z-INDEX: -4; float:left; background-color:#666666; height:3px; overflow: hidden; margin-top:1px; margin-left:1px; margin-right:1px; filter: alpha(opacity=80); opacity:0.8; width:'+b[T].getCompStr()+'; cursor: pointer;" onclick=JSGantt.taskLink("'+b[T].getLink()+'",300,200);></div></div><div style="Z-INDEX: -4; float:left; background-color:#000000; height:4px; overflow: hidden; width:1px;"></div><div style="Z-INDEX: -4; float:right; background-color:#000000; height:4px; overflow: hidden; width:1px;"></div><div style="Z-INDEX: -4; float:left; background-color:#000000; height:3px; overflow: hidden; width:1px;"></div><div style="Z-INDEX: -4; float:right; background-color:#000000; height:3px; overflow: hidden; width:1px;"></div><div style="Z-INDEX: -4; float:left; background-color:#000000; height:2px; overflow: hidden; width:1px;"></div><div style="Z-INDEX: -4; float:right; background-color:#000000; height:2px; overflow: hidden; width:1px;"></div><div style="Z-INDEX: -4; float:left; background-color:#000000; height:1px; overflow: hidden; width:1px;"></div><div style="Z-INDEX: -4; float:right; background-color:#000000; height:1px; overflow: hidden; width:1px;"></div>';if(gantg.getCaptionType()){vCaptionStr="";switch(gantg.getCaptionType()){case"Caption":vCaptionStr=b[T].getCaption();break;case"Resource":vCaptionStr=b[T].getResource();break;case"Duration":vCaptionStr=b[T].getDuration(a);break;case"Complete":vCaptionStr=b[T].getCompStr();break}R+='<div style="FONT-SIZE:12px; position:absolute; top:-3px; width:120px; left:'+(Math.ceil((X)*(H)-1)+6)+'px">'+vCaptionStr+"</div>"}R+="</div>"}else{vDivStr='<DIV><TABLE style="position:relative; top:0px; width: '+S+'px;" cellSpacing=0 cellPadding=0 border=0><TR id=childrow_'+P+' class=yesdisplay style="HEIGHT: 20px" bgColor=#ffffff onMouseover=gantg.mouseOver(this,'+P+',"right","row") onMouseout=gantg.mouseOut(this,'+P+',"right","row")>'+G+"</TR></TABLE></DIV>";R+=vDivStr;R+="<div id=bardiv_"+P+' style="position:absolute; top:4px; left:'+Math.ceil(M*(H)+1)+"px; height:18px; width:"+Math.ceil((X)*(H)-1)+'px"><div id=taskbar_'+P+' title="'+b[T].getName()+": "+O+'" class=gtask style="background-color:#'+b[T].getColor()+"; height: 13px; width:"+Math.ceil((X)*(H)-1)+'px; cursor: pointer;opacity:0.9;" onclick=JSGantt.taskLink("'+b[T].getLink()+'",300,200); ><div class=gcomplete style="Z-INDEX: -4; float:left; background-color:black; height:5px; overflow: auto; margin-top:4px; filter: alpha(opacity=40); opacity:0.4; width:'+b[T].getCompStr()+'; overflow:hidden"></div></div>';if(gantg.getCaptionType()){vCaptionStr="";switch(gantg.getCaptionType()){case"Caption":vCaptionStr=b[T].getCaption();break;case"Resource":vCaptionStr=b[T].getResource();break;case"Duration":vCaptionStr=b[T].getDuration(a);break;case"Complete":vCaptionStr=b[T].getCompStr();break}R+='<div style="FONT-SIZE:12px; position:absolute; top:-3px; width:120px; left:'+(Math.ceil((X)*(H)-1)+6)+'px">'+vCaptionStr+"</div>"}R+="</div>"}}R+="</DIV>"}R+="</DIV>";var V="";for(var T=0,Q=vgantColor.length;T<Q;T++){V+="P"+T+'<span style="display:inline-block;padding:5px 10px;margin:0 10px 0 5px;background:#'+vgantColor[T]+'"> </span> '}R+="<div style='text-align:right;padding-right:10px'>"+V+"</div>";x+=R+"</TD></TR></TBODY></TABLE>";d.innerHTML=x}};this.mouseOver=function(A,z,x,y){if(x=="right"){vID="child_"+z}else{vID="childrow_"+z}$(A).css("background","#ffffaa");vRowObj=JSGantt.findObj(vID);if(vRowObj){$(vRowObj).css("background","#ffffaa")}};this.mouseOut=function(A,z,x,y){if(x=="right"){vID="child_"+z}else{vID="childrow_"+z}$(A).css("background","#ffffff");vRowObj=JSGantt.findObj(vID);if(vRowObj){if(y=="group"){$(A).css("background","#f3f3f3");$(vRowObj).css("background","#f3f3f3")}else{$(A).css("background","#ffffff");$(vRowObj).css("background","#ffffff")}}}};JSGantt.isIE=function(){if(typeof document.all!="undefined"){return true}else{return false}};JSGantt.processRows=function(c,q,n,d,b){var o=new Date();var e=new Date();var h=0;var l=0;var m=c;var a=d;var f=0;var k=0;var p=0;var g=b;for(f=0;f<c.length;f++){if(c[f].getParent()==q){g=b;c[f].setVisible(g);if(g==1&&c[f].getOpen()==0){g=0}c[f].setLevel(a);k++;if(c[f].getGroup()==1){JSGantt.processRows(m,c[f].getID(),f,a+1,g)}if(h==0||c[f].getStart()<o){o=c[f].getStart();h=1}if(l==0||c[f].getEnd()>e){e=c[f].getEnd();l=1}p+=c[f].getCompVal()}}if(n>=0){c[n].setStart(o);c[n].setEnd(e);c[n].setNumKid(k);c[n].setCompVal(Math.ceil(p/k))}};JSGantt.getMinDate=function getMinDate(c,b){var a=new Date();a.setFullYear(c[0].getStart().getFullYear(),c[0].getStart().getMonth(),c[0].getStart().getDate());for(i=0;i<c.length;i++){if(Date.parse(c[i].getStart())<Date.parse(a)){a.setFullYear(c[i].getStart().getFullYear(),c[i].getStart().getMonth(),c[i].getStart().getDate())}}if(b=="minute"){a.setHours(0);a.setMinutes(0)}else{if(b=="hour"){a.setHours(0);a.setMinutes(0)}else{if(b=="day"){a.setDate(a.getDate()-1);while(a.getDay()%7>0){a.setDate(a.getDate()-1)}}else{if(b=="week"){a.setDate(a.getDate()-7);while(a.getDay()%7>0){a.setDate(a.getDate()-1)}}else{if(b=="month"){while(a.getDate()>1){a.setDate(a.getDate()-1)}}else{if(b=="quarter"){if(a.getMonth()==0||a.getMonth()==1||a.getMonth()==2){a.setFullYear(a.getFullYear(),0,1)}else{if(a.getMonth()==3||a.getMonth()==4||a.getMonth()==5){a.setFullYear(a.getFullYear(),3,1)}else{if(a.getMonth()==6||a.getMonth()==7||a.getMonth()==8){a.setFullYear(a.getFullYear(),6,1)}else{if(a.getMonth()==9||a.getMonth()==10||a.getMonth()==11){a.setFullYear(a.getFullYear(),9,1)}}}}}}}}}}return(a)};JSGantt.getMaxDate=function(c,b){var a=new Date();a.setFullYear(c[0].getEnd().getFullYear(),c[0].getEnd().getMonth(),c[0].getEnd().getDate());for(i=0;i<c.length;i++){if(Date.parse(c[i].getEnd())>Date.parse(a)){a.setTime(Date.parse(c[i].getEnd()))}}if(b=="minute"){a.setHours(a.getHours()+1);a.setMinutes(59)}if(b=="hour"){a.setHours(a.getHours()+2)}if(b=="day"){a.setDate(a.getDate()+1);while(a.getDay()%6>0){a.setDate(a.getDate()+1)}}if(b=="week"){a.setDate(a.getDate()+11);while(a.getDay()%6>0){a.setDate(a.getDate()+1)}}if(b=="month"){while(a.getDay()>1){a.setDate(a.getDate()+1)}a.setDate(a.getDate()-1)}if(b=="quarter"){if(a.getMonth()==0||a.getMonth()==1||a.getMonth()==2){a.setFullYear(a.getFullYear(),2,31)}else{if(a.getMonth()==3||a.getMonth()==4||a.getMonth()==5){a.setFullYear(a.getFullYear(),5,30)}else{if(a.getMonth()==6||a.getMonth()==7||a.getMonth()==8){a.setFullYear(a.getFullYear(),8,30)}else{if(a.getMonth()==9||a.getMonth()==10||a.getMonth()==11){a.setFullYear(a.getFullYear(),11,31)}}}}}return(a)};JSGantt.findObj=function(b,a){var e,c,d;if(!a){a=document}if((e=b.indexOf("?"))>0&&parent.frames.length){a=parent.frames[b.substring(e+1)].document;b=b.substring(0,e)}if(!(d=a[b])&&a.all){d=a.all[b]}for(c=0;!d&&c<a.forms.length;c++){d=a.forms[c][b]}for(c=0;!d&&a.layers&&c<a.layers.length;c++){d=JSGantt.findObj(b,a.layers[c].document)}if(!d&&document.getElementById){d=document.getElementById(b)}return d};JSGantt.changeFormat=function(a,b){if(b){b.setFormat(a);b.DrawDependencies()}else{alert("Chart undefined")}};JSGantt.folder=function(a,b){var c=b.getList();for(i=0;i<c.length;i++){if(c[i].getID()==a){if(c[i].getOpen()==1){c[i].setOpen(0);JSGantt.hide(a,b);if(JSGantt.isIE()){JSGantt.findObj("group_"+a).innerText="+"}else{JSGantt.findObj("group_"+a).textContent="+"}}else{c[i].setOpen(1);JSGantt.show(a,1,b);if(JSGantt.isIE()){JSGantt.findObj("group_"+a).innerText="－"}else{JSGantt.findObj("group_"+a).textContent="－"}}}}};JSGantt.hide=function(b,d){var e=d.getList();var a=0;for(var c=0;c<e.length;c++){if(e[c].getParent()==b){a=e[c].getID();JSGantt.findObj("child_"+a).style.display="none";JSGantt.findObj("childgrid_"+a).style.display="none";e[c].setVisible(0);if(e[c].getGroup()==1){JSGantt.hide(a,d)}}}};JSGantt.show=function(b,f,d){var e=d.getList();var a=0;for(var c=0;c<e.length;c++){if(e[c].getParent()==b){a=e[c].getID();if(f==1){if(JSGantt.isIE()){if(JSGantt.findObj("group_"+b).innerText=="+"){JSGantt.findObj("child_"+a).style.display="";JSGantt.findObj("childgrid_"+a).style.display="";e[c].setVisible(1)}}else{if(JSGantt.findObj("group_"+b).textContent=="+"){JSGantt.findObj("child_"+a).style.display="";JSGantt.findObj("childgrid_"+a).style.display="";e[c].setVisible(1)}}}else{if(JSGantt.isIE()){if(JSGantt.findObj("group_"+b).innerText=="－"){JSGantt.findObj("child_"+a).style.display="";JSGantt.findObj("childgrid_"+a).style.display="";e[c].setVisible(1)}}else{if(JSGantt.findObj("group_"+b).textContent=="－"){JSGantt.findObj("child_"+a).style.display="";JSGantt.findObj("childgrid_"+a).style.display="";e[c].setVisible(1)}}}if(e[c].getGroup()==1){JSGantt.show(a,0,d)}}}};JSGantt.taskLink=function(c,a,b){if(a){vWidth=a}else{vWidth=400}if(b){vHeight=b}else{vHeight=400}$("#ganttModalLink").attr("href",c);$("#ganttModalLink").trigger("click")};JSGantt.parseDateStr=function(a,d){var c=new Date();c.setTime(Date.parse(a));switch(d){case"mm/dd/yyyy":var b=a.split("/");c.setFullYear(parseInt(b[2],10),parseInt(b[0],10)-1,parseInt(b[1],10));break;case"dd/mm/yyyy":var b=a.split("/");c.setFullYear(parseInt(b[2],10),parseInt(b[1],10)-1,parseInt(b[0],10));break;case"yyyy-mm-dd":var b=a.split("-");c.setFullYear(parseInt(b[0],10),parseInt(b[1],10)-1,parseInt(b[1],10));break}return(c)};JSGantt.formatDateStr=function(b,c){vYear4Str=b.getFullYear()+"";vYear2Str=vYear4Str.substring(2,4);vMonthStr=(b.getMonth()+1)+"";vDayStr=b.getDate()+"";var a="";switch(c){case"mm/dd/yyyy":return(vMonthStr+"/"+vDayStr+"/"+vYear4Str);case"dd/mm/yyyy":return(vDayStr+"/"+vMonthStr+"/"+vYear4Str);case"yyyy-mm-dd":return(vYear4Str+"-"+vMonthStr+"-"+vDayStr);case"mm/dd/yy":return(vMonthStr+"/"+vDayStr+"/"+vYear2Str);case"dd/mm/yy":return(vDayStr+"/"+vMonthStr+"/"+vYear2Str);case"yy-mm-dd":return(vYear2Str+"-"+vMonthStr+"-"+vDayStr);case"mm/dd":return(vMonthStr+"/"+vDayStr);case"dd/mm":return(vDayStr+"/"+vMonthStr)}};JSGantt.parseXML=function(b,a){var d=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;try{xmlDoc=new ActiveXObject("Microsoft.XMLDOM")}catch(c){try{if(d==false){xmlDoc=document.implementation.createDocument("","",null)}}catch(c){alert(c.message);return}}if(d==false){xmlDoc.async=false;xmlDoc.load(b);JSGantt.AddXMLTask(a);xmlDoc=null;Task=null}else{JSGantt.ChromeLoadXML(b,a);ta=null}};JSGantt.AddXMLTask=function(a){Task=xmlDoc.getElementsByTagName("task");var d=xmlDoc.documentElement.childNodes.length;for(var c=0;c<d;c++){try{pID=Task[c].getElementsByTagName("pID")[0].childNodes[0].nodeValue}catch(b){pID=0}pID*=1;if(pID!=0){try{pName=Task[c].getElementsByTagName("pName")[0].childNodes[0].nodeValue}catch(b){pName="No Task Name"}try{pColor=Task[c].getElementsByTagName("pColor")[0].childNodes[0].nodeValue}catch(b){pColor="0000ff"}try{pParent=Task[c].getElementsByTagName("pParent")[0].childNodes[0].nodeValue}catch(b){pParent=0}pParent*=1;try{pStart=Task[c].getElementsByTagName("pStart")[0].childNodes[0].nodeValue}catch(b){pStart=""}try{pEnd=Task[c].getElementsByTagName("pEnd")[0].childNodes[0].nodeValue}catch(b){pEnd=""}try{pLink=Task[c].getElementsByTagName("pLink")[0].childNodes[0].nodeValue}catch(b){pLink=""}try{pMile=Task[c].getElementsByTagName("pMile")[0].childNodes[0].nodeValue}catch(b){pMile=0}pMile*=1;try{pRes=Task[c].getElementsByTagName("pRes")[0].childNodes[0].nodeValue}catch(b){pRes=""}try{pComp=Task[c].getElementsByTagName("pComp")[0].childNodes[0].nodeValue}catch(b){pComp=0}pComp*=1;try{pGroup=Task[c].getElementsByTagName("pGroup")[0].childNodes[0].nodeValue}catch(b){pGroup=0}pGroup*=1;try{pOpen=Task[c].getElementsByTagName("pOpen")[0].childNodes[0].nodeValue}catch(b){pOpen=1}pOpen*=1;try{pDepend=Task[c].getElementsByTagName("pDepend")[0].childNodes[0].nodeValue}catch(b){pDepend=0}if(pDepend.length==0){pDepend=""}try{pCaption=Task[c].getElementsByTagName("pCaption")[0].childNodes[0].nodeValue}catch(b){pCaption=""}a.AddTaskItem(new JSGantt.TaskItem(pID,pName,pStart,pEnd,pColor,pLink,pMile,pRes,pComp,pGroup,pParent,pOpen,pDepend,pCaption))}}};JSGantt.ChromeLoadXML=function(b,a){XMLLoader=new XMLHttpRequest();XMLLoader.onreadystatechange=function(){JSGantt.ChromeXMLParse(a)};XMLLoader.open("GET",b,false);XMLLoader.send(null)};JSGantt.ChromeXMLParse=function(p){if(XMLLoader.readyState==4){var o=XMLLoader.responseText.split(/<task>/gi);var q=o.length;for(var t=1;t<q;t++){Task=o[t].replace(/<[/]p/g,"<p");var h=Task.split(/<pid>/i);if(h.length>2){var k=h[1]}else{var k=0}k*=1;var h=Task.split(/<pName>/i);if(h.length>2){var g=h[1]}else{var g="No Task Name"}var h=Task.split(/<pstart>/i);if(h.length>2){var e=h[1]}else{var e=""}var h=Task.split(/<pEnd>/i);if(h.length>2){var c=h[1]}else{var c=""}var h=Task.split(/<pColor>/i);if(h.length>2){var s=h[1]}else{var s="0000ff"}var h=Task.split(/<pLink>/i);if(h.length>2){var r=h[1]}else{var r=""}var h=Task.split(/<pMile>/i);if(h.length>2){var f=h[1]}else{var f=0}f*=1;var h=Task.split(/<pRes>/i);if(h.length>2){var v=h[1]}else{var v=""}var h=Task.split(/<pComp>/i);if(h.length>2){var d=h[1]}else{var d=0}d*=1;var h=Task.split(/<pGroup>/i);if(h.length>2){var m=h[1]}else{var m=0}m*=1;var h=Task.split(/<pParent>/i);if(h.length>2){var b=h[1]}else{var b=0}b*=1;var h=Task.split(/<pOpen>/i);if(h.length>2){var u=h[1]}else{var u=1}u*=1;var h=Task.split(/<pDepend>/i);if(h.length>2){var a=h[1]}else{var a=""}if(a.length==0){a=""}var h=Task.split(/<pCaption>/i);if(h.length>2){var l=h[1]}else{var l=""}p.AddTaskItem(new JSGantt.TaskItem(k,g,e,c,s,r,f,v,d,m,b,u,a,l))}}};JSGantt.benchMark=function(a){var b=new Date().getTime();alert(a+": Elapsed time: "+((b-vBenchTime)/1000)+" seconds.");vBenchTime=new Date().getTime()};
;}catch(e){}
try{
!function(b,c){var a=function(g,f,d){this.parentEl="body";this.element=b(g);var e='<div class="daterangepicker dropdown-menu"><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>';if(typeof f!=="object"||f===null){f={}}this.parentEl=(typeof f==="object"&&f.parentEl&&b(f.parentEl).length)||b(this.parentEl);this.container=b(e).appendTo(this.parentEl);this.setOptions(f,d);var h=this.container;b.each(this.buttonClasses,function(i,j){h.find("button").addClass(j)});this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel);this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel);if(this.applyClass.length){this.container.find(".applyBtn").addClass(this.applyClass)}if(this.cancelClass.length){this.container.find(".cancelBtn").addClass(this.cancelClass)}this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",b.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",b.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",b.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",b.proxy(this.enterDate,this)).on("mouseleave.daterangepicker","td.available",b.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",b.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",b.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.ampmselect",b.proxy(this.updateTime,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",b.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",b.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",b.proxy(this.showCalendars,this)).on("click.daterangepicker","li",b.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",b.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",b.proxy(this.updateFormInputs,this));if(this.element.is("input")){this.element.on({"click.daterangepicker":b.proxy(this.show,this),"focus.daterangepicker":b.proxy(this.show,this),"keyup.daterangepicker":b.proxy(this.updateFromControl,this)})}else{this.element.on("click.daterangepicker",b.proxy(this.toggle,this))}};a.prototype={constructor:a,setOptions:function(n,m){this.startDate=c().startOf("day");this.endDate=c().endOf("day");this.minDate=false;this.maxDate=false;this.dateLimit=false;this.showDropdowns=false;this.showWeekNumbers=false;this.timePicker=false;this.timePickerIncrement=30;this.timePicker12Hour=true;this.singleDatePicker=false;this.ranges={};this.opens="right";if(this.element.hasClass("pull-right")){this.opens="left"}this.buttonClasses=["btn","btn-small"];this.applyClass="btn-success";this.cancelClass="btn-default";this.format="YYYY/MM/DD";this.separator=" - ";this.locale={applyLabel:"应用",cancelLabel:"取消",fromLabel:"开始",toLabel:"结束",weekLabel:"W",customRangeLabel:"自定义范围",daysOfWeek:c()._lang._weekdaysMin.slice(),monthNames:c()._lang._monthsShort.slice(),firstDay:0};this.cb=function(){};if(typeof n.format==="string"){this.format=n.format}if(typeof n.separator==="string"){this.separator=n.separator}if(typeof n.startDate==="string"){this.startDate=c(n.startDate,this.format)}if(typeof n.endDate==="string"){this.endDate=c(n.endDate,this.format)}if(typeof n.minDate==="string"){this.minDate=c(n.minDate,this.format)}if(typeof n.maxDate==="string"){this.maxDate=c(n.maxDate,this.format)}if(typeof n.startDate==="object"){this.startDate=c(n.startDate)}if(typeof n.endDate==="object"){this.endDate=c(n.endDate)}if(typeof n.minDate==="object"){this.minDate=c(n.minDate)}if(typeof n.maxDate==="object"){this.maxDate=c(n.maxDate)}if(typeof n.applyClass==="string"){this.applyClass=n.applyClass}if(typeof n.cancelClass==="string"){this.cancelClass=n.cancelClass}if(typeof n.dateLimit==="object"){this.dateLimit=n.dateLimit}if(typeof n.locale==="object"){if(typeof n.locale.daysOfWeek==="object"){this.locale.daysOfWeek=n.locale.daysOfWeek.slice()}if(typeof n.locale.monthNames==="object"){this.locale.monthNames=n.locale.monthNames.slice()}if(typeof n.locale.firstDay==="number"){this.locale.firstDay=n.locale.firstDay;var h=n.locale.firstDay;while(h>0){this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());h--}}if(typeof n.locale.applyLabel==="string"){this.locale.applyLabel=n.locale.applyLabel}if(typeof n.locale.cancelLabel==="string"){this.locale.cancelLabel=n.locale.cancelLabel}if(typeof n.locale.fromLabel==="string"){this.locale.fromLabel=n.locale.fromLabel}if(typeof n.locale.toLabel==="string"){this.locale.toLabel=n.locale.toLabel}if(typeof n.locale.weekLabel==="string"){this.locale.weekLabel=n.locale.weekLabel}if(typeof n.locale.customRangeLabel==="string"){this.locale.customRangeLabel=n.locale.customRangeLabel}}if(typeof n.opens==="string"){this.opens=n.opens}if(typeof n.showWeekNumbers==="boolean"){this.showWeekNumbers=n.showWeekNumbers}if(typeof n.buttonClasses==="string"){this.buttonClasses=[n.buttonClasses]}if(typeof n.buttonClasses==="object"){this.buttonClasses=n.buttonClasses}if(typeof n.showDropdowns==="boolean"){this.showDropdowns=n.showDropdowns}if(typeof n.singleDatePicker==="boolean"){this.singleDatePicker=n.singleDatePicker}if(typeof n.timePicker==="boolean"){this.timePicker=n.timePicker}if(typeof n.timePickerIncrement==="number"){this.timePickerIncrement=n.timePickerIncrement}if(typeof n.timePicker12Hour==="boolean"){this.timePicker12Hour=n.timePicker12Hour}var d,g,i;if(typeof n.startDate==="undefined"&&typeof n.endDate==="undefined"){if(b(this.element).is("input[type=text]")){var e=b(this.element).val();var k=e.split(this.separator);d=g=null;if(k.length==2){d=c(k[0],this.format);g=c(k[1],this.format)}else{if(this.singleDatePicker){d=c(e,this.format);g=c(e,this.format)}}if(d!==null&&g!==null){this.startDate=d;this.endDate=g}}}if(typeof n.ranges==="object"){for(i in n.ranges){d=c(n.ranges[i][0]);g=c(n.ranges[i][1]);if(this.minDate&&d.isBefore(this.minDate)){d=c(this.minDate)}if(this.maxDate&&g.isAfter(this.maxDate)){g=c(this.maxDate)}if((this.minDate&&g.isBefore(this.minDate))||(this.maxDate&&d.isAfter(this.maxDate))){continue}this.ranges[i]=[d,g]}var j="<ul>";for(i in this.ranges){j+="<li>"+i+"</li>"}j+="<li>"+this.locale.customRangeLabel+"</li>";j+="</ul>";this.container.find(".ranges ul").remove();this.container.find(".ranges").prepend(j)}if(typeof m==="function"){this.cb=m}if(!this.timePicker){this.startDate=this.startDate.startOf("day");this.endDate=this.endDate.endOf("day")}if(this.singleDatePicker){this.opens="right";this.container.find(".calendar.right").show();this.container.find(".calendar.left").hide();this.container.find(".ranges").hide();if(!this.container.find(".calendar.right").hasClass("single")){this.container.find(".calendar.right").addClass("single")}}else{this.container.find(".calendar.right").removeClass("single");this.container.find(".ranges").show()}this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.oldChosenLabel=this.chosenLabel;this.leftCalendar={month:c([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]};this.rightCalendar={month:c([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]};if(this.opens=="right"){var f=this.container.find(".calendar.left");var l=this.container.find(".calendar.right");f.removeClass("left").addClass("right");l.removeClass("right").addClass("left")}if(typeof n.ranges==="undefined"&&!this.singleDatePicker){this.container.addClass("show-calendar")}this.container.addClass("opens"+this.opens);this.updateView();this.updateCalendars()},setStartDate:function(d){if(typeof d==="string"){this.startDate=c(d,this.format)}if(typeof d==="object"){this.startDate=c(d)}if(!this.timePicker){this.startDate=this.startDate.startOf("day")}this.oldStartDate=this.startDate.clone();this.updateView();this.updateCalendars()},setEndDate:function(d){if(typeof d==="string"){this.endDate=c(d,this.format)}if(typeof d==="object"){this.endDate=c(d)}if(!this.timePicker){this.endDate=this.endDate.endOf("day")}this.oldEndDate=this.endDate.clone();this.updateView();this.updateCalendars()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year());this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format));this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format));if(this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)){this.container.find("button.applyBtn").removeAttr("disabled")}else{this.container.find("button.applyBtn").attr("disabled","disabled")}},updateFromControl:function(){if(!this.element.is("input")){return}if(!this.element.val().length){return}var e=this.element.val().split(this.separator);var f=c(e[0],this.format);var d=c(e[1],this.format);if(this.singleDatePicker){f=c(this.element.val(),this.format);d=f}if(d.isBefore(f)){return}this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.startDate=f;this.endDate=d;if(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate)){this.notify()}this.updateCalendars()},notify:function(){this.updateView();this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var d={top:0,left:0};if(!this.parentEl.is("body")){d={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()}}if(this.opens=="left"){this.container.css({top:this.element.offset().top+this.element.outerHeight()-d.top,right:b(window).width()-this.element.offset().left-this.element.outerWidth()-d.left,left:"auto"});if(this.container.offset().left<0){this.container.css({right:"auto",left:9})}}else{this.container.css({top:this.element.offset().top+this.element.outerHeight()-d.top,left:this.element.offset().left-d.left,right:"auto"});if(this.container.offset().left+this.container.outerWidth()>b(window).width()){this.container.css({left:"auto",right:0})}}},toggle:function(d){if(this.element.hasClass("active")){this.hide()}else{this.show()}},show:function(d){this.element.addClass("active");this.container.show();this.move();b(document).on("click.daterangepicker",b.proxy(this.outsideClick,this));b(document).on("click.daterangepicker","[data-toggle=dropdown]",b.proxy(this.outsideClick,this));this.element.trigger("show.daterangepicker",this)},outsideClick:function(f){var d=b(f.target);if(d.closest(this.element).length||d.closest(this.container).length||d.closest(".calendar-date").length){return}this.hide()},hide:function(d){this.element.removeClass("active");this.container.hide();if(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate)){this.notify()}this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();b(document).off("click.daterangepicker",this.outsideClick);this.element.trigger("hide.daterangepicker",this)},enterRange:function(g){var d=g.target.innerHTML;if(d==this.locale.customRangeLabel){this.updateView()}else{var f=this.ranges[d];this.container.find("input[name=daterangepicker_start]").val(f[0].format(this.format));this.container.find("input[name=daterangepicker_end]").val(f[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar");this.move()},hideCalendars:function(){this.container.removeClass("show-calendar")},updateInputText:function(){if(this.element.is("input")&&!this.singleDatePicker){this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format))}else{if(this.element.is("input")){this.element.val(this.startDate.format(this.format))}}},clickRange:function(g){var d=g.target.innerHTML;this.chosenLabel=d;if(d==this.locale.customRangeLabel){this.showCalendars()}else{var f=this.ranges[d];this.startDate=f[0];this.endDate=f[1];if(!this.timePicker){this.startDate.startOf("day");this.endDate.endOf("day")}this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute());this.updateCalendars();this.updateInputText();this.hideCalendars();this.hide();this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(f){var d=b(f.target).parents(".calendar");if(d.hasClass("left")){this.leftCalendar.month.subtract("month",1)}else{this.rightCalendar.month.subtract("month",1)}this.updateCalendars()},clickNext:function(f){var d=b(f.target).parents(".calendar");if(d.hasClass("left")){this.leftCalendar.month.add("month",1)}else{this.rightCalendar.month.add("month",1)}this.updateCalendars()},enterDate:function(g){var i=b(g.target).attr("data-title");var h=i.substr(1,1);var d=i.substr(3,1);var f=b(g.target).parents(".calendar");if(f.hasClass("left")){this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[h][d].format(this.format))}else{this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[h][d].format(this.format))}},clickDate:function(l){var m=b(l.target).attr("data-title");var n=m.substr(1,1);var h=m.substr(3,1);var f=b(l.target).parents(".calendar");var g,k;if(f.hasClass("left")){g=this.leftCalendar.calendar[n][h];k=this.endDate;if(typeof this.dateLimit==="object"){var d=c(g).add(this.dateLimit).startOf("day");if(k.isAfter(d)){k=d}}}else{g=this.startDate;k=this.rightCalendar.calendar[n][h];if(typeof this.dateLimit==="object"){var j=c(k).subtract(this.dateLimit).startOf("day");if(g.isBefore(j)){g=j}}}if(this.singleDatePicker&&f.hasClass("left")){k=g.clone()}else{if(this.singleDatePicker&&f.hasClass("right")){g=k.clone()}}f.find("td").removeClass("active");if(g.isSame(k)||g.isBefore(k)){b(l.target).addClass("active");this.startDate=g;this.endDate=k;this.chosenLabel=this.locale.customRangeLabel}else{if(g.isAfter(k)){b(l.target).addClass("active");var i=this.endDate.diff(this.startDate);this.startDate=g;this.endDate=c(g).add("ms",i);this.chosenLabel=this.locale.customRangeLabel}}this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year());this.updateCalendars();k.endOf("day");if(this.singleDatePicker){this.clickApply()}},clickApply:function(d){this.updateInputText();this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(d){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.chosenLabel=this.oldChosenLabel;this.updateView();this.updateCalendars();this.hide();this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(h){var j=b(h.target).closest(".calendar").hasClass("left"),i=j?"left":"right",g=this.container.find(".calendar."+i);var f=parseInt(g.find(".monthselect").val(),10);var d=g.find(".yearselect").val();this[i+"Calendar"].month.month(f).year(d);this.updateCalendars()},updateTime:function(j){var l=b(j.target).closest(".calendar").hasClass("left"),m=l?"left":"right",d=this.container.find(".calendar."+m);var i=parseInt(d.find(".hourselect").val(),10);var g=parseInt(d.find(".minuteselect").val(),10);if(this.timePicker12Hour){var k=d.find(".ampmselect").val();if(k==="下午"&&i<12){i+=12}if(k==="上午"&&i===12){i=0}}if(l){var f=this.startDate.clone();f.hour(i);f.minute(g);this.startDate=f;this.leftCalendar.month.hour(i).minute(g)}else{var h=this.endDate.clone();h.hour(i);h.minute(g);this.endDate=h;this.rightCalendar.month.hour(i).minute(g)}this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left");this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right");this.container.find(".calendar.left").html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate));this.container.find(".calendar.right").html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate));this.container.find(".ranges li").removeClass("active");var d=true;var f=0;for(var e in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[e][0])&&this.endDate.isSame(this.ranges[e][1])){d=false;this.chosenLabel=this.container.find(".ranges li:eq("+f+")").addClass("active").html()}}else{if(this.startDate.format("YYYY-MM-DD")==this.ranges[e][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[e][1].format("YYYY-MM-DD")){d=false;this.chosenLabel=this.container.find(".ranges li:eq("+f+")").addClass("active").html()}}f++}if(d){this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html()}},buildCalendar:function(p,r,j,h,q){var d=c([r,p,1]);var n=c(d).subtract("month",1).month();var m=c(d).subtract("month",1).year();var s=c([m,n]).daysInMonth();var f=d.day();var l;var k=[];for(l=0;l<6;l++){k[l]=[]}var o=s-f+this.locale.firstDay+1;if(o>s){o-=7}if(f==this.locale.firstDay){o=s-6}var g=c([m,n,o,12,h]);var e,t;for(l=0,e=0,t=0;l<42;l++,e++,g=c(g).add("hour",24)){if(l>0&&e%7===0){e=0;t++}k[t][e]=g.clone().hour(j);g.hour(12)}return k},renderDropdowns:function(i,h,d){var l=i.month();var g='<select class="monthselect">';var e=false;var q=false;for(var f=0;f<12;f++){if((!e||f>=h.month())&&(!q||f<=d.month())){g+="<option value='"+f+"'"+(f===l?" selected='selected'":"")+">"+this.locale.monthNames[f]+"</option>"}}g+="</select>";var k=i.year();var j=(d&&d.year())||(k+5);var p=(h&&h.year())||(k-50);var o='<select class="yearselect">';for(var n=p;n<=j;n++){o+='<option value="'+n+'"'+(n===k?' selected="selected"':"")+">"+n+"</option>"}o+="</select>";return g+o},renderCalendar:function(n,l,k,e){var q='<div class="calendar-date">';q+='<table class="table-condensed">';q+="<thead>";q+="<tr>";if(this.showWeekNumbers){q+="<th></th>"}if(!k||k.isBefore(n[1][1])){q+='<th class="prev available"><i class="fa fa-arrow-left icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>'}else{q+="<th></th>"}var g=this.locale.monthNames[n[1][1].month()]+n[1][1].format(" YYYY");if(this.showDropdowns){g=this.renderDropdowns(n[1][1],k,e)}q+='<th colspan="5" class="month">'+g+"</th>";if(!e||e.isAfter(n[1][1])){q+='<th class="next available"><i class="fa fa-arrow-right icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>'}else{q+="<th></th>"}q+="</tr>";q+="<tr>";if(this.showWeekNumbers){q+='<th class="week">'+this.locale.weekLabel+"</th>"}b.each(this.locale.daysOfWeek,function(t,i){q+="<th>"+i+"</th>"});q+="</tr>";q+="</thead>";q+="<tbody>";for(var s=0;s<6;s++){q+="<tr>";if(this.showWeekNumbers){q+='<td class="week">'+n[s][0].week()+"</td>"}for(var h=0;h<7;h++){var p="available ";p+=(n[s][h].month()==n[1][1].month())?"":"off";if((k&&n[s][h].isBefore(k))||(e&&n[s][h].isAfter(e))){p=" off disabled "}else{if(n[s][h].format("YYYY-MM-DD")==l.format("YYYY-MM-DD")){p+=" active ";if(n[s][h].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")){p+=" start-date "}if(n[s][h].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")){p+=" end-date "}}else{if(n[s][h]>=this.startDate&&n[s][h]<=this.endDate){p+=" in-range ";if(n[s][h].isSame(this.startDate)){p+=" start-date "}if(n[s][h].isSame(this.endDate)){p+=" end-date "}}}}var r="r"+s+"c"+h;q+='<td class="'+p.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+r+'">'+n[s][h].date()+"</td>"}q+="</tr>"}q+="</tbody>";q+="</table>";q+="</div>";var m;if(this.timePicker){q+='<div class="calendar-time">';q+='<select class="hourselect">';var f=0;var j=23;var d=l.hour();if(this.timePicker12Hour){f=1;j=12;if(d>=12){d-=12}if(d===0){d=12}}for(m=f;m<=j;m++){if(m==d){q+='<option value="'+m+'" selected="selected">'+m+"</option>"}else{q+='<option value="'+m+'">'+m+"</option>"}}q+="</select> : ";q+='<select class="minuteselect">';for(m=0;m<60;m+=this.timePickerIncrement){var o=m;if(o<10){o="0"+o}if(m==l.minute()){q+='<option value="'+m+'" selected="selected">'+o+"</option>"}else{q+='<option value="'+m+'">'+o+"</option>"}}q+="</select> ";if(this.timePicker12Hour){q+='<select class="ampmselect">';if(l.hour()>=12){q+='<option value="上午">上午</option><option value="下午" selected="selected">下午</option>'}else{q+='<option value="上午" selected="selected">上午</option><option value="下午">下午</option>'}q+="</select>"}q+="</div>"}return q},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData("daterangepicker")}};b.fn.daterangepicker=function(e,d){this.each(function(){var f=b(this);if(f.data("daterangepicker")){f.data("daterangepicker").remove()}f.data("daterangepicker",new a(f,e,d))});return this}}(window.jQuery,window.moment);
;}catch(e){}
try{
var $dp,WdatePicker;(function(){var k={$langList:[{name:"zh-cn",charset:"gb2312"}],$skinList:[{name:"default",charset:"gb2312"}],$wdate:true,$crossFrame:true,$preLoad:false,$dpPath:"",doubleCalendar:false,enableKeyboard:true,enableInputMask:true,autoUpdateOnChanged:null,weekMethod:"ISO8601",position:{},lang:"auto",skin:"default",dateFmt:"yyyy-MM-dd",realDateFmt:"yyyy-MM-dd",realTimeFmt:"HH:mm:ss",realFullFmt:"%Date %Time",minDate:"1900-01-01 00:00:00",maxDate:"2099-12-31 23:59:59",startDate:"",alwaysUseStartDate:false,yearOffset:1911,firstDayOfWeek:0,isShowWeek:false,highLineWeekDay:true,isShowClear:true,isShowToday:true,isShowOK:true,isShowOthers:true,readOnly:false,errDealMode:0,autoPickDate:null,qsEnabled:true,autoShowQS:false,opposite:false,hmsMenuCfg:{H:[1,6],m:[5,6],s:[15,4]},specialDates:null,specialDays:null,disabledDates:null,disabledDays:null,onpicking:null,onpicked:null,onclearing:null,oncleared:null,ychanging:null,ychanged:null,Mchanging:null,Mchanged:null,dchanging:null,dchanged:null,Hchanging:null,Hchanged:null,mchanging:null,mchanged:null,schanging:null,schanged:null,eCont:null,vel:null,elProp:"",errMsg:"",quickSel:[],has:{},getRealLang:function(){var b=k.$langList;for(var a=0;a<b.length;a++){if(b[a].name==this.lang){return b[a]}}return b[0]}};WdatePicker=i;var e=window,j={innerHTML:""},q="document",w="documentElement",ab="getElementsByTagName",h,ad,l,x,ae,f=navigator.appName;if(f=="Microsoft Internet Explorer"){l=true}else{if(f=="Opera"){ae=true}else{x=true}}ad=k.$dpPath||u();h=e;if(k.$crossFrame){try{while(h.parent!=h&&h.parent[q][ab]("frameset").length==0){h=h.parent}}catch(p){}}if(!h.$dp){h.$dp={ff:x,ie:l,opera:ae,status:0,defMinDate:k.minDate,defMaxDate:k.maxDate}}ac();if(k.$preLoad&&$dp.status==0){z(e,"onload",function(){i(null,true)})}if(!e[q].docMD){z(e[q],"onmousedown",aa,true);e[q].docMD=true}if(!h[q].docMD){z(h[q],"onmousedown",aa,true);h[q].docMD=true}z(e,"onunload",function(){if($dp.dd){o($dp.dd,"none")}});function ac(){try{h[q],h.$dp=h.$dp||{}}catch(c){h=e;$dp=$dp||{}}var a={win:e,$:function(A){return(typeof A=="string")?e[q].getElementById(A):A},$D:function(B,A){return this.$DV(this.$(B).value,A)},$DV:function(E,F){if(E!=""){this.dt=$dp.cal.splitDate(E,$dp.cal.dateFmt);if(F){for(var H in F){if(this.dt[H]===undefined){this.errMsg="invalid property:"+H}else{this.dt[H]+=F[H];if(H=="M"){var G=F.M>0?1:0,D=new Date(this.dt.y,this.dt.M,0).getDate();this.dt.d=Math.min(D+G,this.dt.d)}}}}if(this.dt.refresh()){return this.dt}}return""},show:function(){var C=h[q].getElementsByTagName("div"),E=100000;for(var F=0;F<C.length;F++){var D=parseInt(C[F].style.zIndex);if(D>E){E=D}}this.dd.style.zIndex=E+2;o(this.dd,"block");o(this.dd.firstChild,"")},unbind:function(A){A=this.$(A);if(A.initcfg){s(A,"onclick",function(){i(A.initcfg)});s(A,"onfocus",function(){i(A.initcfg)})}},hide:function(){o(this.dd,"none")},attachEvent:z};for(var b in a){h.$dp[b]=a[b]}$dp=h.$dp}function z(E,b,a,c){if(E.addEventListener){var D=b.replace(/on/,"");a._ieEmuEventHandler=function(A){return a(A)};E.addEventListener(D,a._ieEmuEventHandler,c)}else{E.attachEvent(b,a)}}function s(a,c,b){if(a.removeEventListener){var C=c.replace(/on/,"");b._ieEmuEventHandler=function(A){return b(A)};a.removeEventListener(C,b._ieEmuEventHandler,false)}else{a.detachEvent(c,b)}}function ag(b,c,a){if(typeof b!=typeof c){return false}if(typeof b=="object"){if(!a){for(var C in b){if(typeof c[C]=="undefined"){return false}if(!ag(b[C],c[C],true)){return false}}}return true}else{if(typeof b=="function"&&typeof c=="function"){return b.toString()==c.toString()}else{return b==c}}}function u(){var b,a,c=e[q][ab]("script");for(var C=0;C<c.length;C++){b=c[C].getAttribute("src")||"";b=b.substr(0,b.toLowerCase().indexOf("wdatepicker.js"));a=b.lastIndexOf("/");if(a>0){b=b.substring(0,a+1)}if(b){break}}return b}function t(a,c,E){var C=e[q][ab]("HEAD").item(0),b=e[q].createElement("link");if(C){b.href=a;b.rel="stylesheet";b.type="text/css";if(c){b.title=c}if(E){b.charset=E}C.appendChild(b)}}function y(G){G=G||h;var a=0,b=0;while(G!=h){var H=G.parent[q][ab]("iframe");for(var c=0;c<H.length;c++){try{if(H[c].contentWindow==G){var C=g(H[c]);a+=C.left;b+=C.top;break}}catch(I){}}G=G.parent}return{leftM:a,topM:b}}function g(O,P){if(O.getBoundingClientRect){return O.getBoundingClientRect()}else{var J={ROOT_TAG:/^body|html$/i,OP_SCROLL:/^(?:inline|table-row)$/i},Q=false,L=null,N=O.offsetTop,M=O.offsetLeft,a=O.offsetWidth,c=O.offsetHeight,b=O.offsetParent;if(b!=O){while(b){M+=b.offsetLeft;N+=b.offsetTop;if(m(b,"position").toLowerCase()=="fixed"){Q=true}else{if(b.tagName.toLowerCase()=="body"){L=b.ownerDocument.defaultView}}b=b.offsetParent}}b=O.parentNode;while(b.tagName&&!J.ROOT_TAG.test(b.tagName)){if(b.scrollTop||b.scrollLeft){if(!J.OP_SCROLL.test(o(b))){if(!ae||b.style.overflow!=="visible"){M-=b.scrollLeft;N-=b.scrollTop}}}b=b.parentNode}if(!Q){var K=af(L);M-=K.left;N-=K.top}a+=M;c+=N;return{left:M,top:N,right:a,bottom:c}}}function r(c){c=c||h;var C=c[q],a=(c.innerWidth)?c.innerWidth:(C[w]&&C[w].clientWidth)?C[w].clientWidth:C.body.offsetWidth,b=(c.innerHeight)?c.innerHeight:(C[w]&&C[w].clientHeight)?C[w].clientHeight:C.body.offsetHeight;return{width:a,height:b}}function af(c){c=c||h;var C=c[q],a=C[w],b=C.body;C=(a&&a.scrollTop!=null&&(a.scrollTop>b.scrollTop||a.scrollLeft>b.scrollLeft))?a:b;return{top:C.scrollTop,left:C.scrollLeft}}function aa(b){try{var a=b?(b.srcElement||b.target):null;if($dp.cal&&!$dp.eCont&&$dp.dd&&a!=$dp.el&&$dp.dd.style.display=="block"){$dp.cal.close()}}catch(b){}}function d(){$dp.status=2}var n,ah;function i(c,M){if(!$dp){return}ac();var b={};for(var E in c){b[E]=c[E]}for(E in k){if(E.substring(0,1)!="$"&&b[E]===undefined){b[E]=k[E]}}if(M){if(!B()){ah=ah||setInterval(function(){if(h[q].readyState=="complete"){clearInterval(ah)}i(null,true)},50);return}if($dp.status==0){$dp.status=1;b.el=j;v(b,true)}else{return}}else{if(b.eCont){b.eCont=$dp.$(b.eCont);b.el=j;b.autoPickDate=true;b.qsEnabled=false;v(b)}else{if(k.$preLoad&&$dp.status!=2){return}var G=I();if(e.event===G||G){b.srcEl=G.srcElement||G.target;G.cancelBubble=true}b.el=b.el=$dp.$(b.el||b.srcEl);if(!b.el||b.el.My97Mark===true||b.el.disabled||($dp.dd&&o($dp.dd)!="none"&&$dp.dd.style.left!="-970px")){try{if(b.el.My97Mark){b.el.My97Mark=false}}catch(a){}return}if(G&&b.el.nodeType==1&&!ag(b.el.initcfg,c)){$dp.unbind(b.el);z(b.el,G.type=="focus"?"onclick":"onfocus",function(){i(c)});b.el.initcfg=c}v(b)}}function B(){if(l&&h!=e&&h[q].readyState!="complete"){return false}return true}function I(){if(x){func=I.caller;while(func!=null){var A=func.arguments[0];if(A&&(A+"").indexOf("Event")>=0){return A}func=func.caller}return null}return event}}function m(a,b){return a.currentStyle?a.currentStyle[b]:document.defaultView.getComputedStyle(a,false)[b]}function o(a,b){if(a){if(b!=null){a.style.display=b}else{return m(a,"display")}}}function v(b,a){var A=b.el?b.el.nodeName:"INPUT";if(a||b.eCont||new RegExp(/input|textarea|div|span|p|a/ig).test(A)){b.elProp=A=="INPUT"?"value":"innerHTML"}else{return}if(b.lang=="auto"){b.lang=l?navigator.browserLanguage.toLowerCase():navigator.language.toLowerCase()}if(!b.eCont){for(var F in b){$dp[F]=b[F]}}if(!$dp.dd||b.eCont||($dp.dd&&(b.getRealLang().name!=$dp.dd.lang||b.skin!=$dp.dd.skin))){if(b.eCont){c(b.eCont,b)}else{$dp.dd=h[q].createElement("DIV");$dp.dd.style.cssText="position:absolute";h[q].body.appendChild($dp.dd);c($dp.dd,b);if(a){$dp.dd.style.left=$dp.dd.style.top="-970px"}else{$dp.show();H($dp)}}}else{if($dp.cal){$dp.show();$dp.cal.init();if(!$dp.eCont){H($dp)}}}function c(O,P){var Q=h[q].domain,U=false,T='<iframe hideFocus=true width=9 height=7 frameborder=0 border=0 scrolling=no src="about:blank"></iframe>';O.innerHTML=T;var S=k.$langList,B=k.$skinList,R;try{R=O.lastChild.contentWindow[q]}catch(V){U=true;O.removeChild(O.lastChild);var N=h[q].createElement("iframe");N.hideFocus=true;N.frameBorder=0;N.scrolling="no";N.src="javascript:(function(){var d=document;d.open();d.domain='"+Q+"';})()";O.appendChild(N);setTimeout(function(){R=O.lastChild.contentWindow[q];M()},97);return}M();function M(){var D=contextPath+"/";var E=P.getRealLang();O.lang=E.name;O.skin=P.skin;var G=["<head><script>","","var doc=document, $d, $dp, $cfg=doc.cfg, $pdp = parent.$dp, $dt, $tdt, $sdt, $lastInput, $IE=$pdp.ie, $FF = $pdp.ff,$OPERA=$pdp.opera, $ny, $cMark = false;","if($cfg.eCont){$dp = {};for(var p in $pdp)$dp[p]=$pdp[p];}else{$dp=$pdp;};for(var p in $cfg){$dp[p]=$cfg[p];}","doc.oncontextmenu=function(){try{$c._fillQS(!$dp.has.d,1);showB($d.qsDivSel);}catch(e){};return false;};","<\/script>"];if(U){G[1]='document.domain="'+Q+'";'}for(var I=0;I<B.length;I++){if(B[I].name==P.skin){G.push('<link rel="stylesheet" type="text/css" href="'+D+'css/datepicker.css" charset="'+B[I].charset+'"/>')}}G.push('<script src="'+D+'js/calendar.js"><\/script>');G.push('</head><body leftmargin="0" topmargin="0" tabindex=0></body></html>');G.push("<script>var t;t=t||setInterval(function(){if(doc.ready){new My97DP();$cfg.onload();$c.autoSize();$cfg.setPos($dp);clearInterval(t);}},20);<\/script>");P.setPos=H;P.onload=d;R.write("<html>");R.cfg=P;R.write(G.join(""));R.close()}}function H(P){var S=P.position.left,L=P.position.top,K=P.el;if(K==j){return}if(K!=P.srcEl&&(o(K)=="none"||K.type=="hidden")){K=P.srcEl}var Q=g(K),O=y(e),U=r(h),M=af(h),T=$dp.dd.offsetHeight,N=$dp.dd.offsetWidth;if(isNaN(L)){L=0}if((O.topM+Q.bottom+T>U.height)&&(O.topM+Q.top-T>0)){L+=M.top+O.topM+Q.top-T-2}else{L+=M.top+O.topM+Q.bottom;var R=L-M.top+T-U.height;if(R>0){L-=R}}if(isNaN(S)){S=0}S+=M.left+Math.min(O.leftM+Q.left,U.width-N-5)-(l?2:0);P.dd.style.top=L+"px";P.dd.style.left=S+"px"}}})();
;}catch(e){}
try{
/*! Select2 4.0.0-rc.2 | https://github.com/select2/select2/blob/master/LICENSE.md */!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){return n.apply(b,v.call(arguments,0).concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var c=r[a];delete r[a],t[a]=!0,m.apply(b,c)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||a,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[a],u):void 0,a&&(h&&h.exports!==b&&h.exports!==q[a]?q[a]=h.exports:l===b&&s||(q[a]=l))}else a&&(q[a]=d)},a=c=n=function(a,c,d,e,f){if("string"==typeof a)return p[a]?p[a](c):j(o(a,c).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(b,a,c,d):setTimeout(function(){m(b,a,c,d)},4),n},n.config=function(a){return n(a)},a._defined=q,d=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){var e=b[d];"function"==typeof e&&"constructor"!==d&&c.push(d)}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d>0&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=(function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){var a=Array.prototype.unshift;return a.call(arguments,b),e.apply(this,arguments)}}),k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d};var d=function(){this.listeners={}};return d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice;this.listeners=this.listeners||{},a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;d>c;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;a>c;c++){var d=Math.floor(36*Math.random());b+=d.toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return e!==f||"hidden"!==f&&"visible"!==f?"scroll"===e||"scroll"===f?!0:d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth:!1},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),this.$results.append(d)},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){var c=b.find(".select2-results");c.append(a)},c.prototype.sort=function(a){var b=this.options.get("sorter");return b(a)},c.prototype.setClasses=function(){var b=this;this.data.current(function(c){var d=a.map(c,function(a){return a.id.toString()}),e=b.$results.find(".select2-results__option[aria-selected]");e.each(function(){var b=a(this),c=a.data(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&a.inArray(e,d)>-1?b.attr("aria-selected","true"):b.attr("aria-selected","false")});var f=e.filter("[aria-selected=true]");f.length>0?f.first().trigger("mouseenter"):e.first().trigger("mouseenter")})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true"),null==b.id&&delete d["aria-selected"],null!=b._resultId&&(c.id=b._resultId),b.title&&(c.title=b.title),b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]);for(var e in d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c),h=document.createElement("strong");h.className="select2-results__group";{a(h)}this.template(b,h);for(var i=[],j=0;j<b.children.length;j++){var k=b.children[j],l=this.option(k);i.push(l)}var m=a("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});m.append(i),g.append(h),g.append(m)}else this.template(b,c);return a.data(c,"data",b),c},c.prototype.bind=function(b){var c=this,d=b.id+"-results";this.$results.attr("id",d),b.on("results:all",function(a){c.clear(),c.append(a.data),b.isOpen()&&c.setClasses()}),b.on("results:append",function(a){c.append(a.data),b.isOpen()&&c.setClasses()}),b.on("query",function(a){c.showLoading(a)}),b.on("select",function(){b.isOpen()&&c.setClasses()}),b.on("unselect",function(){b.isOpen()&&c.setClasses()}),b.on("open",function(){c.$results.attr("aria-expanded","true"),c.$results.attr("aria-hidden","false"),c.setClasses(),c.ensureHighlightVisible()}),b.on("close",function(){c.$results.attr("aria-expanded","false"),c.$results.attr("aria-hidden","true"),c.$results.removeAttr("aria-activedescendant")}),b.on("results:toggle",function(){var a=c.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),b.on("results:select",function(){var a=c.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?c.trigger("close"):c.trigger("select",{data:b})}}),b.on("results:previous",function(){var a=c.getHighlightedResults(),b=c.$results.find("[aria-selected]"),d=b.index(a);if(0!==d){var e=d-1;0===a.length&&(e=0);var f=b.eq(e);f.trigger("mouseenter");var g=c.$results.offset().top,h=f.offset().top,i=c.$results.scrollTop()+(h-g);0===e?c.$results.scrollTop(0):0>h-g&&c.$results.scrollTop(i)}}),b.on("results:next",function(){var a=c.getHighlightedResults(),b=c.$results.find("[aria-selected]"),d=b.index(a),e=d+1;if(!(e>=b.length)){var f=b.eq(e);f.trigger("mouseenter");var g=c.$results.offset().top+c.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=c.$results.scrollTop()+h-g;0===e?c.$results.scrollTop(0):h>g&&c.$results.scrollTop(i)}}),b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),b.on("results:message",function(a){c.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=c.$results.scrollTop(),d=c.$results.get(0).scrollHeight-c.$results.scrollTop()+a.deltaY,e=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&d<=c.$results.height();e?(c.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(c.$results.scrollTop(c.$results.get(0).scrollHeight-c.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var d=a(this),e=d.data("data");return"true"===d.attr("aria-selected")?void(c.options.get("multiple")?c.trigger("unselect",{originalEvent:b,data:e}):c.trigger("close")):void c.trigger("select",{originalEvent:b,data:e})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var b=a(this).data("data");c.getHighlightedResults().removeClass("select2-results__option--highlighted"),c.trigger("results:focus",{data:b,element:a(this)})})},c.prototype.getHighlightedResults=function(){var a=this.$results.find(".select2-results__option--highlighted");return a},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),2>=c?this.$results.scrollTop(0):(g>this.$results.outerHeight()||0>g)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return a}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),b.attr("title",this.$element.attr("title")),b.attr("tabindex",this._tabindex),this.$selection=b,b},d.prototype.bind=function(a){var b=this,d=(a.id+"-container",a.id+"-results");this.container=a,this.$selection.on("focus",function(a){b.trigger("focus",a)}),this.$selection.on("blur",function(a){b.trigger("blur",a)}),this.$selection.on("keydown",function(a){b.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){b.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){b.update(a.data)}),a.on("open",function(){b.$selection.attr("aria-expanded","true"),b.$selection.attr("aria-owns",d),b._attachCloseHandler(a)}),a.on("close",function(){b.$selection.attr("aria-expanded","false"),b.$selection.removeAttr("aria-activedescendant"),b.$selection.removeAttr("aria-owns"),b.$selection.focus(),b._detachCloseHandler(a)}),a.on("enable",function(){b.$selection.attr("tabindex",b._tabindex)}),a.on("disable",function(){b.$selection.attr("tabindex","-1")})},d.prototype._attachCloseHandler=function(b){a(document.body).on("mousedown.select2."+b.id,function(b){var c=a(b.target),d=c.closest(".select2"),e=a(".select2.select2-container--open");e.each(function(){var b=a(this);if(this!=d[0]){var c=b.data("element");c.select2("close")}})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){var c=b.find(".selection");c.append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c){function d(){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},d.prototype.bind=function(a){var b=this;d.__super__.bind.apply(this,arguments);var c=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",c),this.$selection.attr("aria-labelledby",c),this.$selection.on("mousedown",function(a){1===a.which&&b.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),a.on("selection:update",function(a){b.update(a.data)})},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a){var b=this.options.get("templateSelection"),c=this.options.get("escapeMarkup");return c(b(a))},d.prototype.selectionContainer=function(){return a("<span></span>")},d.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.display(b),d=this.$selection.find(".select2-selection__rendered");d.empty().append(c),d.prop("title",b.title||b.text)},d}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(){var b=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){b.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(c){var d=a(this),e=d.parent(),f=e.data("data");b.trigger("unselect",{originalEvent:c,data:f})})},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a){var b=this.options.get("templateSelection"),c=this.options.get("escapeMarkup");return c(b(a))},d.prototype.selectionContainer=function(){var b=a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return b},d.prototype.update=function(b){if(this.clear(),0!==b.length){for(var c=a(),d=0;d<b.length;d++){var e=b[d],f=this.display(e),g=this.selectionContainer();g.append(f),g.prop("title",e.title||e.text),g.data("data",e),c=c.add(g)}this.$selection.find(".select2-selection__rendered").append(c)}},d}),b.define("select2/selection/placeholder",["../utils"],function(){function a(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},a.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id,d=b.length>1;if(d||c)return a.call(this,b);this.clear();var e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)},a}),b.define("select2/selection/allowClear",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),null==e.placeholder&&e.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(b){if(!e.options.get("disabled")){b.stopPropagation();for(var c=a(this).data("data"),d=0;d<c.length;d++){var f={data:c[d]};if(e.trigger("unselect",f),f.prevented)return}e.$element.val(e.placeholder.id).trigger("change"),e.trigger("toggle")}})},b.prototype.update=function(b,c){if(b.call(this,c),!(this.$selection.find(".select2-selection__placeholder").length>0||0===c.length)){var d=a('<span class="select2-selection__clear">&times;</span>');d.data("data",c),this.$selection.find(".select2-selection__rendered").prepend(d)}},b}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return d},d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d),b.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus()}),b.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val(""),e.$search.focus()}),b.on("enable",function(){e.$search.prop("disabled",!1)}),b.on("disable",function(){e.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(a){e.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){e.trigger("blur",a)}),this.$selection.on("keydown",".select2-search--inline",function(a){a.stopPropagation(),e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented();var b=a.which;if(b===c.BACKSPACE&&""===e.$search.val()){var d=e.$searchContainer.prev(".select2-selection__choice");if(d.length>0){var f=d.data("data");e.searchRemoveChoice(f),a.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(){e.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(a){e.handleSearch(a)})},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.trigger("open"),this.$search.val(b.text+" ")},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").innerWidth();else{var b=this.$search.val().length+1;a=.75*b+"em"}this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],g=["opening","closing","selecting","unselecting"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),b.define("select2/diacritics",[],function(){var a={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return a}),b.define("select2/data/base",["../utils"],function(a){function b(){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),d+=null!=c.id?"-"+c.id.toString():"-"+a.generateChars(4)},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple"))return a.selected=!1,c(a.element).is("option")?(a.element.selected=!1,void this.$element.trigger("change")):void this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})},d.prototype.bind=function(a){var b=this;this.container=a,a.on("select",function(a){b.select(a.data)}),a.on("unselect",function(a){b.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})},d.prototype.query=function(a,b){var d=[],e=this,f=this.$element.children();f.each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){this.$element.append(a)},d.prototype.option=function(a){var b;a.children?(b=document.createElement("optgroup"),b.label=a.text):(b=document.createElement("option"),void 0!==b.textContent?b.textContent=a.text:b.innerText=a.text),a.id&&(b.value=a.id),a.disabled&&(b.disabled=!0),a.selected&&(b.selected=!0),a.title&&(b.title=a.title);var d=c(b),e=this._normalizeItem(a);return e.element=b,c.data(b,"data",e),d},d.prototype.item=function(a){var b={};if(b=c.data(a[0],"data"),null!=b)return b;if(a.is("option"))b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var d=a.children("option"),e=[],f=0;f<d.length;f++){var g=c(d[f]),h=this.item(g);e.push(h)}b.children=e}return b=this._normalizeItem(b),b.element=a[0],c.data(a[0],"data",b),b},d.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a}),a=c.extend({},{text:""},a);
var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){var c=this.options.get("matcher");return c(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function b(a){return function(){return c(this).val()==a.id}}for(var d=this,e=this.$element.find("option"),f=e.map(function(){return d.item(c(this)).id}).get(),g=c(),h=0;h<a.length;h++){var i=this._normalizeItem(a[h]);if(c.inArray(i.id,f)>=0){var j=e.filter(b(i)),k=this.item(j),l=(c.extend(!0,{},k,i),this.option(k));j.replaceWith(l)}else{var m=this.option(i);if(i.children){var n=this.convertToOptions(i.children);m.append(n)}g=g.add(m)}}return g},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(b,c){this.ajaxOptions=this._applyDefaults(c.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),a.__super__.constructor.call(this,b,c)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return{q:a.term}},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){});e._request=d}var e=this;this._request&&(this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url(a)),"function"==typeof f.data&&(f.data=f.data(a)),this.ajaxOptions.delay&&""!==a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");if(void 0!==f&&(this.createTag=f),b.call(this,c,d),a.isArray(e))for(var g=0;g<e.length;g++){var h=e[g],i=this._normalizeItem(h),j=this.option(i);this.$element.append(j)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0),k=i.text===b.term;if(k||j)return f?!1:(a.data=g,void c(a))}if(f)return!0;var l=e.createTag(b);if(null!=l){var m=e.option(l);m.attr("data-select2-tag",!0),e.addOptions(m),e.insertTag(g,l)}a.results=g,c(a)}var e=this;return this._removeOldTags(),null==b.term||null!=b.page?void a.call(this,b,c):void a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(){var b=(this._lastTag,this.$element.find("option[data-select2-tag]"));b.each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(a,b,c){function d(a){e.select(a)}var e=this;b.term=b.term||"";var f=this.tokenizer(b,this.options,d);f.term!==b.term&&(this.$search.length&&(this.$search.val(f.term),this.$search.focus()),b.term=f.term),a.call(this,b,c)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);e(m),g=g.substr(h+1)||"",h=0}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",b.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;return d.maximumSelectionLength>0&&f>=d.maximumSelectionLength?void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}}):void a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.position=function(){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a){function b(){}return b.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val("")}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){var b=e.showSearch(a);b?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}})},b.prototype.handleSearch=function(){if(!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},b.prototype.showSearch=function(){return!0},b}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){var c=e.$results.offset().top+e.$results.outerHeight(!1),d=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1);c+50>=d&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="option load-more" role="treeitem"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(a,b,c){this.$dropdownParent=c.get("dropdownParent")||document.body,a.call(this,b,c)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d._positionDropdown(),d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown(),d._resizeDropdown()}))}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c){var d=this,e="scroll.select2."+c.id,f="resize.select2."+c.id,g="orientationchange.select2."+c.id,h=this.$container.parents().filter(b.hasScroll);h.each(function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),h.on(e,function(){var b=a(this).data("select2-scroll-position");a(this).scrollTop(b.y)}),a(window).on(e+" "+f+" "+g,function(){d._positionDropdown(),d._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c){var d="scroll.select2."+c.id,e="resize.select2."+c.id,f="orientationchange.select2."+c.id,g=this.$container.parents().filter(b.hasScroll);g.off(d),a(window).off(d+" "+e+" "+f)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=(this.$container.position(),this.$container.offset());f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom};c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){this.$dropdownContainer.width(),this.$dropdown.css({width:this.$container.outerWidth(!1)+"px"})},c.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return a(c.data.results)<this.minimumResultsForSearch?!1:b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(){d._handleSelectOnClose()})},a.prototype._handleSelectOnClose=function(){var a=this.getHighlightedResults();a.length<1||a.trigger("mouseup")},a}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close")},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){var b=a.minimum-a.input.length,c="Please enter "+b+" or more characters";return c},loadingMore:function(){return"Loading more results…"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}D.prototype.apply=function(l){if(l=a.extend({},this.defaults,l),null==l.dataAdapter){if(l.dataAdapter=null!=l.ajax?o:null!=l.data?n:m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),(null!=l.tokenSeparators||null!=l.tokenizer)&&(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter&&(l.selectionAdapter=l.multiple?e:d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),l.selectionAdapter=j.Decorate(l.selectionAdapter,i)),"string"==typeof l.language)if(l.language.indexOf("-")>0){var F=l.language.split("-"),G=F[0];l.language=[l.language,G]}else l.language=[l.language];if(a.isArray(l.language)){var H=new k;l.language.push("en");for(var I=l.language,J=0;J<I.length;J++){var K=I[J],L={};try{L=k.loadPath(K)}catch(M){try{K=this.defaults.amdLanguageBase+K,L=k.loadPath(K)}catch(N){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+K+'" could not be automatically loaded. A fallback will be used instead.');continue}}H.extend(L)}l.translations=H}else l.translations=new k(l.language);return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){var h=e.children[g],i=c(d,h);null==i&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var j=b(e.text).toUpperCase(),k=b(d.term).toUpperCase();return j.indexOf(k)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(this.defaults,f)};var E=new D;return E}),b.define("select2/options",["jquery","./defaults","./utils"],function(a,b,c){function d(a,d){if(this.options=a,null!=d&&this.fromElement(d),this.options=b.apply(this.options),d&&d.is("input")){var e=require(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=c.Decorate(this.options.dataAdapter,e)}}return d.prototype.fromElement=function(b){var d=["select2"];null==this.options.multiple&&(this.options.multiple=b.prop("multiple")),null==this.options.disabled&&(this.options.disabled=b.prop("disabled")),null==this.options.language&&(b.prop("lang")?this.options.language=b.prop("lang").toLowerCase():b.closest("[lang]").prop("lang")&&(this.options.language=b.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=b.prop("dir")?b.prop("dir"):b.closest("[dir]").prop("dir")?b.closest("[dir]").prop("dir"):"ltr"),b.prop("disabled",this.options.disabled),b.prop("multiple",this.options.multiple),b.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),b.data("data",b.data("select2Tags")),b.data("tags",!0)),b.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),b.attr("ajax--url",b.data("ajaxUrl")),b.data("ajax--url",b.data("ajaxUrl")));var e={};e=a.fn.jquery&&"1."==a.fn.jquery.substr(0,2)&&b[0].dataset?a.extend(!0,{},b[0].dataset,b.data()):b.data();var f=a.extend(!0,{},e);f=c._convertData(f);for(var g in f)a.inArray(g,d)>-1||(a.isPlainObject(this.options[g])?a.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},d.prototype.get=function(a){return this.options[a]},d.prototype.set=function(a,b){this.options[a]=b},d}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,c){null!=a.data("select2")&&a.data("select2").destroy(),this.$element=a,this.id=this._generateId(a),c=c||{},this.options=new b(c,a),e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d),a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){k.trigger("selection:update",{data:a})}),a.hide(),this._syncAttributes(),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return 0>=e?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;i>h;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this._sync=c.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",b._sync,!1)},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("focus",function(){a.$container.addClass("select2-container--focus")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open"),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ENTER?(a.trigger("results:select"),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle"),b.preventDefault()):c===d.UP?(a.trigger("results:previous"),b.preventDefault()):c===d.DOWN?(a.trigger("results:next"),b.preventDefault()):(c===d.ESC||c===d.TAB)&&(a.close(),b.preventDefault()):(c===d.ENTER||c===d.SPACE||(c===d.DOWN||c===d.UP)&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},e.prototype.close=function(){this.isOpen()&&this.trigger("close")},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==a||0===a.length)&&(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.show(),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),b.data("element",this.$element),b},e}),b.define("jquery.select2",["jquery","./select2/core","./select2/defaults"],function(a,b,c){try{require("jquery.mousewheel")}catch(d){}return null==a.fn.select2&&(a.fn.select2=function(c){if(c=c||{},"object"==typeof c)return this.each(function(){{var d=a.extend({},c,!0);new b(a(this),d)}}),this;if("string"==typeof c){var d=this.data("select2"),e=Array.prototype.slice.call(arguments,1);return d[c](e)}throw new Error("Invalid arguments for Select2: "+c)}),null==a.fn.select2.defaults&&(a.fn.select2.defaults=c),b}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c});
;}catch(e){}
try{
(function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd){var a=jQuery.fn.select2.amd}return a.define("select2/i18n/zh-CN",[],function(){return{errorLoading:function(){return"无法载入结果。"},inputTooLong:function(c){var b=c.input.length-c.maximum,d="请删除"+b+"个字符";return d},inputTooShort:function(c){var b=c.minimum-c.input.length,d="请再输入至少"+b+"个字符";return d},loadingMore:function(){return"载入更多结果…"},maximumSelected:function(c){var b="最多只能选择"+c.maximum+"个项目";return b},noResults:function(){return"未找到结果"},searching:function(){return"搜索中…"}}}),{define:a.define,require:a.require}})();
;}catch(e){}
try{
$(function(){var a="返回顶部";$backToTopEle=$('<a href="javascript:void(0)" class="toTop" title=backToTopTxt alt=backToTopTxt></a>').appendTo($("body")).text(a).attr("title",a).click(function(){$("html, body").animate({scrollTop:0},120)}),$backToTopFun=function(){var b=$(document).scrollTop(),c=$(window).height();(b>0)?$backToTopEle.show():$backToTopEle.hide();if(!window.XMLHttpRequest){$backToTopEle.css("top",b+c-166)}};$(window).bind("scroll",$backToTopFun);$backToTopFun()});
;}catch(e){}
try{
(function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:true,dblClickExpand:true,expandSpeed:"fast",fontCss:{},nameIsHTML:false,selectedMulti:true,showIcon:true,showLine:true,showTitle:true,txtSelectedEnable:false},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:false,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:false,leaf:false}},async:{enable:false,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(setting){var r=data.getRoot(setting);if(!r){r={};data.setRoot(setting,r)}r[setting.data.key.children]=[];r.expandTriggerFlag=false;r.curSelectedList=[];r.noSelection=true;r.createdNodes=[];r.zId=0;r._ver=(new Date()).getTime()},_initCache=function(setting){var c=data.getCache(setting);if(!c){c={};data.setCache(setting,c)}c.nodes=[];c.doms=[]},_bindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.bind(c.NODECREATED,function(event,treeId,node){tools.apply(setting.callback.onNodeCreated,[event,treeId,node])});o.bind(c.CLICK,function(event,srcEvent,treeId,node,clickFlag){tools.apply(setting.callback.onClick,[srcEvent,treeId,node,clickFlag])});o.bind(c.EXPAND,function(event,treeId,node){tools.apply(setting.callback.onExpand,[event,treeId,node])});o.bind(c.COLLAPSE,function(event,treeId,node){tools.apply(setting.callback.onCollapse,[event,treeId,node])});o.bind(c.ASYNC_SUCCESS,function(event,treeId,node,msg){tools.apply(setting.callback.onAsyncSuccess,[event,treeId,node,msg])});o.bind(c.ASYNC_ERROR,function(event,treeId,node,XMLHttpRequest,textStatus,errorThrown){tools.apply(setting.callback.onAsyncError,[event,treeId,node,XMLHttpRequest,textStatus,errorThrown])});o.bind(c.REMOVE,function(event,treeId,treeNode){tools.apply(setting.callback.onRemove,[event,treeId,treeNode])})},_unbindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.unbind(c.NODECREATED).unbind(c.CLICK).unbind(c.EXPAND).unbind(c.COLLAPSE).unbind(c.ASYNC_SUCCESS).unbind(c.ASYNC_ERROR).unbind(c.REMOVE)},_eventProxy=function(event){var target=event.target,setting=data.getSetting(event.data.treeId),tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null,tmp=null;if(tools.eqs(event.type,"mousedown")){treeEventType="mousedown"}else{if(tools.eqs(event.type,"mouseup")){treeEventType="mouseup"}else{if(tools.eqs(event.type,"contextmenu")){treeEventType="contextmenu"}else{if(tools.eqs(event.type,"click")){if(tools.eqs(target.tagName,"span")&&target.getAttribute("treeNode"+consts.id.SWITCH)!==null){tId=tools.getNodeMainDom(target).id;nodeEventType="switchNode"}else{tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="clickNode"}}}else{if(tools.eqs(event.type,"dblclick")){treeEventType="dblclick";tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="switchNode"}}}}}}if(treeEventType.length>0&&tId.length==0){tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id}}if(tId.length>0){node=data.getNodeCache(setting,tId);switch(nodeEventType){case"switchNode":if(!node.isParent){nodeEventType=""}else{if(tools.eqs(event.type,"click")||(tools.eqs(event.type,"dblclick")&&tools.apply(setting.view.dblClickExpand,[setting.treeId,node],setting.view.dblClickExpand))){nodeEventCallback=handler.onSwitchNode}else{nodeEventType=""}}break;case"clickNode":nodeEventCallback=handler.onClickNode;break}}switch(treeEventType){case"mousedown":treeEventCallback=handler.onZTreeMousedown;break;case"mouseup":treeEventCallback=handler.onZTreeMouseup;break;case"dblclick":treeEventCallback=handler.onZTreeDblclick;break;case"contextmenu":treeEventCallback=handler.onZTreeContextmenu;break}var proxyResult={stop:false,node:node,nodeEventType:nodeEventType,nodeEventCallback:nodeEventCallback,treeEventType:treeEventType,treeEventCallback:treeEventCallback};return proxyResult},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){if(!n){return}var r=data.getRoot(setting),childKey=setting.data.key.children;n.level=level;n.tId=setting.treeId+"_"+(++r.zId);n.parentTId=parentNode?parentNode.tId:null;n.open=(typeof n.open=="string")?tools.eqs(n.open,"true"):!!n.open;if(n[childKey]&&n[childKey].length>0){n.isParent=true;n.zAsync=true}else{n.isParent=(typeof n.isParent=="string")?tools.eqs(n.isParent,"true"):!!n.isParent;n.open=(n.isParent&&!setting.async.enable)?n.open:false;n.zAsync=!n.isParent}n.isFirstNode=isFirstNode;n.isLastNode=isLastNode;n.getParentNode=function(){return data.getNodeCache(setting,n.parentTId)};n.getPreNode=function(){return data.getPreNode(setting,n)};n.getNextNode=function(){return data.getNextNode(setting,n)};n.isAjaxing=false;data.fixPIdKeyValue(setting,n)},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(setting,node){data.getCache(setting).nodes[data.getNodeCacheId(node.tId)]=node},getNodeCacheId:function(tId){return tId.substring(tId.lastIndexOf("_")+1)},addAfterA:function(afterA){_init.afterA.push(afterA)},addBeforeA:function(beforeA){_init.beforeA.push(beforeA)},addInnerAfterA:function(innerAfterA){_init.innerAfterA.push(innerAfterA)},addInnerBeforeA:function(innerBeforeA){_init.innerBeforeA.push(innerBeforeA)},addInitBind:function(bindEvent){_init.bind.push(bindEvent)},addInitUnBind:function(unbindEvent){_init.unbind.push(unbindEvent)},addInitCache:function(initCache){_init.caches.push(initCache)},addInitNode:function(initNode){_init.nodes.push(initNode)},addInitProxy:function(initProxy,isFirst){if(!!isFirst){_init.proxys.splice(0,0,initProxy)}else{_init.proxys.push(initProxy)}},addInitRoot:function(initRoot){_init.roots.push(initRoot)},addNodesData:function(setting,parentNode,nodes){var childKey=setting.data.key.children;if(!parentNode[childKey]){parentNode[childKey]=[]}if(parentNode[childKey].length>0){parentNode[childKey][parentNode[childKey].length-1].isLastNode=false;view.setNodeLineIcos(setting,parentNode[childKey][parentNode[childKey].length-1])}parentNode.isParent=true;parentNode[childKey]=parentNode[childKey].concat(nodes)},addSelectedNode:function(setting,node){var root=data.getRoot(setting);if(!data.isSelectedNode(setting,node)){root.curSelectedList.push(node)}},addCreatedNode:function(setting,node){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);root.createdNodes.push(node)}},addZTreeTools:function(zTreeTools){_init.zTreeTools.push(zTreeTools)},exSetting:function(s){$.extend(true,_setting,s)},fixPIdKeyValue:function(setting,node){if(setting.data.simpleData.enable){node[setting.data.simpleData.pIdKey]=node.parentTId?node.getParentNode()[setting.data.simpleData.idKey]:setting.data.simpleData.rootPId}},getAfterA:function(setting,node,array){for(var i=0,j=_init.afterA.length;i<j;i++){_init.afterA[i].apply(this,arguments)}},getBeforeA:function(setting,node,array){for(var i=0,j=_init.beforeA.length;i<j;i++){_init.beforeA[i].apply(this,arguments)}},getInnerAfterA:function(setting,node,array){for(var i=0,j=_init.innerAfterA.length;i<j;i++){_init.innerAfterA[i].apply(this,arguments)}},getInnerBeforeA:function(setting,node,array){for(var i=0,j=_init.innerBeforeA.length;i<j;i++){_init.innerBeforeA[i].apply(this,arguments)}},getCache:function(setting){return caches[setting.treeId]},getNextNode:function(setting,node){if(!node){return null}var childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);for(var i=0,l=p[childKey].length-1;i<=l;i++){if(p[childKey][i]===node){return(i==l?null:p[childKey][i+1])}}return null},getNodeByParam:function(setting,nodes,key,value){if(!nodes||!key){return null}var childKey=setting.data.key.children;for(var i=0,l=nodes.length;i<l;i++){if(nodes[i][key]==value){return nodes[i]}var tmp=data.getNodeByParam(setting,nodes[i][childKey],key,value);if(tmp){return tmp}}return null},getNodeCache:function(setting,tId){if(!tId){return null}var n=caches[setting.treeId].nodes[data.getNodeCacheId(tId)];return n?n:null},getNodeName:function(setting,node){var nameKey=setting.data.key.name;return""+node[nameKey]},getNodeTitle:function(setting,node){var t=setting.data.key.title===""?setting.data.key.name:setting.data.key.title;return""+node[t]},getNodes:function(setting){return data.getRoot(setting)[setting.data.key.children]},getNodesByParam:function(setting,nodes,key,value){if(!nodes||!key){return[]}var childKey=setting.data.key.children,result=[];for(var i=0,l=nodes.length;i<l;i++){if(nodes[i][key]==value){result.push(nodes[i])}result=result.concat(data.getNodesByParam(setting,nodes[i][childKey],key,value))}return result},getNodesByParamFuzzy:function(setting,nodes,key,value){if(!nodes||!key){return[]}var childKey=setting.data.key.children,result=[];value=value.toLowerCase();for(var i=0,l=nodes.length;i<l;i++){if(typeof nodes[i][key]=="string"&&nodes[i][key].toLowerCase().indexOf(value)>-1){result.push(nodes[i])}result=result.concat(data.getNodesByParamFuzzy(setting,nodes[i][childKey],key,value))}return result},getNodesByFilter:function(setting,nodes,filter,isSingle,invokeParam){if(!nodes){return(isSingle?null:[])}var childKey=setting.data.key.children,result=isSingle?null:[];for(var i=0,l=nodes.length;i<l;i++){if(tools.apply(filter,[nodes[i],invokeParam],false)){if(isSingle){return nodes[i]}result.push(nodes[i])}var tmpResult=data.getNodesByFilter(setting,nodes[i][childKey],filter,isSingle,invokeParam);if(isSingle&&!!tmpResult){return tmpResult}result=isSingle?tmpResult:result.concat(tmpResult)}return result},getPreNode:function(setting,node){if(!node){return null}var childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);for(var i=0,l=p[childKey].length;i<l;i++){if(p[childKey][i]===node){return(i==0?null:p[childKey][i-1])}}return null},getRoot:function(setting){return setting?roots[setting.treeId]:null},getRoots:function(){return roots},getSetting:function(treeId){return settings[treeId]},getSettings:function(){return settings},getZTreeTools:function(treeId){var r=this.getRoot(this.getSetting(treeId));return r?r.treeTools:null},initCache:function(setting){for(var i=0,j=_init.caches.length;i<j;i++){_init.caches[i].apply(this,arguments)}},initNode:function(setting,level,node,parentNode,preNode,nextNode){for(var i=0,j=_init.nodes.length;i<j;i++){_init.nodes[i].apply(this,arguments)}},initRoot:function(setting){for(var i=0,j=_init.roots.length;i<j;i++){_init.roots[i].apply(this,arguments)}},isSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]){return true}}return false},removeNodeCache:function(setting,node){var childKey=setting.data.key.children;if(node[childKey]){for(var i=0,l=node[childKey].length;i<l;i++){arguments.callee(setting,node[childKey][i])}}data.getCache(setting).nodes[data.getNodeCacheId(node.tId)]=null},removeSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]||!data.getNodeCache(setting,root.curSelectedList[i].tId)){root.curSelectedList.splice(i,1);i--;j--}}},setCache:function(setting,cache){caches[setting.treeId]=cache},setRoot:function(setting,root){roots[setting.treeId]=root},setZTreeTools:function(setting,zTreeTools){for(var i=0,j=_init.zTreeTools.length;i<j;i++){_init.zTreeTools[i].apply(this,arguments)}},transformToArrayFormat:function(setting,nodes){if(!nodes){return[]}var childKey=setting.data.key.children,r=[];if(tools.isArray(nodes)){for(var i=0,l=nodes.length;i<l;i++){r.push(nodes[i]);if(nodes[i][childKey]){r=r.concat(data.transformToArrayFormat(setting,nodes[i][childKey]))}}}else{r.push(nodes);if(nodes[childKey]){r=r.concat(data.transformToArrayFormat(setting,nodes[childKey]))}}return r},transformTozTreeFormat:function(setting,sNodes){var i,l,key=setting.data.simpleData.idKey,parentKey=setting.data.simpleData.pIdKey,childKey=setting.data.key.children;if(!key||key==""||!sNodes){return[]}if(tools.isArray(sNodes)){var r=[];var tmpMap=[];for(i=0,l=sNodes.length;i<l;i++){tmpMap[sNodes[i][key]]=sNodes[i]}for(i=0,l=sNodes.length;i<l;i++){if(tmpMap[sNodes[i][parentKey]]&&sNodes[i][key]!=sNodes[i][parentKey]){if(!tmpMap[sNodes[i][parentKey]][childKey]){tmpMap[sNodes[i][parentKey]][childKey]=[]}tmpMap[sNodes[i][parentKey]][childKey].push(sNodes[i])}else{r.push(sNodes[i])}}return r}else{return[sNodes]}}},event={bindEvent:function(setting){for(var i=0,j=_init.bind.length;i<j;i++){_init.bind[i].apply(this,arguments)}},unbindEvent:function(setting){for(var i=0,j=_init.unbind.length;i<j;i++){_init.unbind[i].apply(this,arguments)}},bindTree:function(setting){var eventParam={treeId:setting.treeId},o=setting.treeObj;if(!setting.view.txtSelectedEnable){o.bind("selectstart",function(e){var node;var n=e.originalEvent.srcElement.nodeName.toLowerCase();return(n==="input"||n==="textarea")}).css({"-moz-user-select":"-moz-none"})}o.bind("click",eventParam,event.proxy);o.bind("dblclick",eventParam,event.proxy);o.bind("mouseover",eventParam,event.proxy);o.bind("mouseout",eventParam,event.proxy);o.bind("mousedown",eventParam,event.proxy);o.bind("mouseup",eventParam,event.proxy);o.bind("contextmenu",eventParam,event.proxy)},unbindTree:function(setting){var o=setting.treeObj;o.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){var results=[];for(var i=0,j=_init.proxys.length;i<j;i++){var proxyResult=_init.proxys[i].apply(this,arguments);results.push(proxyResult);if(proxyResult.stop){break}}return results},proxy:function(e){var setting=data.getSetting(e.data.treeId);if(!tools.uCanDo(setting,e)){return true}var results=event.doProxy(e),r=true,x=false;for(var i=0,l=results.length;i<l;i++){var proxyResult=results[i];if(proxyResult.nodeEventCallback){x=true;r=proxyResult.nodeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}if(proxyResult.treeEventCallback){x=true;r=proxyResult.treeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}}return r}},handler={onSwitchNode:function(event,node){var setting=data.getSetting(event.data.treeId);if(node.open){if(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false){return true}data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node)}else{if(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false){return true}data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node)}return true},onClickNode:function(event,node){var setting=data.getSetting(event.data.treeId),clickFlag=((setting.view.autoCancelSelected&&(event.ctrlKey||event.metaKey))&&data.isSelectedNode(setting,node))?0:(setting.view.autoCancelSelected&&(event.ctrlKey||event.metaKey)&&setting.view.selectedMulti)?2:1;if(tools.apply(setting.callback.beforeClick,[setting.treeId,node,clickFlag],true)==false){return true}if(clickFlag===0){view.cancelPreSelectedNode(setting,node)}else{view.selectNode(setting,node,clickFlag===2)}setting.treeObj.trigger(consts.event.CLICK,[event,setting.treeId,node,clickFlag]);return true},onZTreeMousedown:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeMouseDown,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseDown,[event,setting.treeId,node])}return true},onZTreeMouseup:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeMouseUp,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseUp,[event,setting.treeId,node])}return true},onZTreeDblclick:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeDblClick,[setting.treeId,node],true)){tools.apply(setting.callback.onDblClick,[event,setting.treeId,node])}return true},onZTreeContextmenu:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeRightClick,[setting.treeId,node],true)){tools.apply(setting.callback.onRightClick,[event,setting.treeId,node])}return(typeof setting.callback.onRightClick)!="function"}},tools={apply:function(fun,param,defaultValue){if((typeof fun)=="function"){return fun.apply(zt,param?param:[])}return defaultValue},canAsync:function(setting,node){var childKey=setting.data.key.children;return(setting.async.enable&&node&&node.isParent&&!(node.zAsync||(node[childKey]&&node[childKey].length>0)))},clone:function(obj){if(obj===null){return null}var o=tools.isArray(obj)?[]:{};for(var i in obj){o[i]=(obj[i] instanceof Date)?new Date(obj[i].getTime()):(typeof obj[i]==="object"?arguments.callee(obj[i]):obj[i])}return o},eqs:function(str1,str2){return str1.toLowerCase()===str2.toLowerCase()},isArray:function(arr){return Object.prototype.toString.apply(arr)==="[object Array]"},$:function(node,exp,setting){if(!!exp&&typeof exp!="string"){setting=exp;exp=""}if(typeof node=="string"){return $(node,setting?setting.treeObj.get(0).ownerDocument:null)}else{return $("#"+node.tId+exp,setting?setting.treeObj:null)}},getMDom:function(setting,curDom,targetExpr){if(!curDom){return null}while(curDom&&curDom.id!==setting.treeId){for(var i=0,l=targetExpr.length;curDom.tagName&&i<l;i++){if(tools.eqs(curDom.tagName,targetExpr[i].tagName)&&curDom.getAttribute(targetExpr[i].attrName)!==null){return curDom}}curDom=curDom.parentNode}return null},getNodeMainDom:function(target){return($(target).parent("li").get(0)||$(target).parentsUntil("li").parent().get(0))},isChildOrSelf:function(dom,parentId){return($(dom).closest("#"+parentId).length>0)},uCanDo:function(setting,e){return true}},view={addNodes:function(setting,parentNode,newNodes,isSilent){if(setting.data.keep.leaf&&parentNode&&!parentNode.isParent){return}if(!tools.isArray(newNodes)){newNodes=[newNodes]}if(setting.data.simpleData.enable){newNodes=data.transformTozTreeFormat(setting,newNodes)}if(parentNode){var target_switchObj=$$(parentNode,consts.id.SWITCH,setting),target_icoObj=$$(parentNode,consts.id.ICON,setting),target_ulObj=$$(parentNode,consts.id.UL,setting);if(!parentNode.open){view.replaceSwitchClass(parentNode,target_switchObj,consts.folder.CLOSE);view.replaceIcoClass(parentNode,target_icoObj,consts.folder.CLOSE);parentNode.open=false;target_ulObj.css({display:"none"})}data.addNodesData(setting,parentNode,newNodes);view.createNodes(setting,parentNode.level+1,newNodes,parentNode);if(!isSilent){view.expandCollapseParentNode(setting,parentNode,true)}}else{data.addNodesData(setting,data.getRoot(setting),newNodes);view.createNodes(setting,0,newNodes,null)}},appendNodes:function(setting,level,nodes,parentNode,initFlag,openFlag){if(!nodes){return[]}var html=[],childKey=setting.data.key.children;for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];if(initFlag){var tmpPNode=(parentNode)?parentNode:data.getRoot(setting),tmpPChild=tmpPNode[childKey],isFirstNode=((tmpPChild.length==nodes.length)&&(i==0)),isLastNode=(i==(nodes.length-1));data.initNode(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag);data.addNodeCache(setting,node)}var childHtml=[];if(node[childKey]&&node[childKey].length>0){childHtml=view.appendNodes(setting,level+1,node[childKey],node,initFlag,openFlag&&node.open)}if(openFlag){view.makeDOMNodeMainBefore(html,setting,node);view.makeDOMNodeLine(html,setting,node);data.getBeforeA(setting,node,html);view.makeDOMNodeNameBefore(html,setting,node);data.getInnerBeforeA(setting,node,html);view.makeDOMNodeIcon(html,setting,node);data.getInnerAfterA(setting,node,html);view.makeDOMNodeNameAfter(html,setting,node);data.getAfterA(setting,node,html);if(node.isParent&&node.open){view.makeUlHtml(setting,node,html,childHtml.join(""))}view.makeDOMNodeMainAfter(html,setting,node);data.addCreatedNode(setting,node)}}return html},appendParentULDom:function(setting,node){var html=[],nObj=$$(node,setting);if(!nObj.get(0)&&!!node.parentTId){view.appendParentULDom(setting,node.getParentNode());nObj=$$(node,setting)}var ulObj=$$(node,consts.id.UL,setting);if(ulObj.get(0)){ulObj.remove()}var childKey=setting.data.key.children,childHtml=view.appendNodes(setting,node.level+1,node[childKey],node,false,true);view.makeUlHtml(setting,node,html,childHtml.join(""));nObj.append(html.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent){tools.apply(callback);return false}else{if(node&&node.isAjaxing){return false}else{if(tools.apply(setting.callback.beforeAsync,[setting.treeId,node],true)==false){tools.apply(callback);return false}}}if(node){node.isAjaxing=true;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;if(pKey.length>1){spKey=pKey[1];pKey=pKey[0]}tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam)){for(i=0,l=setting.async.otherParam.length;i<l;i+=2){tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1]}}else{for(var p in setting.async.otherParam){tmpParam[p]=setting.async.otherParam[p]}}var _tmpV=data.getRoot(setting)._ver;$.ajax({contentType:setting.async.contentType,cache:false,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV!=data.getRoot(setting)._ver){return}var newNodes=[];try{if(!msg||msg.length==0){newNodes=[]}else{if(typeof msg=="string"){newNodes=eval("("+msg+")")}else{newNodes=msg}}}catch(err){newNodes=msg}if(node){node.isAjaxing=null;node.zAsync=true}view.setNodeLineIcos(setting,node);if(newNodes&&newNodes!==""){newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes);view.addNodes(setting,node,!!newNodes?tools.clone(newNodes):[],!!isSilent)}else{view.addNodes(setting,node,[],!!isSilent)}setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]);tools.apply(callback)},error:function(XMLHttpRequest,textStatus,errorThrown){if(_tmpV!=data.getRoot(setting)._ver){return}if(node){node.isAjaxing=null}view.setNodeLineIcos(setting,node);setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,XMLHttpRequest,textStatus,errorThrown])}});return true},cancelPreSelectedNode:function(setting,node){var list=data.getRoot(setting).curSelectedList;for(var i=0,j=list.length-1;j>=i;j--){if(!node||node===list[j]){$$(list[j],consts.id.A,setting).removeClass(consts.node.CURSELECTED);if(node){data.removeSelectedNode(setting,node);break}}}if(!node){data.getRoot(setting).curSelectedList=[]}},createNodeCallback:function(setting){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);while(root.createdNodes.length>0){var node=root.createdNodes.shift();tools.apply(setting.view.addDiyDom,[setting.treeId,node]);if(!!setting.callback.onNodeCreated){setting.treeObj.trigger(consts.event.NODECREATED,[setting.treeId,node])}}}},createNodes:function(setting,level,nodes,parentNode){if(!nodes||nodes.length==0){return}var root=data.getRoot(setting),childKey=setting.data.key.children,openFlag=!parentNode||parentNode.open||!!$$(parentNode[childKey][0],setting).get(0);root.createdNodes=[];var zTreeHtml=view.appendNodes(setting,level,nodes,parentNode,true,openFlag);if(!parentNode){setting.treeObj.append(zTreeHtml.join(""))}else{var ulObj=$$(parentNode,consts.id.UL,setting);if(ulObj.get(0)){ulObj.append(zTreeHtml.join(""))}}view.createNodeCallback(setting)},destroy:function(setting){if(!setting){return}data.initCache(setting);data.initRoot(setting);event.unbindTree(setting);event.unbindEvent(setting);setting.treeObj.empty();delete settings[setting.treeId]},expandCollapseNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),childKey=setting.data.key.children;if(!node){tools.apply(callback,[]);return}if(root.expandTriggerFlag){var _callback=callback;callback=function(){if(_callback){_callback()}if(node.open){setting.treeObj.trigger(consts.event.EXPAND,[setting.treeId,node])}else{setting.treeObj.trigger(consts.event.COLLAPSE,[setting.treeId,node])}};root.expandTriggerFlag=false}if(!node.open&&node.isParent&&((!$$(node,consts.id.UL,setting).get(0))||(node[childKey]&&node[childKey].length>0&&!$$(node[childKey][0],setting).get(0)))){view.appendParentULDom(setting,node);view.createNodeCallback(setting)}if(node.open==expandFlag){tools.apply(callback,[]);return}var ulObj=$$(node,consts.id.UL,setting),switchObj=$$(node,consts.id.SWITCH,setting),icoObj=$$(node,consts.id.ICON,setting);if(node.isParent){node.open=!node.open;if(node.iconOpen&&node.iconClose){icoObj.attr("style",view.makeNodeIcoStyle(setting,node))}if(node.open){view.replaceSwitchClass(node,switchObj,consts.folder.OPEN);view.replaceIcoClass(node,icoObj,consts.folder.OPEN);if(animateFlag==false||setting.view.expandSpeed==""){ulObj.show();tools.apply(callback,[])}else{if(node[childKey]&&node[childKey].length>0){ulObj.slideDown(setting.view.expandSpeed,callback)}else{ulObj.show();tools.apply(callback,[])}}}else{view.replaceSwitchClass(node,switchObj,consts.folder.CLOSE);view.replaceIcoClass(node,icoObj,consts.folder.CLOSE);if(animateFlag==false||setting.view.expandSpeed==""||!(node[childKey]&&node[childKey].length>0)){ulObj.hide();tools.apply(callback,[])}else{ulObj.slideUp(setting.view.expandSpeed,callback)}}}else{tools.apply(callback,[])}},expandCollapseParentNode:function(setting,node,expandFlag,animateFlag,callback){if(!node){return}if(!node.parentTId){view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback);return}else{view.expandCollapseNode(setting,node,expandFlag,animateFlag)}if(node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,animateFlag,callback)}},expandCollapseSonNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),childKey=setting.data.key.children,treeNodes=(node)?node[childKey]:root[childKey],selfAnimateSign=(node)?false:animateFlag,expandTriggerFlag=data.getRoot(setting).expandTriggerFlag;data.getRoot(setting).expandTriggerFlag=false;if(treeNodes){for(var i=0,l=treeNodes.length;i<l;i++){if(treeNodes[i]){view.expandCollapseSonNode(setting,treeNodes[i],expandFlag,selfAnimateSign)}}}data.getRoot(setting).expandTriggerFlag=expandTriggerFlag;view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback)},makeDOMNodeIcon:function(html,setting,node){var nameStr=data.getNodeName(setting,node),name=setting.view.nameIsHTML?nameStr:nameStr.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");html.push("<span id='",node.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(setting,node),"' style='",view.makeNodeIcoStyle(setting,node),"'></span><span id='",node.tId,consts.id.SPAN,"'>",name,"</span>")},makeDOMNodeLine:function(html,setting,node){html.push("<span id='",node.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(setting,node),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(html,setting,node){html.push("</li>")},makeDOMNodeMainBefore:function(html,setting,node){html.push("<li id='",node.tId,"' class='",consts.className.LEVEL,node.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(html,setting,node){html.push("</a>")},makeDOMNodeNameBefore:function(html,setting,node){var title=data.getNodeTitle(setting,node),url=view.makeNodeUrl(setting,node),fontcss=view.makeNodeFontCss(setting,node),fontStyle=[];for(var f in fontcss){fontStyle.push(f,":",fontcss[f],";")}html.push("<a id='",node.tId,consts.id.A,"' class='",consts.className.LEVEL,node.level,"' treeNode",consts.id.A,' onclick="',(node.click||""),'" ',((url!=null&&url.length>0)?"href='"+url+"'":"")," target='",view.makeNodeTarget(node),"' style='",fontStyle.join(""),"'");if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&title){html.push("title='",title.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'")}html.push(">")},makeNodeFontCss:function(setting,node){var fontCss=tools.apply(setting.view.fontCss,[setting.treeId,node],setting.view.fontCss);return(fontCss&&((typeof fontCss)!="function"))?fontCss:{}},makeNodeIcoClass:function(setting,node){var icoCss=["ico"];if(!node.isAjaxing){icoCss[0]=(node.iconSkin?node.iconSkin+"_":"")+icoCss[0];if(node.isParent){icoCss.push(node.open?consts.folder.OPEN:consts.folder.CLOSE)}else{icoCss.push(consts.folder.DOCU)}}return consts.className.BUTTON+" "+icoCss.join("_")},makeNodeIcoStyle:function(setting,node){var icoStyle=[];if(!node.isAjaxing){var icon=(node.isParent&&node.iconOpen&&node.iconClose)?(node.open?node.iconOpen:node.iconClose):node.icon;if(icon){icoStyle.push("background:url(",icon,") 0 0 no-repeat;")}if(setting.view.showIcon==false||!tools.apply(setting.view.showIcon,[setting.treeId,node],true)){icoStyle.push("width:0px;height:0px;")}}return icoStyle.join("")},makeNodeLineClass:function(setting,node){var lineClass=[];if(setting.view.showLine){if(node.level==0&&node.isFirstNode&&node.isLastNode){lineClass.push(consts.line.ROOT)}else{if(node.level==0&&node.isFirstNode){lineClass.push(consts.line.ROOTS)}else{if(node.isLastNode){lineClass.push(consts.line.BOTTOM)}else{lineClass.push(consts.line.CENTER)}}}}else{lineClass.push(consts.line.NOLINE)}if(node.isParent){lineClass.push(node.open?consts.folder.OPEN:consts.folder.CLOSE)}else{lineClass.push(consts.folder.DOCU)}return view.makeNodeLineClassEx(node)+lineClass.join("_")},makeNodeLineClassEx:function(node){return consts.className.BUTTON+" "+consts.className.LEVEL+node.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(node){return(node.target||"_self")},makeNodeUrl:function(setting,node){var urlKey=setting.data.key.url;return node[urlKey]?node[urlKey]:null},makeUlHtml:function(setting,node,html,content){html.push("<ul id='",node.tId,consts.id.UL,"' class='",consts.className.LEVEL,node.level," ",view.makeUlLineClass(setting,node),"' style='display:",(node.open?"block":"none"),"'>");html.push(content);html.push("</ul>")},makeUlLineClass:function(setting,node){return((setting.view.showLine&&!node.isLastNode)?consts.line.LINE:"")},removeChildNodes:function(setting,node){if(!node){return}var childKey=setting.data.key.children,nodes=node[childKey];if(!nodes){return}for(var i=0,l=nodes.length;i<l;i++){data.removeNodeCache(setting,nodes[i])}data.removeSelectedNode(setting);delete node[childKey];if(!setting.data.keep.parent){node.isParent=false;node.open=false;var tmp_switchObj=$$(node,consts.id.SWITCH,setting),tmp_icoObj=$$(node,consts.id.ICON,setting);view.replaceSwitchClass(node,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(node,tmp_icoObj,consts.folder.DOCU);$$(node,consts.id.UL,setting).remove()}else{$$(node,consts.id.UL,setting).empty()}},setFirstNode:function(setting,parentNode){var childKey=setting.data.key.children,childLength=parentNode[childKey].length;if(childLength>0){parentNode[childKey][0].isFirstNode=true}},setLastNode:function(setting,parentNode){var childKey=setting.data.key.children,childLength=parentNode[childKey].length;if(childLength>0){parentNode[childKey][childLength-1].isLastNode=true}},removeNode:function(setting,node){var root=data.getRoot(setting),childKey=setting.data.key.children,parentNode=(node.parentTId)?node.getParentNode():root;node.isFirstNode=false;node.isLastNode=false;node.getPreNode=function(){return null};node.getNextNode=function(){return null};if(!data.getNodeCache(setting,node.tId)){return}$$(node,setting).remove();data.removeNodeCache(setting,node);data.removeSelectedNode(setting,node);for(var i=0,l=parentNode[childKey].length;i<l;i++){if(parentNode[childKey][i].tId==node.tId){parentNode[childKey].splice(i,1);break}}view.setFirstNode(setting,parentNode);view.setLastNode(setting,parentNode);var tmp_ulObj,tmp_switchObj,tmp_icoObj,childLength=parentNode[childKey].length;if(!setting.data.keep.parent&&childLength==0){parentNode.isParent=false;parentNode.open=false;tmp_ulObj=$$(parentNode,consts.id.UL,setting);tmp_switchObj=$$(parentNode,consts.id.SWITCH,setting);tmp_icoObj=$$(parentNode,consts.id.ICON,setting);view.replaceSwitchClass(parentNode,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(parentNode,tmp_icoObj,consts.folder.DOCU);tmp_ulObj.css("display","none")}else{if(setting.view.showLine&&childLength>0){var newLast=parentNode[childKey][childLength-1];tmp_ulObj=$$(newLast,consts.id.UL,setting);tmp_switchObj=$$(newLast,consts.id.SWITCH,setting);tmp_icoObj=$$(newLast,consts.id.ICON,setting);if(parentNode==root){if(parentNode[childKey].length==1){view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.ROOT)}else{var tmp_first_switchObj=$$(parentNode[childKey][0],consts.id.SWITCH,setting);view.replaceSwitchClass(parentNode[childKey][0],tmp_first_switchObj,consts.line.ROOTS);view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}}else{view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}tmp_ulObj.removeClass(consts.line.LINE)}}},replaceIcoClass:function(node,obj,newName){if(!obj||node.isAjaxing){return}var tmpName=obj.attr("class");if(tmpName==undefined){return}var tmpList=tmpName.split("_");switch(newName){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[tmpList.length-1]=newName;break}obj.attr("class",tmpList.join("_"))},replaceSwitchClass:function(node,obj,newName){if(!obj){return}var tmpName=obj.attr("class");if(tmpName==undefined){return}var tmpList=tmpName.split("_");switch(newName){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:tmpList[0]=view.makeNodeLineClassEx(node)+newName;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[1]=newName;break}obj.attr("class",tmpList.join("_"));if(newName!==consts.folder.DOCU){obj.removeAttr("disabled")}else{obj.attr("disabled","disabled")}},selectNode:function(setting,node,addFlag){if(!addFlag){view.cancelPreSelectedNode(setting)}$$(node,consts.id.A,setting).addClass(consts.node.CURSELECTED);data.addSelectedNode(setting,node)},setNodeFontCss:function(setting,treeNode){var aObj=$$(treeNode,consts.id.A,setting),fontCss=view.makeNodeFontCss(setting,treeNode);if(fontCss){aObj.css(fontCss)}},setNodeLineIcos:function(setting,node){if(!node){return}var switchObj=$$(node,consts.id.SWITCH,setting),ulObj=$$(node,consts.id.UL,setting),icoObj=$$(node,consts.id.ICON,setting),ulLine=view.makeUlLineClass(setting,node);if(ulLine.length==0){ulObj.removeClass(consts.line.LINE)}else{ulObj.addClass(ulLine)}switchObj.attr("class",view.makeNodeLineClass(setting,node));if(node.isParent){switchObj.removeAttr("disabled")}else{switchObj.attr("disabled","disabled")}icoObj.removeAttr("style");icoObj.attr("style",view.makeNodeIcoStyle(setting,node));icoObj.attr("class",view.makeNodeIcoClass(setting,node))},setNodeName:function(setting,node){var title=data.getNodeTitle(setting,node),nObj=$$(node,consts.id.SPAN,setting);nObj.empty();if(setting.view.nameIsHTML){nObj.html(data.getNodeName(setting,node))}else{nObj.text(data.getNodeName(setting,node))}if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)){var aObj=$$(node,consts.id.A,setting);aObj.attr("title",!title?"":title)}},setNodeTarget:function(setting,node){var aObj=$$(node,consts.id.A,setting);aObj.attr("target",view.makeNodeTarget(node))},setNodeUrl:function(setting,node){var aObj=$$(node,consts.id.A,setting),url=view.makeNodeUrl(setting,node);if(url==null||url.length==0){aObj.removeAttr("href")}else{aObj.attr("href",url)}},switchNode:function(setting,node){if(node.open||!tools.canAsync(setting,node)){view.expandCollapseNode(setting,node,!node.open)}else{if(setting.async.enable){if(!view.asyncNode(setting,node)){view.expandCollapseNode(setting,node,!node.open);return}}else{if(node){view.expandCollapseNode(setting,node,!node.open)}}}}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(treeId){var o=data.getZTreeTools(treeId);return o?o:null},destroy:function(treeId){if(!!treeId&&treeId.length>0){view.destroy(data.getSetting(treeId))}else{for(var s in settings){view.destroy(settings[s])}}},init:function(obj,zSetting,zNodes){var setting=tools.clone(_setting);$.extend(true,setting,zSetting);setting.treeId=obj.attr("id");setting.treeObj=obj;setting.treeObj.empty();settings[setting.treeId]=setting;if(typeof document.body.style.maxHeight==="undefined"){setting.view.expandSpeed=""}data.initRoot(setting);var root=data.getRoot(setting),childKey=setting.data.key.children;zNodes=zNodes?tools.clone(tools.isArray(zNodes)?zNodes:[zNodes]):[];if(setting.data.simpleData.enable){root[childKey]=data.transformTozTreeFormat(setting,zNodes)}else{root[childKey]=zNodes}data.initCache(setting);event.unbindTree(setting);event.bindTree(setting);event.unbindEvent(setting);event.bindEvent(setting);var zTreeTools={setting:setting,addNodes:function(parentNode,newNodes,isSilent){if(!newNodes){return null}if(!parentNode){parentNode=null}if(parentNode&&!parentNode.isParent&&setting.data.keep.leaf){return null}var xNewNodes=tools.clone(tools.isArray(newNodes)?newNodes:[newNodes]);function addCallback(){view.addNodes(setting,parentNode,xNewNodes,(isSilent==true))}if(tools.canAsync(setting,parentNode)){view.asyncNode(setting,parentNode,isSilent,addCallback)}else{addCallback()}return xNewNodes},cancelSelectedNode:function(node){view.cancelPreSelectedNode(setting,node)},destroy:function(){view.destroy(setting)},expandAll:function(expandFlag){expandFlag=!!expandFlag;view.expandCollapseSonNode(setting,null,expandFlag,true);return expandFlag},expandNode:function(node,expandFlag,sonSign,focus,callbackFlag){if(!node||!node.isParent){return null}if(expandFlag!==true&&expandFlag!==false){expandFlag=!node.open}callbackFlag=!!callbackFlag;if(callbackFlag&&expandFlag&&(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false)){return null}else{if(callbackFlag&&!expandFlag&&(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false)){return null}}if(expandFlag&&node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,false)}if(expandFlag===node.open&&!sonSign){return null}data.getRoot(setting).expandTriggerFlag=callbackFlag;if(!tools.canAsync(setting,node)&&sonSign){view.expandCollapseSonNode(setting,node,expandFlag,true,function(){if(focus!==false){try{$$(node,setting).focus().blur()}catch(e){}}})}else{node.open=!expandFlag;view.switchNode(this.setting,node);if(focus!==false){try{$$(node,setting).focus().blur()}catch(e){}}}return expandFlag},getNodes:function(){return data.getNodes(setting)},getNodeByParam:function(key,value,parentNode){if(!key){return null}return data.getNodeByParam(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),key,value)},getNodeByTId:function(tId){return data.getNodeCache(setting,tId)},getNodesByParam:function(key,value,parentNode){if(!key){return null}return data.getNodesByParam(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),key,value)},getNodesByParamFuzzy:function(key,value,parentNode){if(!key){return null}return data.getNodesByParamFuzzy(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),key,value)},getNodesByFilter:function(filter,isSingle,parentNode,invokeParam){isSingle=!!isSingle;if(!filter||(typeof filter!="function")){return(isSingle?null:[])}return data.getNodesByFilter(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),filter,isSingle,invokeParam)},getNodeIndex:function(node){if(!node){return null}var childKey=setting.data.key.children,parentNode=(node.parentTId)?node.getParentNode():data.getRoot(setting);for(var i=0,l=parentNode[childKey].length;i<l;i++){if(parentNode[childKey][i]==node){return i}}return -1},getSelectedNodes:function(){var r=[],list=data.getRoot(setting).curSelectedList;for(var i=0,l=list.length;i<l;i++){r.push(list[i])}return r},isSelectedNode:function(node){return data.isSelectedNode(setting,node)},reAsyncChildNodes:function(parentNode,reloadType,isSilent){if(!this.setting.async.enable){return}var isRoot=!parentNode;if(isRoot){parentNode=data.getRoot(setting)}if(reloadType=="refresh"){var childKey=this.setting.data.key.children;for(var i=0,l=parentNode[childKey]?parentNode[childKey].length:0;i<l;i++){data.removeNodeCache(setting,parentNode[childKey][i])}data.removeSelectedNode(setting);parentNode[childKey]=[];if(isRoot){this.setting.treeObj.empty()}else{var ulObj=$$(parentNode,consts.id.UL,setting);ulObj.empty()}}view.asyncNode(this.setting,isRoot?null:parentNode,!!isSilent)},refresh:function(){this.setting.treeObj.empty();var root=data.getRoot(setting),nodes=root[setting.data.key.children];data.initRoot(setting);root[setting.data.key.children]=nodes;data.initCache(setting);view.createNodes(setting,0,root[setting.data.key.children])},removeChildNodes:function(node){if(!node){return null}var childKey=setting.data.key.children,nodes=node[childKey];view.removeChildNodes(setting,node);return nodes?nodes:null},removeNode:function(node,callbackFlag){if(!node){return}callbackFlag=!!callbackFlag;if(callbackFlag&&tools.apply(setting.callback.beforeRemove,[setting.treeId,node],true)==false){return}view.removeNode(setting,node);if(callbackFlag){this.setting.treeObj.trigger(consts.event.REMOVE,[setting.treeId,node])}},selectNode:function(node,addFlag){if(!node){return}if(tools.uCanDo(setting)){addFlag=setting.view.selectedMulti&&addFlag;if(node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),true,false,function(){try{$$(node,setting).focus().blur()}catch(e){}})}else{try{$$(node,setting).focus().blur()}catch(e){}}view.selectNode(setting,node,addFlag)}},transformTozTreeNodes:function(simpleNodes){return data.transformTozTreeFormat(setting,simpleNodes)},transformToArray:function(nodes){return data.transformToArrayFormat(setting,nodes)},updateNode:function(node,checkTypeFlag){if(!node){return}var nObj=$$(node,setting);if(nObj.get(0)&&tools.uCanDo(setting)){view.setNodeName(setting,node);view.setNodeTarget(setting,node);view.setNodeUrl(setting,node);view.setNodeLineIcos(setting,node);view.setNodeFontCss(setting,node)}}};root.treeTools=zTreeTools;data.setZTreeTools(setting,zTreeTools);if(root[childKey]&&root[childKey].length>0){view.createNodes(setting,0,root[childKey])}else{if(setting.async.enable&&setting.async.url&&setting.async.url!==""){view.asyncNode(setting)}}return zTreeTools}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts})(jQuery);
;}catch(e){}
try{
(function(e){var s=function(x,B,A,v,z,w,y){if(typeof A.isHidden=="string"){A.isHidden=r.eqs(A.isHidden,"true")}A.isHidden=!!A.isHidden;t.initHideForExCheck(x,A)},a=function(w,x,v){},i=function(x,w){w.showNodes=function(y,z){h.showNodes(x,y,z)};w.showNode=function(z,y){if(!z){return}h.showNodes(x,[z],y)};w.hideNodes=function(y,z){h.hideNodes(x,y,z)};w.hideNode=function(z,y){if(!z){return}h.hideNodes(x,[z],y)};var v=w.checkNode;if(v){w.checkNode=function(A,z,B,y){if(!!A&&!!A.isHidden){return}v.apply(w,arguments)}}},k={initHideForExCheck:function(v,w){if(w.isHidden&&v.check&&v.check.enable){if(typeof w._nocheck=="undefined"){w._nocheck=!!w.nocheck;w.nocheck=true}w.check_Child_State=-1;if(h.repairParentChkClassWithSelf){h.repairParentChkClassWithSelf(v,w)}}},initShowForExCheck:function(w,x){if(!x.isHidden&&w.check&&w.check.enable){if(typeof x._nocheck!="undefined"){x.nocheck=x._nocheck;delete x._nocheck}if(h.setChkClass){var v=g(x,l.id.CHECK,w);h.setChkClass(w,v,x)}if(h.repairParentChkClassWithSelf){h.repairParentChkClassWithSelf(w,x)}}}},c={clearOldFirstNode:function(v,w){var x=w.getNextNode();while(!!x){if(x.isFirstNode){x.isFirstNode=false;h.setNodeLineIcos(v,x);break}if(x.isLastNode){break}x=x.getNextNode()}},clearOldLastNode:function(v,w,x){var y=w.getPreNode();while(!!y){if(y.isLastNode){y.isLastNode=false;if(x){h.setNodeLineIcos(v,y)}break}if(y.isFirstNode){break}y=y.getPreNode()}},makeDOMNodeMainBefore:function(v,w,x){v.push("<li ",(x.isHidden?"style='display:none;' ":""),"id='",x.tId,"' class='",l.className.LEVEL,x.level,"' tabindex='0' hidefocus='true' treenode>")},showNode:function(w,x,v){x.isHidden=false;t.initShowForExCheck(w,x);g(x,w).show()},showNodes:function(D,v,E){if(!v||v.length==0){return}var y={},B,A;for(B=0,A=v.length;B<A;B++){var x=v[B];if(!y[x.parentTId]){var z=x.getParentNode();y[x.parentTId]=(z===null)?t.getRoot(D):x.getParentNode()}h.showNode(D,x,E)}for(var C in y){var w=y[C][D.data.key.children];h.setFirstNodeForShow(D,w);h.setLastNodeForShow(D,w)}},hideNode:function(w,x,v){x.isHidden=true;x.isFirstNode=false;x.isLastNode=false;t.initHideForExCheck(w,x);h.cancelPreSelectedNode(w,x);g(x,w).hide()},hideNodes:function(D,v,E){if(!v||v.length==0){return}var y={},B,A;for(B=0,A=v.length;B<A;B++){var x=v[B];if((x.isFirstNode||x.isLastNode)&&!y[x.parentTId]){var z=x.getParentNode();y[x.parentTId]=(z===null)?t.getRoot(D):x.getParentNode()}h.hideNode(D,x,E)}for(var C in y){var w=y[C][D.data.key.children];h.setFirstNodeForHide(D,w);h.setLastNodeForHide(D,w)}},setFirstNode:function(w,v){var y=w.data.key.children,x=v[y].length;if(x>0&&!v[y][0].isHidden){v[y][0].isFirstNode=true}else{if(x>0){h.setFirstNodeForHide(w,v[y])}}},setLastNode:function(w,v){var y=w.data.key.children,x=v[y].length;if(x>0&&!v[y][0].isHidden){v[y][x-1].isLastNode=true}else{if(x>0){h.setLastNodeForHide(w,v[y])}}},setFirstNodeForHide:function(y,v){var z,x,w;for(x=0,w=v.length;x<w;x++){z=v[x];if(z.isFirstNode){break}if(!z.isHidden&&!z.isFirstNode){z.isFirstNode=true;h.setNodeLineIcos(y,z);break}else{z=null}}return z},setFirstNodeForShow:function(z,w){var B,y,x,A,v;for(y=0,x=w.length;y<x;y++){B=w[y];if(!A&&!B.isHidden&&B.isFirstNode){A=B;break}else{if(!A&&!B.isHidden&&!B.isFirstNode){B.isFirstNode=true;A=B;h.setNodeLineIcos(z,B)}else{if(A&&B.isFirstNode){B.isFirstNode=false;v=B;h.setNodeLineIcos(z,B);break}else{B=null}}}}return{"new":A,old:v}},setLastNodeForHide:function(x,v){var y,w;for(w=v.length-1;w>=0;w--){y=v[w];if(y.isLastNode){break}if(!y.isHidden&&!y.isLastNode){y.isLastNode=true;h.setNodeLineIcos(x,y);break}else{y=null}}return y},setLastNodeForShow:function(z,w){var B,y,x,A,v;for(y=w.length-1;y>=0;y--){B=w[y];if(!A&&!B.isHidden&&B.isLastNode){A=B;break}else{if(!A&&!B.isHidden&&!B.isLastNode){B.isLastNode=true;A=B;h.setNodeLineIcos(z,B)}else{if(A&&B.isLastNode){B.isLastNode=false;v=B;h.setNodeLineIcos(z,B);break}else{B=null}}}}return{"new":A,old:v}}},o={view:c,data:k};e.extend(true,e.fn.zTree._z,o);var b=e.fn.zTree,r=b._z.tools,l=b.consts,h=b._z.view,t=b._z.data,p=b._z.event,g=r.$;t.addInitNode(s);t.addBeforeA(a);t.addZTreeTools(i);var d=t.initNode;t.initNode=function(D,v,z,A,C,B,x){var y=(A)?A:t.getRoot(D),w=y[D.data.key.children];t.tmpHideFirstNode=h.setFirstNodeForHide(D,w);t.tmpHideLastNode=h.setLastNodeForHide(D,w);if(x){h.setNodeLineIcos(D,t.tmpHideFirstNode);h.setNodeLineIcos(D,t.tmpHideLastNode)}C=(t.tmpHideFirstNode===z);B=(t.tmpHideLastNode===z);if(d){d.apply(t,arguments)}if(x&&B){h.clearOldLastNode(D,z,x)}};var q=t.makeChkFlag;if(!!q){t.makeChkFlag=function(v,w){if(!!w&&!!w.isHidden){return}q.apply(t,arguments)}}var f=t.getTreeCheckedNodes;if(!!f){t.getTreeCheckedNodes=function(x,v,y,w){if(!!v&&v.length>0){var z=v[0].getParentNode();if(!!z&&!!z.isHidden){return[]}}return f.apply(t,arguments)}}var m=t.getTreeChangeCheckedNodes;if(!!m){t.getTreeChangeCheckedNodes=function(x,v,w){if(!!v&&v.length>0){var y=v[0].getParentNode();if(!!y&&!!y.isHidden){return[]}}return m.apply(t,arguments)}}var n=h.expandCollapseSonNode;if(!!n){h.expandCollapseSonNode=function(v,w,y,x,z){if(!!w&&!!w.isHidden){return}n.apply(h,arguments)}}var u=h.setSonNodeCheckBox;if(!!u){h.setSonNodeCheckBox=function(v,w,x,y){if(!!w&&!!w.isHidden){return}u.apply(h,arguments)}}var j=h.repairParentChkClassWithSelf;if(!!j){h.repairParentChkClassWithSelf=function(v,w){if(!!w&&!!w.isHidden){return}j.apply(h,arguments)}}})(jQuery);
;}catch(e){}
try{
(function(f){var A={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:false,autoCheckTrigger:false,chkStyle:A.checkbox.STYLE,nocheckInherit:false,chkDisabledInherit:false,radioType:A.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},w=function(B){var C=z.getRoot(B);C.radioCheckedList=[]},d=function(B){},o=function(B){var C=B.treeObj,D=r.event;C.bind(D.CHECK,function(G,F,H,E){G.srcEvent=F;u.apply(B.callback.onCheck,[G,H,E])})},y=function(B){var C=B.treeObj,D=r.event;C.unbind(D.CHECK)},p=function(H){var I=H.target,K=z.getSetting(H.data.treeId),F="",C=null,D="",G="",B=null,E=null;if(u.eqs(H.type,"mouseover")){if(K.check.enable&&u.eqs(I.tagName,"span")&&I.getAttribute("treeNode"+r.id.CHECK)!==null){F=u.getNodeMainDom(I).id;D="mouseoverCheck"}}else{if(u.eqs(H.type,"mouseout")){if(K.check.enable&&u.eqs(I.tagName,"span")&&I.getAttribute("treeNode"+r.id.CHECK)!==null){F=u.getNodeMainDom(I).id;D="mouseoutCheck"}}else{if(u.eqs(H.type,"click")){if(K.check.enable&&u.eqs(I.tagName,"span")&&I.getAttribute("treeNode"+r.id.CHECK)!==null){F=u.getNodeMainDom(I).id;D="checkNode"}}}}if(F.length>0){C=z.getNodeCache(K,F);switch(D){case"checkNode":B=m.onCheckNode;break;case"mouseoverCheck":B=m.onMouseoverCheck;break;case"mouseoutCheck":B=m.onMouseoutCheck;break}}var J={stop:D==="checkNode",node:C,nodeEventType:D,nodeEventCallback:B,treeEventType:G,treeEventCallback:E};return J},v=function(J,D,F,G,I,H,E){if(!F){return}var C=J.data.key.checked;if(typeof F[C]=="string"){F[C]=u.eqs(F[C],"true")}F[C]=!!F[C];F.checkedOld=F[C];if(typeof F.nocheck=="string"){F.nocheck=u.eqs(F.nocheck,"true")}F.nocheck=!!F.nocheck||(J.check.nocheckInherit&&G&&!!G.nocheck);if(typeof F.chkDisabled=="string"){F.chkDisabled=u.eqs(F.chkDisabled,"true")}F.chkDisabled=!!F.chkDisabled||(J.check.chkDisabledInherit&&G&&!!G.chkDisabled);if(typeof F.halfCheck=="string"){F.halfCheck=u.eqs(F.halfCheck,"true")}F.halfCheck=!!F.halfCheck;F.check_Child_State=-1;F.check_Focus=false;F.getCheckStatus=function(){return z.getCheckStatus(J,F)};if(J.check.chkStyle==r.radio.STYLE&&J.check.radioType==r.radio.TYPE_ALL&&F[C]){var B=z.getRoot(J);B.radioCheckedList.push(F)}},a=function(D,E,C){var B=D.data.key.checked;if(D.check.enable){z.makeChkFlag(D,E);C.push("<span ID='",E.tId,r.id.CHECK,"' class='",k.makeChkClass(D,E),"' treeNode",r.id.CHECK,(E.nocheck===true?" style='display:none;'":""),"></span>")}},l=function(D,C){C.checkNode=function(I,H,J,G){var E=this.setting.data.key.checked;if(I.chkDisabled===true){return}if(H!==true&&H!==false){H=!I[E]}G=!!G;if(I[E]===H&&!J){return}else{if(G&&u.apply(this.setting.callback.beforeCheck,[this.setting.treeId,I],true)==false){return}}if(u.uCanDo(this.setting)&&this.setting.check.enable&&I.nocheck!==true){I[E]=H;var F=j(I,r.id.CHECK,this.setting);if(J||this.setting.check.chkStyle===r.radio.STYLE){k.checkNodeRelation(this.setting,I)}k.setChkClass(this.setting,F,I);k.repairParentChkClassWithSelf(this.setting,I);if(G){this.setting.treeObj.trigger(r.event.CHECK,[null,this.setting.treeId,I])}}};C.checkAllNodes=function(E){k.repairAllChk(this.setting,!!E)};C.getCheckedNodes=function(F){var E=this.setting.data.key.children;F=(F!==false);return z.getTreeCheckedNodes(this.setting,z.getRoot(this.setting)[E],F)};C.getChangeCheckedNodes=function(){var E=this.setting.data.key.children;return z.getTreeChangeCheckedNodes(this.setting,z.getRoot(this.setting)[E])};C.setChkDisabled=function(F,E,G,H){E=!!E;G=!!G;H=!!H;k.repairSonChkDisabled(this.setting,F,E,H);k.repairParentChkDisabled(this.setting,F.getParentNode(),E,G)};var B=C.updateNode;C.updateNode=function(G,H){if(B){B.apply(C,arguments)}if(!G||!this.setting.check.enable){return}var E=j(G,this.setting);if(E.get(0)&&u.uCanDo(this.setting)){var F=j(G,r.id.CHECK,this.setting);if(H==true||this.setting.check.chkStyle===r.radio.STYLE){k.checkNodeRelation(this.setting,G)}k.setChkClass(this.setting,F,G);k.repairParentChkClassWithSelf(this.setting,G)}}},q={getRadioCheckedList:function(E){var D=z.getRoot(E).radioCheckedList;for(var C=0,B=D.length;C<B;C++){if(!z.getNodeCache(E,D[C].tId)){D.splice(C,1);C--;B--}}return D},getCheckStatus:function(C,E){if(!C.check.enable||E.nocheck||E.chkDisabled){return null}var B=C.data.key.checked,D={checked:E[B],half:E.halfCheck?E.halfCheck:(C.check.chkStyle==r.radio.STYLE?(E.check_Child_State===2):(E[B]?(E.check_Child_State>-1&&E.check_Child_State<2):(E.check_Child_State>0)))};return D},getTreeCheckedNodes:function(J,C,I,F){if(!C){return[]}var D=J.data.key.children,B=J.data.key.checked,H=(I&&J.check.chkStyle==r.radio.STYLE&&J.check.radioType==r.radio.TYPE_ALL);F=!F?[]:F;for(var G=0,E=C.length;G<E;G++){if(C[G].nocheck!==true&&C[G].chkDisabled!==true&&C[G][B]==I){F.push(C[G]);if(H){break}}z.getTreeCheckedNodes(J,C[G][D],I,F);if(H&&F.length>0){break}}return F},getTreeChangeCheckedNodes:function(G,D,F){if(!D){return[]}var H=G.data.key.children,C=G.data.key.checked;F=!F?[]:F;for(var E=0,B=D.length;E<B;E++){if(D[E].nocheck!==true&&D[E].chkDisabled!==true&&D[E][C]!=D[E].checkedOld){F.push(D[E])}z.getTreeChangeCheckedNodes(G,D[E][H],F)}return F},makeChkFlag:function(I,D){if(!D){return}var C=I.data.key.children,B=I.data.key.checked,F=-1;if(D[C]){for(var H=0,E=D[C].length;H<E;H++){var J=D[C][H];var G=-1;if(I.check.chkStyle==r.radio.STYLE){if(J.nocheck===true||J.chkDisabled===true){G=J.check_Child_State}else{if(J.halfCheck===true){G=2}else{if(J[B]){G=2}else{G=J.check_Child_State>0?2:0}}}if(G==2){F=2;break}else{if(G==0){F=0}}}else{if(I.check.chkStyle==r.checkbox.STYLE){if(J.nocheck===true||J.chkDisabled===true){G=J.check_Child_State}else{if(J.halfCheck===true){G=1}else{if(J[B]){G=(J.check_Child_State===-1||J.check_Child_State===2)?2:1}else{G=(J.check_Child_State>0)?1:0}}}if(G===1){F=1;break}else{if(G===2&&F>-1&&H>0&&G!==F){F=1;break}else{if(F===2&&G>-1&&G<2){F=1;break}else{if(G>-1){F=G}}}}}}}}D.check_Child_State=F}},h={},m={onCheckNode:function(F,E){if(E.chkDisabled===true){return false}var D=z.getSetting(F.data.treeId),B=D.data.key.checked;if(u.apply(D.callback.beforeCheck,[D.treeId,E],true)==false){return true}E[B]=!E[B];k.checkNodeRelation(D,E);var C=j(E,r.id.CHECK,D);k.setChkClass(D,C,E);k.repairParentChkClassWithSelf(D,E);D.treeObj.trigger(r.event.CHECK,[F,D.treeId,E]);return true},onMouseoverCheck:function(E,D){if(D.chkDisabled===true){return false}var C=z.getSetting(E.data.treeId),B=j(D,r.id.CHECK,C);D.check_Focus=true;k.setChkClass(C,B,D);return true},onMouseoutCheck:function(E,D){if(D.chkDisabled===true){return false}var C=z.getSetting(E.data.treeId),B=j(D,r.id.CHECK,C);D.check_Focus=false;k.setChkClass(C,B,D);return true}},i={},e={checkNodeRelation:function(K,E){var I,G,F,D=K.data.key.children,C=K.data.key.checked,B=r.radio;if(K.check.chkStyle==B.STYLE){var J=z.getRadioCheckedList(K);if(E[C]){if(K.check.radioType==B.TYPE_ALL){for(G=J.length-1;G>=0;G--){I=J[G];if(I[C]&&I!=E){I[C]=false;J.splice(G,1);k.setChkClass(K,j(I,r.id.CHECK,K),I);if(I.parentTId!=E.parentTId){k.repairParentChkClassWithSelf(K,I)}}}J.push(E)}else{var H=(E.parentTId)?E.getParentNode():z.getRoot(K);for(G=0,F=H[D].length;G<F;G++){I=H[D][G];if(I[C]&&I!=E){I[C]=false;k.setChkClass(K,j(I,r.id.CHECK,K),I)}}}}else{if(K.check.radioType==B.TYPE_ALL){for(G=0,F=J.length;G<F;G++){if(E==J[G]){J.splice(G,1);break}}}}}else{if(E[C]&&(!E[D]||E[D].length==0||K.check.chkboxType.Y.indexOf("s")>-1)){k.setSonNodeCheckBox(K,E,true)}if(!E[C]&&(!E[D]||E[D].length==0||K.check.chkboxType.N.indexOf("s")>-1)){k.setSonNodeCheckBox(K,E,false)}if(E[C]&&K.check.chkboxType.Y.indexOf("p")>-1){k.setParentNodeCheckBox(K,E,true)}if(!E[C]&&K.check.chkboxType.N.indexOf("p")>-1){k.setParentNodeCheckBox(K,E,false)}}},makeChkClass:function(C,F){var B=C.data.key.checked,H=r.checkbox,E=r.radio,G="";if(F.chkDisabled===true){G=H.DISABLED}else{if(F.halfCheck){G=H.PART}else{if(C.check.chkStyle==E.STYLE){G=(F.check_Child_State<1)?H.FULL:H.PART}else{G=F[B]?((F.check_Child_State===2||F.check_Child_State===-1)?H.FULL:H.PART):((F.check_Child_State<1)?H.FULL:H.PART)}}}var D=C.check.chkStyle+"_"+(F[B]?H.TRUE:H.FALSE)+"_"+G;D=(F.check_Focus&&F.chkDisabled!==true)?D+"_"+H.FOCUS:D;return r.className.BUTTON+" "+H.DEFAULT+" "+D},repairAllChk:function(F,I){if(F.check.enable&&F.check.chkStyle===r.checkbox.STYLE){var D=F.data.key.checked,H=F.data.key.children,C=z.getRoot(F);for(var E=0,B=C[H].length;E<B;E++){var G=C[H][E];if(G.nocheck!==true&&G.chkDisabled!==true){G[D]=I}k.setSonNodeCheckBox(F,G,I)}}},repairChkClass:function(C,D){if(!D){return}z.makeChkFlag(C,D);if(D.nocheck!==true){var B=j(D,r.id.CHECK,C);k.setChkClass(C,B,D)}},repairParentChkClass:function(C,D){if(!D||!D.parentTId){return}var B=D.getParentNode();k.repairChkClass(C,B);k.repairParentChkClass(C,B)},repairParentChkClassWithSelf:function(B,D){if(!D){return}var C=B.data.key.children;if(D[C]&&D[C].length>0){k.repairParentChkClass(B,D[C][0])}else{k.repairParentChkClass(B,D)}},repairSonChkDisabled:function(G,I,F,D){if(!I){return}var H=G.data.key.children;if(I.chkDisabled!=F){I.chkDisabled=F}k.repairChkClass(G,I);if(I[H]&&D){for(var E=0,C=I[H].length;E<C;E++){var B=I[H][E];k.repairSonChkDisabled(G,B,F,D)}}},repairParentChkDisabled:function(D,E,C,B){if(!E){return}if(E.chkDisabled!=C&&B){E.chkDisabled=C}k.repairChkClass(D,E);k.repairParentChkDisabled(D,E.getParentNode(),C,B)},setChkClass:function(B,D,C){if(!D){return}if(C.nocheck===true){D.hide()}else{D.show()}D.attr("class",k.makeChkClass(B,C))},setParentNodeCheckBox:function(L,E,K,H){var D=L.data.key.children,B=L.data.key.checked,I=j(E,r.id.CHECK,L);if(!H){H=E}z.makeChkFlag(L,E);if(E.nocheck!==true&&E.chkDisabled!==true){E[B]=K;k.setChkClass(L,I,E);if(L.check.autoCheckTrigger&&E!=H){L.treeObj.trigger(r.event.CHECK,[null,L.treeId,E])}}if(E.parentTId){var J=true;if(!K){var C=E.getParentNode()[D];for(var G=0,F=C.length;G<F;G++){if((C[G].nocheck!==true&&C[G].chkDisabled!==true&&C[G][B])||((C[G].nocheck===true||C[G].chkDisabled===true)&&C[G].check_Child_State>0)){J=false;break}}}if(J){k.setParentNodeCheckBox(L,E.getParentNode(),K,H)}}},setSonNodeCheckBox:function(L,E,K,H){if(!E){return}var D=L.data.key.children,B=L.data.key.checked,I=j(E,r.id.CHECK,L);if(!H){H=E}var C=false;if(E[D]){for(var G=0,F=E[D].length;G<F&&E.chkDisabled!==true;G++){var J=E[D][G];k.setSonNodeCheckBox(L,J,K,H);if(J.chkDisabled===true){C=true}}}if(E!=z.getRoot(L)&&E.chkDisabled!==true){if(C&&E.nocheck!==true){z.makeChkFlag(L,E)}if(E.nocheck!==true&&E.chkDisabled!==true){E[B]=K;if(!C){E.check_Child_State=(E[D]&&E[D].length>0)?(K?2:0):-1}}else{E.check_Child_State=-1}k.setChkClass(L,I,E);if(L.check.autoCheckTrigger&&E!=H&&E.nocheck!==true&&E.chkDisabled!==true){L.treeObj.trigger(r.event.CHECK,[null,L.treeId,E])}}}},t={tools:i,view:e,event:h,data:q};f.extend(true,f.fn.zTree.consts,A);f.extend(true,f.fn.zTree._z,t);var c=f.fn.zTree,u=c._z.tools,r=c.consts,k=c._z.view,z=c._z.data,s=c._z.event,j=u.$;z.exSetting(n);z.addInitBind(o);z.addInitUnBind(y);z.addInitCache(d);z.addInitNode(v);z.addInitProxy(p,true);z.addInitRoot(w);z.addBeforeA(a);z.addZTreeTools(l);var x=k.createNodes;k.createNodes=function(D,E,C,B){if(x){x.apply(k,arguments)}if(!C){return}k.repairParentChkClassWithSelf(D,B)};var b=k.removeNode;k.removeNode=function(C,D){var B=D.getParentNode();if(b){b.apply(k,arguments)}if(!D||!B){return}k.repairChkClass(C,B);k.repairParentChkClass(C,B)};var g=k.appendNodes;k.appendNodes=function(F,H,C,B,E,G){var D="";if(g){D=g.apply(k,arguments)}if(B){z.makeChkFlag(F,B)}return D}})(jQuery);
;}catch(e){}
try{
(function(f){var C={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},m={edit:{enable:false,editNameSelectAll:false,showRemoveBtn:true,showRenameBtn:true,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:false,isCopy:true,isMove:true,prev:true,next:true,inner:true,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},x=function(E){var F=A.getRoot(E),D=A.getRoots();F.curEditNode=null;F.curEditInput=null;F.curHoverNode=null;F.dragFlag=0;F.dragNodeShowBefore=[];F.dragMaskList=new Array();D.showHoverDom=true},c=function(D){},n=function(D){var E=D.treeObj;var F=q.event;E.bind(F.RENAME,function(H,J,I,G){v.apply(D.callback.onRename,[H,J,I,G])});E.bind(F.DRAG,function(H,G,J,I){v.apply(D.callback.onDrag,[G,J,I])});E.bind(F.DRAGMOVE,function(H,G,J,I){v.apply(D.callback.onDragMove,[G,J,I])});E.bind(F.DROP,function(J,I,L,K,M,H,G){v.apply(D.callback.onDrop,[I,L,K,M,H,G])})},z=function(D){var E=D.treeObj;var F=q.event;E.unbind(F.RENAME);E.unbind(F.DRAG);E.unbind(F.DRAGMOVE);E.unbind(F.DROP)},o=function(K){var L=K.target,O=A.getSetting(K.data.treeId),M=K.relatedTarget,I="",E=null,F="",J="",D=null,H=null,G=null;if(v.eqs(K.type,"mouseover")){G=v.getMDom(O,L,[{tagName:"a",attrName:"treeNode"+q.id.A}]);if(G){I=v.getNodeMainDom(G).id;F="hoverOverNode"}}else{if(v.eqs(K.type,"mouseout")){G=v.getMDom(O,M,[{tagName:"a",attrName:"treeNode"+q.id.A}]);if(!G){I="remove";F="hoverOutNode"}}else{if(v.eqs(K.type,"mousedown")){G=v.getMDom(O,L,[{tagName:"a",attrName:"treeNode"+q.id.A}]);if(G){I=v.getNodeMainDom(G).id;F="mousedownNode"}}}}if(I.length>0){E=A.getNodeCache(O,I);switch(F){case"mousedownNode":D=l.onMousedownNode;break;case"hoverOverNode":D=l.onHoverOverNode;break;case"hoverOutNode":D=l.onHoverOutNode;break}}var N={stop:false,node:E,nodeEventType:F,nodeEventCallback:D,treeEventType:J,treeEventCallback:H};return N},w=function(F,J,I,D,H,E,G){if(!I){return}I.isHover=false;I.editNameFlag=false},k=function(E,D){D.cancelEditName=function(G){var F=A.getRoot(this.setting);if(!F.curEditNode){return}j.cancelCurEditNode(this.setting,G?G:null,true)};D.copyNode=function(J,I,H,L){if(!I){return null}if(J&&!J.isParent&&this.setting.data.keep.leaf&&H===q.move.TYPE_INNER){return null}var K=this,F=v.clone(I);if(!J){J=null;H=q.move.TYPE_INNER}if(H==q.move.TYPE_INNER){function G(){j.addNodes(K.setting,J,[F],L)}if(v.canAsync(this.setting,J)){j.asyncNode(this.setting,J,L,G)}else{G()}}else{j.addNodes(this.setting,J.parentNode,[F],L);j.moveNode(this.setting,J,F,H,false,L)}return F};D.editName=function(F){if(!F||!F.tId||F!==A.getNodeCache(this.setting,F.tId)){return}if(F.parentTId){j.expandCollapseParentNode(this.setting,F.getParentNode(),true)}j.editNode(this.setting,F)};D.moveNode=function(H,G,F,K){if(!G){return G}if(H&&!H.isParent&&this.setting.data.keep.leaf&&F===q.move.TYPE_INNER){return null}else{if(H&&((G.parentTId==H.tId&&F==q.move.TYPE_INNER)||i(G,this.setting).find("#"+H.tId).length>0)){return null}else{if(!H){H=null}}}var J=this;function I(){j.moveNode(J.setting,H,G,F,false,K)}if(v.canAsync(this.setting,H)&&F===q.move.TYPE_INNER){j.asyncNode(this.setting,H,K,I)}else{I()}return G};D.setEditable=function(F){this.setting.edit.enable=F;return this.refresh()}},p={setSonNodeLevel:function(G,D,I){if(!I){return}var H=G.data.key.children;I.level=(D)?D.level+1:0;if(!I[H]){return}for(var F=0,E=I[H].length;F<E;F++){if(I[H][F]){A.setSonNodeLevel(G,I,I[H][F])}}}},g={},l={onHoverOverNode:function(G,F){var E=A.getSetting(G.data.treeId),D=A.getRoot(E);if(D.curHoverNode!=F){l.onHoverOutNode(G)}D.curHoverNode=F;j.addHoverDom(E,F)},onHoverOutNode:function(G,F){var E=A.getSetting(G.data.treeId),D=A.getRoot(E);if(D.curHoverNode&&!A.isSelectedNode(E,D.curHoverNode)){j.removeTreeDom(E,D.curHoverNode);D.curHoverNode=null}},onMousedownNode:function(S,K){var aa,X,R=A.getSetting(S.data.treeId),W=A.getRoot(R),L=A.getRoots();if(S.button==2||!R.edit.enable||(!R.edit.drag.isCopy&&!R.edit.drag.isMove)){return true}var ad=S.target,J=A.getRoot(R).curSelectedList,T=[];if(!A.isSelectedNode(R,K)){T=[K]}else{for(aa=0,X=J.length;aa<X;aa++){if(J[aa].editNameFlag&&v.eqs(ad.tagName,"input")&&ad.getAttribute("treeNode"+q.id.INPUT)!==null){return true}T.push(J[aa]);if(T[0].parentTId!==J[aa].parentTId){T=[K];break}}}j.editNodeBlur=true;j.cancelCurEditNode(R);var ag=f(R.treeObj.get(0).ownerDocument),M=f(R.treeObj.get(0).ownerDocument.body),Z,N,ab,ac=false,ae=R,I=R,D,H,U=null,G=null,Q=null,E=q.move.TYPE_INNER,Y=S.clientX,V=S.clientY,O=(new Date()).getTime();if(v.uCanDo(R)){ag.bind("mousemove",P)}function P(a5){if(W.dragFlag==0&&Math.abs(Y-a5.clientX)<R.edit.drag.minMoveSize&&Math.abs(V-a5.clientY)<R.edit.drag.minMoveSize){return true}var a0,aW,ay,aR,aJ,aQ=R.data.key.children;M.css("cursor","pointer");if(W.dragFlag==0){if(v.apply(R.callback.beforeDrag,[R.treeId,T],true)==false){af(a5);return true}for(a0=0,aW=T.length;a0<aW;a0++){if(a0==0){W.dragNodeShowBefore=[]}ay=T[a0];if(ay.isParent&&ay.open){j.expandCollapseNode(R,ay,!ay.open);W.dragNodeShowBefore[ay.tId]=true}else{W.dragNodeShowBefore[ay.tId]=false}}W.dragFlag=1;L.showHoverDom=false;v.showIfameMask(R,true);var ai=true,al=-1;if(T.length>1){var aw=T[0].parentTId?T[0].getParentNode()[aQ]:A.getNodes(R);aJ=[];for(a0=0,aW=aw.length;a0<aW;a0++){if(W.dragNodeShowBefore[aw[a0].tId]!==undefined){if(ai&&al>-1&&(al+1)!==a0){ai=false}aJ.push(aw[a0]);al=a0}if(T.length===aJ.length){T=aJ;break}}}if(ai){D=T[0].getPreNode();H=T[T.length-1].getNextNode()}Z=i("<ul class='zTreeDragUL'></ul>",R);for(a0=0,aW=T.length;a0<aW;a0++){ay=T[a0];ay.editNameFlag=false;j.selectNode(R,ay,a0>0);j.removeTreeDom(R,ay);if(a0>R.edit.drag.maxShowNodeNum-1){continue}aR=i("<li id='"+ay.tId+"_tmp'></li>",R);aR.append(i(ay,q.id.A,R).clone());aR.css("padding","0");aR.children("#"+ay.tId+q.id.A).removeClass(q.node.CURSELECTED);Z.append(aR);if(a0==R.edit.drag.maxShowNodeNum-1){aR=i("<li id='"+ay.tId+"_moretmp'><a>  ...  </a></li>",R);Z.append(aR)}}Z.attr("id",T[0].tId+q.id.UL+"_tmp");Z.addClass(R.treeObj.attr("class"));Z.appendTo(M);N=i("<span class='tmpzTreeMove_arrow'></span>",R);N.attr("id","zTreeMove_arrow_tmp");N.appendTo(M);R.treeObj.trigger(q.event.DRAG,[a5,R.treeId,T])}if(W.dragFlag==1){if(ab&&N.attr("id")==a5.target.id&&Q&&(a5.clientX+ag.scrollLeft()+2)>(f("#"+Q+q.id.A,ab).offset().left)){var a4=f("#"+Q+q.id.A,ab);a5.target=(a4.length>0)?a4.get(0):a5.target}else{if(ab){ab.removeClass(q.node.TMPTARGET_TREE);if(Q){f("#"+Q+q.id.A,ab).removeClass(q.node.TMPTARGET_NODE+"_"+q.move.TYPE_PREV).removeClass(q.node.TMPTARGET_NODE+"_"+C.move.TYPE_NEXT).removeClass(q.node.TMPTARGET_NODE+"_"+C.move.TYPE_INNER)}}}ab=null;Q=null;ac=false;ae=R;var a1=A.getSettings();for(var aS in a1){if(a1[aS].treeId&&a1[aS].edit.enable&&a1[aS].treeId!=R.treeId&&(a5.target.id==a1[aS].treeId||f(a5.target).parents("#"+a1[aS].treeId).length>0)){ac=true;ae=a1[aS]}}var av=ag.scrollTop(),a3=ag.scrollLeft(),aj=ae.treeObj.offset(),aD=ae.treeObj.get(0).scrollHeight,aT=ae.treeObj.get(0).scrollWidth,a2=(a5.clientY+av-aj.top),aP=(ae.treeObj.height()+aj.top-a5.clientY-av),aK=(a5.clientX+a3-aj.left),au=(ae.treeObj.width()+aj.left-a5.clientX-a3),ax=(a2<R.edit.drag.borderMax&&a2>R.edit.drag.borderMin),a6=(aP<R.edit.drag.borderMax&&aP>R.edit.drag.borderMin),aN=(aK<R.edit.drag.borderMax&&aK>R.edit.drag.borderMin),ar=(au<R.edit.drag.borderMax&&au>R.edit.drag.borderMin),ak=a2>R.edit.drag.borderMin&&aP>R.edit.drag.borderMin&&aK>R.edit.drag.borderMin&&au>R.edit.drag.borderMin,aH=(ax&&ae.treeObj.scrollTop()<=0),aG=(a6&&(ae.treeObj.scrollTop()+ae.treeObj.height()+10)>=aD),an=(aN&&ae.treeObj.scrollLeft()<=0),aB=(ar&&(ae.treeObj.scrollLeft()+ae.treeObj.width()+10)>=aT);if(a5.target&&v.isChildOrSelf(a5.target,ae.treeId)){var at=a5.target;while(at&&at.tagName&&!v.eqs(at.tagName,"li")&&at.id!=ae.treeId){at=at.parentNode}var aA=true;for(a0=0,aW=T.length;a0<aW;a0++){ay=T[a0];if(at.id===ay.tId){aA=false;break}else{if(i(ay,R).find("#"+at.id).length>0){aA=false;break}}}if(aA&&a5.target&&v.isChildOrSelf(a5.target,at.id+q.id.A)){ab=f(at);Q=at.id}}ay=T[0];if(ak&&v.isChildOrSelf(a5.target,ae.treeId)){if(!ab&&(a5.target.id==ae.treeId||aH||aG||an||aB)&&(ac||(!ac&&ay.parentTId))){ab=ae.treeObj}if(ax){ae.treeObj.scrollTop(ae.treeObj.scrollTop()-10)}else{if(a6){ae.treeObj.scrollTop(ae.treeObj.scrollTop()+10)}}if(aN){ae.treeObj.scrollLeft(ae.treeObj.scrollLeft()-10)}else{if(ar){ae.treeObj.scrollLeft(ae.treeObj.scrollLeft()+10)}}if(ab&&ab!=ae.treeObj&&ab.offset().left<ae.treeObj.offset().left){ae.treeObj.scrollLeft(ae.treeObj.scrollLeft()+ab.offset().left-ae.treeObj.offset().left)}}Z.css({top:(a5.clientY+av+3)+"px",left:(a5.clientX+a3+3)+"px"});var aF=0;var aE=0;if(ab&&ab.attr("id")!=ae.treeId){var aO=Q==null?null:A.getNodeCache(ae,Q),aI=((a5.ctrlKey||a5.metaKey)&&R.edit.drag.isMove&&R.edit.drag.isCopy)||(!R.edit.drag.isMove&&R.edit.drag.isCopy),ap=!!(D&&Q===D.tId),aM=!!(H&&Q===H.tId),aY=(ay.parentTId&&ay.parentTId==Q),aL=(aI||!aM)&&v.apply(ae.edit.drag.prev,[ae.treeId,T,aO],!!ae.edit.drag.prev),ao=(aI||!ap)&&v.apply(ae.edit.drag.next,[ae.treeId,T,aO],!!ae.edit.drag.next),ah=(aI||!aY)&&!(ae.data.keep.leaf&&!aO.isParent)&&v.apply(ae.edit.drag.inner,[ae.treeId,T,aO],!!ae.edit.drag.inner);if(!aL&&!ao&&!ah){ab=null;Q="";E=q.move.TYPE_INNER;N.css({display:"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}else{var aC=f("#"+Q+q.id.A,ab),aV=aO.isLastNode?null:f("#"+aO.getNextNode().tId+q.id.A,ab.next()),aX=aC.offset().top,aZ=aC.offset().left,aU=aL?(ah?0.25:(ao?0.5:1)):-1,aq=ao?(ah?0.75:(aL?0.5:0)):-1,am=(a5.clientY+av-aX)/aC.height();if((aU==1||am<=aU&&am>=-0.2)&&aL){aF=1-N.width();aE=aX-N.height()/2;E=q.move.TYPE_PREV}else{if((aq==0||am>=aq&&am<=1.2)&&ao){aF=1-N.width();aE=(aV==null||(aO.isParent&&aO.open))?(aX+aC.height()-N.height()/2):(aV.offset().top-N.height()/2);E=q.move.TYPE_NEXT}else{aF=5-N.width();aE=aX;E=q.move.TYPE_INNER}}N.css({display:"block",top:aE+"px",left:(aZ+aF)+"px"});aC.addClass(q.node.TMPTARGET_NODE+"_"+E);if(U!=Q||G!=E){O=(new Date()).getTime()}if(aO&&aO.isParent&&E==q.move.TYPE_INNER){var az=true;if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==aO.tId){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}else{if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===aO.tId){az=false}}if(az){window.zTreeMoveTimer=setTimeout(function(){if(E!=q.move.TYPE_INNER){return}if(aO&&aO.isParent&&!aO.open&&(new Date()).getTime()-O>ae.edit.drag.autoOpenTime&&v.apply(ae.callback.beforeDragOpen,[ae.treeId,aO],true)){j.switchNode(ae,aO);if(ae.edit.drag.autoExpandTrigger){ae.treeObj.trigger(q.event.EXPAND,[ae.treeId,aO])}}},ae.edit.drag.autoOpenTime+50);window.zTreeMoveTargetNodeTId=aO.tId}}}}else{E=q.move.TYPE_INNER;if(ab&&v.apply(ae.edit.drag.inner,[ae.treeId,T,null],!!ae.edit.drag.inner)){ab.addClass(q.node.TMPTARGET_TREE)}else{ab=null}N.css({display:"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}U=Q;G=E;R.treeObj.trigger(q.event.DRAGMOVE,[a5,R.treeId,T])}return false}ag.bind("mouseup",af);function af(ao){if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}U=null;G=null;ag.unbind("mousemove",P);ag.unbind("mouseup",af);ag.unbind("selectstart",F);M.css("cursor","auto");if(ab){ab.removeClass(q.node.TMPTARGET_TREE);if(Q){f("#"+Q+q.id.A,ab).removeClass(q.node.TMPTARGET_NODE+"_"+q.move.TYPE_PREV).removeClass(q.node.TMPTARGET_NODE+"_"+C.move.TYPE_NEXT).removeClass(q.node.TMPTARGET_NODE+"_"+C.move.TYPE_INNER)}}v.showIfameMask(R,false);L.showHoverDom=true;if(W.dragFlag==0){return}W.dragFlag=0;var am,ai,an;for(am=0,ai=T.length;am<ai;am++){an=T[am];if(an.isParent&&W.dragNodeShowBefore[an.tId]&&!an.open){j.expandCollapseNode(R,an,!an.open);delete W.dragNodeShowBefore[an.tId]}}if(Z){Z.remove()}if(N){N.remove()}var ah=((ao.ctrlKey||ao.metaKey)&&R.edit.drag.isMove&&R.edit.drag.isCopy)||(!R.edit.drag.isMove&&R.edit.drag.isCopy);if(!ah&&ab&&Q&&T[0].parentTId&&Q==T[0].parentTId&&E==q.move.TYPE_INNER){ab=null}if(ab){var aj=Q==null?null:A.getNodeCache(ae,Q);if(v.apply(R.callback.beforeDrop,[ae.treeId,T,aj,E,ah],true)==false){j.selectNodes(I,T);return}var ak=ah?v.clone(T):T;function al(){if(ac){if(!ah){for(var aq=0,ap=T.length;aq<ap;aq++){j.removeNode(R,T[aq])}}if(E==q.move.TYPE_INNER){j.addNodes(ae,aj,ak)}else{j.addNodes(ae,aj.getParentNode(),ak);if(E==q.move.TYPE_PREV){for(aq=0,ap=ak.length;aq<ap;aq++){j.moveNode(ae,aj,ak[aq],E,false)}}else{for(aq=-1,ap=ak.length-1;aq<ap;ap--){j.moveNode(ae,aj,ak[ap],E,false)}}}}else{if(ah&&E==q.move.TYPE_INNER){j.addNodes(ae,aj,ak)}else{if(ah){j.addNodes(ae,aj.getParentNode(),ak)}if(E!=q.move.TYPE_NEXT){for(aq=0,ap=ak.length;aq<ap;aq++){j.moveNode(ae,aj,ak[aq],E,false)}}else{for(aq=-1,ap=ak.length-1;aq<ap;ap--){j.moveNode(ae,aj,ak[ap],E,false)}}}}j.selectNodes(ae,ak);i(ak[0],R).focus().blur();R.treeObj.trigger(q.event.DROP,[ao,ae.treeId,ak,aj,E,ah])}if(E==q.move.TYPE_INNER&&v.canAsync(ae,aj)){j.asyncNode(ae,aj,false,al)}else{al()}}else{j.selectNodes(I,T);R.treeObj.trigger(q.event.DROP,[ao,R.treeId,T,null,null,null])}}ag.bind("selectstart",F);function F(){return false}if(S.preventDefault){S.preventDefault()}return true}},h={getAbs:function(E){var G=E.getBoundingClientRect(),D=document.body.scrollTop+document.documentElement.scrollTop,F=document.body.scrollLeft+document.documentElement.scrollLeft;return[G.left+F,G.top+D]},inputFocus:function(D){if(D.get(0)){D.focus();v.setCursorPosition(D.get(0),D.val().length)}},inputSelect:function(D){if(D.get(0)){D.focus();D.select()}},setCursorPosition:function(E,F){if(E.setSelectionRange){E.focus();E.setSelectionRange(F,F)}else{if(E.createTextRange){var D=E.createTextRange();D.collapse(true);D.moveEnd("character",F);D.moveStart("character",F);D.select()}}},showIfameMask:function(K,I){var H=A.getRoot(K);while(H.dragMaskList.length>0){H.dragMaskList[0].remove();H.dragMaskList.shift()}if(I){var L=i("iframe",K);for(var G=0,E=L.length;G<E;G++){var F=L.get(G),D=v.getAbs(F),J=i("<div id='zTreeMask_"+G+"' class='zTreeMask' style='top:"+D[1]+"px; left:"+D[0]+"px; width:"+F.offsetWidth+"px; height:"+F.offsetHeight+"px;'></div>",K);J.appendTo(i("body",K));H.dragMaskList.push(J)}}}},d={addEditBtn:function(E,F){if(F.editNameFlag||i(F,q.id.EDIT,E).length>0){return}if(!v.apply(E.edit.showRenameBtn,[E.treeId,F],E.edit.showRenameBtn)){return}var G=i(F,q.id.A,E),D="<span class='"+q.className.BUTTON+" edit' id='"+F.tId+q.id.EDIT+"' title='"+v.apply(E.edit.renameTitle,[E.treeId,F],E.edit.renameTitle)+"' treeNode"+q.id.EDIT+" style='display:none;'></span>";G.append(D);i(F,q.id.EDIT,E).bind("click",function(){if(!v.uCanDo(E)||v.apply(E.callback.beforeEditName,[E.treeId,F],true)==false){return false}j.editNode(E,F);return false}).show()},addRemoveBtn:function(D,E){if(E.editNameFlag||i(E,q.id.REMOVE,D).length>0){return}if(!v.apply(D.edit.showRemoveBtn,[D.treeId,E],D.edit.showRemoveBtn)){return}var G=i(E,q.id.A,D),F="<span class='"+q.className.BUTTON+" remove' id='"+E.tId+q.id.REMOVE+"' title='"+v.apply(D.edit.removeTitle,[D.treeId,E],D.edit.removeTitle)+"' treeNode"+q.id.REMOVE+" style='display:none;'></span>";G.append(F);i(E,q.id.REMOVE,D).bind("click",function(){if(!v.uCanDo(D)||v.apply(D.callback.beforeRemove,[D.treeId,E],true)==false){return false}j.removeNode(D,E);D.treeObj.trigger(q.event.REMOVE,[D.treeId,E]);return false}).bind("mousedown",function(H){return true}).show()},addHoverDom:function(D,E){if(A.getRoots().showHoverDom){E.isHover=true;if(D.edit.enable){j.addEditBtn(D,E);j.addRemoveBtn(D,E)}v.apply(D.view.addHoverDom,[D.treeId,E])}},cancelCurEditNode:function(K,L,H){var J=A.getRoot(K),G=K.data.key.name,E=J.curEditNode;if(E){var F=J.curEditInput,I=L?L:(H?E[G]:F.val());if(v.apply(K.callback.beforeRename,[K.treeId,E,I,H],true)===false){return false}else{E[G]=I;K.treeObj.trigger(q.event.RENAME,[K.treeId,E,H])}var D=i(E,q.id.A,K);D.removeClass(q.node.CURSELECTED_EDIT);F.unbind();j.setNodeName(K,E);E.editNameFlag=false;J.curEditNode=null;J.curEditInput=null;j.selectNode(K,E,false)}J.noSelection=true;return true},editNode:function(G,H){var D=A.getRoot(G);j.editNodeBlur=false;if(A.isSelectedNode(G,H)&&D.curEditNode==H&&H.editNameFlag){setTimeout(function(){v.inputFocus(D.curEditInput)},0);return}var F=G.data.key.name;H.editNameFlag=true;j.removeTreeDom(G,H);j.cancelCurEditNode(G);j.selectNode(G,H,false);i(H,q.id.SPAN,G).html("<input type=text class='rename' id='"+H.tId+q.id.INPUT+"' treeNode"+q.id.INPUT+" >");var E=i(H,q.id.INPUT,G);E.attr("value",H[F]);if(G.edit.editNameSelectAll){v.inputSelect(E)}else{v.inputFocus(E)}E.bind("blur",function(I){if(!j.editNodeBlur){j.cancelCurEditNode(G)}}).bind("keydown",function(I){if(I.keyCode=="13"){j.editNodeBlur=true;j.cancelCurEditNode(G)}else{if(I.keyCode=="27"){j.cancelCurEditNode(G,null,true)}}}).bind("click",function(I){return false}).bind("dblclick",function(I){return false});i(H,q.id.A,G).addClass(q.node.CURSELECTED_EDIT);D.curEditInput=E;D.noSelection=false;D.curEditNode=H},moveNode:function(N,G,Q,F,ab,H){var S=A.getRoot(N),L=N.data.key.children;if(G==Q){return}if(N.data.keep.leaf&&G&&!G.isParent&&F==q.move.TYPE_INNER){return}var V=(Q.parentTId?Q.getParentNode():S),P=(G===null||G==S);if(P&&G===null){G=S}if(P){F=q.move.TYPE_INNER}var D=(G.parentTId?G.getParentNode():S);if(F!=q.move.TYPE_PREV&&F!=q.move.TYPE_NEXT){F=q.move.TYPE_INNER}if(F==q.move.TYPE_INNER){if(P){Q.parentTId=null}else{if(!G.isParent){G.isParent=true;G.open=!!G.open;j.setNodeLineIcos(N,G)}Q.parentTId=G.tId}}var I,K;if(P){I=N.treeObj;K=I}else{if(!H&&F==q.move.TYPE_INNER){j.expandCollapseNode(N,G,true,false)}else{if(!H){j.expandCollapseNode(N,G.getParentNode(),true,false)}}I=i(G,N);K=i(G,q.id.UL,N);if(!!I.get(0)&&!K.get(0)){var Z=[];j.makeUlHtml(N,G,Z,"");I.append(Z.join(""))}K=i(G,q.id.UL,N)}var X=i(Q,N);if(!X.get(0)){X=j.appendNodes(N,Q.level,[Q],null,false,true).join("")}else{if(!I.get(0)){X.remove()}}if(K.get(0)&&F==q.move.TYPE_INNER){K.append(X)}else{if(I.get(0)&&F==q.move.TYPE_PREV){I.before(X)}else{if(I.get(0)&&F==q.move.TYPE_NEXT){I.after(X)}}}var U,T,J=-1,W=0,aa=null,E=null,Y=Q.level;if(Q.isFirstNode){J=0;if(V[L].length>1){aa=V[L][1];aa.isFirstNode=true}}else{if(Q.isLastNode){J=V[L].length-1;aa=V[L][J-1];aa.isLastNode=true}else{for(U=0,T=V[L].length;U<T;U++){if(V[L][U].tId==Q.tId){J=U;break}}}}if(J>=0){V[L].splice(J,1)}if(F!=q.move.TYPE_INNER){for(U=0,T=D[L].length;U<T;U++){if(D[L][U].tId==G.tId){W=U}}}if(F==q.move.TYPE_INNER){if(!G[L]){G[L]=new Array()}if(G[L].length>0){E=G[L][G[L].length-1];E.isLastNode=false}G[L].splice(G[L].length,0,Q);Q.isLastNode=true;Q.isFirstNode=(G[L].length==1)}else{if(G.isFirstNode&&F==q.move.TYPE_PREV){D[L].splice(W,0,Q);E=G;E.isFirstNode=false;Q.parentTId=G.parentTId;Q.isFirstNode=true;Q.isLastNode=false}else{if(G.isLastNode&&F==q.move.TYPE_NEXT){D[L].splice(W+1,0,Q);E=G;E.isLastNode=false;Q.parentTId=G.parentTId;Q.isFirstNode=false;Q.isLastNode=true}else{if(F==q.move.TYPE_PREV){D[L].splice(W,0,Q)}else{D[L].splice(W+1,0,Q)}Q.parentTId=G.parentTId;Q.isFirstNode=false;Q.isLastNode=false}}}A.fixPIdKeyValue(N,Q);A.setSonNodeLevel(N,Q.getParentNode(),Q);j.setNodeLineIcos(N,Q);j.repairNodeLevelClass(N,Q,Y);if(!N.data.keep.parent&&V[L].length<1){V.isParent=false;V.open=false;var O=i(V,q.id.UL,N),R=i(V,q.id.SWITCH,N),M=i(V,q.id.ICON,N);j.replaceSwitchClass(V,R,q.folder.DOCU);j.replaceIcoClass(V,M,q.folder.DOCU);O.css("display","none")}else{if(aa){j.setNodeLineIcos(N,aa)}}if(E){j.setNodeLineIcos(N,E)}if(!!N.check&&N.check.enable&&j.repairChkClass){j.repairChkClass(N,V);j.repairParentChkClassWithSelf(N,V);if(V!=Q.parent){j.repairParentChkClassWithSelf(N,Q)}}if(!H){j.expandCollapseParentNode(N,Q.getParentNode(),true,ab)}},removeEditBtn:function(D,E){i(E,q.id.EDIT,D).unbind().remove()},removeRemoveBtn:function(D,E){i(E,q.id.REMOVE,D).unbind().remove()},removeTreeDom:function(D,E){E.isHover=false;j.removeEditBtn(D,E);j.removeRemoveBtn(D,E);v.apply(D.view.removeHoverDom,[D.treeId,E])},repairNodeLevelClass:function(E,G,F){if(F===G.level){return}var H=i(G,E),K=i(G,q.id.A,E),J=i(G,q.id.UL,E),D=q.className.LEVEL+F,I=q.className.LEVEL+G.level;H.removeClass(D);H.addClass(I);K.removeClass(D);K.addClass(I);J.removeClass(D);J.addClass(I)},selectNodes:function(G,E){for(var F=0,D=E.length;F<D;F++){j.selectNode(G,E[F],F>0)}}},t={tools:h,view:d,event:g,data:p};f.extend(true,f.fn.zTree.consts,C);f.extend(true,f.fn.zTree._z,t);var b=f.fn.zTree,v=b._z.tools,q=b.consts,j=b._z.view,A=b._z.data,s=b._z.event,i=v.$;A.exSetting(m);A.addInitBind(n);A.addInitUnBind(z);A.addInitCache(c);A.addInitNode(w);A.addInitProxy(o);A.addInitRoot(x);A.addZTreeTools(k);var u=j.cancelPreSelectedNode;j.cancelPreSelectedNode=function(F,G){var H=A.getRoot(F).curSelectedList;for(var E=0,D=H.length;E<D;E++){if(!G||G===H[E]){j.removeTreeDom(F,H[E]);if(G){break}}}if(u){u.apply(j,arguments)}};var y=j.createNodes;j.createNodes=function(F,G,E,D){if(y){y.apply(j,arguments)}if(!E){return}if(j.repairParentChkClassWithSelf){j.repairParentChkClassWithSelf(F,D)}};var r=j.makeNodeUrl;j.makeNodeUrl=function(D,E){return D.edit.enable?null:(r.apply(j,arguments))};var a=j.removeNode;j.removeNode=function(E,F){var D=A.getRoot(E);if(D.curEditNode===F){D.curEditNode=null}if(a){a.apply(j,arguments)}};var B=j.selectNode;j.selectNode=function(F,G,E){var D=A.getRoot(F);if(A.isSelectedNode(F,G)&&D.curEditNode==G&&G.editNameFlag){return false}if(B){B.apply(j,arguments)}j.addHoverDom(F,G);return true};var e=v.uCanDo;v.uCanDo=function(E,F){var D=A.getRoot(E);if(F&&(v.eqs(F.type,"mouseover")||v.eqs(F.type,"mouseout")||v.eqs(F.type,"mousedown")||v.eqs(F.type,"mouseup"))){return true}if(D.curEditNode){j.editNodeBlur=false;D.curEditInput.focus()}return(!D.curEditNode)&&(e?e.apply(j,arguments):true)}})(jQuery);
;}catch(e){}
try{
function getSelectedNodeText(a){return getSelectedNodeByKey(a,a.setting.data.key.name)}function getSelectedNodeId(a){return getSelectedNodeByKey(a,a.setting.data.simpleData.idKey)}function getCheckedNodeText(a){return getCheckedNodeByKey(a,a.setting.data.key.name)}function getCheckedNodeId(a){return getCheckedNodeByKey(a,a.setting.data.simpleData.idKey)}function getSelectedNodeByKey(b,d){nodes=b.getSelectedNodes(true);v="";nodes.sort(function e(g,f){return g.id-f.id});for(var c=0,a=nodes.length;c<a;c++){v+=nodes[c][d]+","}if(v.length>0){v=v.substring(0,v.length-1)}return v}function getCheckedNodeByKey(b,d){nodes=b.getCheckedNodes(true);v="";nodes.sort(function e(g,f){return g.id-f.id});for(var c=0,a=nodes.length;c<a;c++){v+=nodes[c][d]+","}if(v.length>0){v=v.substring(0,v.length-1)}return v};
;}catch(e){}
try{
eval(function(h,b,j,f,g,i){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(j--){i[g(j)]=f[j]||g(j)}f=[function(a){return i[a]}];g=function(){return"\\w+"};j=1}while(j--){if(f[j]){h=h.replace(new RegExp("\\b"+g(j)+"\\b","g"),f[j])}}return h}('c(!1k.2G){h 2G=l(){h p={6b:{"1o-U":"","84-2d":1,"83-2d-82":I,"1M":v,"8z-8H":I,"1H-2L":4,"3j":I,"1y":I,"67":N,"8B-8o":I,"7X":N,"5h-1n":I,"1F-1m":N},M:{4Q:I,6f:v,5o:16,5k:16,8s:N,8G:N,89:"58",1g:{5p:"54 1j",5b:"9O 1j",5j:"9P 6k 6q",76:"9N C 9M 26 9J 6q 9K",3o:"3o",6F:"?",1x:"2G\\n\\n",6M:"9L\'t 9Q 2V D: ",86:"9R 9W\'t 9X D 1F-1m 9V: ",78:"<!9U 1F 9S \\"-//9T//6j 9I 1.0 9H//9w\\" \\"2o://5x.6J.6u/9x/6H/6j/6H-9v.9u\\"><1F 9r=\\"2o://5x.6J.6u/9y/9z\\"><6y><9F 2o-9G=\\"9E-9D\\" 60=\\"1X/1F; 9A=9B-8\\" /><39>9C 2G</39></6y><2Z 1t=\\"3H-9Z:an,ao,am,al-ai;aj-43:#ak;43:#ap;3H-2L:aq;1X-6z:6A;\\"><B 1t=\\"1X-6z:6A;6x-4G:au;\\"><B 1t=\\"3H-2L:at-ar;\\">2G</B><B 1t=\\"3H-2L:.ah;6x-9q:ag;\\"><B>6O 2.1.a5 (a6 24 a4)</B><B><a 1Q=\\"2o://6G.3x\\" a3=\\"44\\" 1t=\\"43:#6E;1X-6t:6r;\\">2o://6G.3x</a></B><B>a1 a2 a7 f 1m, a8 <a 1Q=\\"ae://5x.af.3x/ad-ac/a9?aa=ab-ax&8Z=8Q\\" 1t=\\"43:#6E;1X-6t:6r;\\">8P</a> 6k 8N 8R 8S!</B></B><B>8W C 8V 8U.</B><B>8X 8J-8K 8O 9h.</B></B></2Z></1F>"},8C:N},1q:{4U:v,9g:v,3D:v,6g:{}},2n:{},8l:{9f:/\\/\\*[\\s\\S]*?\\*\\//3v,9d:/\\/\\/.*$/3v,9e:/#.*$/3v,9j:/"([^\\\\"\\n]|\\\\.)*"/g,9o:/\'([^\\\\\'\\n]|\\\\.)*\'/g,8Y:/"([^\\\\"]|\\\\.)*"/g,9m:/\'([^\\\\\']|\\\\.)*\'/g,9k:/(&X;|<)!--[\\s\\S]*?--(&Y;|>)/3v,3Q:/&X;\\w+:\\/\\/[\\w-.\\/?%&=@:;]*&Y;|\\w+:\\/\\/[\\w-.\\/?%&=@:;]*/g,9c:{F:/(&X;|<)\\?=?/g,19:/\\?(&Y;|>)/g},92:{F:/(&X;|<)%=?/g,19:/%(&Y;|>)/g},91:{F:/(&X;|<)\\s*1m.*?(&Y;|>)/4v,19:/(&X;|<)\\/\\s*1m\\s*(&Y;|>)/4v}},1y:{18:l(3f){h 3C=Q.1N("3c"),5s=p.1y.7d;3C.L="1y";D(h 35 26 5s){h 6h=5s[35],5r=W 6h(3f),1U=5r.18();3f.6a[35]=5r;c(1U==v){1J}c(7I(1U)=="90"){1U=p.1y.6l(1U,3f.1h,35)}1U.L+="5v "+35;3C.2u(1U)}q 3C},6l:l(5K,6m,5D){h a=Q.1N("a"),5M=a.1t,5u=p.M,5L=5u.5o,5N=5u.5k;a.1Q="#"+5D;a.39=5K;a.5g=6m;a.75=5D;a.27=5K;c(38(5L)==N){5M.1W=5L+"73"}c(38(5N)==N){5M.2s=5N+"73"}a.96=l(e){9n{p.1y.7a(f,e||1k.6V,f.5g,f.75)}97(e){p.A.1x(e.77)}q N};q a},7a:l(7f,7e,7b,7h,7c){h 5G=p.1q.6g[7b],5H;c(5G==v||(5H=5G.6a[7h])==v){q v}q 5H.2B(7f,7e,7c)},7d:{5p:l(59){f.18=l(){c(59.T("67")!=I){q}q p.M.1g.5p};f.2B=l(5a,8T,8M){h B=59.B;5a.8v.4u(5a);B.L=B.L.E("5O","")}},5b:l(71){f.18=l(){q p.M.1g.5b};f.2B=l(aV,bV,bW){h 3Y=p.A.3E(71.5f).E(/</g,"&X;"),2t=p.A.4M("","44",bU,bT,"bR=0, bS=1, bX=0, 6s=1");3Y=p.A.2I(3Y);2t.Q.3I("<58>"+3Y+"</58>");2t.Q.4c()}},5j:l(65){h 3k,bY,5i=65.1h;f.18=l(){h 2Q=p.M;c(2Q.6f==v){q v}l 1I(52){h 5e="";D(h 56 26 52){5e+="<c3 U=\'"+56+"\' 23=\'"+52[56]+"\'/>"}q 5e};l 2q(5l){h 5n="";D(h 5m 26 5l){5n+=" "+5m+"=\'"+5l[5m]+"\'"}q 5n};h 68={1W:2Q.5o,2s:2Q.5k,1h:5i+"c0",4j:"bQ/x-6Z-6U",39:p.M.1g.5j},5V={bP:"ay",bG:"bH",bF:"5g="+5i,bD:"N"},5W=2Q.6f,3O;c(/bI/i.1R(7j.6B)){3O="<4d"+2q({bJ:"bO:bN-bM-bK-bL-c4",cl:"2o://cj.c7.3x/ce/6Z/ck/6U/c9.ci#6O=9,0,0,0"})+2q(68)+">"+1I(5V)+1I({c8:5W})+"</4d>"}G{3O="<c6"+2q(68)+2q(5V)+2q({cf:5W})+"/>"}3k=Q.1N("B");3k.27=3O;q 3k};f.2B=l(co,cn,63){h 72=63.bA;6S(72){2O"7l":h 64=p.A.2I(p.A.3E(65.5f).E(/&X;/g,"<").E(/&Y;/g,">").E(/&aT;/g,"&"));c(1k.74){1k.74.aU("1X",64)}G{q p.A.2I(64)}2O"aS":p.A.1x(p.M.1g.76);2y;2O"aP":p.A.1x(63.77);2y}}},bB:l(61){f.18=l(){q p.M.1g.3o};f.2B=l(aW,b1,b2){h 29=Q.1N("b0"),1G=v;c(p.1q.3D!=v){Q.2Z.4u(p.1q.3D)}p.1q.3D=29;29.1t.aX="aY:aO;1W:6w;2s:6w;F:-6o;4G:-6o;";Q.2Z.2u(29);1G=29.5Z.Q;6D(1G,1k.Q);1G.3I("<B 1o=\\""+61.B.L.E("5O","")+" aD\\">"+61.B.27+"</B>");1G.4c();29.5Z.4Y();29.5Z.3o();l 6D(6I,6C){h 2E=6C.4D("4e");D(h i=0;i<2E.u;i++){c(2E[i].6i.70()=="6P"&&/aC\\.1a$/.1R(2E[i].1Q)){6I.3I("<4e 4j=\\"1X/1a\\" 6i=\\"6P\\" 1Q=\\""+2E[i].1Q+"\\"></4e>")}}}}},az:l(aA){f.18=l(){q p.M.1g.6F};f.2B=l(aG,aL){h 2t=p.A.4M("","44",aK,aJ,"6s=0"),1G=2t.Q;1G.3I(p.M.1g.78);1G.4c();2t.4Y()}}}},A:{Z:l(4a,6L,3U){3U=3w.aH(3U||0,0);D(h i=3U;i<4a.u;i++){c(4a[i]==6L){q i}}q-1},6d:l(7g){q 7g+3w.aI(3w.b3()*b4).2h()},6c:l(47,46){h 3m={},28;D(28 26 47){3m[28]=47[28]}D(28 26 46){3m[28]=46[28]}q 3m},7t:l(4L){6S(4L){2O"I":q I;2O"N":q N}q 4L},4M:l(3Q,6W,4H,4O,2R){h x=(6T.1W-4H)/2,y=(6T.2s-4O)/2;2R+=", F="+x+", 4G="+y+", 1W="+4H+", 2s="+4O;2R=2R.E(/^,/,"");h 4V=1k.bn(3Q,6W,2R);4V.4Y();q 4V},7y:l(1E,1Y,1Z){c(1E.6X){1E["e"+1Y+1Z]=1Z;1E[1Y+1Z]=l(){1E["e"+1Y+1Z](1k.6V)};1E.6X("bt"+1Y,1E[1Y+1Z])}G{1E.by(1Y,1Z,N)}},1x:l(z){1x(p.M.1g.1x+z)},4P:l(4h,6N){h 2w=p.1q.4U,3W=v;c(2w==v){2w={};D(h 2W 26 p.2n){h 3g=p.2n[2W].bx;c(3g==v){1J}p.2n[2W].U=2W.70();D(h i=0;i<3g.u;i++){2w[3g[i]]=2W}}p.1q.4U=2w}3W=p.2n[2w[4h]];c(3W==v&&6N!=N){p.A.1x(p.M.1g.6M+4h)}q 3W},4x:l(z,6Q){h 2C=z.1O("\\n");D(h i=0;i<2C.u;i++){2C[i]=6Q(2C[i])}q 2C.5A("\\n")},7A:l(z){q z.E(/^[ ]*[\\n]+|[\\n]*[ ]*$/g,"")},8b:l(z){h 42,4E={},4S=W V("^\\\\[(?<4T>(.*?))\\\\]$"),6R=W V("(?<U>[\\\\w-]+)"+"\\\\s*:\\\\s*"+"(?<23>"+"[\\\\w-%#]+|"+"\\\\[.*?\\\\]|"+"\\".*?\\"|"+"\'.*?\'"+")\\\\s*;?","g");2r((42=6R.R(z))!=v){h 2f=42.23.E(/^[\'"]|[\'"]$/g,"");c(2f!=v&&4S.1R(2f)){h m=4S.R(2f);2f=m.4T.u>0?m.4T.1O(/\\s*,\\s*/):[]}4E[42.U]=2f}q 4E},7Q:l(z,1a){c(z==v||z.u==0||z=="\\n"){q z}z=z.E(/</g,"&X;");z=z.E(/ {2,}/g,l(m){h 4o="";D(h i=0;i<m.u-1;i++){4o+="&2m;"}q 4o+" "});c(1a!=v){z=p.A.4x(z,l(2j){c(2j.u==0){q""}h 3F="";2j=2j.E(/^(&2m;| )+/,l(s){3F=s;q""});c(2j.u==0){q 3F}q 3F+"<C 1o=\\""+1a+"\\">"+2j+"</C>"})}q z},81:l(79,7i){h 34=79.2h();2r(34.u<7i){34="0"+34}q 34},6p:l(){h 40=Q.1N("B"),3J,3i=0,4y=Q.2Z,1h=p.A.6d("6p"),36="<B 1o=\\"",33="</B>",4A="</4t>";40.27=36+"6e\\">"+36+"1n\\">"+36+"2d\\">"+36+"60"+"\\"><4t 1o=\\"b7\\"><4t 1h=\\""+1h+"\\">&2m;"+4A+4A+33+33+33+33;4y.2u(40);3J=Q.b6(1h);c(/bb/i.1R(7j.6B)){h 6v=1k.bh(3J,v);3i=80(6v.bg("1W"))}G{3i=3J.bd}4y.4u(40);q 3i},8c:l(6n,6K){h 1H="";D(h i=0;i<6K;i++){1H+=" "}q 6n.E(/\\t/g,1H)},8D:l(2F,4w){h be=2F.1O("\\n"),1H="\\t",62="";D(h i=0;i<50;i++){62+="                    "}l 8u(3n,17,8y){q 3n.22(0,17)+62.22(0,8y)+3n.22(17+1,3n.u)};2F=p.A.4x(2F,l(21){c(21.Z(1H)==-1){q 21}h 17=0;2r((17=21.Z(1H))!=-1){h 8r=4w-17%4w;21=8u(21,17,8r)}q 21});q 2F},3E:l(z){h br=/<br\\s*\\/?>|&X;br\\s*\\/?&Y;/4v;c(p.M.8s==I){z=z.E(br,"\\n")}c(p.M.8G==I){z=z.E(br,"")}q z},2J:l(z){q z.E(/^\\s+|\\s+$/g,"")},2I:l(z){h 2a=p.A.3E(z).1O("\\n"),bf=W bi(),8g=/^\\s*/,20=bc;D(h i=0;i<2a.u&&20>0;i++){h 4z=2a[i];c(p.A.2J(4z).u==0){1J}h 4C=8g.R(4z);c(4C==v){q z}20=3w.20(4C[0].u,20)}c(20>0){D(h i=0;i<2a.u;i++){2a[i]=2a[i].22(20)}}q 2a.5A("\\n")},7W:l(31,30){c(31.H<30.H){q-1}G{c(31.H>30.H){q 1}G{c(31.u<30.u){q-1}G{c(31.u>30.u){q 1}}}}q 0},2S:l(8i,2Y){l 8p(4B,87){q[W p.4W(4B[0],4B.H,87.1a)]};h b5=0,4s=v,3Z=[],8h=2Y.4K?2Y.4K:8p;2r((4s=2Y.3K.R(8i))!=v){3Z=3Z.2l(8h(4s,2Y))}q 3Z},8m:l(8k){h X="&X;",Y="&Y;";q 8k.E(p.8l.3Q,l(m){h 4k="",4l="";c(m.Z(X)==0){4l=X;m=m.3M(X.u)}c(m.Z(Y)==m.u-Y.u){m=m.3M(0,m.u-Y.u);4k=Y}q 4l+"<a 1Q=\\""+m+"\\">"+m+"</a>"+4k})},8a:l(){h 3G=Q.4D("1m"),4i=[];D(h i=0;i<3G.u;i++){c(3G[i].4j=="6e"){4i.K(3G[i])}}q 4i},8t:l(4n){h 4m="<![b8[",3P="]]>",1u=p.A.2J(4n),3L=N;c(1u.Z(4m)==0){1u=1u.3M(4m.u);3L=I}c(1u.Z(3P)==1u.u-3P.u){1u=1u.3M(0,1u.u-3P.u);3L=I}q 3L?1u:4n}},1M:l(8e,4p){l 8f(4r){h 4q=[];D(h i=0;i<4r.u;i++){4q.K(4r[i])}q 4q};h 2k=4p?[4p]:8f(Q.4D(p.M.89)),8q="27",2v=v,4R=p.M;c(4R.4Q){2k=2k.2l(p.A.8a())}c(2k.u===0){q}D(h i=0;i<2k.u;i++){h 2T=2k[i],1T=p.A.8b(2T.L),1L,2D,1P;1T=p.A.6c(8e,1T);1L=1T["2V"];c(1L==v){1J}c(1T["1F-1m"]=="I"||p.6b["1F-1m"]==I){2v=W p.4b(1L);1L="b9"}G{h 3S=p.A.4P(1L);c(3S){1L=3S.U;2v=W 3S()}G{1J}}2D=2T[8q];c(4R.4Q){2D=p.A.8t(2D)}1T["2V-U"]=1L;2v.1M(2D,1T);1P=2v.B;c(p.M.8C){1P=Q.1N("bk");1P.23=2v.B.27;1P.1t.1W="bu";1P.1t.2s="bw"}2T.8v.bz(1P,2T)}},bs:l(7x){p.A.7y(1k,"bm",l(){p.1M(7x)})}};p.4W=l(4X,7B,1a){f.23=4X;f.H=7B;f.u=4X.u;f.1a=1a;f.5S=v};p.4W.1c.2h=l(){q f.23};p.4b=l(4F){h 3t=p.A.4P(4F),2p,4J=W p.2n.bl(),bo=v;c(3t==v){q}2p=W 3t();f.49=4J;c(2p.3N==v){p.A.1x(p.M.1g.86+4F);q}4J.5c.K({3K:2p.3N.C,4K:7E});l 3l(4N,7F){D(h j=0;j<4N.u;j++){4N[j].H+=7F}};l 7E(15,bq){h 7w=15.C,1l=[],4Z=2p.5c,7v=15.H+15.F.u,2P=2p.3N,1p;D(h i=0;i<4Z.u;i++){1p=p.A.2S(7w,4Z[i]);3l(1p,7v);1l=1l.2l(1p)}c(2P.F!=v&&15.F!=v){1p=p.A.2S(15.F,2P.F);3l(1p,15.H);1l=1l.2l(1p)}c(2P.19!=v&&15.19!=v){1p=p.A.2S(15.19,2P.19);3l(1p,15.H+15[0].bp(15.19));1l=1l.2l(1p)}D(h j=0;j<1l.u;j++){1l[j].5S=3t.U}q 1l}};p.4b.1c.1M=l(7k,7p){f.49.1M(7k,7p);f.B=f.49.B};p.7q=l(){};p.7q.1c={T:l(7u,7s){h 48=f.1I[7u];q p.A.7t(48==v?7s:48)},18:l(7H){q Q.1N(7H)},8n:l(32,7Y){h 3A=[];c(32!=v){D(h i=0;i<32.u;i++){c(7I(32[i])=="4d"){3A=3A.2l(p.A.2S(7Y,32[i]))}}}q 3A.aM(p.A.7W)},8F:l(){h 1V=f.2X;D(h i=0;i<1V.u;i++){c(1V[i]===v){1J}h 2z=1V[i],45=2z.H+2z.u;D(h j=i+1;j<1V.u&&1V[i]!==v;j++){h 25=1V[j];c(25===v){1J}G{c(25.H>45){2y}G{c(25.H==2z.H&&25.u>2z.u){f.2X[i]=v}G{c(25.H>=2z.H&&25.H<45){f.2X[j]=v}}}}}}},7Z:l(2U){h 3h=2U.1O("\\n"),3X=80(f.T("84-2d")),2i=f.T("83-2d-82"),7U=f.T("1M",[]),7M=f.T("3j");2U="";c(2i==I){2i=(3X+3h.u-1).2h().u}G{c(38(2i)==I){2i=0}}D(h i=0;i<3h.u;i++){h 1A=3h[i],66=/^(&2m;|\\s)+/.R(1A),51="aE"+(i%2==0?1:2),7N=p.A.81(3X+i,2i),7T=p.A.Z(7U,(3X+i).2h())!=-1,2H=v;c(66!=v){2H=66[0].2h();1A=1A.22(2H.u)}1A=p.A.2J(1A);c(1A.u==0){1A="&2m;"}c(7T){51+=" aN"}2U+="<B 1o=\\"2d "+51+"\\">"+"<7P>"+"<7R>"+(7M?"<3T 1o=\\"aZ\\"><C>"+7N+"</C></3T>":"")+"<3T 1o=\\"60\\">"+(2H!=v?"<C 1o=\\"aQ\\">"+2H.E(" ","&2m;")+"</C>":"")+1A+"</3T>"+"</7R>"+"</7P>"+"</B>"}q 2U},88:l(69,5T){h 17=0,3p="",3r=p.A.7Q,5R=f.T("2V-U","");l 5X(5Y){h 5Q=5Y?(5Y.5S||5R):5R;q 5Q?5Q+" ":""};D(h i=0;i<5T.u;i++){h 1v=5T[i],3y;c(1v===v||1v.u===0){1J}3y=5X(1v);3p+=3r(69.22(17,1v.H-17),3y+"7K")+3r(1v.23,3y+1v.1a);17=1v.H+1v.u}3p+=3r(69.22(17),5X()+"7K");q 3p},1M:l(C,7V){h cg=p.M,1q=p.1q,B,ca,3e,cd="cm";f.1I={};f.B=v;f.1n=v;f.C=v;f.1e=v;f.6a={};f.1h=p.A.6d("ch");1q.6g[f.1h]=f;c(C===v){C=""}f.1I=p.A.6c(p.6b,7V||{});c(f.T("7X")==I){f.1I.1y=f.1I.3j=N}f.B=B=f.18("3c");f.1n=f.18("3c");f.1n.L="1n";L="6e";B.1h=f.1h;c(f.T("67")){L+=" 5O"}c(f.T("3j")==N){L+=" c5"}c(f.T("5h-1n")==N){f.1n.L+=" bC-5h"}L+=" "+f.T("1o-U");L+=" "+f.T("2V-U");B.L=L;f.5f=C;f.C=p.A.7A(C).E(/\\r/g," ");3e=f.T("1H-2L");f.C=f.T("8z-8H")==I?p.A.8D(f.C,3e):p.A.8c(f.C,3e);f.C=p.A.2I(f.C);c(f.T("1y")){f.1e=f.18("3c");f.1e.L="1e";f.1e.2u(p.1y.18(f));B.2u(f.1e);h 1e=f.1e;l 53(){1e.L=1e.L.E("54","")};B.c1=l(){53();1e.L+=" 54"};B.c2=l(){53()}}B.2u(f.1n);f.2X=f.8n(f.5c,f.C);f.8F();C=f.88(f.C,f.2X);C=f.7Z(p.A.2J(C));c(f.T("8B-8o")){C=p.A.8m(C)}f.1n.27=C},9i:l(z){z=z.E(/^\\s+|\\s+$/g,"").E(/\\s+/g,"|");q"\\\\b(?:"+z+")\\\\b"},9l:l(2K){f.3N={F:{3K:2K.F,1a:"1m"},19:{3K:2K.19,1a:"1m"},C:W V("(?<F>"+2K.F.1j+")"+"(?<C>.*?)"+"(?<19>"+2K.19.1j+")","99")}}};q p}()}c(!1k.V){(l(){h 2A={R:10.1c.R,8w:5I.1c.8w,E:5I.1c.E,1O:5I.1c.1O},1D={13:/(?:[^\\\\([#\\s.]+|\\\\(?!k<[\\w$]+>|[7z]{[^}]+})[\\S\\s]?|\\((?=\\?(?!#|<[\\w$]+>)))+|(\\()(?:\\?(?:(#)[^)]*\\)|<([$\\w]+)>))?|\\\\(?:k<([\\w$]+)>|[7z]{([^}]+)})|(\\[\\^?)|([\\S\\s])/g,98:/(?:[^$]+|\\$(?![1-9$&`\']|{[$\\w]+}))+|\\$(?:([1-9]\\d*|[$&`\'])|{([$\\w]+)})/g,3d:/^(?:\\s+|#.*)+/,5B:/^(?:[?*+]|{\\d+(?:,\\d*)?})/,7J:/&&\\[\\^?/g,7O:/]/g},7G=l(5C,5v,5t){D(h i=5t||0;i<5C.u;i++){c(5C[i]===5v){q i}}q-1},8I=/()??/.R("")[1]!==3a,3b={};V=l(1d,1S){c(1d 5U 10){c(1S!==3a){3q 7n("4g\'t 4I 9a 8A 95 7r 10 5t 94")}q 1d.3z()}h 1S=1S||"",7S=1S.Z("s")>-1,7L=1S.Z("x")>-1,5z=N,3R=[],14=[],13=1D.13,J,cc,3V,37,3u;13.O=0;2r(J=2A.R.2e(13,1d)){c(J[2]){c(!1D.5B.1R(1d.1b(13.O))){14.K("(?:)")}}G{c(J[1]){3R.K(J[3]||v);c(J[3]){5z=I}14.K("(")}G{c(J[4]){37=7G(3R,J[4]);14.K(37>-1?"\\\\"+(37+1)+(38(1d.5w(13.O))?"":"(?:)"):J[0])}G{c(J[5]){14.K(3b.7o?3b.7o.7l(J[5],J[0].5w(1)==="P"):J[0])}G{c(J[6]){c(1d.5w(13.O)==="]"){14.K(J[6]==="["?"(?!)":"[\\\\S\\\\s]");13.O++}G{cc=V.8d("&&"+1d.1b(J.H),1D.7J,1D.7O,"",{7D:"\\\\"})[0];14.K(J[6]+cc+"]");13.O+=cc.u+1}}G{c(J[7]){c(7S&&J[7]==="."){14.K("[\\\\S\\\\s]")}G{c(7L&&1D.3d.1R(J[7])){3V=2A.R.2e(1D.3d,1d.1b(13.O-1))[0].u;c(!1D.5B.1R(1d.1b(13.O-1+3V))){14.K("(?:)")}13.O+=3V-1}G{14.K(J[7])}}}G{14.K(J[0])}}}}}}}3u=10(14.5A(""),2A.E.2e(1S,/[9Y]+/g,""));3u.1B={1j:1d,2g:5z?3R:v};q 3u};V.9s=l(U,o){3b[U]=o};10.1c.R=l(z){h 1f=2A.R.2e(f,z),U,i,5y;c(1f){c(8I&&1f.u>1){5y=W 10("^"+f.1j+"$(?!\\\\s)",f.5J());2A.E.2e(1f[0],5y,l(){D(i=1;i<8j.u-2;i++){c(8j[i]===3a){1f[i]=3a}}})}c(f.1B&&f.1B.2g){D(i=1;i<1f.u;i++){U=f.1B.2g[i-1];c(U){1f[U]=1f[i]}}}c(f.3s&&f.O>(1f.H+1f[0].u)){f.O--}}q 1f}})()}10.1c.5J=l(){q(f.3s?"g":"")+(f.aw?"i":"")+(f.8E?"m":"")+(f.3d?"x":"")+(f.a0?"y":"")};10.1c.3z=l(7C){h 5E=W V(f.1j,(7C||"")+f.5J());c(f.1B){5E.1B={1j:f.1B.1j,2g:f.1B.2g?f.1B.2g.1b(0):v}}q 5E};10.1c.2e=l(93,z){q f.R(z)};10.1c.9b=l(9p,8x){q f.R(8x[0])};V.57=l(55,5d){h 5P="/"+55+"/"+(5d||"");q V.57[5P]||(V.57[5P]=W V(55,5d))};V.41=l(z){q z.E(/[-[\\]{}()*+?.\\\\^$|,#\\s]/g,"\\\\$&")};V.8d=l(z,F,11,1i,2N){h 2N=2N||{},2M=2N.7D,12=2N.cb,1i=1i||"",5F=1i.Z("g")>-1,6Y=1i.Z("i")>-1,7m=1i.Z("m")>-1,5q=1i.Z("y")>-1,1i=1i.E(/y/g,""),F=F 5U 10?(F.3s?F:F.3z("g")):W V(F,"g"+1i),11=11 5U 10?(11.3s?11:11.3z("g")):W V(11,"g"+1i),1K=[],2x=0,1s=0,1r=0,1w=0,2c,2b,1z,1C,3B,4f;c(2M){c(2M.u>1){3q aR("4g\'t 4I aB aF 7r 41 85")}c(7m){3q 7n("4g\'t 4I 41 85 8A bv bj 8E ba")}3B=V.41(2M);4f=W 10("^(?:"+3B+"[\\\\S\\\\s]|(?:(?!"+F.1j+"|"+11.1j+")[^"+3B+"])+)+",6Y?"i":"")}2r(I){F.O=11.O=1r+(2M?(4f.R(z.1b(1r))||[""])[0].u:0);1z=F.R(z);1C=11.R(z);c(1z&&1C){c(1z.H<=1C.H){1C=v}G{1z=v}}c(1z||1C){1s=(1z||1C).H;1r=(1z?F:11).O}G{c(!2x){2y}}c(5q&&!2x&&1s>1w){2y}c(1z){c(!2x++){2c=1s;2b=1r}}G{c(1C&&2x){c(!--2x){c(12){c(12[0]&&2c>1w){1K.K([12[0],z.1b(1w,2c),1w,2c])}c(12[1]){1K.K([12[1],z.1b(2c,2b),2c,2b])}c(12[2]){1K.K([12[2],z.1b(2b,1s),2b,1s])}c(12[3]){1K.K([12[3],z.1b(1s,1r),1s,1r])}}G{1K.K(z.1b(2b,1s))}1w=1r;c(!5F){2y}}}G{F.O=11.O=0;3q bE("bZ 8L av 9t as")}}c(1s===1r){1r++}}c(5F&&!5q&&12&&12[0]&&z.u>1w){1K.K([12[0],z.1b(1w),1w,z.u])}F.O=11.O=0;q 1K};',62,769,"||||||||||||if|||this||var||||function||||sh|return||||length|null||||str|utils|div|code|for|replace|left|else|index|true|_121|push|className|config|false|lastIndex||document|exec||getParam|name|XRegExp|new|lt|gt|indexOf|RegExp|_139|vN|part|_11f|_d3||pos|create|right|css|slice|prototype|_119|bar|_129|strings|id|_13a|source|window|_d6|script|lines|class|_da|vars|_145|_144|style|_b5|_103|_146|alert|toolbar|_149|_f4|_x|_14a|lib|obj|html|doc|tab|params|continue|_142|_c3|highlight|createElement|split|_c5|href|test|_11a|_c2|_8|_e7|width|text|_5a|_5b|min|_91|substr|value||_ec|in|innerHTML|_4f|_3c|_98|_148|_147|line|call|_6e|captureNames|toString|_f0|_75|_bc|concat|nbsp|brushes|http|_cd|attributes|while|height|wnd|appendChild|_be|_5f|_143|break|_e9|real|execute|_66|_c4|_40|_88|SyntaxHighlighter|_f9|unindent|trim|_10f|size|_13c|_13b|case|_d9|_28|_55|getMatches|_c1|_ed|brush|_61|matches|_a2|body|m2|m1|_e3|_81|_7a|_5|_80|_124|isNaN|title|undefined|_118|DIV|extended|_10b|_2|_62|_ee|_7d|gutter|_25|offsetMatches|_4e|_8e|print|_fd|throw|_fe|global|_cc|_125|gm|Math|com|_104|addFlags|_e5|_14b|_3|printFrame|fixInputString|_76|_af|font|write|_7c|regex|_b6|substring|htmlScript|_32|_b4|url|_11e|_c6|td|_49|len|_60|_ef|_22|_a7|_7b|escape|_6a|color|_blank|_ea|_4d|_4c|_e1|xmlBrush|_47|HtmlScript|close|object|link|esc|can|_5d|_b0|type|_ad|_ae|_b3|_b2|_73|_b8|_ba|_b9|_a6|span|removeChild|gi|_89|eachLine|_7e|_9d|_82|_a3|_9e|getElementsByTagName|_6b|_cb|top|_53|supply|_ce|func|_50|popup|_d0|_54|findBrush|useScriptTags|_bf|_6c|values|discoveredBrushes|win|Match|_c8|focus|_d7||_f6|_29|hide|show|_133|_2b|cache|pre|_19|_1a|viewSource|regexList|_134|_2a|originalCode|highlighterId|wrap|_27|copyToClipboard|toolbarItemHeight|_2c|_2e|_2d|toolbarItemWidth|expandSource|_141|_7|_4|from|_e|item|charAt|www|r2|_11d|join|quantifier|_113|_b|_12e|_13e|_17|_18|String|getNativeFlags|_9|_f|_d|_10|collapsed|key|_101|_ff|brushName|_fb|instanceof|_30|swf|getBrushNameCss|_100|contentWindow|content|_38|_8c|_35|_37|_24|_f5|collapse|_2f|_fa|toolbarCommands|defaults|merge|guid|syntaxhighlighter|clipboardSwf|highlighters|_6|rel|DTD|to|createButton|_a|_84|500px|measureSpace|clipboard|none|scrollbars|decoration|org|_83|0px|margin|head|align|center|userAgent|_3f|copyStyles|0099FF|help|alexgorbatchev|xhtml1|_3e|w3|_85|_48|noBrush|_5e|version|stylesheet|_65|_6d|switch|screen|flash|event|_52|attachEvent|_13f|shockwave|toLowerCase|_1e|_36|px|clipboardData|commandName|copyToClipboardConfirmation|message|aboutDialog|_78|executeCommand|_14|_16|items|_13|_12|_4b|_15|_79|navigator|_dd|get|_140|TypeError|unicode|_de|Highlighter|one|_e0|toBoolean|_df|_d8|_d5|_c7|addEvent|pP|trimFirstAndLastLines|_c9|_12d|escapeChar|process|_d1|_112|_e2|typeof|classLeft|plain|_11c|_f2|_f7|classRight|table|decorate|tr|_11b|_f8|_f1|_106|matchesSortCallback|light|_e4|createDisplayLines|parseInt|padNumber|numbers|pad|first|character|brushNotHtmlScript|_a4|processMatches|tagName|getSyntaxHighlighterScriptTags|parseParams|processTabs|matchRecursive|_b7|toArray|_9a|_a8|_a1|arguments|_a9|regexLib|processUrls|findMatches|links|defaultAdd|_bd|_93|bloggerMode|stripCData|insertSpaces|parentNode|match|args|_90|smart|when|auto|debug|processSmartTabs|multiline|removeNestedMatches|stripBrs|tabs|_117|2004|2009|data|_1c|keep|Alex|donate|2930402|development|active|_1b|highlighter|syntax|JavaScript|Copyright|multiLineDoubleQuotedString|hosted_button_id|string|scriptScriptTags|aspScriptTags|_12f|another|constructing|onclick|catch|replaceVar|sgi|flags|apply|phpScriptTags|singleLineCComments|singleLinePerlComments|multiLineCComments|spaceWidth|Gorbatchev|getKeywords|doubleQuotedString|xmlComments|forHtmlScript|multiLineSingleQuotedString|try|singleQuotedString|_131|bottom|xmlns|addPlugin|unbalanced|dtd|transitional|EN|TR|1999|xhtml|charset|utf|About|Type|Content|meta|equiv|Transitional|XHTML|your|now|Can|is|The|view|copy|find|Brush|PUBLIC|W3C|DOCTYPE|option|wasn|configured|sx|family|sticky|If|you|target|2010|382|June|like|please|webscr|cmd|_s|bin|cgi|https|paypal|4em|75em|serif|background|fff|sans|Helvetica|Geneva|Arial|000|1em|large|delimiters|xx|3em|contains|ignoreCase|xclick|always|about|_42|more|shCore|printing|alt|than|_43|max|round|250|500|_44|sort|highlighted|absolute|error|spaces|SyntaxError|ok|amp|setData|_1f|_39|cssText|position|number|IFRAME|_3a|_3b|random|1000000|_a5|getElementById|block|CDATA|htmlscript|flag|opera|1000|offsetWidth|_8a|_99|getPropertyValue|getComputedStyle|Array|the|textarea|Xml|load|open|_cf|lastIndexOf|_d4||all|on|70em|using|30em|aliases|addEventListener|replaceChild|command|printSource|no|menu|Error|flashVars|wmode|transparent|msie|classid|11cf|96b8|ae6d|d27cdb6e|clsid|allowScriptAccess|application|location|resizable|400|750|_20|_21|menubar|_26|subject|_clipboard|onmouseover|onmouseout|param|444553540000|nogutter|embed|macromedia|movie|swflash|_10a|valueNames||_10c|pub|src|conf|highlighter_|cab|download|cabs|codebase|important|_34|_33".split("|"),0,{}));
;}catch(e){}
try{
SyntaxHighlighter.brushes.CSS=function(){function a(f){return"\\b([a-z_]|)"+f.replace(/ /g,"(?=:)\\b|\\b([a-z_\\*]|\\*|)")+"(?=:)\\b"}function c(f){return"\\b"+f.replace(/ /g,"(?!-)(?!:)\\b|\\b()")+":\\b"}var d="ascent azimuth background-attachment background-color background-image background-position background-repeat background baseline bbox border-collapse border-color border-spacing border-style border-top border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width border-bottom-width border-left-width border-width border bottom cap-height caption-side centerline clear clip color content counter-increment counter-reset cue-after cue-before cue cursor definition-src descent direction display elevation empty-cells float font-size-adjust font-family font-size font-stretch font-style font-variant font-weight font height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-top margin-right margin-bottom margin-left margin marker-offset marks mathline max-height max-width min-height min-width orphans outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page page-break-after page-break-before page-break-inside pause pause-after pause-before pitch pitch-range play-during position quotes right richness size slope src speak-header speak-numeral speak-punctuation speak speech-rate stemh stemv stress table-layout text-align top text-decoration text-indent text-shadow text-transform unicode-bidi unicode-range units-per-em vertical-align visibility voice-family volume white-space widows width widths word-spacing x-height z-index";var b="above absolute all always aqua armenian attr aural auto avoid baseline behind below bidi-override black blink block blue bold bolder both bottom braille capitalize caption center center-left center-right circle close-quote code collapse compact condensed continuous counter counters crop cross crosshair cursive dashed decimal decimal-leading-zero default digits disc dotted double embed embossed e-resize expanded extra-condensed extra-expanded fantasy far-left far-right fast faster fixed format fuchsia gray green groove handheld hebrew help hidden hide high higher icon inline-table inline inset inside invert italic justify landscape large larger left-side left leftwards level lighter lime line-through list-item local loud lower-alpha lowercase lower-greek lower-latin lower-roman lower low ltr marker maroon medium message-box middle mix move narrower navy ne-resize no-close-quote none no-open-quote no-repeat normal nowrap n-resize nw-resize oblique olive once open-quote outset outside overline pointer portrait pre print projection purple red relative repeat repeat-x repeat-y rgb ridge right right-side rightwards rtl run-in screen scroll semi-condensed semi-expanded separate se-resize show silent silver slower slow small small-caps small-caption smaller soft solid speech spell-out square s-resize static status-bar sub super sw-resize table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group teal text-bottom text-top thick thin top transparent tty tv ultra-condensed ultra-expanded underline upper-alpha uppercase upper-latin upper-roman url visible wait white wider w-resize x-fast x-high x-large x-loud x-low x-slow x-small x-soft xx-large xx-small yellow";var e="[mM]onospace [tT]ahoma [vV]erdana [aA]rial [hH]elvetica [sS]ans-serif [sS]erif [cC]ourier mono sans serif";this.regexList=[{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\#[a-fA-F0-9]{3,6}/g,css:"value"},{regex:/(-?\d+)(\.\d+)?(px|em|pt|\:|\%|)/g,css:"value"},{regex:/!important/g,css:"color3"},{regex:new RegExp(a(d),"gm"),css:"keyword"},{regex:new RegExp(c(b),"g"),css:"value"},{regex:new RegExp(this.getKeywords(e),"g"),css:"color1"}];this.forHtmlScript({left:/(&lt;|<)\s*style.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*style\s*(&gt;|>)/gi})};SyntaxHighlighter.brushes.CSS.prototype=new SyntaxHighlighter.Highlighter();SyntaxHighlighter.brushes.CSS.aliases=["css"];
;}catch(e){}
try{
SyntaxHighlighter.brushes.Java=function(){var a="abstract assert boolean break byte case catch char class const continue default do double else enum extends false final finally float for goto if implements import instanceof int interface long native new null package private protected public return short static strictfp super switch synchronized this throw throws true transient try void volatile while";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:/\/\*([^\*][\s\S]*)?\*\//gm,css:"comments"},{regex:/\/\*(?!\*\/)\*[\s\S]*?\*\//gm,css:"preprocessor"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\b([\d]+(\.[\d]+)?|0x[a-f0-9]+)\b/gi,css:"value"},{regex:/(?!\@interface\b)\@[\$\w]+\b/g,css:"color1"},{regex:/\@interface\b/g,css:"color2"},{regex:new RegExp(this.getKeywords(a),"gm"),css:"keyword"}];this.forHtmlScript({left:/(&lt;|<)%[@!=]?/g,right:/%(&gt;|>)/g})};SyntaxHighlighter.brushes.Java.prototype=new SyntaxHighlighter.Highlighter();SyntaxHighlighter.brushes.Java.aliases=["java"];
;}catch(e){}
try{
SyntaxHighlighter.brushes.JScript=function(){var a="break case catch continue default delete do else false  for function if in instanceof new null return super switch this throw true try typeof var while with";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\s*#.*/gm,css:"preprocessor"},{regex:new RegExp(this.getKeywords(a),"gm"),css:"keyword"}];this.forHtmlScript(SyntaxHighlighter.regexLib.scriptScriptTags)};SyntaxHighlighter.brushes.JScript.prototype=new SyntaxHighlighter.Highlighter();SyntaxHighlighter.brushes.JScript.aliases=["js","jscript","javascript"];
;}catch(e){}
try{
SyntaxHighlighter.brushes.Xml=function(){function a(e,i){var f=SyntaxHighlighter.Match,h=e[0],c=new XRegExp("(&lt;|<)[\\s\\/\\?]*(?<name>[:\\w-\\.]+)","xg").exec(h),b=[];if(e.attributes!=null){var d,g=new XRegExp("(?<name> [\\w:\\-\\.]+)\\s*=\\s*(?<value> \".*?\"|'.*?'|\\w+)","xg");while((d=g.exec(h))!=null){b.push(new f(d.name,e.index+d.index,"color1"));b.push(new f(d.value,e.index+d.index+d[0].indexOf(d.value),"string"))}}if(c!=null){b.push(new f(c.name,e.index+c[0].indexOf(c.name),"keyword"))}return b}this.regexList=[{regex:new XRegExp("(\\&lt;|<)\\!\\[[\\w\\s]*?\\[(.|\\s)*?\\]\\](\\&gt;|>)","gm"),css:"color2"},{regex:SyntaxHighlighter.regexLib.xmlComments,css:"comments"},{regex:new XRegExp("(&lt;|<)[\\s\\/\\?]*(\\w+)(?<attributes>.*?)[\\s\\/\\?]*(&gt;|>)","sg"),func:a}]};SyntaxHighlighter.brushes.Xml.prototype=new SyntaxHighlighter.Highlighter();SyntaxHighlighter.brushes.Xml.aliases=["xml","xhtml","xslt","html"];
;}catch(e){}
try{
(function(){typeof(require)!="undefined"?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null;function a(c){c=c.replace(/^\s+|\s+$/g,"").replace(/\s+/g,"|");return"#\\b(?:"+c+")\\b"}function b(){var c="if elseif for include break continue macro import set stop return else end b eol t bodyContent pageContent call";this.regexList=[{regex:/##.*/g,css:"comments"},{regex:/#--([^\*][\s\S]*)?--#/gm,css:"comments"},{regex:/#\*([^\*][\s\S]*)?\*#/gm,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\b([\d]+(\.[\d]+)?|0x[a-f0-9]+)\b/gi,css:"value"},{regex:/\$\{.*\}/g,css:"color2"},{regex:/\$\!\{.*\}/g,css:"color2"},{regex:/#\@.*\(\)/g,css:"keyword"},{regex:new RegExp(a(c),"g"),css:"keyword"},{regex:/#\{\w.*\}/g,css:"keyword"},{regex:/#\!set/g,css:"keyword"}];this.forHtmlScript({left:/(&lt;|<)%[@!=]?/g,right:/%(&gt;|>)/g})}b.prototype=new SyntaxHighlighter.Highlighter();b.aliases=["tiny"];SyntaxHighlighter.brushes.Java=b;typeof(exports)!="undefined"?exports.Brush=b:null})();
;}catch(e){}
$(document).ready(function(){
            SyntaxHighlighter.highlight();
            });try{
if(!document.createElement("canvas").getContext){(function(){var v=Math;var w=v.round;var s=v.sin;var E=v.cos;var n=v.abs;var D=v.sqrt;var a=10;var o=a/2;function h(){return this.context_||(this.context_=new q(this))}var u=Array.prototype.slice;function F(j,m,G){var i=u.call(arguments,2);return function(){return j.apply(m,i.concat(u.call(arguments)))}}var k={init:function(i){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var j=i||document;j.createElement("canvas");j.attachEvent("onreadystatechange",F(this.init_,this,j))}},init_:function(H){if(!H.namespaces.g_vml_){H.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML")}if(!H.namespaces.g_o_){H.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML")}if(!H.styleSheets.ex_canvas_){var G=H.createStyleSheet();G.owningElement.id="ex_canvas_";G.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}var m=H.getElementsByTagName("canvas");for(var j=0;j<m.length;j++){this.initElement(m[j])}},initElement:function(j){if(!j.getContext){j.getContext=h;j.innerHTML="";j.attachEvent("onpropertychange",C);j.attachEvent("onresize",b);var i=j.attributes;if(i.width&&i.width.specified){j.style.width=i.width.nodeValue+"px"}else{j.width=j.clientWidth}if(i.height&&i.height.specified){j.style.height=i.height.nodeValue+"px"}else{j.height=j.clientHeight}}return j}};function C(j){var i=j.srcElement;switch(j.propertyName){case"width":i.style.width=i.attributes.width.nodeValue+"px";i.getContext().clearRect();break;case"height":i.style.height=i.attributes.height.nodeValue+"px";i.getContext().clearRect();break}}function b(j){var i=j.srcElement;if(i.firstChild){i.firstChild.style.width=i.clientWidth+"px";i.firstChild.style.height=i.clientHeight+"px"}}k.init();var e=[];for(var z=0;z<16;z++){for(var y=0;y<16;y++){e[z*16+y]=z.toString(16)+y.toString(16)}}function r(){return[[1,0,0],[0,1,0],[0,0,1]]}function d(G,m){var j=r();for(var i=0;i<3;i++){for(var J=0;J<3;J++){var H=0;for(var I=0;I<3;I++){H+=G[i][I]*m[I][J]}j[i][J]=H}}return j}function x(j,i){i.fillStyle=j.fillStyle;i.lineCap=j.lineCap;i.lineJoin=j.lineJoin;i.lineWidth=j.lineWidth;i.miterLimit=j.miterLimit;i.shadowBlur=j.shadowBlur;i.shadowColor=j.shadowColor;i.shadowOffsetX=j.shadowOffsetX;i.shadowOffsetY=j.shadowOffsetY;i.strokeStyle=j.strokeStyle;i.globalAlpha=j.globalAlpha;i.arcScaleX_=j.arcScaleX_;i.arcScaleY_=j.arcScaleY_;i.lineScale_=j.lineScale_}function c(m){var I,H=1;m=String(m);if(m.substring(0,3)=="rgb"){var K=m.indexOf("(",3);var j=m.indexOf(")",K+1);var J=m.substring(K+1,j).split(",");I="#";for(var G=0;G<3;G++){I+=e[Number(J[G])]}if(J.length==4&&m.substr(3,1)=="a"){H=J[3]}}else{I=m}return{color:I,alpha:H}}function t(i){switch(i){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function q(j){this.m_=r();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=a*1;this.globalAlpha=1;this.canvas=j;var i=j.ownerDocument.createElement("div");i.style.width=j.clientWidth+"px";i.style.height=j.clientHeight+"px";i.style.overflow="hidden";i.style.position="absolute";j.appendChild(i);this.element_=i;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}var l=q.prototype;l.clearRect=function(){this.element_.innerHTML=""};l.beginPath=function(){this.currentPath_=[]};l.moveTo=function(j,i){var m=this.getCoords_(j,i);this.currentPath_.push({type:"moveTo",x:m.x,y:m.y});this.currentX_=m.x;this.currentY_=m.y};l.lineTo=function(j,i){var m=this.getCoords_(j,i);this.currentPath_.push({type:"lineTo",x:m.x,y:m.y});this.currentX_=m.x;this.currentY_=m.y};l.bezierCurveTo=function(m,j,L,K,J,H){var i=this.getCoords_(J,H);var I=this.getCoords_(m,j);var G=this.getCoords_(L,K);p(this,I,G,i)};function p(i,G,m,j){i.currentPath_.push({type:"bezierCurveTo",cp1x:G.x,cp1y:G.y,cp2x:m.x,cp2y:m.y,x:j.x,y:j.y});i.currentX_=j.x;i.currentY_=j.y}l.quadraticCurveTo=function(J,m,j,i){var I=this.getCoords_(J,m);var H=this.getCoords_(j,i);var K={x:this.currentX_+2/3*(I.x-this.currentX_),y:this.currentY_+2/3*(I.y-this.currentY_)};var G={x:K.x+(H.x-this.currentX_)/3,y:K.y+(H.y-this.currentY_)/3};p(this,K,G,H)};l.arc=function(M,K,L,H,j,m){L*=a;var Q=m?"at":"wa";var N=M+E(H)*L-o;var P=K+s(H)*L-o;var i=M+E(j)*L-o;var O=K+s(j)*L-o;if(N==i&&!m){N+=0.125}var G=this.getCoords_(M,K);var J=this.getCoords_(N,P);var I=this.getCoords_(i,O);this.currentPath_.push({type:Q,x:G.x,y:G.y,radius:L,xStart:J.x,yStart:J.y,xEnd:I.x,yEnd:I.y})};l.rect=function(m,j,i,G){this.moveTo(m,j);this.lineTo(m+i,j);this.lineTo(m+i,j+G);this.lineTo(m,j+G);this.closePath()};l.strokeRect=function(m,j,i,G){var H=this.currentPath_;this.beginPath();this.moveTo(m,j);this.lineTo(m+i,j);this.lineTo(m+i,j+G);this.lineTo(m,j+G);this.closePath();this.stroke();this.currentPath_=H};l.fillRect=function(m,j,i,G){var H=this.currentPath_;this.beginPath();this.moveTo(m,j);this.lineTo(m+i,j);this.lineTo(m+i,j+G);this.lineTo(m,j+G);this.closePath();this.fill();this.currentPath_=H};l.createLinearGradient=function(j,G,i,m){var H=new A("gradient");H.x0_=j;H.y0_=G;H.x1_=i;H.y1_=m;return H};l.createRadialGradient=function(G,I,m,j,H,i){var J=new A("gradientradial");J.x0_=G;J.y0_=I;J.r0_=m;J.x1_=j;J.y1_=H;J.r1_=i;return J};l.drawImage=function(T,m){var M,K,O,ab,R,P,V,ad;var N=T.runtimeStyle.width;var S=T.runtimeStyle.height;T.runtimeStyle.width="auto";T.runtimeStyle.height="auto";var L=T.width;var Z=T.height;T.runtimeStyle.width=N;T.runtimeStyle.height=S;if(arguments.length==3){M=arguments[1];K=arguments[2];R=P=0;V=O=L;ad=ab=Z}else{if(arguments.length==5){M=arguments[1];K=arguments[2];O=arguments[3];ab=arguments[4];R=P=0;V=L;ad=Z}else{if(arguments.length==9){R=arguments[1];P=arguments[2];V=arguments[3];ad=arguments[4];M=arguments[5];K=arguments[6];O=arguments[7];ab=arguments[8]}else{throw Error("Invalid number of arguments")}}}var ac=this.getCoords_(M,K);var G=V/2;var j=ad/2;var aa=[];var i=10;var J=10;aa.push(" <g_vml_:group",' coordsize="',a*i,",",a*J,'"',' coordorigin="0,0"',' style="width:',i,"px;height:",J,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]){var I=[];I.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",w(ac.x/a),",","Dy=",w(ac.y/a),"");var Y=ac;var X=this.getCoords_(M+O,K);var U=this.getCoords_(M,K+ab);var Q=this.getCoords_(M+O,K+ab);Y.x=v.max(Y.x,X.x,U.x,Q.x);Y.y=v.max(Y.y,X.y,U.y,Q.y);aa.push("padding:0 ",w(Y.x/a),"px ",w(Y.y/a),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",I.join(""),", sizingmethod='clip');")}else{aa.push("top:",w(ac.y/a),"px;left:",w(ac.x/a),"px;")}aa.push(' ">','<g_vml_:image src="',T.src,'"',' style="width:',a*O,"px;"," height:",a*ab,'px;"',' cropleft="',R/L,'"',' croptop="',P/Z,'"',' cropright="',(L-R-V)/L,'"',' cropbottom="',(Z-P-ad)/Z,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",aa.join(""))};l.stroke=function(ag){var L=[];var M=false;var ar=c(ag?this.fillStyle:this.strokeStyle);var ac=ar.color;var am=ar.alpha*this.globalAlpha;var I=10;var O=10;L.push("<g_vml_:shape",' filled="',!!ag,'"',' style="position:absolute;width:',I,"px;height:",O,'px;"',' coordorigin="0 0" coordsize="',a*I," ",a*O,'"',' stroked="',!ag,'"',' path="');var N=false;var aq={x:null,y:null};var Y={x:null,y:null};for(var al=0;al<this.currentPath_.length;al++){var ak=this.currentPath_[al];var ap;switch(ak.type){case"moveTo":ap=ak;L.push(" m ",w(ak.x),",",w(ak.y));break;case"lineTo":L.push(" l ",w(ak.x),",",w(ak.y));break;case"close":L.push(" x ");ak=null;break;case"bezierCurveTo":L.push(" c ",w(ak.cp1x),",",w(ak.cp1y),",",w(ak.cp2x),",",w(ak.cp2y),",",w(ak.x),",",w(ak.y));break;case"at":case"wa":L.push(" ",ak.type," ",w(ak.x-this.arcScaleX_*ak.radius),",",w(ak.y-this.arcScaleY_*ak.radius)," ",w(ak.x+this.arcScaleX_*ak.radius),",",w(ak.y+this.arcScaleY_*ak.radius)," ",w(ak.xStart),",",w(ak.yStart)," ",w(ak.xEnd),",",w(ak.yEnd));break}if(ak){if(aq.x==null||ak.x<aq.x){aq.x=ak.x}if(Y.x==null||ak.x>Y.x){Y.x=ak.x}if(aq.y==null||ak.y<aq.y){aq.y=ak.y}if(Y.y==null||ak.y>Y.y){Y.y=ak.y}}}L.push(' ">');if(!ag){var X=this.lineScale_*this.lineWidth;if(X<1){am*=X}L.push("<g_vml_:stroke",' opacity="',am,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',t(this.lineCap),'"',' weight="',X,'px"',' color="',ac,'" />')}else{if(typeof this.fillStyle=="object"){var P=this.fillStyle;var U=0;var aj={x:0,y:0};var ad=0;var S=1;if(P.type_=="gradient"){var R=P.x0_/this.arcScaleX_;var m=P.y0_/this.arcScaleY_;var Q=P.x1_/this.arcScaleX_;var at=P.y1_/this.arcScaleY_;var ao=this.getCoords_(R,m);var an=this.getCoords_(Q,at);var K=an.x-ao.x;var J=an.y-ao.y;U=Math.atan2(K,J)*180/Math.PI;if(U<0){U+=360}if(U<0.000001){U=0}}else{var ao=this.getCoords_(P.x0_,P.y0_);var j=Y.x-aq.x;var G=Y.y-aq.y;aj={x:(ao.x-aq.x)/j,y:(ao.y-aq.y)/G};j/=this.arcScaleX_*a;G/=this.arcScaleY_*a;var ai=v.max(j,G);ad=2*P.r0_/ai;S=2*P.r1_/ai-ad}var ab=P.colors_;ab.sort(function(H,i){return H.offset-i.offset});var V=ab.length;var aa=ab[0].color;var Z=ab[V-1].color;var af=ab[0].alpha*this.globalAlpha;var ae=ab[V-1].alpha*this.globalAlpha;var ah=[];for(var al=0;al<V;al++){var T=ab[al];ah.push(T.offset*S+ad+" "+T.color)}L.push('<g_vml_:fill type="',P.type_,'"',' method="none" focus="100%"',' color="',aa,'"',' color2="',Z,'"',' colors="',ah.join(","),'"',' opacity="',ae,'"',' g_o_:opacity2="',af,'"',' angle="',U,'"',' focusposition="',aj.x,",",aj.y,'" />')}else{L.push('<g_vml_:fill color="',ac,'" opacity="',am,'" />')}}L.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",L.join(""))};l.fill=function(){this.stroke(true)};l.closePath=function(){this.currentPath_.push({type:"close"})};l.getCoords_=function(G,j){var i=this.m_;return{x:a*(G*i[0][0]+j*i[1][0]+i[2][0])-o,y:a*(G*i[0][1]+j*i[1][1]+i[2][1])-o}};l.save=function(){var i={};x(this,i);this.aStack_.push(i);this.mStack_.push(this.m_);this.m_=d(r(),this.m_)};l.restore=function(){x(this.aStack_.pop(),this);this.m_=this.mStack_.pop()};function g(i){for(var H=0;H<3;H++){for(var G=0;G<2;G++){if(!isFinite(i[H][G])||isNaN(i[H][G])){return false}}}return true}function B(j,i,G){if(!g(i)){return}j.m_=i;if(G){var H=i[0][0]*i[1][1]-i[0][1]*i[1][0];j.lineScale_=D(n(H))}}l.translate=function(m,j){var i=[[1,0,0],[0,1,0],[m,j,1]];B(this,d(i,this.m_),false)};l.rotate=function(j){var G=E(j);var m=s(j);var i=[[G,m,0],[-m,G,0],[0,0,1]];B(this,d(i,this.m_),false)};l.scale=function(m,j){this.arcScaleX_*=m;this.arcScaleY_*=j;var i=[[m,0,0],[0,j,0],[0,0,1]];B(this,d(i,this.m_),true)};l.transform=function(H,G,J,I,j,i){var m=[[H,G,0],[J,I,0],[j,i,1]];B(this,d(m,this.m_),true)};l.setTransform=function(I,H,K,J,G,j){var i=[[I,H,0],[K,J,0],[G,j,1]];B(this,i,true)};l.clip=function(){};l.arcTo=function(){};l.createPattern=function(){return new f};function A(i){this.type_=i;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}A.prototype.addColorStop=function(j,i){i=c(i);this.colors_.push({offset:j,color:i.color,alpha:i.alpha})};function f(){}G_vmlCanvasManager=k;CanvasRenderingContext2D=q;CanvasGradient=A;CanvasPattern=f})()};
;}catch(e){}
try{
(function(){(function(a){a.easyPieChart=function(c,k){var e,f,h,i,j,d,b,g=this;this.el=c;this.$el=a(c);this.$el.data("easyPieChart",this);this.init=function(){var l;g.options=a.extend({},a.easyPieChart.defaultOptions,k);l=parseInt(g.$el.data("percent"),10);g.percentage=0;g.canvas=a("<canvas width='"+g.options.size+"' height='"+g.options.size+"'></canvas>").get(0);g.$el.append(g.canvas);if(typeof G_vmlCanvasManager!=="undefined"&&G_vmlCanvasManager!==null){G_vmlCanvasManager.initElement(g.canvas)}g.ctx=g.canvas.getContext("2d");g.ctx.translate(g.options.size/2,g.options.size/2);g.$el.addClass("easyPieChart");g.$el.css({width:g.options.size,height:g.options.size,lineHeight:""+g.options.size+"px"});g.update(l);return g};this.update=function(l){if(g.options.animate===false){return h(l)}else{return f(g.percentage,l)}};d=function(){var m,n,l;g.ctx.fillStyle=g.options.scaleColor;g.ctx.lineWidth=1;l=[];for(m=n=0;n<=24;m=++n){l.push(e(m))}return l};e=function(l){var m;m=l%6===0?0:g.options.size*0.017;g.ctx.save();g.ctx.rotate(l*Math.PI/12);g.ctx.fillRect(g.options.size/2-m,0,-g.options.size*0.05+m,1);return g.ctx.restore()};b=function(){var l;l=g.options.size/2-g.options.lineWidth/2;if(g.options.scaleColor!==false){l-=g.options.size*0.08}g.ctx.beginPath();g.ctx.arc(0,0,l,0,Math.PI*2,true);g.ctx.closePath();g.ctx.strokeStyle=g.options.trackColor;g.ctx.lineWidth=g.options.lineWidth;return g.ctx.stroke()};j=function(){if(g.options.scaleColor!==false){d()}if(g.options.trackColor!==false){return b()}};h=function(l){var m;j();g.ctx.strokeStyle=a.isFunction(g.options.barColor)?g.options.barColor(l):g.options.barColor;g.ctx.lineCap=g.options.lineCap;m=g.options.size/2-g.options.lineWidth/2;if(g.options.scaleColor!==false){m-=g.options.size*0.08}g.ctx.save();g.ctx.rotate(-Math.PI/2);g.ctx.beginPath();g.ctx.arc(0,0,m,0,Math.PI*2*l/100,false);g.ctx.stroke();return g.ctx.restore()};f=function(p,o){var m,n,l;n=30;l=n*g.options.animate/1000;m=0;g.options.onStart.call(g);g.percentage=o;if(g.animation){clearInterval(g.animation);g.animation=false}return g.animation=setInterval(function(){g.ctx.clearRect(-g.options.size/2,-g.options.size/2,g.options.size,g.options.size);j.call(g);h.call(g,[i(m,p,o-p,l)]);m++;if((m/l)>1){clearInterval(g.animation);g.animation=false;return g.options.onStop.call(g)}},1000/n)};i=function(m,l,o,n){m/=n/2;if(m<1){return o/2*m*m+l}else{return -o/2*((--m)*(m-2)-1)+l}};return this.init()};a.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",size:110,lineWidth:3,animate:false,onStart:a.noop,onStop:a.noop};a.fn.easyPieChart=function(b){return a.each(this,function(d,e){var c;c=a(e);if(!c.data("easyPieChart")){return c.data("easyPieChart",new a.easyPieChart(e,b))}})};return void 0})(jQuery)}).call(this);
;}catch(e){}
tinyTplList.push({sort:4, name: 'fashion', title: '时尚'});try{
/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(f){var c={};c.fileapi=f("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;var e=!!f.fn.prop;f.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments)}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g}return this.attr.apply(this,arguments)};f.fn.ajaxSubmit=function(j){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var i,C,m,o=this;if(typeof j=="function"){j={success:j}}else{if(j===undefined){j={}}}i=j.type||this.attr2("method");C=j.url||this.attr2("action");m=(typeof C==="string")?f.trim(C):"";m=m||window.location.href||"";if(m){m=(m.match(/^([^#]+)/)||[])[1]}j=f.extend(true,{url:m,success:f.ajaxSettings.success,type:i||f.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},j);var u={};this.trigger("form-pre-serialize",[this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(j.beforeSerialize&&j.beforeSerialize(this,j)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n=j.traditional;if(n===undefined){n=f.ajaxSettings.traditional}var s=[];var E,F=this.formToArray(j.semantic,s);if(j.data){j.extraData=j.data;E=f.param(j.data,n)}if(j.beforeSubmit&&j.beforeSubmit(F,this,j)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[F,this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=f.param(F,n);if(E){y=(y?(y+"&"+E):E)}if(j.type.toUpperCase()=="GET"){j.url+=(j.url.indexOf("?")>=0?"&":"?")+y;j.data=null}else{j.data=y}var H=[];if(j.resetForm){H.push(function(){o.resetForm()})}if(j.clearForm){H.push(function(){o.clearForm(j.includeHidden)})}if(!j.dataType&&j.target){var l=j.success||function(){};H.push(function(q){var k=j.replaceTarget?"replaceWith":"html";f(j.target)[k](q).each(l,arguments)})}else{if(j.success){H.push(j.success)}}j.success=function(K,q,L){var J=j.context||this;for(var I=0,k=H.length;I<k;I++){H[I].apply(J,[K,q,L||o,o])}};if(j.error){var z=j.error;j.error=function(J,k,q){var I=j.context||this;z.apply(I,[J,k,q,o])}}if(j.complete){var h=j.complete;j.complete=function(I,k){var q=j.context||this;h.apply(q,[I,k,o])}}var D=f("input[type=file]:enabled",this).filter(function(){return f(this).val()!==""});var p=D.length>0;var B="multipart/form-data";var x=(o.attr("enctype")==B||o.attr("encoding")==B);var w=c.fileapi&&c.formdata;d("fileAPI :"+w);var r=(p||x)&&!w;var v;if(j.iframe!==false&&(j.iframe||r)){if(j.closeKeepAlive){f.get(j.closeKeepAlive,function(){v=G(F)})}else{v=G(F)}}else{if((p||x)&&w){v=t(F)}else{v=f.ajax(j)}}o.removeData("jqxhr").data("jqxhr",v);for(var A=0;A<s.length;A++){s[A]=null}this.trigger("form-submit-notify",[this,j]);return this;function g(K){var L=f.param(K,j.traditional).split("&");var q=L.length;var k=[];var J,I;for(J=0;J<q;J++){L[J]=L[J].replace(/\+/g," ");I=L[J].split("=");k.push([decodeURIComponent(I[0]),decodeURIComponent(I[1])])}return k}function t(q){var k=new FormData();for(var I=0;I<q.length;I++){k.append(q[I].name,q[I].value)}if(j.extraData){var L=g(j.extraData);for(I=0;I<L.length;I++){if(L[I]){k.append(L[I][0],L[I][1])}}}j.data=null;var K=f.extend(true,{},f.ajaxSettings,j,{contentType:false,processData:false,cache:false,type:i||"POST"});if(j.uploadProgress){K.xhr=function(){var M=f.ajaxSettings.xhr();if(M.upload){M.upload.addEventListener("progress",function(Q){var P=0;var N=Q.loaded||Q.position;var O=Q.total;if(Q.lengthComputable){P=Math.ceil(N/O*100)}j.uploadProgress(Q,N,O,P)},false)}return M}}K.data=null;var J=K.beforeSend;K.beforeSend=function(N,M){if(j.formData){M.data=j.formData}else{M.data=k}if(J){J.call(this,N,M)}};return f.ajax(K)}function G(af){var L=o[0],K,ab,V,ad,Y,N,Q,O,P,Z,ac,T;var ai=f.Deferred();ai.abort=function(aj){O.abort(aj)};if(af){for(ab=0;ab<s.length;ab++){K=f(s[ab]);if(e){K.prop("disabled",false)}else{K.removeAttr("disabled")}}}V=f.extend(true,{},f.ajaxSettings,j);V.context=V.context||V;Y="jqFormIO"+(new Date().getTime());if(V.iframeTarget){N=f(V.iframeTarget);Z=N.attr2("name");if(!Z){N.attr2("name",Y)}else{Y=Z}}else{N=f('<iframe name="'+Y+'" src="'+V.iframeSrc+'" />');N.css({position:"absolute",top:"-1000px",left:"-1000px"})}Q=N[0];O={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ak=(aj==="timeout"?"timeout":"aborted");d("aborting upload... "+ak);this.aborted=1;try{if(Q.contentWindow.document.execCommand){Q.contentWindow.document.execCommand("Stop")}}catch(al){}N.attr("src",V.iframeSrc);O.error=ak;if(V.error){V.error.call(V.context,O,ak,aj)}if(ad){f.event.trigger("ajaxError",[O,V,ak])}if(V.complete){V.complete.call(V.context,O,ak)}}};ad=V.global;if(ad&&0===f.active++){f.event.trigger("ajaxStart")}if(ad){f.event.trigger("ajaxSend",[O,V])}if(V.beforeSend&&V.beforeSend.call(V.context,O,V)===false){if(V.global){f.active--}ai.reject();return ai}if(O.aborted){ai.reject();return ai}P=L.clk;if(P){Z=P.name;if(Z&&!P.disabled){V.extraData=V.extraData||{};V.extraData[Z]=P.value;if(P.type=="image"){V.extraData[Z+".x"]=L.clk_x;V.extraData[Z+".y"]=L.clk_y}}}var U=1;var R=2;function S(al){var ak=null;try{if(al.contentWindow){ak=al.contentWindow.document}}catch(aj){d("cannot get iframe.contentWindow document: "+aj)}if(ak){return ak}try{ak=al.contentDocument?al.contentDocument:al.document}catch(aj){d("cannot get iframe.contentDocument: "+aj);ak=al.document}return ak}var J=f("meta[name=csrf-token]").attr("content");var I=f("meta[name=csrf-param]").attr("content");if(I&&J){V.extraData=V.extraData||{};V.extraData[I]=J}function aa(){var ar=o.attr2("target"),an=o.attr2("action"),al="multipart/form-data",ao=o.attr("enctype")||o.attr("encoding")||al;L.setAttribute("target",Y);if(!i||/post/i.test(i)){L.setAttribute("method","POST")}if(an!=V.url){L.setAttribute("action",V.url)}if(!V.skipEncodingOverride&&(!i||/post/i.test(i))){o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(V.timeout){T=setTimeout(function(){ac=true;X(U)},V.timeout)}function ap(){try{var at=S(Q).readyState;d("state = "+at);if(at&&at.toLowerCase()=="uninitialized"){setTimeout(ap,50)}}catch(au){d("Server abort: ",au," (",au.name,")");X(R);if(T){clearTimeout(T)}T=undefined}}var aq=[];try{if(V.extraData){for(var ak in V.extraData){if(V.extraData.hasOwnProperty(ak)){if(f.isPlainObject(V.extraData[ak])&&V.extraData[ak].hasOwnProperty("name")&&V.extraData[ak].hasOwnProperty("value")){aq.push(f('<input type="hidden" name="'+V.extraData[ak].name+'">').val(V.extraData[ak].value).appendTo(L)[0])}else{aq.push(f('<input type="hidden" name="'+ak+'">').val(V.extraData[ak]).appendTo(L)[0])}}}}if(!V.iframeTarget){N.appendTo("body")}if(Q.attachEvent){Q.attachEvent("onload",X)}else{Q.addEventListener("load",X,false)}setTimeout(ap,15);try{L.submit()}catch(am){var aj=document.createElement("form").submit;aj.apply(L)}}finally{L.setAttribute("action",an);L.setAttribute("enctype",ao);if(ar){L.setAttribute("target",ar)}else{o.removeAttr("target")}f(aq).remove()}}if(V.forceSync){aa()}else{setTimeout(aa,10)}var ag,ah,ae=50,M;function X(ap){if(O.aborted||M){return}ah=S(Q);if(!ah){d("cannot access response document");ap=R}if(ap===U&&O){O.abort("timeout");ai.reject(O,"timeout");return}else{if(ap==R&&O){O.abort("server abort");ai.reject(O,"error","server abort");return}}if(!ah||ah.location.href==V.iframeSrc){if(!ac){return}}if(Q.detachEvent){Q.detachEvent("onload",X)}else{Q.removeEventListener("load",X,false)}var an="success",ar;try{if(ac){throw"timeout"}var am=V.dataType=="xml"||ah.XMLDocument||f.isXMLDoc(ah);d("isXml="+am);if(!am&&window.opera&&(ah.body===null||!ah.body.innerHTML)){if(--ae){d("requeing onLoad callback, DOM not available");setTimeout(X,250);return}}var at=ah.body?ah.body:ah.documentElement;O.responseText=at?at.innerHTML:null;O.responseXML=ah.XMLDocument?ah.XMLDocument:ah;if(am){V.dataType="xml"}O.getResponseHeader=function(aw){var av={"content-type":V.dataType};return av[aw.toLowerCase()]};if(at){O.status=Number(at.getAttribute("status"))||O.status;O.statusText=at.getAttribute("statusText")||O.statusText}var aj=(V.dataType||"").toLowerCase();var aq=/(json|script|text)/.test(aj);if(aq||V.textarea){var ao=ah.getElementsByTagName("textarea")[0];if(ao){O.responseText=ao.value;O.status=Number(ao.getAttribute("status"))||O.status;O.statusText=ao.getAttribute("statusText")||O.statusText}else{if(aq){var ak=ah.getElementsByTagName("pre")[0];var au=ah.getElementsByTagName("body")[0];if(ak){O.responseText=ak.textContent?ak.textContent:ak.innerText}else{if(au){O.responseText=au.textContent?au.textContent:au.innerText}}}}}else{if(aj=="xml"&&!O.responseXML&&O.responseText){O.responseXML=W(O.responseText)}}try{ag=k(O,aj,V)}catch(al){an="parsererror";O.error=ar=(al||an)}}catch(al){d("error caught: ",al);an="error";O.error=ar=(al||an)}if(O.aborted){d("upload aborted");an=null}if(O.status){an=(O.status>=200&&O.status<300||O.status===304)?"success":"error"}if(an==="success"){if(V.success){V.success.call(V.context,ag,"success",O)}ai.resolve(O.responseText,"success",O);if(ad){f.event.trigger("ajaxSuccess",[O,V])}}else{if(an){if(ar===undefined){ar=O.statusText}if(V.error){V.error.call(V.context,O,an,ar)}ai.reject(O,"error",ar);if(ad){f.event.trigger("ajaxError",[O,V,ar])}}}if(ad){f.event.trigger("ajaxComplete",[O,V])}if(ad&&!--f.active){f.event.trigger("ajaxStop")}if(V.complete){V.complete.call(V.context,O,an)}M=true;if(V.timeout){clearTimeout(T)}setTimeout(function(){if(!V.iframeTarget){N.remove()}else{N.attr("src",V.iframeSrc)}O.responseXML=null},100)}var W=f.parseXML||function(aj,ak){if(window.ActiveXObject){ak=new ActiveXObject("Microsoft.XMLDOM");ak.async="false";ak.loadXML(aj)}else{ak=(new DOMParser()).parseFromString(aj,"text/xml")}return(ak&&ak.documentElement&&ak.documentElement.nodeName!="parsererror")?ak:null};var q=f.parseJSON||function(aj){return window["eval"]("("+aj+")")};var k=function(ao,am,al){var ak=ao.getResponseHeader("content-type")||"",aj=am==="xml"||!am&&ak.indexOf("xml")>=0,an=aj?ao.responseXML:ao.responseText;if(aj&&an.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(al&&al.dataFilter){an=al.dataFilter(an,am)}if(typeof an==="string"){if(am==="json"||!am&&ak.indexOf("json")>=0){an=q(an)}else{if(am==="script"||!am&&ak.indexOf("javascript")>=0){f.globalEval(an)}}}return an};return ai}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){d("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}d("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(h.target).ajaxSubmit(g)}}function a(k){var j=k.target;var h=f(j);if(!(h.is("[type=submit],[type=image]"))){var g=h.closest("[type=submit]");if(g.length===0){return}j=g[0]}var i=this;i.clk=j;if(j.type=="image"){if(k.offsetX!==undefined){i.clk_x=k.offsetX;i.clk_y=k.offsetY}else{if(typeof f.fn.offset=="function"){var l=h.offset();i.clk_x=k.pageX-l.left;i.clk_y=k.pageY-l.top}else{i.clk_x=k.pageX-j.offsetLeft;i.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(x,g){var w=[];if(this.length===0){return w}var l=this[0];var z=this.attr("id");var q=x?l.getElementsByTagName("*"):l.elements;var A;if(q&&!/MSIE [678]/.test(navigator.userAgent)){q=f(q).get()}if(z){A=f(':input[form="'+z+'"]').get();if(A.length){q=(q||[]).concat(A)}}if(!q||!q.length){return w}var r,p,o,y,m,t,k;for(r=0,t=q.length;r<t;r++){m=q[r];o=m.name;if(!o||m.disabled){continue}if(x&&l.clk&&m.type=="image"){if(l.clk==m){w.push({name:o,value:f(m).val(),type:m.type});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}y=f.fieldValue(m,true);if(y&&y.constructor==Array){if(g){g.push(m)}for(p=0,k=y.length;p<k;p++){w.push({name:o,value:y[p]})}}else{if(c.fileapi&&m.type=="file"){if(g){g.push(m)}var h=m.files;if(h.length){for(p=0;p<h.length;p++){w.push({name:o,value:h[p],type:m.type})}}else{w.push({name:o,value:"",type:m.type})}}else{if(y!==null&&typeof y!="undefined"){if(g){g.push(m)}w.push({name:o,value:y,type:m.type,required:m.required})}}}}if(!x&&l.clk){var s=f(l.clk),u=s[0];o=u.name;if(o&&!u.disabled&&u.type=="image"){w.push({name:o,value:s.val()});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return w};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,u=g.type,w=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!g.checked||(u=="submit"||u=="image")&&g.form&&g.form.clk!=g||w=="select"&&g.selectedIndex==-1)){return null}if(w=="select"){var p=g.selectedIndex;if(p<0){return null}var r=[],h=g.options;var l=(u=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var s=m.value;if(!s){s=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return s}r.push(s)}}return r}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var j=this.type,i=this.tagName.toLowerCase();if(h.test(j)||i=="textarea"){this.value=""}else{if(j=="checkbox"||j=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(j=="file"){if(/MSIE/.test(navigator.userAgent)){f(this).replaceWith(f(this).clone(true))}else{f(this).val("")}}else{if(g){if((g===true&&/hidden/.test(j))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var i=f(this).parent("select");if(g&&i[0]&&i[0].type=="select-one"){i.find("option").selected(false)}this.selected=g}}})};f.fn.ajaxSubmit.debug=false;function d(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}}));
;}catch(e){}
try{
(function(e,d,a,f){var b=e.fn.twbsPagination;var c=function(h,g){this.$element=e(h);this.options=e.extend({},e.fn.twbsPagination.defaults,g);this.init(this.options)};c.prototype={constructor:c,init:function(g){this.options=e.extend({},this.options,g);switch(this.options.version){case"1.0":this.currentPages=this.getPages_v_1_0(this.options.startPage);break;case"1.1":this.currentPages=this.getPages_v_1_1(this.options.startPage);break;default:this.currentPages=this.getPages_v_1_1(this.options.startPage);break}if(this.options.startPage<1||this.options.startPage>this.options.totalPages){throw new Error("Start page option is incorrect")}if(this.options.totalPages<=0){throw new Error("Total pages option cannot be less 1 (one)!")}if(!e.isNumeric(this.options.visiblePages)&&!this.options.visiblePages){this.options.visiblePages=this.options.totalPages}if(this.options.onPageClick instanceof Function){this.$element.bind("page",this.options.onPageClick)}var h=(typeof this.$element.prop==="function")?this.$element.prop("tagName"):this.$element.attr("tagName");if(h==="UL"){this.$listContainer=this.$element}else{this.$listContainer=e("<ul></ul>")}this.$listContainer.addClass(this.options.paginationClass);this.$listContainer.append(this.buildListItems(this.currentPages.numeric));if(h!=="UL"){this.$element.append(this.$listContainer)}this.show(this.options.startPage)},show:function(g){if(g<1||g>this.options.totalPages){throw new Error("Page is incorrect.")}switch(this.options.version){case"1.0":this.render(this.getPages_v_1_0(g));break;case"1.1":this.render(this.getPages_v_1_1(g));break;default:this.render(this.getPages_v_1_1(g));break}this.setupEvents();this.$element.trigger("page",g)},buildListItems:function(g){var k=e();var j;var l;if(this.options.first){k=k.add(this.buildItem("first",1))}if(this.options.prev){if(this.options.startPage<=1){l=1}else{l=this.options.startPage-1}k=k.add(this.buildItem("prev",l))}for(var h=0;h<g.length;h++){k=k.add(this.buildItem("page",g[h]))}if(this.options.next){if(this.options.startPage>=this.options.totalPages){j=this.options.totalPages}else{j=this.options.startPage+1}k=k.add(this.buildItem("next",j))}if(this.options.last){k=k.add(this.buildItem("last",this.options.totalPages))}return k},buildItem:function(i,j){var h=e("<li></li>"),k=e("<a></a>"),g=null;h.addClass(i);h.attr("data-page",j);switch(i){case"page":g=j;break;case"first":g=this.options.first;break;case"prev":g=this.options.prev;break;case"next":g=this.options.next;break;case"last":g=this.options.last;break;default:break}h.append(k.attr("href",this.href(j)).text(g));return h},getPages_v_1_0:function(l){var g=[];var k;var m=parseInt(l/this.options.visiblePages,10);if(l%this.options.visiblePages===0){k=(m-1)*this.options.visiblePages+1}else{k=m*this.options.visiblePages+1}var h=Math.min(this.options.totalPages,(k+this.options.visiblePages)-1);for(var j=k;j<=h;j++){g.push(j)}return{currentPage:l,numeric:g}},getPages_v_1_1:function(j){var g=[];var k=Math.floor(this.options.visiblePages/2);var l=j-k+1-this.options.visiblePages%2;var h=j+k;if(l<=0){l=1;h=this.options.visiblePages}if(h>this.options.totalPages){l=this.options.totalPages-this.options.visiblePages+1;h=this.options.totalPages}var i=l;while(i<=h){g.push(i);i++}return{currentPage:j,numeric:g}},render:function(g){if(!this.equals(this.currentPages.numeric,g.numeric)){this.$listContainer.children().remove();this.$listContainer.append(this.buildListItems(g.numeric));this.currentPages=g}this.$listContainer.find(".page").removeClass("active");this.$listContainer.find(".page").filter('[data-page="'+g.currentPage+'"]').addClass("active");this.$listContainer.find(".first").toggleClass("disabled",g.currentPage===1);this.$listContainer.find(".last").toggleClass("disabled",g.currentPage===this.options.totalPages);var i=g.currentPage-1;this.$listContainer.find(".prev").toggleClass("disabled",g.currentPage===1).data("page",i>1?i:1);var h=g.currentPage+1;this.$listContainer.find(".next").toggleClass("disabled",g.currentPage===this.options.totalPages).data("page",h<this.options.totalPages?h:this.options.totalPages)},setupEvents:function(){var g=this;this.$listContainer.find("li").each(function(){var h=e(this);h.off();if(h.hasClass("disabled")||h.hasClass("active")){return}h.click(function(){g.show(parseInt(h.data("page"),10))})})},equals:function(j,g){var h=0;while((h<j.length)||(h<g.length)){if(j[h]!==g[h]){return false}h++}return true},href:function(g){return this.options.href.replace(this.options.hrefVariable,g)}};e.fn.twbsPagination=function(i){var h=Array.prototype.slice.call(arguments,1);var j;var g=this.each(function(){var m=e(this);var l=m.data("twbs-pagination");var k=typeof i==="object"&&i;if(!l){m.data("twbs-pagination",(l=new c(this,k)))}if(typeof i==="string"){j=l[i].apply(l,h)}});return(j===f)?g:j};e.fn.twbsPagination.defaults={totalPages:0,startPage:1,visiblePages:5,href:"javascript:void(0);",hrefVariable:"{{number}}",first:"首页",prev:"上一页",next:"下一页",last:"末页",paginationClass:"pagination",onPageClick:null,version:"1.1"};e.fn.twbsPagination.Constructor=c;e.fn.twbsPagination.noConflict=function(){e.fn.twbsPagination=b;return this}})(jQuery,window,document);
;}catch(e){}
try{
var idArray=[];(function(b){var a=function(c){c=c||{};var e=a.defaults;for(var d in e){if(c[d]===undefined){c[d]=e[d]}}return new a.fn._init(c)};a.fn=a.prototype={_init:function(c){var d=this;d.config=c;if(b("#mm",top.document).hasClass("m-menu")){var f=d.curId();if(c.addTab!==null){if(d.addIframe(c.addTab.items)){if(c.isRefresh){d.refreshIframe(c.addTab.items)}if(c.closeTab){d.closeIframe(f)}}}if(c.toTab!==null){if(d.toIframe(c.toTab.id)){if(c.isRefresh){d.refreshIframe(c.toTab.id)}if(c.closeTab){d.closeIframe(f)}}}if(c.toTab==null&&c.addTab==null&&c.closeTab){d.prevShow(f);d.closeIframe(f)}if(c.toTab==null&&c.addTab==null&&c.isRefresh){d.refreshIframe(f)}return}else{d._getMenu(c.menu);var e=b(".m-nav ul").find("li");b("#0Con").css({overflow:"auto"}).height(b(window).height()-76);d.menuHover(e);d.menuClick(e);d.closeTab_a();d.tabCut();d.resize();d.nextPrev();d._getRighthand();d.tabCloseEven()}return d},curId:function(){var f=top.document;var g=b("#tabList",f).find("li").filter(".on");var c=g.attr("id");var e=c.indexOf("list");var d=c.substring(0,e);return d},addIframe:function(c){var e=this,d=top.document;var c=c;c.height=b("#0Con",d).height();if(jQuery.inArray(c.id,top.idArray)==-1){e._getIframe(c);e._getTablist(c);top.idArray.push(c.id);e.addShow(c.id)}else{e.cutShow(c.id)}return e},toIframe:function(c){var d=this;if(jQuery.inArray(c,top.idArray)==-1){alert('指定ID= "'+c+'" 的页面不存在，请重新打开');return false}else{d.cutShow(c)}return d},closeIframe:function(d){var e=this;var d=d;var c=jQuery.inArray(d,top.idArray);top.idArray.splice(c,1);e.removeTab(d)},tabCut:function(){var c=this;b("#tabList").delegate("li","click",function(){var d=b(this).attr("id");var f=d.indexOf("list");var e=d.substring(0,f);c.cutShow(e)})},menuClick:function(d){var c=this;d.each(function(){b(this).find("dd").click(function(){var e={};e.url=b(this).find("a").attr("href");e.title=b(this).find("a").text();e.id=b(this).find("a").attr("id");e.height=b(window).height()-76;if(jQuery.inArray(e.id,idArray)==-1){c._getIframe(e);c._getTablist(e);idArray.push(e.id);c.addShow(e.id)}else{c.cutShow(e.id)}return false})});return c},addShow:function(c){var d=top.document;b("#"+c+"list",d).addClass("on").siblings().removeClass("on");b("#"+c+"Con",d).siblings("div").hide();return this},cutShow:function(c){var d=top.document;b("#"+c+"list",d).addClass("on").siblings().removeClass("on");b("#"+c+"Con",d).show().siblings("div").hide();return this},prevShow:function(c){var d=top.document;b("#"+c+"list",d).prev().addClass("on");b("#"+c+"Con",d).prev().show();return this},removeTab:function(c){var d=top.document;b("#"+c+"list",d).remove();b("#"+c+"Con",d).remove();return this},closeTab_a:function(){var c=this;b("#tabList").delegate("a.m-tab-close","click",function(){var d=b(this).parent().attr("id");var g=d.indexOf("list");var f=d.substring(0,g);var e=jQuery.inArray(f,idArray);idArray.splice(e,1);if(b(this).parent().hasClass("on")){c.prevShow(f);c.removeTab(f)}else{c.removeTab(f)}});return c},nextPrev:function(){var d=0;var c=120;b("#tabLeft").on("click",function(){var h=b("#tabList").parent().innerWidth();var g=0;var f=b("#tabList").find("li");for(var e=0;e<f.length;e++){g=g+f.eq(e).outerWidth(true)}if(d>=0){return false}else{b("#tabList").animate({left:d+c});d=d+c}});b("#tabRight").on("click",function(){var h=b("#tabList").parent().innerWidth();var g=0;var f=b("#tabList").find("li");for(var e=0;e<f.length;e++){g=g+f.eq(e).outerWidth(true)}if(g<=h){return false}else{if((g-Math.abs(d))<=h){return false}else{b("#tabList").animate({left:d-c});d=d-c}}})},menuHover:function(c){c.hover(function(){b(this).children("dl").fadeIn(300)},function(){b(this).children("dl").fadeOut(0)});return this},resize:function(){b(window).resize(function(){var c=b(window).height()-76;b("#tabCon").children("div").height(c)});return this},refreshIframe:function(c){var d=top.document;if(c.id){b("#"+c.id+"Con",d).find(".m-frameCon")[0].contentWindow.location.href=c.url}else{b("#"+c+"Con",d).find(".m-frameCon")[0].contentWindow.location.reload()}return this},_getMenu:function(e){var d=b('<div class="m-nav"></div>');var c=b("<ul></ul>");b(e).each(function(g){var h=b("<li><span>"+e[g].text+"</span></li>");var f=b("<dl></dl>");b(e[g].items).each(function(i){var k='<dd><a id="'+e[g].items[i].id+'" href="'+e[g].items[i].href+'">'+e[g].items[i].text+"</a>";f.append(k)});h.append(f);c.append(h)});d.append(c);b(".m-container").prepend(d);return this},_getIframe:function(c){var d=top.document;var e="";e+='<div id="'+c.id+'Con" style="height:'+c.height+'px;" class="m-tab-content"><iframe scrolling="auto" src="'+c.url+'" frameborder="0" class="m-frameCon"></iframe></div>';b("#tabCon",d).append(e);return this},_getTablist:function(c){var d=top.document;var e="";e+='<li id="'+c.id+'list"><span>'+c.title+'</span><a href="javascript:" class="m-tab-close"></a></li>';b("#tabList",d).append(e);return this},_getRighthand:function(){var c=this;if(b("#mm",top.document).hasClass("m-menu")){return}else{b("body").append(a.rightHand);b("#tabList").delegate("li","contextmenu",function(j){var f=b(this).attr("id");var h=f.indexOf("list");var g=f.substring(0,h);c.cutShow(g);var d=b("#tabList").find("li").eq(0).attr("id");if(d==f){return false}else{b("#mm").show().css({top:j.pageY-2,left:j.pageX-4});return false}});b("#mm").find(".menu-item").hover(function(){b(this).addClass("menu-active")},function(){b(this).removeClass("menu-active")});b("#mm").bind("mouseleave",function(){b(this).hide()})}return c},tabCloseEven:function(){var c=this;b("#mm-tabupdate").click(function(){var d=b("#tabList").find("li").filter(".on").attr("id");var f=d.indexOf("list");var e=d.substring(0,f);c.refreshIframe(e);b("#mm").hide()});b("#mm-tabclose").click(function(){var d=b("#tabList").find("li").filter(".on").attr("id");var g=d.indexOf("list");var f=d.substring(0,g);var e=jQuery.inArray(f,idArray);idArray.splice(e,1);c.prevShow(f);c.removeTab(f);b("#mm").hide()});b("#mm-tabcloseall").click(function(){b("#tabList").children("li").each(function(d){if(d==0){}else{b(this).remove()}});b("#tabCon").children("div").each(function(d){if(d==0){}else{b(this).remove()}});b("#tabList").find("li").eq(0).addClass("on");b("#tabCon").find("div").eq(0).show();idArray=[];b("#mm").hide()});b("#mm-tabcloseother").click(function(){var d=b("#tabList").find("li").filter(".on").attr("id");var g=d.indexOf("list");var f=d.substring(0,g);var e=b("#tabList").find("li").filter(".on").index();b("#tabList").children("li").each(function(h){if(h==0||h==e){}else{b(this).remove()}});b("#tabCon").children("div").each(function(h){if(h==0||h==e){}else{b(this).remove()}});idArray=[];idArray.push(f);b("#mm").hide()});return this}};a.fn._init.prototype=a.fn;b.fn.tabs=b.fn.artTabs=function(){var c=arguments;this[this.live?"live":"bind"]("click",function(){a.apply(this,c);return false});return this};a.rightHand='<div id="mm" class="m-menu"><div class="menu-line"></div><div class="menu-item" id="mm-tabupdate"><div class="menu-text">刷新</div></div><div class="menu-sep"></div><div class="menu-item" id="mm-tabclose"><div class="menu-text">关闭</div></div><div class="menu-item" id="mm-tabcloseother"><div class="menu-text">关闭其他</div></div><div class="menu-item" id="mm-tabcloseall"><div class="menu-text">关闭全部</div></div></div>';a.defaults={menu:null,addTab:null,toTab:null,closeTab:false,isRefresh:false};window.artTabs=b.tabs=b.artTabs=a})(jQuery);function setCursorPosition(c,b){var d=c.value;var a=d.length;var b=b||a;if(a<b){return}setTimeout(function(){c.focus();if(c.setSelectionRange){c.setSelectionRange(b,b)}else{var e=c.createTextRange();e.moveStart("character",-a);e.moveEnd("character",-a);e.moveStart("character",b);e.moveEnd("character",0);e.select()}},10)};
;}catch(e){}
try{
window.CodeMirror=(function(){var bt=/gecko\/\d/i.test(navigator.userAgent);var ao=/MSIE \d/.test(navigator.userAgent);var cb=ao&&(document.documentMode==null||document.documentMode<8);var ca=ao&&(document.documentMode==null||document.documentMode<9);var P=/WebKit\//.test(navigator.userAgent);var bw=P&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var aD=/Chrome\//.test(navigator.userAgent);var u=/Opera\//.test(navigator.userAgent);var by=/Apple Computer/.test(navigator.vendor);var ac=/KHTML\//.test(navigator.userAgent);var de=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent);var dl=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var bl=/PhantomJS/.test(navigator.userAgent);var av=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var bN=av||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var a5=av||/Mac/.test(navigator.platform);var bY=/windows/i.test(navigator.platform);var dw=u&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(dw){dw=Number(dw[1])}var dH=a5&&(bw||u&&(dw==null||dw<12.11));var cU=bt||(ao&&!ca);var aL=false,dt=false;function aq(dX,dY){if(!(this instanceof aq)){return new aq(dX,dY)}this.options=dY=dY||{};for(var dZ in a9){if(!dY.hasOwnProperty(dZ)&&a9.hasOwnProperty(dZ)){dY[dZ]=a9[dZ]}}a3(dY);var d3=typeof dY.value=="string"?0:dY.value.first;var d2=this.display=bx(dX,d3);d2.wrapper.CodeMirror=this;b1(this);if(dY.autofocus&&!bN){bE(this)}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,draggingText:false,highlight:new i()};dh(this);if(dY.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}var d1=dY.value;if(typeof d1=="string"){d1=new M(dY.value,dY.mode)}j(this,cm)(this,d1);if(ao){setTimeout(b4(dg,this,true),20)}s(this);var d4;try{d4=(document.activeElement==d2.input)}catch(d0){}if(d4||(dY.autofocus&&!bN)){setTimeout(b4(dN,this),20)}else{O(this)}j(this,function(){for(var d6 in dG){if(dG.propertyIsEnumerable(d6)){dG[d6](this,dY[d6],h)}}for(var d5=0;d5<J.length;++d5){J[d5](this)}})()}function bx(dX,d0){var d1={};var dZ=d1.input=bH("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");if(P){dZ.style.width="1000px"}else{dZ.setAttribute("wrap","off")}dZ.setAttribute("autocorrect","off");dZ.setAttribute("autocapitalize","off");d1.inputDiv=bH("div",[dZ],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");d1.scrollbarH=bH("div",[bH("div",null,null,"height: 1px")],"CodeMirror-hscrollbar");d1.scrollbarV=bH("div",[bH("div",null,null,"width: 1px")],"CodeMirror-vscrollbar");d1.scrollbarFiller=bH("div",null,"CodeMirror-scrollbar-filler");d1.lineDiv=bH("div");d1.selectionDiv=bH("div",null,null,"position: relative; z-index: 1");d1.cursor=bH("div","\u00a0","CodeMirror-cursor");d1.otherCursor=bH("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor");d1.measure=bH("div",null,"CodeMirror-measure");d1.lineSpace=bH("div",[d1.measure,d1.selectionDiv,d1.lineDiv,d1.cursor,d1.otherCursor],null,"position: relative; outline: none");d1.mover=bH("div",[bH("div",[d1.lineSpace],"CodeMirror-lines")],null,"position: relative");d1.sizer=bH("div",[d1.mover],"CodeMirror-sizer");d1.heightForcer=bH("div","\u00a0",null,"position: absolute; height: "+c7+"px");d1.gutters=bH("div",null,"CodeMirror-gutters");d1.lineGutter=null;var dY=bH("div",[d1.sizer,d1.heightForcer,d1.gutters],null,"position: relative; min-height: 100%");d1.scroller=bH("div",[dY],"CodeMirror-scroll");d1.scroller.setAttribute("tabIndex","-1");d1.wrapper=bH("div",[d1.inputDiv,d1.scrollbarH,d1.scrollbarV,d1.scrollbarFiller,d1.scroller],"CodeMirror");if(cb){d1.gutters.style.zIndex=-1;d1.scroller.style.paddingRight=0}if(dX.appendChild){dX.appendChild(d1.wrapper)}else{dX(d1.wrapper)}if(av){dZ.style.width="0px"}if(!P){d1.scroller.draggable=true}if(ac){d1.inputDiv.style.height="1px";d1.inputDiv.style.position="absolute"}else{if(cb){d1.scrollbarH.style.minWidth=d1.scrollbarV.style.minWidth="18px"}}d1.viewOffset=d1.lastSizeC=0;d1.showingFrom=d1.showingTo=d0;d1.lineNumWidth=d1.lineNumInnerWidth=d1.lineNumChars=null;d1.prevInput="";d1.alignWidgets=false;d1.pollingFast=false;d1.poll=new i();d1.draggingText=false;d1.cachedCharWidth=d1.cachedTextHeight=null;d1.measureLineCache=[];d1.measureLineCachePos=0;d1.inaccurateSelection=false;d1.maxLine=null;d1.maxLineLength=0;d1.maxLineChanged=false;d1.wheelDX=d1.wheelDY=d1.wheelStartX=d1.wheelStartY=null;return d1}function b8(dX){dX.doc.mode=aq.getMode(dX.options,dX.doc.modeOption);dX.doc.iter(function(dY){if(dY.stateAfter){dY.stateAfter=null}if(dY.styles){dY.styles=null}});dX.doc.frontier=dX.doc.first;bK(dX,100);dX.state.modeGen++;if(dX.curOp){bR(dX)}}function dn(dX){if(dX.options.lineWrapping){dX.display.wrapper.className+=" CodeMirror-wrap";dX.display.sizer.style.minWidth=""}else{dX.display.wrapper.className=dX.display.wrapper.className.replace(" CodeMirror-wrap","");bB(dX)}cu(dX);bR(dX);c0(dX);setTimeout(function(){x(dX.display,dX.doc.height)},100)}function aU(dX){var dZ=b0(dX.display),dY=dX.options.lineWrapping;var d0=dY&&Math.max(5,dX.display.scroller.clientWidth/a6(dX.display)-3);return function(d1){if(bc(dX.doc,d1)){return 0}else{if(dY){return(Math.ceil(d1.text.length/d0)||1)*dZ}else{return dZ}}}}function cu(dX){var dZ=dX.doc,dY=aU(dX);dZ.iter(function(d0){var d1=dY(d0);if(d1!=d0.height){aO(d0,d1)}})}function da(dX){var dY=dM[dX.options.keyMap].style;dX.display.wrapper.className=dX.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(dY?" cm-keymap-"+dY:"")}function dh(dX){dX.display.wrapper.className=dX.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+dX.options.theme.replace(/(^|\s)\s*/g," cm-s-");c0(dX)}function b3(dX){b1(dX);bR(dX)}function b1(dX){var dY=dX.display.gutters,d2=dX.options.gutters;cR(dY);for(var dZ=0;dZ<d2.length;++dZ){var d0=d2[dZ];var d1=dY.appendChild(bH("div",null,"CodeMirror-gutter "+d0));if(d0=="CodeMirror-linenumbers"){dX.display.lineGutter=d1;d1.style.width=(dX.display.lineNumWidth||1)+"px"}}dY.style.display=dZ?"":"none"}function b6(d1,dZ){if(dZ.height==0){return 0}var dY=dZ.text.length,dX,d2=dZ;while(dX=ds(d2)){var d0=dX.find();d2=dm(d1,d0.from.line);dY+=d0.from.ch-d0.to.ch}d2=dZ;while(dX=I(d2)){var d0=dX.find();dY-=d2.text.length-d0.from.ch;d2=dm(d1,d0.to.line);dY+=d2.text.length-d0.to.ch}return dY}function bB(dX){var dZ=dX.display,dY=dX.doc;dZ.maxLine=dm(dY,dY.first);dZ.maxLineLength=b6(dY,dZ.maxLine);dZ.maxLineChanged=true;dY.iter(function(d1){var d0=b6(dY,d1);if(d0>dZ.maxLineLength){dZ.maxLineLength=d0;dZ.maxLine=d1}})}function a3(dX){var dZ=false;for(var dY=0;dY<dX.gutters.length;++dY){if(dX.gutters[dY]=="CodeMirror-linenumbers"){if(dX.lineNumbers){dZ=true}else{dX.gutters.splice(dY--,1)}}}if(!dZ&&dX.lineNumbers){dX.gutters.push("CodeMirror-linenumbers")}}function x(d2,dX){var dZ=dX+2*c6(d2);d2.sizer.style.minHeight=d2.heightForcer.style.top=dZ+"px";var d0=Math.max(dZ,d2.scroller.scrollHeight);var d1=d2.scroller.scrollWidth>d2.scroller.clientWidth;var dY=d0>d2.scroller.clientHeight;if(dY){d2.scrollbarV.style.display="block";d2.scrollbarV.style.bottom=d1?co(d2.measure)+"px":"0";d2.scrollbarV.firstChild.style.height=(d0-d2.scroller.clientHeight+d2.scrollbarV.clientHeight)+"px"}else{d2.scrollbarV.style.display=""}if(d1){d2.scrollbarH.style.display="block";d2.scrollbarH.style.right=dY?co(d2.measure)+"px":"0";d2.scrollbarH.firstChild.style.width=(d2.scroller.scrollWidth-d2.scroller.clientWidth+d2.scrollbarH.clientWidth)+"px"}else{d2.scrollbarH.style.display=""}if(d1&&dY){d2.scrollbarFiller.style.display="block";d2.scrollbarFiller.style.height=d2.scrollbarFiller.style.width=co(d2.measure)+"px"}else{d2.scrollbarFiller.style.display=""}if(de&&co(d2.measure)===0){d2.scrollbarV.style.minWidth=d2.scrollbarH.style.minHeight=dl?"18px":"12px"}}function bG(d2,d1,d0){var dZ=d2.scroller.scrollTop,dX=d2.wrapper.clientHeight;if(typeof d0=="number"){dZ=d0}else{if(d0){dZ=d0.top;dX=d0.bottom-d0.top}}dZ=Math.floor(dZ-c6(d2));var dY=Math.ceil(dZ+dX);return{from:ba(d1,dZ),to:ba(d1,dY)}}function ad(dX){var d3=dX.display;if(!d3.alignWidgets&&(!d3.gutters.firstChild||!dX.options.fixedGutter)){return}var d0=dS(d3)-d3.scroller.scrollLeft+dX.doc.scrollLeft;var d2=d3.gutters.offsetWidth,dZ=d0+"px";for(var d4=d3.lineDiv.firstChild;d4;d4=d4.nextSibling){if(d4.alignable){for(var d1=0,dY=d4.alignable;d1<dY.length;++d1){dY[d1].style.left=dZ}}}if(dX.options.fixedGutter){d3.gutters.style.left=(d0+d2)+"px"}}function ab(dX){if(!dX.options.lineNumbers){return false}var d2=dX.doc,dY=c2(dX.options,d2.first+d2.size-1),d1=dX.display;if(dY.length!=d1.lineNumChars){var d3=d1.measure.appendChild(bH("div",[bH("div",dY)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var dZ=d3.firstChild.offsetWidth,d0=d3.offsetWidth-dZ;d1.lineGutter.style.width="";d1.lineNumInnerWidth=Math.max(dZ,d1.lineGutter.offsetWidth-d0);d1.lineNumWidth=d1.lineNumInnerWidth+d0;d1.lineNumChars=d1.lineNumInnerWidth?dY.length:-1;d1.lineGutter.style.width=d1.lineNumWidth+"px";return true}return false}function c2(dX,dY){return String(dX.lineNumberFormatter(dY+dX.firstLineNumber))}function dS(dX){return t(dX.scroller).left-t(dX.sizer).left}function cL(dX,d0,d1){var dZ=dX.display.showingFrom,d2=dX.display.showingTo;var dY=bC(dX,d0,d1);if(dY){ce(dX,"update",dX);if(dX.display.showingFrom!=dZ||dX.display.showingTo!=d2){ce(dX,"viewportChange",dX,dX.display.showingFrom,dX.display.showingTo)}}dR(dX);x(dX.display,dX.doc.height);return dY}function bC(d3,el,dX){var ef=d3.display,em=d3.doc;if(!ef.wrapper.clientWidth){ef.showingFrom=ef.showingTo=em.first;ef.viewOffset=0;return}var dZ=bG(ef,em,dX);if(el.length==0&&dZ.from>ef.showingFrom&&dZ.to<ef.showingTo){return}if(ab(d3)){el=[{from:em.first,to:em.first+em.size}]}var ej=ef.sizer.style.marginLeft=ef.gutters.offsetWidth+"px";ef.scrollbarH.style.left=d3.options.fixedGutter?ej:"0";var d0=Infinity;if(d3.options.lineNumbers){for(var eg=0;eg<el.length;++eg){if(el[eg].diff){d0=el[eg].from;break}}}var d1=em.first+em.size;var ee=Math.max(dZ.from-d3.options.viewportMargin,em.first);var dY=Math.min(d1,dZ.to+d3.options.viewportMargin);if(ef.showingFrom<ee&&ee-ef.showingFrom<20){ee=Math.max(em.first,ef.showingFrom)}if(ef.showingTo>dY&&ef.showingTo-dY<20){dY=Math.min(d1,ef.showingTo)}if(dt){ee=l(aH(em,dm(em,ee)));while(dY<d1&&bc(em,dm(em,dY))){++dY}}var eh=[{from:Math.max(ef.showingFrom,em.first),to:Math.min(ef.showingTo,d1)}];if(eh[0].from>=eh[0].to){eh=[]}else{eh=cn(eh,el)}if(dt){for(var eg=0;eg<eh.length;++eg){var d8=eh[eg],ei;while(ei=I(dm(em,d8.to-1))){var ek=ei.find().from.line;if(ek>d8.from){d8.to=ek}else{eh.splice(eg--,1);break}}}}var eb=0;for(var eg=0;eg<eh.length;++eg){var d8=eh[eg];if(d8.from<ee){d8.from=ee}if(d8.to>dY){d8.to=dY}if(d8.from>=d8.to){eh.splice(eg--,1)}else{eb+=d8.to-d8.from}}if(eb==dY-ee&&ee==ef.showingFrom&&dY==ef.showingTo){al(d3);return}eh.sort(function(eo,en){return eo.from-en.from});var d4=document.activeElement;if(eb<(dY-ee)*0.7){ef.lineDiv.style.display="none"}am(d3,ee,dY,eh,d0);ef.lineDiv.style.display="";if(document.activeElement!=d4&&d4.offsetHeight){d4.focus()}var d9=ee!=ef.showingFrom||dY!=ef.showingTo||ef.lastSizeC!=ef.wrapper.clientHeight;if(d9){ef.lastSizeC=ef.wrapper.clientHeight}ef.showingFrom=ee;ef.showingTo=dY;bK(d3,100);var d2=ef.lineDiv.offsetTop;for(var ed=ef.lineDiv.firstChild,ea;ed;ed=ed.nextSibling){if(ed.lineObj){if(cb){var d7=ed.offsetTop+ed.offsetHeight;ea=d7-d2;d2=d7}else{var d5=t(ed);ea=d5.bottom-d5.top}var d6=ed.lineObj.height-ea;if(ea<2){ea=b0(ef)}if(d6>0.001||d6<-0.001){aO(ed.lineObj,ea);var ec=ed.lineObj.widgets;if(ec){for(var eg=0;eg<ec.length;++eg){ec[eg].height=ec[eg].node.offsetHeight}}}}}al(d3);if(bG(ef,em,dX).to>dY){bC(d3,[],dX)}return true}function al(dX){var dY=dX.display.viewOffset=cg(dX,dm(dX.doc,dX.display.showingFrom));dX.display.mover.style.top=dY+"px"}function cn(d6,d4){for(var d1=0,dZ=d4.length||0;d1<dZ;++d1){var d3=d4[d1],dX=[],d5=d3.diff||0;for(var d0=0,dY=d6.length;d0<dY;++d0){var d2=d6[d0];if(d3.to<=d2.from&&d3.diff){dX.push({from:d2.from+d5,to:d2.to+d5})}else{if(d3.to<=d2.from||d3.from>=d2.to){dX.push(d2)}else{if(d3.from>d2.from){dX.push({from:d2.from,to:d3.from})}if(d3.to<d2.to){dX.push({from:d3.to+d5,to:d2.to+d5})}}}}d6=dX}return d6}function cS(dX){var d1=dX.display,d0={},dZ={};for(var d2=d1.gutters.firstChild,dY=0;d2;d2=d2.nextSibling,++dY){d0[dX.options.gutters[dY]]=d2.offsetLeft;dZ[dX.options.gutters[dY]]=d2.offsetWidth}return{fixedPos:dS(d1),gutterTotalWidth:d1.gutters.offsetWidth,gutterLeft:d0,gutterWidth:dZ,wrapperWidth:d1.wrapper.clientWidth}}function am(d6,d3,d4,d9,dY){var d5=cS(d6);var d2=d6.display,d8=d6.options.lineNumbers;if(!d9.length&&(!P||!d6.display.currentWheelTarget)){cR(d2.lineDiv)}var dX=d2.lineDiv,d7=dX.firstChild;function d1(eb){var ea=eb.nextSibling;if(P&&a5&&d6.display.currentWheelTarget==eb){eb.style.display="none";eb.lineObj=null}else{eb.parentNode.removeChild(eb)}return ea}var dZ=d9.shift(),d0=d3;d6.doc.iter(d3,d4,function(ei){if(dZ&&dZ.to==d0){dZ=d9.shift()}if(bc(d6.doc,ei)){if(ei.height!=0){aO(ei,0)}if(ei.widgets&&d7.previousSibling){for(var ee=0;ee<ei.widgets.length;++ee){if(ei.widgets[ee].showIfHidden){var ec=d7.previousSibling;if(/pre/i.test(ec.nodeName)){var eb=bH("div",null,null,"position: relative");ec.parentNode.replaceChild(eb,ec);eb.appendChild(ec);ec=eb}var eg=ec.appendChild(bH("div",[ei.widgets[ee].node],"CodeMirror-linewidget"));bk(ei.widgets[ee],eg,ec,d5)}}}}else{if(dZ&&dZ.from<=d0&&dZ.to>d0){while(d7.lineObj!=ei){d7=d1(d7)}if(d8&&dY<=d0&&d7.lineNumber){aZ(d7.lineNumber,c2(d6.options,d0))}d7=d7.nextSibling}else{if(ei.widgets){for(var ed=0,eh=d7,ef;eh&&ed<20;++ed,eh=eh.nextSibling){if(eh.lineObj==ei&&/div/i.test(eh.nodeName)){ef=eh;break}}}var ea=aK(d6,ei,d0,d5,ef);if(ea!=ef){dX.insertBefore(ea,d7)}else{while(d7!=ef){d7=d1(d7)}d7=d7.nextSibling}ea.lineObj=ei}}++d0});while(d7){d7=d1(d7)}}function aK(d2,d5,d6,d9,dY){var ef=bW(d2,d5);var ei=d5.gutterMarkers,eg=d2.display,d3;if(!d2.options.lineNumbers&&!ei&&!d5.bgClass&&!d5.wrapClass&&!d5.widgets){return ef}if(dY){dY.alignable=null;var ej=true,dZ=0;for(var eb=dY.firstChild,ea;eb;eb=ea){ea=eb.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(eb.className)){dY.removeChild(eb)}else{for(var eh=0,d1=true;eh<d5.widgets.length;++eh){var d0=d5.widgets[eh],d4=false;if(!d0.above){d4=d1;d1=false}if(d0.node==eb.firstChild){bk(d0,eb,dY,d9);++dZ;if(d4){dY.insertBefore(ef,eb)}break}}if(eh==d5.widgets.length){ej=false;break}}}if(ej&&dZ==d5.widgets.length){d3=dY;dY.className=d5.wrapClass||""}}if(!d3){d3=bH("div",null,d5.wrapClass,"position: relative");d3.appendChild(ef)}if(d5.bgClass){d3.insertBefore(bH("div","\u00a0",d5.bgClass+" CodeMirror-linebackground"),d3.firstChild)}if(d2.options.lineNumbers||ei){var ed=d3.insertBefore(bH("div",null,null,"position: absolute; left: "+(d2.options.fixedGutter?d9.fixedPos:-d9.gutterTotalWidth)+"px"),d3.firstChild);if(d2.options.fixedGutter){(d3.alignable||(d3.alignable=[])).push(ed)}if(d2.options.lineNumbers&&(!ei||!ei["CodeMirror-linenumbers"])){d3.lineNumber=ed.appendChild(bH("div",c2(d2.options,d6),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d9.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+eg.lineNumInnerWidth+"px"))}if(ei){for(var ee=0;ee<d2.options.gutters.length;++ee){var d8=d2.options.gutters[ee],d7=ei.hasOwnProperty(d8)&&ei[d8];if(d7){ed.appendChild(bH("div",[d7],"CodeMirror-gutter-elt","left: "+d9.gutterLeft[d8]+"px; width: "+d9.gutterWidth[d8]+"px"))}}}}if(cb){d3.style.zIndex=2}if(d5.widgets&&d3!=dY){for(var eh=0,dX=d5.widgets;eh<dX.length;++eh){var d0=dX[eh],ec=bH("div",[d0.node],"CodeMirror-linewidget");bk(d0,ec,d3,d9);if(d0.above){d3.insertBefore(ec,d2.options.lineNumbers&&d5.height!=0?ed:ef)}else{d3.appendChild(ec)}ce(d0,"redraw")}}return d3}function bk(d0,dZ,dY,d1){if(d0.noHScroll){(dY.alignable||(dY.alignable=[])).push(dZ);var dX=d1.wrapperWidth;dZ.style.left=d1.fixedPos+"px";if(!d0.coverGutter){dX-=d1.gutterTotalWidth;dZ.style.paddingLeft=d1.gutterTotalWidth+"px"}dZ.style.width=dX+"px"}if(d0.coverGutter){dZ.style.zIndex=5;dZ.style.position="relative";if(!d0.noHScroll){dZ.style.marginLeft=-d1.gutterTotalWidth+"px"}}}function dR(dX){var d0=dX.display;var d1=o(dX.doc.sel.from,dX.doc.sel.to);if(d1||dX.options.showCursorWhenSelecting){dT(dX)}else{d0.cursor.style.display=d0.otherCursor.style.display="none"}if(!d1){bv(dX)}else{d0.selectionDiv.style.display="none"}var d2=bU(dX,dX.doc.sel.head,"div");var dY=t(d0.wrapper),dZ=t(d0.lineDiv);d0.inputDiv.style.top=Math.max(0,Math.min(d0.wrapper.clientHeight-10,d2.top+dZ.top-dY.top))+"px";d0.inputDiv.style.left=Math.max(0,Math.min(d0.wrapper.clientWidth-10,d2.left+dZ.left-dY.left))+"px"}function dT(dX){var dY=dX.display,dZ=bU(dX,dX.doc.sel.head,"div");dY.cursor.style.left=dZ.left+"px";dY.cursor.style.top=dZ.top+"px";dY.cursor.style.height=Math.max(0,dZ.bottom-dZ.top)*dX.options.cursorHeight+"px";dY.cursor.style.display="";if(dZ.other){dY.otherCursor.style.display="";dY.otherCursor.style.left=dZ.other.left+"px";dY.otherCursor.style.top=dZ.other.top+"px";dY.otherCursor.style.height=(dZ.other.bottom-dZ.other.top)*0.85+"px"}else{dY.otherCursor.style.display="none"}}function bv(d1){var d8=d1.display,ef=d1.doc,d7=d1.doc.sel;var dX=document.createDocumentFragment();var ea=d8.lineSpace.offsetWidth,eb=aW(d1.display);function d3(ej,ei,eh,eg){if(ei<0){ei=0}dX.appendChild(bH("div",null,"CodeMirror-selected","position: absolute; left: "+ej+"px; top: "+ei+"px; width: "+(eh==null?ea-ej:eh)+"px; height: "+(eg-ei)+"px"))}function dZ(eg,ej,en,em){var eh=dm(ef,eg);var ek=eh.text.length,ei=em?Infinity:-Infinity;function el(eo){return dr(d1,dP(eg,eo),"div",eh)}dy(cq(eh),ej||0,en==null?ek:en,function(eu,et,eo){var eq=el(eo=="rtl"?et-1:eu);var er=el(eo=="rtl"?eu:et-1);var es=eq.left,ep=er.right;if(er.top-eq.top>3){d3(es,eq.top,null,eq.bottom);es=eb;if(eq.bottom<er.top){d3(es,eq.bottom,null,er.top)}}if(en==null&&et==ek){ep=ea}if(ej==null&&eu==0){es=eb}ei=em?Math.min(er.top,ei):Math.max(er.bottom,ei);if(es<eb+1){es=eb}d3(es,er.top,ep-es,er.bottom)});return ei}if(d7.from.line==d7.to.line){dZ(d7.from.line,d7.from.ch,d7.to.ch)}else{var ee=dm(ef,d7.from.line);var d0=ee,ec,d5=[d7.from.line,d7.from.ch],dY;while(ec=I(d0)){var d2=ec.find();d5.push(d2.from.ch,d2.to.line,d2.to.ch);if(d2.to.line==d7.to.line){d5.push(d7.to.ch);dY=true;break}d0=dm(ef,d2.to.line)}if(dY){for(var d9=0;d9<d5.length;d9+=3){dZ(d5[d9],d5[d9+1],d5[d9+2])}}else{var d6,d4,ed=dm(ef,d7.to.line);if(d7.from.ch){d6=dZ(d7.from.line,d7.from.ch,null,false)}else{d6=cg(d1,ee)-d8.viewOffset}if(!d7.to.ch){d4=cg(d1,ed)-d8.viewOffset}else{d4=dZ(d7.to.line,ds(ed)?null:0,d7.to.ch,true)}if(d6<d4){d3(eb,d6,null,d4)}}}cZ(d8.selectionDiv,dX);d8.selectionDiv.style.display=""}function dz(dX){var dZ=dX.display;clearInterval(dZ.blinker);var dY=true;dZ.cursor.style.visibility=dZ.otherCursor.style.visibility="";dZ.blinker=setInterval(function(){if(!dZ.cursor.offsetHeight){return}dZ.cursor.style.visibility=dZ.otherCursor.style.visibility=(dY=!dY)?"":"hidden"},dX.options.cursorBlinkRate)}function bK(dX,dY){if(dX.doc.mode.startState&&dX.doc.frontier<dX.display.showingTo){dX.state.highlight.set(dY,b4(b9,dX))}}function b9(dX){var d0=dX.doc;if(d0.frontier<d0.first){d0.frontier=d0.first}if(d0.frontier>=dX.display.showingTo){return}var dY=+new Date+dX.options.workTime;var dZ=f(d0.mode,c8(dX,d0.frontier));var d2=[],d1;d0.iter(d0.frontier,Math.min(d0.first+d0.size,dX.display.showingTo+500),function(d3){if(d0.frontier>=dX.display.showingFrom){var d5=d3.styles;d3.styles=a(dX,d3,dZ);var d6=!d5||d5.length!=d3.styles.length;for(var d4=0;!d6&&d4<d5.length;++d4){d6=d5[d4]!=d3.styles[d4]}if(d6){if(d1&&d1.end==d0.frontier){d1.end++}else{d2.push(d1={start:d0.frontier,end:d0.frontier+1})}}d3.stateAfter=f(d0.mode,dZ)}else{ci(dX,d3,dZ);d3.stateAfter=d0.frontier%5==0?f(d0.mode,dZ):null}++d0.frontier;if(+new Date>dY){bK(dX,dX.options.workDelay);return true}});if(d2.length){j(dX,function(){for(var d3=0;d3<d2.length;++d3){bR(this,d2[d3].start,d2[d3].end)}})()}}function aY(d2,dX){var dY,d0,d1=d2.doc;for(var d4=dX,dZ=dX-100;d4>dZ;--d4){if(d4<=d1.first){return d1.first}var d5=dm(d1,d4-1);if(d5.stateAfter){return d4}var d3=dQ(d5.text,null,d2.options.tabSize);if(d0==null||dY>d3){d0=d4-1;dY=d3}}return d0}function c8(dX,d2){var d0=dX.doc,dZ=dX.display;if(!d0.mode.startState){return true}var d1=aY(dX,d2),dY=d1>d0.first&&dm(d0,d1-1).stateAfter;if(!dY){dY=a1(d0.mode)}else{dY=f(d0.mode,dY)}d0.iter(d1,d2,function(d3){ci(dX,d3,dY);var d4=d1==d2-1||d1%5==0||d1>=dZ.showingFrom&&d1<dZ.showingTo;d3.stateAfter=d4?f(d0.mode,dY):null;++d1});return dY}function c6(dX){return dX.lineSpace.offsetTop}function aW(dY){var dX=cZ(dY.measure,bH("pre",null,null,"text-align: left")).appendChild(bH("span","x"));return dX.offsetLeft}function aI(dX,dY,d0,d2){var dZ=-1;d2=d2||cB(dX,dY);for(var d3=d0;;d3+=dZ){var d1=d2[d3];if(d1){break}if(dZ<0&&d3==0){dZ=1}}return{left:d3<d0?d1.right:d1.left,right:d3>d0?d1.left:d1.right,top:d1.top,bottom:d1.bottom}}function cB(dX,dY){var d3=dX.display,d0=dX.display.measureLineCache;for(var d1=0;d1<d0.length;++d1){var dZ=d0[d1];if(dZ.text==dY.text&&dZ.markedSpans==dY.markedSpans&&d3.scroller.clientWidth==dZ.width&&dZ.classes==dY.textClass+"|"+dY.bgClass+"|"+dY.wrapClass){return dZ.measure}}var d2=aJ(dX,dY);var dZ={text:dY.text,width:d3.scroller.clientWidth,markedSpans:dY.markedSpans,measure:d2,classes:dY.textClass+"|"+dY.bgClass+"|"+dY.wrapClass};if(d0.length==16){d0[++d3.measureLineCachePos%16]=dZ}else{d0.push(dZ)}return d2}function aJ(d2,d5){var eg=d2.display,d1=dI(d5.text.length);var ed=bW(d2,d5,d1);if(ao&&!cb&&!d2.options.lineWrapping&&ed.childNodes.length>100){var dZ=document.createDocumentFragment();var d6=10,ee=ed.childNodes.length;for(var ei=0,d8=Math.ceil(ee/d6);ei<d8;++ei){var d4=bH("div",null,null,"display: inline-block");for(var eh=0;eh<d6&&ee;++eh){d4.appendChild(ed.firstChild);--ee}dZ.appendChild(d4)}ed.appendChild(dZ)}cZ(eg.measure,ed);var dY=t(eg.lineDiv);var dX=[],el=dI(d5.text.length),ek=ed.offsetHeight;if(ca&&eg.measure.first!=ed){cZ(eg.measure,ed)}for(var ei=0,d0;ei<d1.length;++ei){if(d0=d1[ei]){var ec=t(d0);var eb=Math.max(0,ec.top-dY.top),d9=Math.min(ec.bottom-dY.top,ek);for(var eh=0;eh<dX.length;eh+=2){var ea=dX[eh],d7=dX[eh+1];if(ea>d9||d7<eb){continue}if(ea<=eb&&d7>=d9||eb<=ea&&d9>=d7||Math.min(d9,d7)-Math.max(eb,ea)>=(d9-eb)>>1){dX[eh]=Math.min(eb,ea);dX[eh+1]=Math.max(d9,d7);break}}if(eh==dX.length){dX.push(eb,d9)}var ej=ec.right;if(d0.measureRight){ej=t(d0.measureRight).left}el[ei]={left:ec.left-dY.left,right:ej-dY.left,top:eh}}}for(var ei=0,d0;ei<el.length;++ei){if(d0=el[ei]){var ef=d0.top;d0.top=dX[ef];d0.bottom=dX[ef+1]}}if(!d2.options.lineWrapping){var d3=ed.lastChild;if(d3.nodeType==3){d3=ed.appendChild(bH("span","\u200b"))}el.width=t(d3).right-dY.left}return el}function c0(dX){dX.display.measureLineCache.length=dX.display.measureLineCachePos=0;dX.display.cachedCharWidth=dX.display.cachedTextHeight=null;dX.display.maxLineChanged=true;dX.display.lineNumChars=null}function A(d3,d0,d2,dY){if(d0.widgets){for(var dZ=0;dZ<d0.widgets.length;++dZ){if(d0.widgets[dZ].above){var d5=ax(d0.widgets[dZ]);d2.top+=d5;d2.bottom+=d5}}}if(dY=="line"){return d2}if(!dY){dY="local"}var d1=cg(d3,d0);if(dY!="local"){d1-=d3.display.viewOffset}if(dY=="page"){var dX=t(d3.display.lineSpace);d1+=dX.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var d4=dX.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);d2.left+=d4;d2.right+=d4}d2.top+=d1;d2.bottom+=d1;return d2}function dr(dX,d0,dZ,dY){if(!dY){dY=dm(dX.doc,d0.line)}return A(dX,dY,aI(dX,dY,d0.ch),dZ)}function bU(d6,d3,dZ,dY,d8){dY=dY||dm(d6.doc,d3.line);if(!d8){d8=cB(d6,dY)}function ed(eh,eg){var ef=aI(d6,dY,eh,d8);if(eg){ef.left=ef.right}else{ef.right=ef.left}return A(d6,dY,ef,dZ)}var ea=cq(dY),d7=d3.ch;if(!ea){return ed(d7)}var d4,d2,ee=ea[0].level;for(var eb=0;eb<ea.length;++eb){var d9=ea[eb],d1=d9.level%2,d5,dX;if(d9.from<d7&&d9.to>d7){return ed(d7,d1)}var d0=d1?d9.to:d9.from,ec=d1?d9.from:d9.to;if(d0==d7){if(eb&&d9.level<(d5=ea[eb-1]).level){dX=ed(d5.level%2?d5.from:d5.to-1,true)}else{dX=ed(d1&&d9.from!=d9.to?d7-1:d7)}if(d1==ee){d4=dX}else{d2=dX}}else{if(ec==d7){var d5=eb<ea.length-1&&ea[eb+1];if(!d1&&d5&&d5.from==d5.to){continue}if(d5&&d9.level<d5.level){dX=ed(d5.level%2?d5.to-1:d5.from)}else{dX=ed(d1?d7:d7-1,true)}if(d1==ee){d4=dX}else{d2=dX}}}}if(ee&&!d7){d2=ed(ea[0].to-1)}if(!d4){return d2}if(d2){d4.other=d2}return d4}function cW(dX,dY,dZ){var d0=new dP(dX,dY);if(dZ){d0.outside=true}return d0}function bL(d4,d1,d0){var d3=d4.doc;d0+=d4.display.viewOffset;if(d0<0){return cW(d3.first,0,true)}var dY=ba(d3,d0),d5=d3.first+d3.size-1;if(dY>d5){return cW(d3.first+d3.size-1,dm(d3,d5).text.length,true)}if(d1<0){d1=0}for(;;){var dZ=dm(d3,dY);var d6=aG(d4,dZ,dY,d1,d0);var d2=I(dZ);var dX=d2&&d2.find();if(d2&&d6.ch>=dX.from.ch){dY=dX.to.line}else{return d6}}}function aG(d8,dZ,eb,ea,d9){var d7=d9-cg(d8,dZ);var d4=false,el=d8.display.wrapper.clientWidth;var eg=cB(d8,dZ);function ej(em){var en=bU(d8,dP(eb,em),"line",dZ,eg);d4=true;if(d7>en.bottom){return Math.max(0,en.left-el)}else{if(d7<en.top){return en.left+el}else{d4=false}}return en.left}var ed=cq(dZ),ef=dZ.text.length;var eh=br(dZ),d0=cM(dZ);var ee=ej(eh),dX=d4,dY=ej(d0),d3=d4;if(ea>dY){return cW(eb,d0,d3)}for(;;){if(ed?d0==eh||d0==bZ(dZ,eh,1):d0-eh<=1){var d2=ea-ee<dY-ea,ec=d2?eh:d0;while(cr.test(dZ.text.charAt(ec))){++ec}var d6=cW(eb,ec,d2?dX:d3);d6.after=d2;return d6}var d5=Math.ceil(ef/2),ek=eh+d5;if(ed){ek=eh;for(var ei=0;ei<d5;++ei){ek=bZ(dZ,ek,1)}}var d1=ej(ek);if(d1>ea){d0=ek;dY=d1;if(d3=d4){dY+=1000}ef-=d5}else{eh=ek;ee=d1;dX=d4;ef=d5}}}var cc;function b0(dZ){if(dZ.cachedTextHeight!=null){return dZ.cachedTextHeight}if(cc==null){cc=bH("pre");for(var dY=0;dY<49;++dY){cc.appendChild(document.createTextNode("x"));cc.appendChild(bH("br"))}cc.appendChild(document.createTextNode("x"))}cZ(dZ.measure,cc);var dX=cc.offsetHeight/50;if(dX>3){dZ.cachedTextHeight=dX}cR(dZ.measure);return dX||1}function a6(d0){if(d0.cachedCharWidth!=null){return d0.cachedCharWidth}var dX=bH("span","x");var dZ=bH("pre",[dX]);cZ(d0.measure,dZ);var dY=dX.offsetWidth;if(dY>2){d0.cachedCharWidth=dY}return dY||10}var dL=0;function aa(dX){dX.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:false,updateMaxLine:false,updateScrollPos:false,id:++dL};if(!cd++){dv=[]}}function B(d9){var d4=d9.curOp,d8=d9.doc,d5=d9.display;d9.curOp=null;if(d4.updateMaxLine){bB(d9)}if(d5.maxLineChanged&&!d9.options.lineWrapping){var dY=cB(d9,d5.maxLine).width;d5.sizer.style.minWidth=Math.max(0,dY+3+c7)+"px";d5.maxLineChanged=false;var d6=Math.max(0,d5.sizer.offsetLeft+d5.sizer.offsetWidth-d5.scroller.clientWidth);if(d6<d8.scrollLeft&&!d4.updateScrollPos){W(d9,Math.min(d5.scroller.scrollLeft,d6),true)}}var dZ,d2;if(d4.updateScrollPos){dZ=d4.updateScrollPos}else{if(d4.selectionChanged&&d5.scroller.clientHeight){var d7=bU(d9,d8.sel.head);dZ=aB(d9,d7.left,d7.top,d7.left,d7.bottom)}}if(d4.changes.length||dZ&&dZ.scrollTop!=null){d2=cL(d9,d4.changes,dZ&&dZ.scrollTop)}if(!d2&&d4.selectionChanged){dR(d9)}if(d4.updateScrollPos){d5.scroller.scrollTop=d5.scrollbarV.scrollTop=d8.scrollTop=dZ.scrollTop;d5.scroller.scrollLeft=d5.scrollbarH.scrollLeft=d8.scrollLeft=dZ.scrollLeft;ad(d9)}else{if(dZ){cO(d9)}}if(d4.selectionChanged){dz(d9)}if(d9.state.focused&&d4.updateInput){dg(d9,d4.userSelChange)}var d3=d4.maybeHiddenMarkers,dX=d4.maybeUnhiddenMarkers;if(d3){for(var d1=0;d1<d3.length;++d1){if(!d3[d1].lines.length){af(d3[d1],"hide")}}}if(dX){for(var d1=0;d1<dX.length;++d1){if(dX[d1].lines.length){af(dX[d1],"unhide")}}}var d0;if(!--cd){d0=dv;dv=null}if(d4.textChanged){af(d9,"change",d9,d4.textChanged)}if(d4.selectionChanged){af(d9,"cursorActivity",d9)}if(d0){for(var d1=0;d1<d0.length;++d1){d0[d1]()}}}function j(dX,dY){return function(){var d0=dX||this,d1=!d0.curOp;if(d1){aa(d0)}try{var dZ=dY.apply(d0,arguments)}finally{if(d1){B(d0)}}return dZ}}function cw(dX){return function(){var dZ=this.cm&&!this.cm.curOp,dY;if(dZ){aa(this.cm)}try{dY=dX.apply(this,arguments)}finally{if(dZ){B(this.cm)}}return dY}}function cv(dY,d0){var dZ=!dY.curOp,dX;if(dZ){aa(dY)}try{dX=d0()}finally{if(dZ){B(dY)}}return dX}function bR(dX,d0,dZ,dY){if(d0==null){d0=dX.doc.first}if(dZ==null){dZ=dX.doc.first+dX.doc.size}dX.curOp.changes.push({from:d0,to:dZ,diff:dY})}function d(dX){if(dX.display.pollingFast){return}dX.display.poll.set(dX.options.pollInterval,function(){bO(dX);if(dX.state.focused){d(dX)}})}function ag(dX){var dY=false;dX.display.pollingFast=true;function dZ(){var d0=bO(dX);if(!d0&&!dY){dY=true;dX.display.poll.set(60,dZ)}else{dX.display.pollingFast=false;d(dX)}}dX.display.poll.set(20,dZ)}function bO(d7){var d3=d7.display.input,d0=d7.display.prevInput,d6=d7.doc,dX=d6.sel;if(!d7.state.focused||cA(d3)||C(d7)){return false}var d8=d3.value;if(d8==d0&&o(dX.from,dX.to)){return false}if(ao&&d8&&d3.selectionStart===0){dg(d7,true);return false}var dZ=!d7.curOp;if(dZ){aa(d7)}dX.shift=false;var d2=0,dY=Math.min(d0.length,d8.length);while(d2<dY&&d0[d2]==d8[d2]){++d2}var d5=dX.from,d4=dX.to;if(d2<d0.length){d5=dP(d5.line,d5.ch-(d0.length-d2))}else{if(d7.state.overwrite&&o(d5,d4)&&!d7.state.pasteIncoming){d4=dP(d4.line,Math.min(dm(d6,d4.line).text.length,d4.ch+(d8.length-d2)))}}var d1=d7.curOp.updateInput;cE(d7.doc,{from:d5,to:d4,text:cY(d8.slice(d2)),origin:d7.state.pasteIncoming?"paste":"+input"},"end");d7.curOp.updateInput=d1;if(d8.length>1000){d3.value=d7.display.prevInput=""}else{d7.display.prevInput=d8}if(dZ){B(d7)}d7.state.pasteIncoming=false;return true}function dg(dX,dZ){var dY,d0,d1=dX.doc;if(!o(d1.sel.from,d1.sel.to)){dX.display.prevInput="";dY=bF&&(d1.sel.to.line-d1.sel.from.line>100||(d0=dX.getSelection()).length>1000);if(dY){dX.display.input.value="-"}else{dX.display.input.value=d0||dX.getSelection()}if(dX.state.focused){bP(dX.display.input)}}else{if(dZ){dX.display.prevInput=dX.display.input.value=""}}dX.display.inaccurateSelection=dY}function bE(dX){if(dX.options.readOnly!="nocursor"&&(!bN||document.activeElement!=dX.display.input)){dX.display.input.focus()}}function C(dX){return dX.options.readOnly||dX.doc.cantEdit}function s(dX){var d2=dX.display;cC(d2.scroller,"mousedown",j(dX,cT));cC(d2.scroller,"dblclick",j(dX,X));cC(d2.lineSpace,"selectstart",function(d4){if(!Z(d2,d4)){X(d4)}});if(!cU){cC(d2.scroller,"contextmenu",function(d4){aM(dX,d4)})}cC(d2.scroller,"scroll",function(){cP(dX,d2.scroller.scrollTop);W(dX,d2.scroller.scrollLeft,true);af(dX,"scroll",dX)});cC(d2.scrollbarV,"scroll",function(){cP(dX,d2.scrollbarV.scrollTop)});cC(d2.scrollbarH,"scroll",function(){W(dX,d2.scrollbarH.scrollLeft)});cC(d2.scroller,"mousewheel",function(d4){ct(dX,d4)});cC(d2.scroller,"DOMMouseScroll",function(d4){ct(dX,d4)});function d3(){if(dX.state.focused){setTimeout(b4(bE,dX),0)}}cC(d2.scrollbarH,"mousedown",d3);cC(d2.scrollbarV,"mousedown",d3);cC(d2.wrapper,"scroll",function(){d2.wrapper.scrollTop=d2.wrapper.scrollLeft=0});function d0(){d2.cachedCharWidth=d2.cachedTextHeight=null;c0(dX);cv(dX,b4(bR,dX))}cC(window,"resize",d0);function dZ(){for(var d4=d2.wrapper.parentNode;d4&&d4!=document.body;d4=d4.parentNode){}if(d4){setTimeout(dZ,5000)}else{dK(window,"resize",d0)}}setTimeout(dZ,5000);cC(d2.input,"keyup",j(dX,function(d4){if(dX.options.onKeyEvent&&dX.options.onKeyEvent(dX,k(d4))){return}if(d4.keyCode==16){dX.doc.sel.shift=false}}));cC(d2.input,"input",b4(ag,dX));cC(d2.input,"keydown",j(dX,cK));cC(d2.input,"keypress",j(dX,bg));cC(d2.input,"focus",b4(dN,dX));cC(d2.input,"blur",b4(O,dX));function dY(d4){if(dX.options.onDragEvent&&dX.options.onDragEvent(dX,k(d4))){return}c3(d4)}if(dX.options.dragDrop){cC(d2.scroller,"dragstart",function(d4){Q(dX,d4)});cC(d2.scroller,"dragenter",dY);cC(d2.scroller,"dragover",dY);cC(d2.scroller,"drop",j(dX,e))}cC(d2.scroller,"paste",function(d4){if(Z(d2,d4)){return}bE(dX);ag(dX)});cC(d2.input,"paste",function(){dX.state.pasteIncoming=true;ag(dX)});function d1(){if(d2.inaccurateSelection){d2.prevInput="";d2.inaccurateSelection=false;d2.input.value=dX.getSelection();bP(d2.input)}}cC(d2.input,"cut",d1);cC(d2.input,"copy",d1);if(ac){cC(d2.sizer,"mouseup",function(){if(document.activeElement==d2.input){d2.input.blur()}bE(dX)})}}function Z(dY,dX){for(var dZ=bX(dX);dZ!=dY.wrapper;dZ=dZ.parentNode){if(!dZ){return true}if(/\bCodeMirror-(?:line)?widget\b/.test(dZ.className)||dZ.parentNode==dY.sizer&&dZ!=dY.mover){return true}}}function aQ(dY,d3,d0){var d2=dY.display;if(!d0){var d1=bX(d3);if(d1==d2.scrollbarH||d1==d2.scrollbarH.firstChild||d1==d2.scrollbarV||d1==d2.scrollbarV.firstChild||d1==d2.scrollbarFiller){return null}}var dX,d4,dZ=t(d2.lineSpace);try{dX=d3.clientX;d4=d3.clientY}catch(d3){return null}return bL(dY,dX-dZ.left,d4-dZ.top)}var bm,aE;function cT(ee){var d0=this,d9=d0.display,eg=d0.doc,d8=eg.sel;d8.shift=ee.shiftKey;if(Z(d9,ee)){if(!P){d9.scroller.draggable=false;setTimeout(function(){d9.scroller.draggable=true},100)}return}if(ae(d0,ee)){return}var dZ=aQ(d0,ee);switch(aN(ee)){case 3:if(cU){aM.call(d0,d0,ee)}return;case 2:if(dZ){dD(d0.doc,dZ)}setTimeout(b4(bE,d0),20);X(ee);return}if(!dZ){if(bX(ee)==d9.scroller){X(ee)}return}if(!d0.state.focused){dN(d0)}var dX=+new Date,dY="single";if(aE&&aE.time>dX-400&&o(aE.pos,dZ)){dY="triple";X(ee);setTimeout(b4(bE,d0),20);S(d0,dZ.line)}else{if(bm&&bm.time>dX-400&&o(bm.pos,dZ)){dY="double";aE={time:dX,pos:dZ};X(ee);var eb=bs(dm(eg,dZ.line).text,dZ);dD(d0.doc,eb.from,eb.to)}else{bm={time:dX,pos:dZ}}}var d1=dZ;if(d0.options.dragDrop&&cx&&!C(d0)&&!o(d8.from,d8.to)&&!D(dZ,d8.from)&&!D(d8.to,dZ)&&dY=="single"){var ea=j(d0,function(eh){if(P){d9.scroller.draggable=false}d0.state.draggingText=false;dK(document,"mouseup",ea);dK(d9.scroller,"drop",ea);if(Math.abs(ee.clientX-eh.clientX)+Math.abs(ee.clientY-eh.clientY)<10){X(eh);dD(d0.doc,dZ);bE(d0)}});if(P){d9.scroller.draggable=true}d0.state.draggingText=ea;if(d9.scroller.dragDrop){d9.scroller.dragDrop()}cC(document,"mouseup",ea);cC(d9.scroller,"drop",ea);return}X(ee);if(dY=="single"){dD(d0.doc,ap(eg,dZ))}var ef=d8.from,d5=d8.to;function ec(ei){if(dY=="single"){dD(d0.doc,ap(eg,dZ),ei);return}ef=ap(eg,ef);d5=ap(eg,d5);if(dY=="double"){var eh=bs(dm(eg,ei.line).text,ei);if(D(ei,ef)){dD(d0.doc,eh.from,d5)}else{dD(d0.doc,ef,eh.to)}}else{if(dY=="triple"){if(D(ei,ef)){dD(d0.doc,d5,ap(eg,dP(ei.line,0)))}else{dD(d0.doc,ef,ap(eg,dP(ei.line+1,0)))}}}}var d6=t(d9.wrapper);var d2=0;function ed(ej){var eh=++d2;var el=aQ(d0,ej,true);if(!el){return}if(!o(el,d1)){if(!d0.state.focused){dN(d0)}d1=el;ec(el);var ek=bG(d9,eg);if(el.line>=ek.to||el.line<ek.from){setTimeout(j(d0,function(){if(d2==eh){ed(ej)}}),150)}}else{var ei=ej.clientY<d6.top?-20:ej.clientY>d6.bottom?20:0;if(ei){setTimeout(j(d0,function(){if(d2!=eh){return}d9.scroller.scrollTop+=ei;ed(ej)}),50)}}}function d4(eh){d2=Infinity;var ei=aQ(d0,eh);if(ei){ec(ei)}X(eh);bE(d0);dK(document,"mousemove",d7);dK(document,"mouseup",d3)}var d7=j(d0,function(eh){if(!ao&&!aN(eh)){d4(eh)}else{ed(eh)}});var d3=j(d0,d4);cC(document,"mousemove",d7);cC(document,"mouseup",d3)}function e(d3){var d5=this;if(Z(d5.display,d3)||(d5.options.onDragEvent&&d5.options.onDragEvent(d5,k(d3)))){return}X(d3);var d4=aQ(d5,d3,true),dX=d3.dataTransfer.files;if(!d4||C(d5)){return}if(dX&&dX.length&&window.FileReader&&window.File){var dZ=dX.length,d7=Array(dZ),dY=0;var d0=function(ea,d9){var d8=new FileReader;d8.onload=function(){d7[d9]=d8.result;if(++dY==dZ){d4=ap(d5.doc,d4);b2(d5.doc,d7.join(""),d4,"around","paste")}};d8.readAsText(ea)};for(var d1=0;d1<dZ;++d1){d0(dX[d1],d1)}}else{if(d5.state.draggingText&&!(D(d4,d5.doc.sel.from)||D(d5.doc.sel.to,d4))){d5.state.draggingText(d3);setTimeout(b4(bE,d5),20);return}try{var d7=d3.dataTransfer.getData("Text");if(d7){var d6=d5.doc.sel.from,d2=d5.doc.sel.to;bA(d5.doc,d4,d4);if(d5.state.draggingText){b2(d5.doc,"",d6,d2,"paste")}d5.replaceSelection(d7,null,"paste");bE(d5);dN(d5)}}catch(d3){}}}function ae(d5,d3){var d4=d5.display;try{var dY=d3.clientX,dX=d3.clientY}catch(d3){return false}if(dY>=Math.floor(t(d4.gutters).right)){return false}X(d3);if(!w(d5,"gutterClick")){return true}var d2=t(d4.lineDiv);if(dX>d2.bottom){return true}dX-=d2.top-d4.viewOffset;for(var d0=0;d0<d5.options.gutters.length;++d0){var d1=d4.gutters.childNodes[d0];if(d1&&t(d1).right>=dY){var d6=ba(d5.doc,dX);var dZ=d5.options.gutters[d0];ce(d5,"gutterClick",d5,d6,dZ,d3);break}}return true}function Q(dY,d0){if(Z(dY.display,d0)){return}var dX=dY.getSelection();d0.dataTransfer.setData("Text",dX);if(d0.dataTransfer.setDragImage&&!by){var dZ=bH("img",null,null,"position: fixed; left: 0; top: 0;");if(u){dZ.width=dZ.height=1;dY.display.wrapper.appendChild(dZ);dZ._top=dZ.offsetTop}d0.dataTransfer.setDragImage(dZ,0,0);if(u){dZ.parentNode.removeChild(dZ)}}}function cP(dX,dY){if(Math.abs(dX.doc.scrollTop-dY)<2){return}dX.doc.scrollTop=dY;if(!bt){cL(dX,[],dY)}if(dX.display.scroller.scrollTop!=dY){dX.display.scroller.scrollTop=dY}if(dX.display.scrollbarV.scrollTop!=dY){dX.display.scrollbarV.scrollTop=dY}if(bt){cL(dX,[])}}function W(dX,dZ,dY){if(dY?dZ==dX.doc.scrollLeft:Math.abs(dX.doc.scrollLeft-dZ)<2){return}dZ=Math.min(dZ,dX.display.scroller.scrollWidth-dX.display.scroller.clientWidth);dX.doc.scrollLeft=dZ;ad(dX);if(dX.display.scroller.scrollLeft!=dZ){dX.display.scroller.scrollLeft=dZ}if(dX.display.scrollbarH.scrollLeft!=dZ){dX.display.scrollbarH.scrollLeft=dZ}}var di=0,cV=null;if(ao){cV=-0.53}else{if(bt){cV=15}else{if(aD){cV=-0.7}else{if(by){cV=-1/3}}}}function ct(d3,dY){var d6=dY.wheelDeltaX,d5=dY.wheelDeltaY;if(d6==null&&dY.detail&&dY.axis==dY.HORIZONTAL_AXIS){d6=dY.detail}if(d5==null&&dY.detail&&dY.axis==dY.VERTICAL_AXIS){d5=dY.detail}else{if(d5==null){d5=dY.wheelDelta}}if(d5&&a5&&P){for(var d4=dY.target;d4!=d2;d4=d4.parentNode){if(d4.lineObj){d3.display.currentWheelTarget=d4;break}}}var d0=d3.display,d2=d0.scroller;if(d6&&!bt&&!u&&cV!=null){if(d5){cP(d3,Math.max(0,Math.min(d2.scrollTop+d5*cV,d2.scrollHeight-d2.clientHeight)))}W(d3,Math.max(0,Math.min(d2.scrollLeft+d6*cV,d2.scrollWidth-d2.clientWidth)));X(dY);d0.wheelStartX=null;return}if(d5&&cV!=null){var dX=d5*cV;var d1=d3.doc.scrollTop,dZ=d1+d0.wrapper.clientHeight;if(dX<0){d1=Math.max(0,d1+dX-50)}else{dZ=Math.min(d3.doc.height,dZ+dX+50)}cL(d3,[],{top:d1,bottom:dZ})}if(di<20){if(d0.wheelStartX==null){d0.wheelStartX=d2.scrollLeft;d0.wheelStartY=d2.scrollTop;d0.wheelDX=d6;d0.wheelDY=d5;setTimeout(function(){if(d0.wheelStartX==null){return}var d7=d2.scrollLeft-d0.wheelStartX;var d9=d2.scrollTop-d0.wheelStartY;var d8=(d9&&d0.wheelDY&&d9/d0.wheelDY)||(d7&&d0.wheelDX&&d7/d0.wheelDX);d0.wheelStartX=d0.wheelStartY=null;if(!d8){return}cV=(cV*di+d8)/(di+1);++di},200)}else{d0.wheelDX+=d6;d0.wheelDY+=d5}}}function a7(dY,d1,dX){if(typeof d1=="string"){d1=ay[d1];if(!d1){return false}}if(dY.display.pollingFast&&bO(dY)){dY.display.pollingFast=false}var d2=dY.doc,d0=d2.sel.shift,dZ=false;try{if(C(dY)){dY.state.suppressEdits=true}if(dX){d2.sel.shift=false}dZ=d1(dY)!=aS}finally{d2.sel.shift=d0;dY.state.suppressEdits=false}return dZ}function bh(dX){var dY=dX.state.keyMaps.slice(0);dY.push(dX.options.keyMap);if(dX.options.extraKeys){dY.unshift(dX.options.extraKeys)}return dY}var bI;function du(dX,d3){var dY=m(dX.options.keyMap),d1=dY.auto;clearTimeout(bI);if(d1&&!n(d3)){bI=setTimeout(function(){if(m(dX.options.keyMap)==dY){dX.options.keyMap=(d1.call?d1.call(null,dX):d1)}},50)}var d0=dC(d3,true),d2=false;if(!d0){return false}var dZ=bh(dX);if(d3.shiftKey){d2=au("Shift-"+d0,dZ,function(d4){return a7(dX,d4,true)})||au(d0,dZ,function(d4){if(typeof d4=="string"&&/^go[A-Z]/.test(d4)){return a7(dX,d4)}})}else{d2=au(d0,dZ,function(d4){return a7(dX,d4)})}if(d2=="stop"){d2=false}if(d2){X(d3);dz(dX);if(ca){d3.oldKeyCode=d3.keyCode;d3.keyCode=0}}return d2}function ck(dX,d0,dY){var dZ=au("'"+dY+"'",bh(dX),function(d1){return a7(dX,d1,true)});if(dZ){X(d0);dz(dX)}return dZ}var dp=null;function cK(d0){var dX=this;if(!dX.state.focused){dN(dX)}if(ao&&d0.keyCode==27){d0.returnValue=false}if(dX.options.onKeyEvent&&dX.options.onKeyEvent(dX,k(d0))){return}var dY=d0.keyCode;dX.doc.sel.shift=dY==16||d0.shiftKey;var dZ=du(dX,d0);if(u){dp=dZ?dY:null;if(!dZ&&dY==88&&!bF&&(a5?d0.metaKey:d0.ctrlKey)){dX.replaceSelection("")}}}function bg(d1){var dX=this;if(dX.options.onKeyEvent&&dX.options.onKeyEvent(dX,k(d1))){return}var d0=d1.keyCode,dY=d1.charCode;if(u&&d0==dp){dp=null;X(d1);return}if(((u&&(!d1.which||d1.which<10))||ac)&&du(dX,d1)){return}var dZ=String.fromCharCode(dY==null?d0:dY);if(this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!C(this)&&this.doc.mode.electricChars.indexOf(dZ)>-1){setTimeout(j(dX,function(){bD(dX,dX.doc.sel.to.line,"smart")}),75)}if(ck(dX,d1,dZ)){return}ag(dX)}function dN(dX){if(dX.options.readOnly=="nocursor"){return}if(!dX.state.focused){af(dX,"focus",dX);dX.state.focused=true;if(dX.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1){dX.display.wrapper.className+=" CodeMirror-focused"}dg(dX,true)}d(dX);dz(dX)}function O(dX){if(dX.state.focused){af(dX,"blur",dX);dX.state.focused=false;dX.display.wrapper.className=dX.display.wrapper.className.replace(" CodeMirror-focused","")}clearInterval(dX.display.blinker);setTimeout(function(){if(!dX.state.focused){dX.doc.sel.shift=false}},150)}var bn;function aM(d5,d0){var d2=d5.display,dY=d5.doc.sel;if(Z(d2,d0)){return}var d4=aQ(d5,d0),dX=d2.scroller.scrollTop;if(!d4||u){return}if(o(dY.from,dY.to)||D(d4,dY.from)||!D(d4,dY.to)){j(d5,bA)(d5.doc,d4,d4)}var d1=d2.input.style.cssText;d2.inputDiv.style.position="absolute";d2.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(d0.clientY-5)+"px; left: "+(d0.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);";bE(d5);dg(d5,true);if(o(dY.from,dY.to)){d2.input.value=d2.prevInput=" "}function d3(){d2.inputDiv.style.position="relative";d2.input.style.cssText=d1;if(ca){d2.scrollbarV.scrollTop=d2.scroller.scrollTop=dX}d(d5);if(d2.input.selectionStart!=null&&(!ao||ca)){clearTimeout(bn);var d7=d2.input.value=" "+(o(dY.from,dY.to)?"":d2.input.value),d6=0;d2.prevInput=" ";d2.input.selectionStart=1;d2.input.selectionEnd=d7.length;var d8=function(){if(d2.prevInput==" "&&d2.input.selectionStart==0){j(d5,ay.selectAll)(d5)}else{if(d6++<10){bn=setTimeout(d8,500)}else{dg(d5)}}};bn=setTimeout(d8,200)}}if(cU){c3(d0);var dZ=function(){dK(window,"mouseup",dZ);setTimeout(d3,20)};cC(window,"mouseup",dZ)}else{setTimeout(d3,50)}}function aw(dX){return dP(dX.from.line+dX.text.length-1,a8(dX.text).length+(dX.text.length==1?dX.from.ch:0))}function az(d1,d3,d2){if(!D(d3.from,d2)){return ap(d1,d2)}var d0=(d3.text.length-1)-(d3.to.line-d3.from.line);if(d2.line>d3.to.line+d0){var dZ=d2.line-d0,dY=d1.first+d1.size-1;if(dZ>dY){return dP(dY,dm(d1,dY).text.length)}return be(d2,dm(d1,dZ).text.length)}if(d2.line==d3.to.line+d0){return be(d2,a8(d3.text).length+(d3.text.length==1?d3.from.ch:0)+dm(d1,d3.to.line).text.length-d3.to.ch)}var dX=d2.line-d3.from.line;return be(d2,d3.text[dX].length+(dX?0:d3.from.ch))}function dd(dY,d1,dZ){if(dZ&&typeof dZ=="object"){return{anchor:az(dY,d1,dZ.anchor),head:az(dY,d1,dZ.head)}}if(dZ=="start"){return{anchor:d1.from,head:d1.from}}var dX=aw(d1);if(dZ=="around"){return{anchor:d1.from,head:dX}}if(dZ=="end"){return{anchor:dX,head:dX}}var d0=function(d4){if(D(d4,d1.from)){return d4}if(!D(d1.to,d4)){return dX}var d2=d4.line+d1.text.length-(d1.to.line-d1.from.line)-1,d3=d4.ch;if(d4.line==d1.to.line){d3+=dX.ch-d1.to.ch}return dP(d2,d3)};return{anchor:d0(dY.sel.anchor),head:d0(dY.sel.head)}}function aP(dY,dZ){var dX={canceled:false,from:dZ.from,to:dZ.to,text:dZ.text,origin:dZ.origin,update:function(d3,d2,d1,d0){if(d3){this.from=ap(dY,d3)}if(d2){this.to=ap(dY,d2)}if(d1){this.text=d1}if(d0!==undefined){this.origin=d0}},cancel:function(){this.canceled=true}};af(dY,"beforeChange",dY,dX);if(dY.cm){af(dY.cm,"beforeChange",dY.cm,dX)}if(dX.canceled){return null}return{from:dX.from,to:dX.to,text:dX.text,origin:dX.origin}}function cE(d0,d2,d1,dZ){if(d0.cm){if(!d0.cm.curOp){return j(d0.cm,cE)(d0,d2,d1,dZ)}if(d0.cm.state.suppressEdits){return}}if(w(d0,"beforeChange")||d0.cm&&w(d0.cm,"beforeChange")){d2=aP(d0,d2);if(!d2){return}}var dY=aL&&!dZ&&cF(d0,d2.from,d2.to);if(dY){for(var dX=dY.length-1;dX>=1;--dX){dJ(d0,{from:dY[dX].from,to:dY[dX].to,text:[""]})}if(dY.length){dJ(d0,{from:dY[0].from,to:dY[0].to,text:d2.text},d1)}}else{dJ(d0,d2,d1)}}function dJ(dZ,d1,d0){var dY=dd(dZ,d1,d0);g(dZ,d1,dY,dZ.cm?dZ.cm.curOp.id:NaN);dO(dZ,d1,dY,aR(dZ,d1));var dX=[];aX(dZ,function(d3,d2){if(!d2&&dE(dX,d3.history)==-1){ah(d3.history,d1);dX.push(d3.history)}dO(d3,d1,null,aR(d3,d1))})}function dx(d5,d2){var d1=d5.history;var dY=(d2=="undo"?d1.done:d1.undone).pop();if(!dY){return}d1.dirtyCounter+=d2=="undo"?-1:1;var d3={changes:[],anchorBefore:dY.anchorAfter,headBefore:dY.headAfter,anchorAfter:dY.anchorBefore,headAfter:dY.headBefore};(d2=="undo"?d1.undone:d1.done).push(d3);for(var dZ=dY.changes.length-1;dZ>=0;--dZ){var d4=dY.changes[dZ];d4.origin=d2;d3.changes.push(at(d5,d4));var dX=dZ?dd(d5,d4,null):{anchor:dY.anchorBefore,head:dY.headBefore};dO(d5,d4,dX,bQ(d5,d4));var d0=[];aX(d5,function(d7,d6){if(!d6&&dE(d0,d7.history)==-1){ah(d7.history,d4);d0.push(d7.history)}dO(d7,d4,null,bQ(d7,d4))})}}function dc(dX,dZ){function dY(d0){return dP(d0.line+dZ,d0.ch)}dX.first+=dZ;if(dX.cm){bR(dX.cm,dX.first,dX.first,dZ)}dX.sel.head=dY(dX.sel.head);dX.sel.anchor=dY(dX.sel.anchor);dX.sel.from=dY(dX.sel.from);dX.sel.to=dY(dX.sel.to)}function dO(d1,d2,d0,dY){if(d1.cm&&!d1.cm.curOp){return j(d1.cm,dO)(d1,d2,d0,dY)}if(d2.to.line<d1.first){dc(d1,d2.text.length-1-(d2.to.line-d2.from.line));return}if(d2.from.line>d1.lastLine()){return}if(d2.from.line<d1.first){var dX=d2.text.length-1-(d1.first-d2.from.line);dc(d1,dX);d2={from:dP(d1.first,0),to:dP(d2.to.line+dX,d2.to.ch),text:[a8(d2.text)],origin:d2.origin}}var dZ=d1.lastLine();if(d2.to.line>dZ){d2={from:d2.from,to:dP(dZ,dm(d1,dZ).text.length),text:[d2.text[0]],origin:d2.origin}}if(!d0){d0=dd(d1,d2,null)}if(d1.cm){r(d1.cm,d2,dY,d0)}else{c9(d1,d2,dY,d0)}}function r(d7,d3,d0,dX){var d6=d7.doc,d2=d7.display,d4=d3.from,d5=d3.to;var dY=false,dZ=d4.line;if(!d7.options.lineWrapping){dZ=l(aH(d6,dm(d6,d4.line)));d6.iter(dZ,d5.line+1,function(ea){if(ea==d2.maxLine){dY=true;return true}})}c9(d6,d3,d0,dX,aU(d7));if(!d7.options.lineWrapping){d6.iter(dZ,d4.line+d3.text.length,function(eb){var ea=b6(d6,eb);if(ea>d2.maxLineLength){d2.maxLine=eb;d2.maxLineLength=ea;d2.maxLineChanged=true;dY=false}});if(dY){d7.curOp.updateMaxLine=true}}d6.frontier=Math.min(d6.frontier,d4.line);bK(d7,400);var d9=d3.text.length-(d5.line-d4.line)-1;bR(d7,d4.line,d5.line+1,d9);if(w(d7,"change")){var d1={from:d4,to:d5,text:d3.text,origin:d3.origin};if(d7.curOp.textChanged){for(var d8=d7.curOp.textChanged;d8.next;d8=d8.next){}d8.next=d1}else{d7.curOp.textChanged=d1}}}function b2(d0,dZ,d2,d1,dX){if(!d1){d1=d2}if(D(d1,d2)){var dY=d1;d1=d2;d2=dY}if(typeof dZ=="string"){dZ=cY(dZ)}cE(d0,{from:d2,to:d1,text:dZ,origin:dX},null)}function dP(dX,dY){if(!(this instanceof dP)){return new dP(dX,dY)}this.line=dX;this.ch=dY}aq.Pos=dP;function o(dY,dX){return dY.line==dX.line&&dY.ch==dX.ch}function D(dY,dX){return dY.line<dX.line||(dY.line==dX.line&&dY.ch<dX.ch)}function dU(dX){return dP(dX.line,dX.ch)}function cl(dX,dY){return Math.max(dX.first,Math.min(dY,dX.first+dX.size-1))}function ap(dY,dZ){if(dZ.line<dY.first){return dP(dY.first,0)}var dX=dY.first+dY.size-1;if(dZ.line>dX){return dP(dX,dm(dY,dX).text.length)}return be(dZ,dm(dY,dZ.line).text.length)}function be(dZ,dY){var dX=dZ.ch;if(dX==null||dX>dY){return dP(dZ.line,dY)}else{if(dX<0){return dP(dZ.line,0)}else{return dZ}}}function bo(dY,dX){return dX>=dY.first&&dX<dY.first+dY.size}function dD(d1,d2,dX,dY){if(d1.sel.shift||d1.sel.extend){var d0=d1.sel.anchor;if(dX){var dZ=D(d2,d0);if(dZ!=D(dX,d0)){d0=d2;d2=dX}else{if(dZ!=D(d2,dX)){d2=dX}}}bA(d1,d0,d2,dY)}else{bA(d1,d2,dX||d2,dY)}if(d1.cm){d1.cm.curOp.userSelChange=true}}function q(d0,dX,dY){var dZ={anchor:dX,head:dY};af(d0,"beforeSelectionChange",d0,dZ);if(d0.cm){af(d0.cm,"beforeSelectionChange",d0.cm,dZ)}dZ.anchor=ap(d0,dZ.anchor);dZ.head=ap(d0,dZ.head);return dZ}function bA(d4,d1,d2,dZ,dY){if(!dY&&w(d4,"beforeSelectionChange")||d4.cm&&w(d4.cm,"beforeSelectionChange")){var d0=q(d4,d1,d2);d2=d0.head;d1=d0.anchor}var d3=d4.sel;d3.goalColumn=null;if(dY||!o(d1,d3.anchor)){d1=aj(d4,d1,dZ,dY!="push")}if(dY||!o(d2,d3.head)){d2=aj(d4,d2,dZ,dY!="push")}if(o(d3.anchor,d1)&&o(d3.head,d2)){return}d3.anchor=d1;d3.head=d2;var dX=D(d2,d1);d3.from=dX?d2:d1;d3.to=dX?d1:d2;if(d4.cm){d4.cm.curOp.updateInput=d4.cm.curOp.selectionChanged=true}ce(d4,"cursorActivity",d4)}function v(dX){bA(dX.doc,dX.doc.sel.from,dX.doc.sel.to,null,"push")}function aj(d7,d6,d3,d4){var d8=false,d0=d6;var d1=d3||1;d7.cantEdit=false;search:for(;;){var d9=dm(d7,d0.line),dZ;if(d9.markedSpans){for(var d2=0;d2<d9.markedSpans.length;++d2){var dX=d9.markedSpans[d2],dY=dX.marker;if((dX.from==null||(dY.inclusiveLeft?dX.from<=d0.ch:dX.from<d0.ch))&&(dX.to==null||(dY.inclusiveRight?dX.to>=d0.ch:dX.to>d0.ch))){if(d4&&dY.clearOnEnter){(dZ||(dZ=[])).push(dY);continue}else{if(!dY.atomic){continue}}var d5=dY.find()[d1<0?"from":"to"];if(o(d5,d0)){d5.ch+=d1;if(d5.ch<0){if(d5.line>d7.first){d5=ap(d7,dP(d5.line-1))}else{d5=null}}else{if(d5.ch>d9.text.length){if(d5.line<d7.first+d7.size-1){d5=dP(d5.line+1,0)}else{d5=null}}}if(!d5){if(d8){if(!d4){return aj(d7,d6,d3,true)}d7.cantEdit=true;return dP(d7.first,0)}d8=true;d5=d6;d1=-d1}}d0=d5;continue search}}if(dZ){for(var d2=0;d2<dZ.length;++d2){dZ[d2].clear()}}}return d0}}function cO(dY){var d1=cD(dY,dY.doc.sel.head);if(!dY.state.focused){return}var d2=dY.display,dZ=t(d2.sizer),dX=null;if(d1.top+dZ.top<0){dX=true}else{if(d1.bottom+dZ.top>(window.innerHeight||document.documentElement.clientHeight)){dX=false}}if(dX!=null&&!bl){var d0=d2.cursor.style.display=="none";if(d0){d2.cursor.style.display="";d2.cursor.style.left=d1.left+"px";d2.cursor.style.top=(d1.top-d2.viewOffset)+"px"}d2.cursor.scrollIntoView(dX);if(d0){d2.cursor.style.display="none"}}}function cD(dX,d3){for(;;){var d1=false,d0=bU(dX,d3);var d2=aB(dX,d0.left,d0.top,d0.left,d0.bottom);var dY=dX.doc.scrollTop,dZ=dX.doc.scrollLeft;if(d2.scrollTop!=null){cP(dX,d2.scrollTop);if(Math.abs(dX.doc.scrollTop-dY)>1){d1=true}}if(d2.scrollLeft!=null){W(dX,d2.scrollLeft);if(Math.abs(dX.doc.scrollLeft-dZ)>1){d1=true}}if(!d1){return d0}}}function G(dX,dZ,d1,dY,d0){var d2=aB(dX,dZ,d1,dY,d0);if(d2.scrollTop!=null){cP(dX,d2.scrollTop)}if(d2.scrollLeft!=null){W(dX,d2.scrollLeft)}}function aB(d8,d0,d7,dY,d6){var d5=d8.display,ed=c6(d5);d7+=ed;d6+=ed;var ea=d5.scroller.clientHeight-c7,d1=d5.scroller.scrollTop,ec={};var dZ=d8.doc.height+2*ed;var dX=d7<ed+10,d4=d6+ed>dZ-10;if(d7<d1){ec.scrollTop=dX?0:Math.max(0,d7)}else{if(d6>d1+ea){ec.scrollTop=(d4?dZ:d6)-ea}}var d9=d5.scroller.clientWidth-c7,eb=d5.scroller.scrollLeft;d0+=d5.gutters.offsetWidth;dY+=d5.gutters.offsetWidth;var d3=d5.gutters.offsetWidth;var d2=d0<d3+10;if(d0<eb+d3||d2){if(d2){d0=0}ec.scrollLeft=Math.max(0,d0-10-d3)}else{if(dY>d9+eb-3){ec.scrollLeft=dY+10-d9}}return ec}function bD(d9,d0,d8,dZ){var d7=d9.doc;if(!d8){d8="add"}if(d8=="smart"){if(!d9.doc.mode.indent){d8="prev"}else{var dY=c8(d9,d0)}}var d3=d9.options.tabSize;var ea=dm(d7,d0),d2=dQ(ea.text,null,d3);var dX=ea.text.match(/^\s*/)[0],d5;if(d8=="smart"){d5=d9.doc.mode.indent(dY,ea.text.slice(dX.length),ea.text);if(d5==aS){if(!dZ){return}d8="prev"}}if(d8=="prev"){if(d0>d7.first){d5=dQ(dm(d7,d0-1).text,null,d3)}else{d5=0}}else{if(d8=="add"){d5=d2+d9.options.indentUnit}else{if(d8=="subtract"){d5=d2-d9.options.indentUnit}}}d5=Math.max(0,d5);var d6="",d4=0;if(d9.options.indentWithTabs){for(var d1=Math.floor(d5/d3);d1;--d1){d4+=d3;d6+="\t"}}if(d4<d5){d6+=L(d5-d4)}if(d6!=dX){b2(d9.doc,d6,dP(d0,0),dP(d0,dX.length),"+input")}ea.stateAfter=null}function aA(dX,dZ,d2){var d1=dZ,dY=dZ,d0=dX.doc;if(typeof dZ=="number"){dY=dm(d0,cl(d0,dZ))}else{d1=l(dZ)}if(d1==null){return null}if(d2(dY,d1)){bR(dX,d1,d1+1)}else{return null}return dY}function c1(d6,d5,d1,d7,d0){var d9=d5.line,dX=d5.ch;var d4=dm(d6,d9);var d2=true;function dY(){var ea=d9+d1;if(ea<d6.first||ea>=d6.first+d6.size){return(d2=false)}d9=ea;return d4=dm(d6,ea)}function d3(eb){var ea=(d0?bZ:aV)(d4,dX,d1,true);if(ea==null){if(!eb&&dY()){if(d0){dX=(d1<0?cM:br)(d4)}else{dX=d1<0?d4.text.length:0}}else{return(d2=false)}}else{dX=ea}return true}if(d7=="char"){d3()}else{if(d7=="column"){d3(true)}else{if(d7=="word"){var dZ=false;for(;;){if(d1<0){if(!d3()){break}}if(V(d4.text.charAt(dX))){dZ=true}else{if(dZ){if(d1<0){d1=1;d3()}break}}if(d1>0){if(!d3()){break}}}}}}var d8=aj(d6,dP(d9,dX),d1,true);if(!d2){d8.hitSide=true}return d8}function cQ(d5,d0,dX,d4){var d3=d5.doc,d2=d0.left,d1;if(d4=="page"){var dZ=Math.min(d5.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);d1=d0.top+dX*dZ}else{if(d4=="line"){d1=dX>0?d0.bottom+3:d0.top-3}}for(;;){var dY=bL(d5,d2,d1);if(!dY.outside){break}if(dX<0?d1<=0:d1>=d3.height){dY.hitSide=true;break}d1+=dX*5}return dY}function bs(d0,d2){var d1=d2.ch,dZ=d2.ch;if(d0){if(d2.after===false||dZ==d0.length){--d1}else{++dZ}var dY=d0.charAt(d1);var dX=V(dY)?V:/\s/.test(dY)?function(d3){return/\s/.test(d3)}:function(d3){return !/\s/.test(d3)&&!V(d3)};while(d1>0&&dX(d0.charAt(d1-1))){--d1}while(dZ<d0.length&&dX(d0.charAt(dZ))){++dZ}}return{from:dP(d2.line,d1),to:dP(d2.line,dZ)}}function S(dX,dY){dD(dX.doc,dP(dY,0),ap(dX.doc,dP(dY+1,0)))}aq.prototype={focus:function(){window.focus();bE(this);dN(this);ag(this)},setOption:function(dZ,d0){var dY=this.options,dX=dY[dZ];if(dY[dZ]==d0&&dZ!="mode"){return}dY[dZ]=d0;if(dG.hasOwnProperty(dZ)){j(this,dG[dZ])(this,d0,dX)}},getOption:function(dX){return this.options[dX]},getDoc:function(){return this.doc},addKeyMap:function(dX){this.state.keyMaps.push(dX)},removeKeyMap:function(dY){var dZ=this.state.keyMaps;for(var dX=0;dX<dZ.length;++dX){if((typeof dY=="string"?dZ[dX].name:dZ[dX])==dY){dZ.splice(dX,1);return true}}},addOverlay:j(null,function(dX,dY){var dZ=dX.token?dX:aq.getMode(this.options,dX);if(dZ.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:dZ,modeSpec:dX,opaque:dY&&dY.opaque});this.state.modeGen++;bR(this)}),removeOverlay:j(null,function(dX){var dZ=this.state.overlays;for(var dY=0;dY<dZ.length;++dY){if(dZ[dY].modeSpec==dX){dZ.splice(dY,1);this.state.modeGen++;bR(this);return}}}),indentLine:j(null,function(dZ,dX,dY){if(typeof dX!="string"){if(dX==null){dX=this.options.smartIndent?"smart":"prev"}else{dX=dX?"add":"subtract"}}if(bo(this.doc,dZ)){bD(this,dZ,dX,dY)}}),indentSelection:j(null,function(dY){var dZ=this.doc.sel;if(o(dZ.from,dZ.to)){return bD(this,dZ.from.line,dY)}var d0=dZ.to.line-(dZ.to.ch?0:1);for(var dX=dZ.from.line;dX<=d0;++dX){bD(this,dX,dY)}}),getTokenAt:function(d3){var d0=this.doc;d3=ap(d0,d3);var dZ=c8(this,d3.line),d2=this.doc.mode;var dX=dm(d0,d3.line);var d1=new c(dX.text,this.options.tabSize);while(d1.pos<d3.ch&&!d1.eol()){d1.start=d1.pos;var dY=d2.token(d1,dZ)}return{start:d1.start,end:d1.pos,string:d1.current(),className:dY||null,type:dY||null,state:dZ}},getStateAfter:function(dX){var dY=this.doc;dX=cl(dY,dX==null?dY.first+dY.size-1:dX);return c8(this,dX+1)},cursorCoords:function(d0,dY){var dZ,dX=this.doc.sel;if(d0==null){dZ=dX.head}else{if(typeof d0=="object"){dZ=ap(this.doc,d0)}else{dZ=d0?dX.from:dX.to}}return bU(this,dZ,dY||"page")},charCoords:function(dY,dX){return dr(this,ap(this.doc,dY),dX||"page")},coordsChar:function(dX){var d0=t(this.display.lineSpace);var dY=window.pageYOffset||(document.documentElement||document.body).scrollTop;var dZ=window.pageXOffset||(document.documentElement||document.body).scrollLeft;return bL(this,dX.left-d0.left-dZ,dX.top-d0.top-dY)},defaultTextHeight:function(){return b0(this.display)},setGutterMarker:j(null,function(dX,dY,dZ){return aA(this,dX,function(d0){var d1=d0.gutterMarkers||(d0.gutterMarkers={});d1[dY]=dZ;if(!dZ&&cG(d1)){d0.gutterMarkers=null}return true})}),clearGutter:j(null,function(dZ){var dX=this,d0=dX.doc,dY=d0.first;d0.iter(function(d1){if(d1.gutterMarkers&&d1.gutterMarkers[dZ]){d1.gutterMarkers[dZ]=null;bR(dX,dY,dY+1);if(cG(d1.gutterMarkers)){d1.gutterMarkers=null}}++dY})}),addLineClass:j(null,function(dZ,dY,dX){return aA(this,dZ,function(d0){var d1=dY=="text"?"textClass":dY=="background"?"bgClass":"wrapClass";if(!d0[d1]){d0[d1]=dX}else{if(new RegExp("\\b"+dX+"\\b").test(d0[d1])){return false}else{d0[d1]+=" "+dX}}return true})}),removeLineClass:j(null,function(dZ,dY,dX){return aA(this,dZ,function(d0){var d3=dY=="text"?"textClass":dY=="background"?"bgClass":"wrapClass";var d2=d0[d3];if(!d2){return false}else{if(dX==null){d0[d3]=null}else{var d1=d2.replace(new RegExp("^"+dX+"\\b\\s*|\\s*\\b"+dX+"\\b"),"");if(d1==d2){return false}d0[d3]=d1||null}}return true})}),addLineWidget:j(null,function(dZ,dY,dX){return y(this,dZ,dY,dX)}),removeLineWidget:function(dX){dX.clear()},lineInfo:function(dX){if(typeof dX=="number"){if(!bo(this.doc,dX)){return null}var dY=dX;dX=dm(this.doc,dX);if(!dX){return null}}else{var dY=l(dX);if(dY==null){return null}}return{line:dY,handle:dX,text:dX.text,gutterMarkers:dX.gutterMarkers,textClass:dX.textClass,bgClass:dX.bgClass,wrapClass:dX.wrapClass,widgets:dX.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(d2,dZ,d4,d0,d6){var d1=this.display;d2=bU(this,ap(this.doc,d2));var d3=d2.bottom,dY=d2.left;dZ.style.position="absolute";d1.sizer.appendChild(dZ);if(d0=="over"){d3=d2.top}else{if(d0=="above"||d0=="near"){var dX=Math.max(d1.wrapper.clientHeight,this.doc.height),d5=Math.max(d1.sizer.clientWidth,d1.lineSpace.clientWidth);if((d0=="above"||d2.bottom+dZ.offsetHeight>dX)&&d2.top>dZ.offsetHeight){d3=d2.top-dZ.offsetHeight}else{if(d2.bottom+dZ.offsetHeight<=dX){d3=d2.bottom}}if(dY+dZ.offsetWidth>d5){dY=d5-dZ.offsetWidth}}}dZ.style.top=(d3+c6(d1))+"px";dZ.style.left=dZ.style.right="";if(d6=="right"){dY=d1.sizer.clientWidth-dZ.offsetWidth;dZ.style.right="0px"}else{if(d6=="left"){dY=0}else{if(d6=="middle"){dY=(d1.sizer.clientWidth-dZ.offsetWidth)/2}}dZ.style.left=dY+"px"}if(d4){G(this,dY,d3,dY+dZ.offsetWidth,d3+dZ.offsetHeight)}},triggerOnKeyDown:j(null,cK),execCommand:function(dX){return ay[dX](this)},findPosH:function(d3,d0,d1,dY){var dX=1;if(d0<0){dX=-1;d0=-d0}for(var dZ=0,d2=ap(this.doc,d3);dZ<d0;++dZ){d2=c1(this.doc,d2,dX,d1,dY);if(d2.hitSide){break}}return d2},moveH:j(null,function(dX,dY){var dZ=this.doc.sel,d0;if(dZ.shift||dZ.extend||o(dZ.from,dZ.to)){d0=c1(this.doc,dZ.head,dX,dY,this.options.rtlMoveVisually)}else{d0=dX<0?dZ.from:dZ.to}dD(this.doc,d0,d0,dX)}),deleteH:j(null,function(dX,dY){var dZ=this.doc.sel;if(!o(dZ.from,dZ.to)){b2(this.doc,"",dZ.from,dZ.to,"+delete")}else{b2(this.doc,"",dZ.from,c1(this.doc,dZ.head,dX,dY,false),"+delete")}this.curOp.userSelChange=true}),findPosV:function(d2,dZ,d3,d5){var dX=1,d1=d5;if(dZ<0){dX=-1;dZ=-dZ}for(var dY=0,d4=ap(this.doc,d2);dY<dZ;++dY){var d0=bU(this,d4,"div");if(d1==null){d1=d0.left}else{d0.left=d1}d4=cQ(this,d0,dX,d3);if(d4.hitSide){break}}return d4},moveV:j(null,function(dX,dY){var dZ=this.doc.sel;var d1=bU(this,dZ.head,"div");if(dZ.goalColumn!=null){d1.left=dZ.goalColumn}var d0=cQ(this,d1,dX,dY);if(dY=="page"){this.display.scrollbarV.scrollTop+=dr(this,d0,"div").top-d1.top}dD(this.doc,d0,d0,dX);dZ.goalColumn=d1.left}),toggleOverwrite:function(){if(this.state.overwrite=!this.state.overwrite){this.display.cursor.className+=" CodeMirror-overwrite"}else{this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")}},scrollTo:j(null,function(dX,dY){this.curOp.updateScrollPos={scrollLeft:dX,scrollTop:dY}}),getScrollInfo:function(){var dX=this.display.scroller,dY=c7;return{left:dX.scrollLeft,top:dX.scrollTop,height:dX.scrollHeight-dY,width:dX.scrollWidth-dY,clientHeight:dX.clientHeight-dY,clientWidth:dX.clientWidth-dY}},scrollIntoView:function(dX){if(typeof dX=="number"){dX=dP(dX,0)}if(!dX||dX.line!=null){dX=dX?ap(this.doc,dX):this.doc.sel.head;cD(this,dX)}else{G(this,dX.left,dX.top,dX.right,dX.bottom)}},setSize:function(dZ,dX){function dY(d0){return typeof d0=="number"||/^\d+$/.test(String(d0))?d0+"px":d0}if(dZ!=null){this.display.wrapper.style.width=dY(dZ)}if(dX!=null){this.display.wrapper.style.height=dY(dX)}this.refresh()},on:function(dX,dY){cC(this,dX,dY)},off:function(dX,dY){dK(this,dX,dY)},operation:function(dX){return cv(this,dX)},refresh:j(null,function(){c0(this);this.curOp.updateScrollPos={scrollTop:this.doc.scrollTop,scrollLeft:this.doc.scrollLeft};bR(this)}),swapDoc:j(null,function(dY){var dX=this.doc;dX.cm=null;cm(this,dY);c0(this);this.curOp.updateScrollPos={scrollTop:dY.scrollTop,scrollLeft:dY.scrollLeft};return dX}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var dG=aq.optionHandlers={};var a9=aq.defaults={};function bf(dX,d0,dZ,dY){aq.defaults[dX]=d0;if(dZ){dG[dX]=dY?function(d1,d3,d2){if(d2!=h){dZ(d1,d3,d2)}}:dZ}}var h=aq.Init={toString:function(){return"CodeMirror.Init"}};bf("value","",function(dX,dY){dX.setValue(dY)},true);bf("mode",null,function(dX,dY){dX.doc.modeOption=dY;b8(dX)},true);bf("indentUnit",2,b8,true);bf("indentWithTabs",false);bf("smartIndent",true);bf("tabSize",4,function(dX){b8(dX);c0(dX);bR(dX)},true);bf("electricChars",true);bf("rtlMoveVisually",!bY);bf("theme","default",function(dX){dh(dX);b3(dX)},true);bf("keyMap","default",da);bf("extraKeys",null);bf("onKeyEvent",null);bf("onDragEvent",null);bf("lineWrapping",false,dn,true);bf("gutters",[],function(dX){a3(dX.options);b3(dX)},true);bf("fixedGutter",true,function(dX,dY){dX.display.gutters.style.left=dY?dS(dX.display)+"px":"0";dX.refresh()},true);bf("lineNumbers",false,function(dX){a3(dX.options);b3(dX)},true);bf("firstLineNumber",1,b3,true);bf("lineNumberFormatter",function(dX){return dX},b3,true);bf("showCursorWhenSelecting",false,dR,true);bf("readOnly",false,function(dX,dY){if(dY=="nocursor"){O(dX);dX.display.input.blur()}else{if(!dY){dg(dX,true)}}});bf("dragDrop",true);bf("cursorBlinkRate",530);bf("cursorHeight",1);bf("workTime",100);bf("workDelay",100);bf("flattenSpans",true);bf("pollInterval",100);bf("undoDepth",40,function(dX,dY){dX.doc.history.undoDepth=dY});bf("viewportMargin",10,function(dX){dX.refresh()},true);bf("tabindex",null,function(dX,dY){dX.display.input.tabIndex=dY||""});bf("autofocus",null);var dA=aq.modes={},cj=aq.mimeModes={};aq.defineMode=function(dX,dZ){if(!aq.defaults.mode&&dX!="null"){aq.defaults.mode=dX}if(arguments.length>2){dZ.dependencies=[];for(var dY=2;dY<arguments.length;++dY){dZ.dependencies.push(arguments[dY])}}dA[dX]=dZ};aq.defineMIME=function(dY,dX){cj[dY]=dX};aq.resolveMode=function(dX){if(typeof dX=="string"&&cj.hasOwnProperty(dX)){dX=cj[dX]}else{if(typeof dX=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(dX)){return aq.resolveMode("application/xml")}}if(typeof dX=="string"){return{name:dX}}else{return dX||{name:"null"}}};aq.getMode=function(dY,dX){dX=aq.resolveMode(dX);var d0=dA[dX.name];if(!d0){return aq.getMode(dY,"text/plain")}var d1=d0(dY,dX);if(cs.hasOwnProperty(dX.name)){var dZ=cs[dX.name];for(var d2 in dZ){if(!dZ.hasOwnProperty(d2)){continue}if(d1.hasOwnProperty(d2)){d1["_"+d2]=d1[d2]}d1[d2]=dZ[d2]}}d1.name=dX.name;return d1};aq.defineMode("null",function(){return{token:function(dX){dX.skipToEnd()}}});aq.defineMIME("text/plain","null");var cs=aq.modeExtensions={};aq.extendMode=function(dZ,dY){var dX=cs.hasOwnProperty(dZ)?cs[dZ]:(cs[dZ]={});bS(dY,dX)};aq.defineExtension=function(dX,dY){aq.prototype[dX]=dY};aq.defineOption=bf;var J=[];aq.defineInitHook=function(dX){J.push(dX)};function f(d0,dX){if(dX===true){return dX}if(d0.copyState){return d0.copyState(dX)}var dZ={};for(var d1 in dX){var dY=dX[d1];if(dY instanceof Array){dY=dY.concat([])}dZ[d1]=dY}return dZ}aq.copyState=f;function a1(dZ,dY,dX){return dZ.startState?dZ.startState(dY,dX):true}aq.startState=a1;aq.innerMode=function(dZ,dX){while(dZ.innerMode){var dY=dZ.innerMode(dX);dX=dY.state;dZ=dY.mode}return dY||{mode:dZ,state:dX}};var ay=aq.commands={selectAll:function(dX){dX.setSelection(dP(dX.firstLine(),0),dP(dX.lastLine()))},killLine:function(dX){var d0=dX.getCursor(true),dZ=dX.getCursor(false),dY=!o(d0,dZ);if(!dY&&dX.getLine(d0.line).length==d0.ch){dX.replaceRange("",d0,dP(d0.line+1,0),"+delete")}else{dX.replaceRange("",d0,dY?dZ:dP(d0.line),"+delete")}},deleteLine:function(dX){var dY=dX.getCursor().line;dX.replaceRange("",dP(dY,0),dP(dY),"+delete")},undo:function(dX){dX.undo()},redo:function(dX){dX.redo()},goDocStart:function(dX){dX.extendSelection(dP(dX.firstLine(),0))},goDocEnd:function(dX){dX.extendSelection(dP(dX.lastLine()))},goLineStart:function(dX){dX.extendSelection(z(dX,dX.getCursor().line))},goLineStartSmart:function(dY){var d2=dY.getCursor(),d3=z(dY,d2.line);var dZ=dY.getLineHandle(d3.line);var dX=cq(dZ);if(!dX||dX[0].level==0){var d1=Math.max(0,dZ.text.search(/\S/));var d0=d2.line==d3.line&&d2.ch<=d1&&d2.ch;dY.extendSelection(dP(d3.line,d0?0:d1))}else{dY.extendSelection(d3)}},goLineEnd:function(dX){dX.extendSelection(T(dX,dX.getCursor().line))},goLineUp:function(dX){dX.moveV(-1,"line")},goLineDown:function(dX){dX.moveV(1,"line")},goPageUp:function(dX){dX.moveV(-1,"page")},goPageDown:function(dX){dX.moveV(1,"page")},goCharLeft:function(dX){dX.moveH(-1,"char")},goCharRight:function(dX){dX.moveH(1,"char")},goColumnLeft:function(dX){dX.moveH(-1,"column")},goColumnRight:function(dX){dX.moveH(1,"column")},goWordLeft:function(dX){dX.moveH(-1,"word")},goWordRight:function(dX){dX.moveH(1,"word")},delCharBefore:function(dX){dX.deleteH(-1,"char")},delCharAfter:function(dX){dX.deleteH(1,"char")},delWordBefore:function(dX){dX.deleteH(-1,"word")},delWordAfter:function(dX){dX.deleteH(1,"word")},indentAuto:function(dX){dX.indentSelection("smart")},indentMore:function(dX){dX.indentSelection("add")},indentLess:function(dX){dX.indentSelection("subtract")},insertTab:function(dX){dX.replaceSelection("\t","end","+input")},defaultTab:function(dX){if(dX.somethingSelected()){dX.indentSelection("add")}else{dX.replaceSelection("\t","end","+input")}},transposeChars:function(dX){var dZ=dX.getCursor(),dY=dX.getLine(dZ.line);if(dZ.ch>0&&dZ.ch<dY.length-1){dX.replaceRange(dY.charAt(dZ.ch)+dY.charAt(dZ.ch-1),dP(dZ.line,dZ.ch-1),dP(dZ.line,dZ.ch+1))}},newlineAndIndent:function(dX){j(dX,function(){dX.replaceSelection("\n","end","+input");dX.indentLine(dX.getCursor().line,null,true)})()},toggleOverwrite:function(dX){dX.toggleOverwrite()}};var dM=aq.keyMap={};dM.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};dM.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordBefore","Ctrl-Delete":"delWordAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};dM.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordBefore","Ctrl-Alt-Backspace":"delWordAfter","Alt-Delete":"delWordAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};dM["default"]=a5?dM.macDefault:dM.pcDefault;dM.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function m(dX){if(typeof dX=="string"){return dM[dX]}else{return dX}}function au(dY,d2,d0){function d1(d8){d8=m(d8);var d6=d8[dY];if(d6===false){return"stop"}if(d6!=null&&d0(d6)){return true}if(d8.nofallthrough){return"stop"}var d5=d8.fallthrough;if(d5==null){return false}if(Object.prototype.toString.call(d5)!="[object Array]"){return d1(d5)}for(var d4=0,d7=d5.length;d4<d7;++d4){var d3=d1(d5[d4]);if(d3){return d3}}return false}for(var dZ=0;dZ<d2.length;++dZ){var dX=d1(d2[dZ]);if(dX){return dX}}}function n(dY){var dX=E[dY.keyCode];return dX=="Ctrl"||dX=="Alt"||dX=="Shift"||dX=="Mod"}function dC(dY,dZ){var dX=E[dY.keyCode];if(dX==null||dY.altGraphKey){return false}if(dY.altKey){dX="Alt-"+dX}if(dH?dY.metaKey:dY.ctrlKey){dX="Ctrl-"+dX}if(dH?dY.ctrlKey:dY.metaKey){dX="Cmd-"+dX}if(!dZ&&dY.shiftKey){dX="Shift-"+dX}return dX}aq.lookupKey=au;aq.isModifierKey=n;aq.keyName=dC;aq.fromTextArea=function(d4,d5){if(!d5){d5={}}d5.value=d4.value;if(!d5.tabindex&&d4.tabindex){d5.tabindex=d4.tabindex}if(d5.autofocus==null){var dX=document.body;try{dX=document.activeElement}catch(dZ){}d5.autofocus=dX==d4||d4.getAttribute("autofocus")!=null&&dX==document.body}function d1(){d4.value=d3.getValue()}if(d4.form){cC(d4.form,"submit",d1);var dY=d4.form,d2=dY.submit;try{var d0=dY.submit=function(){d1();dY.submit=d2;dY.submit();dY.submit=d0}}catch(dZ){}}d4.style.display="none";var d3=aq(function(d6){d4.parentNode.insertBefore(d6,d4.nextSibling)},d5);d3.save=d1;d3.getTextArea=function(){return d4};d3.toTextArea=function(){d1();d4.parentNode.removeChild(d3.getWrapperElement());d4.style.display="";if(d4.form){dK(d4.form,"submit",d1);if(typeof d4.form.submit=="function"){d4.form.submit=d2}}};return d3};function c(dX,dY){this.pos=this.start=0;this.string=dX;this.tabSize=dY||8}c.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(dX){var dZ=this.string.charAt(this.pos);if(typeof dX=="string"){var dY=dZ==dX}else{var dY=dZ&&(dX.test?dX.test(dZ):dX(dZ))}if(dY){++this.pos;return dZ}},eatWhile:function(dX){var dY=this.pos;while(this.eat(dX)){}return this.pos>dY},eatSpace:function(){var dX=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>dX},skipToEnd:function(){this.pos=this.string.length},skipTo:function(dX){var dY=this.string.indexOf(dX,this.pos);if(dY>-1){this.pos=dY;return true}},backUp:function(dX){this.pos-=dX},column:function(){return dQ(this.string,this.start,this.tabSize)},indentation:function(){return dQ(this.string,null,this.tabSize)},match:function(d0,dY,dX){if(typeof d0=="string"){var d1=function(d2){return dX?d2.toLowerCase():d2};if(d1(this.string).indexOf(d1(d0),this.pos)==this.pos){if(dY!==false){this.pos+=d0.length}return true}}else{var dZ=this.string.slice(this.pos).match(d0);if(dZ&&dZ.index>0){return null}if(dZ&&dY!==false){this.pos+=dZ[0].length}return dZ}},current:function(){return this.string.slice(this.start,this.pos)}};aq.StringStream=c;function dW(dY,dX){this.lines=[];this.type=dX;this.doc=dY}aq.TextMarker=dW;dW.prototype.clear=function(){if(this.explicitlyCleared){return}var d4=this.doc.cm,dY=d4&&!d4.curOp;if(dY){aa(d4)}var dZ=null,d2=null;for(var d0=0;d0<this.lines.length;++d0){var d5=this.lines[d0];var d3=c4(d5.markedSpans,this);if(d3.to!=null){d2=l(d5)}d5.markedSpans=dk(d5.markedSpans,d3);if(d3.from!=null){dZ=l(d5)}else{if(this.collapsed&&!bc(this.doc,d5)&&d4){aO(d5,b0(d4.display))}}}if(d4&&this.collapsed&&!d4.options.lineWrapping){for(var d0=0;d0<this.lines.length;++d0){var dX=aH(d4.doc,this.lines[d0]),d1=b6(d4.doc,dX);if(d1>d4.display.maxLineLength){d4.display.maxLine=dX;d4.display.maxLineLength=d1;d4.display.maxLineChanged=true}}}if(dZ!=null&&d4){bR(d4,dZ,d2+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.collapsed&&this.doc.cantEdit){this.doc.cantEdit=false;if(d4){v(d4)}}if(dY){B(d4)}ce(this,"clear")};dW.prototype.find=function(){var d2,d1;for(var dY=0;dY<this.lines.length;++dY){var dX=this.lines[dY];var dZ=c4(dX.markedSpans,this);if(dZ.from!=null||dZ.to!=null){var d0=l(dX);if(dZ.from!=null){d2=dP(d0,dZ.from)}if(dZ.to!=null){d1=dP(d0,dZ.to)}}}if(this.type=="bookmark"){return d2}return d2&&{from:d2,to:d1}};dW.prototype.getOptions=function(dX){var dY=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,clearOnEnter:this.clearOnEnter,replacedWith:dX?dY&&dY.cloneNode(true):dY,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}};dW.prototype.attachLine=function(dX){if(!this.lines.length&&this.doc.cm){var dY=this.doc.cm.curOp;if(!dY.maybeHiddenMarkers||dE(dY.maybeHiddenMarkers,this)==-1){(dY.maybeUnhiddenMarkers||(dY.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(dX)};dW.prototype.detachLine=function(dX){this.lines.splice(dE(this.lines,dX),1);if(!this.lines.length&&this.doc.cm){var dY=this.doc.cm.curOp;(dY.maybeHiddenMarkers||(dY.maybeHiddenMarkers=[])).push(this)}};function bJ(d6,d4,d5,d8,d2){if(d8&&d8.shared){return an(d6,d4,d5,d8,d2)}if(d6.cm&&!d6.cm.curOp){return j(d6.cm,bJ)(d6,d4,d5,d8,d2)}var d1=new dW(d6,d2);if(d2=="range"&&!D(d4,d5)){return d1}if(d8){bS(d8,d1)}if(d1.replacedWith){d1.collapsed=true;d1.replacedWith=bH("span",[d1.replacedWith],"CodeMirror-widget")}if(d1.collapsed){dt=true}var dY=d4.line,d7=0,d0,dZ,d3=d6.cm,dX;d6.iter(dY,d5.line+1,function(d9){if(d3&&d1.collapsed&&!d3.options.lineWrapping&&aH(d6,d9)==d3.display.maxLine){dX=true}var ea={from:null,to:null,marker:d1};d7+=d9.text.length;if(dY==d4.line){ea.from=d4.ch;d7-=d4.ch}if(dY==d5.line){ea.to=d5.ch;d7-=d9.text.length-d5.ch}if(d1.collapsed){if(dY==d5.line){dZ=ar(d9,d5.ch)}if(dY==d4.line){d0=ar(d9,d4.ch)}else{aO(d9,0)}}cz(d9,ea);++dY});if(d1.collapsed){d6.iter(d4.line,d5.line+1,function(d9){if(bc(d6,d9)){aO(d9,0)}})}if(d1.readOnly){aL=true;if(d6.history.done.length||d6.history.undone.length){d6.clearHistory()}}if(d1.collapsed){if(d0!=dZ){throw new Error("Inserting collapsed marker overlapping an existing one")}d1.size=d7;d1.atomic=true}if(d3){if(dX){d3.curOp.updateMaxLine=true}if(d1.className||d1.startStyle||d1.endStyle||d1.collapsed){bR(d3,d4.line,d5.line+1)}if(d1.atomic){v(d3)}}return d1}function cH(d0,dY){this.markers=d0;this.primary=dY;for(var dX=0,dZ=this;dX<d0.length;++dX){d0[dX].parent=this;cC(d0[dX],"clear",function(){dZ.clear()})}}aq.SharedTextMarker=cH;cH.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var dX=0;dX<this.markers.length;++dX){this.markers[dX].clear()}ce(this,"clear")};cH.prototype.find=function(){return this.primary.find()};cH.prototype.getOptions=function(dY){var dX=this.primary.getOptions(dY);dX.shared=true;return dX};function an(d0,d3,d2,dX,dZ){dX=bS(dX);dX.shared=false;var d1=[bJ(d0,d3,d2,dX,dZ)],dY=d1[0];aX(d0,function(d5){d1.push(bJ(d5,ap(d5,d3),ap(d5,d2),dX,dZ));for(var d4=0;d4<d5.linked.length;++d4){if(d5.linked[d4].isParent){return}}dY=a8(d1)});return new cH(d1,dY)}function c4(dZ,dX){if(dZ){for(var dY=0;dY<dZ.length;++dY){var d0=dZ[dY];if(d0.marker==dX){return d0}}}}function dk(dY,dZ){for(var d0,dX=0;dX<dY.length;++dX){if(dY[dX]!=dZ){(d0||(d0=[])).push(dY[dX])}}return d0}function cz(dX,dY){dX.markedSpans=dX.markedSpans?dX.markedSpans.concat([dY]):[dY];dY.marker.attachLine(dX)}function p(dY,dZ,d3){if(dY){for(var d1=0,d4;d1<dY.length;++d1){var d5=dY[d1],d2=d5.marker;var dX=d5.from==null||(d2.inclusiveLeft?d5.from<=dZ:d5.from<dZ);if(dX||d2.type=="bookmark"&&d5.from==dZ&&(!d3||!d5.marker.insertLeft)){var d0=d5.to==null||(d2.inclusiveRight?d5.to>=dZ:d5.to>dZ);(d4||(d4=[])).push({from:d5.from,to:d0?null:d5.to,marker:d2})}}}return d4}function dB(dY,d0,d3){if(dY){for(var d1=0,d4;d1<dY.length;++d1){var d5=dY[d1],d2=d5.marker;var dZ=d5.to==null||(d2.inclusiveRight?d5.to>=d0:d5.to>d0);if(dZ||d2.type=="bookmark"&&d5.from==d0&&(!d3||d5.marker.insertLeft)){var dX=d5.from==null||(d2.inclusiveLeft?d5.from<=d0:d5.from<d0);(d4||(d4=[])).push({from:dX?null:d5.from-d0,to:d5.to==null?null:d5.to-d0,marker:d2})}}}return d4}function aR(d9,d6){var d5=bo(d9,d6.from.line)&&dm(d9,d6.from.line).markedSpans;var ec=bo(d9,d6.to.line)&&dm(d9,d6.to.line).markedSpans;if(!d5&&!ec){return null}var dY=d6.from.ch,d1=d6.to.ch,d4=o(d6.from,d6.to);var d3=p(d5,dY,d4);var eb=dB(ec,d1,d4);var ea=d6.text.length==1,dZ=a8(d6.text).length+(ea?dY:0);if(d3){for(var d0=0;d0<d3.length;++d0){var d8=d3[d0];if(d8.to==null){var ed=c4(eb,d8.marker);if(!ed){d8.to=dY}else{if(ea){d8.to=ed.to==null?null:ed.to+dZ}}}}}if(eb){for(var d0=0;d0<eb.length;++d0){var d8=eb[d0];if(d8.to!=null){d8.to+=dZ}if(d8.from==null){var ed=c4(d3,d8.marker);if(!ed){d8.from=dZ;if(ea){(d3||(d3=[])).push(d8)}}}else{d8.from+=dZ;if(ea){(d3||(d3=[])).push(d8)}}}}var d2=[d3];if(!ea){var d7=d6.text.length-2,dX;if(d7>0&&d3){for(var d0=0;d0<d3.length;++d0){if(d3[d0].to==null){(dX||(dX=[])).push({from:null,to:null,marker:d3[d0].marker})}}}for(var d0=0;d0<d7;++d0){d2.push(dX)}d2.push(eb)}return d2}function bQ(d5,d3){var dX=H(d5,d3);var d6=aR(d5,d3);if(!dX){return d6}if(!d6){return dX}for(var d0=0;d0<dX.length;++d0){var d1=dX[d0],d2=d6[d0];if(d1&&d2){spans:for(var dZ=0;dZ<d2.length;++dZ){var d4=d2[dZ];for(var dY=0;dY<d1.length;++dY){if(d1[dY].marker==d4.marker){continue spans}}d1.push(d4)}}else{if(d2){dX[d0]=d2}}}return dX}function cF(d7,d5,d6){var d0=null;d7.iter(d5.line,d6.line+1,function(d8){if(d8.markedSpans){for(var d9=0;d9<d8.markedSpans.length;++d9){var ea=d8.markedSpans[d9].marker;if(ea.readOnly&&(!d0||dE(d0,ea)==-1)){(d0||(d0=[])).push(ea)}}}});if(!d0){return null}var d1=[{from:d5,to:d6}];for(var d2=0;d2<d0.length;++d2){var d3=d0[d2],dY=d3.find();for(var dZ=0;dZ<d1.length;++dZ){var dX=d1[dZ];if(D(dX.to,dY.from)||D(dY.to,dX.from)){continue}var d4=[dZ,1];if(D(dX.from,dY.from)||!d3.inclusiveLeft&&o(dX.from,dY.from)){d4.push({from:dX.from,to:dY.from})}if(D(dY.to,dX.to)||!d3.inclusiveRight&&o(dX.to,dY.to)){d4.push({from:dY.to,to:dX.to})}d1.splice.apply(d1,d4);dZ+=d4.length-1}}return d1}function ar(dY,d0){var dX=dt&&dY.markedSpans,d2;if(dX){for(var d1,dZ=0;dZ<dX.length;++dZ){d1=dX[dZ];if(!d1.marker.collapsed){continue}if((d1.from==null||d1.from<d0)&&(d1.to==null||d1.to>d0)&&(!d2||d2.width<d1.marker.width)){d2=d1.marker}}}return d2}function ds(dX){return ar(dX,-1)}function I(dX){return ar(dX,dX.text.length+1)}function aH(dZ,dY){var dX;while(dX=ds(dY)){dY=dm(dZ,dX.find().from.line)}return dY}function bc(d1,dY){var dX=dt&&dY.markedSpans;if(dX){for(var d0,dZ=0;dZ<dX.length;++dZ){d0=dX[dZ];if(!d0.marker.collapsed){continue}if(d0.from==null){return true}if(d0.from==0&&d0.marker.inclusiveLeft&&b(d1,dY,d0)){return true}}}}function b(d3,dY,d0){if(d0.to==null){var dX=d0.marker.find().to,d1=dm(d3,dX.line);return b(d3,d1,c4(d1.markedSpans,d0.marker))}if(d0.marker.inclusiveRight&&d0.to==dY.text.length){return true}for(var d2,dZ=0;dZ<dY.markedSpans.length;++dZ){d2=dY.markedSpans[dZ];if(d2.marker.collapsed&&d2.from==d0.to&&(d2.marker.inclusiveLeft||d0.marker.inclusiveRight)&&b(d3,dY,d2)){return true}}}function R(dX){var dZ=dX.markedSpans;if(!dZ){return}for(var dY=0;dY<dZ.length;++dY){dZ[dY].marker.detachLine(dX)}dX.markedSpans=null}function db(dX,dZ){if(!dZ){return}for(var dY=0;dY<dZ.length;++dY){dZ[dY].marker.attachLine(dX)}dX.markedSpans=dZ}var Y=aq.LineWidget=function(dX,d0,dY){for(var dZ in dY){if(dY.hasOwnProperty(dZ)){this[dZ]=dY[dZ]}}this.cm=dX;this.node=d0};function bi(dX){return function(){var dZ=!this.cm.curOp;if(dZ){aa(this.cm)}try{var dY=dX.apply(this,arguments)}finally{if(dZ){B(this.cm)}}return dY}}Y.prototype.clear=bi(function(){var dX=this.line.widgets,dZ=l(this.line);if(dZ==null||!dX){return}for(var dY=0;dY<dX.length;++dY){if(dX[dY]==this){dX.splice(dY--,1)}}if(!dX.length){this.line.widgets=null}aO(this.line,Math.max(0,this.line.height-ax(this)));bR(this.cm,dZ,dZ+1)});Y.prototype.changed=bi(function(){var dX=this.height;this.height=null;var dY=ax(this)-dX;if(!dY){return}aO(this.line,this.line.height+dY);var dZ=l(this.line);bR(this.cm,dZ,dZ+1)});function ax(dX){if(dX.height!=null){return dX.height}if(!dX.node.parentNode||dX.node.parentNode.nodeType!=1){cZ(dX.cm.display.measure,bH("div",[dX.node],null,"position: relative"))}return dX.height=dX.node.offsetHeight}function y(dX,d1,dZ,dY){var d0=new Y(dX,dZ,dY);if(d0.noHScroll){dX.display.alignWidgets=true}aA(dX,d1,function(d3){(d3.widgets||(d3.widgets=[])).push(d0);d0.line=d3;if(!bc(dX.doc,d3)||d0.showIfHidden){var d2=cg(dX,d3)<dX.display.scroller.scrollTop;aO(d3,d3.height+ax(d0));if(d2){dX.curOp.updateScrollPos={scrollTop:dX.doc.scrollTop+d0.height,scrollLeft:dX.doc.scrollLeft}}}return true});return d0}function bu(d0,dZ,dX){var dY={text:d0};db(dY,dZ);dY.height=dX?dX(dY):1;return dY}function aC(dY,d1,dZ,dX){dY.text=d1;if(dY.stateAfter){dY.stateAfter=null}if(dY.styles){dY.styles=null}if(dY.order!=null){dY.order=null}R(dY);db(dY,dZ);var d0=dX?dX(dY):1;if(d0!=dY.height){aO(dY,d0)}ce(dY,"change")}function U(dX){dX.parent=null;R(dX)}function a4(d4,d6,d1,dY,d2){var dZ=d4.options.flattenSpans;var d7="",d3=null;var d5=new c(d6,d4.options.tabSize);if(d6==""&&d1.blankLine){d1.blankLine(dY)}while(!d5.eol()){var dX=d1.token(d5,dY);if(d5.pos>5000){dZ=false;d5.pos=Math.min(d6.length,d5.start+50000);dX=null}var d0=d5.current();d5.start=d5.pos;if(!dZ||d3!=dX){if(d7){d2(d7,d3)}d7=d0;d3=dX}else{d7=d7+d0}}if(d7){d2(d7,d3)}}function a(dX,dY,d2){var d0=[dX.state.modeGen];a4(dX,dY.text,dX.doc.mode,d2,function(d4,d5){d0.push(d4,d5)});for(var d3=0;d3<dX.state.overlays.length;++d3){var dZ=dX.state.overlays[d3],d1=1;a4(dX,dY.text,dZ.mode,true,function(d5,d7){var d9=d1,d4=d5.length;while(d4){var d8=d0[d1],d6=d8.length;if(d6<=d4){d4-=d6}else{d0.splice(d1,1,d8.slice(0,d4),d0[d1+1],d8.slice(d4));d4=0}d1+=2}if(!d7){return}if(dZ.opaque){d0.splice(d9,d1-d9,d5,d7);d1=d9+2}else{for(;d9<d1;d9+=2){var d8=d0[d9+1];d0[d9+1]=d8?d8+" "+d7:d7}}})}return d0}function bd(dX,dY){if(!dY.styles||dY.styles[0]!=dX.state.modeGen){dY.styles=a(dX,dY,dY.stateAfter=c8(dX,l(dY)))}return dY.styles}function ci(dX,dY,dZ){var d1=dX.doc.mode;var d0=new c(dY.text,dX.options.tabSize);if(dY.text==""&&d1.blankLine){d1.blankLine(dZ)}while(!d0.eol()&&d0.pos<=5000){d1.token(d0,dZ);d0.start=d0.pos}}var b7={};function a2(dX){if(!dX){return null}return b7[dX]||(b7[dX]="cm-"+dX.replace(/ +/g," cm-"))}function bW(d6,ea,dY){var d7,eb=ea,d4,d9,dX=true;while(d7=ds(eb)){dX=false;eb=dm(d6.doc,d7.find().from.line);if(!d4){d4=eb}}var d3={pre:bH("pre"),col:0,pos:0,display:!dY,measure:null,addedOne:false,cm:d6};if(eb.textClass){d3.pre.className=eb.textClass}do{d3.measure=eb==ea&&dY;d3.pos=0;d3.addToken=d3.measure?ak:ai;if(dY&&d9&&eb!=ea&&!d3.addedOne){dY[0]=d3.pre.appendChild(bj(d6.display.measure));d3.addedOne=true}var d2=bz(eb,d3,bd(d6,eb));d9=eb==d4;if(d2){eb=dm(d6.doc,d2.to.line);dX=false}}while(d2);if(dY&&!d3.addedOne){dY[0]=d3.pre.appendChild(dX?bH("span","\u00a0"):bj(d6.display.measure))}if(!d3.pre.firstChild&&!bc(d6.doc,ea)){d3.pre.appendChild(document.createTextNode("\u00a0"))}var dZ;if(dY&&ao&&(dZ=cq(eb))){var d1=dZ.length-1;if(dZ[d1].from==dZ[d1].to){--d1}var d8=dZ[d1],d0=dZ[d1-1];if(d8.from+1==d8.to&&d0&&d8.level<d0.level){var d5=dY[d3.pos-1];if(d5){d5.parentNode.insertBefore(d5.measureRight=bj(d6.display.measure),d5.nextSibling)}}}return d3.pre}var bV=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g;function ai(d1,d8,dX,d0,d9){if(!d8){return}if(!bV.test(d8)){d1.col+=d8.length;var d4=document.createTextNode(d8)}else{var d4=document.createDocumentFragment(),d6=0;while(true){bV.lastIndex=d6;var dY=bV.exec(d8);var d3=dY?dY.index-d6:d8.length-d6;if(d3){d4.appendChild(document.createTextNode(d8.slice(d6,d6+d3)));d1.col+=d3}if(!dY){break}d6+=d3+1;if(dY[0]=="\t"){var d2=d1.cm.options.tabSize,d5=d2-d1.col%d2;d4.appendChild(bH("span",L(d5),"cm-tab"));d1.col+=d5}else{var dZ=bH("span","\u2022","cm-invalidchar");dZ.title="\\u"+dY[0].charCodeAt(0).toString(16);d4.appendChild(dZ);d1.col+=1}}}if(dX||d0||d9||d1.measure){var d7=dX||"";if(d0){d7+=d0}if(d9){d7+=d9}return d1.pre.appendChild(bH("span",[d4],d7))}d1.pre.appendChild(d4)}function ak(dY,d3,d1,dX,d2){for(var dZ=0;dZ<d3.length;++dZ){var d0=d3.charAt(dZ),d4=dZ==0;if(d0>="\ud800"&&d0<"\udbff"&&dZ<d3.length-1){d0=d3.slice(dZ,dZ+2);++dZ}else{if(dZ&&dY.cm.options.lineWrapping&&dq.test(d3.slice(dZ-1,dZ+1))){dY.pre.appendChild(bH("wbr"))}}dY.measure[dY.pos]=ai(dY,d0,d1,d4&&dX,dZ==d3.length-1&&d2);dY.pos+=d0.length}if(d3.length){dY.addedOne=true}}function b5(dX,dY,dZ){if(dZ){if(!dX.display){dZ=dZ.cloneNode(true)}dX.pre.appendChild(dZ);if(dX.measure&&dY){dX.measure[dX.pos]=dZ;dX.addedOne=true}}dX.pos+=dY}function bz(d5,eb,d4){var d2=d5.markedSpans;if(!d2){for(var ee=1;ee<d4.length;ee+=2){eb.addToken(eb,d4[ee],a2(d4[ee+1]))}return}var d3=d5.text,ef=d3.length;var d1=0,ee=1,d8="",eg;var ei=0,dX,eh,d9,dZ;for(;;){if(ei==d1){dX=eh=d9="";dZ=null;ei=Infinity;var d6=null;for(var ec=0;ec<d2.length;++ec){var ed=d2[ec],ea=ed.marker;if(ed.from<=d1&&(ed.to==null||ed.to>d1)){if(ed.to!=null&&ei>ed.to){ei=ed.to;eh=""}if(ea.className){dX+=" "+ea.className}if(ea.startStyle&&ed.from==d1){d9+=" "+ea.startStyle}if(ea.endStyle&&ed.to==ei){eh+=" "+ea.endStyle}if(ea.collapsed&&(!dZ||dZ.marker.width<ea.width)){dZ=ed}}else{if(ed.from>d1&&ei>ed.from){ei=ed.from}}if(ea.type=="bookmark"&&ed.from==d1&&ea.replacedWith){d6=ea.replacedWith}}if(dZ&&(dZ.from||0)==d1){b5(eb,(dZ.to==null?ef:dZ.to)-d1,dZ.from!=null&&dZ.marker.replacedWith);if(dZ.to==null){return dZ.marker.find()}}if(d6&&!dZ){b5(eb,0,d6)}}if(d1>=ef){break}var d7=Math.min(ef,ei);while(true){if(d8){var dY=d1+d8.length;if(!dZ){var d0=dY>d7?d8.slice(0,d7-d1):d8;eb.addToken(eb,d0,eg?eg+dX:dX,d9,d1+d0.length==ei?eh:"")}if(dY>=d7){d8=d8.slice(d7-d1);d1=d7;break}d1=dY;d9=""}d8=d4[ee++];eg=a2(d4[ee++])}}}function c9(eb,d6,dY,dX,d2){function ec(ee){return dY?dY[ee]:null}var d9=d6.from,ea=d6.to,ed=d6.text;var d7=dm(eb,d9.line),d8=dm(eb,ea.line);var d5=a8(ed),d0=ec(ed.length-1),d4=ea.line-d9.line;if(d9.ch==0&&ea.ch==0&&d5==""){for(var dZ=0,d1=ed.length-1,d3=[];dZ<d1;++dZ){d3.push(bu(ed[dZ],ec(dZ),d2))}aC(d8,d8.text,d0,d2);if(d4){eb.remove(d9.line,d4)}if(d3.length){eb.insert(d9.line,d3)}}else{if(d7==d8){if(ed.length==1){aC(d7,d7.text.slice(0,d9.ch)+d5+d7.text.slice(ea.ch),d0,d2)}else{for(var d3=[],dZ=1,d1=ed.length-1;dZ<d1;++dZ){d3.push(bu(ed[dZ],ec(dZ),d2))}d3.push(bu(d5+d7.text.slice(ea.ch),d0,d2));aC(d7,d7.text.slice(0,d9.ch)+ed[0],ec(0),d2);eb.insert(d9.line+1,d3)}}else{if(ed.length==1){aC(d7,d7.text.slice(0,d9.ch)+ed[0]+d8.text.slice(ea.ch),ec(0),d2);eb.remove(d9.line+1,d4)}else{aC(d7,d7.text.slice(0,d9.ch)+ed[0],ec(0),d2);aC(d8,d5+d8.text.slice(ea.ch),d0,d2);for(var dZ=1,d1=ed.length-1,d3=[];dZ<d1;++dZ){d3.push(bu(ed[dZ],ec(dZ),d2))}if(d4>1){eb.remove(d9.line+1,d4-1)}eb.insert(d9.line+1,d3)}}}ce(eb,"change",eb,d6);bA(eb,dX.anchor,dX.head,null,true)}function N(dY){this.lines=dY;this.parent=null;for(var dZ=0,d0=dY.length,dX=0;dZ<d0;++dZ){dY[dZ].parent=this;dX+=dY[dZ].height}this.height=dX}N.prototype={chunkSize:function(){return this.lines.length},removeInner:function(dX,d1){for(var dZ=dX,d0=dX+d1;dZ<d0;++dZ){var dY=this.lines[dZ];this.height-=dY.height;U(dY);ce(dY,"delete")}this.lines.splice(dX,d1)},collapse:function(dX){dX.splice.apply(dX,[dX.length,0].concat(this.lines))},insertInner:function(dY,dZ,dX){this.height+=dX;this.lines=this.lines.slice(0,dY).concat(dZ).concat(this.lines.slice(dY));for(var d0=0,d1=dZ.length;d0<d1;++d0){dZ[d0].parent=this}},iterN:function(dX,d0,dZ){for(var dY=dX+d0;dX<dY;++dX){if(dZ(this.lines[dX])){return true}}}};function bM(d0){this.children=d0;var dZ=0,dX=0;for(var dY=0,d2=d0.length;dY<d2;++dY){var d1=d0[dY];dZ+=d1.chunkSize();dX+=d1.height;d1.parent=this}this.size=dZ;this.height=dX;this.parent=null}bM.prototype={chunkSize:function(){return this.size},removeInner:function(dX,d4){this.size-=d4;for(var dZ=0;dZ<this.children.length;++dZ){var d3=this.children[dZ],d1=d3.chunkSize();if(dX<d1){var d0=Math.min(d4,d1-dX),d2=d3.height;d3.removeInner(dX,d0);this.height-=d2-d3.height;if(d1==d0){this.children.splice(dZ--,1);d3.parent=null}if((d4-=d0)==0){break}dX=0}else{dX-=d1}}if(this.size-d4<25){var dY=[];this.collapse(dY);this.children=[new N(dY)];this.children[0].parent=this}},collapse:function(dX){for(var dY=0,dZ=this.children.length;dY<dZ;++dY){this.children[dY].collapse(dX)}},insertInner:function(dY,d5,d4){this.size+=d5.length;this.height+=d4;for(var dZ=0,d1=this.children.length;dZ<d1;++dZ){var dX=this.children[dZ],d2=dX.chunkSize();if(dY<=d2){dX.insertInner(dY,d5,d4);if(dX.lines&&dX.lines.length>50){while(dX.lines.length>50){var d0=dX.lines.splice(dX.lines.length-25,25);var d3=new N(d0);dX.height-=d3.height;this.children.splice(dZ+1,0,d3);d3.parent=this}this.maybeSpill()}break}dY-=d2}},maybeSpill:function(){if(this.children.length<=10){return}var d0=this;do{var dY=d0.children.splice(d0.children.length-5,5);var dZ=new bM(dY);if(!d0.parent){var d1=new bM(d0.children);d1.parent=d0;d0.children=[d1,dZ];d0=d1}else{d0.size-=dZ.size;d0.height-=dZ.height;var dX=dE(d0.parent.children,d0);d0.parent.children.splice(dX+1,0,dZ)}dZ.parent=d0.parent}while(d0.children.length>10);d0.parent.maybeSpill()},iterN:function(dX,d4,d3){for(var dY=0,d1=this.children.length;dY<d1;++dY){var d2=this.children[dY],d0=d2.chunkSize();if(dX<d0){var dZ=Math.min(d4,d0-dX);if(d2.iterN(dX,dZ,d3)){return true}if((d4-=dZ)==0){break}dX=0}else{dX-=d0}}}};var cy=0;var M=aq.Doc=function(dZ,dY,dX){if(!(this instanceof M)){return new M(dZ,dY,dX)}if(dX==null){dX=0}bM.call(this,[new N([bu("",null)])]);this.first=dX;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.history=aT();this.frontier=dX;var d0=dP(dX,0);this.sel={from:d0,to:d0,head:d0,anchor:d0,shift:false,extend:false,goalColumn:null};this.id=++cy;this.modeOption=dY;if(typeof dZ=="string"){dZ=cY(dZ)}c9(this,{from:d0,to:d0,text:dZ},null,{head:d0,anchor:d0})};M.prototype=dV(bM.prototype,{iter:function(dZ,dY,dX){if(dX){this.iterN(dZ-this.first,dY-dZ,dX)}else{this.iterN(this.first,this.first+this.size,dZ)}},insert:function(dY,dZ){var dX=0;for(var d0=0,d1=dZ.length;d0<d1;++d0){dX+=dZ[d0].height}this.insertInner(dY-this.first,dZ,dX)},remove:function(dX,dY){this.removeInner(dX-this.first,dY)},getValue:function(dY){var dX=bq(this,this.first,this.first+this.size);if(dY===false){return dX}return dX.join(dY||"\n")},setValue:function(dY){var dZ=dP(this.first,0),dX=this.first+this.size-1;cE(this,{from:dZ,to:dP(dX,dm(this,dX).text.length),text:cY(dY),origin:"setValue"},{head:dZ,anchor:dZ},true)},replaceRange:function(dY,d0,dZ,dX){d0=ap(this,d0);dZ=dZ?ap(this,dZ):d0;b2(this,dY,d0,dZ,dX)},getRange:function(d0,dZ,dY){var dX=cJ(this,ap(this,d0),ap(this,dZ));if(dY===false){return dX}return dX.join(dY||"\n")},getLine:function(dY){var dX=this.getLineHandle(dY);return dX&&dX.text},setLine:function(dX,dY){if(bo(this,dX)){b2(this,dY,dP(dX,0),ap(this,dP(dX)))}},removeLine:function(dX){if(bo(this,dX)){b2(this,"",dP(dX,0),ap(this,dP(dX+1,0)))}},getLineHandle:function(dX){if(bo(this,dX)){return dm(this,dX)}},getLineNumber:function(dX){return l(dX)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(dX){return ap(this,dX)},getCursor:function(dZ){var dX=this.sel,dY;if(dZ==null||dZ=="head"){dY=dX.head}else{if(dZ=="anchor"){dY=dX.anchor}else{if(dZ=="end"||dZ===false){dY=dX.to}else{dY=dX.from}}}return dU(dY)},somethingSelected:function(){return !o(this.sel.head,this.sel.anchor)},setCursor:cw(function(dX,dY,d0){var dZ=ap(this,typeof dX=="number"?dP(dX,dY||0):dX);if(d0){dD(this,dZ)}else{bA(this,dZ,dZ)}}),setSelection:cw(function(dX,dY){bA(this,ap(this,dX),ap(this,dY||dX))}),extendSelection:cw(function(dY,dX){dD(this,ap(this,dY),dX&&ap(this,dX))}),getSelection:function(dX){return this.getRange(this.sel.from,this.sel.to,dX)},replaceSelection:function(dY,dZ,dX){cE(this,{from:this.sel.from,to:this.sel.to,text:cY(dY),origin:dX},dZ||"around")},undo:cw(function(){dx(this,"undo")}),redo:cw(function(){dx(this,"redo")}),setExtending:function(dX){this.sel.extend=dX},historySize:function(){var dX=this.history;return{undo:dX.done.length,redo:dX.undone.length}},clearHistory:function(){this.history=aT()},markClean:function(){this.history.dirtyCounter=0;this.history.lastOp=this.history.lastOrigin=null},isClean:function(){return this.history.dirtyCounter==0},getHistory:function(){return{done:cN(this.history.done),undone:cN(this.history.undone)}},setHistory:function(dY){var dX=this.history=aT();dX.done=dY.done.slice(0);dX.undone=dY.undone.slice(0)},markText:function(dZ,dY,dX){return bJ(this,ap(this,dZ),ap(this,dY),dX,"range")},setBookmark:function(dZ,dX){var dY={replacedWith:dX&&(dX.nodeType==null?dX.widget:dX),insertLeft:dX&&dX.insertLeft};dZ=ap(this,dZ);return bJ(this,dZ,dZ,dY,"bookmark")},findMarksAt:function(d1){d1=ap(this,d1);var d0=[],dY=dm(this,d1.line).markedSpans;if(dY){for(var dX=0;dX<dY.length;++dX){var dZ=dY[dX];if((dZ.from==null||dZ.from<=d1.ch)&&(dZ.to==null||dZ.to>=d1.ch)){d0.push(dZ.marker.parent||dZ.marker)}}}return d0},getAllMarks:function(){var dX=[];this.iter(function(dZ){var dY=dZ.markedSpans;if(dY){for(var d0=0;d0<dY.length;++d0){if(dY[d0].from!=null){dX.push(dY[d0].marker)}}}});return dX},posFromIndex:function(dY){var dX,dZ=this.first;this.iter(function(d0){var d1=d0.text.length+1;if(d1>dY){dX=dY;return true}dY-=d1;++dZ});return ap(this,dP(dZ,dX))},indexFromPos:function(dY){dY=ap(this,dY);var dX=dY.ch;if(dY.line<this.first||dY.ch<0){return 0}this.iter(this.first,dY.line,function(dZ){dX+=dZ.text.length+1});return dX},copy:function(dX){var dY=new M(bq(this,this.first,this.first+this.size),this.modeOption,this.first);dY.scrollTop=this.scrollTop;dY.scrollLeft=this.scrollLeft;dY.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:false,goalColumn:this.sel.goalColumn};if(dX){dY.history.undoDepth=this.history.undoDepth;dY.setHistory(this.getHistory())}return dY},linkedDoc:function(dX){if(!dX){dX={}}var d0=this.first,dZ=this.first+this.size;if(dX.from!=null&&dX.from>d0){d0=dX.from}if(dX.to!=null&&dX.to<dZ){dZ=dX.to}var dY=new M(bq(this,d0,dZ),dX.mode||this.modeOption,d0);if(dX.sharedHist){dY.history=this.history}(this.linked||(this.linked=[])).push({doc:dY,sharedHist:dX.sharedHist});dY.linked=[{doc:this,isParent:true,sharedHist:dX.sharedHist}];return dY},unlinkDoc:function(dY){if(dY instanceof aq){dY=dY.doc}if(this.linked){for(var dZ=0;dZ<this.linked.length;++dZ){var d0=this.linked[dZ];if(d0.doc!=dY){continue}this.linked.splice(dZ,1);dY.unlinkDoc(this);break}}if(dY.history==this.history){var dX=[dY.id];aX(dY,function(d1){dX.push(d1.id)},true);dY.history=aT();dY.history.done=cN(this.history.done,dX);dY.history.undone=cN(this.history.undone,dX)}},iterLinkedDocs:function(dX){aX(this,dX)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});M.prototype.eachLine=M.prototype.iter;var c5="iter insert remove copy getEditor".split(" ");for(var dF in M.prototype){if(M.prototype.hasOwnProperty(dF)&&dE(c5,dF)<0){aq.prototype[dF]=(function(dX){return function(){return dX.apply(this.doc,arguments)}})(M.prototype[dF])}}function aX(d0,dZ,dY){function dX(d6,d4,d2){if(d6.linked){for(var d3=0;d3<d6.linked.length;++d3){var d1=d6.linked[d3];if(d1.doc==d4){continue}var d5=d2&&d1.sharedHist;if(dY&&!d5){continue}dZ(d1.doc,d5);dX(d1.doc,d6,d5)}}}dX(d0,null,true)}function cm(dX,dY){if(dY.cm){throw new Error("This document is already in use.")}dX.doc=dY;dY.cm=dX;cu(dX);b8(dX);if(!dX.options.lineWrapping){bB(dX)}dX.options.mode=dY.modeOption;bR(dX)}function dm(dX,d1){d1-=dX.first;while(!dX.lines){for(var dY=0;;++dY){var d0=dX.children[dY],dZ=d0.chunkSize();if(d1<dZ){dX=d0;break}d1-=dZ}}return dX.lines[d1]}function cJ(dZ,d1,dX){var dY=[],d0=d1.line;dZ.iter(d1.line,dX.line+1,function(d2){var d3=d2.text;if(d0==dX.line){d3=d3.slice(0,dX.ch)}if(d0==d1.line){d3=d3.slice(d1.ch)}dY.push(d3);++d0});return dY}function bq(dY,d0,dZ){var dX=[];dY.iter(d0,dZ,function(d1){dX.push(d1.text)});return dX}function aO(dY,dX){var dZ=dX-dY.height;for(var d0=dY;d0;d0=d0.parent){d0.height+=dZ}}function l(dX){if(dX.parent==null){return null}var d1=dX.parent,d0=dE(d1.lines,dX);for(var dY=d1.parent;dY;d1=dY,dY=dY.parent){for(var dZ=0;;++dZ){if(dY.children[dZ]==d1){break}d0+=dY.children[dZ].chunkSize()}}return d0+d1.first}function ba(d3,d1){var dZ=d3.first;outer:do{for(var d0=0,d2=d3.children.length;d0<d2;++d0){var dY=d3.children[d0],dX=dY.height;if(d1<dX){d3=dY;continue outer}d1-=dX;dZ+=dY.chunkSize()}return dZ}while(!d3.lines);for(var d0=0,d2=d3.lines.length;d0<d2;++d0){var d5=d3.lines[d0],d4=d5.height;if(d1<d4){break}d1-=d4}return dZ+d0}function cg(dX,d0){d0=aH(dX.doc,d0);var d2=0,dZ=d0.parent;for(var d1=0;d1<dZ.lines.length;++d1){var dY=dZ.lines[d1];if(dY==d0){break}else{d2+=dY.height}}for(var d3=dZ.parent;d3;dZ=d3,d3=dZ.parent){for(var d1=0;d1<d3.children.length;++d1){var d4=d3.children[d1];if(d4==dZ){break}else{d2+=d4.height}}}return d2}function cq(dY){var dX=dY.order;if(dX==null){dX=dY.order=cp(dY.text)}return dX}function aT(){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function cf(dY,d2,d1,d0){var dX=d2["spans_"+dY.id],dZ=0;dY.iter(Math.max(dY.first,d1),Math.min(dY.first+dY.size,d0),function(d3){if(d3.markedSpans){(dX||(dX=d2["spans_"+dY.id]={}))[dZ]=d3.markedSpans}++dZ})}function at(dX,dZ){var dY={from:dZ.from,to:aw(dZ),text:cJ(dX,dZ.from,dZ.to)};cf(dX,dY,dZ.from.line,dZ.to.line+1);aX(dX,function(d0){cf(d0,dY,dZ.from.line,dZ.to.line+1)},true);return dY}function g(d2,d4,d1,dX){var d0=d2.history;d0.undone.length=0;var dZ=+new Date,d3=a8(d0.done);if(d3&&(d0.lastOp==dX||d0.lastOrigin==d4.origin&&d4.origin&&((d4.origin.charAt(0)=="+"&&d0.lastTime>dZ-600)||d4.origin.charAt(0)=="*"))){var dY=a8(d3.changes);if(o(d4.from,d4.to)&&o(d4.from,dY.to)){dY.to=aw(d4)}else{d3.changes.push(at(d2,d4))}d3.anchorAfter=d1.anchor;d3.headAfter=d1.head}else{d3={changes:[at(d2,d4)],anchorBefore:d2.sel.anchor,headBefore:d2.sel.head,anchorAfter:d1.anchor,headAfter:d1.head};d0.done.push(d3);while(d0.done.length>d0.undoDepth){d0.done.shift()}if(d0.dirtyCounter<0){d0.dirtyCounter=NaN}else{d0.dirtyCounter++}}d0.lastTime=dZ;d0.lastOp=dX;d0.lastOrigin=d4.origin}function F(dZ){if(!dZ){return null}for(var dY=0,dX;dY<dZ.length;++dY){if(dZ[dY].marker.explicitlyCleared){if(!dX){dX=dZ.slice(0,dY)}}else{if(dX){dX.push(dZ[dY])}}}return !dX?dZ:dX.length?dX:null}function H(d0,d1){var dZ=d1["spans_"+d0.id];if(!dZ){return null}for(var dY=0,dX=[];dY<d1.text.length;++dY){dX.push(F(dZ[dY]))}return dX}function cN(d7,d0){for(var d3=0,dY=[];d3<d7.length;++d3){var dZ=d7[d3],d5=dZ.changes,d6=[];dY.push({changes:d6,anchorBefore:dZ.anchorBefore,headBefore:dZ.headBefore,anchorAfter:dZ.anchorAfter,headAfter:dZ.headAfter});for(var d2=0;d2<d5.length;++d2){var d4=d5[d2],d1;d6.push({from:d4.from,to:d4.to,text:d4.text});if(d0){for(var dX in d4){if(d1=dX.match(/^spans_(\d+)$/)){if(dE(d0,Number(d1[1]))>-1){a8(d6)[dX]=d4[dX];delete d4[dX]}}}}}}return dY}function aF(d0,dZ,dY,dX){if(dY<d0.line){d0.line+=dX}else{if(dZ<d0.line){d0.line=dZ;d0.ch=0}}}function bT(d0,d2,d3,d4){for(var dZ=0;dZ<d0.length;++dZ){var dX=d0[dZ],d1=true;for(var dY=0;dY<dX.changes.length;++dY){var d5=dX.changes[dY];if(!dX.copied){d5.from=dU(d5.from);d5.to=dU(d5.to)}if(d3<d5.from.line){d5.from.line+=d4;d5.to.line+=d4}else{if(d2<=d5.to.line){d1=false;break}}}if(!dX.copied){dX.anchorBefore=dU(dX.anchorBefore);dX.headBefore=dU(dX.headBefore);dX.anchorAfter=dU(dX.anchorAfter);dX.readAfter=dU(dX.headAfter);dX.copied=true}if(!d1){d0.splice(0,dZ+1);dZ=0}else{aF(dX.anchorBefore);aF(dX.headBefore);aF(dX.anchorAfter);aF(dX.headAfter)}}}function ah(dY,d1){var d0=d1.from.line,dZ=d1.to.line,dX=d1.text.length-(dZ-d0)-1;bT(dY.done,d0,dZ,dX);bT(dY.undone,d0,dZ,dX)}function a0(){c3(this)}function k(dX){if(!dX.stop){dX.stop=a0}return dX}function X(dX){if(dX.preventDefault){dX.preventDefault()}else{dX.returnValue=false}}function ch(dX){if(dX.stopPropagation){dX.stopPropagation()}else{dX.cancelBubble=true}}function c3(dX){X(dX);ch(dX)}aq.e_stop=c3;aq.e_preventDefault=X;aq.e_stopPropagation=ch;function bX(dX){return dX.target||dX.srcElement}function aN(dY){var dX=dY.which;if(dX==null){if(dY.button&1){dX=1}else{if(dY.button&2){dX=3}else{if(dY.button&4){dX=2}}}}if(a5&&dY.ctrlKey&&dX==1){dX=3}return dX}function cC(d0,dY,dZ){if(d0.addEventListener){d0.addEventListener(dY,dZ,false)}else{if(d0.attachEvent){d0.attachEvent("on"+dY,dZ)}else{var d1=d0._handlers||(d0._handlers={});var dX=d1[dY]||(d1[dY]=[]);dX.push(dZ)}}}function dK(d1,dZ,d0){if(d1.removeEventListener){d1.removeEventListener(dZ,d0,false)}else{if(d1.detachEvent){d1.detachEvent("on"+dZ,d0)}else{var dX=d1._handlers&&d1._handlers[dZ];if(!dX){return}for(var dY=0;dY<dX.length;++dY){if(dX[dY]==d0){dX.splice(dY,1);break}}}}}function af(d1,d0){var dX=d1._handlers&&d1._handlers[d0];if(!dX){return}var dY=Array.prototype.slice.call(arguments,2);for(var dZ=0;dZ<dX.length;++dZ){dX[dZ].apply(null,dY)}}var dv,cd=0;function ce(d2,d1){var dX=d2._handlers&&d2._handlers[d1];if(!dX){return}var dZ=Array.prototype.slice.call(arguments,2);if(!dv){++cd;dv=[];setTimeout(df,0)}function dY(d3){return function(){d3.apply(null,dZ)}}for(var d0=0;d0<dX.length;++d0){dv.push(dY(dX[d0]))}}function df(){--cd;var dX=dv;dv=null;for(var dY=0;dY<dX.length;++dY){dX[dY]()}}function w(dZ,dY){var dX=dZ._handlers&&dZ._handlers[dY];return dX&&dX.length>0}aq.on=cC;aq.off=dK;aq.signal=af;var c7=30;var aS=aq.Pass={toString:function(){return"CodeMirror.Pass"}};function i(){this.id=null}i.prototype={set:function(dX,dY){clearTimeout(this.id);this.id=setTimeout(dY,dX)}};function dQ(dY,dX,d0){if(dX==null){dX=dY.search(/[^\s\u00a0]/);if(dX==-1){dX=dY.length}}for(var dZ=0,d1=0;dZ<dX;++dZ){if(dY.charAt(dZ)=="\t"){d1+=d0-(d1%d0)}else{++d1}}return d1}aq.countColumn=dQ;var bb=[""];function L(dX){while(bb.length<=dX){bb.push(a8(bb)+" ")}return bb[dX]}function a8(dX){return dX[dX.length-1]}function bP(dX){if(av){dX.selectionStart=0;dX.selectionEnd=dX.value.length}else{dX.select()}}function dE(d0,dX){if(d0.indexOf){return d0.indexOf(dX)}for(var dY=0,dZ=d0.length;dY<dZ;++dY){if(d0[dY]==dX){return dY}}return -1}function dV(d0,dY){function dX(){}dX.prototype=d0;var dZ=new dX();if(dY){bS(dY,dZ)}return dZ}function bS(dY,dX){if(!dX){dX={}}for(var dZ in dY){if(dY.hasOwnProperty(dZ)){dX[dZ]=dY[dZ]}}return dX}function dI(dZ){for(var dX=[],dY=0;dY<dZ;++dY){dX.push(undefined)}return dX}function b4(dY){var dX=Array.prototype.slice.call(arguments,1);return function(){return dY.apply(null,dX)}}var K=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/;function V(dX){return/\w/.test(dX)||dX>"\x80"&&(dX.toUpperCase()!=dX.toLowerCase()||K.test(dX))}function cG(dX){for(var dY in dX){if(dX.hasOwnProperty(dY)&&dX[dY]){return false}}return true}var cr=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;function bH(dX,d1,d0,dZ){var d2=document.createElement(dX);if(d0){d2.className=d0}if(dZ){d2.style.cssText=dZ}if(typeof d1=="string"){aZ(d2,d1)}else{if(d1){for(var dY=0;dY<d1.length;++dY){d2.appendChild(d1[dY])}}}return d2}function cR(dX){if(!ao){dX.innerHTML=""}else{while(dX.firstChild){dX.removeChild(dX.firstChild)}}return dX}function cZ(dX,dY){return cR(dX).appendChild(dY)}function aZ(dX,dY){if(ca){dX.innerHTML="";dX.appendChild(document.createTextNode(dY))}else{dX.textContent=dY}}function t(dX){return dX.getBoundingClientRect()}aq.replaceGetRect=function(dX){t=dX};var cx=function(){if(ca){return false}var dX=bH("div");return"draggable" in dX||"dragDrop" in dX}();var dq=/^$/;if(bt){dq=/$'/}else{if(by){dq=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/}else{if(aD){dq=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/}}}var bp;function co(dX){if(bp!=null){return bp}var dY=bH("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");cZ(dX,dY);if(dY.offsetWidth){bp=dY.offsetHeight-dY.clientHeight}return bp||0}var dj;function bj(dX){if(dj==null){var dY=bH("span","\u200b");cZ(dX,bH("span",[dY,document.createTextNode("x")]));if(dX.firstChild.offsetHeight!=0){dj=dY.offsetWidth<=1&&dY.offsetHeight>2&&!cb}}if(dj){return bH("span","\u200b")}else{return bH("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var cY="\n\nb".split(/\n/).length!=3?function(d2){var d3=0,dX=[],d1=d2.length;while(d3<=d1){var d0=d2.indexOf("\n",d3);if(d0==-1){d0=d2.length}var dZ=d2.slice(d3,d2.charAt(d0-1)=="\r"?d0-1:d0);var dY=dZ.indexOf("\r");if(dY!=-1){dX.push(dZ.slice(0,dY));d3+=dY+1}else{dX.push(dZ);d3=d0+1}}return dX}:function(dX){return dX.split(/\r\n?|\n/)};aq.splitLines=cY;var cA=window.getSelection?function(dY){try{return dY.selectionStart!=dY.selectionEnd}catch(dX){return false}}:function(dZ){try{var dX=dZ.ownerDocument.selection.createRange()}catch(dY){}if(!dX||dX.parentElement()!=dZ){return false}return dX.compareEndPoints("StartToEnd",dX)!=0};var bF=(function(){var dX=bH("div");if("oncopy" in dX){return true}dX.setAttribute("oncopy","return;");return typeof dX.oncopy=="function"})();var E={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};aq.keyNames=E;(function(){for(var dX=0;dX<10;dX++){E[dX+48]=String(dX)}for(var dX=65;dX<=90;dX++){E[dX]=String.fromCharCode(dX)}for(var dX=1;dX<=12;dX++){E[dX+111]=E[dX+63235]="F"+dX}})();function dy(dX,d2,d1,d0){if(!dX){return d0(d2,d1,"ltr")}for(var dZ=0;dZ<dX.length;++dZ){var dY=dX[dZ];if(dY.from<d1&&dY.to>d2||d2==d1&&dY.to==d2){d0(Math.max(dY.from,d2),Math.min(dY.to,d1),dY.level==1?"rtl":"ltr")}}}function cI(dX){return dX.level%2?dX.to:dX.from}function cX(dX){return dX.level%2?dX.from:dX.to}function br(dY){var dX=cq(dY);return dX?cI(dX[0]):0}function cM(dY){var dX=cq(dY);if(!dX){return dY.text.length}return cX(a8(dX))}function z(dY,d1){var dZ=dm(dY.doc,d1);var d2=aH(dY.doc,dZ);if(d2!=dZ){d1=l(d2)}var dX=cq(d2);var d0=!dX?0:dX[0].level%2?cM(d2):br(d2);return dP(d1,d0)}function T(dZ,d2){var dY,d0;while(dY=I(d0=dm(dZ.doc,d2))){d2=dY.find().to.line}var dX=cq(d0);var d1=!dX?d0.text.length:dX[0].level%2?br(d0):cM(d0);return dP(d2,d1)}function bZ(d7,dX,dZ,d3){var d5=cq(d7);if(!d5){return aV(d7,dX,dZ,d3)}var d6=d3?function(d9,d8){do{d9+=d8}while(d9>0&&cr.test(d7.text.charAt(d9)));return d9}:function(d9,d8){return d9+d8};var d0=d5[0].level;for(var d1=0;d1<d5.length;++d1){var dY=d5[d1],d4=dY.level%2==d0;if((dY.from<dX&&dY.to>dX)||(d4&&(dY.from==dX||dY.to==dX))){break}}var d2=d6(dX,dY.level%2?-dZ:dZ);while(d2!=null){if(dY.level%2==d0){if(d2<dY.from||d2>dY.to){dY=d5[d1+=dZ];d2=dY&&(dZ>0==dY.level%2?d6(dY.to,-1):d6(dY.from,1))}else{break}}else{if(d2==cI(dY)){dY=d5[--d1];d2=dY&&cX(dY)}else{if(d2==cX(dY)){dY=d5[++d1];d2=dY&&cI(dY)}else{break}}}}return d2<0||d2>d7.text.length?null:d2}function aV(dX,d1,dY,dZ){var d0=d1+dY;if(dZ){while(d0>0&&cr.test(dX.text.charAt(d0))){d0+=dY}}return d0<0||d0>dX.text.length?null:d0}var cp=(function(){var d3="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL";var d1="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr";function d0(d6){if(d6<=255){return d3.charAt(d6)}else{if(1424<=d6&&d6<=1524){return"R"}else{if(1536<=d6&&d6<=1791){return d1.charAt(d6-1536)}else{if(1792<=d6&&d6<=2220){return"r"}else{return"L"}}}}}var dX=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var d5=/[stwN]/,dZ=/[LRr]/,dY=/[Lb1n]/,d2=/[1n]/;var d4="L";return function(eg){if(!dX.test(eg)){return false}var em=eg.length,ec=[];for(var el=0,d8;el<em;++el){ec.push(d8=d0(eg.charCodeAt(el)))}for(var el=0,ef=d4;el<em;++el){var d8=ec[el];if(d8=="m"){ec[el]=ef}else{ef=d8}}for(var el=0,d6=d4;el<em;++el){var d8=ec[el];if(d8=="1"&&d6=="r"){ec[el]="n"}else{if(dZ.test(d8)){d6=d8;if(d8=="r"){ec[el]="R"}}}}for(var el=1,ef=ec[0];el<em-1;++el){var d8=ec[el];if(d8=="+"&&ef=="1"&&ec[el+1]=="1"){ec[el]="1"}else{if(d8==","&&ef==ec[el+1]&&(ef=="1"||ef=="n")){ec[el]=ef}}ef=d8}for(var el=0;el<em;++el){var d8=ec[el];if(d8==","){ec[el]="N"}else{if(d8=="%"){for(var d9=el+1;d9<em&&ec[d9]=="%";++d9){}var en=(el&&ec[el-1]=="!")||(d9<em-1&&ec[d9]=="1")?"1":"N";for(var ej=el;ej<d9;++ej){ec[ej]=en}el=d9-1}}}for(var el=0,d6=d4;el<em;++el){var d8=ec[el];if(d6=="L"&&d8=="1"){ec[el]="L"}else{if(dZ.test(d8)){d6=d8}}}for(var el=0;el<em;++el){if(d5.test(ec[el])){for(var d9=el+1;d9<em&&d5.test(ec[d9]);++d9){}var ed=(el?ec[el-1]:d4)=="L";var d7=(d9<em-1?ec[d9]:d4)=="L";var en=ed||d7?"L":"R";for(var ej=el;ej<d9;++ej){ec[ej]=en}el=d9-1}}var ek=[],eh;for(var el=0;el<em;){if(dY.test(ec[el])){var ea=el;for(++el;el<em&&dY.test(ec[el]);++el){}ek.push({from:ea,to:el,level:0})}else{var eb=el,ee=ek.length;for(++el;el<em&&ec[el]!="L";++el){}for(var ej=eb;ej<el;){if(d2.test(ec[ej])){if(eb<ej){ek.splice(ee,0,{from:eb,to:ej,level:1})}var ei=ej;for(++ej;ej<el&&d2.test(ec[ej]);++ej){}ek.splice(ee,0,{from:ei,to:ej,level:2});eb=ej}else{++ej}}if(eb<el){ek.splice(ee,0,{from:eb,to:el,level:1})}}}if(ek[0].level==1&&(eh=eg.match(/^\s+/))){ek[0].from=eh[0].length;ek.unshift({from:0,to:eh[0].length,level:0})}if(a8(ek).level==1&&(eh=eg.match(/\s+$/))){a8(ek).to-=eh[0].length;ek.push({from:em-eh[0].length,to:em,level:0})}if(ek[0].level!=a8(ek).level){ek.push({from:em,to:em,level:ek[0].level})}return ek}})();aq.version="3.1";return aq})();
;}catch(e){}
try{
Mgly={};Mgly.Timer=function(){var a=this;a.start=function(){a.t0=new Date().getTime()};a.stop=function(){var b=new Date().getTime();var c=b-a.t0;a.t0=b;return c};a.start()};Mgly.ChangeExpression=new RegExp(/(\d+(?:,\d+)?)([acd])(\d+(?:,\d+)?)/);Mgly.DiffParser=function(j){var f=[];var k=0;var c=j.split(/\n/);for(var a=0;a<c.length;++a){if(c[a].length==0){continue}var e={};var d=Mgly.ChangeExpression.exec(c[a]);if(d==null){continue}var b=d[1].split(",");e["lhs-line-from"]=b[0]-1;if(b.length==1){e["lhs-line-to"]=b[0]-1}else{e["lhs-line-to"]=b[1]-1}var g=d[3].split(",");e["rhs-line-from"]=g[0]-1;if(g.length==1){e["rhs-line-to"]=g[0]-1}else{e["rhs-line-to"]=g[1]-1}e.op=d[2];f[k++]=e}return f};Mgly.sizeOf=function(c){var b=0,a;for(a in c){if(c.hasOwnProperty(a)){b++}}return b};Mgly.LCS=function(a,b){this.x=a.replace(/[ ]{1}/g,"\n");this.y=b.replace(/[ ]{1}/g,"\n")};jQuery.extend(Mgly.LCS.prototype,{clear:function(){this.ready=0},diff:function(j,e){var f=new Mgly.diff(this.x,this.y,{ignorews:false});var k=Mgly.DiffParser(f.normal_form());var m=0,l=0;for(var b=0;b<k.length;++b){var g=k[b];if(g.op!="a"){m=f.getLines("lhs").slice(0,g["lhs-line-from"]).join(" ").length;l=g["lhs-line-to"]+1;var a=f.getLines("lhs").slice(g["lhs-line-from"],l).join(" ");if(g.op=="d"){a+=" "}else{if(m>0&&g.op=="c"){m+=1}}e(m,m+a.length)}if(g.op!="d"){m=f.getLines("rhs").slice(0,g["rhs-line-from"]).join(" ").length;l=g["rhs-line-to"]+1;var c=f.getLines("rhs").slice(g["rhs-line-from"],l).join(" ");if(g.op=="a"){c+=" "}else{if(m>0&&g.op=="c"){m+=1}}j(m,m+c.length)}}}});Mgly.CodeifyText=function(a){this._max_code=0;this._diff_codes={};this.ctxs={};this.options={ignorews:false};jQuery.extend(this,a);this.lhs=a.lhs.split("\n");this.rhs=a.rhs.split("\n")};jQuery.extend(Mgly.CodeifyText.prototype,{getCodes:function(b){if(!this.ctxs.hasOwnProperty(b)){var a=this._diff_ctx(this[b]);this.ctxs[b]=a;a.codes.length=Object.keys(a.codes).length}return this.ctxs[b].codes},getLines:function(a){return this.ctxs[a].lines},_diff_ctx:function(b){var a={i:0,codes:{},lines:b};this._codeify(b,a);return a},_codeify:function(c,b){var f=this._max_code;for(var e=0;e<c.length;++e){var a=c[e];if(this.options.ignorews){a=a.replace(/\s+/g,"")}var d=this._diff_codes[a];if(d!=undefined){b.codes[e]=d}else{this._max_code++;this._diff_codes[a]=this._max_code;b.codes[e]=this._max_code}}}});Mgly.diff=function(c,e,j){var a=jQuery.extend({ignorews:false},j);this.codeify=new Mgly.CodeifyText({lhs:c,rhs:e,options:a});var g={codes:this.codeify.getCodes("lhs"),modified:{}};var i={codes:this.codeify.getCodes("rhs"),modified:{}};var f=(g.codes.length+i.codes.length+1);var b=Array(2*f+2);var d=Array(2*f+2);this._lcs(g,0,g.codes.length,i,0,i.codes.length,d,b);this._optimize(g);this._optimize(i);this.items=this._create_diffs(g,i)};jQuery.extend(Mgly.diff.prototype,{changes:function(){return this.items},getLines:function(a){return this.codeify.getLines(a)},normal_form:function(){var b="";for(var e=0;e<this.items.length;++e){var k=this.items[e];var d="";var g="";var j="c";if(k.lhs_deleted_count==0&&k.rhs_inserted_count>0){j="a"}else{if(k.lhs_deleted_count>0&&k.rhs_inserted_count==0){j="d"}}if(k.lhs_deleted_count==1){d=k.lhs_start+1}else{if(k.lhs_deleted_count==0){d=k.lhs_start}else{d=(k.lhs_start+1)+","+(k.lhs_start+k.lhs_deleted_count)}}if(k.rhs_inserted_count==1){g=k.rhs_start+1}else{if(k.rhs_inserted_count==0){g=k.rhs_start}else{g=(k.rhs_start+1)+","+(k.rhs_start+k.rhs_inserted_count)}}b+=d+j+g+"\n";var f=this.getLines("lhs");var a=this.getLines("rhs");if(a&&f){for(var c=k.lhs_start;c<k.lhs_start+k.lhs_deleted_count;++c){b+="< "+f[c]+"\n"}if(k.rhs_inserted_count&&k.lhs_deleted_count){b+="---\n"}for(var c=k.rhs_start;c<k.rhs_start+k.rhs_inserted_count;++c){b+="> "+a[c]+"\n"}}}return b},_lcs:function(i,a,e,j,g,c,f,d){while((a<e)&&(g<c)&&(i.codes[a]==j.codes[g])){++a;++g}while((a<e)&&(g<c)&&(i.codes[e-1]==j.codes[c-1])){--e;--c}if(a==e){while(g<c){j.modified[g++]=true}}else{if(g==c){while(a<e){i.modified[a++]=true}}else{var b=this._sms(i,a,e,j,g,c,f,d);this._lcs(i,a,b.x,j,g,b.y,f,d);this._lcs(i,b.x,e,j,b.y,c,f,d)}}},_sms:function(a,l,e,o,u,p,b,f){var r=a.codes.length+o.codes.length+1;var j=l-u;var n=e-p;var v=(e-l)-(p-u);var c=(v&1)!=0;var s=r-j;var w=r-n;var m=((e-l+p-u)/2)+1;f[s+j+1]=l;b[w+n-1]=e;var z={x:0,y:0};for(var t=0;t<=m;++t){for(var q=j-t;q<=j+t;q+=2){var i,g;if(q==j-t){i=f[s+q+1]}else{i=f[s+q-1]+1;if((q<(j+t))&&(f[s+q+1]>=i)){i=f[s+q+1]}}g=i-q;while((i<e)&&(g<p)&&(a.codes[i]==o.codes[g])){i++;g++}f[s+q]=i;if(c&&(n-t<q)&&(q<n+t)){if(b[w+q]<=f[s+q]){z.x=f[s+q];z.y=f[s+q]-q;return(z)}}}for(var q=n-t;q<=n+t;q+=2){var i,g;if(q==n+t){i=b[w+q-1]}else{i=b[w+q+1]-1;if((q>n-t)&&(b[w+q-1]<i)){i=b[w+q-1]}}g=i-q;while((i>l)&&(g>u)&&(a.codes[i-1]==o.codes[g-1])){i--;g--}b[w+q]=i;if(!c&&(j-t<=q)&&(q<=j+t)){if(b[w+q]<=f[s+q]){z.x=f[s+q];z.y=f[s+q]-q;return(z)}}}}throw"the algorithm should never come here."},_optimize:function(b){var c=0,a=0;while(c<b.length){while((c<b.length)&&(b.modified[c]==undefined||b.modified[c]==false)){c++}a=c;while((a<b.length)&&(b.modified[a]==true)){a++}if((a<b.length)&&(b.ctx[c]==b.codes[a])){b.modified[c]=false;b.modified[a]=true}else{c=a}}},_create_diffs:function(c,g){var a=[];var f=0,b=0;var e=0,d=0;while(e<c.codes.length||d<g.codes.length){if((e<c.codes.length)&&(!c.modified[e])&&(d<g.codes.length)&&(!g.modified[d])){e++;d++}else{f=e;b=d;while(e<c.codes.length&&(d>=g.codes.length||c.modified[e])){e++}while(d<g.codes.length&&(e>=c.codes.length||g.modified[d])){d++}if((f<e)||(b<d)){a.push({lhs_start:f,rhs_start:b,lhs_deleted_count:e-f,rhs_inserted_count:d-b})}}}return a}});Mgly.mergely=function(b,a){if(b){this.init(b,a)}};jQuery.extend(Mgly.mergely.prototype,{name:"mergely",init:function(b,a){this.diffView=new Mgly.CodeMirrorDiffView(b,a);this.bind(b)},bind:function(a){this.diffView.bind(a)}});Mgly.CodeMirrorDiffView=function(b,a){CodeMirror.defineExtension("centerOnCursor",function(){var c=this.cursorCoords(null,"local");this.scrollTo(null,(c.y+c.yBot)/2-(this.getScrollerElement().clientHeight/2))});this.init(b,a)};jQuery.extend(Mgly.CodeMirrorDiffView.prototype,{init:function(c,b){this.settings={autoupdate:true,autoresize:true,rhs_margin:"right",lcs:true,sidebar:true,viewport:false,ignorews:false,fadein:"fast",editor_width:"400px",editor_height:"400px",resize_timeout:500,change_timeout:150,fgcolor:{a:"#4ba3fa",c:"#a3a3a3",d:"#ff7f7f"},bgcolor:"#eee",vpcolor:"rgba(0, 0, 200, 0.5)",lhs:function(d){},rhs:function(d){},loaded:function(){},_auto_width:function(d){return d},resize:function(i){var j=i?16:0;var e=jQuery(c).parent().width()+j;if(this.width=="auto"){e=this._auto_width(e)}else{e=this.width;this.editor_width=e}if(this.height=="auto"){h=jQuery(c).parent().height()}else{h=this.height;this.editor_height=h}var g=e/2-2*8-8;var d=h;var f=jQuery(c);f.find(".mergely-column").css({width:g+"px"});f.find(".mergely-column, .mergely-canvas, .mergely-margin, .mergely-column textarea, .CodeMirror-scroll, .cm-s-default").css({height:d+"px"});f.find(".mergely-canvas").css({height:d+"px"});f.find(".mergely-column textarea").css({width:g+"px"});f.css({width:e,height:h,clear:"both"});if(f.css("display")=="none"){if(this.fadein!=false){f.fadeIn(this.fadein)}else{f.show()}if(this.loaded){this.loaded()}}if(this.resized){this.resized()}},_debug:"",resized:function(){}};var a={mode:"text/plain",readOnly:false,lineWrapping:false,lineNumbers:true,gutters:["merge","CodeMirror-linenumbers"]};this.lhs_cmsettings={};this.rhs_cmsettings={};this.element=jQuery(c);if(b&&b.cmsettings){jQuery.extend(this.lhs_cmsettings,a,b.cmsettings,b.lhs_cmsettings)}if(b&&b.cmsettings){jQuery.extend(this.rhs_cmsettings,a,b.cmsettings,b.rhs_cmsettings)}if(b){jQuery.extend(this.settings,b)}this.element.bind("destroyed",jQuery.proxy(this.teardown,this));jQuery.data(c,"mergely",this)},unbind:function(){if(this.changed_timeout!=null){clearTimeout(this.changed_timeout)}this.editor[this.id+"-lhs"].toTextArea();this.editor[this.id+"-rhs"].toTextArea()},destroy:function(){this.element.unbind("destroyed",this.teardown);this.teardown()},teardown:function(){this.unbind()},lhs:function(a){this.editor[this.id+"-lhs"].setValue(a)},rhs:function(a){this.editor[this.id+"-rhs"].setValue(a)},update:function(){this._changing(this.id+"-lhs",this.id+"-rhs")},unmarkup:function(){this._clear()},scrollTo:function(c,a){var b=this.editor[this.id+"-lhs"];var d=this.editor[this.id+"-rhs"];if(c=="lhs"){b.setCursor(a);b.centerOnCursor()}else{d.setCursor(a);d.centerOnCursor()}},options:function(a){if(a){jQuery.extend(this.settings,a);if(this.settings.autoresize){this.resize()}if(this.settings.autoupdate){this.update()}if(this.settings.hasOwnProperty("rhs_margin")){if(this.settings.rhs_margin=="left"){this.element.find(".mergely-margin:last-child").insertAfter(this.element.find(".mergely-canvas"))}else{var b=this.element.find(".mergely-margin").last();b.appendTo(b.parent())}}if(this.settings.hasOwnProperty("sidebar")){if(this.settings.sidebar){jQuery(this.element).find(".mergely-margin").css({display:"block"})}else{jQuery(this.element).find(".mergely-margin").css({display:"none"})}}}else{return this.settings}},swap:function(){if(this.lhs_cmsettings.readOnly||this.rhs_cmsettings.readOnly){return}var b=this.editor[this.id+"-lhs"];var c=this.editor[this.id+"-rhs"];var a=c.getValue();c.setValue(b.getValue());b.setValue(a)},merge:function(b){var a=this.editor[this.id+"-lhs"];var c=this.editor[this.id+"-rhs"];if(b=="lhs"&&!this.lhs_cmsettings.readOnly){a.setValue(c.getValue())}else{if(!this.rhs_cmsettings.readOnly){c.setValue(a.getValue())}}},get:function(c){var a=this.editor[this.id+"-"+c];var b=a.getValue();if(b==undefined){return""}return b},clear:function(b){if(b=="lhs"&&this.lhs_cmsettings.readOnly){return}if(b=="rhs"&&this.rhs_cmsettings.readOnly){return}var a=this.editor[this.id+"-"+b];a.setValue("")},cm:function(a){return this.editor[this.id+"-"+a]},search:function(b,e,f){var a=this.editor[this.id+"-lhs"];var d=this.editor[this.id+"-rhs"];var c;if(b=="lhs"){c=a}else{c=d}f=(f=="prev")?"findPrevious":"findNext";if((c.getSelection().length==0)||(this.prev_query[b]!=e)){this.cursor[this.id]=c.getSearchCursor(e,{line:0,ch:0},false);this.prev_query[b]=e}var g=this.cursor[this.id];if(g[f]()){c.setSelection(g.from(),g.to())}else{g=c.getSearchCursor(e,{line:0,ch:0},false)}},resize:function(){this.settings.resize();this._changing(this.id+"-lhs",this.id+"-rhs");this._set_top_offset(this.id+"-lhs")},diff:function(){var a=this.editor[this.id+"-lhs"].getValue();var c=this.editor[this.id+"-rhs"].getValue();var b=new Mgly.diff(a,c,this.settings);return b.normal_form()},bind:function(d){jQuery(this.element).hide();this.id=jQuery(d).attr("id");var m=this.settings.editor_height;var b=this.settings.editor_width;this.changed_timeout=null;this.chfns={};this.chfns[this.id+"-lhs"]=[];this.chfns[this.id+"-rhs"]=[];this.prev_query=[];this.cursor=[];this._skipscroll={};this.change_exp=new RegExp(/(\d+(?:,\d+)?)([acd])(\d+(?:,\d+)?)/);var i;var o;if(jQuery.button!=undefined){i='<button title="Merge left"></button>';o='<button title="Merge right"></button>'}else{var a="opacity:0.4;width:10px;height:15px;background-color:#888;cursor:pointer;text-align:center;color:#eee;border:1px solid: #222;margin-right:5px;";i='<div style="'+a+'" title="Merge left">&lt;</div>';o='<div style="'+a+'" title="Merge right">&gt;</div>'}this.merge_rhs_button=jQuery(o);this.merge_lhs_button=jQuery(i);jQuery(this.element).append(jQuery('<div class="mergely-margin" style="height: '+m+'"><canvas id="'+this.id+'-lhs-margin" width="8px" height="'+m+'"></canvas></div>'));jQuery(this.element).append(jQuery('<div style="position:relative;width:'+b+"; height:"+m+'" id="'+this.id+'-editor-lhs" class="mergely-column"><textarea style="" id="'+this.id+'-lhs"></textarea></div>'));jQuery(this.element).append(jQuery('<div class="mergely-canvas" style="height: '+m+'"><canvas id="'+this.id+"-lhs-"+this.id+'-rhs-canvas" style="width:28px" width="28px" height="'+m+'"></canvas></div>'));var c=jQuery('<div class="mergely-margin" style="height: '+m+'"><canvas id="'+this.id+'-rhs-margin" width="8px" height="'+m+'"></canvas></div>');if(!this.settings.sidebar){jQuery(this.element).find(".mergely-margin").css({display:"none"})}if(this.settings.rhs_margin=="left"){jQuery(this.element).append(c)}jQuery(this.element).append(jQuery('<div style="width:'+b+"; height:"+m+'" id="'+this.id+'-editor-rhs" class="mergely-column"><textarea style="" id="'+this.id+'-rhs"></textarea></div>'));if(this.settings.rhs_margin!="left"){jQuery(this.element).append(c)}var e="#"+this.id+" .CodeMirror-gutter-text { padding: 5px 0 0 0; }#"+this.id+" .CodeMirror-lines pre, #"+this.id+" .CodeMirror-gutter-text pre { line-height: 18px; }.CodeMirror-linewidget { overflow: hidden; };";if(this.settings.autoresize){e+=this.id+" .CodeMirror-scroll { height: 100%; overflow: auto; }"}jQuery('<style type="text/css">'+e+"</style>").appendTo("head");var f=jQuery("#"+this.id+"-rhs").get(0);if(!f){console.error("rhs textarea not defined - Mergely not initialized properly");return}var l=jQuery("#"+this.id+"-lhs").get(0);if(!f){console.error("lhs textarea not defined - Mergely not initialized properly");return}var n=this;this.editor=[];this.editor[this.id+"-lhs"]=CodeMirror.fromTextArea(l,this.lhs_cmsettings);this.editor[this.id+"-rhs"]=CodeMirror.fromTextArea(f,this.rhs_cmsettings);this.editor[this.id+"-lhs"].on("change",function(){if(n.settings.autoupdate){n._changing(n.id+"-lhs",n.id+"-rhs")}});this.editor[this.id+"-lhs"].on("scroll",function(){n._scrolling(n.id+"-lhs")});this.editor[this.id+"-rhs"].on("change",function(){if(n.settings.autoupdate){n._changing(n.id+"-lhs",n.id+"-rhs")}});this.editor[this.id+"-rhs"].on("scroll",function(){n._scrolling(n.id+"-rhs")});if(this.settings.autoresize){var k=null;var j=function(p){if(n.settings.resize){n.settings.resize(p)}n.editor[n.id+"-lhs"].refresh();n.editor[n.id+"-rhs"].refresh();if(n.settings.autoupdate){n._changing(n.id+"-lhs",n.id+"-rhs")}};jQuery(window).resize(function(){if(k){clearTimeout(k)}k=setTimeout(j,n.settings.resize_timeout)});j(true)}if(this.settings.lhs){var g=this.editor[this.id+"-lhs"].getDoc().setValue;this.settings.lhs(g.bind(this.editor[this.id+"-lhs"].getDoc()))}if(this.settings.rhs){var g=this.editor[this.id+"-rhs"].getDoc().setValue;this.settings.rhs(g.bind(this.editor[this.id+"-rhs"].getDoc()))}},_scrolling:function(e){if(this._skipscroll[e]===true){this._skipscroll[e]=false;return}var p=jQuery(this.editor[e].getScrollerElement());if(this.midway==undefined){this.midway=(p.height()/2+p.offset().top).toFixed(2)}var k=this.editor[e].coordsChar({left:0,top:this.midway});var d=p.scrollTop();var l=p.scrollLeft();this.trace("scroll","side",e);this.trace("scroll","midway",this.midway);this.trace("scroll","midline",k);this.trace("scroll","top_to",d);this.trace("scroll","left_to",l);var b=this.id+"-lhs";var t=this.id+"-rhs";for(var s in this.editor){if(!this.editor.hasOwnProperty(s)){continue}if(e==s){continue}var o=e.replace(this.id+"-","");var f=s.replace(this.id+"-","");var q=0;var a=null;var r=false;for(var m=0;m<this.changes.length;++m){var j=this.changes[m];if((k.line>=j[o+"-line-from"])){a=j;if(k.line>=a[o+"-line-to"]){if(!j.hasOwnProperty(o+"-y-start")||!j.hasOwnProperty(o+"-y-end")||!j.hasOwnProperty(f+"-y-start")||!j.hasOwnProperty(f+"-y-end")){r=true}else{q+=(j[o+"-y-end"]-j[o+"-y-start"])-(j[f+"-y-end"]-j[f+"-y-start"])}}}}var n=this.editor[s].getViewport();var c=true;if(a){this.trace("scroll","last change before midline",a);if(k.line>=n.from&&k<=n.to){c=false}}this.trace("scroll","scroll",c);if(c||r){this.trace("scroll","scrolling other side",d-q);var p=jQuery(this.editor[s].getScrollerElement());this._skipscroll[s]=true;p.scrollTop(d-q).scrollLeft(l)}else{this.trace("scroll","not scrolling other side")}if(this.settings.autoupdate){var g=new Mgly.Timer();this._calculate_offsets(b,t,this.changes);this.trace("change","offsets time",g.stop());this._markup_changes(b,t,this.changes);this.trace("change","markup time",g.stop());this._draw_diff(b,t,this.changes);this.trace("change","draw time",g.stop())}this.trace("scroll","scrolled")}},_changing:function(c,b){this.trace("change","changing-timeout",this.changed_timeout);var a=this;if(this.changed_timeout!=null){clearTimeout(this.changed_timeout)}this.changed_timeout=setTimeout(function(){var d=new Mgly.Timer();a._changed(c,b);a.trace("change","total time",d.stop())},this.settings.change_timeout)},_changed:function(b,a){this._clear();this._diff(b,a)},_clear:function(){var b=this;for(var c in this.editor){if(!this.editor.hasOwnProperty(c)){continue}var f=this.editor[c];var e=b.chfns[c];f.operation(function(){var n=new Mgly.Timer();for(var k=0,j=f.lineCount();k<j;++k){f.removeLineClass(k,"background")}for(var k=0;k<e.length;++k){var m=e[k];if(m.lines.length){b.trace("change","clear text",m.lines[0].text)}m.clear()}f.clearGutter("merge");b.trace("change","clear time",n.stop())})}b.chfns[c]=[];var d=this._draw_info(this.id+"-lhs",this.id+"-rhs");var i=d.clhs.get(0).getContext("2d");var g=d.crhs.get(0).getContext("2d");var a=d.dcanvas.getContext("2d");i.beginPath();i.fillStyle=this.settings.bgcolor;i.strokeStyle="#888";i.fillRect(0,0,6.5,d.visible_page_height);i.strokeRect(0,0,6.5,d.visible_page_height);g.beginPath();g.fillStyle=this.settings.bgcolor;g.strokeStyle="#888";g.fillRect(0,0,6.5,d.visible_page_height);g.strokeRect(0,0,6.5,d.visible_page_height);a.beginPath();a.fillStyle="#fff";a.fillRect(0,0,this.draw_mid_width,d.visible_page_height)},_diff:function(c,b){var a=this.editor[c].getValue();var g=this.editor[b].getValue();var f=new Mgly.Timer();var e=new Mgly.diff(a,g,this.settings);this.trace("change","diff time",f.stop());this.changes=Mgly.DiffParser(e.normal_form());this.trace("change","parse time",f.stop());this._calculate_offsets(c,b,this.changes);this.trace("change","offsets time",f.stop());this._markup_changes(c,b,this.changes);this.trace("change","markup time",f.stop());this._draw_diff(c,b,this.changes);this.trace("change","draw time",f.stop())},_parse_diff:function(b,a,l){this.trace("diff","diff results:\n",l);var j=[];var m=0;var e=l.split(/\n/);for(var c=0;c<e.length;++c){if(e[c].length==0){continue}var g={};var f=this.change_exp.exec(e[c]);if(f==null){continue}var d=f[1].split(",");g["lhs-line-from"]=d[0]-1;if(d.length==1){g["lhs-line-to"]=d[0]-1}else{g["lhs-line-to"]=d[1]-1}var k=f[3].split(",");g["rhs-line-from"]=k[0]-1;if(k.length==1){g["rhs-line-to"]=k[0]-1}else{g["rhs-line-to"]=k[1]-1}if(g["lhs-line-from"]<0){g["lhs-line-from"]=0}if(g["lhs-line-to"]<0){g["lhs-line-to"]=0}if(g["rhs-line-from"]<0){g["rhs-line-from"]=0}if(g["rhs-line-to"]<0){g["rhs-line-to"]=0}g.op=f[2];j[m++]=g;this.trace("diff","change",g)}return j},_get_viewport:function(c,b){var d=this.editor[c].getViewport();var a=this.editor[b].getViewport();return{from:Math.min(d.from,a.from),to:Math.max(d.to,a.to)}},_is_change_in_view:function(a,b){if(!this.settings.viewport){return true}if((b["lhs-line-from"]<a.from&&b["lhs-line-to"]<a.to)||(b["lhs-line-from"]>a.from&&b["lhs-line-to"]>a.to)||(b["rhs-line-from"]<a.from&&b["rhs-line-to"]<a.to)||(b["rhs-line-from"]>a.from&&b["rhs-line-to"]>a.to)){return false}return true},_set_top_offset:function(b){var d=this.editor[b].getScrollInfo().top;this.editor[b].scrollTo(null,0);var c=jQuery("#"+this.id+" .CodeMirror-measure").first();var a=c.offset().top-4;if(!a){return false}this.editor[b].scrollTo(null,d);this.draw_top_offset=0.5-a;return true},_calculate_offsets:function(a,z,y){if(this.em_height==null){if(!this._set_top_offset(a)){return}this.em_height=this.editor[a].defaultTextHeight();if(!this.em_height){console.warn("Failed to calculate offsets, using 18 by default");this.em_height=18}this.draw_lhs_min=0.5;var w=jQuery("#"+a+"-"+z+"-canvas");if(!w.length){console.error("failed to find canvas","#"+a+"-"+z+"-canvas")}if(!w.width()){console.error("canvas width is 0");return}this.draw_mid_width=jQuery("#"+a+"-"+z+"-canvas").width();this.draw_rhs_max=this.draw_mid_width-0.5;this.draw_lhs_width=5;this.draw_rhs_width=5;this.trace("calc","change offsets calculated",{top_offset:this.draw_top_offset,lhs_min:this.draw_lhs_min,rhs_max:this.draw_rhs_max,lhs_width:this.draw_lhs_width,rhs_width:this.draw_rhs_width})}var n=this.editor[a].charCoords({line:0});var f=this.editor[z].charCoords({line:0});var v=this._get_viewport(a,z);for(var t=0;t<y.length;++t){var l=y[t];if(!this.settings.sidebar&&!this._is_change_in_view(v,l)){delete l["lhs-y-start"];delete l["lhs-y-end"];delete l["rhs-y-start"];delete l["rhs-y-end"];continue}var e=l["lhs-line-from"]>=0?l["lhs-line-from"]:0;var b=l["lhs-line-to"]>=0?l["lhs-line-to"]:0;var r=l["rhs-line-from"]>=0?l["rhs-line-from"]:0;var j=l["rhs-line-to"]>=0?l["rhs-line-to"]:0;var d,p,g,q;if(this.editor[a].getOption("lineWrapping")){var m=this.editor[a].cursorCoords({line:e,ch:0},"page");var s=this.editor[a].getLineHandle(e);d={top:m.top,bottom:m.top+s.height};var u=this.editor[a].cursorCoords({line:b,ch:0},"page");var x=this.editor[a].getLineHandle(b);p={top:u.top,bottom:u.top+x.height};var m=this.editor[z].cursorCoords({line:r,ch:0},"page");var k=this.editor[z].getLineHandle(r);g={top:m.top,bottom:m.top+k.height};var u=this.editor[z].cursorCoords({line:j,ch:0},"page");var o=this.editor[z].getLineHandle(j);q={top:u.top,bottom:u.top+o.height}}else{d={top:n.top+e*this.em_height,bottom:n.bottom+e*this.em_height+2};p={top:n.top+b*this.em_height,bottom:n.bottom+b*this.em_height+2};g={top:f.top+r*this.em_height,bottom:f.bottom+r*this.em_height+2};q={top:f.top+j*this.em_height,bottom:f.bottom+j*this.em_height+2}}if(l.op=="a"){if(r>0){d.top=d.bottom;d.bottom+=this.em_height;p=d}}else{if(l.op=="d"){if(e>0){g.top=g.bottom;g.bottom+=this.em_height;q=g}}}l["lhs-y-start"]=this.draw_top_offset+d.top;if(l.op=="c"||l.op=="d"){l["lhs-y-end"]=this.draw_top_offset+p.bottom}else{l["lhs-y-end"]=this.draw_top_offset+p.top}l["rhs-y-start"]=this.draw_top_offset+g.top;if(l.op=="c"||l.op=="a"){l["rhs-y-end"]=this.draw_top_offset+q.bottom}else{l["rhs-y-end"]=this.draw_top_offset+q.top}this.trace("calc","change calculated",t,l)}return y},_markup_changes:function(a,H,E){jQuery(".merge-button").remove();var s=this;var G=this.editor[a];var l=this.editor[H];var r=new Mgly.Timer();G.operation(function(){for(var J=0;J<E.length;++J){var M=E[J];var K=M["lhs-line-from"]>=0?M["lhs-line-from"]:0;var O=M["lhs-line-to"]>=0?M["lhs-line-to"]:0;var N=M["rhs-line-from"]>=0?M["rhs-line-from"]:0;var p=M["rhs-line-to"]>=0?M["rhs-line-to"]:0;var L=["mergely","lhs",M.op,"cid-"+J];G.addLineClass(K,"background","start");G.addLineClass(O,"background","end");if(K==0&&O==0&&N==0){G.addLineClass(K,"background",L.join(" "));G.addLineClass(K,"background","first")}else{for(var I=K;I<=O;++I){G.addLineClass(I,"background",L.join(" "));G.addLineClass(I,"background",L.join(" "))}}if(!l.getOption("readOnly")){var k=s.merge_rhs_button.clone();if(k.button){k.button({icons:{primary:"ui-icon-triangle-1-e"},text:false})}k.addClass("merge-button");k.attr("id","merge-rhs-"+J);G.setGutterMarker(K,"merge",k.get(0))}}});var C=this._get_viewport(a,H);this.trace("change","markup lhs-editor time",r.stop());l.operation(function(){for(var I=0;I<E.length;++I){var M=E[I];var J=M["lhs-line-from"]>=0?M["lhs-line-from"]:0;var O=M["lhs-line-to"]>=0?M["lhs-line-to"]:0;var N=M["rhs-line-from"]>=0?M["rhs-line-from"]:0;var k=M["rhs-line-to"]>=0?M["rhs-line-to"]:0;if(!s._is_change_in_view(C,M)){continue}var K=["mergely","rhs",M.op,"cid-"+I];l.addLineClass(N,"background","start");l.addLineClass(k,"background","end");if(N==0&&k==0&&J==0){l.addLineClass(N,"background",K.join(" "));l.addLineClass(N,"background","first")}else{for(var p=N;p<=k;++p){l.addLineClass(p,"background",K.join(" "));l.addLineClass(p,"background",K.join(" "))}}if(!G.getOption("readOnly")){var L=s.merge_lhs_button.clone();if(L.button){L.button({icons:{primary:"ui-icon-triangle-1-w"},text:false})}L.addClass("merge-button");L.attr("id","merge-lhs-"+I);l.setGutterMarker(N,"merge",L.get(0))}}});this.trace("change","markup rhs-editor time",r.stop());var w=[];for(var B=0;this.settings.lcs&&B<E.length;++B){var q=E[B];var m=q["lhs-line-from"]>=0?q["lhs-line-from"]:0;var b=q["lhs-line-to"]>=0?q["lhs-line-to"]:0;var v=q["rhs-line-from"]>=0?q["rhs-line-from"]:0;var n=q["rhs-line-to"]>=0?q["rhs-line-to"]:0;if(!this._is_change_in_view(C,q)){continue}if(q.op=="d"){var y=m;var d=b;var c=G.lineInfo(d);if(c){w.push([G,{line:y,ch:0},{line:d,ch:c.text.length},{className:"mergely ch d lhs"}])}}else{if(q.op=="c"){for(var z=m,x=v,t=0;((z>=0)&&(z<=b))||((x>=0)&&(x<=n));++z,++x){if(x+t>n){var D=G.getLine(z);w.push([G,{line:z,ch:0},{line:z,ch:D.length},{className:"mergely ch d lhs"}]);continue}if(z+t>b){var o=l.getLine(x);w.push([l,{line:x,ch:0},{line:x,ch:o.length},{className:"mergely ch a rhs"}]);continue}var D=G.getLine(z);var o=l.getLine(x);var A={line:-1,ch:-1};var f={line:-1,ch:-1};var e={line:-1,ch:-1};var u={line:-1,ch:-1};var F=new Mgly.LCS(D,o);F.diff(function(j,i){w.push([l,{line:x,ch:j},{line:x,ch:i},{className:"mergely ch a rhs"}])},removed=function(j,i){w.push([G,{line:z,ch:j},{line:z,ch:i},{className:"mergely ch d lhs"}])})}}}}this.trace("change","LCS marktext time",r.stop());G.operation(function(){for(var k=0;k<w.length;++k){var j=w[k];if(j[0].doc.id!=G.getDoc().id){continue}s.chfns[s.id+"-lhs"].push(j[0].markText(j[1],j[2],j[3]))}});l.operation(function(){for(var k=0;k<w.length;++k){var j=w[k];if(j[0].doc.id!=l.getDoc().id){continue}s.chfns[s.id+"-rhs"].push(j[0].markText(j[1],j[2],j[3]))}});this.trace("change","LCS markup time",r.stop());var g={lhs:G,rhs:l};jQuery(".merge-button").on("click",function(L){var I="rhs";var R="lhs";var O=jQuery(this).parents("#"+s.id+"-editor-lhs");if(O.length){I="lhs";R="rhs"}var J=g[I].coordsChar({left:L.pageX,top:L.pageY});var p=null;var j=g[I].lineInfo(J.line);jQuery.each(j.bgClass.split(" "),function(T,S){if(S.indexOf("cid-")==0){p=parseInt(S.split("-")[1],10);return false}});var K=s.changes[p];var Q={lhs:g.lhs.lineInfo(b),rhs:g.rhs.lineInfo(n)};var P=g[I].getRange(CodeMirror.Pos(K[I+"-line-from"],0),CodeMirror.Pos(K[I+"-line-to"]+1,0));if(K.op=="c"){g[R].replaceRange(P,CodeMirror.Pos(K[R+"-line-from"],0),CodeMirror.Pos(K[R+"-line-to"]+1,0))}else{if(I=="rhs"){if(K.op=="a"){g[R].replaceRange(P,CodeMirror.Pos(K[R+"-line-from"]+1,0),CodeMirror.Pos(K[R+"-line-to"]+1,0))}else{var N=parseInt(K[R+"-line-from"]);var M=parseInt(K[R+"-line-to"]);for(var k=M;k>=N;--k){g[R].removeLine(k)}}}else{if(I=="lhs"){if(K.op=="a"){var N=parseInt(K[R+"-line-from"]);var M=parseInt(K[R+"-line-to"]);for(var k=M;k>=N;--k){g[R].removeLine(k)}}else{g[R].replaceRange(P,CodeMirror.Pos(K[R+"-line-from"]+1,0))}}}}g.lhs.setValue(g.lhs.getValue());g.rhs.setValue(g.rhs.getValue());return false});this.trace("change","markup buttons time",r.stop())},_draw_info:function(c,b){var d=jQuery(this.editor[c].getScrollerElement()).height();var e=jQuery(this.editor[c].getScrollerElement()).children(":first-child").height();var g=document.getElementById(c+"-"+b+"-canvas");if(g==undefined){throw"Failed to find: "+c+"-"+b+"-canvas"}var a=jQuery("#"+this.id+"-lhs-margin");var f=jQuery("#"+this.id+"-rhs-margin");return{visible_page_height:d,gutter_height:e,visible_page_ratio:(d/e),margin_ratio:(d/e),lhs_scroller:jQuery(this.editor[c].getScrollerElement()),rhs_scroller:jQuery(this.editor[b].getScrollerElement()),lhs_lines:this.editor[c].lineCount(),rhs_lines:this.editor[b].lineCount(),dcanvas:g,clhs:a,crhs:f,lhs_xyoffset:jQuery(a).offset(),rhs_xyoffset:jQuery(f).offset()}},_draw_diff:function(a,E,D){var A=this._draw_info(a,E);var c=A.clhs.get(0);var n=A.crhs.get(0);var u=A.dcanvas.getContext("2d");var l=c.getContext("2d");var s=n.getContext("2d");this.trace("draw","visible_page_height",A.visible_page_height);this.trace("draw","gutter_height",A.gutter_height);this.trace("draw","visible_page_ratio",A.visible_page_ratio);this.trace("draw","lhs-scroller-top",A.lhs_scroller.scrollTop());this.trace("draw","rhs-scroller-top",A.rhs_scroller.scrollTop());jQuery.each(jQuery.find("#"+this.id+" canvas"),function(){jQuery(this).get(0).height=A.visible_page_height});A.clhs.unbind("click");A.crhs.unbind("click");l.beginPath();l.fillStyle=this.settings.bgcolor;l.strokeStyle="#888";l.fillRect(0,0,6.5,A.visible_page_height);l.strokeRect(0,0,6.5,A.visible_page_height);s.beginPath();s.fillStyle=this.settings.bgcolor;s.strokeStyle="#888";s.fillRect(0,0,6.5,A.visible_page_height);s.strokeRect(0,0,6.5,A.visible_page_height);var z=this._get_viewport(a,E);for(var y=0;y<D.length;++y){var p=D[y];this.trace("draw",p);var e=((p["lhs-y-start"]+A.lhs_scroller.scrollTop())*A.visible_page_ratio);var r=((p["lhs-y-end"]+A.lhs_scroller.scrollTop())*A.visible_page_ratio)+1;var t=((p["rhs-y-start"]+A.rhs_scroller.scrollTop())*A.visible_page_ratio);var C=((p["rhs-y-end"]+A.rhs_scroller.scrollTop())*A.visible_page_ratio)+1;this.trace("draw","marker calculated",e,r,t,C);l.beginPath();l.fillStyle=this.settings.fgcolor[p.op];l.strokeStyle="#000";l.lineWidth=0.5;l.fillRect(1.5,e,4.5,Math.max(r-e,5));l.strokeRect(1.5,e,4.5,Math.max(r-e,5));s.beginPath();s.fillStyle=this.settings.fgcolor[p.op];s.strokeStyle="#000";s.lineWidth=0.5;s.fillRect(1.5,t,4.5,Math.max(C-t,5));s.strokeRect(1.5,t,4.5,Math.max(C-t,5));if(!this._is_change_in_view(z,p)){continue}e=p["lhs-y-start"];r=p["lhs-y-end"];t=p["rhs-y-start"];C=p["rhs-y-end"];var k=3;u.beginPath();u.strokeStyle=this.settings.fgcolor[p.op];u.lineWidth=1;var b=this.draw_lhs_width;var v=r-e-1;var x=this.draw_lhs_min;var w=e;u.moveTo(x,w);if(navigator.appName=="Microsoft Internet Explorer"){u.lineTo(this.draw_lhs_min+this.draw_lhs_width,e);u.lineTo(this.draw_lhs_min+this.draw_lhs_width,r+1);u.lineTo(this.draw_lhs_min,r+1)}else{if(v<=0){u.lineTo(x+b,w)}else{u.arcTo(x+b,w,x+b,w+k,k);u.arcTo(x+b,w+v,x+b-k,w+v,k)}u.lineTo(x,w+v)}u.stroke();b=this.draw_rhs_width;v=C-t-1;x=this.draw_rhs_max;w=t;u.moveTo(x,w);if(navigator.appName=="Microsoft Internet Explorer"){u.lineTo(this.draw_rhs_max-this.draw_rhs_width,t);u.lineTo(this.draw_rhs_max-this.draw_rhs_width,C+1);u.lineTo(this.draw_rhs_max,C+1)}else{if(v<=0){u.lineTo(x-b,w)}else{u.arcTo(x-b,w,x-b,w+k,k);u.arcTo(x-b,w+v,x-k,w+v,k)}u.lineTo(x,w+v)}u.stroke();var g=this.draw_lhs_min+this.draw_lhs_width;var f=e+(r+1-e)/2;var q=this.draw_rhs_max-this.draw_rhs_width;var o=t+(C+1-t)/2;u.moveTo(g,f);if(f==o){u.lineTo(q,o)}else{u.bezierCurveTo(g+12,f-3,q-12,o-3,q,o)}u.stroke()}l.fillStyle=this.settings.vpcolor;s.fillStyle=this.settings.vpcolor;var B=A.clhs.height()*A.visible_page_ratio;var m=(A.lhs_scroller.scrollTop()/A.gutter_height)*A.clhs.height();var j=A.crhs.height()*A.visible_page_ratio;var d=(A.rhs_scroller.scrollTop()/A.gutter_height)*A.crhs.height();this.trace("draw","cls.height",A.clhs.height());this.trace("draw","lhs_scroller.scrollTop()",A.lhs_scroller.scrollTop());this.trace("draw","gutter_height",A.gutter_height);this.trace("draw","visible_page_ratio",A.visible_page_ratio);this.trace("draw","lhs from",m,"lhs to",B);this.trace("draw","rhs from",d,"rhs to",j);l.fillRect(1.5,m,4.5,B);s.fillRect(1.5,d,4.5,j);A.clhs.click(function(F){var G=F.pageY-A.lhs_xyoffset.top-(B/2);var i=Math.max(0,(G/c.height)*A.lhs_scroller.get(0).scrollHeight);A.lhs_scroller.scrollTop(i)});A.crhs.click(function(F){var G=F.pageY-A.rhs_xyoffset.top-(j/2);var i=Math.max(0,(G/n.height)*A.rhs_scroller.get(0).scrollHeight);A.rhs_scroller.scrollTop(i)})},trace:function(a){if(this.settings._debug.indexOf(a)>=0){arguments[0]=a+":";console.log([].slice.apply(arguments))}}});jQuery.pluginMaker=function(a){jQuery.fn[a.prototype.name]=function(c){var b=jQuery.makeArray(arguments),e=b.slice(1);var d=undefined;this.each(function(){var f=jQuery.data(this,a.prototype.name);if(f){if(typeof c=="string"){d=f[c].apply(f,e)}else{if(f.update){return f.update.apply(f,b)}}}else{new a(this,c)}});if(d!=undefined){return d}}};jQuery.pluginMaker(Mgly.mergely);
;}catch(e){}
try{
(function(a){var b=function(e,c){this.$form=a(e);this.options=a.extend({},b.DEFAULT_OPTIONS,c);this.$invalidField=null;this.$submitButton=null;this.STATUS_NOT_VALIDATED="NOT_VALIDATED";this.STATUS_VALIDATING="VALIDATING";this.STATUS_INVALID="INVALID";this.STATUS_VALID="VALID";var f=(function(){var h=3,i=document.createElement("div"),g=i.all||[];while(i.innerHTML="<!--[if gt IE "+(++h)+"]><br><![endif]-->",g[0]){}return h>4?h:!h}());var d=document.createElement("div");this._changeEvent=(f===9||!("oninput" in d))?"keyup":"input";this._submitIfValid=null;this._init()};b.DEFAULT_OPTIONS={elementClass:"bv-form",message:"输入正常的数据格式",threshold:null,excluded:[":disabled",":hidden",":not(:visible)"],feedbackIcons:{valid:"fa fa-check",invalid:"fa fa-times",validating:"fa fa-refresh"},submitButtons:'[type="submit"]',submitHandler:null,live:"enabled",fields:null};b.prototype={constructor:b,_init:function(){var e=this,l={excluded:this.$form.attr("data-bv-excluded"),trigger:this.$form.attr("data-bv-trigger"),message:this.$form.attr("data-bv-message"),submitButtons:this.$form.attr("data-bv-submitbuttons"),threshold:this.$form.attr("data-bv-threshold"),live:this.$form.attr("data-bv-live"),fields:{},feedbackIcons:{valid:this.$form.attr("data-bv-feedbackicons-valid"),invalid:this.$form.attr("data-bv-feedbackicons-invalid"),validating:this.$form.attr("data-bv-feedbackicons-validating")}},c,j,f,d,i,k,g;this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit.bv",function(m){m.preventDefault();e.validate()}).on("click",this.options.submitButtons,function(){e.$submitButton=a(this);e._submitIfValid=true}).find("[name], [data-bv-field]").each(function(){var n=a(this);if(e._isExcluded(n)){return}var p=n.attr("name")||n.attr("data-bv-field"),m={};for(j in a.fn.bootstrapValidator.validators){c=a.fn.bootstrapValidator.validators[j];f=n.attr("data-bv-"+j.toLowerCase())+"";g=("function"==typeof c.enableByHtml5)?c.enableByHtml5(a(this)):null;if((g&&f!="false")||(g!==true&&(""==f||"true"==f))){c.html5Attributes=c.html5Attributes||{message:"message"};m[j]=a.extend({},g==true?{}:g,m[j]);for(k in c.html5Attributes){d=c.html5Attributes[k];i=n.attr("data-bv-"+j.toLowerCase()+"-"+k);if(i){if("true"==i){i=true}else{if("false"==i){i=false}}m[j][d]=i}}}}var o={trigger:n.attr("data-bv-trigger"),message:n.attr("data-bv-message"),container:n.attr("data-bv-container"),selector:n.attr("data-bv-selector"),threshold:n.attr("data-bv-threshold"),validators:m};if(!a.isEmptyObject(o.validators)&&!a.isEmptyObject(o)){n.attr("data-bv-field",p);l.fields[p]=a.extend({},o,l.fields[p])}}).end().find(this.options.submitButtons).each(function(){a("<input/>").attr("type","hidden").attr("name",a(this).attr("name")).val(a(this).val()).appendTo(e.$form)});this.options=a.extend(true,this.options,l);for(var h in this.options.fields){this._initField(h)}this.setLiveMode(this.options.live)},_initField:function(p){if(this.options.fields[p]==null||this.options.fields[p].validators==null){return}var j=this.getFieldElements(p);if(j==null){delete this.options.fields[p];return}for(var e in this.options.fields[p].validators){if(!a.fn.bootstrapValidator.validators[e]){delete this.options.fields[p].validators[e]}}var k=this,m=j.attr("type"),d=("radio"==m||"checkbox"==m||"file"==m||"SELECT"==j[0].tagName)?"change":k._changeEvent,o=j.length,c=(o==1)||("radio"==m)||("checkbox"==m);for(var g=0;g<o;g++){var n=a(j[g]),f=n.parents(".form-group"),h=this.options.fields[p].container?f.find(this.options.fields[p].container):this._getMessageContainer(n);if(!n.attr("data-bv-field")){n.attr("data-bv-field",p)}n.on(d+".update.bv",function(){k._submitIfValid=false;c?k.updateStatus(p,k.STATUS_NOT_VALIDATED,null):k.updateElementStatus(a(this),k.STATUS_NOT_VALIDATED,null)});n.data("bv.messages",h);for(e in this.options.fields[p].validators){n.data("bv.result."+e,this.STATUS_NOT_VALIDATED);if(!c||g==o-1){a("<small/>").css("display","none").attr("data-bv-validator",e).attr("data-bv-validator-for",p).html(this.options.fields[p].validators[e].message||this.options.fields[p].message||this.options.message).addClass("help-block").appendTo(h)}}if(this.options.feedbackIcons&&this.options.feedbackIcons.validating&&this.options.feedbackIcons.invalid&&this.options.feedbackIcons.valid&&(!c||g==o-1)){f.addClass("has-feedback");var l=a("<i/>").css("display","none").addClass("form-control-feedback").attr("data-bv-icon-for",p).insertAfter(n);if(f.find("label").length==0){l.css("top",0)}}}if(this.options.fields[p]["enabled"]==null){this.options.fields[p]["enabled"]=true}},_getMessageContainer:function(e){var f=e.parent();if(f.hasClass("form-group")){return f}var d=f.attr("class");if(!d){return this._getMessageContainer(f)}d=d.split(" ");var g=d.length;for(var c=0;c<g;c++){if(/^col-(xs|sm|md|lg)-\d+$/.test(d[c])||/^col-(xs|sm|md|lg)-offset-\d+$/.test(d[c])){return f}}return this._getMessageContainer(f)},_submit:function(){if(!this.isValid()){if("submitted"==this.options.live){this.setLiveMode("enabled")}if(this.$invalidField){var d=this.$invalidField.parents(".tab-pane"),c;if(d&&(c=d.attr("id"))){a('a[href="#'+c+'"][data-toggle="tab"]').trigger("click.bs.tab.data-api")}this.$invalidField.focus()}return}if(this.options.submitHandler&&"function"==typeof this.options.submitHandler){this.options.submitHandler.call(this,this,this.$form,this.$submitButton)}else{this.disableSubmitButtons(true).defaultSubmit()}},_isExcluded:function(d){if(this.options.excluded){if("string"==typeof this.options.excluded){this.options.excluded=a.map(this.options.excluded.split(","),function(f){return a.trim(f)})}var e=this.options.excluded.length;for(var c=0;c<e;c++){if(("string"==typeof this.options.excluded[c]&&d.is(this.options.excluded[c]))||("function"==typeof this.options.excluded[c]&&this.options.excluded[c].call(this,d,this)==true)){return true}}}return false},_exceedThreshold:function(f){var g=f.attr("data-bv-field"),c=this.options.fields[g].threshold||this.options.threshold;if(!c){return true}var e=f.attr("type"),d=["button","checkbox","file","hidden","image","radio","reset","submit"].indexOf(e)!=-1;return(d||f.val().length>=c)},getFieldElements:function(d){var c=this.options.fields[d].selector?a(this.options.fields[d].selector):this.$form.find('[name="'+d+'"]');return(c.length==0)?null:c},setLiveMode:function(e){this.options.live=e;if("submitted"==e){return this}var c=this;for(var d in this.options.fields){(function(n){var g=c.getFieldElements(n);if(g){var l=g.attr("type"),m=g.length,o=(m==1)||("radio"==l)||("checkbox"==l),h=c.options.fields[d].trigger||c.options.trigger||(("radio"==l||"checkbox"==l||"file"==l||"SELECT"==g[0].tagName)?"change":c._changeEvent),k=a.map(h.split(" "),function(f){return f+".live.bv"}).join(" ");for(var j=0;j<m;j++){("enabled"==e)?a(g[j]).on(k,function(){if(c._exceedThreshold(a(this))){o?c.validateField(n):c.validateFieldElement(a(this),false)}}):a(g[j]).off(k)}}})(d)}return this},disableSubmitButtons:function(c){if(!c){this.$form.find(this.options.submitButtons).removeAttr("disabled")}else{if(this.options.live!="disabled"){this.$form.find(this.options.submitButtons).attr("disabled","disabled")}}return this},validate:function(){if(!this.options.fields){return this}this.disableSubmitButtons(true);for(var c in this.options.fields){this.validateField(c)}if(this.$submitButton){this._submit()}return this},validateField:function(f){var c=this.getFieldElements(f),e=c.attr("type"),g=(("radio"==e)||("checkbox"==e))?1:c.length;for(var d=0;d<g;d++){this.validateFieldElement(a(c[d]),(g==1))}return this},validateFieldElement:function(f,j){var g=this,i=f.attr("data-bv-field"),d=this.options.fields[i].validators,e,h;if(!this.options.fields[i]["enabled"]||this._isExcluded(f)){return this}for(e in d){if(f.data("bv.dfs."+e)){f.data("bv.dfs."+e).reject()}var c=f.data("bv.result."+e);if(c==this.STATUS_VALID||c==this.STATUS_INVALID){continue}f.data("bv.result."+e,this.STATUS_VALIDATING);h=a.fn.bootstrapValidator.validators[e].validate(this,f,d[e]);if("object"==typeof h){j?this.updateStatus(i,this.STATUS_VALIDATING,e):this.updateElementStatus(f,this.STATUS_VALIDATING,e);f.data("bv.dfs."+e,h);h.done(function(l,k,m){l.removeData("bv.dfs."+k);j?g.updateStatus(l.attr("data-bv-field"),m?g.STATUS_VALID:g.STATUS_INVALID,k):g.updateElementStatus(l,m?g.STATUS_VALID:g.STATUS_INVALID,k);if(m&&g._submitIfValid==true){g._submit()}})}else{if("boolean"==typeof h){j?this.updateStatus(i,h?this.STATUS_VALID:this.STATUS_INVALID,e):this.updateElementStatus(f,h?this.STATUS_VALID:this.STATUS_INVALID,e)}}}return this},updateStatus:function(h,d,g){var c=this.getFieldElements(h),f=c.attr("type"),j=(("radio"==f)||("checkbox"==f))?1:c.length;for(var e=0;e<j;e++){this.updateElementStatus(a(c[e]),d,g)}return this},updateElementStatus:function(n,i,f){var k=this,o=n.attr("data-bv-field"),g=n.parents(".form-group"),j=n.data("bv.messages"),h=j.find(".help-block[data-bv-validator]"),l=g.find('.form-control-feedback[data-bv-icon-for="'+o+'"]');if(f){n.data("bv.result."+f,i)}else{for(var q in this.options.fields[o].validators){n.data("bv.result."+q,i)}}var e=n.parents(".tab-pane"),d,p;if(e&&(d=e.attr("id"))){p=a('a[href="#'+d+'"][data-toggle="tab"]').parent()}switch(i){case this.STATUS_VALIDATING:this.disableSubmitButtons(true);g.removeClass("has-success").removeClass("has-error");f?h.filter('.help-block[data-bv-validator="'+f+'"]').hide():h.hide();if(l){l.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).addClass(this.options.feedbackIcons.validating).show()}if(p){p.removeClass("bv-tab-success").removeClass("bv-tab-error")}break;case this.STATUS_INVALID:this.disableSubmitButtons(true);g.removeClass("has-success").addClass("has-error");f?h.filter('[data-bv-validator="'+f+'"]').show():h.show();if(l){l.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.validating).addClass(this.options.feedbackIcons.invalid).show()}if(p){p.removeClass("bv-tab-success").addClass("bv-tab-error")}break;case this.STATUS_VALID:f?h.filter('[data-bv-validator="'+f+'"]').hide():h.hide();var c=(h.filter(function(){var s=a(this).css("display"),r=a(this).attr("data-bv-validator");return("block"==s)||(n.data("bv.result."+r)!=k.STATUS_VALID)}).length==0);this.disableSubmitButtons(!c);if(l){l.removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).removeClass(this.options.feedbackIcons.valid).addClass(c?this.options.feedbackIcons.valid:this.options.feedbackIcons.invalid).show()}var m=function(r){return r.find(".help-block[data-bv-validator]").filter(function(){var t=a(this).css("display"),s=a(this).attr("data-bv-validator");return("block"==t)||(n.data("bv.result."+s)&&n.data("bv.result."+s)!=k.STATUS_VALID)}).length==0};g.removeClass("has-error has-success").addClass(m(g)?"has-success":"has-error");if(p){p.removeClass("bv-tab-success").removeClass("bv-tab-error").addClass(m(e)?"bv-tab-success":"bv-tab-error")}break;case this.STATUS_NOT_VALIDATED:default:this.disableSubmitButtons(false);g.removeClass("has-success").removeClass("has-error");f?h.filter('.help-block[data-bv-validator="'+f+'"]').hide():h.hide();if(l){l.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).hide()}if(p){p.removeClass("bv-tab-success").removeClass("bv-tab-error")}break}return this},isValid:function(){var c,j,h,g,d,f,k,e;for(j in this.options.fields){if(this.options.fields[j]==null||!this.options.fields[j]["enabled"]){continue}c=this.getFieldElements(j);g=c.attr("type");k=(("radio"==g)||("checkbox"==g))?1:c.length;for(e=0;e<k;e++){h=a(c[e]);if(this._isExcluded(h)){continue}for(f in this.options.fields[j].validators){d=h.data("bv.result."+f);if(d==this.STATUS_NOT_VALIDATED||d==this.STATUS_VALIDATING){return false}if(d==this.STATUS_INVALID){this.$invalidField=h;return false}}}}return true},defaultSubmit:function(){this.$form.off("submit.bv").submit()},resetForm:function(f){var j,c,h,g,e;for(j in this.options.fields){c=this.getFieldElements(j);h=c.length;for(var d=0;d<h;d++){for(e in this.options.fields[j].validators){a(c[d]).removeData("bv.dfs."+e)}}this.updateStatus(j,this.STATUS_NOT_VALIDATED,null);if(f){g=c.attr("type");("radio"==g||"checkbox"==g)?c.removeAttr("checked").removeAttr("selected"):c.val("")}}this.$invalidField=null;this.$submitButton=null;this.disableSubmitButtons(false);return this},enableFieldValidators:function(d,c){this.options.fields[d]["enabled"]=c;this.updateStatus(d,this.STATUS_NOT_VALIDATED,null);return this}};a.fn.bootstrapValidator=function(c){var d=arguments;return this.each(function(){var g=a(this),f=g.data("bootstrapValidator"),e="object"==typeof c&&c;if(!f){f=new b(this,e);g.data("bootstrapValidator",f)}if("string"==typeof c){f[c].apply(f,Array.prototype.slice.call(d,1))}})};a.fn.bootstrapValidator.validators={};a.fn.bootstrapValidator.Constructor=b;a.fn.bootstrapValidator.helpers={date:function(i,g,j,k){if(i<1000||i>9999||g==0||g>12){return false}var d=[31,28,31,30,31,30,31,31,30,31,30,31];if(i%400==0||(i%100!=0&&i%4==0)){d[1]=29}if(j<0||j>d[g-1]){return false}if(k===true){var c=new Date(),e=c.getFullYear(),h=c.getMonth(),f=c.getDate();return(i<e||(i==e&&g-1<h)||(i==e&&g-1==h&&j<f))}return true},luhn:function(f){var e=f.length,g=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],c=0;while(e--){c+=d[g][parseInt(f.charAt(e),10)];g^=1}return(c%10===0&&c>0)},mod_11_10:function(f){var c=5,e=f.length;for(var d=0;d<e;d++){c=(((c||10)*2)%11+parseInt(f.charAt(d),10))%10}return(c==1)},mod_37_36:function(g,h){h=h||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";var d=h.length,f=g.length,c=Math.floor(d/2);for(var e=0;e<f;e++){c=(((c||d)*2)%(d+1)+h.indexOf(g.charAt(e)))%d}return(c==1)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.base64={validate:function(c,d,b){var e=d.val();if(e==""){return true}return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/.test(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.between={html5Attributes:{message:"message",min:"min",max:"max",inclusive:"inclusive"},enableByHtml5:function(b){if("range"==b.attr("type")){return{min:b.attr("min"),max:b.attr("max")}}return false},validate:function(c,d,b){var e=d.val();if(e==""){return true}e=parseFloat(e);return(b.inclusive===true)?(e>b.min&&e<b.max):(e>=b.min&&e<=b.max)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.callback={validate:function(d,e,c){var f=e.val();if(c.callback&&"function"==typeof c.callback){var b=new a.Deferred();b.resolve(e,"callback",c.callback.call(this,f,d));return b}return true}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.choice={html5Attributes:{message:"message",min:"min",max:"max"},validate:function(c,d,b){var e=d.is("select")?c.getFieldElements(d.attr("data-bv-field")).find("option").filter(":selected").length:c.getFieldElements(d.attr("data-bv-field")).filter(":checked").length;if((b.min&&e<b.min)||(b.max&&e>b.max)){return false}return true}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.creditCard={validate:function(d,f,b){var g=f.val();if(g==""){return true}if(/[^0-9-\s]+/.test(g)){return false}g=g.replace(/\D/g,"");if(!a.fn.bootstrapValidator.helpers.luhn(g)){return false}var h={AMERICAN_EXPRESS:{length:[15],prefix:["34","37"]},DINERS_CLUB:{length:[14],prefix:["300","301","302","303","304","305","36"]},DINERS_CLUB_US:{length:[16],prefix:["54","55"]},DISCOVER:{length:[16],prefix:["6011","622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925","644","645","646","647","648","649","65"]},JCB:{length:[16],prefix:["3528","3529","353","354","355","356","357","358"]},LASER:{length:[16,17,18,19],prefix:["6304","6706","6771","6709"]},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:["5018","5020","5038","6304","6759","6761","6762","6763","6764","6765","6766"]},MASTERCARD:{length:[16],prefix:["51","52","53","54","55"]},SOLO:{length:[16,18,19],prefix:["6334","6767"]},UNIONPAY:{length:[16,17,18,19],prefix:["622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925"]},VISA:{length:[16],prefix:["4"]}};var e,c;for(e in h){for(c in h[e]["prefix"]){if(g.substr(0,h[e]["prefix"][c].length)==h[e]["prefix"][c]&&h[e]["length"].indexOf(g.length)!=-1){return true}}}return false}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.cusip={validate:function(b,g,k){var h=g.val();if(h==""){return true}h=h.toUpperCase();if(!/^[0-9A-Z]{9}$/.test(h)){return false}var j=a.map(h.split(""),function(l){var i=l.charCodeAt(0);return(i>="A".charCodeAt(0)&&i<="Z".charCodeAt(0))?(i-"A".charCodeAt(0)+10):l}),c=j.length,f=0;for(var d=0;d<c-1;d++){var e=parseInt(j[d]);if(d%2!=0){e*=2}if(e>9){e-=9}f+=e}f=(10-(f%10))%10;return f==j[c-1]}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.cvv={html5Attributes:{message:"message",ccfield:"creditCardField"},validate:function(c,g,k){var j=g.val();if(j==""){return true}if(!/^[0-9]{3,4}$/.test(j)){return false}if(!k.creditCardField){return true}var h=c.getFieldElements(k.creditCardField).val();if(h==""){return true}h=h.replace(/\D/g,"");var b={AMERICAN_EXPRESS:{length:[15],prefix:["34","37"]},DINERS_CLUB:{length:[14],prefix:["300","301","302","303","304","305","36"]},DINERS_CLUB_US:{length:[16],prefix:["54","55"]},DISCOVER:{length:[16],prefix:["6011","622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925","644","645","646","647","648","649","65"]},JCB:{length:[16],prefix:["3528","3529","353","354","355","356","357","358"]},LASER:{length:[16,17,18,19],prefix:["6304","6706","6771","6709"]},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:["5018","5020","5038","6304","6759","6761","6762","6763","6764","6765","6766"]},MASTERCARD:{length:[16],prefix:["51","52","53","54","55"]},SOLO:{length:[16,18,19],prefix:["6334","6767"]},UNIONPAY:{length:[16,17,18,19],prefix:["622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925"]},VISA:{length:[16],prefix:["4"]}};var f,e,d=null;for(f in b){for(e in b[f]["prefix"]){if(h.substr(0,b[f]["prefix"][e].length)==b[f]["prefix"][e]&&b[f]["length"].indexOf(h.length)!=-1){d=f;break}}}return(d==null)?false:(("AMERICAN_EXPRESS"==d)?(j.length==4):(j.length==3))}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.date={html5Attributes:{message:"message",format:"format"},validate:function(e,l,c){var k=l.val();if(k==""){return true}c.format=c.format||"MM/DD/YYYY";var f=c.format.split(" "),m=f[0],b=(f.length>1)?f[1]:null,q=(f.length>2)?f[2]:null,j=k.split(" "),r=j[0],g=(j.length>1)?j[1]:null;if(f.length!=j.length){return false}var d=(r.indexOf("/")!=-1)?"/":((r.indexOf("-")!=-1)?"-":null);if(d==null){return false}r=r.split(d);m=m.split(d);var h=r[m.indexOf("YYYY")],s=r[m.indexOf("MM")],o=r[m.indexOf("DD")];var n=null,p=null,i=null;if(b){b=b.split(":"),g=g.split(":");if(b.length!=g.length){return false}p=g.length>0?g[0]:null;n=g.length>1?g[1]:null;i=g.length>2?g[2]:null;if(i){i=parseInt(i,10);if(i<0||i>60){return false}}if(p){p=parseInt(p,10);if(p<0||p>=24||(q&&p>12)){return false}}if(n){n=parseInt(n,10);if(n<0||n>59){return false}}}o=parseInt(o,10);s=parseInt(s,10);h=parseInt(h,10);return a.fn.bootstrapValidator.helpers.date(h,s,o)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.different={html5Attributes:{message:"message",field:"field"},validate:function(d,e,c){var f=e.val();if(f==""){return true}var b=d.getFieldElements(c.field);if(b==null){return true}if(f!=b.val()){d.updateStatus(c.field,d.STATUS_VALID,"different");return true}else{return false}}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.digits={validate:function(c,d,b){var e=d.val();if(e==""){return true}return/^\d+$/.test(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.ean={validate:function(d,f,b){var j=f.val();if(j==""){return true}if(!/^(\d{8}|\d{12}|\d{13})$/.test(j)){return false}var g=j.length,e=0,h=(g==8)?[3,1]:[1,3];for(var c=0;c<g-1;c++){e+=parseInt(j.charAt(c))*h[c%2]}e=10-e%10;return(e==j.charAt(g-1))}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.emailAddress={enableByHtml5:function(b){return("email"==b.attr("type"))},validate:function(c,d,b){var e=d.val();if(e==""){return true}var f=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return f.test(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.file={html5Attributes:{extension:"extension",maxsize:"maxSize",message:"message",type:"type"},validate:function(c,k,m){var l=k.val();if(l==""){return true}var d,h=m.extension?m.extension.split(","):null,g=m.type?m.type.split(","):null,f=(window.File&&window.FileList&&window.FileReader);if(f){var b=k.get(0).files,j=b.length;for(var e=0;e<j;e++){if(m.maxSize&&b[e].size>parseInt(m.maxSize)){return false}d=b[e].name.substr(b[e].name.lastIndexOf(".")+1);if(h&&h.indexOf(d)==-1){return false}if(g&&g.indexOf(b[e].type)==-1){return false}}}else{d=l.substr(l.lastIndexOf(".")+1);if(h&&h.indexOf(d)==-1){return false}}return true}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.greaterThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(c){var b=c.attr("min");if(b){return{value:b}}return false},validate:function(c,d,b){var e=d.val();if(e==""){return true}e=parseFloat(e);return(b.inclusive===true)?(e>b.value):(e>=b.value)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.grid={validate:function(c,d,b){var e=d.val();if(e==""){return true}e=e.toUpperCase();if(!/^[GRID:]*([0-9A-Z]{2})[-\s]*([0-9A-Z]{5})[-\s]*([0-9A-Z]{10})[-\s]*([0-9A-Z]{1})$/g.test(e)){return false}e=e.replace(/\s/g,"").replace(/-/g,"");if("GRID:"==e.substr(0,5)){e=e.substr(5)}return a.fn.bootstrapValidator.helpers.mod_37_36(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.hex={validate:function(c,d,b){var e=d.val();if(e==""){return true}return/^[0-9a-fA-F]+$/.test(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.hexColor={enableByHtml5:function(b){return("color"==b.attr("type"))},validate:function(c,d,b){var e=d.val();if(e==""){return true}return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.iban={html5Attributes:{message:"message",country:"country"},validate:function(b,g,k){var h=g.val();if(h==""){return true}var f={AD:"AD[0-9]{2}[0-9]{4}[0-9]{4}[A-Z0-9]{12}",AE:"AE[0-9]{2}[0-9]{3}[0-9]{16}",AL:"AL[0-9]{2}[0-9]{8}[A-Z0-9]{16}",AO:"AO[0-9]{2}[0-9]{21}",AT:"AT[0-9]{2}[0-9]{5}[0-9]{11}",AZ:"AZ[0-9]{2}[A-Z]{4}[A-Z0-9]{20}",BA:"BA[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{8}[0-9]{2}",BE:"BE[0-9]{2}[0-9]{3}[0-9]{7}[0-9]{2}",BF:"BF[0-9]{2}[0-9]{23}",BG:"BG[0-9]{2}[A-Z]{4}[0-9]{4}[0-9]{2}[A-Z0-9]{8}",BH:"BH[0-9]{2}[A-Z]{4}[A-Z0-9]{14}",BI:"BI[0-9]{2}[0-9]{12}",BJ:"BJ[0-9]{2}[A-Z]{1}[0-9]{23}",BR:"BR[0-9]{2}[0-9]{8}[0-9]{5}[0-9]{10}[A-Z][A-Z0-9]",CH:"CH[0-9]{2}[0-9]{5}[A-Z0-9]{12}",CI:"CI[0-9]{2}[A-Z]{1}[0-9]{23}",CM:"CM[0-9]{2}[0-9]{23}",CR:"CR[0-9]{2}[0-9]{3}[0-9]{14}",CV:"CV[0-9]{2}[0-9]{21}",CY:"CY[0-9]{2}[0-9]{3}[0-9]{5}[A-Z0-9]{16}",CZ:"CZ[0-9]{2}[0-9]{20}",DE:"DE[0-9]{2}[0-9]{8}[0-9]{10}",DK:"DK[0-9]{2}[0-9]{14}",DO:"DO[0-9]{2}[A-Z0-9]{4}[0-9]{20}",DZ:"DZ[0-9]{2}[0-9]{20}",EE:"EE[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{11}[0-9]{1}",ES:"ES[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{1}[0-9]{1}[0-9]{10}",FI:"FI[0-9]{2}[0-9]{6}[0-9]{7}[0-9]{1}",FO:"FO[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",FR:"FR[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",GB:"GB[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",GE:"GE[0-9]{2}[A-Z]{2}[0-9]{16}",GI:"GI[0-9]{2}[A-Z]{4}[A-Z0-9]{15}",GL:"GL[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",GR:"GR[0-9]{2}[0-9]{3}[0-9]{4}[A-Z0-9]{16}",GT:"GT[0-9]{2}[A-Z0-9]{4}[A-Z0-9]{20}",HR:"HR[0-9]{2}[0-9]{7}[0-9]{10}",HU:"HU[0-9]{2}[0-9]{3}[0-9]{4}[0-9]{1}[0-9]{15}[0-9]{1}",IE:"IE[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",IL:"IL[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{13}",IR:"IR[0-9]{2}[0-9]{22}",IS:"IS[0-9]{2}[0-9]{4}[0-9]{2}[0-9]{6}[0-9]{10}",IT:"IT[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",JO:"JO[0-9]{2}[A-Z]{4}[0-9]{4}[0]{8}[A-Z0-9]{10}",KW:"KW[0-9]{2}[A-Z]{4}[0-9]{22}",KZ:"KZ[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LB:"LB[0-9]{2}[0-9]{4}[A-Z0-9]{20}",LI:"LI[0-9]{2}[0-9]{5}[A-Z0-9]{12}",LT:"LT[0-9]{2}[0-9]{5}[0-9]{11}",LU:"LU[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LV:"LV[0-9]{2}[A-Z]{4}[A-Z0-9]{13}",MC:"MC[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",MD:"MD[0-9]{2}[A-Z0-9]{20}",ME:"ME[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",MG:"MG[0-9]{2}[0-9]{23}",MK:"MK[0-9]{2}[0-9]{3}[A-Z0-9]{10}[0-9]{2}",ML:"ML[0-9]{2}[A-Z]{1}[0-9]{23}",MR:"MR13[0-9]{5}[0-9]{5}[0-9]{11}[0-9]{2}",MT:"MT[0-9]{2}[A-Z]{4}[0-9]{5}[A-Z0-9]{18}",MU:"MU[0-9]{2}[A-Z]{4}[0-9]{2}[0-9]{2}[0-9]{12}[0-9]{3}[A-Z]{3}",MZ:"MZ[0-9]{2}[0-9]{21}",NL:"NL[0-9]{2}[A-Z]{4}[0-9]{10}",NO:"NO[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{1}",PK:"PK[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",PL:"PL[0-9]{2}[0-9]{8}[0-9]{16}",PS:"PS[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",PT:"PT[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{11}[0-9]{2}",QA:"QA[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",RO:"RO[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",RS:"RS[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",SA:"SA[0-9]{2}[0-9]{2}[A-Z0-9]{18}",SE:"SE[0-9]{2}[0-9]{3}[0-9]{16}[0-9]{1}",SI:"SI[0-9]{2}[0-9]{5}[0-9]{8}[0-9]{2}",SK:"SK[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{10}",SM:"SM[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",SN:"SN[0-9]{2}[A-Z]{1}[0-9]{23}",TN:"TN59[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",TR:"TR[0-9]{2}[0-9]{5}[A-Z0-9]{1}[A-Z0-9]{16}",VG:"VG[0-9]{2}[A-Z]{4}[0-9]{16}"};h=h.replace(/[^a-zA-Z0-9]/g,"").toUpperCase();var d=k.country||h.substr(0,2);if(!f[d]){return false}if(!(new RegExp("^"+f[d]+"$")).test(h)){return false}h=h.substr(4)+h.substr(0,4);h=a.map(h.split(""),function(l){var i=l.charCodeAt(0);return(i>="A".charCodeAt(0)&&i<="Z".charCodeAt(0))?(i-"A".charCodeAt(0)+10):l});h=h.join("");var j=parseInt(h.substr(0,1),10),c=h.length;for(var e=1;e<c;++e){j=(j*10+parseInt(h.substr(e,1),10))%97}return(j==1)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.id={html5Attributes:{message:"message",country:"country"},validate:function(c,d,b){var e=d.val();if(e==""){return true}var f=b.country||e.substr(0,2),g=["_",f.toLowerCase()].join("");if(this[g]&&"function"==typeof this[g]){return this[g](e)}return true},_validateJMBG:function(l,e){if(!/^\d{13}$/.test(l)){return false}var j=parseInt(l.substr(0,2),10),g=parseInt(l.substr(2,2),10),h=parseInt(l.substr(4,3),10),c=parseInt(l.substr(7,2),10),b=parseInt(l.substr(12,1),10);if(j>31||g>12){return false}var f=0;for(var d=0;d<6;d++){f+=(7-d)*(parseInt(l.charAt(d))+parseInt(l.charAt(d+6)))}f=11-f%11;if(f==10||f==11){f=0}if(f!=b){return false}switch(e.toUpperCase()){case"BA":return(10<=c&&c<=19);case"MK":return(41<=c&&c<=49);case"ME":return(20<=c&&c<=29);case"RS":return(70<=c&&c<=99);case"SI":return(50<=c&&c<=59);default:return true}},_ba:function(b){return this._validateJMBG(b,"BA")},_mk:function(b){return this._validateJMBG(b,"MK")},_me:function(b){return this._validateJMBG(b,"ME")},_rs:function(b){return this._validateJMBG(b,"RS")},_si:function(b){return this._validateJMBG(b,"SI")},_bg:function(g){if(!/^\d{10}$/.test(g)&&!/^\d{6}\s\d{3}\s\d{1}$/.test(g)){return false}g=g.replace(/\s/g,"");var e=parseInt(g.substr(0,2),10)+1900,h=parseInt(g.substr(2,2),10),b=parseInt(g.substr(4,2),10);if(h>40){e+=100;h-=40}else{if(h>20){e-=100;h-=20}}if(!a.fn.bootstrapValidator.helpers.date(e,h,b)){return false}var d=0,f=[2,4,8,5,10,9,7,3,6];for(var c=0;c<9;c++){d+=parseInt(g.charAt(c))*f[c]}d=(d%11)%10;return(d==g.substr(9,1))},_br:function(e){if(/^1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11}|0{11}$/.test(e)){return false}if(!/^\d{11}$/.test(e)&&!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(e)){return false}e=e.replace(/\./g,"").replace(/-/g,"");var d=0;for(var b=0;b<9;b++){d+=(10-b)*parseInt(e.charAt(b))}d=11-d%11;if(d==10||d==11){d=0}if(d!=e.charAt(9)){return false}var c=0;for(b=0;b<10;b++){c+=(11-b)*parseInt(e.charAt(b))}c=11-c%11;if(c==10||c==11){c=0}return(c==e.charAt(10))},_ch:function(f){if(!/^756[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{2}$/.test(f)){return false}f=f.replace(/\D/g,"").substr(3);var d=f.length,c=0,e=(d==8)?[3,1]:[1,3];for(var b=0;b<d-1;b++){c+=parseInt(f.charAt(b))*e[b%2]}c=10-c%10;return(c==f.charAt(d-1))},_cl:function(e){if(!/^\d{7,8}[-]{0,1}[0-9K]$/.test(e)){return false}e=e.replace(/\D/g,"");while(e.length<9){e="0"+e}var c=0,d=[3,2,7,6,5,4,3,2];for(var b=0;b<8;b++){c+=parseInt(e.charAt(b))*d[b]}c=11-c%11;if(c==11){c=0}else{if(c==10){c="K"}}return c==e.charAt(8)},_cz:function(e){if(!/^\d{9,10}$/.test(e)){return false}var d=1900+parseInt(e.substr(0,2)),f=parseInt(e.substr(2,2))%50%20,c=parseInt(e.substr(4,2));if(e.length==9){if(d>=1980){d-=100}if(d>1953){return false}}else{if(d<1954){d+=100}}if(!a.fn.bootstrapValidator.helpers.date(d,f,c)){return false}if(e.length==10){var b=parseInt(e.substr(0,9),10)%11;if(d<1985){b=b%10}return(b==e.substr(9,1))}return true},_dk:function(d){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(d)){return false}d=d.replace(/-/g,"");var b=parseInt(d.substr(0,2),10),e=parseInt(d.substr(2,2),10),c=parseInt(d.substr(4,2),10);switch(true){case ("5678".indexOf(d.charAt(6))!=-1&&c>=58):c+=1800;break;case ("0123".indexOf(d.charAt(6))!=-1):case ("49".indexOf(d.charAt(6))!=-1&&c>=37):c+=1900;break;default:c+=2000;break}return a.fn.bootstrapValidator.helpers.date(c,e,b)},_ee:function(b){return this._lt(b)},_es:function(d){if(!/^[0-9A-Z]{8}[-]{0,1}[0-9A-Z]$/.test(d)&&!/^[XYZ][-]{0,1}[0-9]{7}[-]{0,1}[0-9A-Z]$/.test(d)){return false}d=d.replace(/-/g,"");var c="XYZ".indexOf(d.charAt(0));if(c!=-1){d=c+d.substr(1)+""}var b=parseInt(d.substr(0,8),10);b="TRWAGMYFPDXBNJZSQVHLCKE"[b%23];return(b==d.substr(8,1))},_fi:function(f){if(!/^[0-9]{6}[-+A][0-9]{3}[0-9ABCDEFHJKLMNPRSTUVWXY]$/.test(f)){return false}var c=parseInt(f.substr(0,2),10),g=parseInt(f.substr(2,2),10),d=parseInt(f.substr(4,2),10),e={"+":1800,"-":1900,A:2000};d=e[f.charAt(6)]+d;if(!a.fn.bootstrapValidator.helpers.date(d,g,c)){return false}var b=parseInt(f.substr(7,3));if(b<2){return false}var h=f.substr(0,6)+f.substr(7,3)+"";h=parseInt(h);return"0123456789ABCDEFHJKLMNPRSTUVWXY".charAt(h%31)==f.charAt(10)},_hr:function(b){if(!/^[0-9]{11}$/.test(b)){return false}return a.fn.bootstrapValidator.helpers.mod_11_10(b)},_ie:function(c){if(!/^\d{7}[A-W][AHWTX]?$/.test(c)){return false}var b=function(f){while(f.length<7){f="0"+f}var g="WABCDEFGHIJKLMNOPQRSTUV",e=0;for(var d=0;d<7;d++){e+=parseInt(f.charAt(d))*(8-d)}e+=9*g.indexOf(f.substr(7));return g[e%23]};if(c.length==9&&("A"==c.charAt(8)||"H"==c.charAt(8))){return c.charAt(7)==b(c.substr(0,7)+c.substr(8)+"")}else{return c.charAt(7)==b(c.substr(0,7))}},_is:function(g){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(g)){return false}g=g.replace(/-/g,"");var b=parseInt(g.substr(0,2),10),h=parseInt(g.substr(2,2),10),e=parseInt(g.substr(4,2),10),j=parseInt(g.charAt(9));e=(j==9)?(1900+e):((20+j)*100+e);if(!a.fn.bootstrapValidator.helpers.date(e,h,b,true)){return false}var d=0,f=[3,2,7,6,5,4,3,2];for(var c=0;c<8;c++){d+=parseInt(g.charAt(c))*f[c]}d=11-d%11;return(d==g.charAt(8))},_lt:function(k){if(!/^[0-9]{11}$/.test(k)){return false}var j=parseInt(k.charAt(0)),g=parseInt(k.substr(1,2),10),f=parseInt(k.substr(3,2),10),h=parseInt(k.substr(5,2),10),c=(j%2==0)?(17+j/2):(17+(j+1)/2);g=c*100+g;if(!a.fn.bootstrapValidator.helpers.date(g,f,h,true)){return false}var e=0,d=[1,2,3,4,5,6,7,8,9,1];for(var b=0;b<10;b++){e+=parseInt(k.charAt(b))*d[b]}e=e%11;if(e!=10){return e==k.charAt(10)}e=0;d=[3,4,5,6,7,8,9,1,2,3];for(b=0;b<10;b++){e+=parseInt(k.charAt(b))*d[b]}e=e%11;if(e==10){e=0}return(e==k.charAt(10))},_lv:function(g){if(!/^[0-9]{6}[-]{0,1}[0-9]{5}$/.test(g)){return false}g=g.replace(/\D/g,"");var b=parseInt(g.substr(0,2)),h=parseInt(g.substr(2,2)),e=parseInt(g.substr(4,2));e=e+1800+parseInt(g.charAt(6))*100;if(!a.fn.bootstrapValidator.helpers.date(e,h,b,true)){return false}var d=0,f=[10,5,8,4,2,1,6,3,7,9];for(var c=0;c<10;c++){d+=parseInt(g.charAt(c))*f[c]}d=(d+1)%11%10;return(d==g.charAt(10))},_nl:function(e){while(e.length<9){e="0"+e}if(!/^[0-9]{4}[.]{0,1}[0-9]{2}[.]{0,1}[0-9]{3}$/.test(e)){return false}e=e.replace(/\./g,"");if(parseInt(e,10)==0){return false}var c=0,d=e.length;for(var b=0;b<d-1;b++){c+=(9-b)*parseInt(e.charAt(b))}c=c%11;if(c==10){c=0}return(c==e.charAt(d-1))},_ro:function(l){if(!/^[0-9]{13}$/.test(l)){return false}var k=parseInt(l.charAt(0));if(k==0||k==7||k==8){return false}var h=parseInt(l.substr(1,2),10),f=parseInt(l.substr(3,2),10),j=parseInt(l.substr(5,2),10),g={"1":1900,"2":1900,"3":1800,"4":1800,"5":2000,"6":2000};if(j>31&&f>12){return false}if(k!=9){h=g[k+""]+h;if(!a.fn.bootstrapValidator.helpers.date(h,f,j)){return false}}var e=0,d=[2,7,9,1,4,6,3,5,8,2,7,9],b=l.length;for(var c=0;c<b-1;c++){e+=parseInt(l.charAt(c))*d[c]}e=e%11;if(e==10){e=1}return(e==l.charAt(b-1))},_se:function(d){if(!/^[0-9]{10}$/.test(d)&&!/^[0-9]{6}[-|+][0-9]{4}$/.test(d)){return false}d=d.replace(/[^0-9]/g,"");var c=parseInt(d.substr(0,2))+1900,e=parseInt(d.substr(2,2)),b=parseInt(d.substr(4,2));if(!a.fn.bootstrapValidator.helpers.date(c,e,b)){return false}return a.fn.bootstrapValidator.helpers.luhn(d)},_sk:function(b){return this._cz(b)},_sm:function(b){return/^\d{5}$/.test(b)},_za:function(e){if(!/^[0-9]{10}[0|1][8|9][0-9]$/.test(e)){return false}var d=parseInt(e.substr(0,2)),c=new Date().getFullYear()%100,f=parseInt(e.substr(2,2)),b=parseInt(e.substr(4,2));d=(d>=c)?(d+1900):(d+2000);if(!a.fn.bootstrapValidator.helpers.date(d,f,b)){return false}return a.fn.bootstrapValidator.helpers.luhn(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.identical={html5Attributes:{message:"message",field:"field"},validate:function(d,e,c){var f=e.val();if(f==""){return true}var b=d.getFieldElements(c.field);if(b==null){return true}if(f==b.val()){d.updateStatus(c.field,d.STATUS_VALID,"identical");return true}else{return false}}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.imei={validate:function(c,d,b){var e=d.val();if(e==""){return true}switch(true){case /^\d{15}$/.test(e):case /^\d{2}-\d{6}-\d{6}-\d{1}$/.test(e):case /^\d{2}\s\d{6}\s\d{6}\s\d{1}$/.test(e):e=e.replace(/[^0-9]/g,"");return a.fn.bootstrapValidator.helpers.luhn(e);break;case /^\d{14}$/.test(e):case /^\d{16}$/.test(e):case /^\d{2}-\d{6}-\d{6}(|-\d{2})$/.test(e):case /^\d{2}\s\d{6}\s\d{6}(|\s\d{2})$/.test(e):return true;default:return false}}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.integer={enableByHtml5:function(b){return("number"==b.attr("type"))},validate:function(c,d,b){var e=d.val();if(e==""){return true}return/^(?:-?(?:0|[1-9][0-9]*))$/.test(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.ip={html5Attributes:{message:"message",ipv4:"ipv4",ipv6:"ipv6"},validate:function(c,d,b){var e=d.val();if(e==""){return true}b=a.extend({},{ipv4:true,ipv6:true},b);if(b.ipv4){return/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}else{if(b.ipv6){return/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(str)}}return false}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.isbn={validate:function(b,j,l){var k=j.val();if(k==""){return true}var h;switch(true){case /^\d{9}[\dX]$/.test(k):case (k.length==13&&/^(\d+)-(\d+)-(\d+)-([\dX])$/.test(k)):case (k.length==13&&/^(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(k)):h="ISBN10";break;case /^(978|979)\d{9}[\dX]$/.test(k):case (k.length==17&&/^(978|979)-(\d+)-(\d+)-(\d+)-([\dX])$/.test(k)):case (k.length==17&&/^(978|979)\s(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(k)):h="ISBN13";break;default:return false}k=k.replace(/[^0-9X]/gi,"");var g=k.split(""),c=g.length,e=0,f;switch(h){case"ISBN10":e=0;for(var d=0;d<c-1;d++){e+=((10-d)*parseInt(g[d]))}f=11-(e%11);if(f==11){f=0}else{if(f==10){f="X"}}return(f+""==g[c-1]);case"ISBN13":e=0;for(var d=0;d<c-1;d++){e+=((d%2==0)?parseInt(g[d]):(parseInt(g[d])*3))}f=10-(e%10);if(f==10){f="0"}return(f+""==g[c-1]);default:return false}}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.isin={COUNTRY_CODES:"AF|AX|AL|DZ|AS|AD|AO|AI|AQ|AG|AR|AM|AW|AU|AT|AZ|BS|BH|BD|BB|BY|BE|BZ|BJ|BM|BT|BO|BQ|BA|BW|BV|BR|IO|BN|BG|BF|BI|KH|CM|CA|CV|KY|CF|TD|CL|CN|CX|CC|CO|KM|CG|CD|CK|CR|CI|HR|CU|CW|CY|CZ|DK|DJ|DM|DO|EC|EG|SV|GQ|ER|EE|ET|FK|FO|FJ|FI|FR|GF|PF|TF|GA|GM|GE|DE|GH|GI|GR|GL|GD|GP|GU|GT|GG|GN|GW|GY|HT|HM|VA|HN|HK|HU|IS|IN|ID|IR|IQ|IE|IM|IL|IT|JM|JP|JE|JO|KZ|KE|KI|KP|KR|KW|KG|LA|LV|LB|LS|LR|LY|LI|LT|LU|MO|MK|MG|MW|MY|MV|ML|MT|MH|MQ|MR|MU|YT|MX|FM|MD|MC|MN|ME|MS|MA|MZ|MM|NA|NR|NP|NL|NC|NZ|NI|NE|NG|NU|NF|MP|NO|OM|PK|PW|PS|PA|PG|PY|PE|PH|PN|PL|PT|PR|QA|RE|RO|RU|RW|BL|SH|KN|LC|MF|PM|VC|WS|SM|ST|SA|SN|RS|SC|SL|SG|SX|SK|SI|SB|SO|ZA|GS|SS|ES|LK|SD|SR|SJ|SZ|SE|CH|SY|TW|TJ|TZ|TH|TL|TG|TK|TO|TT|TN|TR|TM|TC|TV|UG|UA|AE|GB|US|UM|UY|UZ|VU|VE|VN|VG|VI|WF|EH|YE|ZM|ZW",validate:function(b,k,q){var m=k.val();if(m==""){return true}m=m.toUpperCase();var l=new RegExp("^("+this.COUNTRY_CODES+")[0-9A-Z]{10}$");if(!l.test(m)){return false}var p="",e=m.length;for(var g=0;g<e-1;g++){var j=m.charCodeAt(g);p+=((j>57)?(j-55).toString():m.charAt(g))}var d="",f=p.length,o=(f%2!=0)?0:1;for(g=0;g<f;g++){d+=(parseInt(p[g])*((g%2)==o?2:1)+"")}var h=0;for(g=0;g<d.length;g++){h+=parseInt(d.charAt(g))}h=(10-(h%10))%10;return h==m.charAt(e-1)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.ismn={validate:function(b,h,k){var j=h.val();if(j==""){return true}var g;switch(true){case /^M\d{9}$/.test(j):case /^M-\d{4}-\d{4}-\d{1}$/.test(j):case /^M\s\d{4}\s\d{4}\s\d{1}$/.test(j):g="ISMN10";break;case /^9790\d{9}$/.test(j):case /^979-0-\d{4}-\d{4}-\d{1}$/.test(j):case /^979\s0\s\d{4}\s\d{4}\s\d{1}$/.test(j):g="ISMN13";break;default:return false}if("ISMN10"==g){j="9790"+j.substr(1)}j=j.replace(/[^0-9]/gi,"");var c=j.length,f=0,e=[1,3];for(var d=0;d<c-1;d++){f+=parseInt(j.charAt(d))*e[d%2]}f=10-f%10;return(f==j.charAt(c-1))}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.issn={validate:function(d,f,b){var j=f.val();if(j==""){return true}if(!/^\d{4}\-\d{3}[\dX]$/.test(j)){return false}j=j.replace(/[^0-9X]/gi,"");var h=j.split(""),g=h.length,e=0;if(h[7]=="X"){h[7]=10}for(var c=0;c<g;c++){e+=((8-c)*parseInt(h[c]))}return(e%11==0)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.lessThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(c){var b=c.attr("max");if(b){return{value:b}}return false},validate:function(c,d,b){var e=d.val();if(e==""){return true}e=parseFloat(e);return(b.inclusive===false)?(e<=b.value):(e<b.value)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.mac={validate:function(c,d,b){var e=d.val();if(e==""){return true}return/^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$/.test(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.notEmpty={enableByHtml5:function(b){var c=b.attr("required")+"";return("required"==c||"true"==c)},validate:function(c,e,b){var d=e.attr("type");if("radio"==d||"checkbox"==d){return c.getFieldElements(e.attr("data-bv-field")).filter(":checked").length>0}return a.trim(e.val())!=""||e.attr("ignore")=="ignore"}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.numeric={html5Attributes:{message:"message",separator:"separator"},validate:function(c,d,b){var e=d.val();if(e==""){return true}var f=b.separator||".";if(f!="."){e=e.replace(f,".")}return !isNaN(parseFloat(e))&&isFinite(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.phone={html5Attributes:{message:"message",country:"country"},validate:function(c,d,b){var e=d.val();if(e==""){return true}var f=(b.country||"US").toUpperCase();switch(f){case"US":default:e=e.replace(/\D/g,"");return(/^(?:(1\-?)|(\+1 ?))?\(?(\d{3})[\)\-\.]?(\d{3})[\-\.]?(\d{4})$/).test(e)&&(e.length==10)}}}}(window.jQuery));(function(d){var a={"*":/[\w\W]+/,"*6-16":/^[\w\W]{6,16}$/,n:/^\d+$/,"n6-16":/^\d{6,16}$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,"s6-18":/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{6,18}$/,p:/^[0-9]{6}$/,m:/^1[345678][0-9]{9}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/};var b=/\/.+\//g,c=/^(.+?)(\d+)-(\d+)$/;d.fn.bootstrapValidator.validators.regexp={html5Attributes:{message:"message",regexp:"regexp"},enableByHtml5:function(l){var j=l.attr("pattern");if(j){return{regexp:j}}var m=l.attr("dataType");if(!m){return false}if(b.test(m)){var e=m.match(b)[0].slice(1,-1);var g=m.replace(b,"");return{regexp:RegExp(e,g)}}else{if(!(m in a)){var i=m.match(c);if(i){for(var f in a){temp=f.match(c);if(!temp){continue}if(i[1]===temp[1]){var k=a[f].toString(),g=k.match(/\/[mgi]*/g)[1].replace("/",""),h=new RegExp("\\{"+temp[2]+","+temp[3]+"\\}","g");k=k.replace(/\/[mgi]*/g,"/").replace(h,"{"+i[2]+","+i[3]+"}").replace(/^\//,"").replace(/\/$/,"");return{regexp:new RegExp(k,g)};break}}}}else{return{regexp:a[m]}}}return false},validate:function(f,g,e){var i=g.val();if(i==""&&g.attr("ignore")=="ignore"){return true}var h=("string"==typeof e.regexp)?new RegExp(e.regexp):e.regexp;return h.test(i)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.remote={html5Attributes:{message:"message",url:"url",name:"name"},enableByHtml5:function(b){var c=b.attr("ajaxurl");if(c){return{url:c}}return false},validate:function(e,f,d){var h=f.val();if(h==""){return true}var c=f.attr("data-bv-field"),g=d.data;if(g==null){g={}}if("function"==typeof g){g=g.call(this,e)}g[d.name||c]=h;var b=new a.Deferred();var i=a.ajax({type:"POST",url:d.url,dataType:"json",data:g});i.then(function(j){b.resolve(f,"remote",j.valid===true||j.valid==="true"||j.status==="y")});b.fail(function(){i.abort()});return b}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.rtn={validate:function(d,f,b){var g=f.val();if(g==""){return true}if(!/^\d{9}$/.test(g)){return false}var e=0;for(var c=0;c<g.length;c+=3){e+=parseInt(g.charAt(c),10)*3+parseInt(g.charAt(c+1),10)*7+parseInt(g.charAt(c+2),10)}return(e!=0&&e%10==0)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.sedol={validate:function(d,f,b){var j=f.val();if(j==""){return true}j=j.toUpperCase();if(!/^[0-9A-Z]{7}$/.test(j)){return false}var e=0,h=[1,3,1,7,3,9,1],g=j.length;for(var c=0;c<g-1;c++){e+=h[c]*parseInt(j.charAt(c),36)}e=(10-e%10)%10;return e==j.charAt(g-1)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.siren={validate:function(c,d,b){var e=d.val();if(e==""){return true}if(!/^\d{9}$/.test(e)){return false}return a.fn.bootstrapValidator.helpers.luhn(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.siret={validate:function(e,g,b){var j=g.val();if(j==""){return true}var f=0,h=j.length,d;for(var c=0;c<h;c++){d=parseInt(j.charAt(c),10);if((c%2)==0){d=d*2;if(d>9){d-=9}}f+=d}return(f%10==0)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.step={html5Attributes:{message:"message",base:"baseValue",step:"step"},validate:function(e,f,c){var h=f.val();if(h==""){return true}c=a.extend({},{baseValue:0,step:1},c);h=parseFloat(h);if(isNaN(h)||!isFinite(h)){return false}var b=function(j,l){var i=Math.pow(10,l);j=j*i;var k=(j>0)|-(j<0),n=(j%1===0.5*k);if(n){return(Math.floor(j)+(k>0))/i}else{return Math.round(j)/i}},g=function(i,m){if(m==0){return 1}var l=(i+"").split("."),k=(m+"").split("."),j=((l.length==1)?0:l[1].length)+((k.length==1)?0:k[1].length);return b(i-m*Math.floor(i/m),j)};var d=g(h-c.baseValue,c.step);return(d==0||d==c.step)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.stringCase={html5Attributes:{message:"message","case":"case"},validate:function(c,d,b){var e=d.val();if(e==""){return true}var f=(b["case"]||"lower").toLowerCase();switch(f){case"upper":return e===e.toUpperCase();case"lower":default:return e===e.toLowerCase()}}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.stringLength={html5Attributes:{message:"message",min:"min",max:"max"},enableByHtml5:function(c){var b=c.attr("maxlength");if(b){return{max:parseInt(b,10)}}return false},validate:function(c,d,b){var f=d.val();if(f==""){return true}var e=a.trim(f).length;if((b.min&&e<b.min)||(b.max&&e>b.max)){return false}return true}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.uri={enableByHtml5:function(b){return("url"==b.attr("type"))},validate:function(c,d,b){var e=d.val();if(e==""){return true}var f=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/[^\\s]*)?$","i");return f.test(e)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.uuid={html5Attributes:{message:"message",version:"version"},validate:function(d,f,c){var g=f.val();if(g==""){return true}var e={"3":/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"4":/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,"5":/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},b=c.version?(c.version+""):"all";return(null==e[b])?true:e[b].test(g)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.vat={html5Attributes:{message:"message",country:"country"},validate:function(c,d,b){var e=d.val();if(e==""){return true}var f=b.country||e.substr(0,2),g=["_",f.toLowerCase()].join("");if(this[g]&&"function"==typeof this[g]){return this[g](e)}return true},_at:function(f){if(!/^ATU[0-9]{8}$/.test(f)){return false}f=f.substr(3);var d=0,e=[1,2,1,2,1,2,1],b=0;for(var c=0;c<7;c++){b=parseInt(f.charAt(c))*e[c];if(b>9){b=Math.floor(b/10)+b%10}d+=b}d=10-(d+4)%10;if(d==10){d=0}return(d==f.substr(7,1))},_be:function(c){if(!/^BE[0]{0,1}[0-9]{9}$/.test(c)){return false}c=c.substr(2);if(c.length==9){c="0"+c}if(c.substr(1,1)==0){return false}var b=parseInt(c.substr(0,8),10)+parseInt(c.substr(8,2),10);return(b%97==0)},_bg:function(g){if(!/^BG[0-9]{9,10}$/.test(g)){return false}g=g.substr(2);var e=0,d=0,f=[],c=0;if(g.length==9){for(c=0;c<8;c++){d+=parseInt(g.charAt(c))*(c+1)}d=d%11;if(d==10){d=0;for(c=0;c<8;c++){d+=parseInt(g.charAt(c))*(c+3)}}d=d%10;return(d==g.substr(8))}else{if(g.length==10){var j=function(p){var n=parseInt(p.substr(0,2),10)+1900,q=parseInt(p.substr(2,2),10),k=parseInt(p.substr(4,2),10);if(q>40){n+=100;q-=40}else{if(q>20){n-=100;q-=20}}if(!a.fn.bootstrapValidator.helpers.date(n,q,k)){return false}var m=0,o=[2,4,8,5,10,9,7,3,6];for(var l=0;l<9;l++){m+=parseInt(p.charAt(l))*o[l]}m=(m%11)%10;return(m==p.substr(9,1))},h=function(n){var l=0,m=[21,19,17,13,11,9,7,3,1];for(var k=0;k<9;k++){l+=parseInt(n.charAt(k))*m[k]}l=l%10;return(l==n.substr(9,1))},b=function(n){var l=0,m=[4,3,2,7,6,5,4,3,2];for(var k=0;k<9;k++){l+=parseInt(n.charAt(k))*m[k]}l=11-l%11;if(l==10){return false}if(l==11){l=0}return(l==n.substr(9,1))};return(j(g)||h(g)||b(g))}}return false},_ch:function(e){if(!/^CHE[0-9]{9}(MWST)?$/.test(e)){return false}e=e.substr(3);var c=0,d=[5,4,3,2,7,6,5,4];for(var b=0;b<8;b++){c+=parseInt(e.charAt(b),10)*d[b]}c=11-c%11;if(c==10){return false}if(c==11){c=0}return(c==e.substr(8,1))},_cy:function(e){if(!/^CY[0-5|9]{1}[0-9]{7}[A-Z]{1}$/.test(e)){return false}e=e.substr(2);if(e.substr(0,2)=="12"){return false}var d=0,f={"0":1,"1":0,"2":5,"3":7,"4":9,"5":13,"6":15,"7":17,"8":19,"9":21};for(var c=0;c<8;c++){var b=parseInt(e.charAt(c),10);if(c%2==0){b=f[b+""]}d+=b}d="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[d%26];return(d==e.substr(8,1))},_cz:function(g){if(!/^CZ[0-9]{8,10}$/.test(g)){return false}g=g.substr(2);var f=0,d=0;if(g.length==8){if(g.charAt(0)+""=="9"){return false}f=0;for(d=0;d<7;d++){f+=parseInt(g.charAt(d),10)*(8-d)}f=11-f%11;if(f==10){f=0}if(f==11){f=1}return(f==g.substr(7,1))}else{if(g.length==9&&(g.charAt(0)+""=="6")){f=0;for(d=0;d<7;d++){f+=parseInt(g.charAt(d+1),10)*(8-d)}f=11-f%11;if(f==10){f=0}if(f==11){f=1}f=[8,7,6,5,4,3,2,1,0,9,10][f-1];return(f==g.substr(8,1))}else{if(g.length==9||g.length==10){var e=1900+parseInt(g.substr(0,2)),h=parseInt(g.substr(2,2))%50%20,c=parseInt(g.substr(4,2));if(g.length==9){if(e>=1980){e-=100}if(e>1953){return false}}else{if(e<1954){e+=100}}if(!a.fn.bootstrapValidator.helpers.date(e,h,c)){return false}if(g.length==10){var b=parseInt(g.substr(0,9),10)%11;if(e<1985){b=b%10}return(b==g.substr(9,1))}return true}}}return false},_de:function(b){if(!/^DE[0-9]{9}$/.test(b)){return false}b=b.substr(2);return a.fn.bootstrapValidator.helpers.mod_11_10(b)},_dk:function(e){if(!/^DK[0-9]{8}$/.test(e)){return false}e=e.substr(2);var c=0,d=[2,7,6,5,4,3,2,1];for(var b=0;b<8;b++){c+=parseInt(e.charAt(b),10)*d[b]}return(c%11==0)},_ee:function(e){if(!/^EE[0-9]{9}$/.test(e)){return false}e=e.substr(2);var c=0,d=[3,7,1,3,7,1,3,7,1];for(var b=0;b<9;b++){c+=parseInt(e.charAt(b))*d[b]}return(c%10==0)},_es:function(c){if(!/^ES[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(c)){return false}c=c.substr(2);var b=function(h){var g=parseInt(h.substr(0,8),10);g="TRWAGMYFPDXBNJZSQVHLCKE"[g%23];return(g==h.substr(8,1))},f=function(h){var g=["XYZ".indexOf(h.charAt(0)),h.substr(1)].join("");g=parseInt(g,10);g="TRWAGMYFPDXBNJZSQVHLCKE"[g%23];return(g==h.substr(8,1))},d=function(m){var n=m.charAt(0),g;if("KLM".indexOf(n)!=-1){g=parseInt(m.substr(1,8),10);g="TRWAGMYFPDXBNJZSQVHLCKE"[g%23];return(g==m.substr(8,1))}else{if("ABCDEFGHJNPQRSUVW".indexOf(n)!=-1){var k=0,l=[2,1,2,1,2,1,2],h=0;for(var j=0;j<7;j++){h=parseInt(m.charAt(j+1))*l[j];if(h>9){h=Math.floor(h/10)+h%10}k+=h}k=10-k%10;return(k==m.substr(8,1)||"JABCDEFGHI"[k]==m.substr(8,1))}}return false};var e=c.charAt(0);if(/^[0-9]$/.test(e)){return b(c)}else{if(/^[XYZ]$/.test(e)){return f(c)}else{return d(c)}}},_fi:function(e){if(!/^FI[0-9]{8}$/.test(e)){return false}e=e.substr(2);var c=0,d=[7,9,10,5,8,4,2,1];for(var b=0;b<8;b++){c+=parseInt(e.charAt(b))*d[b]}return(c%11==0)},_fr:function(c){if(!/^FR[0-9A-Z]{2}[0-9]{9}$/.test(c)){return false}c=c.substr(2);if(!a.fn.bootstrapValidator.helpers.luhn(c.substr(2))){return false}if(/^[0-9]{2}$/.test(c.substr(0,2))){return c.substr(0,2)==(parseInt(c.substr(2)+"12",10)%97)}else{var d="0123456789ABCDEFGHJKLMNPQRSTUVWXYZ",b;if(/^[0-9]{1}$/.test(c.charAt(0))){b=d.indexOf(c.charAt(0))*24+d.indexOf(c.charAt(1))-10}else{b=d.indexOf(c.charAt(0))*34+d.indexOf(c.charAt(1))-100}return((parseInt(c.substr(2),10)+1+Math.floor(b/11))%11)==(b%11)}},_gb:function(h){if(!/^GB[0-9]{9}$/.test(h)&&!/^GB[0-9]{12}$/.test(h)&&!/^GBGD[0-9]{3}$/.test(h)&&!/^GBHA[0-9]{3}$/.test(h)&&!/^GB(GD|HA)8888[0-9]{5}$/.test(h)){return false}h=h.substr(2);var f=h.length;if(f==5){var c=h.substr(0,2),b=parseInt(h.substr(2));return("GD"==c&&b<500)||("HA"==c&&b>=500)}else{if(f==11&&("GD8888"==h.substr(0,6)||"HA8888"==h.substr(0,6))){if(("GD"==h.substr(0,2)&&parseInt(h.substr(6,3))>=500)||("HA"==h.substr(0,2)&&parseInt(h.substr(6,3))<500)){return false}return(parseInt(h.substr(6,3))%97==parseInt(h.substr(9,2)))}else{if(f==9||f==12){var e=0,g=[8,7,6,5,4,3,2,10,1];for(var d=0;d<9;d++){e+=parseInt(h.charAt(d))*g[d]}e=e%97;if(parseInt(h.substr(0,3))>=100){return(e==0||e==42||e==55)}else{return(e==0)}}}}return true},_gr:function(e){if(!/^GR[0-9]{9}$/.test(e)){return false}e=e.substr(2);if(e.length==8){e="0"+e}var c=0,d=[256,128,64,32,16,8,4,2];for(var b=0;b<8;b++){c+=parseInt(e.charAt(b))*d[b]}c=(c%11)%10;return(c==e.substr(8,1))},_el:function(b){if(!/^EL[0-9]{9}$/.test(b)){return false}b="GR"+b.substr(2);return this._gr(b)},_hu:function(e){if(!/^HU[0-9]{8}$/.test(e)){return false}e=e.substr(2);var c=0,d=[9,7,3,1,9,7,3,1];for(var b=0;b<8;b++){c+=parseInt(e.charAt(b))*d[b]}return(c%10==0)},_hr:function(b){if(!/^HR[0-9]{11}$/.test(b)){return false}b=b.substr(2);return a.fn.bootstrapValidator.helpers.mod_11_10(b)},_ie:function(c){if(!/^IE[0-9]{1}[0-9A-Z\*\+]{1}[0-9]{5}[A-Z]{1,2}$/.test(c)){return false}c=c.substr(2);var b=function(f){while(f.length<7){f="0"+f}var g="WABCDEFGHIJKLMNOPQRSTUV",e=0;for(var d=0;d<7;d++){e+=parseInt(f.charAt(d))*(8-d)}e+=9*g.indexOf(f.substr(7));return g[e%23]};if(/^[0-9]+$/.test(c.substr(0,7))){return c.charAt(7)==b(c.substr(0,7)+c.substr(8)+"")}else{if("ABCDEFGHIJKLMNOPQRSTUVWXYZ+*".indexOf(c.charAt(1))!=-1){return c.charAt(7)==b(c.substr(2,5)+c.substr(0,1)+"")}}return true},_it:function(c){if(!/^IT[0-9]{11}$/.test(c)){return false}c=c.substr(2);if(parseInt(c.substr(0,7))==0){return false}var b=parseInt(c.substr(7,3));if((b<1)||(b>201)&&b!=999&&b!=888){return false}return a.fn.bootstrapValidator.helpers.luhn(c)},_lt:function(f){if(!/^LT([0-9]{7}1[0-9]{1}|[0-9]{10}1[0-9]{1})$/.test(f)){return false}f=f.substr(2);var e=f.length,d=0;for(var c=0;c<e-1;c++){d+=parseInt(f.charAt(c))*(1+c%9)}var b=d%11;if(b==10){d=0;for(var c=0;c<e-1;c++){d+=parseInt(f.charAt(c))*(1+(c+2)%9)}}b=b%11%10;return(b==f.charAt(e-1))},_lu:function(b){if(!/^LU[0-9]{8}$/.test(b)){return false}b=b.substr(2);return(b.substr(0,6)%89==b.substr(6,2))},_lv:function(k){if(!/^LV[0-9]{11}$/.test(k)){return false}k=k.substr(2);var d=parseInt(k.charAt(0)),f=0,e=[],c=0,b=k.length;if(d>3){f=0;e=[9,1,4,8,3,10,2,5,7,6,1];for(c=0;c<b;c++){f+=parseInt(k.charAt(c))*e[c]}f=f%11;return(f==3)}else{var j=parseInt(k.substr(0,2)),g=parseInt(k.substr(2,2)),h=parseInt(k.substr(4,2));h=h+1800+parseInt(k.charAt(6))*100;if(!a.fn.bootstrapValidator.helpers.date(h,g,j)){return false}f=0;e=[10,5,8,4,2,1,6,3,7,9];for(c=0;c<b-1;c++){f+=parseInt(k.charAt(c))*e[c]}f=(f+1)%11%10;return(f==k.charAt(b-1))}return true},_mt:function(e){if(!/^MT[0-9]{8}$/.test(e)){return false}e=e.substr(2);var c=0,d=[3,4,6,7,8,9,10,1];for(var b=0;b<8;b++){c+=parseInt(e.charAt(b))*d[b]}return(c%37==0)},_nl:function(e){if(!/^NL[0-9]{9}B[0-9]{2}$/.test(e)){return false}e=e.substr(2);var c=0,d=[9,8,7,6,5,4,3,2];for(var b=0;b<8;b++){c+=parseInt(e.charAt(b))*d[b]}c=c%11;if(c>9){c=0}return(c==e.substr(8,1))},_no:function(e){if(!/^NO[0-9]{9}$/.test(e)){return false}e=e.substr(2);var c=0,d=[3,2,7,6,5,4,3,2];for(var b=0;b<8;b++){c+=parseInt(e.charAt(b))*d[b]}c=11-c%11;if(c==11){c=0}return(c==e.substr(8,1))},_pl:function(e){if(!/^PL[0-9]{10}$/.test(e)){return false}e=e.substr(2);var c=0,d=[6,5,7,2,3,4,5,6,7,-1];for(var b=0;b<10;b++){c+=parseInt(e.charAt(b))*d[b]}return(c%11==0)},_pt:function(e){if(!/^PT[0-9]{9}$/.test(e)){return false}e=e.substr(2);var c=0,d=[9,8,7,6,5,4,3,2];for(var b=0;b<8;b++){c+=parseInt(e.charAt(b))*d[b]}c=11-c%11;if(c>9){c=0}return(c==e.substr(8,1))},_ro:function(f){if(!/^RO[1-9][0-9]{1,9}$/.test(f)){return false}f=f.substr(2);var d=f.length,e=[7,5,3,2,1,7,5,3,2].slice(10-d),c=0;for(var b=0;b<d-1;b++){c+=parseInt(f.charAt(b))*e[b]}c=(10*c)%11%10;return(c==f.substr(d-1,1))},_ru:function(j){if(!/^RU([0-9]{9}|[0-9]{12})$/.test(j)){return false}j=j.substr(2);if(j.length==10){var g=0,h=[2,4,10,3,5,9,4,6,8,0];for(var e=0;e<10;e++){g+=parseInt(j.charAt(e))*h[e]}g=g%11;if(g>9){g=g%10}return(g==j.substr(9,1))}else{if(j.length==12){var d=0,f=[7,2,4,10,3,5,9,4,6,8,0],b=0,c=[3,7,2,4,10,3,5,9,4,6,8,0];for(var e=0;e<11;e++){d+=parseInt(j.charAt(e))*f[e];b+=parseInt(j.charAt(e))*c[e]}d=d%11;if(d>9){d=d%10}b=b%11;if(b>9){b=b%10}return(d==j.substr(10,1)&&b==j.substr(11,1))}}return false},_rs:function(e){if(!/^RS[0-9]{9}$/.test(e)){return false}e=e.substr(2);var d=10,b=0;for(var c=0;c<8;c++){b=(parseInt(e.charAt(c))+d)%10;if(b==0){b=10}d=(2*b)%11}return((d+parseInt(e.substr(8,1)))%10==1)},_se:function(b){if(!/^SE[0-9]{10}01$/.test(b)){return false}b=b.substr(2,10);return a.fn.bootstrapValidator.helpers.luhn(b)},_si:function(e){if(!/^SI[0-9]{8}$/.test(e)){return false}e=e.substr(2);var c=0,d=[8,7,6,5,4,3,2];for(var b=0;b<7;b++){c+=parseInt(e.charAt(b))*d[b]}c=11-c%11;if(c==10){c=0}return(c==e.substr(7,1))},_sk:function(b){if(!/^SK[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(b)){return false}b=b.substr(2);return(b%11==0)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.vin={validate:function(b,h,l){var k=h.val();if(k==""){return true}if(!/^[a-hj-npr-z0-9]{8}[0-9xX][a-hj-npr-z0-9]{8}$/i.test(k)){return false}k=k.toUpperCase();var g={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,J:1,K:2,L:3,M:4,N:5,P:7,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,"0":0},j=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],f=0,c=k.length;for(var d=0;d<c;d++){f+=g[k.charAt(d)+""]*j[d]}var e=f%11;if(e==10){e="X"}return e==k.charAt(8)}}}(window.jQuery));(function(a){a.fn.bootstrapValidator.validators.zipCode={html5Attributes:{message:"message",country:"country"},validate:function(c,d,b){var e=d.val();if(e==""||!b.country){return true}var f=(b.country||"US").toUpperCase();switch(f){case"CA":return/(?:A|B|C|E|G|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}(?:A|B|C|E|G|J|K|L|M|N|P|R|S|T|V|X|Y){1}\s?[0-9]{1}(?:A|B|C|E|G|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}/i.test(e);case"DK":return/^(DK(-|\s)?)?\d{4}$/i.test(e);case"GB":return this._gb(e);case"IT":return/^(I-|IT-)?\d{5}$/i.test(e);case"NL":return/^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i.test(e);case"SE":return/^(S-)?\d{3}\s?\d{2}$/i.test(e);case"US":default:return/^\d{4,5}([\-]\d{4})?$/.test(e)}},_gb:function(h){var f="[ABCDEFGHIJKLMNOPRSTUWYZ]",c="[ABCDEFGHKLMNOPQRSTUVWXY]",g="[ABCDEFGHJKPMNRSTUVWXY]",e="[ABEHMNPRVWXY]",j="[ABDEFGHJLNPQRSTUWXYZ]",b=[new RegExp("^("+f+"{1}"+c+"?[0-9]{1,2})(\\s*)([0-9]{1}"+j+"{2})$","i"),new RegExp("^("+f+"{1}[0-9]{1}"+g+"{1})(\\s*)([0-9]{1}"+j+"{2})$","i"),new RegExp("^("+f+"{1}"+c+"{1}?[0-9]{1}"+e+"{1})(\\s*)([0-9]{1}"+j+"{2})$","i"),new RegExp("^(BF1)(\\s*)([0-6]{1}[ABDEFGHJLNPQRST]{1}[ABDEFGHJLNPQRSTUWZYZ]{1})$","i"),/^(GIR)(\s*)(0AA)$/i,/^(BFPO)(\s*)([0-9]{1,4})$/i,/^(BFPO)(\s*)(c\/o\s*[0-9]{1,3})$/i,/^([A-Z]{4})(\s*)(1ZZ)$/i,/^(AI-2640)$/i];for(var d=0;d<b.length;d++){if(b[d].test(h)){return true}}return false}}}(window.jQuery));
;}catch(e){}
tinyTplList.push({sort:2, name: 'black', title: '黑色'});tinyTplList.push({sort:1, name: 'clean', title: '清爽'});tinyTplList.push({sort:6, name: 'green', title: '绿色'});tinyTplList.push({sort:5, name: 'gray', title: '灰色'});try{
(function(){function br(){var p,o=arguments,t,s={},r=function(w,v){var A,z;typeof w!=="object"&&(w={});for(z in v){v.hasOwnProperty(z)&&(A=v[z],w[z]=A&&typeof A==="object"&&Object.prototype.toString.call(A)!=="[object Array]"&&z!=="renderTo"&&typeof A.nodeType!=="number"?r(w[z]||{},A):v[z])}return w};o[0]===!0&&(s=o[1],o=Array.prototype.slice.call(o,2));t=o.length;for(p=0;p<t;p++){s=r(s,o[p])}return s}function bg(p,o){return parseInt(p,o||10)}function bU(o){return typeof o==="string"}function ad(o){return o&&typeof o==="object"}function k(o){return Object.prototype.toString.call(o)==="[object Array]"}function n(o){return typeof o==="number"}function bD(o){return aU.log(o)/aU.LN10}function aF(o){return aU.pow(10,o)}function ag(p,o){for(var r=p.length;r--;){if(p[r]===o){p.splice(r,1);break}}}function ax(o){return o!==av&&o!==null}function a9(p,o,t){var s,r;if(bU(o)){ax(t)?p.setAttribute(o,t):p&&p.getAttribute&&(r=p.getAttribute(o))}else{if(ax(o)&&ad(o)){for(s in o){p.setAttribute(s,o[s])}}}return r}function b1(o){return k(o)?o:[o]}function a5(p,o){if(c&&!aC&&o&&o.opacity!==av){o.filter="alpha(opacity="+o.opacity*100+")"}ay(p.style,o)}function bI(p,o,t,s,r){p=bn.createElement(p);o&&ay(p,o);r&&a5(p,{padding:0,border:a2,margin:0});t&&a5(p,t);s&&s.appendChild(p);return p}function j(p,o){var r=function(){return av};r.prototype=new p;ay(r.prototype,o);return r}function bY(p,o){return Array((o||2)+1-String(p).length).join(0)+p}function aR(o){return(aZ&&aZ(o)||bE||0)*60000}function bH(B,A){for(var z="{",w=!1,v,t,s,r,p,o=[];(z=B.indexOf(z))!==-1;){v=B.slice(0,z);if(w){t=v.split(":");s=t.shift().split(".");p=s.length;v=A;for(r=0;r<p;r++){v=v[s[r]]}if(t.length){t=t.join(":"),s=/\.([0-9])/,r=aX.lang,p=void 0,/f$/.test(t)?(p=(p=t.match(s))?p[1]:-1,v!==null&&(v=bp.numberFormat(v,p,r.decimalPoint,t.indexOf(",")>-1?r.thousandsSep:""))):v=b2(t,v)}}o.push(v);B=B.slice(z+1);z=(w=!w)?"}":"{"}o.push(B);return o.join("")}function bh(o){return aU.pow(10,aV(aU.log(o)/aU.LN10))}function aH(p,o,w,v,t){var s,r=p,w=az(w,1);s=p/w;o||(o=[1,2,2.5,5,10],v===!1&&(w===1?o=[1,2,5,10]:w<=0.1&&(o=[1/w])));for(v=0;v<o.length;v++){if(r=o[v],t&&r*w>=p||!t&&s<=(o[v]+(o[v+1]||o[v]))/2){break}}r*=w;return r}function ai(p,o){var t=p.length,s,r;for(r=0;r<t;r++){p[r].ss_i=r}p.sort(function(v,w){s=o(v,w);return s===0?v.ss_i-w.ss_i:s});for(r=0;r<t;r++){delete p[r].ss_i}}function bM(p){for(var o=p.length,r=p[0];o--;){p[o]<r&&(r=p[o])}return r}function be(p){for(var o=p.length,r=p[0];o--;){p[o]>r&&(r=p[o])}return r}function bu(p,o){for(var r in p){p[r]&&p[r]!==o&&p[r].destroy&&p[r].destroy(),delete p[r]}}function aO(o){aB||(aB=bI(bm));o&&aB.appendChild(o);aB.innerHTML=""}function bX(p,o){var r="Highcharts error #"+p+": www.highcharts.com/errors/"+p;if(o){throw r}a7.console&&console.log(r)}function g(p,o){return parseFloat(p.toPrecision(o||14))}function ap(p,o){o.renderer.globalAnimation=az(p,o.animation)}function bc(){var p=aX.global,o=p.useUTC,s=o?"getUTC":"get",r=o?"setUTC":"set";bO=p.Date||window.Date;bE=o&&p.timezoneOffset;aZ=o&&p.getTimezoneOffset;ac=function(t,C,B,A,z,w){var v;o?(v=bO.UTC.apply(0,arguments),v+=aR(v)):v=(new bO(t,C,az(B,1),az(A,0),az(z,0),az(w,0))).getTime();return v};l=s+"Minutes";bZ=s+"Hours";bJ=s+"Day";at=s+"Date";T=s+"Month";e=s+"FullYear";aE=r+"Milliseconds";af=r+"Seconds";i=r+"Minutes";bW=r+"Hours";bq=r+"Date";aL=r+"Month";am=r+"FullYear"}function a0(){}function G(p,o,s,r){this.axis=p;this.pos=o;this.type=s||"";this.isNew=!0;!s&&!r&&this.addLabel()}function bF(p,o,v,t,s){var r=p.chart.inverted;this.axis=p;this.isNegative=v;this.options=o;this.x=t;this.total=null;this.points={};this.stack=s;this.alignOptions={align:o.align||(r?v?"left":"right":"center"),verticalAlign:o.verticalAlign||(r?"middle":v?"bottom":"top"),y:az(o.y,r?4:v?14:-6),x:az(o.x,r?v?-6:6:0)};this.textAlign=o.textAlign||(r?v?"right":"left":"center")}var av,bn=document,a7=window,aU=Math,au=aU.round,aV=aU.floor,bL=aU.ceil,aw=aU.max,aq=aU.min,a3=aU.abs,aT=aU.cos,bz=aU.sin,bG=aU.PI,bC=bG*2/360,bw=navigator.userAgent,bk=a7.opera,c=/(msie|trident)/i.test(bw)&&!bk,f=bn.documentMode===8,bR=/AppleWebKit/.test(bw),aK=/Firefox/.test(bw),aJ=/(Mobile|Android|Windows Phone)/.test(bw),aG="http://www.w3.org/2000/svg",aC=!!bn.createElementNS&&!!bn.createElementNS(aG,"svg").createSVGRect,bK=aK&&parseInt(bw.split("Firefox/")[1],10)<4,bT=!aC&&!c&&!!bn.createElement("canvas").getContext,bQ,bo,ak={},u=0,aB,aX,b2,a,bj,bt=function(){return av},aS=[],by=0,bm="div",a2="none",bs=/^[0-9]+$/,bA=["plotTop","marginRight","marginBottom","plotLeft"],aN="stroke-width",bO,ac,bE,aZ,l,bZ,bJ,at,T,e,aE,af,i,bW,bq,aL,am,a4={},bp;bp=a7.Highcharts=a7.Highcharts?bX(16,!0):{};bp.seriesTypes=a4;var ay=bp.extend=function(p,o){var r;p||(p={});for(r in o){p[r]=o[r]}return p},az=bp.pick=function(){var p=arguments,o,s,r=p.length;for(o=0;o<r;o++){if(s=p[o],s!==av&&s!==null){return s}}},d=bp.wrap=function(p,o,s){var r=p[o];p[o]=function(){var t=Array.prototype.slice.call(arguments);t.unshift(r);return s.apply(this,t)}};b2=function(D,C,B){if(!ax(C)||isNaN(C)){return aX.lang.invalidDate||""}var D=az(D,"%Y-%m-%d %H:%M:%S"),A=new bO(C-aR(C)),z,w=A[bZ](),v=A[bJ](),t=A[at](),s=A[T](),r=A[e](),p=aX.lang,o=p.weekdays,A=ay({a:o[v].substr(0,3),A:o[v],d:bY(t),e:t,w:v,b:p.shortMonths[s],B:p.months[s],m:bY(s+1),y:r.toString().substr(2,2),Y:r,H:bY(w),k:w,I:bY(w%12||12),l:w%12||12,M:bY(A[l]()),p:w<12?"AM":"PM",P:w<12?"am":"pm",S:bY(A.getSeconds()),L:bY(au(C%1000),3)},bp.dateFormats);for(z in A){for(;D.indexOf("%"+z)!==-1;){D=D.replace("%"+z,typeof A[z]==="function"?A[z](C):A[z])}}return B?D.substr(0,1).toUpperCase()+D.substr(1):D};bj={millisecond:1,second:1000,minute:60000,hour:3600000,day:86400000,week:604800000,month:2419200000,year:31449600000};bp.numberFormat=function(p,o,w,v){var t=aX.lang,p=+p||0,s=o===-1?aq((p.toString().split(".")[1]||"").length,20):isNaN(o=a3(o))?2:o,o=w===void 0?t.decimalPoint:w,v=v===void 0?t.thousandsSep:v,t=p<0?"-":"",w=String(bg(p=a3(p).toFixed(s))),r=w.length>3?w.length%3:0;return t+(r?w.substr(0,r)+v:"")+w.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+v)+(s?o+a3(p-w).toFixed(s).slice(2):"")};a={init:function(B,A,z){var A=A||"",w=B.shift,v=A.indexOf("C")>-1,t=v?7:3,s,A=A.split(" "),z=[].concat(z),r,p,o=function(C){for(s=C.length;s--;){C[s]==="M"&&C.splice(s+1,0,C[s+1],C[s+2],C[s+1],C[s+2])}};v&&(o(A),o(z));B.isArea&&(r=A.splice(A.length-6,6),p=z.splice(z.length-6,6));if(w<=z.length/t&&A.length===z.length){for(;w--;){z=[].concat(z).splice(0,t).concat(z)}}B.shift=0;if(A.length){for(B=z.length;A.length<B;){w=[].concat(A).splice(A.length-t,t),v&&(w[t-6]=w[t-2],w[t-5]=w[t-1]),A=A.concat(w)}}r&&(A=A.concat(r),z=z.concat(p));return[A,z]},step:function(p,o,v,t){var s=[],r=p.length;if(v===1){s=t}else{if(r===o.length&&v<1){for(;r--;){t=parseFloat(p[r]),s[r]=isNaN(t)?p[r]:v*parseFloat(o[r]-t)+t}}else{s=o}}return s}};(function(o){a7.HighchartsAdapter=a7.HighchartsAdapter||o&&{init:function(p){var r=o.fx;o.extend(o.easing,{easeOutQuad:function(t,s,z,w,v){return -w*(s/=v)*(s-2)+z}});o.each(["cur","_default","width","height","opacity"],function(s,w){var v=r.step,t;w==="cur"?v=r.prototype:w==="_default"&&o.Tween&&(v=o.Tween.propHooks[w],w="set");(t=v[w])&&(v[w]=function(z){var A,z=s?z:this;if(z.prop!=="align"){return A=z.elem,A.attr?A.attr(z.prop,w==="cur"?av:z.now):t.apply(this,arguments)}})});d(o.cssHooks.opacity,"get",function(t,s,v){return s.attr?s.opacity||0:t.call(this,s,v)});this.addAnimSetter("d",function(s){var v=s.elem,t;if(!s.started){t=p.init(v,v.d,v.toD),s.start=t[0],s.end=t[1],s.started=!0}v.attr("d",p.step(s.start,s.end,s.pos,v.toD))});this.each=Array.prototype.forEach?function(t,s){return Array.prototype.forEach.call(t,s)}:function(t,s){var w,v=t.length;for(w=0;w<v;w++){if(s.call(t[w],t[w],w,t)===!1){return w}}};o.fn.highcharts=function(){var t="Chart",s=arguments,w,v;if(this[0]){bU(s[0])&&(t=s[0],s=Array.prototype.slice.call(s,1));w=s[0];if(w!==av){w.chart=w.chart||{},w.chart.renderTo=this[0],new bp[t](w,s[1]),v=this}w===av&&(v=aS[a9(this[0],"data-highcharts-chart")])}return v}},addAnimSetter:function(p,r){o.Tween?o.Tween.propHooks[p]={set:r}:o.fx.step[p]=r},getScript:o.getScript,inArray:o.inArray,adapterRun:function(p,r){return o(p)[r]()},grep:o.grep,map:function(p,v){for(var t=[],s=0,r=p.length;s<r;s++){t[s]=v.call(p[s],p[s],s,p)}return t},offset:function(p){return o(p).offset()},addEvent:function(p,s,r){o(p).bind(s,r)},removeEvent:function(p,t,s){var r=bn.removeEventListener?"removeEventListener":"detachEvent";bn[r]&&p&&!p[r]&&(p[r]=function(){});o(p).unbind(t,s)},fireEvent:function(p,z,w,v){var t=o.Event(z),s="detached"+z,r;!c&&w&&(delete w.layerX,delete w.layerY,delete w.returnValue);ay(t,w);p[z]&&(p[s]=p[z],p[z]=null);o.each(["preventDefault","stopPropagation"],function(B,A){var C=t[A];t[A]=function(){try{C.call(t)}catch(D){A==="preventDefault"&&(r=!0)}}});o(p).trigger(t);p[s]&&(p[z]=p[s],p[s]=null);v&&!t.isDefaultPrevented()&&!r&&v(t)},washMouseEvent:function(p){var r=p.originalEvent||p;if(r.pageX===av){r.pageX=p.pageX,r.pageY=p.pageY}return r},animate:function(p,t,s){var r=o(p);if(!p.style){p.style={}}if(t.d){p.toD=t.d,t.d=1}r.stop();t.opacity!==av&&p.attr&&(t.opacity+="px");p.hasAnim=1;r.animate(t,s)},stop:function(p){p.hasAnim&&o(p).stop()}}})(a7.jQuery);var aW=a7.HighchartsAdapter,bl=aW||{};aW&&aW.init.call(aW,a);var a6=bl.adapterRun,ao=bl.getScript,al=bl.inArray,aA=bp.each=bl.each,aD=bl.grep,y=bl.offset,bP=bl.map,bf=bl.addEvent,aQ=bl.removeEvent,bd=bl.fireEvent,b=bl.washMouseEvent,ae=bl.animate,h=bl.stop;aX={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.8/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.8/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":bp.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1000}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:aC,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:aJ?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"",href:"",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var a1=aX.plotOptions,aW=a1.line;bc();var bN=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,bv=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,aP=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,bi=function(p){var o=[],s,r;(function(t){t&&t.stops?r=bP(t.stops,function(v){return bi(v[1])}):(s=bN.exec(t))?o=[bg(s[1]),bg(s[2]),bg(s[3]),parseFloat(s[4],10)]:(s=bv.exec(t))?o=[bg(s[1],16),bg(s[2],16),bg(s[3],16),1]:(s=aP.exec(t))&&(o=[bg(s[1]),bg(s[2]),bg(s[3]),1])})(p);return{get:function(v){var t;r?(t=br(p),t.stops=[].concat(t.stops),aA(r,function(z,w){t.stops[w]=[t.stops[w][0],z.get(v)]})):t=o&&!isNaN(o[0])?v==="rgb"?"rgb("+o[0]+","+o[1]+","+o[2]+")":v==="a"?o[3]:"rgba("+o.join(",")+")":p;return t},brighten:function(t){if(r){aA(r,function(w){w.brighten(t)})}else{if(n(t)&&t!==0){var v;for(v=0;v<3;v++){o[v]+=bg(t*255),o[v]<0&&(o[v]=0),o[v]>255&&(o[v]=255)}}}return this},rgba:o,setOpacity:function(t){o[3]=t;return this},raw:p}};a0.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(p,o){this.element=o==="span"?bI(o):bn.createElementNS(aG,o);this.renderer=p},animate:function(p,o,r){o=az(o,this.renderer.globalAnimation,!0);h(this);if(o){o=br(o,{});if(r){o.complete=r}ae(this,p,o)}else{this.attr(p,null,r)}return this},colorGradient:function(H,F,E){var D=this.renderer,C,B,A,z,w,v,t,r,s,p,o=[];H.linearGradient?B="linearGradient":H.radialGradient&&(B="radialGradient");if(B){A=H[B];z=D.gradients;v=H.stops;s=E.radialReference;k(A)&&(H[B]=A={x1:A[0],y1:A[1],x2:A[2],y2:A[3],gradientUnits:"userSpaceOnUse"});B==="radialGradient"&&s&&!ax(A.gradientUnits)&&(A=br(A,{cx:s[0]-s[2]/2+A.cx*s[2],cy:s[1]-s[2]/2+A.cy*s[2],r:A.r*s[2],gradientUnits:"userSpaceOnUse"}));for(p in A){p!=="id"&&o.push(p,A[p])}for(p in v){o.push(v[p])}o=o.join(",");z[o]?H=z[o].attr("id"):(A.id=H="highcharts-"+u++,z[o]=w=D.createElement(B).attr(A).add(D.defs),w.stops=[],aA(v,function(I){I[1].indexOf("rgba")===0?(C=bi(I[1]),t=C.get("rgb"),r=C.get("a")):(t=I[1],r=1);I=D.createElement("stop").attr({offset:I[0],"stop-color":t,"stop-opacity":r}).add(w);w.stops.push(I)}));E.setAttribute(F,"url("+D.url+"#"+H+")")}},applyTextShadow:function(p){var o=this.element,v,t=p.indexOf("contrast")!==-1,s={},r=this.renderer.forExport||o.style.textShadow!==av&&!c;if(t){s.textShadow=p=p.replace(/contrast/g,this.renderer.getContrast(o.style.fill))}if(bR){s.textRendering="geometricPrecision"}r?a5(o,s):(this.fakeTS=!0,this.ySetter=this.xSetter,v=[].slice.call(o.getElementsByTagName("tspan")),aA(p.split(/\s?,\s?/g),function(w){var B=o.firstChild,A,z,w=w.split(" ");A=w[w.length-1];(z=w[w.length-2])&&aA(v,function(C,E){var D;E===0&&(C.setAttribute("x",o.getAttribute("x")),E=o.getAttribute("y"),C.setAttribute("y",E||0),E===null&&o.setAttribute("y",0));D=C.cloneNode(1);a9(D,{"class":"highcharts-text-shadow",fill:A,stroke:A,"stroke-opacity":1/aw(bg(z),3),"stroke-width":z,"stroke-linejoin":"round"});o.insertBefore(D,B)})}))},attr:function(p,o,z){var w,v=this.element,t,s=this,r;typeof p==="string"&&o!==av&&(w=p,p={},p[w]=o);if(typeof p==="string"){s=(this[p+"Getter"]||this._defaultGetter).call(this,p,v)}else{for(w in p){o=p[w];r=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(w)&&(t||(this.symbolAttr(p),t=!0),r=!0);if(this.rotation&&(w==="x"||w==="y")){this.doTransform=!0}r||(this[w+"Setter"]||this._defaultSetter).call(this,o,w,v);this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(w)&&this.updateShadows(w,o)}if(this.doTransform){this.updateTransform(),this.doTransform=!1}}z&&z();return s},updateShadows:function(p,o){for(var s=this.shadows,r=s.length;r--;){s[r].setAttribute(p,p==="height"?aw(o-(s[r].cutHeight||0),0):p==="d"?this.d:o)}},addClass:function(p){var o=this.element,r=a9(o,"class")||"";r.indexOf(p)===-1&&a9(o,"class",r+" "+p);return this},symbolAttr:function(p){var o=this;aA("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(r){o[r]=az(p[r],o[r])});o.attr({d:o.renderer.symbols[o.symbolName](o.x,o.y,o.width,o.height,o)})},clip:function(o){return this.attr("clip-path",o?"url("+this.renderer.url+"#"+o.id+")":a2)},crisp:function(p){var o,t={},s,r=p.strokeWidth||this.strokeWidth||0;s=au(r)%2/2;p.x=aV(p.x||this.x||0)+s;p.y=aV(p.y||this.y||0)+s;p.width=aV((p.width||this.width||0)-2*s);p.height=aV((p.height||this.height||0)-2*s);p.strokeWidth=r;for(o in p){this[o]!==p[o]&&(this[o]=t[o]=p[o])}return t},css:function(p){var o=this.styles,w={},v=this.element,t,s,r="";t=!o;if(p&&p.color){p.fill=p.color}if(o){for(s in p){p[s]!==o[s]&&(w[s]=p[s],t=!0)}}if(t){t=this.textWidth=p&&p.width&&v.nodeName.toLowerCase()==="text"&&bg(p.width)||this.textWidth;o&&(p=ay(o,w));this.styles=p;t&&(bT||!aC&&this.renderer.forExport)&&delete p.width;if(c&&!aC){a5(this.element,p)}else{o=function(A,z){return"-"+z.toLowerCase()};for(s in p){r+=s.replace(/([A-Z])/g,o)+":"+p[s]+";"}a9(v,"style",r)}t&&this.added&&this.renderer.buildText(this)}return this},on:function(p,o){var s=this,r=s.element;bo&&p==="click"?(r.ontouchstart=function(t){s.touchEventFired=bO.now();t.preventDefault();o.call(r,t)},r.onclick=function(t){(bw.indexOf("Android")===-1||bO.now()-(s.touchEventFired||0)>1100)&&o.call(r,t)}):r["on"+p]=o;return this},setRadialReference:function(o){this.element.radialReference=o;return this},translate:function(p,o){return this.attr({translateX:p,translateY:o})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var p=this.translateX||0,o=this.translateY||0,w=this.scaleX,v=this.scaleY,t=this.inverted,s=this.rotation,r=this.element;t&&(p+=this.attr("width"),o+=this.attr("height"));p=["translate("+p+","+o+")"];t?p.push("rotate(90) scale(-1,1)"):s&&p.push("rotate("+s+" "+(r.getAttribute("x")||0)+" "+(r.getAttribute("y")||0)+")");(ax(w)||ax(v))&&p.push("scale("+az(w,1)+" "+az(v,1)+")");p.length&&r.setAttribute("transform",p.join(" "))},toFront:function(){var o=this.element;o.parentNode.appendChild(o);return this},align:function(p,o,z){var w,v,t,s,r={};v=this.renderer;t=v.alignedObjects;if(p){if(this.alignOptions=p,this.alignByTranslate=o,!z||bU(z)){this.alignTo=w=z||"renderer",ag(t,this),t.push(this),z=null}}else{p=this.alignOptions,o=this.alignByTranslate,w=this.alignTo}z=az(z,v[w],v);w=p.align;v=p.verticalAlign;t=(z.x||0)+(p.x||0);s=(z.y||0)+(p.y||0);if(w==="right"||w==="center"){t+=(z.width-(p.width||0))/{right:1,center:2}[w]}r[o?"translateX":"x"]=au(t);if(v==="bottom"||v==="middle"){s+=(z.height-(p.height||0))/({bottom:1,middle:2}[v]||1)}r[o?"translateY":"y"]=au(s);this[this.placed?"animate":"attr"](r);this.placed=!0;this.alignAttr=r;return this},getBBox:function(E){var D,C=this.renderer,B,A=this.rotation,z=this.element,w=this.styles,v=A*bC;B=this.textStr;var t,s=z.style,r,o;B!==av&&(o=["",A||0,w&&w.fontSize,z.style.width].join(","),o=B===""||bs.test(B)?"num:"+B.toString().length+o:B+o);o&&!E&&(D=C.cache[o]);if(!D){if(z.namespaceURI===aG||C.forExport){try{r=this.fakeTS&&function(F){aA(z.querySelectorAll(".highcharts-text-shadow"),function(H){H.style.display=F})},aK&&s.textShadow?(t=s.textShadow,s.textShadow=""):r&&r(a2),D=z.getBBox?ay({},z.getBBox()):{width:z.offsetWidth,height:z.offsetHeight},t?s.textShadow=t:r&&r("")}catch(p){}if(!D||D.width<0){D={width:0,height:0}}}else{D=this.htmlGetBBox()}if(C.isSVG){E=D.width;B=D.height;if(c&&w&&w.fontSize==="11px"&&B.toPrecision(3)==="16.9"){D.height=B=14}if(A){D.width=a3(B*bz(v))+a3(E*aT(v)),D.height=a3(B*aT(v))+a3(E*bz(v))}}o&&(C.cache[o]=D)}return D},show:function(o){return this.attr({visibility:o?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(p){var o=this;o.animate({opacity:0},{duration:p||150,complete:function(){o.attr({y:-9999})}})},add:function(p){var o=this.renderer,s=this.element,r;if(p){this.parentGroup=p}this.parentInverted=p&&p.inverted;this.textStr!==void 0&&o.buildText(this);this.added=!0;if(!p||p.handleZ||this.zIndex){r=this.zIndexSetter()}r||(p?p.element:o.box).appendChild(s);if(this.onAdd){this.onAdd()}return this},safeRemoveChild:function(p){var o=p.parentNode;o&&o.removeChild(p)},destroy:function(){var p=this,o=p.element||{},v=p.shadows,t=p.renderer.isSVG&&o.nodeName==="SPAN"&&p.parentGroup,s,r;o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null;h(p);if(p.clipPath){p.clipPath=p.clipPath.destroy()}if(p.stops){for(r=0;r<p.stops.length;r++){p.stops[r]=p.stops[r].destroy()}p.stops=null}p.safeRemoveChild(o);for(v&&aA(v,function(w){p.safeRemoveChild(w)});t&&t.div&&t.div.childNodes.length===0;){o=t.parentGroup,p.safeRemoveChild(t.div),delete t.div,t=o}p.alignTo&&ag(p.renderer.alignedObjects,p);for(s in p){delete p[s]}return null},shadow:function(C,B,A){var z=[],w,v,t=this.element,s,r,p,o;if(C){r=az(C.width,3);p=(C.opacity||0.15)/r;o=this.parentInverted?"(-1,-1)":"("+az(C.offsetX,1)+", "+az(C.offsetY,1)+")";for(w=1;w<=r;w++){v=t.cloneNode(0);s=r*2+1-2*w;a9(v,{isShadow:"true",stroke:C.color||"black","stroke-opacity":p*w,"stroke-width":s,transform:"translate"+o,fill:a2});if(A){a9(v,"height",aw(a9(v,"height")-s,0)),v.cutHeight=s}B?B.element.appendChild(v):t.parentNode.insertBefore(v,t);z.push(v)}this.shadows=z}return this},xGetter:function(o){this.element.nodeName==="circle"&&(o={x:"cx",y:"cy"}[o]||o);return this._defaultGetter(o)},_defaultGetter:function(o){o=az(this[o],this.element?this.element.getAttribute(o):null,0);/^[\-0-9\.]+$/.test(o)&&(o=parseFloat(o));return o},dSetter:function(p,o,r){p&&p.join&&(p=p.join(" "));/(NaN| {2}|^$)/.test(p)&&(p="M 0 0");r.setAttribute(o,p);this[o]=p},dashstyleSetter:function(p){var o;if(p=p&&p.toLowerCase()){p=p.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(o=p.length;o--;){p[o]=bg(p[o])*this["stroke-width"]}p=p.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",p)}},alignSetter:function(o){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[o])},opacitySetter:function(p,o,r){this[o]=p;r.setAttribute(o,p)},titleSetter:function(p){var o=this.element.getElementsByTagName("title")[0];o||(o=bn.createElementNS(aG,"title"),this.element.appendChild(o));o.appendChild(bn.createTextNode(String(az(p),"").replace(/<[^>]*>/g,"")))},textSetter:function(o){if(o!==this.textStr){delete this.bBox,this.textStr=o,this.added&&this.renderer.buildText(this)}},fillSetter:function(p,o,r){typeof p==="string"?r.setAttribute(o,p):p&&this.colorGradient(p,o,r)},visibilitySetter:function(p,o,r){p==="inherit"?r.removeAttribute(o):r.setAttribute(o,p)},zIndexSetter:function(A,z){var w=this.renderer,v=this.parentGroup,w=(v||w).element||w.box,t,s,r=this.element,p;t=this.added;var o;ax(A)&&(r.setAttribute(z,A),A=+A,this[z]===A&&(t=!1),this[z]=A);if(t){if((A=this.zIndex)&&v){v.handleZ=!0}v=w.childNodes;for(o=0;o<v.length&&!p;o++){if(t=v[o],s=a9(t,"zIndex"),t!==r&&(bg(s)>A||!ax(A)&&ax(s))){w.insertBefore(r,t),p=!0}}p||w.appendChild(r)}return p},_defaultSetter:function(p,o,r){r.setAttribute(o,p)}};a0.prototype.yGetter=a0.prototype.xGetter;a0.prototype.translateXSetter=a0.prototype.translateYSetter=a0.prototype.rotationSetter=a0.prototype.verticalAlignSetter=a0.prototype.scaleXSetter=a0.prototype.scaleYSetter=function(p,o){this[o]=p;this.doTransform=!0};a0.prototype["stroke-widthSetter"]=a0.prototype.strokeSetter=function(p,o,r){this[o]=p;if(this.stroke&&this["stroke-width"]){this.strokeWidth=this["stroke-width"],a0.prototype.fillSetter.call(this,this.stroke,"stroke",r),r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0}else{if(o==="stroke-width"&&p===0&&this.hasStroke){r.removeAttribute("stroke"),this.hasStroke=!1}}};var aM=function(){this.init.apply(this,arguments)};aM.prototype={Element:a0,init:function(p,o,z,w,v){var t=location,s,w=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(w));s=w.element;p.appendChild(s);p.innerHTML.indexOf("xmlns")===-1&&a9(s,"xmlns",aG);this.isSVG=!0;this.box=s;this.boxWrapper=w;this.alignedObjects=[];this.url=(aK||bR)&&bn.getElementsByTagName("base").length?t.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(bn.createTextNode("Created with Highcharts 4.1.8"));this.defs=this.createElement("defs").add();this.forExport=v;this.gradients={};this.cache={};this.setSize(o,z,!1);var r;if(aK&&p.getBoundingClientRect){this.subPixelFix=o=function(){a5(p,{left:0,top:0});r=p.getBoundingClientRect();a5(p,{left:bL(r.left)-r.left+"px",top:bL(r.top)-r.top+"px"})},o(),bf(a7,"resize",o)}},getStyle:function(o){return this.style=ay({fontFamily:'"Microsoft Yahei", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},o)},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var o=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();bu(this.gradients||{});this.gradients=null;if(o){this.defs=o.destroy()}this.subPixelFix&&aQ(a7,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(p){var o=new this.Element;o.init(this,p);return o},draw:function(){},buildText:function(L){for(var K=L.element,J=this,I=J.forExport,H=az(L.textStr,"").toString(),F=H.indexOf("<")!==-1,E=K.childNodes,D,C,B=a9(K,"x"),A=L.styles,w=L.textWidth,z=A&&A.lineHeight,v=A&&A.textShadow,t=A&&A.textOverflow==="ellipsis",r=E.length,o=w&&!L.added&&this.box,p=function(M){return z?bg(z):J.fontMetrics(/(px|em)$/.test(M&&M.style.fontSize)?M.style.fontSize:A&&A.fontSize||J.style.fontSize||12,M).h},s=function(M){return M.replace(/&lt;/g,"<").replace(/&gt;/g,">")};r--;){K.removeChild(E[r])}!F&&!v&&!t&&H.indexOf(" ")===-1?K.appendChild(bn.createTextNode(s(H))):(D=/<.*style="([^"]+)".*>/,C=/<.*href="(http[^"]+)".*>/,o&&o.appendChild(K),H=F?H.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[H],H[H.length-1]===""&&H.pop(),aA(H,function(P,O){var N,M=0,P=P.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");N=P.split("|||");aA(N,function(Y){if(Y!==""||N.length===1){var W={},ab=bn.createElementNS(aG,"tspan"),S;D.test(Y)&&(S=Y.match(D)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),a9(ab,"style",S));C.test(Y)&&!I&&(a9(ab,"onclick",'location.href="'+Y.match(C)[1]+'"'),a5(ab,{cursor:"pointer"}));Y=s(Y.replace(/<(.|\n)*?>/g,"")||" ");if(Y!==" "){ab.appendChild(bn.createTextNode(Y));if(M){W.dx=0}else{if(O&&B!==null){W.x=B}}a9(ab,W);K.appendChild(ab);!M&&O&&(!aC&&I&&a5(ab,{display:"block"}),a9(ab,"dy",p(ab)));if(w){for(var W=Y.replace(/([^\^])-/g,"$1- ").split(" "),V=N.length>1||O||W.length>1&&A.whiteSpace!=="nowrap",X,aa,b4,b3=[],bb=p(ab),ba=1,R=L.rotation,Z=Y,U=Z.length;(V||t)&&(W.length||b3.length);){L.rotation=0,X=L.getBBox(!0),b4=X.width,!aC&&J.forExport&&(b4=J.measureSpanWidth(ab.firstChild.data,L.styles)),X=b4>w,aa===void 0&&(aa=X),t&&aa?(U/=2,Z===""||!X&&U<0.5?W=[]:(X&&(aa=!0),Z=Y.substring(0,Z.length+(X?-1:1)*bL(U)),W=[Z+(w>3?"\u2026":"")],ab.removeChild(ab.firstChild))):!X||W.length===1?(W=b3,b3=[],W.length&&(ba++,ab=bn.createElementNS(aG,"tspan"),a9(ab,{dy:bb,x:B}),S&&a9(ab,"style",S),K.appendChild(ab)),b4>w&&(w=b4)):(ab.removeChild(ab.firstChild),b3.unshift(W.pop())),W.length&&ab.appendChild(bn.createTextNode(W.join(" ").replace(/- /g,"-")))}aa&&L.attr("title",L.textStr);L.rotation=R}M++}}})}),o&&o.removeChild(K),v&&L.applyTextShadow&&L.applyTextShadow(v))},getContrast:function(o){o=bi(o).rgba;return o[0]+o[1]+o[2]>384?"#000000":"#FFFFFF"},button:function(K,I,H,F,E,D,C,B,A){var z=this.label(K,I,H,A,null,null,null,null,"button"),w=0,t,v,s,o,J,r,K={x1:0,y1:0,x2:0,y2:1},E=br({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:K,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},E);s=E.style;delete E.style;D=br(E,{stroke:"#68A",fill:{linearGradient:K,stops:[[0,"#FFF"],[1,"#ACF"]]}},D);o=D.style;delete D.style;C=br(E,{stroke:"#68A",fill:{linearGradient:K,stops:[[0,"#9BD"],[1,"#CDF"]]}},C);J=C.style;delete C.style;B=br(E,{style:{color:"#CCC"}},B);r=B.style;delete B.style;bf(z.element,c?"mouseover":"mouseenter",function(){w!==3&&z.attr(D).css(o)});bf(z.element,c?"mouseout":"mouseleave",function(){w!==3&&(t=[E,D,C][w],v=[s,o,J][w],z.attr(t).css(v))});z.setState=function(p){(z.state=w=p)?p===2?z.attr(C).css(J):p===3&&z.attr(B).css(r):z.attr(E).css(s)};return z.on("click",function(p){w!==3&&F.call(z,p)}).attr(E).css(ay({cursor:"default"},s))},crispLine:function(p,o){p[1]===p[4]&&(p[1]=p[4]=au(p[1])-o%2/2);p[2]===p[5]&&(p[2]=p[5]=au(p[2])+o%2/2);return p},path:function(p){var o={fill:a2};k(p)?o.d=p:ad(p)&&ay(o,p);return this.createElement("path").attr(o)},circle:function(p,o,r){p=ad(p)?p:{x:p,y:o,r:r};o=this.createElement("circle");o.xSetter=function(s){this.element.setAttribute("cx",s)};o.ySetter=function(s){this.element.setAttribute("cy",s)};return o.attr(p)},arc:function(p,o,v,t,s,r){if(ad(p)){o=p.y,v=p.r,t=p.innerR,s=p.start,r=p.end,p=p.x}p=this.symbol("arc",p||0,o||0,v||0,v||0,{innerR:t||0,start:s||0,end:r||0});p.r=v;return p},rect:function(p,o,w,v,t,s){var t=ad(p)?p.r:t,r=this.createElement("rect"),p=ad(p)?p:p===av?{}:{x:p,y:o,width:aw(w,0),height:aw(v,0)};if(s!==av){p.strokeWidth=s,p=r.crisp(p)}if(t){p.r=t}r.rSetter=function(z){a9(this.element,{rx:z,ry:z})};return r.attr(p)},setSize:function(p,o,t){var s=this.alignedObjects,r=s.length;this.width=p;this.height=o;for(this.boxWrapper[az(t,!0)?"animate":"attr"]({width:p,height:o});r--;){s[r].align()}},g:function(p){var o=this.createElement("g");return ax(p)?o.attr({"class":"highcharts-"+p}):o},image:function(p,o,v,t,s){var r={preserveAspectRatio:a2};arguments.length>1&&ay(r,{x:o,y:v,width:t,height:s});r=this.createElement("image").attr(r);r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",p):r.element.setAttribute("hc-svg-href",p);return r},symbol:function(C,B,A,z,w,v){var t,s=this.symbols[C],s=s&&s(au(B),au(A),z,w,v),r=/^url\((.*?)\)$/,p,o;if(s){t=this.path(s),ay(t,{symbolName:C,x:B,y:A,width:z,height:w}),v&&ay(t,v)}else{if(r.test(C)){o=function(E,D){E.element&&(E.attr({width:D[0],height:D[1]}),E.alignByTranslate||E.translate(au((z-D[0])/2),au((w-D[1])/2)))},p=C.match(r)[1],C=ak[p]||v&&v.width&&v.height&&[v.width,v.height],t=this.image(p).attr({x:B,y:A}),t.isImg=!0,C?o(t,C):(t.attr({width:0,height:0}),bI("img",{onload:function(){o(t,ak[p]=[this.width,this.height])},src:p}))}}return t},symbols:{circle:function(p,o,t,s){var r=0.166*t;return["M",p+t/2,o,"C",p+t+r,o,p+t+r,o+s,p+t/2,o+s,"C",p-r,o+s,p-r,o,p+t/2,o,"Z"]},square:function(p,o,s,r){return["M",p,o,"L",p+s,o,p+s,o+r,p,o+r,"Z"]},triangle:function(p,o,s,r){return["M",p+s/2,o,"L",p+s,o+r,p,o+r,"Z"]},"triangle-down":function(p,o,s,r){return["M",p,o,"L",p+s,o,p+s/2,o+r,"Z"]},diamond:function(p,o,s,r){return["M",p+s/2,o,"L",p+s,o+r/2,p+s/2,o+r,p,o+r/2,"Z"]},arc:function(C,B,A,z,w){var v=w.start,A=w.r||A||z,t=w.end-0.001,z=w.innerR,s=w.open,r=aT(v),p=bz(v),o=aT(t),t=bz(t),w=w.end-v<bG?0:1;return["M",C+A*r,B+A*p,"A",A,A,0,w,1,C+A*o,B+A*t,s?"M":"L",C+z*o,B+z*t,"A",z,z,0,w,0,C+z*r,B+z*p,s?"":"Z"]},callout:function(A,z,w,v,t){var s=aq(t&&t.r||0,w,v),r=s+6,p=t&&t.anchorX,t=t&&t.anchorY,o;o=["M",A+s,z,"L",A+w-s,z,"C",A+w,z,A+w,z,A+w,z+s,"L",A+w,z+v-s,"C",A+w,z+v,A+w,z+v,A+w-s,z+v,"L",A+s,z+v,"C",A,z+v,A,z+v,A,z+v-s,"L",A,z+s,"C",A,z,A,z,A+s,z];p&&p>w&&t>z+r&&t<z+v-r?o.splice(13,3,"L",A+w,t-6,A+w+6,t,A+w,t+6,A+w,z+v-s):p&&p<0&&t>z+r&&t<z+v-r?o.splice(33,3,"L",A,t+6,A-6,t,A,t-6,A,z+s):t&&t>v&&p>A+r&&p<A+w-r?o.splice(23,3,"L",p+6,z+v,p,z+v+6,p-6,z+v,A+s,z+v):t&&t<0&&p>A+r&&p<A+w-r&&o.splice(3,3,"L",p-6,z,p,z-6,p+6,z,w-s,z);return o}},clipRect:function(p,o,v,t){var s="highcharts-"+u++,r=this.createElement("clipPath").attr({id:s}).add(this.defs),p=this.rect(p,o,v,t,0).add(r);p.id=s;p.clipPath=r;p.count=0;return p},text:function(p,o,v,t){var s=bT||!aC&&this.forExport,r={};if(t&&!this.forExport){return this.html(p,o,v)}r.x=Math.round(o||0);if(v){r.y=Math.round(v)}if(p||p===0){r.text=p}p=this.createElement("text").attr(r);s&&p.css({position:"absolute"});if(!t){p.xSetter=function(A,w,E){var D=E.getElementsByTagName("tspan"),C,B=E.getAttribute(w),z;for(z=0;z<D.length;z++){C=D[z],C.getAttribute(w)===B&&C.setAttribute(w,A)}E.setAttribute(w,A)}}return p},fontMetrics:function(p,o){var s,r,p=p||this.style.fontSize;o&&a7.getComputedStyle&&(o=o.element||o,p=(s=a7.getComputedStyle(o,""))&&s.fontSize);p=/px/.test(p)?bg(p):/em/.test(p)?parseFloat(p)*12:12;s=p<24?p+3:au(p*1.2);r=au(s*0.8);return{h:s,b:r,f:p}},rotCorr:function(p,o,s){var r=p;o&&s&&(r=aw(r*aT(o*bC),4));return{x:-p/3*bz(o*bC),y:r}},label:function(b3,bb,ba,ab,aa,Z,Y,X,W){function V(){var t,p;t=N.element.style;O=(J===void 0||o===void 0||P.styles.textAlign)&&ax(N.textStr)&&N.getBBox();P.width=(J||O.width||0)+2*I+v;P.height=(o||O.height||0)+2*I;M=I+S.fontMetrics(t&&t.fontSize,N).b;if(K){if(!A){t=au(-r*I)+L,p=(X?-M:0)+L,P.box=A=ab?S.symbol(ab,t,p,P.width,P.height,E):S.rect(t,p,P.width,P.height,0,E[aN]),A.isImg||A.attr("fill",a2),A.add(P)}A.isImg||A.attr(ay({width:au(P.width),height:au(P.height)},E));E=null}}function U(){var t=P.styles,t=t&&t.textAlign,p=v+I*(1-r),z;z=X?0:M;if(ax(J)&&O&&(t==="center"||t==="right")){p+={center:0.5,right:1}[t]*(J-O.width)}if(p!==N.x||z!==N.y){N.attr("x",p),z!==av&&N.attr("y",z)}N.x=p;N.y=z}function R(t,p){A?A.attr(t,p):E[t]=p}var S=this,P=S.g(W),N=S.text("",0,0,Y).attr({zIndex:1}),A,O,r=0,I=3,v=0,J,o,w,s,L=0,E={},M,K;P.onAdd=function(){N.add(P);P.attr({text:b3||b3===0?b3:"",x:bb,y:ba});A&&ax(aa)&&P.attr({anchorX:aa,anchorY:Z})};P.widthSetter=function(p){J=p};P.heightSetter=function(p){o=p};P.paddingSetter=function(p){if(ax(p)&&p!==I){I=P.padding=p,U()}};P.paddingLeftSetter=function(p){ax(p)&&p!==v&&(v=p,U())};P.alignSetter=function(p){r={left:0,center:0.5,right:1}[p]};P.textSetter=function(p){p!==av&&N.textSetter(p);V();U()};P["stroke-widthSetter"]=function(t,p){t&&(K=!0);L=t%2/2;R(p,t)};P.strokeSetter=P.fillSetter=P.rSetter=function(t,p){p==="fill"&&t&&(K=!0);R(p,t)};P.anchorXSetter=function(t,p){aa=t;R(p,au(t)-L-w)};P.anchorYSetter=function(t,p){Z=t;R(p,t-s)};P.xSetter=function(p){P.x=p;r&&(p-=r*((J||O.width)+I));w=au(p);P.attr("translateX",w)};P.ySetter=function(p){s=P.y=au(p);P.attr("translateY",s)};var H=P.css;return ay(P,{css:function(t){if(t){var p={},t=br(t);aA(P.textProps,function(z){t[z]!==av&&(p[z]=t[z],delete t[z])});N.css(p)}return H.call(P,t)},getBBox:function(){return{width:O.width+2*I,height:O.height+2*I,x:O.x-I,y:O.y-I}},shadow:function(p){A&&A.shadow(p);return P},destroy:function(){aQ(P.element,"mouseenter");aQ(P.element,"mouseleave");N&&(N=N.destroy());A&&(A=A.destroy());a0.prototype.destroy.call(P);P=S=V=U=R=null}})}};bQ=aM;ay(a0.prototype,{htmlCss:function(p){var o=this.element;if(o=p&&o.tagName==="SPAN"&&p.width){delete p.width,this.textWidth=o,this.updateTransform()}if(p&&p.textOverflow==="ellipsis"){p.whiteSpace="nowrap",p.overflow="hidden"}this.styles=ay(this.styles,p);a5(this.element,p);return this},htmlGetBBox:function(){var o=this.element;if(o.nodeName==="text"){o.style.position="absolute"}return{x:o.offsetLeft,y:o.offsetTop,width:o.offsetWidth,height:o.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var F=this.renderer,E=this.element,D=this.translateX||0,C=this.translateY||0,B=this.x||0,A=this.y||0,z=this.textAlign||"left",w={left:0,center:0.5,right:1}[z],v=this.shadows,t=this.styles;a5(E,{marginLeft:D,marginTop:C});v&&aA(v,function(H){a5(H,{marginLeft:D+1,marginTop:C+1})});this.inverted&&aA(E.childNodes,function(H){F.invertChild(H,E)});if(E.tagName==="SPAN"){var s=this.rotation,p,r=bg(this.textWidth),o=[s,z,E.innerHTML,this.textWidth,this.textAlign].join(",");if(o!==this.cTT){p=F.fontMetrics(E.style.fontSize).b;ax(s)&&this.setSpanRotation(s,w,p);v=az(this.elemWidth,E.offsetWidth);if(v>r&&/[ \-]/.test(E.textContent||E.innerText)){a5(E,{width:r+"px",display:"block",whiteSpace:t&&t.whiteSpace||"normal"}),v=r}this.getSpanCorrection(v,p,w,s,z)}a5(E,{left:B+(this.xCorr||0)+"px",top:A+(this.yCorr||0)+"px"});if(bR){p=E.offsetHeight}this.cTT=o}}else{this.alignOnAdd=!0}},setSpanRotation:function(p,o,t){var s={},r=c?"-ms-transform":bR?"-webkit-transform":aK?"MozTransform":bk?"-o-transform":"";s[r]=s.transform="rotate("+p+"deg)";s[r+(aK?"Origin":"-origin")]=s.transformOrigin=o*100+"% "+t+"px";a5(this.element,s)},getSpanCorrection:function(p,o,r){this.xCorr=-p*r;this.yCorr=-o}});ay(aM.prototype,{html:function(p,o,v){var t=this.createElement("span"),s=t.element,r=t.renderer;t.textSetter=function(w){w!==s.innerHTML&&delete this.bBox;s.innerHTML=this.textStr=w;t.htmlUpdateTransform()};t.xSetter=t.ySetter=t.alignSetter=t.rotationSetter=function(z,w){w==="align"&&(w="textAlign");t[w]=z;t.htmlUpdateTransform()};t.attr({text:p,x:au(o),y:au(v)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});s.style.whiteSpace="nowrap";t.css=t.htmlCss;if(r.isSVG){t.add=function(z){var w,B=r.box.parentNode,A=[];if(this.parentGroup=z){if(w=z.div,!w){for(;z;){A.push(z),z=z.parentGroup}aA(A.reverse(),function(C){var E,D=a9(C.element,"class");D&&(D={className:D});w=C.div=C.div||bI(bm,D,{position:"absolute",left:(C.translateX||0)+"px",top:(C.translateY||0)+"px"},w||B);E=w.style;ay(C,{translateXSetter:function(F,H){E.left=F+"px";C[H]=F;C.doTransform=!0},translateYSetter:function(F,H){E.top=F+"px";C[H]=F;C.doTransform=!0}});d(C,"visibilitySetter",function(H,F,J,I){H.call(this,F,J,I);E[J]=F})})}}else{w=B}w.appendChild(s);t.added=!0;t.alignOnAdd&&t.htmlUpdateTransform();return t}}return t}});if(!aC&&!bT){bl={init:function(p,o){var t=["<",o,' filled="f" stroked="f"'],s=["position: ","absolute",";"],r=o===bm;(o==="shape"||r)&&s.push("left:0;top:0;width:1px;height:1px;");s.push("visibility: ",r?"hidden":"visible");t.push(' style="',s.join(""),'"/>');if(o){t=r||o==="span"||o==="img"?t.join(""):p.prepVML(t),this.element=bI(t)}this.renderer=p},add:function(p){var o=this.renderer,s=this.element,r=o.box,r=p?p.element||p:r;p&&p.inverted&&o.invertChild(s,r);r.appendChild(s);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd){this.onAdd()}return this},updateTransform:a0.prototype.htmlUpdateTransform,setSpanRotation:function(){var p=this.rotation,o=aT(p*bC),r=bz(p*bC);a5(this.element,{filter:p?["progid:DXImageTransform.Microsoft.Matrix(M11=",o,", M12=",-r,", M21=",r,", M22=",o,", sizingMethod='auto expand')"].join(""):a2})},getSpanCorrection:function(A,z,w,v,t){var s=v?aT(v*bC):1,r=v?bz(v*bC):0,p=az(this.elemHeight,this.element.offsetHeight),o;this.xCorr=s<0&&-A;this.yCorr=r<0&&-p;o=s*r<0;this.xCorr+=r*z*(o?1-w:w);this.yCorr-=s*z*(v?o?w:1-w:1);t&&t!=="left"&&(this.xCorr-=A*w*(s<0?-1:1),v&&(this.yCorr-=p*w*(r<0?-1:1)),a5(this.element,{textAlign:t}))},pathToVML:function(p){for(var o=p.length,r=[];o--;){if(n(p[o])){r[o]=au(p[o]*10)-5}else{if(p[o]==="Z"){r[o]="x"}else{if(r[o]=p[o],p.isArc&&(p[o]==="wa"||p[o]==="at")){r[o+5]===r[o+7]&&(r[o+7]+=p[o+7]>p[o+5]?1:-1),r[o+6]===r[o+8]&&(r[o+8]+=p[o+8]>p[o+6]?1:-1)}}}}return r.join(" ")||"x"},clip:function(p){var o=this,r;p?(r=p.members,ag(r,o),r.push(o),o.destroyClip=function(){ag(r,o)},p=p.getCSS(o)):(o.destroyClip&&o.destroyClip(),p={clip:f?"inherit":"rect(auto)"});return o.css(p)},css:a0.prototype.htmlCss,safeRemoveChild:function(o){o.parentNode&&aO(o)},destroy:function(){this.destroyClip&&this.destroyClip();return a0.prototype.destroy.apply(this)},on:function(p,o){this.element["on"+p]=function(){var r=a7.event;r.target=r.srcElement;o(r)};return this},cutOffPath:function(p,o){var r,p=p.split(/[ ,]/);r=p.length;if(r===9||r===11){p[r-4]=p[r-2]=bg(p[r-2])-10*o}return p.join(" ")},shadow:function(H,F,E){var D=[],C,B=this.element,A=this.renderer,z,w=B.style,v,t=B.path,r,s,p,o;t&&typeof t.value!=="string"&&(t="x");s=t;if(H){p=az(H.width,3);o=(H.opacity||0.15)/p;for(C=1;C<=3;C++){r=p*2+1-2*C;E&&(s=this.cutOffPath(t.value,r+0.5));v=['<shape isShadow="true" strokeweight="',r,'" filled="false" path="',s,'" coordsize="10 10" style="',B.style.cssText,'" />'];z=bI(A.prepVML(v),null,{left:bg(w.left)+az(H.offsetX,1),top:bg(w.top)+az(H.offsetY,1)});if(E){z.cutOff=r+1}v=['<stroke color="',H.color||"black",'" opacity="',o*C,'"/>'];bI(A.prepVML(v),null,null,z);F?F.element.appendChild(z):B.parentNode.insertBefore(z,B);D.push(z)}this.shadows=D}return this},updateShadows:bt,setAttr:function(p,o){f?this.element[p]=o:this.element.setAttribute(p,o)},classSetter:function(o){this.element.className=o},dashstyleSetter:function(p,o,r){(r.getElementsByTagName("stroke")[0]||bI(this.renderer.prepVML(["<stroke/>"]),null,null,r))[o]=p||"solid";this[o]=p},dSetter:function(p,o,s){var r=this.shadows,p=p||[];this.d=p.join&&p.join(" ");s.path=p=this.pathToVML(p);if(r){for(s=r.length;s--;){r[s].path=r[s].cutOff?this.cutOffPath(p,r[s].cutOff):p}}this.setAttr(o,p)},fillSetter:function(p,o,s){var r=s.nodeName;if(r==="SPAN"){s.style.color=p}else{if(r!=="IMG"){s.filled=p!==a2,this.setAttr("fillcolor",this.renderer.color(p,s,o,this))}}},opacitySetter:bt,rotationSetter:function(p,o,r){r=r.style;this[o]=r[o]=p;r.left=-au(bz(p*bC)+1)+"px";r.top=au(aT(p*bC))+"px"},strokeSetter:function(p,o,r){this.setAttr("strokecolor",this.renderer.color(p,r,o))},"stroke-widthSetter":function(p,o,r){r.stroked=!!p;this[o]=p;n(p)&&(p+="px");this.setAttr("strokeweight",p)},titleSetter:function(p,o){this.setAttr(o,p)},visibilitySetter:function(p,o,r){p==="inherit"&&(p="visible");this.shadows&&aA(this.shadows,function(s){s.style[o]=p});r.nodeName==="DIV"&&(p=p==="hidden"?"-999em":0,f||(r.style[o]=p?"visible":"hidden"),o="top");r.style[o]=p},xSetter:function(p,o,r){this[o]=p;o==="x"?o="left":o==="y"&&(o="top");this.updateClipping?(this[o]=p,this.updateClipping()):r.style[o]=p},zIndexSetter:function(p,o,r){r.style[o]=p}};bp.VMLElement=bl=j(a0,bl);bl.prototype.ySetter=bl.prototype.widthSetter=bl.prototype.heightSetter=bl.prototype.xSetter;var q={Element:bl,isIE8:bw.indexOf("MSIE 8.0")>-1,init:function(p,o,v,t){var s;this.alignedObjects=[];t=this.createElement(bm).css(ay(this.getStyle(t),{position:"relative"}));s=t.element;p.appendChild(t.element);this.isVML=!0;this.box=s;this.boxWrapper=t;this.cache={};this.setSize(o,v,!1);if(!bn.namespaces.hcv){bn.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{bn.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(r){bn.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(p,o,v,t){var s=this.createElement(),r=ad(p);return ay(s,{members:[],count:0,left:(r?p.x:p)+1,top:(r?p.y:o)+1,width:(r?p.width:v)-1,height:(r?p.height:t)-1,getCSS:function(z){var w=z.element,D=w.nodeName,z=z.inverted,C=this.top-(D==="shape"?w.offsetTop:0),B=this.left,w=B+this.width,A=C+this.height,C={clip:"rect("+au(z?B:C)+"px,"+au(z?A:w)+"px,"+au(z?w:A)+"px,"+au(z?C:B)+"px)"};!z&&f&&D==="DIV"&&ay(C,{width:w+"px",height:A+"px"});return C},updateClipping:function(){aA(s.members,function(w){w.element&&w.css(s.getCSS(w))})}})},color:function(b4,b3,bb,ba){var ab=this,aa,Z=/^rgba/,Y,X,W=a2;b4&&b4.linearGradient?X="gradient":b4&&b4.radialGradient&&(X="pattern");if(X){var V,S,U=b4.linearGradient||b4.radialGradient,R,N,E,P,o,I="",b4=b4.stops,D,J=[],K=function(){Y=['<fill colors="'+J.join(",")+'" opacity="',E,'" o:opacity2="',N,'" type="',X,'" ',I,'focus="100%" method="any" />'];bI(ab.prepVML(Y),null,null,b3)};R=b4[0];D=b4[b4.length-1];R[0]>0&&b4.unshift([0,R[1]]);D[0]<1&&b4.push([1,D[1]]);aA(b4,function(r,p){Z.test(r[1])?(aa=bi(r[1]),V=aa.get("rgb"),S=aa.get("a")):(V=r[1],S=1);J.push(r[0]*100+"% "+V);p?(E=S,P=V):(N=S,o=V)});if(bb==="fill"){if(X==="gradient"){bb=U.x1||U[0]||0,b4=U.y1||U[1]||0,R=U.x2||U[2]||0,U=U.y2||U[3]||0,I='angle="'+(90-aU.atan((U-b4)/(R-bb))*180/bG)+'"',K()}else{var W=U.r,H=W*2,F=W*2,M=U.cx,B=U.cy,O=b3.radialReference,L,W=function(){O&&(L=ba.getBBox(),M+=(O[0]-L.x)/L.width-0.5,B+=(O[1]-L.y)/L.height-0.5,H*=O[2]/L.width,F*=O[2]/L.height);I='src="'+aX.global.VMLRadialGradientURL+'" size="'+H+","+F+'" origin="0.5,0.5" position="'+M+","+B+'" color2="'+o+'" ';K()};ba.added?W():ba.onAdd=W;W=P}}else{W=V}}else{if(Z.test(b4)&&b3.tagName!=="IMG"){aa=bi(b4),Y=["<",bb,' opacity="',aa.get("a"),'"/>'],bI(this.prepVML(Y),null,null,b3),W=aa.get("rgb")}else{W=b3.getElementsByTagName(bb);if(W.length){W[0].opacity=1,W[0].type="solid"}W=b4}}return W},prepVML:function(p){var o=this.isIE8,p=p.join("");o?(p=p.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),p=p.indexOf('style="')===-1?p.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):p.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):p=p.replace("<","<hcv:");return p},text:aM.prototype.html,path:function(p){var o={coordsize:"10 10"};k(p)?o.d=p:ad(p)&&ay(o,p);return this.createElement("shape").attr(o)},circle:function(p,o,s){var r=this.symbol("circle");if(ad(p)){s=p.r,o=p.y,p=p.x}r.isCircle=!0;r.r=s;return r.attr({x:p,y:o})},g:function(p){var o;p&&(o={className:"highcharts-"+p,"class":"highcharts-"+p});return this.createElement(bm).attr(o)},image:function(p,o,v,t,s){var r=this.createElement("img").attr({src:p});arguments.length>1&&r.attr({x:o,y:v,width:t,height:s});return r},createElement:function(o){return o==="rect"?this.symbol(o):aM.prototype.createElement.call(this,o)},invertChild:function(p,o){var t=this,s=o.style,r=p.tagName==="IMG"&&p.style;a5(p,{flip:"x",left:bg(s.width)-(r?bg(r.top):1),top:bg(s.height)-(r?bg(r.left):1),rotation:-90});aA(p.childNodes,function(v){t.invertChild(v,p)})},symbols:{arc:function(C,B,A,z,w){var v=w.start,t=w.end,s=w.r||A||z,A=w.innerR,z=aT(v),r=bz(v),p=aT(t),o=bz(t);if(t-v===0){return["x"]}v=["wa",C-s,B-s,C+s,B+s,C+s*z,B+s*r,C+s*p,B+s*o];w.open&&!A&&v.push("e","M",C,B);v.push("at",C-A,B-A,C+A,B+A,C+A*p,B+A*o,C+A*z,B+A*r,"x","e");v.isArc=!0;return v},circle:function(p,o,t,s,r){r&&(t=s=2*r.r);r&&r.isCircle&&(p-=t/2,o-=s/2);return["wa",p,o,p+t,o+s,p+t,o+s/2,p+t,o+s/2,"e"]},rect:function(p,o,t,s,r){return aM.prototype.symbols[!ax(r)||!r.r?"square":"callout"].call(0,p,o,t,s,r)}}};bp.VMLRenderer=bl=function(){this.init.apply(this,arguments)};bl.prototype=br(aM.prototype,q);bQ=bl}aM.prototype.measureSpanWidth=function(p,o){var s=bn.createElement("span"),r;r=bn.createTextNode(p);s.appendChild(r);a5(s,o);this.box.appendChild(s);r=s.offsetWidth;aO(s);return r};var m;if(bT){bp.CanVGRenderer=bl=function(){aG="http://www.w3.org/1999/xhtml"},bl.prototype.symbols={},m=function(){function p(){var r=o.length,s;for(s=0;s<r;s++){o[s]()}o=[]}var o=[];return{push:function(s,r){o.length===0&&ao(r,p);o.push(s)}}}(),bQ=bl}G.prototype={addLabel:function(){var C=this.axis,B=C.options,A=C.chart,z=C.categories,w=C.names,v=this.pos,t=B.labels,s=C.tickPositions,r=v===s[0],p=v===s[s.length-1],w=z?az(z[v],w[v],v):v,z=this.label,s=s.info,o;C.isDatetimeAxis&&s&&(o=B.dateTimeLabelFormats[s.higherRanks[v]||s.unitName]);this.isFirst=r;this.isLast=p;B=C.labelFormatter.call({axis:C,chart:A,isFirst:r,isLast:p,dateTimeLabelFormat:o,value:C.isLog?g(aF(w)):w});ax(z)?z&&z.attr({text:B}):(this.labelLength=(this.label=z=ax(B)&&t.enabled?A.renderer.text(B,0,0,t.useHTML).css(br(t.style)).add(C.labelGroup):null)&&z.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(F){var E=this.axis,D=F.x,C=E.chart.chartWidth,B=E.chart.spacing,A=az(E.labelLeft,aq(E.pos,B[3])),B=az(E.labelRight,aw(E.pos+E.len,C-B[1])),z=this.label,w=this.rotation,v={left:0,center:0.5,right:1}[E.labelAlign],t=z.getBBox().width,s=E.slotWidth,p=1,r,o={};if(w){w<0&&D-v*t<A?r=au(D/aT(w*bC)-A):w>0&&D+v*t>B&&(r=au((C-D)/aT(w*bC)))}else{if(C=D+(1-v)*t,D-v*t<A?s=F.x+s*(1-v)-A:C>B&&(s=B-F.x+s*v,p=-1),s=aq(E.slotWidth,s),s<E.slotWidth&&E.labelAlign==="center"&&(F.x+=p*(E.slotWidth-s-v*(E.slotWidth-aq(t,s)))),t>s||E.autoRotation&&z.styles.width){r=s}}if(r){o.width=r;if(!E.options.labels.style.textOverflow){o.textOverflow="ellipsis"}z.css(o)}},getPosition:function(p,o,w,v){var t=this.axis,s=t.chart,r=v&&s.oldChartHeight||s.chartHeight;return{x:p?t.translate(o+w,null,null,v)+t.transB:t.left+t.offset+(t.opposite?(v&&s.oldChartWidth||s.chartWidth)-t.right-t.left:0),y:p?r-t.bottom+t.offset-(t.opposite?t.height:0):r-t.translate(o+w,null,null,v)-t.transB}},getLabelPosition:function(E,D,C,B,A,z,w,v){var t=this.axis,s=t.transA,r=t.reversed,o=t.staggerLines,p=t.tickRotCorr||{x:0,y:0},C=az(A.y,p.y+(t.side===2?8:-(C.getBBox().height/2))),E=E+A.x+p.x-(z&&B?z*s*(r?-1:1):0),D=D+C-(z&&!B?z*s*(r?1:-1):0);o&&(D+=w/(v||1)%o*(t.labelOffset/o));return{x:E,y:au(D)}},getMarkPath:function(p,o,v,t,s,r){return r.crispLine(["M",p,o,"L",p+(s?0:-v),o+(s?v:0)],t)},render:function(ab,aa,Z){var Y=this.axis,X=Y.options,W=Y.chart.renderer,V=Y.horiz,U=this.type,S=this.label,R=this.pos,P=X.labels,N=this.gridLine,O=U?U+"Grid":"grid",M=U?U+"Tick":"tick",K=X[O+"LineWidth"],B=X[O+"LineColor"],L=X[O+"LineDashStyle"],p=X[M+"Length"],O=az(X[M+"Width"],!U&&Y.isXAxis?1:0),E=X[M+"Color"],A=X[M+"Position"],M=this.mark,F=P.step,H=!0,D=Y.tickmarkOffset,J=this.getPosition(V,R,D,aa),v=J.x,J=J.y,I=V&&v===Y.pos+Y.len||!V&&J===Y.pos?-1:1,Z=az(Z,1);this.isActive=!0;if(K){R=Y.getPlotLinePath(R+D,K*I,aa,!0);if(N===av){N={stroke:B,"stroke-width":K};if(L){N.dashstyle=L}if(!U){N.zIndex=1}if(aa){N.opacity=0}this.gridLine=N=K?W.path(R).attr(N).add(Y.gridGroup):null}if(!aa&&N&&R){N[this.isNew?"attr":"animate"]({d:R,opacity:Z})}}if(O&&p){A==="inside"&&(p=-p),Y.opposite&&(p=-p),U=this.getMarkPath(v,J,p,O*I,V,W),M?M.animate({d:U,opacity:Z}):this.mark=W.path(U).attr({stroke:E,"stroke-width":O,opacity:Z}).add(Y.axisGroup)}if(S&&!isNaN(v)){S.xy=J=this.getLabelPosition(v,J,S,V,P,D,ab,F),this.isFirst&&!this.isLast&&!az(X.showFirstLabel,1)||this.isLast&&!this.isFirst&&!az(X.showLastLabel,1)?H=!1:V&&!Y.isRadial&&!P.step&&!P.rotation&&!aa&&Z!==0&&this.handleOverflow(J),F&&ab%F&&(H=!1),H&&!isNaN(J.y)?(J.opacity=Z,S[this.isNew?"attr":"animate"](J),this.isNew=!1):S.attr("y",-9999)}},destroy:function(){bu(this,this.axis)}};bp.PlotLineOrBand=function(p,o){this.axis=p;if(o){this.options=o,this.id=o.id}};bp.PlotLineOrBand.prototype={render:function(){var O=this,N=O.axis,M=N.horiz,L=O.options,K=L.label,J=O.label,I=L.width,H=L.to,F=L.from,E=ax(F)&&ax(H),D=L.value,B=L.dashStyle,C=O.svgElem,A=[],v,s=L.color,w=L.zIndex,z=L.events,t={},r=N.chart.renderer;N.isLog&&(F=bD(F),H=bD(H),D=bD(D));if(I){if(A=N.getPlotLinePath(D,I),t={stroke:s,"stroke-width":I},B){t.dashstyle=B}}else{if(E){A=N.getPlotBandPath(F,H,L);if(s){t.fill=s}if(L.borderWidth){t.stroke=L.borderColor,t["stroke-width"]=L.borderWidth}}else{return}}if(ax(w)){t.zIndex=w}if(C){if(A){C.animate({d:A},null,C.onGetPath)}else{if(C.hide(),C.onGetPath=function(){C.show()},J){O.label=J=J.destroy()}}}else{if(A&&A.length&&(O.svgElem=C=r.path(A).attr(t).add(),z)){for(v in L=function(o){C.on(o,function(p){z[o].apply(O,[p])})},z){L(v)}}}if(K&&ax(K.text)&&A&&A.length&&N.width>0&&N.height>0){K=br({align:M&&E&&"center",x:M?!E&&4:10,verticalAlign:!M&&E&&"middle",y:M?E?16:10:E?6:-4,rotation:M&&!E&&90},K);if(!J){t={align:K.textAlign||K.align,rotation:K.rotation};if(ax(w)){t.zIndex=w}O.label=J=r.text(K.text,0,0,K.useHTML).attr(t).css(K.style).add()}N=[A[1],A[4],E?A[6]:A[1]];E=[A[2],A[5],E?A[7]:A[2]];A=bM(N);M=bM(E);J.align(K,!1,{x:A,y:M,width:be(N)-A,height:be(E)-M});J.show()}else{J&&J.hide()}return O},destroy:function(){ag(this.axis.plotLinesAndBands,this);delete this.axis;bu(this)}};var a8=bp.Axis=function(){this.init.apply(this,arguments)};a8.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return bp.numberFormat(this.total,-1)},style:br(a1.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(p,o){var v=o.isX;this.chart=p;this.horiz=p.inverted?!v:v;this.coll=(this.isXAxis=v)?"xAxis":"yAxis";this.opposite=o.opposite;this.side=o.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(o);var t=this.options,s=t.type;this.labelFormatter=t.labels.formatter||this.defaultLabelFormatter;this.userOptions=o;this.minPixelPadding=0;this.reversed=t.reversed;this.zoomEnabled=t.zoomEnabled!==!1;this.categories=t.categories||s==="category";this.names=this.names||[];this.isLog=s==="logarithmic";this.isDatetimeAxis=s==="datetime";this.isLinked=ax(t.linkedTo);this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=t.minRange||t.maxZoom;this.range=t.range;this.offset=t.offset||0;this.stacks={};this.oldStacks={};this.stacksTouched=0;this.min=this.max=null;this.crosshair=az(t.crosshair,b1(p.options.tooltip.crosshairs)[v?0:1],!1);var r,t=this.options.events;al(this,p.axes)===-1&&(v&&!this.isColorAxis?p.axes.splice(p.xAxis.length,0,this):p.axes.push(this),p[this.coll].push(this));this.series=this.series||[];if(p.inverted&&v&&this.reversed===av){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(r in t){bf(this,r,t[r])}if(this.isLog){this.val2lin=bD,this.lin2val=aF}},setOptions:function(o){this.options=br(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],br(aX[this.coll],o))},defaultLabelFormatter:function(){var p=this.axis,o=this.value,z=p.categories,w=this.dateTimeLabelFormat,v=aX.lang.numericSymbols,t=v&&v.length,s,r=p.options.labels.format,p=p.isLog?o:p.tickInterval;if(r){s=bH(r,this)}else{if(z){s=o}else{if(w){s=b2(w,o)}else{if(t&&p>=1000){for(;t--&&s===av;){z=Math.pow(1000,t+1),p>=z&&o*10%z===0&&v[t]!==null&&(s=bp.numberFormat(o/z,-1)+v[t])}}}}}s===av&&(s=a3(o)>=10000?bp.numberFormat(o,-1):bp.numberFormat(o,-1,av,""));return s},getSeriesExtremes:function(){var p=this,o=p.chart;p.hasVisibleSeries=!1;p.dataMin=p.dataMax=p.ignoreMinPadding=p.ignoreMaxPadding=null;p.buildStacks&&p.buildStacks();aA(p.series,function(t){if(t.visible||!o.options.chart.ignoreHiddenSeries){var s;s=t.options.threshold;var r;p.hasVisibleSeries=!0;p.isLog&&s<=0&&(s=null);if(p.isXAxis){if(s=t.xData,s.length){p.dataMin=aq(az(p.dataMin,s[0]),bM(s)),p.dataMax=aw(az(p.dataMax,s[0]),be(s))}}else{t.getExtremes();r=t.dataMax;t=t.dataMin;if(ax(t)&&ax(r)){p.dataMin=aq(az(p.dataMin,t),t),p.dataMax=aw(az(p.dataMax,r),r)}if(ax(s)){if(p.dataMin>=s){p.dataMin=s,p.ignoreMinPadding=!0}else{if(p.dataMax<s){p.dataMax=s,p.ignoreMaxPadding=!0}}}}}})},translate:function(C,B,A,z,w,v){var t=this.linkedParent||this,s=1,r=0,p=z?t.oldTransA:t.transA,z=z?t.oldMin:t.min,o=t.minPixelPadding,w=(t.doPostTranslate||t.isLog&&w)&&t.lin2val;if(!p){p=t.transA}if(A){s*=-1,r=t.len}t.reversed&&(s*=-1,r-=s*(t.sector||t.len));B?(C=C*s+r,C-=o,C=C/p+z,w&&(C=t.lin2val(C))):(w&&(C=t.val2lin(C)),v==="between"&&(v=0.5),C=s*(C-z)*p+r+s*o+(n(v)?p*v*t.pointRange:0));return C},toPixels:function(p,o){return this.translate(p,!1,!this.horiz,null,!0)+(o?0:this.pos)},toValue:function(p,o){return this.translate(p-(o?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(F,E,D,C,B){var A=this.chart,z=this.left,w=this.top,v,t,s=D&&A.oldChartHeight||A.chartHeight,p=D&&A.oldChartWidth||A.chartWidth,r;v=this.transB;var o=function(I,H,J){if(I<H||I>J){C?I=aq(aw(H,I),J):r=!0}return I},B=az(B,this.translate(F,null,null,D)),F=D=au(B+v);v=t=au(s-B-v);isNaN(B)?r=!0:this.horiz?(v=w,t=s-this.bottom,F=D=o(F,z,z+this.width)):(F=z,D=p-this.right,v=t=o(v,w,w+this.height));return r&&!C?null:A.renderer.crispLine(["M",F,v,"L",D,t],E||1)},getLinearTickPositions:function(p,o,w){var v,t=g(aV(o/p)*p),s=g(bL(w/p)*p),r=[];if(o===w&&n(o)){return[o]}for(o=t;o<=s;){r.push(o);o=g(o+p);if(o===v){break}v=o}return r},getMinorTickPositions:function(){var p=this.options,o=this.tickPositions,w=this.minorTickInterval,v=[],t,s=this.pointRangePadding||0;t=this.min-s;var s=this.max+s,r=s-t;if(r&&r/w<this.len/3){if(this.isLog){s=o.length;for(t=1;t<s;t++){v=v.concat(this.getLogTickPositions(w,o[t-1],o[t],!0))}}else{if(this.isDatetimeAxis&&p.minorTickInterval==="auto"){v=v.concat(this.getTimeTicks(this.normalizeTimeTickInterval(w),t,s,p.startOfWeek))}else{for(o=t+(o[0]-t)%w;o<=s;o+=w){v.push(o)}}}}v.length!==0&&this.trimTicks(v,p.startOnTick,p.endOnTick);return v},adjustForMinRange:function(){var C=this.options,B=this.min,A=this.max,z,w=this.dataMax-this.dataMin>=this.minRange,v,t,s,r,p;if(this.isXAxis&&this.minRange===av&&!this.isLog){ax(C.min)||ax(C.max)?this.minRange=null:(aA(this.series,function(D){r=D.xData;for(t=p=D.xIncrement?1:r.length-1;t>0;t--){if(s=r[t]-r[t-1],v===av||s<v){v=s}}}),this.minRange=aq(v*5,this.dataMax-this.dataMin))}if(A-B<this.minRange){var o=this.minRange;z=(o-A+B)/2;z=[B-z,az(C.min,B-z)];if(w){z[2]=this.dataMin}B=be(z);A=[B+o,az(C.max,B+o)];if(w){A[2]=this.dataMax}A=bM(A);A-B<o&&(z[0]=A-o,z[1]=az(C.min,A-o),B=be(z))}this.min=B;this.max=A},setAxisTranslation:function(C){var B=this,A=B.max-B.min,z=B.axisPointRange||0,w,v=0,t=0,s=B.linkedParent,r=!!B.categories,p=B.transA,o=B.isXAxis;if(o||r||z){if(s?(v=s.minPointOffset,t=s.pointRangePadding):aA(B.series,function(D){var F=r?1:o?D.pointRange:B.axisPointRange||0,E=D.options.pointPlacement,H=D.closestPointRange;F>A&&(F=0);z=aw(z,F);B.single||(v=aw(v,bU(E)?0:F/2),t=aw(t,E==="on"?0:F));!D.noSharedTooltip&&ax(H)&&(w=ax(w)?aq(w,H):H)}),s=B.ordinalSlope&&w?B.ordinalSlope/w:1,B.minPointOffset=v*=s,B.pointRangePadding=t*=s,B.pointRange=aq(z,A),o){B.closestPointRange=w}}if(C){B.oldTransA=p}B.translationSlope=B.transA=p=B.len/(A+t||1);B.transB=B.horiz?B.left:B.bottom;B.minPixelPadding=p*v},minFromRange:function(){return this.max-this.range},setTickInterval:function(E){var D=this,C=D.chart,B=D.options,A=D.isLog,z=D.isDatetimeAxis,w=D.isXAxis,v=D.isLinked,t=B.maxPadding,s=B.minPadding,r=B.tickInterval,o=B.tickPixelInterval,p=D.categories;!z&&!p&&!v&&this.getTickAmount();v?(D.linkedParent=C[D.coll][B.linkedTo],C=D.linkedParent.getExtremes(),D.min=az(C.min,C.dataMin),D.max=az(C.max,C.dataMax),B.type!==D.linkedParent.options.type&&bX(11,1)):(D.min=az(D.userMin,B.min,D.dataMin),D.max=az(D.userMax,B.max,D.dataMax));if(A){!E&&aq(D.min,az(D.dataMin,D.min))<=0&&bX(10,1),D.min=g(bD(D.min),15),D.max=g(bD(D.max),15)}if(D.range&&ax(D.max)){D.userMin=D.min=aw(D.min,D.minFromRange()),D.userMax=D.max,D.range=null}D.beforePadding&&D.beforePadding();D.adjustForMinRange();if(!p&&!D.axisPointRange&&!D.usePercentage&&!v&&ax(D.min)&&ax(D.max)&&(C=D.max-D.min)){if(!ax(B.min)&&!ax(D.userMin)&&s&&(D.dataMin<0||!D.ignoreMinPadding)){D.min-=C*s}if(!ax(B.max)&&!ax(D.userMax)&&t&&(D.dataMax>0||!D.ignoreMaxPadding)){D.max+=C*t}}if(n(B.floor)){D.min=aw(D.min,B.floor)}if(n(B.ceiling)){D.max=aq(D.max,B.ceiling)}D.tickInterval=D.min===D.max||D.min===void 0||D.max===void 0?1:v&&!r&&o===D.linkedParent.options.tickPixelInterval?r=D.linkedParent.tickInterval:az(r,this.tickAmount?(D.max-D.min)/aw(this.tickAmount-1,1):void 0,p?1:(D.max-D.min)*o/aw(D.len,o));w&&!E&&aA(D.series,function(F){F.processData(D.min!==D.oldMin||D.max!==D.oldMax)});D.setAxisTranslation(!0);D.beforeSetTickPositions&&D.beforeSetTickPositions();if(D.postProcessTickInterval){D.tickInterval=D.postProcessTickInterval(D.tickInterval)}if(D.pointRange){D.tickInterval=aw(D.pointRange,D.tickInterval)}E=az(B.minTickInterval,D.isDatetimeAxis&&D.closestPointRange);if(!r&&D.tickInterval<E){D.tickInterval=E}if(!z&&!A&&!r){D.tickInterval=aH(D.tickInterval,null,bh(D.tickInterval),az(B.allowDecimals,!(D.tickInterval>0.5&&D.tickInterval<5&&D.max>1000&&D.max<9999)),!!this.tickAmount)}if(!this.tickAmount&&this.len){D.tickInterval=D.unsquish()}this.setTickPositions()},setTickPositions:function(){var p=this.options,o,w=p.tickPositions,v=p.tickPositioner,t=p.startOnTick,s=p.endOnTick,r;this.tickmarkOffset=this.categories&&p.tickmarkPlacement==="between"&&this.tickInterval===1?0.5:0;this.minorTickInterval=p.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:p.minorTickInterval;this.tickPositions=o=w&&w.slice();if(!o&&(o=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,p.units),this.min,this.max,p.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),o.length>this.len&&(o=[o[0],o.pop()]),this.tickPositions=o,v&&(v=v.apply(this,[this.min,this.max])))){this.tickPositions=o=v}if(!this.isLinked){this.trimTicks(o,t,s),this.min===this.max&&ax(this.min)&&!this.tickAmount&&(r=!0,this.min-=0.5,this.max+=0.5),this.single=r,!w&&!v&&this.adjustTickAmount()}},trimTicks:function(p,o,v){var t=p[0],s=p[p.length-1],r=this.minPointOffset||0;o?this.min=t:this.min-r>t&&p.shift();v?this.max=s:this.max+r<s&&p.pop();p.length===0&&ax(t)&&p.push((s+t)/2)},getTickAmount:function(){var p={},o,t=this.options,s=t.tickAmount,r=t.tickPixelInterval;!ax(t.tickInterval)&&this.len<r&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(s=2);!s&&this.chart.options.chart.alignTicks!==!1&&t.alignTicks!==!1&&(aA(this.chart[this.coll],function(z){var w=z.options,v=z.horiz,w=[v?w.left:w.top,v?w.width:w.height,w.pane].join(",");p[w]?z.series.length&&(o=!0):p[w]=1}),o&&(s=bL(this.len/r)+1));if(s<4){this.finalTickAmt=s,s=5}this.tickAmount=s},adjustTickAmount:function(){var p=this.tickInterval,o=this.tickPositions,t=this.tickAmount,s=this.finalTickAmt,r=o&&o.length;if(r<t){for(;o.length<t;){o.push(g(o[o.length-1]+p))}this.transA*=(r-1)/(t-1);this.max=o[o.length-1]}else{r>t&&(this.tickInterval*=2,this.setTickPositions())}if(ax(s)){for(p=t=o.length;p--;){(s===3&&p%2===1||s<=2&&p>0&&p<t-1)&&o.splice(p,1)}this.finalTickAmt=av}},setScale:function(){var p,o;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();o=this.len!==this.oldAxisLength;aA(this.series,function(r){if(r.isDirtyData||r.isDirty||r.xAxis.isDirty){p=!0}});if(o||p||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty){this.isDirty=o||this.min!==this.oldMin||this.max!==this.oldMax}}else{this.cleanStacks&&this.cleanStacks()}},setExtremes:function(p,o,w,v,t){var s=this,r=s.chart,w=az(w,!0);aA(s.series,function(z){delete z.kdTree});t=ay(t,{min:p,max:o});bd(s,"setExtremes",t,function(){s.userMin=p;s.userMax=o;s.eventArgs=t;w&&r.redraw(v)})},zoom:function(p,o){var v=this.dataMin,t=this.dataMax,s=this.options,r=aq(v,az(s.min,v)),s=aw(t,az(s.max,t));this.allowZoomOutside||(ax(v)&&p<=r&&(p=r),ax(t)&&o>=s&&(o=s));this.displayBtn=p!==av||o!==av;this.setExtremes(p,o,!1,av,{trigger:"zoom"});return !0},setAxisSize:function(){var p=this.chart,o=this.options,w=o.offsetLeft||0,v=this.horiz,t=az(o.width,p.plotWidth-w+(o.offsetRight||0)),s=az(o.height,p.plotHeight),r=az(o.top,p.plotTop),o=az(o.left,p.plotLeft+w),w=/%$/;w.test(s)&&(s=parseFloat(s)/100*p.plotHeight);w.test(r)&&(r=parseFloat(r)/100*p.plotHeight+p.plotTop);this.left=o;this.top=r;this.width=t;this.height=s;this.bottom=p.chartHeight-s-r;this.right=p.chartWidth-t-o;this.len=aw(v?t:s,0);this.pos=v?o:r},getExtremes:function(){var o=this.isLog;return{min:o?g(aF(this.min)):this.min,max:o?g(aF(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(p){var o=this.isLog,r=o?aF(this.min):this.min,o=o?aF(this.max):this.max;p===null?p=o<0?o:r:r>p?p=r:o<p&&(p=o);return this.translate(p,0,1,0,1)},autoLabelAlign:function(o){o=(az(o,0)-this.side*90+720)%360;return o>15&&o<165?"right":o>195&&o<345?"left":"center"},unsquish:function(){var E=this.ticks,D=this.options.labels,C=this.horiz,B=this.tickInterval,A=B,z=this.len/(((this.categories?1:0)+this.max-this.min)/B),w,v=D.rotation,t=this.chart.renderer.fontMetrics(D.style.fontSize,E[0]&&E[0].label),s,r=Number.MAX_VALUE,o,p=function(F){F/=z||1;F=F>1?bL(F):1;return F*B};C?(o=ax(v)?[v]:z<az(D.autoRotationLimit,80)&&!D.staggerLines&&!D.step&&D.autoRotation)&&aA(o,function(H){var F;if(H===v||H&&H>=-90&&H<=90){s=p(a3(t.h/bz(bC*H))),F=s+a3(H/360),F<r&&(r=F,w=H,A=s)}}):D.step||(A=p(t.h));this.autoRotation=o;this.labelRotation=w;return A},renderUnsquish:function(){var E=this.chart,D=E.renderer,C=this.tickPositions,B=this.ticks,A=this.options.labels,z=this.horiz,w=E.margin,v=this.categories?C.length:C.length-1,t=this.slotWidth=z&&!A.step&&!A.rotation&&(this.staggerLines||1)*E.plotWidth/v||!z&&(w[3]&&w[3]-E.spacing[3]||E.chartWidth*0.33),s=aw(1,au(t-2*(A.padding||5))),r={},w=D.fontMetrics(A.style.fontSize,B[0]&&B[0].label),v=A.style.textOverflow,o,p=0;if(!bU(A.rotation)){r.rotation=A.rotation||0}if(this.autoRotation){aA(C,function(F){if((F=B[F])&&F.labelLength>p){p=F.labelLength}}),p>s&&p>w.h?r.rotation=this.labelRotation:this.labelRotation=0}else{if(t&&(o={width:s+"px"},!v)){o.textOverflow="clip";for(t=C.length;!z&&t--;){if(s=C[t],s=B[s].label){if(s.styles.textOverflow==="ellipsis"&&s.css({textOverflow:"clip"}),s.getBBox().height>this.len/C.length-(w.h-w.f)){s.specCss={textOverflow:"ellipsis"}}}}}}if(r.rotation&&(o={width:(p>E.chartHeight*0.5?E.chartHeight*0.33:E.chartHeight)+"px"},!v)){o.textOverflow="ellipsis"}this.labelAlign=r.align=A.align||this.autoLabelAlign(this.labelRotation);aA(C,function(H){var F=(H=B[H])&&H.label;if(F){o&&F.css(br(o,F.specCss)),delete F.specCss,F.attr(r),H.rotation=r.rotation}});this.tickRotCorr=D.rotCorr(w.b,this.labelRotation||0,this.side===2)},hasData:function(){return this.hasVisibleSeries||ax(this.min)&&ax(this.max)&&!!this.tickPositions},getOffset:function(){var M=this,L=M.chart,K=L.renderer,J=M.options,I=M.tickPositions,H=M.ticks,F=M.horiz,E=M.side,D=L.inverted?[1,0,3,2][E]:E,C,B,z=0,A,w=0,v=J.title,s=J.labels,o=0,p=L.axisOffset,L=L.clipOffset,t=[-1,1,1,-1][E],r;C=M.hasData();M.showAxis=B=C||az(J.showEmpty,!0);M.staggerLines=M.horiz&&s.staggerLines;if(!M.axisGroup){M.gridGroup=K.g("grid").attr({zIndex:J.gridZIndex||1}).add(),M.axisGroup=K.g("axis").attr({zIndex:J.zIndex||2}).add(),M.labelGroup=K.g("axis-labels").attr({zIndex:s.zIndex||7}).addClass("highcharts-"+M.coll.toLowerCase()+"-labels").add()}if(C||M.isLinked){if(aA(I,function(N){H[N]?H[N].addLabel():H[N]=new G(M,N)}),M.renderUnsquish(),aA(I,function(N){if(E===0||E===2||{1:"left",3:"right"}[E]===M.labelAlign){o=aw(H[N].getLabelSize(),o)}}),M.staggerLines){o*=M.staggerLines,M.labelOffset=o}}else{for(r in H){H[r].destroy(),delete H[r]}}if(v&&v.text&&v.enabled!==!1){if(!M.axisTitle){M.axisTitle=K.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(v.style).add(M.axisGroup),M.axisTitle.isNew=!0}if(B){z=M.axisTitle.getBBox()[F?"height":"width"],A=v.offset,w=ax(A)?0:az(v.margin,F?5:10)}M.axisTitle[B?"show":"hide"]()}M.offset=t*az(J.offset,p[E]);M.tickRotCorr=M.tickRotCorr||{x:0,y:0};K=E===2?M.tickRotCorr.y:0;F=o+w+(o&&t*(F?az(s.y,M.tickRotCorr.y+8):s.x)-K);M.axisTitleMargin=az(A,F);p[E]=aw(p[E],M.axisTitleMargin+z+t*M.offset,F);J=J.offset?0:aV(J.lineWidth/2)*2;L[D]=aw(L[D],J)},getLinePath:function(p){var o=this.chart,v=this.opposite,t=this.offset,s=this.horiz,r=this.left+(v?this.width:0)+t,t=o.chartHeight-this.bottom-(v?this.height:0)+t;v&&(p*=-1);return o.renderer.crispLine(["M",s?this.left:r,s?t:this.top,"L",s?o.chartWidth-this.right:r,s?t:o.chartHeight-this.bottom],p)},getTitlePosition:function(){var C=this.horiz,B=this.left,A=this.top,z=this.len,w=this.options.title,v=C?B:A,t=this.opposite,s=this.offset,r=w.x||0,p=w.y||0,o=bg(w.style.fontSize||12),z={low:v+(C?0:z),middle:v+z/2,high:v+(C?z:0)}[w.align],B=(C?A+this.height:B)+(C?1:-1)*(t?-1:1)*this.axisTitleMargin+(this.side===2?o:0);return{x:C?z+r:B+(t?this.width:0)+s+r,y:C?B+p-(t?this.height:0)+s:z+p}},render:function(){var P=this,O=P.chart,N=O.renderer,M=P.options,L=P.isLog,K=P.isLinked,J=P.tickPositions,I=P.axisTitle,H=P.ticks,F=P.minorTicks,E=P.alternateBands,C=M.stackLabels,D=M.alternateGridColor,B=P.tickmarkOffset,z=M.lineWidth,s,A=O.hasRendered&&ax(P.oldMin)&&!isNaN(P.oldMin),o=P.showAxis,v=N.globalAnimation,r,w;P.labelEdge.length=0;P.overlap=!1;aA([H,F,E],function(t){for(var p in t){t[p].isActive=!1}});if(P.hasData()||K){P.minorTickInterval&&!P.categories&&aA(P.getMinorTickPositions(),function(p){F[p]||(F[p]=new G(P,p,"minor"));A&&F[p].isNew&&F[p].render(null,!0);F[p].render(null,!1,1)});if(J.length&&(aA(J,function(p,t){if(!K||p>=P.min&&p<=P.max){H[p]||(H[p]=new G(P,p)),A&&H[p].isNew&&H[p].render(t,!0,0.1),H[p].render(t)}}),B&&(P.min===0||P.single))){H[-1]||(H[-1]=new G(P,-1,null,!0)),H[-1].render(-1)}D&&aA(J,function(p,t){if(t%2===0&&p<P.max){E[p]||(E[p]=new bp.PlotLineOrBand(P)),r=p+B,w=J[t+1]!==av?J[t+1]+B:P.max,E[p].options={from:L?aF(r):r,to:L?aF(w):w,color:D},E[p].render(),E[p].isActive=!0}});if(!P._addedPlotLB){aA((M.plotLines||[]).concat(M.plotBands||[]),function(p){P.addPlotBandOrLine(p)}),P._addedPlotLB=!0}}aA([H,F,E],function(p){var V,U,S=[],R=v?v.duration||500:0,t=function(){for(U=S.length;U--;){p[S[U]]&&!p[S[U]].isActive&&(p[S[U]].destroy(),delete p[S[U]])}};for(V in p){if(!p[V].isActive){p[V].render(V,!1,0),p[V].isActive=!1,S.push(V)}}p===E||!O.hasRendered||!R?t():R&&setTimeout(t,R)});if(z){s=P.getLinePath(z),P.axisLine?P.axisLine.animate({d:s}):P.axisLine=N.path(s).attr({stroke:M.lineColor,"stroke-width":z,zIndex:7}).add(P.axisGroup),P.axisLine[o?"show":"hide"]()}if(I&&o){I[I.isNew?"attr":"animate"](P.getTitlePosition()),I.isNew=!1}C&&C.enabled&&P.renderStackTotals();P.isDirty=!1},redraw:function(){this.render();aA(this.plotLinesAndBands,function(o){o.render()});aA(this.series,function(o){o.isDirty=!0})},destroy:function(p){var o=this,t=o.stacks,s,r=o.plotLinesAndBands;p||aQ(o);for(s in t){bu(t[s]),t[s]=null}aA([o.ticks,o.minorTicks,o.alternateBands],function(v){bu(v)});for(p=r.length;p--;){r[p].destroy()}aA("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(v){o[v]&&(o[v]=o[v].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(p,o){var t,s=this.crosshair,r=s.animation;if(!this.crosshair||(ax(o)||!az(this.crosshair.snap,!0))===!1||o&&o.series&&o.series[this.coll]!==this){this.hideCrosshair()}else{if(az(s.snap,!0)?ax(o)&&(t=this.isXAxis?o.plotX:this.len-o.plotY):t=this.horiz?p.chartX-this.pos:this.len-p.chartY+this.pos,t=this.isRadial?this.getPlotLinePath(this.isXAxis?o.x:az(o.stackY,o.y))||null:this.getPlotLinePath(null,null,null,null,t)||null,t===null){this.hideCrosshair()}else{if(this.cross){this.cross.attr({visibility:"visible"})[r?"animate":"attr"]({d:t},r)}else{r=this.categories&&!this.isRadial;r={"stroke-width":s.width||(r?this.transA:1),stroke:s.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:s.zIndex||2};if(s.dashStyle){r.dashstyle=s.dashStyle}this.cross=this.chart.renderer.path(t).attr(r).add()}}}},hideCrosshair:function(){this.cross&&this.cross.hide()}};ay(a8.prototype,{getPlotBandPath:function(p,o){var s=this.getPlotLinePath(o,null,null,!0),r=this.getPlotLinePath(p,null,null,!0);r&&s&&r.toString()!==s.toString()?r.push(s[4],s[5],s[1],s[2]):r=null;return r},addPlotBand:function(o){return this.addPlotBandOrLine(o,"plotBands")},addPlotLine:function(o){return this.addPlotBandOrLine(o,"plotLines")},addPlotBandOrLine:function(p,o){var s=(new bp.PlotLineOrBand(this,p)).render(),r=this.userOptions;s&&(o&&(r[o]=r[o]||[],r[o].push(p)),this.plotLinesAndBands.push(s));return s},removePlotBandOrLine:function(p){for(var o=this.plotLinesAndBands,t=this.options,s=this.userOptions,r=o.length;r--;){o[r].id===p&&o[r].destroy()}aA([t.plotLines||[],s.plotLines||[],t.plotBands||[],s.plotBands||[]],function(v){for(r=v.length;r--;){v[r].id===p&&ag(v,v[r])}})}});a8.prototype.getTimeTicks=function(F,E,D,C){var B=[],A={},z=aX.global.useUTC,w,v=new bO(E-aR(E)),t=F.unitRange,s=F.count;if(ax(E)){v[aE](t>=bj.second?0:s*aV(v.getMilliseconds()/s));if(t>=bj.second){v[af](t>=bj.minute?0:s*aV(v.getSeconds()/s))}if(t>=bj.minute){v[i](t>=bj.hour?0:s*aV(v[l]()/s))}if(t>=bj.hour){v[bW](t>=bj.day?0:s*aV(v[bZ]()/s))}if(t>=bj.day){v[bq](t>=bj.month?1:s*aV(v[at]()/s))}t>=bj.month&&(v[aL](t>=bj.year?0:s*aV(v[T]()/s)),w=v[e]());t>=bj.year&&(w-=w%s,v[am](w));if(t===bj.week){v[bq](v[at]()-v[bJ]()+az(C,1))}E=1;if(bE||aZ){v=v.getTime(),v=new bO(v+aR(v))}w=v[e]();for(var C=v.getTime(),p=v[T](),r=v[at](),o=(bj.day+(z?aR(v):v.getTimezoneOffset()*60000))%bj.day;C<D;){B.push(C),t===bj.year?C=ac(w+E*s,0):t===bj.month?C=ac(w,p+E*s):!z&&(t===bj.day||t===bj.week)?C=ac(w,p,r+E*s*(t===bj.day?1:7)):C+=t*s,E++}B.push(C);aA(aD(B,function(H){return t<=bj.hour&&H%bj.day===o}),function(H){A[H]="day"})}B.info=ay(F,{higherRanks:A,totalRange:t*s});return B};a8.prototype.normalizeTimeTickInterval=function(p,o){var w=o||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],v=w[w.length-1],t=bj[v[0]],s=v[1],r;for(r=0;r<w.length;r++){if(v=w[r],t=bj[v[0]],s=v[1],w[r+1]&&p<=(t*s[s.length-1]+bj[w[r+1][0]])/2){break}}t===bj.year&&p<5*t&&(s=[1,2,5]);w=aH(p/t,s,v[0]==="year"?aw(bh(p/t),1):1);return{unitRange:t,count:w,unitName:v[0]}};a8.prototype.getLogTickPositions=function(D,C,B,A){var z=this.options,w=this.len,v=[];if(!A){this._minorAutoInterval=null}if(D>=0.5){D=au(D),v=this.getLinearTickPositions(D,C,B)}else{if(D>=0.08){for(var w=aV(C),t,s,r,p,o,z=D>0.3?[1,2,4]:D>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];w<B+1&&!o;w++){s=z.length;for(t=0;t<s&&!o;t++){r=bD(aF(w)*z[t]),r>C&&(!A||p<=B)&&p!==av&&v.push(p),p>B&&(o=!0),p=r}}}else{if(C=aF(C),B=aF(B),D=z[A?"minorTickInterval":"tickInterval"],D=az(D==="auto"?null:D,this._minorAutoInterval,(B-C)*(z.tickPixelInterval/(A?5:1))/((A?w/this.tickPositions.length:w)||1)),D=aH(D,null,bh(D)),v=bP(this.getLinearTickPositions(D,C,B),bD),!A){this._minorAutoInterval=D/5}}}if(!A){this.tickInterval=D}return v};var b0=bp.Tooltip=function(){this.init.apply(this,arguments)};b0.prototype={init:function(p,o){var t=o.borderWidth,s=o.style,r=bg(s.padding);this.chart=p;this.options=o;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=p.renderer.label("",0,0,o.shape||"callout",null,null,o.useHTML,null,"tooltip").attr({padding:r,fill:o.backgroundColor,"stroke-width":t,r:o.borderRadius,zIndex:8}).css(s).css({padding:0}).add().attr({y:-9999});bT||this.label.shadow(o.shadow);this.shared=o.shared},destroy:function(){if(this.label){this.label=this.label.destroy()}clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(p,o,z,w){var v=this,t=v.now,s=v.options.animation!==!1&&!v.isHidden&&(a3(p-t.x)>1||a3(o-t.y)>1),r=v.followPointer||v.len>1;ay(t,{x:s?(2*t.x+p)/3:p,y:s?(t.y+o)/2:o,anchorX:r?av:s?(2*t.anchorX+z)/3:z,anchorY:r?av:s?(t.anchorY+w)/2:w});v.label.attr(t);if(s){clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){v&&v.move(p,o,z,w)},32)}},hide:function(p){var o=this;clearTimeout(this.hideTimer);if(!this.isHidden){this.hideTimer=setTimeout(function(){o.label.fadeOut();o.isHidden=!0},az(p,this.options.hideDelay,500))}},getAnchor:function(C,B){var A,z=this.chart,w=z.inverted,v=z.plotTop,t=z.plotLeft,s=0,r=0,p,o,C=b1(C);A=C[0].tooltipPos;this.followPointer&&B&&(B.chartX===av&&(B=z.pointer.normalize(B)),A=[B.chartX-z.plotLeft,B.chartY-v]);A||(aA(C,function(D){p=D.series.yAxis;o=D.series.xAxis;s+=D.plotX+(!w&&o?o.left-t:0);r+=(D.plotLow?(D.plotLow+D.plotHigh)/2:D.plotY)+(!w&&p?p.top-v:0)}),s/=C.length,r/=C.length,A=[w?z.plotWidth-r:s,this.shared&&!w&&C.length>1&&B?B.chartY-v:w?z.plotHeight-s:r]);return bP(A,au)},getPosition:function(H,F,E){var D=this.chart,C=this.distance,B={},A=E.h||0,z,w=["y",D.chartHeight,F,E.plotY+D.plotTop,D.plotTop,D.plotTop+D.plotHeight],v=["x",D.chartWidth,H,E.plotX+D.plotLeft,D.plotLeft,D.plotLeft+D.plotWidth],t=az(E.ttBelow,D.inverted&&!E.negative||!D.inverted&&E.negative),r=function(R,P,O,N,M,L){var K=O<N-C,J=N+C+O<P,I=N-C-O;N+=C;if(t&&J){B[R]=N}else{if(!t&&K){B[R]=I}else{if(K){B[R]=aq(L-O,I-A<0?I:I-A)}else{if(J){B[R]=aw(M,N+A+O>P?N:N+A)}else{return !1}}}}},s=function(J,I,L,K){if(K<C||K>I-C){return !1}else{B[J]=K<L/2?1:K>I-L/2?I-L-2:K-L/2}},p=function(J){var I=w;w=v;v=I;z=J},o=function(){r.apply(0,w)!==!1?s.apply(0,v)===!1&&!z&&(p(!0),o()):z?B.x=B.y=0:(p(!0),o())};(D.inverted||this.len>1)&&p();o();return B},defaultFormatter:function(p){var o=this.points||b1(this),r;r=[p.tooltipFooterHeaderFormatter(o[0])];r=r.concat(p.bodyFormatter(o));r.push(p.tooltipFooterHeaderFormatter(o[0],!0));return r.join("")},refresh:function(E,D){var C=this.chart,B=this.label,A=this.options,z,w,v,t={},s,r=[];s=A.formatter||this.defaultFormatter;var t=C.hoverPoints,o,p=this.shared;clearTimeout(this.hideTimer);this.followPointer=b1(E)[0].series.tooltipOptions.followPointer;v=this.getAnchor(E,D);z=v[0];w=v[1];p&&(!E.series||!E.series.noSharedTooltip)?(C.hoverPoints=E,t&&aA(t,function(F){F.setState()}),aA(E,function(F){F.setState("hover");r.push(F.getLabelConfig())}),t={x:E[0].category,y:E[0].y},t.points=r,this.len=r.length,E=E[0]):t=E.getLabelConfig();s=s.call(t,this);t=E.series;this.distance=az(t.tooltipOptions.distance,16);s===!1?this.hide():(this.isHidden&&(h(B),B.attr("opacity",1).show()),B.attr({text:s}),o=A.borderColor||E.color||t.color||"#606060",B.attr({stroke:o}),this.updatePosition({plotX:z,plotY:w,negative:E.negative,ttBelow:E.ttBelow,h:v[2]||0}),this.isHidden=!1);bd(C,"tooltipRefresh",{text:s,x:z+C.plotLeft,y:w+C.plotTop,borderColor:o})},updatePosition:function(p){var o=this.chart,r=this.label,r=(this.options.positioner||this.getPosition).call(this,r.width,r.height,p);this.move(au(r.x),au(r.y||0),p.plotX+o.plotLeft,p.plotY+o.plotTop)},getXDateFormat:function(A,z,w){var v,z=z.dateTimeLabelFormats,t=w&&w.closestPointRange,s,r={millisecond:15,second:12,minute:9,hour:6,day:3},p,o="millisecond";if(t){p=b2("%m-%d %H:%M:%S.%L",A.x);for(s in bj){if(t===bj.week&&+b2("%w",A.x)===w.options.startOfWeek&&p.substr(6)==="00:00:00.000"){s="week";break}else{if(bj[s]>t){s=o;break}else{if(r[s]&&p.substr(r[s])!=="01-01 00:00:00.000".substr(r[s])){break}}}s!=="week"&&(o=s)}s&&(v=z[s])}else{v=z.day}return v||z.year},tooltipFooterHeaderFormatter:function(p,o){var z=o?"footer":"header",w=p.series,v=w.tooltipOptions,t=v.xDateFormat,s=w.xAxis,r=s&&s.options.type==="datetime"&&n(p.key),z=v[z+"Format"];r&&!t&&(t=this.getXDateFormat(p,v,s));r&&t&&(z=z.replace("{point.key}","{point.key:"+t+"}"));return bH(z,{point:p,series:w})},bodyFormatter:function(o){return bP(o,function(p){var r=p.series.tooltipOptions;return(r.pointFormatter||p.point.tooltipFormatter).call(p.point,r.pointFormat)})}};var aI;bo=bn.documentElement.ontouchstart!==av;var bx=bp.Pointer=function(p,o){this.init(p,o)};bx.prototype={init:function(p,o){var v=o.chart,t=v.events,s=bT?"":v.zoomType,v=p.inverted,r;this.options=o;this.chart=p;this.zoomX=r=/x/.test(s);this.zoomY=s=/y/.test(s);this.zoomHor=r&&!v||s&&v;this.zoomVert=s&&!v||r&&v;this.hasZoom=r||s;this.runChartClick=t&&!!t.click;this.pinchDown=[];this.lastValidTouch={};if(bp.Tooltip&&o.tooltip.enabled){p.tooltip=new b0(p,o.tooltip),this.followTouchMove=az(o.tooltip.followTouchMove,!0)}this.setDOMEvents()},normalize:function(p,o){var s,r,p=p||window.event,p=b(p);if(!p.target){p.target=p.srcElement}r=p.touches?p.touches.length?p.touches.item(0):p.changedTouches[0]:p;if(!o){this.chartPosition=o=y(this.chart.container)}r.pageX===av?(s=aw(p.x,p.clientX-o.left),r=p.y):(s=r.pageX-o.left,r=r.pageY-o.top);return ay(p,{chartX:au(s),chartY:au(r)})},getCoordinates:function(p){var o={xAxis:[],yAxis:[]};aA(this.chart.axes,function(r){o[r.isXAxis?"xAxis":"yAxis"].push({axis:r,value:r.toValue(p[r.horiz?"chartX":"chartY"])})});return o},runPointActions:function(F){var E=this.chart,D=E.series,C=E.tooltip,B=C?C.shared:!1,A=E.hoverPoint,z=E.hoverSeries,w,v=E.chartWidth,t,s,p=[],r,o;if(!B&&!z){for(w=0;w<D.length;w++){if(D[w].directTouch||!D[w].options.stickyTracking){D=[]}}}!B&&z&&z.directTouch&&A?r=A:(aA(D,function(H){t=H.noSharedTooltip&&B;s=!B&&H.directTouch;H.visible&&!t&&!s&&az(H.options.enableMouseTracking,!0)&&(o=H.searchPoint(F,!t&&H.kdDimensions===1))&&p.push(o)}),aA(p,function(H){if(H&&typeof H.dist==="number"&&H.dist<v){v=H.dist,r=H}}));if(r&&(r!==this.prevKDPoint||C&&C.isHidden)){if(B&&!r.series.noSharedTooltip){for(w=p.length;w--;){(p[w].clientX!==r.clientX||p[w].series.noSharedTooltip)&&p.splice(w,1)}p.length&&C&&C.refresh(p,F);aA(p,function(H){H.onMouseOver(F,H!==(z&&z.directTouch&&A||r))})}else{if(C&&C.refresh(r,F),!z||!z.directTouch){r.onMouseOver(F)}}this.prevKDPoint=r}else{D=z&&z.tooltipOptions.followPointer,C&&D&&!C.isHidden&&(D=C.getAnchor([{}],F),C.updatePosition({plotX:D[0],plotY:D[1]}))}if(C&&!this._onDocumentMouseMove){this._onDocumentMouseMove=function(H){if(aS[aI]){aS[aI].pointer.onDocumentMouseMove(H)}},bf(bn,"mousemove",this._onDocumentMouseMove)}aA(E.axes,function(H){H.drawCrosshair(F,az(r,A))})},reset:function(p,o){var z=this.chart,w=z.hoverSeries,v=z.hoverPoint,t=z.hoverPoints,s=z.tooltip,r=s&&s.shared?t:v;(p=p&&s&&r)&&b1(r)[0].plotX===av&&(p=!1);if(p){s.refresh(r),v&&(v.setState(v.state,!0),aA(z.axes,function(A){az(A.options.crosshair&&A.options.crosshair.snap,!0)?A.drawCrosshair(null,v):A.hideCrosshair()}))}else{if(v){v.onMouseOut()}t&&aA(t,function(A){A.setState()});if(w){w.onMouseOut()}s&&s.hide(o);if(this._onDocumentMouseMove){aQ(bn,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null}aA(z.axes,function(A){A.hideCrosshair()});this.hoverX=z.hoverPoints=z.hoverPoint=null}},scaleGroups:function(p,o){var s=this.chart,r;aA(s.series,function(t){r=p||t.getPlotBox();t.xAxis&&t.xAxis.zoomEnabled&&(t.group.attr(r),t.markerGroup&&(t.markerGroup.attr(r),t.markerGroup.clip(o?s.clipRect:null)),t.dataLabelsGroup&&t.dataLabelsGroup.attr(r))});s.clipRect.attr(o||s.clipBox)},dragStart:function(p){var o=this.chart;o.mouseIsDown=p.type;o.cancelClick=!1;o.mouseDownX=this.mouseDownX=p.chartX;o.mouseDownY=this.mouseDownY=p.chartY},drag:function(I){var F=this.chart,E=F.options.chart,D=I.chartX,C=I.chartY,B=this.zoomHor,A=this.zoomVert,z=F.plotLeft,w=F.plotTop,v=F.plotWidth,t=F.plotHeight,r,s=this.selectionMarker,p=this.mouseDownX,o=this.mouseDownY,H=E.panKey&&I[E.panKey+"Key"];if(!s||!s.touch){if(D<z?D=z:D>z+v&&(D=z+v),C<w?C=w:C>w+t&&(C=w+t),this.hasDragged=Math.sqrt(Math.pow(p-D,2)+Math.pow(o-C,2)),this.hasDragged>10){r=F.isInsidePlot(p-z,o-w);if(F.hasCartesianSeries&&(this.zoomX||this.zoomY)&&r&&!H&&!s){this.selectionMarker=s=F.renderer.rect(z,w,B?1:v,A?1:t,0).attr({fill:E.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}s&&B&&(D-=p,s.attr({width:a3(D),x:(D>0?0:D)+p}));s&&A&&(D=C-o,s.attr({height:a3(D),y:(D>0?0:D)+o}));r&&!s&&E.panning&&F.pan(I,E.panning)}}},drop:function(C){var B=this,A=this.chart,z=this.hasPinched;if(this.selectionMarker){var w={xAxis:[],yAxis:[],originalEvent:C.originalEvent||C},v=this.selectionMarker,t=v.attr?v.attr("x"):v.x,s=v.attr?v.attr("y"):v.y,r=v.attr?v.attr("width"):v.width,p=v.attr?v.attr("height"):v.height,o;if(this.hasDragged||z){aA(A.axes,function(H){if(H.zoomEnabled&&ax(H.min)&&(z||B[{xAxis:"zoomX",yAxis:"zoomY"}[H.coll]])){var E=H.horiz,F=C.type==="touchend"?H.minPixelPadding:0,D=H.toValue((E?t:s)+F),E=H.toValue((E?t+r:s+p)-F);w[H.coll].push({axis:H,min:aq(D,E),max:aw(D,E)});o=!0}}),o&&bd(A,"selection",w,function(D){A.zoom(ay(D,z?{animation:!1}:null))})}this.selectionMarker=this.selectionMarker.destroy();z&&this.scaleGroups()}if(A){a5(A.container,{cursor:A._cursor}),A.cancelClick=this.hasDragged>10,A.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]}},onContainerMouseDown:function(o){o=this.normalize(o);o.preventDefault&&o.preventDefault();this.dragStart(o)},onDocumentMouseUp:function(o){aS[aI]&&aS[aI].pointer.drop(o)},onDocumentMouseMove:function(p){var o=this.chart,r=this.chartPosition,p=this.normalize(p,r);r&&!this.inClass(p.target,"highcharts-tracker")&&!o.isInsidePlot(p.chartX-o.plotLeft,p.chartY-o.plotTop)&&this.reset()},onContainerMouseLeave:function(){var o=aS[aI];if(o){o.pointer.reset(),o.pointer.chartPosition=null}},onContainerMouseMove:function(p){var o=this.chart;aI=o.index;p=this.normalize(p);p.returnValue=!1;o.mouseIsDown==="mousedown"&&this.drag(p);(this.inClass(p.target,"highcharts-tracker")||o.isInsidePlot(p.chartX-o.plotLeft,p.chartY-o.plotTop))&&!o.openMenu&&this.runPointActions(p)},inClass:function(p,o){for(var r;p;){if(r=a9(p,"class")){if(r.indexOf(o)!==-1){return !0}else{if(r.indexOf("highcharts-container")!==-1){return !1}}}p=p.parentNode}},onTrackerMouseOut:function(p){var o=this.chart.hoverSeries,r=(p=p.relatedTarget||p.toElement)&&p.point&&p.point.series;if(o&&!o.options.stickyTracking&&!this.inClass(p,"highcharts-tooltip")&&r!==o){o.onMouseOut()}},onContainerClick:function(p){var o=this.chart,t=o.hoverPoint,s=o.plotLeft,r=o.plotTop,p=this.normalize(p);p.originalEvent=p;o.cancelClick||(t&&this.inClass(p.target,"highcharts-tracker")?(bd(t.series,"click",ay(p,{point:t})),o.hoverPoint&&t.firePointEvent("click",p)):(ay(p,this.getCoordinates(p)),o.isInsidePlot(p.chartX-s,p.chartY-r)&&bd(o,"click",p)))},setDOMEvents:function(){var p=this,o=p.chart.container;o.onmousedown=function(r){p.onContainerMouseDown(r)};o.onmousemove=function(r){p.onContainerMouseMove(r)};o.onclick=function(r){p.onContainerClick(r)};bf(o,"mouseleave",p.onContainerMouseLeave);by===1&&bf(bn,"mouseup",p.onDocumentMouseUp);if(bo){o.ontouchstart=function(r){p.onContainerTouchStart(r)},o.ontouchmove=function(r){p.onContainerTouchMove(r)},by===1&&bf(bn,"touchend",p.onDocumentTouchEnd)}},destroy:function(){var o;aQ(this.chart.container,"mouseleave",this.onContainerMouseLeave);by||(aQ(bn,"mouseup",this.onDocumentMouseUp),aQ(bn,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(o in this){this[o]=null}}};ay(bp.Pointer.prototype,{pinchTranslate:function(p,o,v,t,s,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,p,o,v,t,s,r);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,p,o,v,t,s,r)},pinchTranslateDirection:function(ab,aa,Z,Y,X,W,V,U){var S=this.chart,R=ab?"x":"y",P=ab?"X":"Y",N="chart"+P,O=ab?"width":"height",M=S["plot"+(ab?"Left":"Top")],J,B,K=U||1,L=S.inverted,E=S.bounds[ab?"h":"v"],F=aa.length===1,H=aa[0][N],I=Z[0][N],C=!F&&aa[1][N],D=!F&&Z[1][N],A,Z=function(){!F&&a3(H-C)>20&&(K=U||a3(I-D)/a3(H-C));B=(M-I)/K+H;J=S["plot"+(ab?"Width":"Height")]/K};Z();aa=B;aa<E.min?(aa=E.min,A=!0):aa+J>E.max&&(aa=E.max-J,A=!0);A?(I-=0.8*(I-V[R][0]),F||(D-=0.8*(D-V[R][1])),Z()):V[R]=[I,D];L||(W[R]=B-M,W[O]=J);W=L?1/K:K;X[O]=J;X[R]=aa;Y[L?ab?"scaleY":"scaleX":"scale"+P]=K;Y["translate"+P]=W*M+(I-W*H)},pinch:function(D){var C=this,B=C.chart,A=C.pinchDown,z=D.touches,w=z.length,v=C.lastValidTouch,t=C.hasZoom,s=C.selectionMarker,r={},p=w===1&&(C.inClass(D.target,"highcharts-tracker")&&B.runTrackerClick||C.runChartClick),o={};if(w>1){C.initiated=!0}t&&C.initiated&&!p&&D.preventDefault();bP(z,function(E){return C.normalize(E)});if(D.type==="touchstart"){aA(z,function(F,E){A[E]={chartX:F.chartX,chartY:F.chartY}}),v.x=[A[0].chartX,A[1]&&A[1].chartX],v.y=[A[0].chartY,A[1]&&A[1].chartY],aA(B.axes,function(F){if(F.zoomEnabled){var E=B.bounds[F.horiz?"h":"v"],K=F.minPixelPadding,J=F.toPixels(az(F.options.min,F.dataMin)),I=F.toPixels(az(F.options.max,F.dataMax)),H=aq(J,I),J=aw(J,I);E.min=aq(F.pos,H-K);E.max=aw(F.pos+F.len,J+K)}}),C.res=!0}else{if(A.length){if(!s){C.selectionMarker=s=ay({destroy:bt,touch:!0},B.plotBox)}C.pinchTranslate(A,z,r,s,o,v);C.hasPinched=t;C.scaleGroups(r,o);if(!t&&C.followTouchMove&&w===1){this.runPointActions(C.normalize(D))}else{if(C.res){C.res=!1,this.reset(!1,0)}}}}},touch:function(p,o){var r=this.chart;aI=r.index;p.touches.length===1?(p=this.normalize(p),r.isInsidePlot(p.chartX-r.plotLeft,p.chartY-r.plotTop)&&!r.openMenu?(o&&this.runPointActions(p),this.pinch(p)):o&&this.reset()):p.touches.length===2&&this.pinch(p)},onContainerTouchStart:function(o){this.touch(o,!0)},onContainerTouchMove:function(o){this.touch(o)},onDocumentTouchEnd:function(o){aS[aI]&&aS[aI].pointer.drop(o)}});if(a7.PointerEvent||a7.MSPointerEvent){var an={},bS=!!a7.PointerEvent,ar=function(){var p,o=[];o.item=function(r){return this[r]};for(p in an){an.hasOwnProperty(p)&&o.push({pageX:an[p].pageX,pageY:an[p].pageY,target:an[p].target})}return o},bB=function(p,o,s,r){p=p.originalEvent||p;if((p.pointerType==="touch"||p.pointerType===p.MSPOINTER_TYPE_TOUCH)&&aS[aI]){r(p),r=aS[aI].pointer,r[o]({type:s,target:p.currentTarget,preventDefault:bt,touches:ar()})}};ay(bx.prototype,{onContainerPointerDown:function(o){bB(o,"onContainerTouchStart","touchstart",function(p){an[p.pointerId]={pageX:p.pageX,pageY:p.pageY,target:p.currentTarget}})},onContainerPointerMove:function(o){bB(o,"onContainerTouchMove","touchmove",function(p){an[p.pointerId]={pageX:p.pageX,pageY:p.pageY};if(!an[p.pointerId].target){an[p.pointerId].target=p.currentTarget}})},onDocumentPointerUp:function(o){bB(o,"onDocumentTouchEnd","touchend",function(p){delete an[p.pointerId]})},batchMSEvents:function(o){o(this.chart.container,bS?"pointerdown":"MSPointerDown",this.onContainerPointerDown);o(this.chart.container,bS?"pointermove":"MSPointerMove",this.onContainerPointerMove);o(bn,bS?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});d(bx.prototype,"init",function(p,o,r){p.call(this,o,r);this.hasZoom&&a5(o.container,{"-ms-touch-action":a2,"touch-action":a2})});d(bx.prototype,"setDOMEvents",function(o){o.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(bf)});d(bx.prototype,"destroy",function(o){this.batchMSEvents(aQ);o.call(this)})}var bV=bp.Legend=function(p,o){this.init(p,o)};bV.prototype={init:function(p,o){var t=this,s=o.itemStyle,r=o.itemMarginTop||0;this.options=o;if(o.enabled){t.itemStyle=s,t.itemHiddenStyle=br(s,o.itemHiddenStyle),t.itemMarginTop=r,t.padding=s=az(o.padding,8),t.initialItemX=s,t.initialItemY=s-5,t.maxItemWidth=0,t.chart=p,t.itemHeight=0,t.symbolWidth=az(o.symbolWidth,16),t.pages=[],t.render(),bf(t.chart,"endResize",function(){t.positionCheckboxes()})}},colorizeItem:function(B,A){var z=this.options,w=B.legendItem,v=B.legendLine,t=B.legendSymbol,s=this.itemHiddenStyle.color,z=A?z.itemStyle.color:s,r=A?B.legendColor||B.color||"#CCC":s,s=B.options&&B.options.marker,p={fill:r},o;w&&w.css({fill:z,color:z});v&&v.attr({stroke:r});if(t){if(s&&t.isMarker){for(o in p.stroke=r,s=B.convertAttribs(s),s){w=s[o],w!==av&&(p[o]=w)}}t.attr(p)}},positionItem:function(p){var o=this.options,v=o.symbolPadding,o=!o.rtl,t=p._legendItemPos,s=t[0],t=t[1],r=p.checkbox;(p=p.legendGroup)&&p.element&&p.translate(o?s:this.legendWidth-s-2*v-4,t);if(r){r.x=s,r.y=t}},destroyItem:function(p){var o=p.checkbox;aA(["legendItem","legendLine","legendSymbol","legendGroup"],function(r){p[r]&&(p[r]=p[r].destroy())});o&&aO(p.checkbox)},destroy:function(){var p=this.group,o=this.box;if(o){this.box=o.destroy()}if(p){this.group=p.destroy()}},positionCheckboxes:function(p){var o=this.group.alignAttr,s,r=this.clipHeight||this.legendHeight;if(o){s=o.translateY,aA(this.allItems,function(w){var v=w.checkbox,t;v&&(t=s+v.y+(p||0)+3,a5(v,{left:o.translateX+w.checkboxOffset+v.x-20+"px",top:t+"px",display:t>s-6&&t<s+r-6?"":a2}))})}},renderTitle:function(){var p=this.padding,o=this.options.title,r=0;if(o.text){if(!this.title){this.title=this.chart.renderer.label(o.text,p-3,p-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(o.style).add(this.group)}p=this.title.getBBox();r=p.height;this.offsetWidth=p.width;this.contentGroup.attr({translateY:r})}this.titleHeight=r},setText:function(p){var o=this.options;p.legendItem.attr({text:o.labelFormat?bH(o.labelFormat,p):o.labelFormatter.call(p)})},renderItem:function(O){var N=this.chart,M=N.renderer,L=this.options,K=L.layout==="horizontal",J=this.symbolWidth,I=L.symbolPadding,H=this.itemStyle,F=this.itemHiddenStyle,E=this.padding,D=K?az(L.itemDistance,20):0,B=!L.rtl,C=L.width,A=L.itemMarginBottom||0,w=this.itemMarginTop,r=this.initialItemX,z=O.legendItem,v=O.series&&O.series.drawLegendSymbol?O.series:O,t=v.options,t=this.createCheckboxForItem&&t&&t.showCheckbox,p=L.useHTML;if(!z){O.legendGroup=M.g("legend-item").attr({zIndex:1}).add(this.scrollGroup);O.legendItem=z=M.text("",B?J+I:-I,this.baseline||0,p).css(br(O.visible?H:F)).attr({align:B?"left":"right",zIndex:2}).add(O.legendGroup);if(!this.baseline){this.fontMetrics=M.fontMetrics(H.fontSize,z),this.baseline=this.fontMetrics.f+3+w,z.attr("y",this.baseline)}v.drawLegendSymbol(this,O);this.setItemEvents&&this.setItemEvents(O,z,p,H,F);this.colorizeItem(O,O.visible);t&&this.createCheckboxForItem(O)}this.setText(O);M=z.getBBox();J=O.checkboxOffset=L.itemWidth||O.legendItemWidth||J+I+M.width+D+(t?20:0);this.itemHeight=I=au(O.legendItemHeight||M.height);if(K&&this.itemX-r+J>(C||N.chartWidth-2*E-r-L.x)){this.itemX=r,this.itemY+=w+this.lastLineHeight+A,this.lastLineHeight=0}this.maxItemWidth=aw(this.maxItemWidth,J);this.lastItemY=w+this.itemY+A;this.lastLineHeight=aw(I,this.lastLineHeight);O._legendItemPos=[this.itemX,this.itemY];K?this.itemX+=J:(this.itemY+=w+I+A,this.lastLineHeight=I);this.offsetWidth=C||aw((K?this.itemX-r-D:J)+E,this.offsetWidth)},getAllItems:function(){var o=[];aA(this.chart.series,function(p){var r=p.options;if(az(r.showInLegend,!ax(r.linkedTo)?av:!1,!0)){o=o.concat(p.legendItems||(r.legendType==="point"?p.data:p))}});return o},adjustMargins:function(p,o){var t=this.chart,s=this.options,r=s.align.charAt(0)+s.verticalAlign.charAt(0)+s.layout.charAt(0);this.display&&!s.floating&&aA([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(w,v){w.test(r)&&!ax(p[v])&&(t[bA[v]]=aw(t[bA[v]],t.legend[(v+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][v]*s[v%2?"x":"y"]+az(s.margin,12)+o[v]))})},render:function(){var E=this,D=E.chart,C=D.renderer,B=E.group,A,z,w,v,t=E.box,s=E.options,r=E.padding,o=s.borderWidth,p=s.backgroundColor;E.itemX=E.initialItemX;E.itemY=E.initialItemY;E.offsetWidth=0;E.lastItemY=0;if(!B){E.group=B=C.g("legend").attr({zIndex:7}).add(),E.contentGroup=C.g().attr({zIndex:1}).add(B),E.scrollGroup=C.g().add(E.contentGroup)}E.renderTitle();A=E.getAllItems();ai(A,function(H,F){return(H.options&&H.options.legendIndex||0)-(F.options&&F.options.legendIndex||0)});s.reversed&&A.reverse();E.allItems=A;E.display=z=!!A.length;E.lastLineHeight=0;aA(A,function(F){E.renderItem(F)});w=(s.width||E.offsetWidth)+r;v=E.lastItemY+E.lastLineHeight+E.titleHeight;v=E.handleOverflow(v);v+=r;if(o||p){if(t){if(w>0&&v>0){t[t.isNew?"attr":"animate"](t.crisp({width:w,height:v})),t.isNew=!1}}else{E.box=t=C.rect(0,0,w,v,s.borderRadius,o||0).attr({stroke:s.borderColor,"stroke-width":o||0,fill:p||a2}).add(B).shadow(s.shadow),t.isNew=!0}t[z?"show":"hide"]()}E.legendWidth=w;E.legendHeight=v;aA(A,function(F){E.positionItem(F)});z&&B.align(ay({width:w,height:v},s),!0,"spacingBox");D.isResizing||this.positionCheckboxes()},handleOverflow:function(M){var L=this,K=this.chart,J=K.renderer,I=this.options,H=I.y,H=K.spacingBox.height+(I.verticalAlign==="top"?-H:H)-this.padding,F=I.maxHeight,E,D=this.clipRect,C=I.navigation,B=az(C.animation,!0),z=C.arrowSize||12,A=this.nav,w=this.pages,v=this.padding,o,p=this.allItems,t=function(r){D.attr({height:r});if(L.contentGroup.div){L.contentGroup.div.style.clip="rect("+v+"px,9999px,"+(v+r)+"px,0)"}};I.layout==="horizontal"&&(H/=2);F&&(H=aq(H,F));w.length=0;if(M>H){this.clipHeight=E=aw(H-20-this.titleHeight-v,0);this.currentPage=az(this.currentPage,1);this.fullHeight=M;aA(p,function(s,r){var P=s._legendItemPos[1],O=au(s.legendItem.getBBox().height),N=w.length;if(!N||P-w[N-1]>E&&(o||P)!==w[N-1]){w.push(o||P),N++}r===p.length-1&&P+O-w[N-1]>E&&w.push(P);P!==o&&(o=P)});if(!D){D=L.clipRect=J.clipRect(0,v,9999,0),L.contentGroup.clip(D)}t(E);if(!A){this.nav=A=J.g().attr({zIndex:1}).add(this.group),this.up=J.symbol("triangle",0,0,z,z).on("click",function(){L.scroll(-1,B)}).add(A),this.pager=J.text("",15,10).css(C.style).add(A),this.down=J.symbol("triangle-down",0,0,z,z).on("click",function(){L.scroll(1,B)}).add(A)}L.scroll(0);M=H}else{if(A){t(K.chartHeight),A.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0}}return M},scroll:function(B,A){var z=this.pages,w=z.length,v=this.currentPage+B,t=this.clipHeight,s=this.options.navigation,r=s.activeColor,s=s.inactiveColor,p=this.pager,o=this.padding;v>w&&(v=w);if(v>0){A!==av&&ap(A,this.chart),this.nav.attr({translateX:o,translateY:t+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:v===1?s:r}).css({cursor:v===1?"default":"pointer"}),p.attr({text:v+"/"+w}),this.down.attr({x:18+this.pager.getBBox().width,fill:v===w?s:r}).css({cursor:v===w?"default":"pointer"}),z=-z[v-1]+this.initialItemY,this.scrollGroup.animate({translateY:z}),this.currentPage=v,this.positionCheckboxes(z)}}};q=bp.LegendSymbolMixin={drawRectangle:function(p,o){var r=p.options.symbolHeight||p.fontMetrics.f;o.legendSymbol=this.chart.renderer.rect(0,p.baseline-r+1,p.symbolWidth,r,p.options.symbolRadius||0).attr({zIndex:3}).add(o.legendGroup)},drawLineMarker:function(p){var o=this.options,w=o.marker,v;v=p.symbolWidth;var t=this.chart.renderer,s=this.legendGroup,p=p.baseline-au(p.fontMetrics.b*0.3),r;if(o.lineWidth){r={"stroke-width":o.lineWidth};if(o.dashStyle){r.dashstyle=o.dashStyle}this.legendLine=t.path(["M",0,p,"L",v,p]).attr(r).add(s)}if(w&&w.enabled!==!1){o=w.radius,this.legendSymbol=v=t.symbol(this.symbol,v/2-o,p-o,2*o,2*o).add(s),v.isMarker=!0}}};(/Trident\/7\.0/.test(bw)||aK)&&d(bV.prototype,"positionItem",function(p,o){var s=this,r=function(){o._legendItemPos&&p.call(s,o)};r();setTimeout(r)});bl=bp.Chart=function(){this.init.apply(this,arguments)};bl.prototype={callbacks:[],init:function(p,o){var w,v=p.series;p.series=null;w=br(aX,p);w.series=p.series=v;this.userOptions=p;v=w.chart;this.margin=this.splashArray("margin",v);this.spacing=this.splashArray("spacing",v);var t=v.events;this.bounds={h:{},v:{}};this.callback=o;this.isResizing=0;this.options=w;this.axes=[];this.series=[];this.hasCartesianSeries=v.showAxes;var s=this,r;s.index=aS.length;aS.push(s);by++;v.reflow!==!1&&bf(s,"load",function(){s.initReflow()});if(t){for(r in t){bf(s,r,t[r])}}s.xAxis=[];s.yAxis=[];s.animation=bT?!1:az(v.animation,!0);s.pointCount=s.colorCounter=s.symbolCounter=0;s.firstRender()},initSeries:function(p){var o=this.options.chart;(o=a4[p.type||o.type||o.defaultSeriesType])||bX(17,!0);o=new o;o.init(this,p);return o},isInsidePlot:function(p,o,s){var r=s?o:p,p=s?p:o;return r>=0&&r<=this.plotWidth&&p>=0&&p<=this.plotHeight},redraw:function(H){var F=this.axes,E=this.series,D=this.pointer,C=this.legend,B=this.isDirtyLegend,A,z,w=this.hasCartesianSeries,v=this.isDirtyBox,t=E.length,r=t,s=this.renderer,p=s.isHidden(),o=[];ap(H,this);p&&this.cloneRenderTo();for(this.layOutTitles();r--;){if(H=E[r],H.options.stacking&&(A=!0,H.isDirty)){z=!0;break}}if(z){for(r=t;r--;){if(H=E[r],H.options.stacking){H.isDirty=!0}}}aA(E,function(I){I.isDirty&&I.options.legendType==="point"&&(I.updateTotals&&I.updateTotals(),B=!0)});if(B&&C.options.enabled){C.render(),this.isDirtyLegend=!1}A&&this.getStacks();if(w&&!this.isResizing){this.maxTicks=null,aA(F,function(I){I.setScale()})}this.getMargins();w&&(aA(F,function(I){I.isDirty&&(v=!0)}),aA(F,function(J){var I=J.min+","+J.max;if(J.extKey!==I){J.extKey=I,o.push(function(){bd(J,"afterSetExtremes",ay(J.eventArgs,J.getExtremes()));delete J.eventArgs})}(v||A)&&J.redraw()}));v&&this.drawChartBox();aA(E,function(I){I.isDirty&&I.visible&&(!I.isCartesian||I.xAxis)&&I.redraw()});D&&D.reset(!0);s.draw();bd(this,"redraw");p&&this.cloneRenderTo(!0);aA(o,function(I){I.call()})},get:function(p){var o=this.axes,t=this.series,s,r;for(s=0;s<o.length;s++){if(o[s].options.id===p){return o[s]}}for(s=0;s<t.length;s++){if(t[s].options.id===p){return t[s]}}for(s=0;s<t.length;s++){r=t[s].points||[];for(o=0;o<r.length;o++){if(r[o].id===p){return r[o]}}}return null},getAxes:function(){var p=this,o=this.options,r=o.xAxis=b1(o.xAxis||{}),o=o.yAxis=b1(o.yAxis||{});aA(r,function(t,s){t.index=s;t.isX=!0});aA(o,function(t,s){t.index=s});r=r.concat(o);aA(r,function(s){new a8(p,s)})},getSelectedPoints:function(){var o=[];aA(this.series,function(p){o=o.concat(aD(p.points||[],function(r){return r.selected}))});return o},getSelectedSeries:function(){return aD(this.series,function(o){return o.selected})},setTitle:function(p,o,w){var r;var v=this,t=v.options,s;s=t.title=br(t.title,p);r=t.subtitle=br(t.subtitle,o),t=r;aA([["title",p,s],["subtitle",o,t]],function(A){var z=A[0],C=v[z],B=A[1],A=A[2];C&&B&&(v[z]=C=C.destroy());A&&A.text&&!C&&(v[z]=v.renderer.text(A.text,0,0,A.useHTML).attr({align:A.align,"class":"highcharts-"+z,zIndex:A.zIndex||4}).css(A.style).add())});v.layOutTitles(w)},layOutTitles:function(p){var o=0,z=this.title,w=this.subtitle,v=this.options,t=v.title,v=v.subtitle,s=this.renderer,r=this.spacingBox.width-44;if(z&&(z.css({width:(t.width||r)+"px"}).align(ay({y:s.fontMetrics(t.style.fontSize,z).b-3},t),!1,"spacingBox"),!t.floating&&!t.verticalAlign)){o=z.getBBox().height}w&&(w.css({width:(v.width||r)+"px"}).align(ay({y:o+(t.margin-13)+s.fontMetrics(t.style.fontSize,w).b},v),!1,"spacingBox"),!v.floating&&!v.verticalAlign&&(o=bL(o+w.getBBox().height)));z=this.titleOffset!==o;this.titleOffset=o;if(!this.isDirtyBox&&z){this.isDirtyBox=z,this.hasRendered&&az(p,!0)&&this.isDirtyBox&&this.redraw()}},getChartSize:function(){var p=this.options.chart,o=p.width,p=p.height,r=this.renderToClone||this.renderTo;if(!ax(o)){this.containerWidth=a6(r,"width")}if(!ax(p)){this.containerHeight=a6(r,"height")}this.chartWidth=aw(0,o||this.containerWidth||600);this.chartHeight=aw(0,az(p,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(p){var o=this.renderToClone,r=this.container;p?o&&(this.renderTo.appendChild(r),aO(o),delete this.renderToClone):(r&&r.parentNode===this.renderTo&&this.renderTo.removeChild(r),this.renderToClone=o=this.renderTo.cloneNode(0),a5(o,{position:"absolute",top:"-9999px",display:"block"}),o.style.setProperty&&o.style.setProperty("display","block","important"),bn.body.appendChild(o),r&&o.appendChild(r))},getContainer:function(){var p,o=this.options.chart,t,s,r;this.renderTo=p=o.renderTo;r="highcharts-"+u++;if(bU(p)){this.renderTo=p=bn.getElementById(p)}p||bX(13,!0);t=bg(a9(p,"data-highcharts-chart"));!isNaN(t)&&aS[t]&&aS[t].hasRendered&&aS[t].destroy();a9(p,"data-highcharts-chart",this.index);p.innerHTML="";!o.skipClone&&!p.offsetWidth&&this.cloneRenderTo();this.getChartSize();t=this.chartWidth;s=this.chartHeight;this.container=p=bI(bm,{className:"highcharts-container"+(o.className?" "+o.className:""),id:r},ay({position:"relative",overflow:"hidden",width:t+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},o.style),this.renderToClone||p);this._cursor=p.style.cursor;this.renderer=o.forExport?new aM(p,t,s,o.style,!0):new bQ(p,t,s,o.style);bT&&this.renderer.create(this,p,t,s);this.renderer.chartIndex=this.index},getMargins:function(p){var o=this.spacing,s=this.margin,r=this.titleOffset;this.resetMargins();if(r&&!ax(s[0])){this.plotTop=aw(this.plotTop,r+this.options.title.margin+o[0])}this.legend.adjustMargins(s,o);this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);p||this.getAxisMargins()},getAxisMargins:function(){var p=this,o=p.axisOffset=[0,0,0,0],r=p.margin;p.hasCartesianSeries&&aA(p.axes,function(s){s.getOffset()});aA(bA,function(t,s){ax(r[s])||(p[t]+=o[s])});p.setChartSize()},reflow:function(p){var o=this,v=o.options.chart,t=o.renderTo,s=v.width||a6(t,"width"),r=v.height||a6(t,"height"),v=p?p.target:a7,t=function(){if(o.container){o.setSize(s,r,!1),o.hasUserSize=null}};if(!o.hasUserSize&&!o.isPrinting&&s&&r&&(v===a7||v===bn)){if(s!==o.containerWidth||r!==o.containerHeight){clearTimeout(o.reflowTimeout),p?o.reflowTimeout=setTimeout(t,100):t()}o.containerWidth=s;o.containerHeight=r}},initReflow:function(){var p=this,o=function(r){p.reflow(r)};bf(a7,"resize",o);bf(p,"destroy",function(){aQ(a7,"resize",o)})},setSize:function(A,z,w){var v=this,t,s,r,p=v.renderer,o=p.globalAnimation;v.isResizing+=1;r=function(){v&&bd(v,"endResize",null,function(){v.isResizing-=1})};ap(w,v);v.oldChartHeight=v.chartHeight;v.oldChartWidth=v.chartWidth;if(ax(A)){v.chartWidth=t=aw(0,au(A)),v.hasUserSize=!!t}if(ax(z)){v.chartHeight=s=aw(0,au(z))}(o?ae:a5)(v.container,{width:t+"px",height:s+"px"},o);v.setChartSize(!0);p.setSize(t,s,w);v.maxTicks=null;aA(v.axes,function(B){B.isDirty=!0;B.setScale()});aA(v.series,function(B){B.isDirty=!0});v.isDirtyLegend=!0;v.isDirtyBox=!0;v.layOutTitles();v.getMargins();v.redraw(w);v.oldChartHeight=null;bd(v,"resize");o===!1?r():setTimeout(r,o&&o.duration||500)},setChartSize:function(D){var C=this.inverted,B=this.renderer,A=this.chartWidth,z=this.chartHeight,w=this.options.chart,v=this.spacing,t=this.clipOffset,s,r,p,o;this.plotLeft=s=au(this.plotLeft);this.plotTop=r=au(this.plotTop);this.plotWidth=p=aw(0,au(A-s-this.marginRight));this.plotHeight=o=aw(0,au(z-r-this.marginBottom));this.plotSizeX=C?o:p;this.plotSizeY=C?p:o;this.plotBorderWidth=w.plotBorderWidth||0;this.spacingBox=B.spacingBox={x:v[3],y:v[0],width:A-v[3]-v[1],height:z-v[0]-v[2]};this.plotBox=B.plotBox={x:s,y:r,width:p,height:o};A=2*aV(this.plotBorderWidth/2);C=bL(aw(A,t[3])/2);B=bL(aw(A,t[0])/2);this.clipBox={x:C,y:B,width:aV(this.plotSizeX-aw(A,t[1])/2-C),height:aw(0,aV(this.plotSizeY-aw(A,t[2])/2-B))};D||aA(this.axes,function(E){E.setAxisSize();E.setAxisTranslation()})},resetMargins:function(){var o=this;aA(bA,function(p,r){o[p]=az(o.margin[r],o.spacing[r])});o.axisOffset=[0,0,0,0];o.clipOffset=[0,0,0,0]},drawChartBox:function(){var U=this.options.chart,S=this.renderer,R=this.chartWidth,P=this.chartHeight,O=this.chartBackground,N=this.plotBackground,M=this.plotBorder,L=this.plotBGImage,K=U.borderWidth||0,J=U.backgroundColor,I=U.plotBackgroundColor,F=U.plotBackgroundImage,H=U.plotBorderWidth||0,E,B=this.plotLeft,C=this.plotTop,D=this.plotWidth,w=this.plotHeight,v=this.plotBox,z=this.clipRect,A=this.clipBox;E=K+(U.shadow?8:0);if(K||J){if(O){O.animate(O.crisp({width:R-E,height:P-E}))}else{O={fill:J||a2};if(K){O.stroke=U.borderColor,O["stroke-width"]=K}this.chartBackground=S.rect(E/2,E/2,R-E,P-E,U.borderRadius,K).attr(O).addClass("highcharts-background").add().shadow(U.shadow)}}if(I){N?N.animate(v):this.plotBackground=S.rect(B,C,D,w,0).attr({fill:I}).add().shadow(U.plotShadow)}if(F){L?L.animate(v):this.plotBGImage=S.image(F,B,C,D,w).add()}z?z.animate({width:A.width,height:A.height}):this.clipRect=S.clipRect(A);if(H){M?M.animate(M.crisp({x:B,y:C,width:D,height:w,strokeWidth:-H})):this.plotBorder=S.rect(B,C,D,w,0,-H).attr({stroke:U.plotBorderColor,"stroke-width":H,fill:a2,zIndex:1}).add()}this.isDirtyBox=!1},propFromSeries:function(){var p=this,o=p.options.chart,v,t=p.options.series,s,r;aA(["inverted","angular","polar"],function(w){v=a4[o.type||o.defaultSeriesType];r=p[w]||o[w]||v&&v.prototype[w];for(s=t&&t.length;!r&&s--;){(v=a4[t[s].type])&&v.prototype[w]&&(r=!0)}p[w]=r})},linkSeries:function(){var p=this,o=p.series;aA(o,function(r){r.linkedSeries.length=0});aA(o,function(r){var s=r.options.linkedTo;if(bU(s)&&(s=s===":previous"?p.series[r.index-1]:p.get(s))){s.linkedSeries.push(r),r.linkedParent=s,r.visible=az(r.options.visible,s.options.visible,r.visible)}})},renderSeries:function(){aA(this.series,function(o){o.translate();o.render()})},renderLabels:function(){var p=this,o=p.options.labels;o.items&&aA(o.items,function(v){var t=ay(o.style,v.style),s=bg(t.left)+p.plotLeft,r=bg(t.top)+p.plotTop+12;delete t.left;delete t.top;p.renderer.text(v.html,s,r).attr({zIndex:2}).css(t).add()})},render:function(){var p=this.axes,o=this.renderer,w=this.options,v,t,s,r;this.setTitle();this.legend=new bV(this,w.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();v=this.plotWidth;t=this.plotHeight-=13;aA(p,function(z){z.setScale()});this.getAxisMargins();s=v/this.plotWidth>1.1;r=t/this.plotHeight>1.1;if(s||r){this.maxTicks=null,aA(p,function(z){(z.horiz&&s||!z.horiz&&r)&&z.setTickInterval(!0)}),this.getMargins()}this.drawChartBox();this.hasCartesianSeries&&aA(p,function(z){z.render()});if(!this.seriesGroup){this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()}this.renderSeries();this.renderLabels();this.showCredits(w.credits);this.hasRendered=!0},showCredits:function(o){if(o.enabled&&!this.credits){this.credits=this.renderer.text(o.text,0,0).on("click",function(){if(o.href){location.href=o.href}}).attr({align:o.position.align,zIndex:8}).css(o.style).add().align(o.position)}},destroy:function(){var p=this,o=p.axes,v=p.series,t=p.container,s,r=t&&t.parentNode;bd(p,"destroy");aS[p.index]=av;by--;p.renderTo.removeAttribute("data-highcharts-chart");aQ(p);for(s=o.length;s--;){o[s]=o[s].destroy()}for(s=v.length;s--;){v[s]=v[s].destroy()}aA("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(w){var z=p[w];z&&z.destroy&&(p[w]=z.destroy())});if(t){t.innerHTML="",aQ(t),r&&aO(t)}for(s in p){delete p[s]}},isReadyToRender:function(){var o=this;return !aC&&a7==a7.top&&bn.readyState!=="complete"||bT&&!a7.canvg?(bT?m.push(function(){o.firstRender()},o.options.global.canvasToolsURL):bn.attachEvent("onreadystatechange",function(){bn.detachEvent("onreadystatechange",o.firstRender);bn.readyState==="complete"&&o.firstRender()}),!1):!0},firstRender:function(){var p=this,o=p.options,r=p.callback;if(p.isReadyToRender()){p.getContainer();bd(p,"init");p.resetMargins();p.setChartSize();p.propFromSeries();p.getAxes();aA(o.series||[],function(s){p.initSeries(s)});p.linkSeries();bd(p,"beforeRender");if(bp.Pointer){p.pointer=new bx(p,o)}p.render();p.renderer.draw();r&&r.apply(p,[p]);aA(p.callbacks,function(s){p.index!==av&&s.apply(p,[p])});bd(p,"load");p.cloneRenderTo(!0)}},splashArray:function(p,o){var r=o[p],r=ad(r)?r:[r,r,r,r];return[az(o[p+"Top"],r[0]),az(o[p+"Right"],r[1]),az(o[p+"Bottom"],r[2]),az(o[p+"Left"],r[3])]}};var Q=bp.CenteredSeriesMixin={getCenter:function(){var p=this.options,o=this.chart,z=2*(p.slicedOffset||0),w=o.plotWidth-2*z,o=o.plotHeight-2*z,v=p.center,v=[az(v[0],"50%"),az(v[1],"50%"),p.size||"100%",p.innerSize||0],t=aq(w,o),s,r;for(s=0;s<4;++s){r=v[s],p=s<2||s===2&&/%$/.test(r),v[s]=(/%$/.test(r)?[w,o,t,v[2]][s]*parseFloat(r)/100:parseFloat(r))+(p?z:0)}return v}},ah=function(){};ah.prototype={init:function(p,o,r){this.series=p;this.color=p.color;this.applyOptions(o,r);this.pointAttr={};if(p.options.colorByPoint&&(o=p.options.colors||p.chart.options.colors,this.color=this.color||o[p.colorCounter++],p.colorCounter===o.length)){p.colorCounter=0}p.chart.pointCount++;return this},applyOptions:function(p,o){var s=this.series,r=s.options.pointValKey||s.pointValKey,p=ah.prototype.optionsToObject.call(this,p);ay(this,p);this.options=this.options?ay(this.options,p):p;if(r){this.y=this[r]}if(this.x===av&&s){this.x=o===av?s.autoIncrement():o}return this},optionsToObject:function(p){var o={},z=this.series,w=z.options.keys,v=w||z.pointArrayMap||["y"],t=v.length,s=0,r=0;if(typeof p==="number"||p===null){o[v[0]]=p}else{if(k(p)){if(!w&&p.length>t){z=typeof p[0];if(z==="string"){o.name=p[0]}else{if(z==="number"){o.x=p[0]}}s++}for(;r<t;){o[v[r++]]=p[s++]}}else{if(typeof p==="object"){o=p;if(p.dataLabels){z._hasPointLabels=!0}if(p.marker){z._hasPointMarkers=!0}}}}return o},destroy:function(){var p=this.series.chart,o=p.hoverPoints,r;p.pointCount--;if(o&&(this.setState(),ag(o,this),!o.length)){p.hoverPoints=null}if(this===p.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){aQ(this),this.destroyElements()}this.legendItem&&p.legend.destroyItem(this);for(r in this){this[r]=null}},destroyElements:function(){for(var p="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),o,r=6;r--;){o=p[r],this[o]&&(this[o]=this[o].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(p){var o=this.series,v=o.tooltipOptions,t=az(v.valueDecimals,""),s=v.valuePrefix||"",r=v.valueSuffix||"";aA(o.pointArrayMap||["y"],function(w){w="{point."+w;if(s||r){p=p.replace(w+"}",s+w+"}"+r)}p=p.replace(w+"}",w+":,."+t+"f}")});return bH(p,{point:this,series:this.series})},firePointEvent:function(p,o,t){var s=this,r=this.series.options;(r.point.events[p]||s.options&&s.options.events&&s.options.events[p])&&this.importEvents();p==="click"&&r.allowPointSelect&&(t=function(v){s.select&&s.select(null,v.ctrlKey||v.metaKey||v.shiftKey)});bd(this,p,o,t)}};var aY=bp.Series=function(){};aY.prototype={isCartesian:!0,type:"line",pointClass:ah,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(p,o){var w=this,v,t,s=p.series,r=function(A,z){return az(A.options.index,A._i)-az(z.options.index,z._i)};w.chart=p;w.options=o=w.setOptions(o);w.linkedSeries=[];w.bindAxes();ay(w,{name:o.name,state:"",pointAttr:{},visible:o.visible!==!1,selected:o.selected===!0});if(bT){o.animation=!1}t=o.events;for(v in t){bf(w,v,t[v])}if(t&&t.click||o.point&&o.point.events&&o.point.events.click||o.allowPointSelect){p.runTrackerClick=!0}w.getColor();w.getSymbol();aA(w.parallelArrays,function(z){w[z+"Data"]=[]});w.setData(o.data,!1);if(w.isCartesian){p.hasCartesianSeries=!0}s.push(w);w._i=s.length-1;ai(s,r);this.yAxis&&ai(this.yAxis.series,r);aA(s,function(A,z){A.index=z;A.name=A.name||"Series "+(z+1)})},bindAxes:function(){var p=this,o=p.options,s=p.chart,r;aA(p.axisTypes||[],function(t){aA(s[t],function(v){r=v.options;if(o[t]===r.index||o[t]!==av&&o[t]===r.id||o[t]===av&&r.index===0){v.series.push(p),p[t]=v,v.isDirty=!0}});!p[t]&&p.optionalAxis!==t&&bX(18,!0)})},updateParallelArrays:function(p,o){var s=p.series,r=arguments;aA(s.parallelArrays,typeof o==="number"?function(v){var t=v==="y"&&s.toYData?s.toYData(p):p[v];s[v+"Data"][o]=t}:function(t){Array.prototype[o].apply(s[t+"Data"],Array.prototype.slice.call(r,2))})},autoIncrement:function(){var p=this.options,o=this.xIncrement,s,r=p.pointIntervalUnit,o=az(o,p.pointStart,0);this.pointInterval=s=az(this.pointInterval,p.pointInterval,1);if(r==="month"||r==="year"){p=new bO(o),p=r==="month"?+p[aL](p[T]()+s):+p[am](p[e]()+s),s=p-o}this.xIncrement=o+s;return o},getSegments:function(){var p=-1,o=[],t,s=this.points,r=s.length;if(r){if(this.options.connectNulls){for(t=r;t--;){s[t].y===null&&s.splice(t,1)}s.length&&(o=[s])}else{aA(s,function(w,v){w.y===null?(v>p+1&&o.push(s.slice(p+1,v)),p=v):v===r-1&&o.push(s.slice(p+1,v+1))})}}this.segments=o},setOptions:function(p){var o=this.chart,t=o.options.plotOptions,o=o.userOptions||{},s=o.plotOptions||{},r=t[this.type];this.userOptions=p;t=br(r,t.series,p);this.tooltipOptions=br(aX.tooltip,aX.plotOptions[this.type].tooltip,o.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,p.tooltip);r.marker===null&&delete t.marker;this.zoneAxis=t.zoneAxis;p=this.zones=(t.zones||[]).slice();if((t.negativeColor||t.negativeFillColor)&&!t.zones){p.push({value:t[this.zoneAxis+"Threshold"]||t.threshold||0,color:t.negativeColor,fillColor:t.negativeFillColor})}p.length&&ax(p[p.length-1].value)&&p.push({color:this.color,fillColor:this.fillColor});return t},getCyclic:function(p,o,v){var t=this.userOptions,s="_"+p+"Index",r=p+"Counter";o||(ax(t[s])?o=t[s]:(t[s]=o=this.chart[r]%v.length,this.chart[r]+=1),o=v[o]);this[p]=o},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||a1[this.type].color,this.chart.options.colors)},getSymbol:function(){var o=this.options.marker;this.getCyclic("symbol",o.symbol,this.chart.options.symbols);if(/^url/.test(this.symbol)){o.radius=0}},drawLegendSymbol:q.drawLineMarker,setData:function(J,H,F,E){var D=this,C=D.points,B=C&&C.length||0,A,z=D.options,w=D.chart,v=null,r=D.xAxis,s=r&&!!r.categories,p=z.turboThreshold,o=this.xData,I=this.yData,K=(A=D.pointArrayMap)&&A.length,J=J||[];A=J.length;H=az(H,!0);if(E!==!1&&A&&B===A&&!D.cropped&&!D.hasGroupedData&&D.visible){aA(J,function(L,t){C[t].update&&C[t].update(L,!1,null,!1)})}else{D.xIncrement=null;D.pointRange=s?1:z.pointRange;D.colorCounter=0;aA(this.parallelArrays,function(t){D[t+"Data"].length=0});if(p&&A>p){for(F=0;v===null&&F<A;){v=J[F],F++}if(n(v)){s=az(z.pointStart,0);z=az(z.pointInterval,1);for(F=0;F<A;F++){o[F]=s,I[F]=J[F],s+=z}D.xIncrement=s}else{if(k(v)){if(K){for(F=0;F<A;F++){z=J[F],o[F]=z[0],I[F]=z.slice(1,K+1)}}else{for(F=0;F<A;F++){z=J[F],o[F]=z[0],I[F]=z[1]}}}else{bX(12)}}}else{for(F=0;F<A;F++){if(J[F]!==av&&(z={series:D},D.pointClass.prototype.applyOptions.apply(z,[J[F]]),D.updateParallelArrays(z,F),s&&ax(z.name))){r.names[z.x]=z.name}}}bU(I[0])&&bX(14,!0);D.data=[];D.options.data=J;for(F=B;F--;){C[F]&&C[F].destroy&&C[F].destroy()}if(r){r.minRange=r.userMinRange}D.isDirty=D.isDirtyData=w.isDirtyBox=!0;F=!1}H&&w.redraw(F)},processData:function(E){var D=this.xData,C=this.yData,B=D.length,A;A=0;var z,w,v=this.xAxis,t,s=this.options;t=s.cropThreshold;var r=this.isCartesian,o,p;if(r&&!this.isDirty&&!v.isDirty&&!this.yAxis.isDirty&&!E){return !1}if(v){E=v.getExtremes(),o=E.min,p=E.max}if(r&&this.sorted&&(!t||B>t||this.forceCrop)){if(D[B-1]<o||D[0]>p){D=[],C=[]}else{if(D[0]<o||D[B-1]>p){A=this.cropData(this.xData,this.yData,o,p),D=A.xData,C=A.yData,A=A.start,z=!0}}}for(t=D.length-1;t>=0;t--){B=D[t]-D[t-1],B>0&&(w===av||B<w)?w=B:B<0&&this.requireSorting&&bX(15)}this.cropped=z;this.cropStart=A;this.processedXData=D;this.processedYData=C;if(s.pointRange===null){this.pointRange=w||1}this.closestPointRange=w},cropData:function(A,z,w,v){var t=A.length,s=0,r=t,p=az(this.cropShoulder,1),o;for(o=0;o<t;o++){if(A[o]>=w){s=aw(0,o-p);break}}for(;o<t;o++){if(A[o]>v){r=o+p;break}}return{xData:A.slice(s,r),yData:z.slice(s,r),start:s,end:r}},generatePoints:function(){var E=this.options.data,D=this.data,C,B=this.processedXData,A=this.processedYData,z=this.pointClass,w=B.length,v=this.cropStart||0,t,s=this.hasGroupedData,r,o=[],p;if(!D&&!s){D=[],D.length=E.length,D=this.data=D}for(p=0;p<w;p++){t=v+p,s?o[p]=(new z).init(this,[B[p]].concat(b1(A[p]))):(D[t]?r=D[t]:E[t]!==av&&(D[t]=r=(new z).init(this,E[t],B[p])),o[p]=r),o[p].index=t}if(D&&(w!==(C=D.length)||s)){for(p=0;p<C;p++){if(p===v&&!s&&(p+=w),D[p]){D[p].destroyElements(),D[p].plotX=av}}}this.data=D;this.points=o},getExtremes:function(D){var C=this.yAxis,B=this.processedXData,A,z=[],w=0;A=this.xAxis.getExtremes();var v=A.min,t=A.max,s,r,p,o,D=D||this.stackedYData||this.processedYData;A=D.length;for(o=0;o<A;o++){if(r=B[o],p=D[o],s=p!==null&&p!==av&&(!C.isLog||p.length||p>0),r=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(B[o+1]||r)>=v&&(B[o-1]||r)<=t,s&&r){if(s=p.length){for(;s--;){p[s]!==null&&(z[w++]=p[s])}}else{z[w++]=p}}}this.dataMin=bM(z);this.dataMax=be(z)},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var P=this.options,O=P.stacking,N=this.xAxis,M=N.categories,L=this.yAxis,K=this.points,J=K.length,I=!!this.modifyValue,H=P.pointPlacement,F=H==="between"||n(H),E=P.threshold,C=P.startFromThreshold?E:0,D,B,z,A=Number.MAX_VALUE,P=0;P<J;P++){var v=K[P],s=v.x,t=v.y;B=v.low;var p=O&&L.stacks[(this.negStacks&&t<(C?0:E)?"-":"")+this.stackKey];if(L.isLog&&t!==null&&t<=0){v.y=t=null,bX(10)}v.plotX=D=aq(aw(-100000,N.translate(s,0,0,0,1,H,this.type==="flags")),100000);if(O&&this.visible&&p&&p[s]){p=p[s],t=p.points[this.index+","+P],B=t[0],t=t[1],B===C&&(B=az(E,L.min)),L.isLog&&B<=0&&(B=null),v.total=v.stackTotal=p.total,v.percentage=p.total&&v.y/p.total*100,v.stackY=t,p.setOffset(this.pointXOffset||0,this.barW||0)}v.yBottom=ax(B)?L.translate(B,0,1,0,1):null;I&&(t=this.modifyValue(t,v));v.plotY=B=typeof t==="number"&&t!==Infinity?aq(aw(-100000,L.translate(t,0,1,0,1)),100000):av;v.isInside=B!==av&&B>=0&&B<=L.len&&D>=0&&D<=N.len;v.clientX=F?N.translate(s,0,0,0,1):D;v.negative=v.y<(E||0);v.category=M&&M[v.x]!==av?M[v.x]:v.x;P&&(A=aq(A,a3(D-z)));z=D}this.closestPointRangePx=A;this.getSegments()},setClip:function(A){var z=this.chart,w=z.renderer,v=z.inverted,t=this.clipBox,s=t||z.clipBox,r=this.sharedClipKey||["_sharedClip",A&&A.duration,A&&A.easing,s.height].join(","),p=z[r],o=z[r+"m"];if(!p){if(A){s.width=0,z[r+"m"]=o=w.clipRect(-99,v?-z.plotLeft:-z.plotTop,99,v?z.chartWidth:z.chartHeight)}z[r]=p=w.clipRect(s)}A&&(p.count+=1);if(this.options.clip!==!1){this.group.clip(A||t?p:z.clipRect),this.markerGroup.clip(o),this.sharedClipKey=r}A||(p.count-=1,p.count<=0&&r&&z[r]&&(t||(z[r]=z[r].destroy()),z[r+"m"]&&(z[r+"m"]=z[r+"m"].destroy())))},animate:function(p){var o=this.chart,s=this.options.animation,r;if(s&&!ad(s)){s=a1[this.type].animation}p?this.setClip(s):(r=this.sharedClipKey,(p=o[r])&&p.animate({width:o.plotSizeX},s),o[r+"m"]&&o[r+"m"].animate({width:o.plotSizeX+99},s),this.animate=null)},afterAnimate:function(){this.setClip();bd(this,"afterAnimate")},drawPoints:function(){var N,M=this.points,L=this.chart,K,J,I,H,F,E,D,C,A=this.options.marker,B=this.pointAttr[""],z,v,w,p=this.markerGroup,r=az(A.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*A.radius);if(A.enabled!==!1||this._hasPointMarkers){for(I=M.length;I--;){if(H=M[I],K=aV(H.plotX),J=H.plotY,C=H.graphic,z=H.marker||{},v=!!H.marker,N=r&&z.enabled===av||z.enabled,w=H.isInside,N&&J!==av&&!isNaN(J)&&H.y!==null){if(N=H.pointAttr[H.selected?"select":""]||B,F=N.r,E=az(z.symbol,this.symbol),D=E.indexOf("url")===0,C){C[w?"show":"hide"](!0).animate(ay({x:K-F,y:J-F},C.symbolName?{width:2*F,height:2*F}:{}))}else{if(w&&(F>0||D)){H.graphic=L.renderer.symbol(E,K-F,J-F,2*F,2*F,v?z:A).attr(N).add(p)}}}else{if(C){H.graphic=C.destroy()}}}}},convertAttribs:function(p,o,z,w){var v=this.pointAttrToOptions,t,s,r={},p=p||{},o=o||{},z=z||{},w=w||{};for(t in v){s=v[t],r[t]=az(p[s],o[t],z[t],w[t])}return r},getAttribs:function(){var N=this,M=N.options,L=a1[N.type].marker?M.marker:M,K=L.states,J=K.hover,I,H=N.color,F=N.options.negativeColor;I={stroke:H,fill:H};var E=N.points||[],D,C,A=[],B=N.pointAttrToOptions;D=N.hasPointSpecificOptions;var z=L.lineColor,s=L.fillColor;C=M.turboThreshold;var v=N.zones,r=N.zoneAxis||"y",o;M.marker?(J.radius=J.radius||L.radius+J.radiusPlus,J.lineWidth=J.lineWidth||L.lineWidth+J.lineWidthPlus):(J.color=J.color||bi(J.color||H).brighten(J.brightness).get(),J.negativeColor=J.negativeColor||bi(J.negativeColor||F).brighten(J.brightness).get());A[""]=N.convertAttribs(L,I);aA(["hover","select"],function(p){A[p]=N.convertAttribs(K[p],A[""])});N.pointAttr=A;H=E.length;if(!C||H<C||D){for(;H--;){C=E[H];if((L=C.options&&C.options.marker||C.options)&&L.enabled===!1){L.radius=0}if(v.length){D=0;for(I=v[D];C[r]>=I.value;){I=v[++D]}if(I.color){C.color=C.fillColor=I.color}}D=M.colorByPoint||C.color;if(C.options){for(o in B){ax(L[B[o]])&&(D=!0)}}if(D){L=L||{};D=[];K=L.states||{};I=K.hover=K.hover||{};if(!M.marker){I.color=I.color||!C.options.color&&J[C.negative&&F?"negativeColor":"color"]||bi(C.color).brighten(I.brightness||J.brightness).get()}I={color:C.color};if(!s){I.fillColor=C.color}if(!z){I.lineColor=C.color}L.hasOwnProperty("color")&&!L.color&&delete L.color;D[""]=N.convertAttribs(ay(I,L),A[""]);D.hover=N.convertAttribs(K.hover,A.hover,D[""]);D.select=N.convertAttribs(K.select,A.select,D[""])}else{D=A}C.pointAttr=D}}},destroy:function(){var p=this,o=p.chart,z=/AppleWebKit\/533/.test(bw),w,v=p.data||[],t,s,r;bd(p,"destroy");aQ(p);aA(p.axisTypes||[],function(A){if(r=p[A]){ag(r.series,p),r.isDirty=r.forceRedraw=!0}});p.legendItem&&p.chart.legend.destroyItem(p);for(w=v.length;w--;){(t=v[w])&&t.destroy&&t.destroy()}p.points=null;clearTimeout(p.animationTimeout);for(s in p){p[s] instanceof a0&&!p[s].survive&&(w=z&&s==="group"?"hide":"destroy",p[s][w]())}if(o.hoverSeries===p){o.hoverSeries=null}ag(o.series,p);for(s in p){delete p[s]}},getSegmentPath:function(p){var o=this,s=[],r=o.options.step;aA(p,function(A,z){var w=A.plotX,v=A.plotY,t;o.getPointSpline?s.push.apply(s,o.getPointSpline(p,A,z)):(s.push(z?"L":"M"),r&&z&&(t=p[z-1],r==="right"?s.push(t.plotX,v):r==="center"?s.push((t.plotX+w)/2,t.plotY,(t.plotX+w)/2,v):s.push(w,t.plotY)),s.push(A.plotX,A.plotY))});return s},getGraphPath:function(){var p=this,o=[],s,r=[];aA(p.segments,function(t){s=p.getSegmentPath(t);t.length>1?o=o.concat(s):r.push(t[0])});p.singlePoints=r;return p.graphPath=o},drawGraph:function(){var p=this,o=this.options,w=[["graph",o.lineColor||this.color,o.dashStyle]],v=o.lineWidth,t=o.linecap!=="square",s=this.getGraphPath(),r=this.fillGraph&&this.color||a2;aA(this.zones,function(A,z){w.push(["zoneGraph"+z,A.color||p.color,A.dashStyle||o.dashStyle])});aA(w,function(C,B){var A=C[0],z=p[A];if(z){z.animate({d:s})}else{if((v||r)&&s.length){z={stroke:C[1],"stroke-width":v,fill:r,zIndex:1},C[2]?z.dashstyle=C[2]:t&&(z["stroke-linecap"]=z["stroke-linejoin"]="round"),p[A]=p.chart.renderer.path(s).attr(z).add(p.group).shadow(B<2&&o.shadow)}}})},applyZones:function(){var O=this,N=this.chart,M=N.renderer,L=this.zones,K,J,I=this.clips||[],H,F=this.graph,E=this.area,D=aw(N.chartWidth,N.chartHeight),B=this[(this.zoneAxis||"y")+"Axis"],C,A=B.reversed,z=N.inverted,p=B.horiz,w,v,t,o=!1;if(L.length&&(F||E)&&B.min!==av){F&&F.hide(),E&&E.hide(),C=B.getExtremes(),aA(L,function(s,r){K=A?p?N.plotWidth:0:p?0:B.toPixels(C.min);K=aq(aw(az(J,K),0),D);J=aq(aw(au(B.toPixels(az(s.value,C.max),!0)),0),D);o&&(K=J=B.toPixels(C.max));w=Math.abs(K-J);v=aq(K,J);t=aw(K,J);if(B.isXAxis){if(H={x:z?t:v,y:0,width:w,height:D},!p){H.x=N.plotHeight-H.x}}else{if(H={x:0,y:z?t:v,width:D,height:w},p){H.y=N.plotWidth-H.y}}N.inverted&&M.isVML&&(H=B.isXAxis?{x:0,y:A?v:t,height:H.width,width:N.chartWidth}:{x:H.y-N.plotLeft-N.spacingBox.x,y:0,width:H.height,height:N.chartHeight});I[r]?I[r].animate(H):(I[r]=M.clipRect(H),F&&O["zoneGraph"+r].clip(I[r]),E&&O["zoneArea"+r].clip(I[r]));o=s.value>C.max}),this.clips=I}},invertGroups:function(){function p(){var s={width:o.yAxis.len,height:o.xAxis.len};aA(["group","markerGroup"],function(t){o[t]&&o[t].attr(s).invert()})}var o=this,r=o.chart;if(o.xAxis){bf(r,"resize",p),bf(o,"destroy",function(){aQ(r,"resize",p)}),p(),o.invertGroups=p}},plotGroup:function(p,o,w,v,t){var s=this[p],r=!s;r&&(this[p]=s=this.chart.renderer.g(o).attr({visibility:w,zIndex:v||0.1}).add(t));s[r?"attr":"animate"](this.getPlotBox());return s},getPlotBox:function(){var p=this.chart,o=this.xAxis,r=this.yAxis;if(p.inverted){o=r,r=this.xAxis}return{translateX:o?o.left:p.plotLeft,translateY:r?r.top:p.plotTop,scaleX:1,scaleY:1}},render:function(){var A=this,z=A.chart,w,v=A.options,t=(w=v.animation)&&!!A.animate&&z.renderer.isSVG&&az(w.duration,500)||0,s=A.visible?"visible":"hidden",r=v.zIndex,p=A.hasRendered,o=z.seriesGroup;w=A.plotGroup("group","series",s,r,o);A.markerGroup=A.plotGroup("markerGroup","markers",s,r,o);t&&A.animate(!0);A.getAttribs();w.inverted=A.isCartesian?z.inverted:!1;A.drawGraph&&(A.drawGraph(),A.applyZones());aA(A.points,function(B){B.redraw&&B.redraw()});A.drawDataLabels&&A.drawDataLabels();A.visible&&A.drawPoints();A.drawTracker&&A.options.enableMouseTracking!==!1&&A.drawTracker();z.inverted&&A.invertGroups();v.clip!==!1&&!A.sharedClipKey&&!p&&w.clip(z.clipRect);t&&A.animate();if(!p){t?A.animationTimeout=setTimeout(function(){A.afterAnimate()},t):A.afterAnimate()}A.isDirty=A.isDirtyData=!1;A.hasRendered=!0},redraw:function(){var p=this.chart,o=this.isDirtyData,v=this.isDirty,t=this.group,s=this.xAxis,r=this.yAxis;t&&(p.inverted&&t.attr({width:p.plotWidth,height:p.plotHeight}),t.animate({translateX:az(s&&s.left,p.plotLeft),translateY:az(r&&r.top,p.plotTop)}));this.translate();this.render();o&&bd(this,"updatedData");(v||o)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(p,o){var t=this.xAxis,s=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?t.len-p.chartY+t.pos:p.chartX-t.pos,plotY:r?s.len-p.chartX+s.pos:p.chartY-s.pos},o)},buildKDTree:function(){function p(t,A,z){var w,v;if(v=t&&t.length){return w=s.kdAxisArray[A%z],t.sort(function(C,B){return C[w]-B[w]}),v=Math.floor(v/2),{point:t[v],left:p(t.slice(0,v),A+1,z),right:p(t.slice(v+1),A+1,z)}}}function o(){var t=aD(s.points||[],function(v){return v.y!==null});s.kdTree=p(t,r,r)}var s=this,r=s.kdDimensions;delete s.kdTree;s.options.kdSync?o():setTimeout(o)},searchKDTree:function(p,o){function w(I,H,F,E){var C=H.point,D=v.kdAxisArray[F%E],B,z,A=C;z=ax(I[t])&&ax(C[t])?Math.pow(I[t]-C[t],2):null;B=ax(I[s])&&ax(C[s])?Math.pow(I[s]-C[s],2):null;B=(z||0)+(B||0);C.dist=ax(B)?Math.sqrt(B):Number.MAX_VALUE;C.distX=ax(z)?Math.sqrt(z):Number.MAX_VALUE;D=I[D]-C[D];B=D<0?"left":"right";z=D<0?"right":"left";H[B]&&(B=w(I,H[B],F+1,E),A=B[r]<A[r]?B:C);H[z]&&Math.sqrt(D*D)<A[r]&&(I=w(I,H[z],F+1,E),A=I[r]<A[r]?I:A);return A}var v=this,t=this.kdAxisArray[0],s=this.kdAxisArray[1],r=o?"distX":"dist";this.kdTree||this.buildKDTree();if(this.kdTree){return w(p,this.kdTree,this.kdDimensions,this.kdDimensions)}}};bF.prototype={destroy:function(){bu(this,this.axis)},render:function(p){var o=this.options,r=o.format,r=r?bH(r,this):o.formatter.call(this);this.label?this.label.attr({text:r,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(r,null,null,o.useHTML).css(o.style).attr({align:this.textAlign,rotation:o.rotation,visibility:"hidden"}).add(p)},setOffset:function(A,z){var w=this.axis,v=w.chart,t=v.inverted,s=w.reversed,s=this.isNegative&&!s||!this.isNegative&&s,r=w.translate(w.usePercentage?100:this.total,0,0,0,1),w=w.translate(0),w=a3(r-w),p=v.xAxis[0].translate(this.x)+A,o=v.plotHeight,s={x:t?s?r:r-w:p,y:t?o-p-z:s?o-r-w:o-r,width:t?w:z,height:t?z:w};if(t=this.label){t.align(this.alignOptions,null,s),s=t.alignAttr,t[this.options.crop===!1||v.isInsidePlot(s.x,s.y)?"show":"hide"](!0)}}};bl.prototype.getStacks=function(){var o=this;aA(o.yAxis,function(p){if(p.stacks&&p.hasVisibleSeries){p.oldStacks=p.stacks}});aA(o.series,function(p){if(p.options.stacking&&(p.visible===!0||o.options.chart.ignoreHiddenSeries===!1)){p.stackKey=p.type+az(p.options.stack,"")}})};a8.prototype.buildStacks=function(){var p=this.series,o=az(this.options.reversedStacks,!0),r=p.length;if(!this.isXAxis){for(this.usePercentage=!1;r--;){p[o?r:p.length-r-1].setStackedPoints()}if(this.usePercentage){for(r=0;r<p.length;r++){p[r].setPercentStacks()}}}};a8.prototype.renderStackTotals=function(){var p=this.chart,o=p.renderer,v=this.stacks,t,s,r=this.stackTotalGroup;if(!r){this.stackTotalGroup=r=o.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}r.translate(p.plotLeft,p.plotTop);for(t in v){for(s in p=v[t],p){p[s].render(r)}}};a8.prototype.resetStacks=function(){var p=this.stacks,o,r;if(!this.isXAxis){for(o in p){for(r in p[o]){p[o][r].touched<this.stacksTouched?(p[o][r].destroy(),delete p[o][r]):(p[o][r].total=null,p[o][r].cum=0)}}}};a8.prototype.cleanStacks=function(){var p,o,r;if(!this.isXAxis){if(this.oldStacks){p=this.stacks=this.oldStacks}for(o in p){for(r in p[o]){p[o][r].cum=p[o][r].total}}}};aY.prototype.setStackedPoints=function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var P=this.processedXData,O=this.processedYData,N=[],M=O.length,L=this.options,K=L.threshold,J=L.startFromThreshold?K:0,I=L.stack,L=L.stacking,H=this.stackKey,F="-"+H,E=this.negStacks,C=this.yAxis,D=C.stacks,B=C.oldStacks,z,A,w,v,t,p;C.stacksTouched+=1;for(v=0;v<M;v++){t=P[v];p=O[v];w=this.index+","+v;A=(z=E&&p<(J?0:K))?F:H;D[A]||(D[A]={});if(!D[A][t]){B[A]&&B[A][t]?(D[A][t]=B[A][t],D[A][t].total=null):D[A][t]=new bF(C,C.options.stackLabels,z,t,I)}A=D[A][t];A.points[w]=[az(A.cum,J)];A.touched=C.stacksTouched;L==="percent"?(z=z?H:F,E&&D[z]&&D[z][t]?(z=D[z][t],A.total=z.total=aw(z.total,A.total)+a3(p)||0):A.total=g(A.total+(a3(p)||0))):A.total=g(A.total+(p||0));A.cum=az(A.cum,J)+(p||0);A.points[w].push(A.cum);N[v]=A.cum}if(L==="percent"){C.usePercentage=!0}this.stackedYData=N;C.oldStacks={}}};aY.prototype.setPercentStacks=function(){var p=this,o=p.stackKey,s=p.yAxis.stacks,r=p.processedXData;aA([o,"-"+o],function(t){var A;for(var z=r.length,w,v;z--;){if(w=r[z],A=(v=s[t]&&s[t][w])&&v.points[p.index+","+z],w=A){v=v.total?100/v.total:0,w[0]=g(w[0]*v),w[1]=g(w[1]*v),p.stackedYData[z]=w[1]}}})};ay(bl.prototype,{addSeries:function(p,o,t){var s,r=this;p&&(o=az(o,!0),bd(r,"addSeries",{options:p},function(){s=r.initSeries(p);r.isDirtyLegend=!0;r.linkSeries();o&&r.redraw(t)}));return s},addAxis:function(p,o,v,t){var s=o?"xAxis":"yAxis",r=this.options;new a8(this,br(p,{index:this[s].length,isX:o}));r[s]=b1(r[s]||{});r[s].push(p);az(v,!0)&&this.redraw(t)},showLoading:function(p){var o=this,v=o.options,t=o.loadingDiv,s=v.loading,r=function(){t&&a5(t,{left:o.plotLeft+"px",top:o.plotTop+"px",width:o.plotWidth+"px",height:o.plotHeight+"px"})};if(!t){o.loadingDiv=t=bI(bm,{className:"highcharts-loading"},ay(s.style,{zIndex:10,display:a2}),o.container),o.loadingSpan=bI("span",null,s.labelStyle,t),bf(o,"redraw",r)}o.loadingSpan.innerHTML=p||v.lang.loading;if(!o.loadingShown){a5(t,{opacity:0,display:""}),ae(t,{opacity:s.style.opacity},{duration:s.showDuration||0}),o.loadingShown=!0}r()},hideLoading:function(){var p=this.options,o=this.loadingDiv;o&&ae(o,{opacity:0},{duration:p.loading.hideDuration||100,complete:function(){a5(o,{display:a2})}});this.loadingShown=!1}});ay(ah.prototype,{update:function(D,C,B,A){function z(){w.applyOptions(D);if(w.y===null&&t){w.graphic=t.destroy()}if(ad(D)&&!k(D)){w.redraw=function(){if(t&&t.element&&D&&D.marker&&D.marker.symbol){w.graphic=t.destroy()}if(D&&D.dataLabels&&w.dataLabel){w.dataLabel=w.dataLabel.destroy()}w.redraw=null}}s=w.index;v.updateParallelArrays(w,s);if(o&&w.name){o[w.x]=w.name}p.data[s]=w.options;v.isDirty=v.isDirtyData=!0;if(!v.fixedBox&&v.hasCartesianSeries){r.isDirtyBox=!0}if(p.legendType==="point"){r.isDirtyLegend=!0}C&&r.redraw(B)}var w=this,v=w.series,t=w.graphic,s,r=v.chart,p=v.options,o=v.xAxis&&v.xAxis.names,C=az(C,!0);A===!1?z():w.firePointEvent("update",{options:D},z)},remove:function(p,o){this.series.removePoint(al(this,this.series.data),p,o)}});ay(aY.prototype,{addPoint:function(H,F,E,D){var C=this,B=C.options,A=C.data,z=C.graph,w=C.area,v=C.chart,t=C.xAxis&&C.xAxis.names,r=z&&z.shift||0,s=["graph","area"],z=B.data,p,o=C.xData;ap(D,v);if(E){for(D=C.zones.length;D--;){s.push("zoneGraph"+D,"zoneArea"+D)}aA(s,function(I){if(C[I]){C[I].shift=r+1}})}if(w){w.isArea=!0}F=az(F,!0);w={series:C};C.pointClass.prototype.applyOptions.apply(w,[H]);s=w.x;D=o.length;if(C.requireSorting&&s<o[D-1]){for(p=!0;D&&o[D-1]>s;){D--}}C.updateParallelArrays(w,"splice",D,0,0);C.updateParallelArrays(w,D);if(t&&w.name){t[s]=w.name}z.splice(D,0,H);p&&(C.data.splice(D,0,null),C.processData());B.legendType==="point"&&C.generatePoints();E&&(A[0]&&A[0].remove?A[0].remove(!1):(A.shift(),C.updateParallelArrays(w,"shift"),z.shift()));C.isDirty=!0;C.isDirtyData=!0;F&&(C.getAttribs(),v.redraw())},removePoint:function(A,z,w){var v=this,t=v.data,s=t[A],r=v.points,p=v.chart,o=function(){t.length===r.length&&r.splice(A,1);t.splice(A,1);v.options.data.splice(A,1);v.updateParallelArrays(s||{series:v},"splice",A,1);s&&s.destroy();v.isDirty=!0;v.isDirtyData=!0;z&&p.redraw()};ap(w,p);z=az(z,!0);s?s.firePointEvent("remove",null,o):o()},remove:function(p,o){var s=this,r=s.chart,p=az(p,!0);if(!s.isRemoving){s.isRemoving=!0,bd(s,"remove",null,function(){s.destroy();r.isDirtyLegend=r.isDirtyBox=!0;r.linkSeries();p&&r.redraw(o)})}s.isRemoving=!1},update:function(A,z){var w=this,v=this.chart,t=this.userOptions,s=this.type,r=a4[s].prototype,p=["group","markerGroup","dataLabelsGroup"],o;if(A.type&&A.type!==s||A.zIndex!==void 0){p.length=0}aA(p,function(B){p[B]=w[B];delete w[B]});A=br(t,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},A);this.remove(!1);for(o in r){this[o]=av}ay(this,a4[A.type||s].prototype);aA(p,function(B){w[B]=p[B]});this.init(v,A);v.linkSeries();az(z,!0)&&v.redraw(!1)}});ay(a8.prototype,{update:function(p,o){var r=this.chart,p=r.options[this.coll][this.options.index]=br(this.userOptions,p);this.destroy(!0);this._addedPlotLB=this.chart._labelPanes=av;this.init(r,ay(p,{events:av}));r.isDirtyBox=!0;az(o,!0)&&r.redraw()},remove:function(p){for(var o=this.chart,t=this.coll,s=this.series,r=s.length;r--;){s[r]&&s[r].remove(!1)}ag(o.axes,this);ag(o[t],this);o.options[t].splice(this.options.index,1);aA(o[t],function(w,v){w.options.index=v});this.destroy();o.isDirtyBox=!0;az(p,!0)&&o.redraw()},setTitle:function(p,o){this.update({title:p},o)},setCategories:function(p,o){this.update({categories:p},o)}});var x=j(aY);a4.line=x;a1.area=br(aW,{threshold:0});var aj=j(aY,{type:"area",getSegments:function(){var F=this,E=[],D=[],C=[],B=this.xAxis,A=this.yAxis,z=A.stacks[this.stackKey],w={},v,t,s=this.points,p=this.options.connectNulls,r,o;if(this.options.stacking&&!this.cropped){for(r=0;r<s.length;r++){w[s[r].x]=s[r]}for(o in z){z[o].total!==null&&C.push(+o)}C.sort(function(I,H){return I-H});aA(C,function(H){var J=0,I;if(!p||w[H]&&w[H].y!==null){if(w[H]){D.push(w[H])}else{for(r=F.index;r<=A.series.length;r++){if(I=z[H].points[r+","+H]){J=I[1];break}}v=B.translate(H);t=A.toPixels(J,!0);D.push({y:null,plotX:v,clientX:v,plotY:t,yBottom:t,onMouseOver:bt})}}});D.length&&E.push(D)}else{aY.prototype.getSegments.call(this),E=this.segments}this.segments=E},getSegmentPath:function(p){var o=aY.prototype.getSegmentPath.call(this,p),w=[].concat(o),v,t=this.options;v=o.length;var s=this.yAxis.getThreshold(t.threshold),r;v===3&&w.push("L",o[1],o[2]);if(t.stacking&&!this.closedStacks){for(v=p.length-1;v>=0;v--){r=az(p[v].yBottom,s),v<p.length-1&&t.step&&w.push(p[v+1].plotX,r),w.push(p[v].plotX,r)}}else{this.closeSegment(w,p,s)}this.areaPath=this.areaPath.concat(w);return o},closeSegment:function(p,o,r){p.push("L",o[o.length-1].plotX,r,"L",o[0].plotX,r)},drawGraph:function(){this.areaPath=[];aY.prototype.drawGraph.apply(this);var p=this,o=this.areaPath,s=this.options,r=[["area",this.color,s.fillColor]];aA(this.zones,function(t,v){r.push(["zoneArea"+v,t.color||p.color,t.fillColor||s.fillColor])});aA(r,function(w){var v=w[0],t=p[v];t?t.animate({d:o}):p[v]=p.chart.renderer.path(o).attr({fill:az(w[2],bi(w[1]).setOpacity(az(s.fillOpacity,0.75)).get()),zIndex:0}).add(p.group)})},drawLegendSymbol:q.drawRectangle});a4.area=aj;a1.spline=br(aW);x=j(aY,{type:"spline",getPointSpline:function(D,C,B){var A=C.plotX,z=C.plotY,w=D[B-1],v=D[B+1],t,s,r,p;if(w&&v){D=w.plotY;r=v.plotX;var v=v.plotY,o;t=(1.5*A+w.plotX)/2.5;s=(1.5*z+D)/2.5;r=(1.5*A+r)/2.5;p=(1.5*z+v)/2.5;o=(p-s)*(r-A)/(r-t)+z-p;s+=o;p+=o;s>D&&s>z?(s=aw(D,z),p=2*z-s):s<D&&s<z&&(s=aq(D,z),p=2*z-s);p>v&&p>z?(p=aw(v,z),s=2*z-p):p<v&&p<z&&(p=aq(v,z),s=2*z-p);C.rightContX=r;C.rightContY=p}B?(C=["C",w.rightContX||w.plotX,w.rightContY||w.plotY,t||A,s||z,A,z],w.rightContX=w.rightContY=null):C=["M",A,z];return C}});a4.spline=x;a1.areaspline=br(a1.area);aj=aj.prototype;x=j(x,{type:"areaspline",closedStacks:!0,getSegmentPath:aj.getSegmentPath,closeSegment:aj.closeSegment,drawGraph:aj.drawGraph,drawLegendSymbol:q.drawRectangle});a4.areaspline=x;a1.column=br(aW,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});x=j(aY,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){aY.prototype.init.apply(this,arguments);var p=this,o=p.chart;o.hasRendered&&aA(o.series,function(r){if(r.type===p.type){r.isDirty=!0}})},getColumnMetrics:function(){var D=this,C=D.options,B=D.xAxis,A=D.yAxis,z=B.reversed,w,v={},t,s=0;C.grouping===!1?s=1:aA(D.chart.series,function(E){var H=E.options,F=E.yAxis;if(E.type===D.type&&E.visible&&A.len===F.len&&A.pos===F.pos){H.stacking?(w=E.stackKey,v[w]===av&&(v[w]=s++),t=v[w]):H.grouping!==!1&&(t=s++),E.columnIndex=t}});var r=aq(a3(B.transA)*(B.ordinalSlope||C.pointRange||B.closestPointRange||B.tickInterval||1),B.len),p=r*C.groupPadding,o=(r-2*p)/s,C=aq(C.maxPointWidth||B.len,az(C.pointWidth,o*(1-2*C.pointPadding)));return D.columnMetrics={width:C,offset:(o-C)/2+(p+((z?s-(D.columnIndex||0):D.columnIndex)||0)*o-r/2)*(z?-1:1)}},translate:function(){var E=this,D=E.chart,C=E.options,B=E.borderWidth=az(C.borderWidth,E.closestPointRange*E.xAxis.transA<2?0:1),A=E.yAxis,z=E.translatedThreshold=A.getThreshold(C.threshold),w=az(C.minPointLength,5),v=E.getColumnMetrics(),t=v.width,s=E.barW=aw(t,1+2*B),r=E.pointXOffset=v.offset,o=-(B%2?0.5:0),p=B%2?0.5:1;D.inverted&&(z-=0.5,D.renderer.isVML&&(p+=1));C.pointPadding&&(s=bL(s));aY.prototype.translate.apply(E);aA(E.points,function(N){var L=az(N.yBottom,z),I=999+a3(L),I=aq(aw(-I,N.plotY),A.len+I),K=N.plotX+r,J=s,H=aq(I,L),M,F;M=aw(I,L)-H;a3(M)<w&&w&&(M=w,F=!A.reversed&&!N.negative||A.reversed&&N.negative,H=au(a3(H-z)>w?L-w:z-(F?w:0)));N.barX=K;N.pointWidth=t;J=au(K+J)+o;K=au(K)+o;J-=K;L=a3(H)<0.5;M=aq(au(H+M)+p,90000);H=au(H)+p;M-=H;L&&(H-=1,M+=1);N.tooltipPos=D.inverted?[A.len+A.pos-D.plotLeft-I,E.xAxis.len-K-J/2,M]:[K+J/2,I+A.pos-D.plotTop,M];N.shapeType="rect";N.shapeArgs={x:K,y:H,width:J,height:M}})},getSymbol:bt,drawLegendSymbol:q.drawRectangle,drawGraph:bt,drawPoints:function(){var p=this,o=this.chart,w=p.options,v=o.renderer,t=w.animationLimit||250,s,r;aA(p.points,function(B){var A=B.plotY,z=B.graphic;if(A!==av&&!isNaN(A)&&B.y!==null){s=B.shapeArgs,A=ax(p.borderWidth)?{"stroke-width":p.borderWidth}:{},r=B.pointAttr[B.selected?"select":""]||p.pointAttr[""],z?(h(z),z.attr(A)[o.pointCount<t?"animate":"attr"](br(s))):B.graphic=v[B.shapeType](s).attr(A).attr(r).add(p.group).shadow(w.shadow,null,w.stacking&&!w.borderRadius)}else{if(z){B.graphic=z.destroy()}}})},animate:function(p){var o=this.yAxis,t=this.options,s=this.chart.inverted,r={};if(aC){p?(r.scaleY=0.001,p=aq(o.pos+o.len,aw(o.pos,o.toPixels(t.threshold))),s?r.translateX=p-o.len:r.translateY=p,this.group.attr(r)):(r.scaleY=1,r[s?"translateX":"translateY"]=o.pos,this.group.animate(r,this.options.animation),this.animate=null)}},remove:function(){var p=this,o=p.chart;o.hasRendered&&aA(o.series,function(r){if(r.type===p.type){r.isDirty=!0}});aY.prototype.remove.apply(p,arguments)}});a4.column=x;a1.bar=br(a1.column);aj=j(x,{type:"bar",inverted:!0});a4.bar=aj;a1.scatter=br(aW,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});aj=j(aY,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&aY.prototype.drawGraph.call(this)}});a4.scatter=aj;a1.pie=br(aW,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.y===null?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});aW={type:"pie",isCartesian:!1,pointClass:j(ah,{init:function(){ah.prototype.init.apply(this,arguments);var p=this,o;ay(p,{visible:p.visible!==!1,name:az(p.name,"Slice")});o=function(r){p.slice(r.type==="select")};bf(p,"select",o);bf(p,"unselect",o);return p},setVisible:function(p,o){var v=this,t=v.series,s=t.chart,r=t.options.ignoreHiddenPoint,o=az(o,r);if(p!==v.visible){v.visible=v.options.visible=p=p===av?!v.visible:p;t.options.data[al(v,t.data)]=v.options;aA(["graphic","dataLabel","connector","shadowGroup"],function(w){if(v[w]){v[w][p?"show":"hide"](!0)}});v.legendItem&&s.legend.colorizeItem(v,p);!p&&v.state==="hover"&&v.setState("");if(r){t.isDirty=!0}o&&s.redraw()}},slice:function(p,o,s){var r=this.series;ap(s,r.chart);az(o,!0);this.sliced=this.options.sliced=p=ax(p)?p:!this.sliced;r.options.data[al(this,r.data)]=this.options;p=p?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(p);this.shadowGroup&&this.shadowGroup.animate(p)},haloPath:function(p){var o=this.shapeArgs,r=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(r.plotLeft+o.x,r.plotTop+o.y,o.r+p,o.r+p,{innerR:this.shapeArgs.r,start:o.start,end:o.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(p){var o=this,s=o.points,r=o.startAngleRad;if(!p){aA(s,function(t){var w=t.graphic,v=t.shapeArgs;w&&(w.attr({r:t.startR||o.center[3]/2,start:r,end:r}),w.animate({r:v.r,start:v.start,end:v.end},o.options.animation))}),o.animate=null}},setData:function(p,o,s,r){aY.prototype.setData.call(this,p,!1,s,r);this.processData();this.generatePoints();az(o,!0)&&this.chart.redraw(s)},updateTotals:function(){var p,o=0,v=this.points,t=v.length,s,r=this.options.ignoreHiddenPoint;for(p=0;p<t;p++){s=v[p],o+=r&&!s.visible?0:s.y}this.total=o;for(p=0;p<t;p++){s=v[p],s.percentage=o>0&&(s.visible||!r)?s.y/o*100:0,s.total=o}},generatePoints:function(){aY.prototype.generatePoints.call(this);this.updateTotals()},translate:function(I){this.generatePoints();var H=0,F=this.options,E=F.slicedOffset,D=E+F.borderWidth,C,B,A,z=F.startAngle||0,w=this.startAngleRad=bG/180*(z-90),z=(this.endAngleRad=bG/180*(az(F.endAngle,z+360)-90))-w,v=this.points,s=F.dataLabels.distance,F=F.ignoreHiddenPoint,t,r=v.length,p;if(!I){this.center=I=this.getCenter()}this.getX=function(o,J){A=aU.asin(aq((o-I[1])/(I[2]/2+s),1));return I[0]+(J?-1:1)*aT(A)*(I[2]/2+s)};for(t=0;t<r;t++){p=v[t];C=w+H*z;if(!F||p.visible){H+=p.percentage/100}B=w+H*z;p.shapeType="arc";p.shapeArgs={x:I[0],y:I[1],r:I[2]/2,innerR:I[3]/2,start:au(C*1000)/1000,end:au(B*1000)/1000};A=(B+C)/2;A>1.5*bG?A-=2*bG:A<-bG/2&&(A+=2*bG);p.slicedTranslation={translateX:au(aT(A)*E),translateY:au(bz(A)*E)};C=aT(A)*I[2]/2;B=bz(A)*I[2]/2;p.tooltipPos=[I[0]+C*0.7,I[1]+B*0.7];p.half=A<-bG/2||A>bG/2?1:0;p.angle=A;D=aq(D,s/2);p.labelPos=[I[0]+C+aT(A)*s,I[1]+B+bz(A)*s,I[0]+C+aT(A)*D,I[1]+B+bz(A)*D,I[0]+C,I[1]+B,s<0?"center":p.half?"right":"left",A]}},drawGraph:null,drawPoints:function(){var p=this,o=p.chart.renderer,z,w,v=p.options.shadow,t,s,r;if(v&&!p.shadowGroup){p.shadowGroup=o.g("shadow").add(p.group)}aA(p.points,function(A){if(A.y!==null){w=A.graphic;s=A.shapeArgs;t=A.shadowGroup;if(v&&!t){t=A.shadowGroup=o.g("shadow").add(p.shadowGroup)}z=A.sliced?A.slicedTranslation:{translateX:0,translateY:0};t&&t.attr(z);if(w){w.animate(ay(s,z))}else{r={"stroke-linejoin":"round"};if(!A.visible){r.visibility="hidden"}A.graphic=w=o[A.shapeType](s).setRadialReference(p.center).attr(A.pointAttr[A.selected?"select":""]).attr(r).attr(z).add(p.group).shadow(v,t)}}})},searchPoint:bt,sortByAngle:function(p,o){p.sort(function(r,s){return r.angle!==void 0&&(s.angle-r.angle)*o})},drawLegendSymbol:q.drawRectangle,getCenter:Q.getCenter,getSymbol:bt};aW=j(aY,aW);a4.pie=aW;aY.prototype.drawDataLabels=function(){var C=this,B=C.options,A=B.cursor,z=B.dataLabels,w=C.points,v,t,s=C.hasRendered||0,r,p,o=C.chart.renderer;if(z.enabled||C._hasPointLabels){C.dlProcessOptions&&C.dlProcessOptions(z),p=C.plotGroup("dataLabelsGroup","data-labels",z.defer?"hidden":"visible",z.zIndex||6),az(z.defer,!0)&&(p.attr({opacity:+s}),s||bf(C,"afterAnimate",function(){C.visible&&p.show();p[B.animation?"animate":"attr"]({opacity:1},{duration:200})})),t=z,aA(w,function(H){var F,E=H.dataLabel,D,M,K=H.connector,I=!0,L,J={};v=H.dlOptions||H.options&&H.options.dataLabels;F=az(v&&v.enabled,t.enabled);if(E&&!F){H.dataLabel=E.destroy()}else{if(F){z=br(t,v);L=z.style;F=z.rotation;D=H.getLabelConfig();r=z.format?bH(z.format,D):z.formatter.call(D,z);L.color=az(z.color,L.color,C.color,"black");if(E){if(ax(r)){E.attr({text:r}),I=!1}else{if(H.dataLabel=E=E.destroy(),K){H.connector=K.destroy()}}}else{if(ax(r)){E={fill:z.backgroundColor,stroke:z.borderColor,"stroke-width":z.borderWidth,r:z.borderRadius||0,rotation:F,padding:z.padding,zIndex:1};if(L.color==="contrast"){J.color=z.inside||z.distance<0||B.stacking?o.getContrast(H.color||C.color):"#000000"}if(A){J.cursor=A}for(M in E){E[M]===av&&delete E[M]}E=H.dataLabel=o[F?"text":"label"](r,0,-999,z.shape,null,null,z.useHTML).attr(E).css(ay(L,J)).add(p).shadow(z.shadow)}}E&&C.alignDataLabel(H,E,z,null,I)}}})}};aY.prototype.alignDataLabel=function(D,C,B,A,z){var w=this.chart,v=w.inverted,t=az(D.plotX,-999),s=az(D.plotY,-999),r=C.getBBox(),p=w.renderer.fontMetrics(B.style.fontSize).b,o=this.visible&&(D.series.forceDL||w.isInsidePlot(t,au(s),v)||A&&w.isInsidePlot(t,v?A.x+1:A.y+A.height-1,v));if(o){A=ay({x:v?w.plotWidth-s:t,y:au(v?w.plotHeight-t:s),width:0,height:0},A),ay(B,{width:r.width,height:r.height}),B.rotation?(D=w.renderer.rotCorr(p,B.rotation),C[z?"attr":"animate"]({x:A.x+B.x+A.width/2+D.x,y:A.y+B.y+A.height/2}).attr({align:B.align})):(C.align(B,null,A),v=C.alignAttr,az(B.overflow,"justify")==="justify"?this.justifyDataLabel(C,B,v,r,A,z):az(B.crop,!0)&&(o=w.isInsidePlot(v.x,v.y)&&w.isInsidePlot(v.x+r.width,v.y+r.height)),B.shape&&C.attr({anchorX:D.plotX,anchorY:D.plotY}))}if(!o){C.attr({y:-999}),C.placed=!1}};aY.prototype.justifyDataLabel=function(D,C,B,A,z,w){var v=this.chart,t=C.align,s=C.verticalAlign,r,p,o=D.box?0:D.padding||0;r=B.x+o;if(r<0){t==="right"?C.align="left":C.x=-r,p=!0}r=B.x+A.width-o;if(r>v.plotWidth){t==="left"?C.align="right":C.x=v.plotWidth-r,p=!0}r=B.y+o;if(r<0){s==="bottom"?C.verticalAlign="top":C.y=-r,p=!0}r=B.y+A.height-o;if(r>v.plotHeight){s==="top"?C.verticalAlign="bottom":C.y=v.plotHeight-r,p=!0}if(p){D.placed=!w,D.align(C,null,z)}};if(a4.pie){a4.pie.prototype.drawDataLabels=function(){var cj=this,ci=cj.data,ch,cg=cj.chart,cf=cj.options.dataLabels,ce=az(cf.connectorPadding,10),cd=az(cf.connectorWidth,1),cc=cg.plotWidth,cb=cg.plotHeight,ca,b9,b7=az(cf.softConnector,!0),b8=cf.distance,b6=cj.center,b4=b6[2]/2,bb=b6[1],ab=b8>0,W,Y,R,ba=[[],[]],b5,b3,aa,X,V,Z=[0,0,0,0],w=function(s,r){return r.y-s.y};if(cj.visible&&(cf.enabled||cj._hasPointLabels)){aY.prototype.drawDataLabels.apply(cj);aA(ci,function(r){r.dataLabel&&r.visible&&ba[r.half].push(r)});for(X=2;X--;){var S=[],t=[],U=ba[X],z=U.length,N;if(z){cj.sortByAngle(U,X-0.5);for(V=ci=0;!ci&&U[V];){ci=U[V]&&U[V].dataLabel&&(U[V].dataLabel.getBBox().height||21),V++}if(b8>0){Y=aq(bb+b4+b8,cg.plotHeight);for(V=aw(0,bb-b4-b8);V<=Y;V+=ci){S.push(V)}Y=S.length;if(z>Y){ch=[].concat(U);ch.sort(w);for(V=z;V--;){ch[V].rank=V}for(V=z;V--;){U[V].rank>=Y&&U.splice(V,1)}z=U.length}for(V=0;V<z;V++){ch=U[V];R=ch.labelPos;ch=9999;var o,p;for(p=0;p<Y;p++){o=a3(S[p]-R[1]),o<ch&&(ch=o,N=p)}if(N<V&&S[V]!==null){N=V}else{for(Y<z-V+N&&S[V]!==null&&(N=Y-z+V);S[N]===null;){N++}}t.push({i:N,y:S[N]});S[N]=null}t.sort(w)}for(V=0;V<z;V++){ch=U[V];R=ch.labelPos;W=ch.dataLabel;aa=ch.visible===!1?"hidden":"inherit";ch=R[1];if(b8>0){if(Y=t.pop(),N=Y.i,b3=Y.y,ch>b3&&S[N+1]!==null||ch<b3&&S[N-1]!==null){b3=aq(aw(0,ch),cg.plotHeight)}}else{b3=ch}b5=cf.justify?b6[0]+(X?-1:1)*(b4+b8):cj.getX(b3===bb-b4-b8||b3===bb+b4+b8?ch:b3,X);W._attr={visibility:aa,align:R[6]};W._pos={x:b5+cf.x+({left:ce,right:-ce}[R[6]]||0),y:b3+cf.y-10};W.connX=b5;W.connY=b3;if(this.options.size===null){Y=W.width,b5-Y<ce?Z[3]=aw(au(Y-b5+ce),Z[3]):b5+Y>cc-ce&&(Z[1]=aw(au(b5+Y-cc+ce),Z[1])),b3-ci/2<0?Z[0]=aw(au(-b3+ci/2),Z[0]):b3+ci/2>cb&&(Z[2]=aw(au(b3+ci/2-cb),Z[2]))}}}}if(be(Z)===0||this.verifyDataLabelOverflow(Z)){this.placeDataLabels(),ab&&cd&&aA(this.points,function(r){ca=r.connector;R=r.labelPos;if((W=r.dataLabel)&&W._pos&&r.visible){aa=W._attr.visibility,b5=W.connX,b3=W.connY,b9=b7?["M",b5+(R[6]==="left"?5:-5),b3,"C",b5,b3,2*R[2]-R[4],2*R[3]-R[5],R[2],R[3],"L",R[4],R[5]]:["M",b5+(R[6]==="left"?5:-5),b3,"L",R[2],R[3],"L",R[4],R[5]],ca?(ca.animate({d:b9}),ca.attr("visibility",aa)):r.connector=ca=cj.chart.renderer.path(b9).attr({"stroke-width":cd,stroke:cf.connectorColor||r.color||"#606060",visibility:aa}).add(cj.dataLabelsGroup)}else{if(ca){r.connector=ca.destroy()}}})}}},a4.pie.prototype.placeDataLabels=function(){aA(this.points,function(p){var o=p.dataLabel;if(o&&p.visible){(p=o._pos)?(o.attr(o._attr),o[o.moved?"animate":"attr"](p),o.moved=!0):o&&o.attr({y:-999})}})},a4.pie.prototype.alignDataLabel=bt,a4.pie.prototype.verifyDataLabelOverflow=function(p){var o=this.center,w=this.options,v=w.center,t=w.minSize||80,s=t,r;v[0]!==null?s=aw(o[2]-aw(p[1],p[3]),t):(s=aw(o[2]-p[1]-p[3],t),o[0]+=(p[3]-p[1])/2);v[1]!==null?s=aw(aq(s,o[2]-aw(p[0],p[2])),t):(s=aw(aq(s,o[2]-p[0]-p[2]),t),o[1]+=(p[0]-p[2])/2);s<o[2]?(o[2]=s,o[3]=/%$/.test(w.innerSize||0)?s*parseFloat(w.innerSize||0)/100:parseFloat(w.innerSize||0),this.translate(o),aA(this.points,function(z){if(z.dataLabel){z.dataLabel._pos=null}}),this.drawDataLabels&&this.drawDataLabels()):r=!0;return r}}if(a4.column){a4.column.prototype.alignDataLabel=function(B,A,z,w,v){var t=this.chart.inverted,s=B.series,r=B.dlBox||B.shapeArgs,p=az(B.below,B.plotY>az(this.translatedThreshold,s.yAxis.len)),o=az(z.inside,!!this.options.stacking);if(r&&(w=br(r),t&&(w={x:s.yAxis.len-w.y-w.height,y:s.xAxis.len-w.x-w.width,width:w.height,height:w.width}),!o)){t?(w.x+=p?0:w.width,w.width=0):(w.y+=p?w.height:0,w.height=0)}z.align=az(z.align,!t||o?"center":p?"right":"left");z.verticalAlign=az(z.verticalAlign,t||o?"middle":p?"top":"bottom");aY.prototype.alignDataLabel.call(this,B,A,z,w,v)}}(function(p){var o=p.Chart,t=p.each,s=p.pick,r=HighchartsAdapter.addEvent;o.prototype.callbacks.push(function(w){function v(){var z=[];t(w.series,function(B){var A=B.options.dataLabels,C=B.dataLabelCollections||["dataLabel"];(A.enabled||B._hasPointLabels)&&!A.allowOverlap&&B.visible&&t(C,function(D){t(B.points,function(E){if(E[D]){E[D].labelrank=s(E.labelrank,E.shapeArgs&&E.shapeArgs.height),z.push(E[D])}})})});w.hideOverlappingLabels(z)}v();r(w,"redraw",v)});o.prototype.hideOverlappingLabels=function(F){var E=F.length,D,C,B,A,w,z,v;for(C=0;C<E;C++){if(D=F[C]){D.oldOpacity=D.opacity,D.newOpacity=1}}F.sort(function(I,H){return(H.labelrank||0)-(I.labelrank||0)});for(C=0;C<E;C++){B=F[C];for(D=C+1;D<E;++D){if(A=F[D],B&&A&&B.placed&&A.placed&&B.newOpacity!==0&&A.newOpacity!==0&&(w=B.alignAttr,z=A.alignAttr,v=2*(B.box?0:B.padding),w=!(z.x>w.x+(B.width-v)||z.x+(A.width-v)<w.x||z.y>w.y+(B.height-v)||z.y+(A.height-v)<w.y))){(B.labelrank<A.labelrank?B:A).newOpacity=0}}}t(F,function(I){var H,J;if(I){J=I.newOpacity;if(I.oldOpacity!==J&&I.placed){J?I.show(!0):H=function(){I.hide()},I.alignAttr.opacity=J,I[I.isOld?"animate":"attr"](I.alignAttr,null,H)}I.isOld=!0}})}})(bp);aW=bp.TrackerMixin={drawTrackerPoint:function(){var p=this,o=p.chart,v=o.pointer,t=p.options.cursor,s=t&&{cursor:t},r=function(w){for(var A=w.target,z;A&&!z;){z=A.point,A=A.parentNode}if(z!==av&&z!==o.hoverPoint){z.onMouseOver(w)}};aA(p.points,function(w){if(w.graphic){w.graphic.element.point=w}if(w.dataLabel){w.dataLabel.element.point=w}});if(!p._hasTracking){aA(p.trackerGroups,function(w){if(p[w]&&(p[w].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(z){v.onTrackerMouseOut(z)}).css(s),bo)){p[w].on("touchstart",r)}}),p._hasTracking=!0}},drawTrackerGraph:function(){var I=this,H=I.options,F=H.trackByArea,E=[].concat(F?I.areaPath:I.graphPath),D=E.length,C=I.chart,B=C.pointer,A=C.renderer,z=C.options.tooltip.snap,w=I.tracker,v=H.cursor,s=v&&{cursor:v},v=I.singlePoints,t,r=function(){if(C.hoverSeries!==I){I.onMouseOver()}},o="rgba(192,192,192,"+(aC?0.0001:0.002)+")";if(D&&!F){for(t=D+1;t--;){E[t]==="M"&&E.splice(t+1,0,E[t+1]-z,E[t+2],"L"),(t&&E[t]==="M"||t===D)&&E.splice(t,0,"L",E[t-2]+z,E[t-1])}}for(t=0;t<v.length;t++){D=v[t],E.push("M",D.plotX-z,D.plotY,"L",D.plotX+z,D.plotY)}w?w.attr({d:E}):(I.tracker=A.path(E).attr({"stroke-linejoin":"round",visibility:I.visible?"visible":"hidden",stroke:o,fill:F?o:a2,"stroke-width":H.lineWidth+(F?0:2*z),zIndex:2}).add(I.group),aA([I.tracker,I.markerGroup],function(p){p.addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(J){B.onTrackerMouseOut(J)}).css(s);if(bo){p.on("touchstart",r)}}))}};if(a4.column){x.prototype.drawTracker=aW.drawTrackerPoint}if(a4.pie){a4.pie.prototype.drawTracker=aW.drawTrackerPoint}if(a4.scatter){aj.prototype.drawTracker=aW.drawTrackerPoint}ay(bV.prototype,{setItemEvents:function(p,o,v,t,s){var r=this;(v?o:p.legendGroup).on("mouseover",function(){p.setState("hover");o.css(r.options.itemHoverStyle)}).on("mouseout",function(){o.css(p.visible?t:s);p.setState()}).on("click",function(w){var z=function(){p.setVisible()},w={browserEvent:w};p.firePointEvent?p.firePointEvent("legendItemClick",w,z):bd(p,"legendItemClick",w,z)})},createCheckboxForItem:function(o){o.checkbox=bI("input",{type:"checkbox",checked:o.selected,defaultChecked:o.selected},this.options.itemCheckboxStyle,this.chart.container);bf(o.checkbox,"click",function(p){bd(o.series||o,"checkboxClick",{checked:p.target.checked,item:o},function(){o.select()})})}});aX.legend.itemStyle.cursor="pointer";ay(bl.prototype,{showResetZoom:function(){var p=this,o=aX.lang,v=p.options.chart.resetZoomButton,t=v.theme,s=t.states,r=v.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=p.renderer.button(o.resetZoom,null,null,function(){p.zoomOut()},t,s&&s.hover).attr({align:v.position.align,title:o.resetZoomTitle}).add().align(v.position,!1,r)},zoomOut:function(){var o=this;bd(o,"selection",{resetSelection:!0},function(){o.zoom()})},zoom:function(p){var o,t=this.pointer,s=!1,r;!p||p.resetSelection?aA(this.axes,function(v){o=v.zoom()}):aA(p.xAxis.concat(p.yAxis),function(v){var z=v.axis,w=z.isXAxis;if(t[w?"zoomX":"zoomY"]||t[w?"pinchX":"pinchY"]){o=z.zoom(v.min,v.max),z.displayBtn&&(s=!0)}});r=this.resetZoomButton;if(s&&!r){this.showResetZoom()}else{if(!s&&ad(r)){this.resetZoomButton=r.destroy()}}o&&this.redraw(az(this.options.chart.animation,p&&p.animation,this.pointCount<100))},pan:function(p,o){var t=this,s=t.hoverPoints,r;s&&aA(s,function(v){v.setState()});aA(o==="xy"?[1,0]:[1],function(w){var D=p[w?"chartX":"chartY"],C=t[w?"xAxis":"yAxis"][0],B=t[w?"mouseDownX":"mouseDownY"],A=(C.pointRange||0)/2,z=C.getExtremes(),v=C.toValue(B-D,!0)+A,A=C.toValue(B+t[w?"plotWidth":"plotHeight"]-D,!0)-A,B=B>D;if(C.series.length&&(B||v>aq(z.dataMin,z.min))&&(!B||A<aw(z.dataMax,z.max))){C.setExtremes(v,A,!1,!1,{trigger:"pan"}),r=!0}t[w?"mouseDownX":"mouseDownY"]=D});r&&t.redraw(!1);a5(t.container,{cursor:"move"})}});ay(ah.prototype,{select:function(p,o){var t=this,s=t.series,r=s.chart,p=az(p,!t.selected);t.firePointEvent(p?"select":"unselect",{accumulate:o},function(){t.selected=t.options.selected=p;s.options.data[al(t,s.data)]=t.options;t.setState(p&&"select");o||aA(r.getSelectedPoints(),function(v){if(v.selected&&v!==t){v.selected=v.options.selected=!1,s.options.data[al(v,s.data)]=v.options,v.setState(""),v.firePointEvent("unselect")}})})},onMouseOver:function(p,o){var v=this.series,t=v.chart,s=t.tooltip,r=t.hoverPoint;if(t.hoverSeries!==v){v.onMouseOver()}if(r&&r!==this){r.onMouseOut()}if(this.series&&(this.firePointEvent("mouseOver"),s&&(!s.shared||v.noSharedTooltip)&&s.refresh(this,p),this.setState("hover"),!o)){t.hoverPoint=this}},onMouseOut:function(){var p=this.series.chart,o=p.hoverPoints;this.firePointEvent("mouseOut");if(!o||al(this,o)===-1){this.setState(),p.hoverPoint=null}},importEvents:function(){if(!this.hasImportedEvents){var p=br(this.series.options.point,this.options).events,o;this.events=p;for(o in p){bf(this,o,p[o])}this.hasImportedEvents=!0}},setState:function(I,H){var F=this.plotX,E=this.plotY,D=this.series,C=D.options.states,B=a1[D.type].marker&&D.options.marker,A=B&&!B.enabled,z=B&&B.states[I],w=z&&z.enabled===!1,v=D.stateMarkerGraphic,s=this.marker||{},t=D.chart,r=D.halo,p,I=I||"";p=this.pointAttr[I]||D.pointAttr[I];if(!(I===this.state&&!H||this.selected&&I!=="select"||C[I]&&C[I].enabled===!1||I&&(w||A&&z.enabled===!1)||I&&s.states&&s.states[I]&&s.states[I].enabled===!1)){if(this.graphic){B=B&&this.graphic.symbolName&&p.r,this.graphic.attr(br(p,B?{x:F-B,y:E-B,width:2*B,height:2*B}:{})),v&&v.hide()}else{if(I&&z){if(B=z.radius,s=s.symbol||D.symbol,v&&v.currentSymbol!==s&&(v=v.destroy()),v){v[H?"animate":"attr"]({x:F-B,y:E-B})}else{if(s){D.stateMarkerGraphic=v=t.renderer.symbol(s,F-B,E-B,2*B,2*B).attr(p).add(D.markerGroup),v.currentSymbol=s}}}if(v){v[I&&t.isInsidePlot(F,E,t.inverted)?"show":"hide"](),v.element.point=this}}if((F=C[I]&&C[I].halo)&&F.size){if(!r){D.halo=r=t.renderer.path().add(t.seriesGroup)}r.attr(ay({fill:bi(this.color||D.color).setOpacity(F.opacity).get()},F.attributes))[H?"animate":"attr"]({d:this.haloPath(F.size)})}else{r&&r.attr({d:[]})}this.state=I}},haloPath:function(p){var o=this.series,t=o.chart,s=o.getPlotBox(),r=t.inverted;return t.renderer.symbols.circle(s.translateX+(r?o.yAxis.len-this.plotY:this.plotX)-p,s.translateY+(r?o.xAxis.len-this.plotX:this.plotY)-p,p*2,p*2)}});ay(aY.prototype,{onMouseOver:function(){var p=this.chart,o=p.hoverSeries;if(o&&o!==this){o.onMouseOut()}this.options.events.mouseOver&&bd(this,"mouseOver");this.setState("hover");p.hoverSeries=this},onMouseOut:function(){var p=this.options,o=this.chart,s=o.tooltip,r=o.hoverPoint;o.hoverSeries=null;if(r){r.onMouseOut()}this&&p.events.mouseOut&&bd(this,"mouseOut");s&&!p.stickyTracking&&(!s.shared||this.noSharedTooltip)&&s.hide();this.setState()},setState:function(p){var o=this.options,t=this.graph,s=o.states,r=o.lineWidth,o=0,p=p||"";if(this.state!==p&&(this.state=p,!(s[p]&&s[p].enabled===!1)&&(p&&(r=s[p].lineWidth||r+(s[p].lineWidthPlus||0)),t&&!t.dashstyle))){p={"stroke-width":r};for(t.attr(p);this["zoneGraph"+o];){this["zoneGraph"+o].attr(p),o+=1}}},setVisible:function(p,o){var z=this,w=z.chart,v=z.legendItem,t,s=w.options.chart.ignoreHiddenSeries,r=z.visible;t=(z.visible=p=z.userOptions.visible=p===av?!r:p)?"show":"hide";aA(["group","dataLabelsGroup","markerGroup","tracker"],function(A){if(z[A]){z[A][t]()}});if(w.hoverSeries===z||(w.hoverPoint&&w.hoverPoint.series)===z){z.onMouseOut()}v&&w.legend.colorizeItem(z,p);z.isDirty=!0;z.options.stacking&&aA(w.series,function(A){if(A.options.stacking&&A.visible){A.isDirty=!0}});aA(z.linkedSeries,function(A){A.setVisible(p,!1)});if(s){w.isDirtyBox=!0}o!==!1&&w.redraw();bd(z,t)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(o){this.selected=o=o===av?!this.selected:o;if(this.checkbox){this.checkbox.checked=o}bd(this,o?"select":"unselect")},drawTracker:aW.drawTrackerGraph});ay(bp,{Color:bi,Point:ah,Tick:G,Renderer:bQ,SVGElement:a0,SVGRenderer:aM,arrayMin:bM,arrayMax:be,charts:aS,dateFormat:b2,error:bX,format:bH,pathAnim:a,getOptions:function(){return aX},hasBidiBug:bK,isTouchDevice:aJ,setOptions:function(o){aX=br(!0,aX,o);bc();return aX},addEvent:bf,removeEvent:aQ,createElement:bI,discardElement:aO,css:a5,each:aA,map:bP,merge:br,splat:b1,extendClass:j,pInt:bg,svg:aC,canvas:bT,vml:!aC&&!bT,product:"Highcharts",version:"4.1.8"})})();
;}catch(e){}
try{
(function(L){var w=L.Chart,h=L.addEvent,s=L.removeEvent,o=HighchartsAdapter.fireEvent,K=L.createElement,x=L.discardElement,d=L.css,I=L.merge,z=L.each,u=L.extend,f=L.splat,e=Math.max,J=document,i=window,c=L.isTouchDevice,b=L.Renderer.prototype.symbols,n=L.getOptions(),a;u(n.lang,{printChart:"打印图表",downloadPNG:"下载PNG图像",downloadJPEG:"下载JPEG图像",downloadPDF:"下载PDF文档",downloadSVG:"SVG矢量图下载",contextButtonTitle:"图上下文菜单"});n.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:c?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}};n.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};L.post=function(g,j,k){var l,g=K("form",I({method:"post",action:g,enctype:"multipart/form-data"},k),{display:"none"},J.body);for(l in j){K("input",{type:"hidden",name:l,value:j[l]},null,g)}g.submit();x(g)};u(w.prototype,{sanitizeSVG:function(g){return g.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(j){return j.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(q){var r=this,k,m,j,p,g,l=I(r.options,q),t=l.exporting.allowHTML;if(!J.createElementNS){J.createElementNS=function(y,v){return J.createElement(v)}}m=K("div",null,{position:"absolute",top:"-9999em",width:r.chartWidth+"px",height:r.chartHeight+"px"},J.body);j=r.renderTo.style.width;g=r.renderTo.style.height;j=l.exporting.sourceWidth||l.chart.width||/px$/.test(j)&&parseInt(j,10)||600;g=l.exporting.sourceHeight||l.chart.height||/px$/.test(g)&&parseInt(g,10)||400;u(l.chart,{animation:!1,renderTo:m,forExport:!t,width:j,height:g});l.exporting.enabled=!1;delete l.data;l.series=[];z(r.series,function(v){p=I(v.options,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:v.visible});p.isInternal||l.series.push(p)});q&&z(["xAxis","yAxis"],function(v){z(f(q[v]),function(y,A){l[v][A]=I(l[v][A],y)})});k=new L.Chart(l,r.callback);z(["xAxis","yAxis"],function(v){z(r[v],function(y,D){var C=k[v][D],B=y.getExtremes(),A=B.userMin,B=B.userMax;C&&(A!==void 0||B!==void 0)&&C.setExtremes(A,B,!0,!1)})});j=k.getChartHTML();l=null;k.destroy();x(m);if(t&&(m=j.match(/<\/svg>(.*?$)/))){m='<foreignObject x="0" y="0 width="200" height="200"><body xmlns="http://www.w3.org/1999/xhtml">'+m[1]+"</body></foreignObject>",j=j.replace("</svg>",m+"</svg>")}j=this.sanitizeSVG(j);return j=j.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(g,j){var k=this.options.exporting;return this.getSVG(I({chart:{borderRadius:0}},k.chartOptions,j,{exporting:{sourceWidth:g&&g.sourceWidth||k.sourceWidth,sourceHeight:g&&g.sourceHeight||k.sourceHeight}}))},exportChart:function(g,j){var k=this.getSVGForExport(g,j),g=I(this.options.exporting,g);L.post(g.url,{filename:g.filename||"chart",type:g.type,width:g.width||0,scale:g.scale||2,svg:k},g.formAttributes)},print:function(){var j=this,k=j.container,p=[],q=k.parentNode,m=J.body,l=m.childNodes;if(!j.isPrinting){j.isPrinting=!0,o(j,"beforePrint"),z(l,function(r,g){if(r.nodeType===1){p[g]=r.style.display,r.style.display="none"}}),m.appendChild(k),i.focus(),i.print(),setTimeout(function(){q.appendChild(k);z(l,function(r,g){if(r.nodeType===1){r.style.display=p[g]}});j.isPrinting=!1;o(j,"afterPrint")},1000)}},contextMenu:function(P,Q,M,O,H,G,F){var N=this,t=N.options.navigation,C=t.menuItemStyle,B=N.chartWidth,A=N.chartHeight,D="cache-"+P,E=N[D],q=e(H,G),m,j,y,v=function(g){N.pointer.inClass(g.target,P)||j()};if(!E){N[D]=E=K("div",{className:P},{position:"absolute",zIndex:1000,padding:q+"px"},N.container),m=K("div",null,u({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},t.menuStyle),E),j=function(){d(E,{display:"none"});F&&F.setState(0);N.openMenu=!1},h(E,"mouseleave",function(){y=setTimeout(j,500)}),h(E,"mouseenter",function(){clearTimeout(y)}),h(document,"mouseup",v),h(N,"destroy",function(){s(document,"mouseup",v)}),z(Q,function(k){if(k){var g=k.separator?K("hr",null,null,m):K("div",{onmouseover:function(){d(this,t.menuItemHoverStyle)},onmouseout:function(){d(this,C)},onclick:function(l){l.stopPropagation();j();k.onclick&&k.onclick.apply(N,arguments)},innerHTML:k.text||N.options.lang[k.textKey]},u({cursor:"pointer"},C),m);N.exportDivElements.push(g)}}),N.exportDivElements.push(m,E),N.exportMenuWidth=E.offsetWidth,N.exportMenuHeight=E.offsetHeight}Q={display:"block"};M+N.exportMenuWidth>B?Q.right=B-M-H-q+"px":Q.left=M-q+"px";O+G+N.exportMenuHeight>A&&F.alignOptions.verticalAlign!=="top"?Q.bottom=A-O-q+"px":Q.top=O+G-q+"px";d(E,Q);N.openMenu=!0},addButton:function(F){var G=this,C=G.renderer,E=I(G.options.navigation.buttonOptions,F),B=E.onclick,t=E.menuItems,A,D,r={stroke:E.symbolStroke,fill:E.symbolFill},v=E.symbolSize||12;if(!G.btnCount){G.btnCount=0}if(!G.exportDivElements){G.exportDivElements=[],G.exportSVGElements=[]}if(E.enabled!==!1){var q=E.theme,l=q.states,g=l&&l.hover,l=l&&l.select,y;delete q.states;B?y=function(j){j.stopPropagation();B.call(G,j)}:t&&(y=function(){G.contextMenu(D.menuClassName,t,D.translateX,D.translateY,D.width,D.height,D);D.setState(2)});E.text&&E.symbol?q.paddingLeft=L.pick(q.paddingLeft,25):E.text||u(q,{width:E.width,height:E.height,padding:0});D=C.button(E.text,0,0,y,q,g,l).attr({title:G.options.lang[E._titleKey],"stroke-linecap":"round"});D.menuClassName=F.menuClassName||"highcharts-menu-"+G.btnCount++;E.symbol&&(A=C.symbol(E.symbol,E.symbolX-v/2,E.symbolY-v/2,v,v).attr(u(r,{"stroke-width":E.symbolStrokeWidth||1,zIndex:1})).add(D));D.add().align(u(E,{width:D.width,x:L.pick(E.x,a)}),!0,"spacingBox");a+=(D.width+E.buttonSpacing)*(E.align==="right"?-1:1);G.exportSVGElements.push(D,A)}},destroyExport:function(g){var g=g.target,j,k;for(j=0;j<g.exportSVGElements.length;j++){if(k=g.exportSVGElements[j]){k.onclick=k.ontouchstart=null,g.exportSVGElements[j]=k.destroy()}}for(j=0;j<g.exportDivElements.length;j++){k=g.exportDivElements[j],s(k,"mouseleave"),g.exportDivElements[j]=k.onmouseout=k.onmouseover=k.ontouchstart=k.onclick=null,x(k)}}});b.menu=function(g,j,k,l){return["M",g,j+2.5,"L",g+k,j+2.5,"M",g,j+l/2+0.5,"L",g+k,j+l/2+0.5,"M",g,j+l-1.5,"L",g+k,j+l-1.5]};w.prototype.callbacks.push(function(g){var j,k=g.options.exporting,l=k.buttons;a=0;if(k.enabled!==!1){for(j in l){g.addButton(l[j])}h(g,"destroy",g.destroyExport)}})})(Highcharts);
;}catch(e){}
try{
(function(b){var a=b.each,c=function(d,e){this.init(d,e)};b.extend(c.prototype,{init:function(d,e){this.options=d;this.chartOptions=e;this.columns=d.columns||this.rowsToColumns(d.rows)||[];this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var d=this.chartOptions,e=d&&d.chart&&d.chart.type,f=[];a(d&&d.series||[],function(g){f.push((b.seriesTypes[g.type||e||"line"].prototype.pointArrayMap||[0]).length)});this.valueCount={global:(b.seriesTypes[e||"line"].prototype.pointArrayMap||[0]).length,individual:f}},dataFound:function(){if(this.options.switchRowsAndColumns){this.columns=this.rowsToColumns(this.columns)}this.parseTypes();this.findHeaderRow();this.parsed();this.complete()},parseCSV:function(){var u=this,v=this.options,t=v.csv,s=this.columns,r=v.startRow||0,q=v.endRow||Number.MAX_VALUE,m=v.startColumn||0,n=v.endColumn||Number.MAX_VALUE,p,l,j=0;t&&(l=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(v.lineDelimiter||"\n"),p=v.itemDelimiter||(t.indexOf("\t")!==-1?"\t":","),a(l,function(d,g){var e=u.trim(d),f=e.indexOf("#")===0;g>=r&&g<=q&&!f&&e!==""&&(e=d.split(p),a(e,function(h,i){i>=m&&i<=n&&(s[i-m]||(s[i-m]=[]),s[i-m][j]=h)}),j+=1)}),this.dataFound())},parseTable:function(){var g=this.options,h=g.table,n=this.columns,m=g.startRow||0,l=g.endRow||Number.MAX_VALUE,k=g.startColumn||0,j=g.endColumn||Number.MAX_VALUE;h&&(typeof h==="string"&&(h=document.getElementById(h)),a(h.getElementsByTagName("tr"),function(e,d){d>=m&&d<=l&&a(e.children,function(f,i){if((f.tagName==="TD"||f.tagName==="TH")&&i>=k&&i<=j){n[i-k]||(n[i-k]=[]),n[i-k][d-m]=f.innerHTML}})}),this.dataFound())},parseGoogleSpreadsheet:function(){var s=this,t=this.options,r=t.googleSpreadsheetKey,q=this.columns,p=t.startRow||0,o=t.endRow||Number.MAX_VALUE,l=t.startColumn||0,m=t.endColumn||Number.MAX_VALUE,n,j;r&&jQuery.ajax({dataType:"json",url:"https://spreadsheets.google.com/feeds/cells/"+r+"/"+(t.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",error:t.error,success:function(f){var f=f.feed.entry,i,g=f.length,d=0,h=0,e;for(e=0;e<g;e++){i=f[e],d=Math.max(d,i.gs$cell.col),h=Math.max(h,i.gs$cell.row)}for(e=0;e<d;e++){if(e>=l&&e<=m){q[e-l]=[],q[e-l].length=Math.min(h,o-p)}}for(e=0;e<g;e++){if(i=f[e],n=i.gs$cell.row-1,j=i.gs$cell.col-1,j>=l&&j<=m&&n>=p&&n<=o){q[j-l][n-p]=i.content.$t}}s.dataFound()}})},findHeaderRow:function(){a(this.columns,function(){});this.headerRow=0},trim:function(d){return typeof d==="string"?d.replace(/^\s+|\s+$/g,""):d},parseTypes:function(){for(var g=this.columns,h=g.length,l,k,j,i;h--;){for(l=g[h].length;l--;){k=g[h][l],j=parseFloat(k),i=this.trim(k),i==j?(g[h][l]=j,j>31536000000?g[h].isDatetime=!0:g[h].isNumeric=!0):(k=this.parseDate(k),h===0&&typeof k==="number"&&!isNaN(k)?(g[h][l]=k,g[h].isDatetime=!0):g[h][l]=i===""?null:i)}}},dateFormats:{"YYYY-mm-dd":{regex:"^([0-9]{4})-([0-9]{2})-([0-9]{2})$",parser:function(d){return Date.UTC(+d[1],d[2]-1,+d[3])}}},parseDate:function(f){var g=this.options.parseDate,j,i,h;g&&(j=g(f));return j},rowsToColumns:function(g){var h,l,k,j,i;if(g){i=[];l=g.length;for(h=0;h<l;h++){j=g[h].length;for(k=0;k<j;k++){i[k]||(i[k]=[]),i[k][h]=g[h][k]}}}return i},parsed:function(){this.options.parsed&&this.options.parsed.call(this,this.columns)},complete:function(){var s=this.columns,t,r,q=this.options,p,o,l,m,n,j;if(q.complete||q.afterComplete){this.getColumnDistribution();s.length>1&&(t=s.shift(),this.headerRow===0&&t.shift(),t.isDatetime?r="datetime":t.isNumeric||(r="category"));for(m=0;m<s.length;m++){if(this.headerRow===0){s[m].name=s[m].shift()}}o=[];for(m=0,j=0;m<s.length;j++){p=b.pick(this.valueCount.individual[j],this.valueCount.global);l=[];if(m+p<=s.length){for(n=0;n<s[m].length;n++){l[n]=[t[n],s[m][n]!==void 0?s[m][n]:null],p>1&&l[n].push(s[m+1][n]!==void 0?s[m+1][n]:null),p>2&&l[n].push(s[m+2][n]!==void 0?s[m+2][n]:null),p>3&&l[n].push(s[m+3][n]!==void 0?s[m+3][n]:null),p>4&&l[n].push(s[m+4][n]!==void 0?s[m+4][n]:null)}}o[j]={name:s[m].name,data:l};m+=p}s={xAxis:{type:r},series:o};q.complete&&q.complete(s);q.afterComplete&&q.afterComplete(s)}}});b.Data=c;b.data=function(d,e){return new c(d,e)};b.wrap(b.Chart.prototype,"init",function(e,f,h){var g=this;f&&f.data?b.data(b.extend(f.data,{afterComplete:function(k){var j,d;if(f.hasOwnProperty("series")){if(typeof f.series==="object"){for(j=Math.max(f.series.length,k.series.length);j--;){d=f.series[j]||{},f.series[j]=b.merge(d,k.series[j])}}else{delete f.series}}f=b.merge(k,f);e.call(g,f,h)}}),f):e.call(g,f,h)})})(Highcharts);
;}catch(e){}
try{
(function(k){function h(P,R,Q){var O,N,M=R.options.chart.options3d,K=!1;Q?(K=R.inverted,Q=R.plotWidth/2,R=R.plotHeight/2,O=M.depth/2,N=p(M.depth,1)*p(M.viewDistance,0)):(Q=R.plotLeft+R.plotWidth/2,R=R.plotTop+R.plotHeight/2,O=M.depth/2,N=p(M.depth,1)*p(M.viewDistance,0));var J=[],L=Q,I=R,m=O,F=N,Q=s*(K?M.beta:-M.beta),M=s*(K?-M.alpha:M.alpha),E=j(Q),A=i(Q),y=j(M),x=i(M),l,D,C,H,G,d;k.each(P,function(n){l=(K?n.y:n.x)-L;D=(K?n.x:n.y)-I;C=(n.z||0)-m;H=A*l-E*C;G=-E*y*l-A*y*C+x*D;d=E*x*l+A*x*C+y*D;F>0&&F<Number.POSITIVE_INFINITY&&(H*=F/(d+m+F),G*=F/(d+m+F));H+=L;G+=I;d+=m;J.push({x:K?G:H,y:K?H:G,z:d})});return J}function g(d){return d!==void 0&&d!==null}function v(n){var l=0,d,m;for(d=0;d<n.length;d++){m=(d+1)%n.length,l+=n[d].x*n[m].y-n[m].x*n[d].y}return l/2}function c(m){var l=0,d;for(d=0;d<m.length;d++){l+=m[d].z}return m.length?l/m.length:0}function b(w,y,x,q,o,n,r,l){var m=[];return n>o&&n-o>e/2+0.0001?(m=m.concat(b(w,y,x,q,o,o+e/2,r,l)),m=m.concat(b(w,y,x,q,o+e/2,n,r,l))):n<o&&o-n>e/2+0.0001?(m=m.concat(b(w,y,x,q,o,o-e/2,r,l)),m=m.concat(b(w,y,x,q,o-e/2,n,r,l))):(m=n-o,["C",w+x*i(o)-x*f*m*j(o)+r,y+q*j(o)+q*f*m*i(o)+l,w+x*i(n)+x*f*m*j(n)+r,y+q*j(n)-q*f*m*i(n)+l,w+x*i(n)+r,y+q*j(n)+l])}function u(n){if(this.chart.is3d()){var l=this.chart.options.plotOptions.column.grouping;if(l!==void 0&&!l&&this.group.zIndex!==void 0&&!this.zIndexSet){this.group.attr({zIndex:this.group.zIndex*10}),this.zIndexSet=!0}var d=this.options,m=this.options.states;this.borderWidth=d.borderWidth=g(d.edgeWidth)?d.edgeWidth:1;k.each(this.data,function(o){if(o.y!==null){o=o.pointAttr,this.borderColor=k.pick(d.edgeColor,o[""].fill),o[""].stroke=this.borderColor,o.hover.stroke=k.pick(m.hover.edgeColor,this.borderColor),o.select.stroke=k.pick(m.select.edgeColor,this.borderColor)}})}n.apply(this,[].slice.call(arguments,1))}var e=Math.PI,s=e/180,j=Math.sin,i=Math.cos,p=k.pick,t=Math.round;k.perspective=h;var f=4*(Math.sqrt(2)-1)/3/(e/2);k.SVGRenderer.prototype.toLinePath=function(m,l){var d=[];k.each(m,function(n){d.push("L",n.x,n.y)});m.length&&(d[0]="M",l&&d.push("Z"));return d};k.SVGRenderer.prototype.cuboid=function(l){var d=this.g(),l=this.cuboidPath(l);d.front=this.path(l[0]).attr({zIndex:l[3],"stroke-linejoin":"round"}).add(d);d.top=this.path(l[1]).attr({zIndex:l[4],"stroke-linejoin":"round"}).add(d);d.side=this.path(l[2]).attr({zIndex:l[5],"stroke-linejoin":"round"}).add(d);d.fillSetter=function(m){var o=k.Color(m).brighten(0.1).get(),n=k.Color(m).brighten(-0.1).get();this.front.attr({fill:m});this.top.attr({fill:o});this.side.attr({fill:n});this.color=m;return this};d.opacitySetter=function(m){this.front.attr({opacity:m});this.top.attr({opacity:m});this.side.attr({opacity:m});return this};d.attr=function(m){m.shapeArgs||g(m.x)?(m=this.renderer.cuboidPath(m.shapeArgs||m),this.front.attr({d:m[0],zIndex:m[3]}),this.top.attr({d:m[1],zIndex:m[4]}),this.side.attr({d:m[2],zIndex:m[5]})):k.SVGElement.prototype.attr.call(this,m);return this};d.animate=function(m,o,n){g(m.x)&&g(m.y)?(m=this.renderer.cuboidPath(m),this.front.attr({zIndex:m[3]}).animate({d:m[0]},o,n),this.top.attr({zIndex:m[4]}).animate({d:m[1]},o,n),this.side.attr({zIndex:m[5]}).animate({d:m[2]},o,n)):m.opacity?(this.front.animate(m,o,n),this.top.animate(m,o,n),this.side.animate(m,o,n)):k.SVGElement.prototype.animate.call(this,m,o,n);return this};d.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return null};d.attr({zIndex:-l[3]});return d};k.SVGRenderer.prototype.cuboidPath=function(r){var x=r.x,w=r.y,q=r.z,o=r.height,n=r.width,l=r.depth,d=k.map,m=[{x:x,y:w,z:q},{x:x+n,y:w,z:q},{x:x+n,y:w+o,z:q},{x:x,y:w+o,z:q},{x:x,y:w+o,z:q+l},{x:x+n,y:w+o,z:q+l},{x:x+n,y:w,z:q+l},{x:x,y:w,z:q+l}],m=h(m,k.charts[this.chartIndex],r.insidePlotArea),w=function(z,y){z=d(z,function(A){return m[A]});y=d(y,function(A){return m[A]});return v(z)<0?z:v(y)<0?y:[]},r=w([3,2,1,0],[7,6,5,4]),x=w([1,6,7,0],[4,5,2,3]),w=w([1,2,5,6],[0,7,4,3]);return[this.toLinePath(r,!0),this.toLinePath(x,!0),this.toLinePath(w,!0),c(r),c(x),c(w)]};k.SVGRenderer.prototype.arc3d=function(o){o.alpha*=s;o.beta*=s;var l=this.g(),d=this.arc3dPath(o),n=l.renderer,m=d.zTop*100;l.shapeArgs=o;l.top=n.path(d.top).setRadialReference(o.center).attr({zIndex:d.zTop}).add(l);l.side1=n.path(d.side2).attr({zIndex:d.zSide1});l.side2=n.path(d.side1).attr({zIndex:d.zSide2});l.inn=n.path(d.inn).attr({zIndex:d.zInn});l.out=n.path(d.out).attr({zIndex:d.zOut});l.fillSetter=function(r){this.color=r;var q=k.Color(r).brighten(-0.1).get();this.side1.attr({fill:q});this.side2.attr({fill:q});this.inn.attr({fill:q});this.out.attr({fill:q});this.top.attr({fill:r});return this};l.translateXSetter=function(q){this.out.attr({translateX:q});this.inn.attr({translateX:q});this.side1.attr({translateX:q});this.side2.attr({translateX:q});this.top.attr({translateX:q})};l.translateYSetter=function(q){this.out.attr({translateY:q});this.inn.attr({translateY:q});this.side1.attr({translateY:q});this.side2.attr({translateY:q});this.top.attr({translateY:q})};l.animate=function(r,q,w){g(r.end)||g(r.start)?(this._shapeArgs=this.shapeArgs,k.SVGElement.prototype.animate.call(this,{_args:r},{duration:q,start:function(){var y=arguments[0].elem,x=y._shapeArgs;x.fill!==y.color&&y.attr({fill:x.fill})},step:function(){var y=arguments[1],x=y.elem,A=x._shapeArgs,z=y.end,y=y.pos,A=k.merge(A,{x:A.x+(z.x-A.x)*y,y:A.y+(z.y-A.y)*y,r:A.r+(z.r-A.r)*y,innerR:A.innerR+(z.innerR-A.innerR)*y,start:A.start+(z.start-A.start)*y,end:A.end+(z.end-A.end)*y}),z=x.renderer.arc3dPath(A);x.shapeArgs=A;x.top.attr({d:z.top,zIndex:z.zTop});x.inn.attr({d:z.inn,zIndex:z.zInn});x.out.attr({d:z.out,zIndex:z.zOut});x.side1.attr({d:z.side1,zIndex:z.zSide1});x.side2.attr({d:z.side2,zIndex:z.zSide2})}},w)):k.SVGElement.prototype.animate.call(this,r,q,w);return this};l.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();k.SVGElement.prototype.destroy.call(this)};l.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};l.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};l.zIndex=m;l.attr({zIndex:m});return l};k.SVGRenderer.prototype.arc3dPath=function(K){var M=K.x,L=K.y,I=K.start,J=K.end-0.00001,H=K.r,F=K.innerR,E=K.depth,G=K.alpha,D=K.beta,q=i(I),A=j(I),K=i(J),C=j(J),z=H*i(D),y=H*i(G),r=F*i(D);F*=i(G);var m=E*j(D),B=E*j(G),E=["M",M+z*q,L+y*A],E=E.concat(b(M,L,z,y,I,J,0,0)),E=E.concat(["L",M+r*K,L+F*C]),E=E.concat(b(M,L,r,F,J,I,0,0)),E=E.concat(["Z"]),D=D>0?e/2:0,G=G>0?0:e/2,D=I>-D?I:J>-D?-D:I,l=J<e-G?J:I<e-G?e-G:J,G=["M",M+z*i(D),L+y*j(D)],G=G.concat(b(M,L,z,y,D,l,0,0)),G=G.concat(["L",M+z*i(l)+m,L+y*j(l)+B]),G=G.concat(b(M,L,z,y,l,D,m,B)),G=G.concat(["Z"]),D=["M",M+r*q,L+F*A],D=D.concat(b(M,L,r,F,I,J,0,0)),D=D.concat(["L",M+r*i(J)+m,L+F*j(J)+B]),D=D.concat(b(M,L,r,F,J,I,m,B)),D=D.concat(["Z"]),q=["M",M+z*q,L+y*A,"L",M+z*q+m,L+y*A+B,"L",M+r*q+m,L+F*A+B,"L",M+r*q,L+F*A,"Z"],M=["M",M+z*K,L+y*C,"L",M+z*K+m,L+y*C+B,"L",M+r*K+m,L+F*C+B,"L",M+r*K,L+F*C,"Z"],L=j((I+J)/2),I=j(I),J=j(J);return{top:E,zTop:H,out:G,zOut:Math.max(L,I,J)*H,inn:D,zInn:Math.max(L,I,J)*H,side1:q,zSide1:I*H*0.99,side2:M,zSide2:J*H*0.99}};k.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};k.wrap(k.Chart.prototype,"isInsidePlot",function(d){return this.is3d()?!0:d.apply(this,[].slice.call(arguments,1))});k.getOptions().chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}};k.wrap(k.Chart.prototype,"init",function(m){var l=[].slice.call(arguments,1),d;if(l[0].chart.options3d&&l[0].chart.options3d.enabled){d=l[0].plotOptions||{},d=d.pie||{},d.borderColor=k.pick(d.borderColor,void 0)}m.apply(this,l)});k.wrap(k.Chart.prototype,"setChartSize",function(o){o.apply(this,[].slice.call(arguments,1));if(this.is3d()){var m=this.inverted,l=this.clipBox,n=this.margin;l[m?"y":"x"]=-(n[3]||0);l[m?"x":"y"]=-(n[0]||0);l[m?"height":"width"]=this.chartWidth+(n[3]||0)+(n[1]||0);l[m?"width":"height"]=this.chartHeight+(n[0]||0)+(n[2]||0)}});k.wrap(k.Chart.prototype,"redraw",function(d){if(this.is3d()){this.isDirtyBox=!0}d.apply(this,[].slice.call(arguments,1))});k.wrap(k.Chart.prototype,"renderSeries",function(l){var d=this.series.length;if(this.is3d()){for(;d--;){l=this.series[d],l.translate(),l.render()}}else{l.call(this)}});k.Chart.prototype.retrieveStacks=function(o){var l=this.series,d={},n,m=1;k.each(this.series,function(q){n=o?q.options.stack||0:l.length-1-q.index;d[n]?d[n].series.push(q):(d[n]={series:[q],position:m},m++)});d.totalStacks=m+1;return d};k.wrap(k.Axis.prototype,"setOptions",function(m,l){var d;m.call(this,l);if(this.chart.is3d()){d=this.options,d.tickWidth=k.pick(d.tickWidth,0),d.gridLineWidth=k.pick(d.gridLineWidth,1)}});k.wrap(k.Axis.prototype,"render",function(A){A.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var C=this.chart,B=C.renderer,z=C.options.chart.options3d,y=z.frame,x=y.bottom,r=y.back,y=y.side,q=z.depth,w=this.height,o=this.width,n=this.left,m=this.top;if(!this.isZAxis){this.horiz?(r={x:n,y:m+(C.xAxis[0].opposite?-x.size:w),z:0,width:o,height:x.size,depth:q,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(r):this.bottomFrame=B.cuboid(r).attr({fill:x.color,zIndex:C.yAxis[0].reversed&&z.alpha>0?4:-1}).css({stroke:x.color}).add()):(z={x:n+(C.yAxis[0].opposite?0:-y.size),y:m+(C.xAxis[0].opposite?-x.size:0),z:q,width:o+y.size,height:w+x.size,depth:r.size,insidePlotArea:!1},this.backFrame?this.backFrame.animate(z):this.backFrame=B.cuboid(z).attr({fill:r.color,zIndex:-3}).css({stroke:r.color}).add(),C={x:n+(C.yAxis[0].opposite?o:-y.size),y:m+(C.xAxis[0].opposite?-x.size:0),z:0,width:y.size,height:w+x.size,depth:q,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(C):this.sideFrame=B.cuboid(C).attr({fill:y.color,zIndex:-2}).css({stroke:y.color}).add())}}});k.wrap(k.Axis.prototype,"getPlotLinePath",function(o){var m=o.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()){return m}if(m===null){return m}var l=this.chart.options.chart.options3d,l=this.isZAxis?this.chart.plotWidth:l.depth,n=this.opposite;this.horiz&&(n=!n);m=[this.swapZ({x:m[1],y:m[2],z:n?l:0}),this.swapZ({x:m[1],y:m[2],z:l}),this.swapZ({x:m[4],y:m[5],z:l}),this.swapZ({x:m[4],y:m[5],z:n?0:l})];m=h(m,this.chart,!1);return m=this.chart.renderer.toLinePath(m,!1)});k.wrap(k.Axis.prototype,"getLinePath",function(d){return this.chart.is3d()?[]:d.apply(this,[].slice.call(arguments,1))});k.wrap(k.Axis.prototype,"getPlotBandPath",function(m){if(this.chart.is3d()){var l=arguments,d=l[1],l=this.getPlotLinePath(l[2]);(d=this.getPlotLinePath(d))&&l?d.push("L",l[10],l[11],"L",l[7],l[8],"L",l[4],l[5],"L",l[1],l[2]):d=null;return d}else{return m.apply(this,[].slice.call(arguments,1))}});k.wrap(k.Tick.prototype,"getMarkPath",function(l){var d=l.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d()){return d}d=[this.axis.swapZ({x:d[1],y:d[2],z:0}),this.axis.swapZ({x:d[4],y:d[5],z:0})];d=h(d,this.axis.chart,!1);return d=["M",d[0].x,d[0].y,"L",d[1].x,d[1].y]});k.wrap(k.Tick.prototype,"getLabelPosition",function(m){var l=m.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d()){return l}var d=h([this.axis.swapZ({x:l.x,y:l.y,z:0})],this.axis.chart,!1)[0];d.x-=!this.axis.horiz&&this.axis.opposite?this.axis.transA:0;d.old=l;return d});k.wrap(k.Tick.prototype,"handleOverflow",function(l,d){if(this.axis.chart.is3d()){d=d.old}return l.call(this,d)});k.wrap(k.Axis.prototype,"getTitlePosition",function(l){var d=l.apply(this,[].slice.call(arguments,1));return !this.chart.is3d()?d:d=h([this.swapZ({x:d.x,y:d.y,z:0})],this.chart,!1)[0]});k.wrap(k.Axis.prototype,"drawCrosshair",function(l){var d=arguments;this.chart.is3d()&&d[2]&&(d[2]={plotX:d[2].plotXold||d[2].plotX,plotY:d[2].plotYold||d[2].plotY});l.apply(this,[].slice.call(d,1))});k.Axis.prototype.swapZ=function(o,m){if(this.isZAxis){var l=m?0:this.chart.plotLeft,n=this.chart;return{x:l+(n.yAxis[0].opposite?o.z:n.xAxis[0].width-o.z),y:o.y,z:o.x-l}}else{return o}};var a=k.ZAxis=function(){this.isZAxis=!0;this.init.apply(this,arguments)};k.extend(a.prototype,k.Axis.prototype);k.extend(a.prototype,{setOptions:function(d){d=k.merge({offset:0,lineWidth:0},d);k.Axis.prototype.setOptions.call(this,d);this.coll="zAxis"},setAxisSize:function(){k.Axis.prototype.setAxisSize.call(this);this.width=this.len=this.chart.options.chart.options3d.depth;this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var l=this,d=l.chart;l.hasVisibleSeries=!1;l.dataMin=l.dataMax=l.ignoreMinPadding=l.ignoreMaxPadding=null;l.buildStacks&&l.buildStacks();k.each(l.series,function(m){if(m.visible||!d.options.chart.ignoreHiddenSeries){if(l.hasVisibleSeries=!0,m=m.zData,m.length){l.dataMin=Math.min(p(l.dataMin,m[0]),Math.min.apply(null,m)),l.dataMax=Math.max(p(l.dataMax,m[0]),Math.max.apply(null,m))}}})}});k.wrap(k.Chart.prototype,"getAxes",function(m){var l=this,d=this.options,d=d.zAxis=k.splat(d.zAxis||{});m.call(this);if(l.is3d()){this.zAxis=[],k.each(d,function(n,o){n.index=o;n.isX=!0;(new a(l,n)).setScale()})}});k.wrap(k.seriesTypes.column.prototype,"translate",function(o){o.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var l=this.chart,d=this.options,n=d.depth||25,m=(d.stacking?d.stack||0:this._i)*(n+(d.groupZPadding||1));d.grouping!==!1&&(m=0);m+=d.groupZPadding||1;k.each(this.data,function(q){if(q.y!==null){var w=q.shapeArgs,r=q.tooltipPos;q.shapeType="cuboid";w.z=m;w.depth=n;w.insidePlotArea=!0;r=h([{x:r[0],y:r[1],z:m}],l,!1)[0];q.tooltipPos=[r.x,r.y]}});this.z=m}});k.wrap(k.seriesTypes.column.prototype,"animate",function(o){if(this.chart.is3d()){var l=arguments[1],d=this.yAxis,n=this,m=this.yAxis.reversed;if(k.svg){l?k.each(n.data,function(q){if(q.y!==null&&(q.height=q.shapeArgs.height,q.shapey=q.shapeArgs.y,q.shapeArgs.height=1,!m)){q.shapeArgs.y=q.stackY?q.plotY+d.translate(q.stackY):q.plotY+(q.negative?-q.height:q.height)}}):(k.each(n.data,function(q){if(q.y!==null){q.shapeArgs.height=q.height,q.shapeArgs.y=q.shapey,q.graphic&&q.graphic.animate(q.shapeArgs,n.options.animation)}}),this.drawDataLabels(),n.animate=null)}}else{o.apply(this,[].slice.call(arguments,1))}});k.wrap(k.seriesTypes.column.prototype,"init",function(q){q.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var m=this.options,l=m.grouping,o=m.stacking,n=0;if(l===void 0||l){l=this.chart.retrieveStacks(o);o=m.stack||0;for(n=0;n<l[o].series.length;n++){if(l[o].series[n]===this){break}}n=l.totalStacks*10-10*(l.totalStacks-l[o].position)-n}m.zIndex=n}});k.wrap(k.Series.prototype,"alignDataLabel",function(m){if(this.chart.is3d()&&(this.type==="column"||this.type==="columnrange")){var l=arguments[4],d={x:l.x,y:l.y,z:this.z},d=h([d],this.chart,!0)[0];l.x=d.x;l.y=d.y}m.apply(this,[].slice.call(arguments,1))});k.seriesTypes.columnrange&&k.wrap(k.seriesTypes.columnrange.prototype,"drawPoints",u);k.wrap(k.seriesTypes.column.prototype,"drawPoints",u);k.wrap(k.seriesTypes.pie.prototype,"translate",function(w){w.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var y=this,x=y.chart,r=y.options,q=r.depth||0,o=x.options.chart.options3d,m={x:x.plotWidth/2,y:x.plotHeight/2,z:o.depth},l=o.alpha,n=o.beta,d=r.stacking?(r.stack||0)*q:y._i*q;d+=q/2;r.grouping!==!1&&(d=0);k.each(y.data,function(z){var A=z.shapeArgs;z.shapeType="arc3d";A.z=d;A.depth=q*0.75;A.origin=m;A.alpha=l;A.beta=n;A.center=y.center;A=(A.end+A.start)/2;z.slicedTranslation={translateX:t(i(A)*r.slicedOffset*i(l*s)),translateY:t(j(A)*r.slicedOffset*i(l*s))}})}});k.wrap(k.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(l){var d=arguments;return this.series.chart.is3d()?[]:l.call(this,d[1])});k.wrap(k.seriesTypes.pie.prototype,"drawPoints",function(n){var l=this.group,d=this.options,m=d.states;if(this.chart.is3d()){this.borderWidth=d.borderWidth=d.edgeWidth||1,this.borderColor=d.edgeColor=k.pick(d.edgeColor,d.borderColor,void 0),m.hover.borderColor=k.pick(m.hover.edgeColor,this.borderColor),m.hover.borderWidth=k.pick(m.hover.edgeWidth,this.borderWidth),m.select.borderColor=k.pick(m.select.edgeColor,this.borderColor),m.select.borderWidth=k.pick(m.select.edgeWidth,this.borderWidth),k.each(this.data,function(q){var o=q.pointAttr;o[""].stroke=q.series.borderColor||q.color;o[""]["stroke-width"]=q.series.borderWidth;o.hover.stroke=m.hover.borderColor;o.hover["stroke-width"]=m.hover.borderWidth;o.select.stroke=m.select.borderColor;o.select["stroke-width"]=m.select.borderWidth})}n.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&k.each(this.points,function(o){var q=o.graphic;q.out.add(l);q.inn.add(l);q.side1.add(l);q.side2.add(l);q[o.y?"show":"hide"]()})});k.wrap(k.seriesTypes.pie.prototype,"drawDataLabels",function(l){if(this.chart.is3d()){var d=this;k.each(d.data,function(m){var r=m.shapeArgs,q=r.r,o=r.depth,n=(r.alpha||d.chart.options.chart.options3d.alpha)*s,r=(r.start+r.end)/2,m=m.labelPos;m[1]+=-q*(1-i(n))*j(r)+(j(r)>0?j(n)*o:0);m[3]+=-q*(1-i(n))*j(r)+(j(r)>0?j(n)*o:0);m[5]+=-q*(1-i(n))*j(r)+(j(r)>0?j(n)*o:0)})}l.apply(this,[].slice.call(arguments,1))});k.wrap(k.seriesTypes.pie.prototype,"addPoint",function(d){d.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});k.wrap(k.seriesTypes.pie.prototype,"animate",function(q){if(this.chart.is3d()){var l=arguments[1],d=this.options.animation,o=this.center,n=this.group,m=this.markerGroup;if(k.svg){if(d===!0&&(d={}),l){if(n.oldtranslateX=n.translateX,n.oldtranslateY=n.translateY,l={translateX:o[0],translateY:o[1],scaleX:0.001,scaleY:0.001},n.attr(l),m){m.attrSetters=n.attrSetters,m.attr(l)}}else{l={translateX:n.oldtranslateX,translateY:n.oldtranslateY,scaleX:1,scaleY:1},n.animate(l,d),m&&m.animate(l,d),this.animate=null}}}else{q.apply(this,[].slice.call(arguments,1))}});k.wrap(k.seriesTypes.scatter.prototype,"translate",function(q){q.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var l=this.chart,d=k.pick(this.zAxis,l.options.zAxis[0]),o=[],n,m;for(m=0;m<this.data.length;m++){n=this.data[m],n.isInside=n.isInside?n.z>=d.min&&n.z<=d.max:!1,o.push({x:n.plotX,y:n.plotY,z:d.translate(n.z)})}l=h(o,l,!0);for(m=0;m<this.data.length;m++){n=this.data[m],d=l[m],n.plotXold=n.plotX,n.plotYold=n.plotY,n.plotX=d.x,n.plotY=d.y,n.plotZ=d.z}}});k.wrap(k.seriesTypes.scatter.prototype,"init",function(m,l,d){if(l.is3d()){this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"]}m=m.apply(this,[l,d]);if(this.chart.is3d()){this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>":"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}return m});if(k.VMLRenderer){k.setOptions({animate:!1}),k.VMLRenderer.prototype.cuboid=k.SVGRenderer.prototype.cuboid,k.VMLRenderer.prototype.cuboidPath=k.SVGRenderer.prototype.cuboidPath,k.VMLRenderer.prototype.toLinePath=k.SVGRenderer.prototype.toLinePath,k.VMLRenderer.prototype.createElement3D=k.SVGRenderer.prototype.createElement3D,k.VMLRenderer.prototype.arc3d=function(d){d=k.SVGRenderer.prototype.arc3d.call(this,d);d.css({zIndex:d.zIndex});return d},k.VMLRenderer.prototype.arc3dPath=k.SVGRenderer.prototype.arc3dPath,k.wrap(k.Axis.prototype,"render",function(d){d.apply(this,[].slice.call(arguments,1));this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color}));this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color}));this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))})}})(Highcharts);
;}catch(e){}
try{
/**
 * Copyright (c) 2007-2014 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Licensed under MIT
 * @author Ariel Flesler
 * @version 1.4.12
 */
;(function(a){if(typeof define==='function'&&define.amd){define(['jquery'],a)}else{a(jQuery)}}(function($){var j=$.scrollTo=function(a,b,c){return $(window).scrollTo(a,b,c)};j.defaults={axis:'xy',duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:true};j.window=function(a){return $(window)._scrollable()};$.fn._scrollable=function(){return this.map(function(){var a=this,isWin=!a.nodeName||$.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!isWin)return a;var b=(a.contentWindow||a).document||a.ownerDocument||a;return/webkit/i.test(navigator.userAgent)||b.compatMode=='BackCompat'?b.body:b.documentElement})};$.fn.scrollTo=function(f,g,h){if(typeof g=='object'){h=g;g=0}if(typeof h=='function')h={onAfter:h};if(f=='max')f=9e9;h=$.extend({},j.defaults,h);g=g||h.duration;h.queue=h.queue&&h.axis.length>1;if(h.queue)g/=2;h.offset=both(h.offset);h.over=both(h.over);return this._scrollable().each(function(){if(f==null)return;var d=this,$elem=$(d),targ=f,toff,attr={},win=$elem.is('html,body');switch(typeof targ){case'number':case'string':if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=win?$(targ):$(targ,this);if(!targ.length)return;case'object':if(targ.is||targ.style)toff=(targ=$(targ)).offset()}var e=$.isFunction(h.offset)&&h.offset(d,targ)||h.offset;$.each(h.axis.split(''),function(i,a){var b=a=='x'?'Left':'Top',pos=b.toLowerCase(),key='scroll'+b,old=d[key],max=j.max(d,a);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(h.margin){attr[key]-=parseInt(targ.css('margin'+b))||0;attr[key]-=parseInt(targ.css('border'+b+'Width'))||0}attr[key]+=e[pos]||0;if(h.over[pos])attr[key]+=targ[a=='x'?'width':'height']()*h.over[pos]}else{var c=targ[pos];attr[key]=c.slice&&c.slice(-1)=='%'?parseFloat(c)/100*max:c}if(h.limit&&/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&h.queue){if(old!=attr[key])animate(h.onAfterFirst);delete attr[key]}});animate(h.onAfter);function animate(a){$elem.animate(attr,g,h.easing,a&&function(){a.call(this,targ,h)})}}).end()};j.max=function(a,b){var c=b=='x'?'Width':'Height',scroll='scroll'+c;if(!$(a).is('html,body'))return a[scroll]-$(a)[c.toLowerCase()]();var d='client'+c,html=a.ownerDocument.documentElement,body=a.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[d],body[d])};function both(a){return $.isFunction(a)||typeof a=='object'?a:{top:a,left:a}};return j}));

;}catch(e){}
try{
(function e(b,g,d){function c(k,i){if(!g[k]){if(!b[k]){var h=typeof require=="function"&&require;if(!i&&h){return h(k,!0)}if(a){return a(k,!0)}throw new Error("Cannot find module '"+k+"'")}var j=g[k]={exports:{}};b[k][0].call(j.exports,function(l){var m=b[k][1][l];return c(m?m:l)},j,j.exports,e,b,g,d)}return g[k].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(b,c,a){(function(){var g,j,f,d,i,h=[].slice;g=jQuery;j=b("./modules/bus");f=b("./modules/leg");i=g.tourbus=function(){var k,l;k=1<=arguments.length?h.call(arguments,0):[];l=k[0];if(d.hasOwnProperty(l)){k=k.slice(1)}else{if(l instanceof g){l="build"}else{if(typeof l==="string"){l="build";k[0]=g(k[0])}else{g.error("Unknown method of $.tourbus --",k)}}}return d[l].apply(this,k)};g.fn.tourbus=function(){var k;k=1<=arguments.length?h.call(arguments,0):[];return this.each(function(){k.unshift(g(this));i.apply(null,["build"].concat(h.call(k)));return this})};d={build:function(m,k){var l;if(k==null){k={}}k=g.extend(true,{},i.defaults,k);l=[];if(!(m instanceof g)){m=g(m)}m.each(function(){return l.push(new j(this,k))});if(l.length===0){g.error(""+m.selector+" was not found!")}if(l.length===1){return l[0]}return l},destroyAll:function(){var l,m,n,k;n=j._busses;k=[];for(m in n){l=n[m];k.push(l.destroy())}return k},expose:function(k){return k.tourbus={Bus:j,Leg:f}}};i.defaults={debug:false,autoDepart:false,container:"body","class":null,startAt:0,onDepart:function(){return null},onStop:function(){return null},onLegStart:function(){return null},onLegEnd:function(){return null},leg:{"class":null,scrollTo:null,scrollSpeed:150,scrollContext:100,orientation:"bottom",align:"left",width:"auto",margin:10,top:null,left:null,zindex:9999,arrow:"50%"}}}).call(this)},{"./modules/bus":2,"./modules/leg":3}],2:[function(b,c,a){(function(){var g,i,f,d,h=[].slice;g=jQuery;f=b("./leg");d=b("./utils");c.exports=i=(function(){j._busses={};j._tours=0;j.uniqueId=function(){return this._tours++};function j(l,k){this.options=k;this.id=this.constructor.uniqueId();this.elId="tourbus-"+this.id;this.constructor._busses[this.id]=this;this.$original=g(l);this.rawData=this.$original.data();this.$container=g(d.dataProp(this.rawData.container,this.options.container));this.$original.data({tourbus:this});this.currentLegIndex=null;this.legs=[];this.legEls=this.$original.children("li");this.totalLegs=this.legEls.length;this._configureElement();this._setupEvents();if(d.dataProp(this.rawData.autoDepart,this.options.autoDepart)){this.$original.trigger("depart.tourbus")}this._log("built tourbus with el",l.toString(),"and options",this.options)}j.prototype.depart=function(){this.running=true;this.options.onDepart(this);this._log("departing",this);this.currentLegIndex=d.dataProp(this.rawData.startAt,this.options.startAt);return this.showLeg()};j.prototype.stop=function(){if(!this.running){return}g.each(this.legs,g.proxy(this.hideLeg,this));this.currentLegIndex=null;this.options.onStop(this);return this.running=false};j.prototype.on=function(m,k,l){return this.$container.on(m,k,l)};j.prototype.currentLeg=function(){if(this.currentLegIndex===null){return null}return this.legs[this.currentLegIndex]};j.prototype.buildLeg=function(l){var k,n,m;k=g(this.legEls[l]);n=k.data();this.legs[l]=m=new f({bus:this,original:k,target:n.el||"body",index:l,rawData:n});m.render();this.$el.append(m.$el);m._position();m.hide();return m};j.prototype.showLeg=function(l){var m,k;if(l==null){l=this.currentLegIndex}m=this.legs[l]||this.buildLeg(l);this._log("showLeg:",m);k=this.options.onLegStart(m,this);if(k!==false){m.show()}if(++l<this.totalLegs&&!this.legs[l]){return this.buildLeg(l)}};j.prototype.hideLeg=function(l){var m,k;if(l==null){l=this.currentLegIndex}m=this.legs[l];if(m&&m.visible){this._log("hideLeg:",m);k=this.options.onLegEnd(m,this);if(k!==false){m.hide()}}if(--l>0&&!this.legs[l]){return this.buildLeg(l)}};j.prototype.repositionLegs=function(){return g.each(this.legs,function(){return this.reposition()})};j.prototype.next=function(){this.hideLeg();this.currentLegIndex++;if(this.currentLegIndex>this.totalLegs-1){return this.$original.trigger("stop.tourbus")}else{return this.showLeg()}};j.prototype.prev=function(k){this.hideLeg();this.currentLegIndex--;if(this.currentLegIndex<0){return this.$original.trigger("stop.tourbus")}else{return this.showLeg()}};j.prototype.destroy=function(){g.each(this.legs,function(){return this.destroy()});this.legs=[];delete this.constructor._busses[this.id];this._teardownEvents();this.$original.removeData("tourbus");return this.$el.remove()};j.prototype._configureElement=function(){this.$el=g("<div class='tourbus-container'></div>");this.el=this.$el[0];this.$el.attr({id:this.elId});this.$el.addClass(d.dataProp(this.rawData["class"],this.options["class"]));return this.$container.append(this.$el)};j.prototype._log=function(){if(!d.dataProp(this.rawData.debug,this.options.debug)){return}return console.log.apply(console,["TOURBUS "+this.id+":"].concat(h.call(arguments)))};j.prototype._setupEvents=function(){this.$original.on("depart.tourbus",g.proxy(this.depart,this));this.$original.on("stop.tourbus",g.proxy(this.stop,this));this.$original.on("next.tourbus",g.proxy(this.next,this));return this.$original.on("prev.tourbus",g.proxy(this.prev,this))};j.prototype._teardownEvents=function(){return this.$original.off(".tourbus")};return j})()}).call(this)},{"./leg":3,"./utils":4}],3:[function(b,c,a){(function(){var g,f,d,h;g=jQuery;d=b("./utils");c.exports=f=(function(){function i(j){this.options=j;this.$original=this.options.original;this.bus=this.options.bus;this.rawData=this.options.rawData;this.index=this.options.index;this.$target=g(this.options.target);this.id=""+this.bus.id+"-"+this.options.index;this.elId="tourbus-leg-"+this.id;this.visible=false;if(this.$target.length===0){throw""+this.$target.selector+" is not an element!"}this.content=this.$original.html();this._setupOptions();this._configureElement();this._configureTarget();this._configureScroll();this._setupEvents();this.bus._log("leg "+this.index+" made with options",this.options)}i.prototype.render=function(){var k,j;k=this.options.orientation==="centered"?"":"tourbus-arrow";this.$el.addClass(" "+k+" tourbus-arrow-"+this.options.orientation+" ");j="<div class='tourbus-leg-inner'>\n  "+this.content+"\n</div>";this.$el.css({width:this.options.width,zIndex:this.options.zindex}).html(j);return this};i.prototype.destroy=function(){this.$el.remove();return this._teardownEvents()};i.prototype.reposition=function(){this._configureTarget();return this._position()};i.prototype._position=function(){var k,l,m,j;if(this.options.orientation!=="centered"){m={};l={top:"left",bottom:"left",left:"top",right:"top"};if(typeof this.options.arrow==="number"){this.options.arrow+="px"}m[l[this.options.orientation]]=this.options.arrow;j="#"+this.elId+".tourbus-arrow";this.bus._log("adding rule for "+this.elId,m);h(""+j+":before, "+j+":after",m)}k=this._offsets();this.bus._log("setting offsets on leg",k);return this.$el.css(k)};i.prototype.show=function(){this.visible=true;this.$el.css({visibility:"visible",opacity:1,zIndex:this.options.zindex});return this.scrollIntoView()};i.prototype.hide=function(){this.visible=false;if(this.bus.options.debug){return this.$el.css({visibility:"visible",opacity:0.4,zIndex:0})}else{return this.$el.css({visibility:"hidden"})}};i.prototype.scrollIntoView=function(){var j;if(!this.willScroll){return}j=d.dataProp(this.options.scrollTo,this.$el);this.bus._log("scrolling to",j,this.scrollSettings);return g.scrollTo(j,this.scrollSettings)};i.prototype._setupOptions=function(){var m,l,o,n,k,j;l=this.bus.options.leg;m=["class","top","left","scrollTo","scrollSpeed","scrollContext","margin","arrow","align","width","zindex","orientation"];j=[];for(n=0,k=m.length;n<k;n++){o=m[n];j.push(this.options[o]=d.dataProp(this.rawData[o],l[o]))}return j};i.prototype._configureElement=function(){this.$el=g("<div class='tourbus-leg'></div>");this.el=this.$el[0];this.$el.attr({id:this.elId});this.$el.addClass(this.options["class"]);return this.$el.css({zIndex:this.options.zindex})};i.prototype._setupEvents=function(){this.$el.on("click",".tourbus-next",g.proxy(this.bus.next,this.bus));this.$el.on("click",".tourbus-prev",g.proxy(this.bus.prev,this.bus));return this.$el.on("click",".tourbus-stop",g.proxy(this.bus.stop,this.bus))};i.prototype._teardownEvents=function(){return this.$el.off("click")};i.prototype._configureTarget=function(){this.targetOffset=this.$target.offset();if(d.dataProp(this.options.top,false)){this.targetOffset.top=this.options.top}if(d.dataProp(this.options.left,false)){this.targetOffset.left=this.options.left}this.targetWidth=this.$target.outerWidth();return this.targetHeight=this.$target.outerHeight()};i.prototype._configureScroll=function(){this.willScroll=g.fn.scrollTo&&this.options.scrollTo!==false;return this.scrollSettings={offset:-this.options.scrollContext,easing:"linear",axis:"y",duration:this.options.scrollSpeed}};i.prototype._offsets=function(){var p,l,k,m,o,q,j,n;k=this.$el.height();m=this.$el.width();o={};switch(this.options.orientation){case"centered":j=g(window).height();o.top=this.options.top;if(!d.dataProp(o.top,false)){o.top=(j/2)-(k/2)}o.left=(this.targetWidth/2)-(m/2);break;case"left":o.top=this.targetOffset.top;o.left=this.targetOffset.left-m-this.options.margin;break;case"right":o.top=this.targetOffset.top;o.left=this.targetOffset.left+this.targetWidth+this.options.margin;break;case"top":o.top=this.targetOffset.top-k-this.options.margin;o.left=this.targetOffset.left;break;case"bottom":o.top=this.targetOffset.top+this.targetHeight+this.options.margin;o.left=this.targetOffset.left}n={top:["left","right"],bottom:["left","right"],left:["top","bottom"],right:["top","bottom"]};if(d.include(this.options.orientation,n[this.options.align])){switch(this.options.align){case"right":o.left+=this.targetWidth-m;break;case"bottom":o.top+=this.targetHeight-k}}else{if(this.options.align==="center"){if(d.include(this.options.orientation,n.left)){q=this.targetWidth/2;l=m/2;p="left"}else{q=this.targetHeight/2;l=k/2;p="top"}if(q>l){o[p]+=q-l}else{o[p]-=l-q}}}return o};return i})();h=(function(i){var j;i.type="text/css";document.getElementsByTagName("head")[0].appendChild(i);j=document.styleSheets[document.styleSheets.length-1];return function(k,n){var m,l;l=g.map((function(){var p;p=[];for(m in n){p.push(m)}return p})(),function(q){return""+q+":"+n[q]}).join(";");try{if(j.insertRule){j.insertRule(""+k+" { "+l+" }",(j.cssRules||j.rules).length)}else{j.addRule(k,l)}}catch(o){}}})(document.createElement("style"))}).call(this)},{"./utils":4}],4:[function(b,c,a){(function(){c.exports={dataProp:function(f,d){if(f===null||typeof f==="undefined"){return d}return f},include:function(d,f){return $.inArray(d,f||[])!==-1}}}).call(this)},{}]},{},[1,2,3,4]);
;}catch(e){}
try{
(function(a){a.fn.touchSlider=function(c){c.supportsCssTransitions=(function(g){var h=["Webkit","Moz","Ms"];for(var f=0,e=h.length;f<e;f++){if(typeof g[h[f]+"Transition"]!=="undefined"){return true}}return false})(document.createElement("div").style);c=jQuery.extend({roll:true,flexible:false,btn_prev:null,btn_next:null,paging:null,speed:75,view:1,range:0.15,page:1,transition:false,initComplete:null,counter:null,multi:false},c);var d=[];d=a.extend({},a.fn.touchSlider.defaults,c);return this.each(function(){a.fn.extend(this,b);var e=this;this.opts=d;this._view=this.opts.view;this._speed=this.opts.speed;this._tg=a(this);this._list=this._tg.children().children();this._width=parseInt(this._tg.css("width"));this._item_w=parseInt(this._list.css("width"));this._len=this._list.length;this._range=this.opts.range*this._width;this._pos=[];this._start=[];this._startX=0;this._startY=0;this._left=0;this._top=0;this._drag=false;this._scroll=false;this._btn_prev;this._btn_next;this.init();a(this).bind("touchstart",this.touchstart).bind("touchmove",this.touchmove).bind("touchend",this.touchend).bind("dragstart",this.touchstart).bind("drag",this.touchmove).bind("dragend",this.touchend);a(window).bind("orientationchange resize",function(){e.resize(e)})})};var b={init:function(){var e=this;a(this).children().css({width:this._width+"px",overflow:"visible"});if(this.opts.flexible){this._item_w=this._width/this._view}if(this.opts.roll){this._len=Math.ceil(this._len/this._view)*this._view}var c=(this.opts.page>1&&this.opts.page<=this._len)?(this.opts.page-1)*this._item_w:0;for(var d=0;d<this._len;++d){this._pos[d]=this._item_w*d-c;this._start[d]=this._pos[d];this._list.eq(d).css({"float":"none",display:"block",position:"absolute",top:"0",left:this._pos[d]+"px",width:this._item_w+"px"});if(this.opts.supportsCssTransitions&&this.opts.transition){this._list.eq(d).css({"-moz-transition":"0ms","-moz-transform":"","-ms-transition":"0ms","-ms-transform":"","-webkit-transition":"0ms","-webkit-transform":"",transition:"0ms",transform:""})}}if(this.opts.btn_prev&&this.opts.btn_next){this.opts.btn_prev.bind("click",function(){e.animate(1,true);return false});this.opts.btn_next.bind("click",function(){e.animate(-1,true);return false})}if(this.opts.paging){a(this._list).each(function(g,h){var f=e.opts.paging.eq(g);f.bind("click",function(i){e.go_page(g,i);return false})})}this.counter();this.initComplete()},initComplete:function(){if(typeof(this.opts.initComplete)=="function"){this.opts.initComplete(this)}},resize:function(f){if(f.opts.flexible){var c=f._item_w;f._width=parseInt(f._tg.css("width"));f._item_w=f._width/f._view;f._range=f.opts.range*f._width;for(var d=0;d<f._len;++d){f._pos[d]=f._pos[d]/c*f._item_w;f._start[d]=f._start[d]/c*f._item_w;f._list.eq(d).css({left:f._pos[d]+"px",width:f._item_w+"px"});if(this.opts.supportsCssTransitions&&this.opts.transition){f._list.eq(d).css({"-moz-transition":"0ms","-moz-transform":"","-ms-transition":"0ms","-ms-transform":"","-webkit-transition":"0ms","-webkit-transform":"",transition:"0ms",transform:""})}}}this.counter()},touchstart:function(d){if((d.type=="touchstart"&&d.originalEvent.touches.length<=1)||d.type=="dragstart"){this._startX=d.pageX||d.originalEvent.touches[0].pageX;this._startY=d.pageY||d.originalEvent.touches[0].pageY;this._scroll=false;this._start=[];for(var c=0;c<this._len;++c){this._start[c]=this._pos[c]}}},touchmove:function(k){if((k.type=="touchmove"&&k.originalEvent.touches.length<=1)||k.type=="drag"){this._left=(k.pageX||k.originalEvent.touches[0].pageX)-this._startX;this._top=(k.pageY||k.originalEvent.touches[0].pageY)-this._startY;var c=this._left<0?this._left*-1:this._left;var j=this._top<0?this._top*-1:this._top;if(c<j||this._scroll){this._left=0;this._drag=false;this._scroll=true}else{k.preventDefault();this._drag=true;this._scroll=false;this.position(k)}for(var g=0;g<this._len;++g){var f=this._start[g]+this._left;if(this.opts.supportsCssTransitions&&this.opts.transition){var d="translate3d("+f+"px,0,0)";this._list.eq(g).css({left:"","-moz-transition":"0ms","-moz-transform":d,"-ms-transition":"0ms","-ms-transform":d,"-webkit-transition":"0ms","-webkit-transform":d,transition:"0ms",transform:d})}else{this._list.eq(g).css("left",f+"px")}this._pos[g]=f}}},touchend:function(c){if((c.type=="touchend"&&c.originalEvent.touches.length<=1)||c.type=="dragend"){if(this._scroll){this._drag=false;this._scroll=false;return false}this.animate(this.direction());this._drag=false;this._scroll=false}},position:function(j){var k=this._view*this._item_w;if(j==-1||j==1){this._startX=0;this._start=[];for(var g=0;g<this._len;++g){this._start[g]=this._pos[g]}this._left=j*k}else{if(this._left>k){this._left=k}if(this._left<-k){this._left=-k}}if(this.opts.roll){var f=[];for(var g=0;g<this._len;++g){f[g]=this._pos[g]}f.sort(function(i,d){return i-d});var c=f[this._len-this._view];var h=a.inArray(f[0],this._pos);var e=a.inArray(c,this._pos);if(this._view<=1){c=this._len-1}if(this.opts.multi){if((j==1&&f[0]>=0)||(this._drag&&f[0]>=100)){for(var g=0;g<this._view;++g,++h,++e){this._start[e]=this._start[h]-k;this._list.eq(e).css("left",this._start[e]+"px")}}else{if((j==-1&&f[0]<=0)||(this._drag&&f[0]<=-100)){for(var g=0;g<this._view;++g,++h,++e){this._start[h]=this._start[e]+k;this._list.eq(h).css("left",this._start[h]+"px")}}}}else{if((j==1&&f[0]>=0)||(this._drag&&f[0]>0)){for(var g=0;g<this._view;++g,++h,++e){this._start[e]=this._start[h]-k;this._list.eq(e).css("left",this._start[e]+"px")}}else{if((j==-1&&f[c]<=0)||(this._drag&&f[c]<=0)){for(var g=0;g<this._view;++g,++h,++e){this._start[h]=this._start[e]+k;this._list.eq(h).css("left",this._start[h]+"px")}}}}}else{if(this.limit_chk()){this._left=this._left/2}}},animate:function(f,c){if(this._drag||!this._scroll||c){var h=this;var e=this._speed;if(c){this.position(f)}var g=f*(this._item_w*this._view);if(this._left==0||(!this.opts.roll&&this.limit_chk())){g=0}this._list.each(function(j,k){h._pos[j]=h._start[j]+g;if(h.opts.supportsCssTransitions&&h.opts.transition){var l=e+"ms";var d="translate3d("+h._pos[j]+"px,0,0)";if(c){l="0ms"}a(this).css({left:"","-moz-transition":l,"-moz-transform":d,"-ms-transition":l,"-ms-transform":d,"-webkit-transition":l,"-webkit-transform":d,transition:l,transform:d})}else{a(this).stop();a(this).animate({left:h._pos[j]+"px"},e)}});this.counter()}},direction:function(){var c=0;if(this._left<-(this._range)){c=-1}else{if(this._left>this._range){c=1}}if(!this._drag||this._scroll){c=0}return c},limit_chk:function(){var c=parseInt((this._len-1)/this._view)*this._view;return((this._start[0]==0&&this._left>0)||(this._start[c]==0&&this._left<0))},go_page:function(d,g){var c=(a.inArray(0,this._pos)/this._view)+1;var f=c-(d+1);while(f!=0){if(f<0){this.animate(-1,true);f++}else{if(f>0){this.animate(1,true);f--}}}},counter:function(){if(typeof(this.opts.counter)=="function"){var c={total:Math.ceil(this._len/this._view),current:(a.inArray(0,this._pos)/this._view)+1};this.opts.counter(c)}}}})(jQuery);
;}catch(e){}
try{
/** Trumbowyg v2.0.0-beta.3 - A lightweight WYSIWYG editor - alex-d.github.io/Trumbowyg - License MIT - Author : Alexandre Demode (Alex-D) / alex-d.fr */
jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Stroke",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",insertVideo:"Insert Video",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target"}},opts:{},btnsGrps:{design:["bold","italic","underline","strikethrough"],semantic:["strong","em","del"],justify:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"]}},function(e,t,n,o,r){"use strict";o.fn.trumbowyg=function(e,t){if(e===Object(e)||!e)return this.each(function(){o(this).data("trumbowyg")||o(this).data("trumbowyg",new i(this,e))});if(1===this.length)try{var n=o(this).data("trumbowyg");switch(e){case"openModal":return n.openModal(t.title,t.content);case"closeModal":return n.closeModal();case"openModalInsert":return n.openModalInsert(t.title,t.fields,t.callback);case"saveSelection":return n.saveSelection();case"getSelection":return n.selection;case"getSelectedText":return n.getSelectedText();case"restoreSelection":return n.restoreSelection();case"destroy":return n.destroy();case"empty":return n.empty();case"lang":return n.lang;case"html":return n.html(t)}}catch(r){}return!1};var i=function(e,t){var r=this;r.doc=e.ownerDocument||n,r.$ta=o(e),r.$c=o(e),t=o.extend(!0,{},t,o.trumbowyg.opts),r.lang="undefined"==typeof t.lang||"undefined"==typeof o.trumbowyg.langs[t.lang]?o.trumbowyg.langs.en:o.extend(!0,{},o.trumbowyg.langs.en,o.trumbowyg.langs[t.lang]);var i=r.lang.header;r.o=o.extend(!0,{},{lang:"en",dir:"ltr",closable:!1,fullscreenable:!0,fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,prefix:"trumbowyg-",semantic:!0,resetCss:!1,removeformatPasted:!1,btns:["viewHTML","|","formatting","|","btnGrp-design","|","link","|","insertImage","|","btnGrp-justify","|","btnGrp-lists","|","horizontalRule","|","removeformat"],btnsAdd:[],btnsDef:{viewHTML:{func:"toggle"},p:{func:"formatBlock"},blockquote:{func:"formatBlock"},h1:{func:"formatBlock",title:i+" 1"},h2:{func:"formatBlock",title:i+" 2"},h3:{func:"formatBlock",title:i+" 3"},h4:{func:"formatBlock",title:i+" 4"},bold:{key:"B"},italic:{key:"I"},underline:{},strikethrough:{},strong:{func:"bold",key:"B"},em:{func:"italic",key:"I"},del:{func:"strikethrough"},createLink:{key:"K"},unlink:{},insertImage:{},justifyLeft:{},justifyCenter:{},justifyRight:{},justifyFull:{},unorderedList:{func:"insertUnorderedList"},orderedList:{func:"insertOrderedList"},horizontalRule:{func:"insertHorizontalRule"},removeformat:{},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"]},link:{dropdown:["createLink","unlink"]}},blockLevelElements:["br","p","div","ul","ol","table","img","address","article","aside","audio","blockquote","canvas","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","output","pre","section","tfoot","video"]},t),t.btns?r.o.btns=t.btns:r.o.semantic&&(r.o.btns[4]="btnGrp-semantic"),r.keys=[],r.init()};i.prototype={init:function(){var e=this;e.height=e.$ta.height(),e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay()},buildEditor:function(){var e=this,r=e.o.prefix,i="";e.$box=o("<div/>",{"class":r+"box "+r+"editor-visible "+r+e.o.lang+" trumbowyg"}),e.isTextarea=e.$ta.is("textarea"),e.isTextarea?(i=e.$ta.val(),e.$ed=o("<div/>"),e.$box.insertAfter(e.$ta).append(e.$ed,e.$ta)):(e.$ed=e.$ta,i=e.$ed.html(),e.$ta=o("<textarea/>",{name:e.$ta.attr("id"),height:e.height}).val(i),e.$box.insertAfter(e.$ed).append(e.$ta,e.$ed),e.syncCode()),e.$ta.addClass(r+"textarea").attr("tabindex",-1),e.$ed.addClass(r+"editor").attr({contenteditable:!0,dir:e.lang._dir||e.o.dir}).html(i),e.$c.is("[placeholder]")&&e.$ed.attr("placeholder",e.$c.attr("placeholder")),e.o.resetCss&&e.$ed.addClass(r+"reset-css"),e.o.autogrow||e.$ta.add(e.$ed).css({height:e.height,overflow:"auto"}),e.o.semantic&&e.semanticCode(),e._ctrl=!1,e.$ed.on("dblclick","img",function(){var t=o(this);return e.openModalInsert(e.lang.insertImage,{url:{label:"URL",value:t.attr("src"),required:!0},alt:{label:e.lang.description,value:t.attr("alt")}},function(e){return t.attr({src:e.url,alt:e.alt})}),!1}).on("keydown",function(t){if(e._composition=229===t.which,t.ctrlKey){e._ctrl=!0;var n=e.keys[String.fromCharCode(t.which).toUpperCase()];try{return e.execCmd(n.func,n.param),!1}catch(t){}}}).on("keyup",function(t){e._ctrl||17===t.which||e._composition||(e.semanticCode(!1,13===t.which),e.$c.trigger("tbwchange")),setTimeout(function(){e._ctrl=!1},200)}).on("focus blur",function(t){e.$c.trigger("tbw"+t.type)}).on("paste",function(o){if(e.o.removeformatPasted){o.preventDefault();try{var r=t.clipboardData.getData("Text");try{e.doc.selection.createRange().pasteHTML(r)}catch(i){e.doc.getSelection().getRangeAt(0).insertNode(n.createTextNode(r))}}catch(i){e.execCmd("insertText",(o.originalEvent||o).clipboardData.getData("text/plain"))}}setTimeout(function(){e.o.semantic?e.semanticCode(!1,!0):e.syncCode(),e.$c.trigger("tbwpaste",o)},0)}),e.$ta.on("keyup paste",function(){e.$c.trigger("tbwchange")}),o(e.doc).on("keydown",function(t){return 27===t.which?(e.closeModal(),!1):void 0})},buildBtnPane:function(){var e=this,n=e.o.prefix;if(e.o.btns!==!1){e.$btnPane=o("<ul/>",{"class":n+"button-pane"}),o.each(e.o.btns.concat(e.o.btnsAdd),function(t,i){try{var a=i.split("btnGrp-");a[1]!==r&&(i=o.trumbowyg.btnsGrps[a[1]])}catch(s){}o.isArray(i)||(i=[i]),o.each(i,function(t,r){try{var i=o("<li/>");"|"===r?i.addClass(n+"separator"):e.isSupportedBtn(r)&&i.append(e.buildBtn(r)),e.$btnPane.append(i)}catch(a){}})});var i=o("<li/>",{"class":n+"not-disable "+n+"buttons-right"});e.o.fullscreenable&&i.append(e.buildRightBtn("fullscreen").on("click",function(){var r=n+"fullscreen";e.$box.toggleClass(r),e.$box.hasClass(r)?(o("body").addClass(n+"body-fullscreen"),o.each([e.$ta,e.$ed],function(){o(this).css({height:"calc(100% - 35px)",overflow:"auto"})}),e.$btnPane.css("width","100%")):(o("body").removeClass(n+"body-fullscreen"),e.$box.removeAttr("style"),e.o.autogrow||o.each([e.$ta,e.$ed],function(){o(this).css("height",e.height)})),o(t).trigger("scroll")})),e.o.closable&&i.append(e.buildRightBtn("close").on("click",function(){e.$box.hasClass(n+"fullscreen")&&o("body").css("overflow","auto"),e.destroy(),e.$c.trigger("tbwclose")})),i.not(":empty")&&e.$btnPane.append(i),e.$box.prepend(e.$btnPane)}},buildBtn:function(e){var t=this,n=t.o.prefix,r=t.o.btnsDef[e],i=r.dropdown,a=t.lang[e]||e,s=o("<button/>",{type:"button","class":n+e+"-button"+(r.ico?" "+n+r.ico+"-button":""),text:r.text||r.title||a,title:r.title||r.text||a+(r.key?" (Ctrl + "+r.key+")":""),tabindex:-1,mousedown:function(){return(!i||o("."+e+"-"+n+"dropdown",t.$box).is(":hidden"))&&o("body",t.doc).trigger("mousedown"),!t.$btnPane.hasClass(n+"disable")||o(this).hasClass(n+"active")||o(this).parent().hasClass(n+"not-disable")?(t.execCmd((i?"dropdown":!1)||r.func||e,r.param||e),!1):!1}});if(i){s.addClass(n+"open-dropdown");var l=n+"dropdown",c=o("<div/>",{"class":e+"-"+l+" "+l+" "+n+"fixed-top"});o.each(i,function(e,n){t.o.btnsDef[n]&&t.isSupportedBtn(n)&&c.append(t.buildSubBtn(n))}),t.$box.append(c.hide())}else r.key&&(t.keys[r.key]={func:r.func||e,param:r.param||e});return s},buildSubBtn:function(e){var t=this,n=t.o.btnsDef[e];return n.key&&(t.keys[n.key]={func:n.func||e,param:n.param||e}),o("<button/>",{type:"button","class":t.o.prefix+e+"-dropdown-button"+(n.ico?" "+t.o.prefix+n.ico+"-button":""),text:n.text||n.title||t.lang[e]||e,title:n.key?" (Ctrl + "+n.key+")":null,style:n.style||null,mousedown:function(){return o("body",t.doc).trigger("mousedown"),t.execCmd(n.func||e,n.param||e),!1}})},buildRightBtn:function(e){var t=this.lang[e];return o("<button/>",{type:"button","class":this.o.prefix+e+"-button",title:t,text:t,tabindex:-1})},isSupportedBtn:function(e){try{return this.o.btnsDef[e].isSupported()}catch(t){}return!0},buildOverlay:function(){var e=this;return e.$overlay=o("<div/>",{"class":e.o.prefix+"overlay"}).css({top:e.$btnPane.outerHeight(),height:e.$ed.outerHeight()+1+"px"}).appendTo(e.$box),e.$overlay},showOverlay:function(){var e=this;o(t).trigger("scroll"),e.$overlay.fadeIn(200),e.$box.addClass(e.o.prefix+"box-blur")},hideOverlay:function(){var e=this;e.$overlay.fadeOut(50),e.$box.removeClass(e.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var e=this,n=e.o.fixedFullWidth,r=e.$box;e.o.fixedBtnPane&&(e.isFixed=!1,o(t).on("scroll resize",function(){if(r){e.syncCode();var i=o(t).scrollTop(),a=r.offset().top+1,s=e.$btnPane,l=s.outerHeight();i-a>0&&i-a-e.height<0?(e.isFixed||(e.isFixed=!0,s.css({position:"fixed",top:0,left:n?"0":"auto",zIndex:7}),o([e.$ta,e.$ed]).css({marginTop:s.height()})),s.css({width:n?"100%":r.width()-1+"px"}),o("."+e.o.prefix+"fixed-top",r).css({position:n?"fixed":"absolute",top:n?l:l+(i-a)+"px",zIndex:15})):e.isFixed&&(e.isFixed=!1,s.removeAttr("style"),o([e.$ta,e.$ed]).css({marginTop:0}),o("."+e.o.prefix+"fixed-top",r).css({position:"absolute",top:l}))}}))},destroy:function(){var e=this,t=e.o.prefix,n=e.height,o=e.html();e.isTextarea?e.$box.after(e.$ta.css({height:n}).val(o).removeClass(t+"textarea").show()):e.$box.after(e.$ed.css({height:n}).removeClass(t+"editor").removeAttr("contenteditable").html(o).show()),e.$box.remove(),e.$c.removeData("trumbowyg")},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.semanticCode(!1,!0),e.$box.toggleClass(t+"editor-hidden "+t+"editor-visible"),e.$btnPane.toggleClass(t+"disable"),o("."+t+"viewHTML-button",e.$btnPane).toggleClass(t+"active"),e.$box.hasClass(t+"editor-visible")?e.$ta.attr("tabindex",-1):e.$ta.removeAttr("tabindex")},dropdown:function(e){var n=this,r=n.doc,i=n.o.prefix,a=o("."+e+"-"+i+"dropdown",n.$box),s=o("."+i+e+"-button",n.$btnPane);if(a.is(":hidden")){var l=s.offset().left;s.addClass(i+"active"),a.css({position:"absolute",top:n.$btnPane.outerHeight(),left:n.o.fixedFullWidth&&n.isFixed?l+"px":l-n.$btnPane.offset().left+"px"}).show(),o(t).trigger("scroll"),o("body",r).on("mousedown",function(){o("."+i+"dropdown",r).hide(),o("."+i+"active",r).removeClass(i+"active"),o("body",r).off("mousedown")})}else o("body",r).trigger("mousedown")},html:function(e){var t=this;return e?(t.$ta.val(e),t.syncCode(!0),t):t.$ta.val()},syncCode:function(e){var t=this;!e&&t.$ed.is(":visible")?(t.$ta.val(t.$ed.html()),t.$c.trigger("tbwchange")):t.$ed.html(t.$ta.val()),t.o.autogrow&&(t.height=t.$ed.height(),t.height!=t.$ta.css("height")&&(t.$ta.css({height:t.height}),t.$c.trigger("tbwresize")))},semanticCode:function(e,t){var n=this;if(n.syncCode(e),n.saveSelection(),n.o.semantic){if(n.semanticTag("b","strong"),n.semanticTag("i","em"),n.semanticTag("strike","del"),t){var r=n.o.blockLevelElements.join(", "),i=":not("+r+")";n.$ed.contents().filter(function(){return 3===this.nodeType&&o.trim(this.nodeValue).length>0}).wrap("<span data-trumbowyg-textnode/>");var a=function(e){if(0!==e.length){var t=e.nextUntil(r+", br").andSelf().wrapAll("<p/>").parent();t.next("br").remove();var n=t.nextAll(i).first();n.length&&a(n)}};a(n.$ed.children(i).first()),n.semanticTag("div","p",!0),n.$ed.find("p").filter(function(){return n.selection&&this===n.selection.startContainer?!1:0===o(this).text().trim().length&&0===o(this).children().not("br, span").length}).contents().unwrap(),o("[data-trumbowyg-textnode]",n.$ed).contents().unwrap(),n.$ed.find("p:empty").replaceWith("<br/>")}n.restoreSelection(),n.$ta.val(n.$ed.html())}},semanticTag:function(e,t,n){o(e,this.$ed).each(function(){var e=o(this);e.wrap("<"+t+"/>"),n&&o.each(e.prop("attributes"),function(){e.parent().attr(this.name,this.value)}),e.contents().unwrap()})},createLink:function(){var e=this;e.saveSelection(),e.openModalInsert(e.lang.createLink,{url:{label:"URL",required:!0},title:{label:e.lang.title},text:{label:e.lang.text,value:e.getSelectedText()},target:{label:e.lang.target}},function(t){var n=o(['<a href="',t.url,'">',t.text,"</a>"].join(""));return t.title.length>0&&n.attr("title",t.title),t.target.length>0&&n.attr("target",t.target),e.selection.deleteContents(),e.selection.insertNode(n.get(0)),e.restoreSelection(),!0})},insertImage:function(){var e=this;e.saveSelection(),e.openModalInsert(e.lang.insertImage,{url:{label:"URL",required:!0},alt:{label:e.lang.description,value:e.getSelectedText()}},function(t){return e.execCmd("insertImage",t.url),o('img[src="'+t.url+'"]:not([alt])',e.$box).attr("alt",t.alt),!0})},execCmd:function(t,n){var o=this;"dropdown"!=t&&o.$ed.focus();try{o[t](n)}catch(r){try{t(n,o)}catch(i){"insertHorizontalRule"==t?n=null:"formatBlock"==t&&(-1!==e.userAgent.indexOf("MSIE")||e.appVersion.indexOf("Trident/")>0)&&(n="<"+n+">"),o.doc.execCommand(t,!1,n)}}"dropdown"!=t&&o.syncCode()},openModal:function(e,n){var r=this,i=r.o.prefix;if(o("."+i+"modal-box",r.$box).length>0)return!1;r.saveSelection(),r.showOverlay(),r.$btnPane.addClass(i+"disable");var a=o("<div/>",{"class":i+"modal "+i+"fixed-top"}).css({top:r.$btnPane.height()+1+"px"}).appendTo(r.$box);r.$overlay.one("click",function(){return a.trigger(i+"cancel"),!1});var s=o("<form/>",{action:"",html:n}).on("submit",function(){return a.trigger(i+"confirm"),!1}).on("reset",function(){return a.trigger(i+"cancel"),!1}),l=o("<div/>",{"class":i+"modal-box",html:s}).css({top:"-"+r.$btnPane.outerHeight()+"px",opacity:0}).appendTo(a).animate({top:0,opacity:1},100);return o("<span/>",{text:e,"class":i+"modal-title"}).prependTo(l),a.height(l.outerHeight()+10),o("input:first",l).focus(),r.buildModalBtn("submit",l),r.buildModalBtn("reset",l),o(t).trigger("scroll"),a},buildModalBtn:function(e,t){var n=this,r=n.o.prefix;return o("<button/>",{"class":r+"modal-button "+r+"modal-"+e,type:e,text:n.lang[e]||e}).appendTo(o("form",t))},closeModal:function(){var e=this,t=e.o.prefix;e.$btnPane.removeClass(t+"disable"),e.$overlay.off();var n=o("."+t+"modal-box",e.$box);n.animate({top:"-"+n.height()},100,function(){n.parent().remove(),e.hideOverlay()}),e.restoreSelection()},openModalInsert:function(e,t,n){var r=this,i=r.o.prefix,a=r.lang,s="";for(var l in t){var c=t[l],d=c.label,u=c.name?c.name:l;s+='<label><input type="'+(c.type||"text")+'" name="'+u+'" value="'+(c.value||"")+'"><span class="'+i+'input-infos"><span>'+(d?a[d]?a[d]:d:a[l]?a[l]:l)+"</span></span></label>"}return r.openModal(e,s).on(i+"confirm",function(){var e=o("form",o(this)),a=!0,s={};for(var l in t){var c=o('input[name="'+l+'"]',e);s[l]=o.trim(c.val()),t[l].required&&""===s[l]?(a=!1,r.addErrorOnModalField(c,r.lang.required)):t[l].pattern&&!t[l].pattern.test(s[l])&&(a=!1,r.addErrorOnModalField(c,t[l].patternError))}a&&(r.restoreSelection(),n(s,t)&&(r.syncCode(),r.closeModal(),o(this).off(i+"confirm")))}).one(i+"cancel",function(){o(this).off(i+"confirm"),r.closeModal()})},addErrorOnModalField:function(e,t){var n=this.o.prefix,r=e.parent();e.on("change keyup",function(){r.removeClass(n+"input-error")}),r.addClass(n+"input-error").find("input+span").append(o("<span/>",{"class":n+"msg-error",text:t}))},saveSelection:function(){var e=this,n=e.doc.selection;if(e.selection=null,t.getSelection){var o=t.getSelection();o.getRangeAt&&o.rangeCount&&(e.selection=o.getRangeAt(0))}else n&&n.createRange&&(e.selection=n.createRange())},restoreSelection:function(){var e=this,n=e.selection;if(n)if(t.getSelection){var o=t.getSelection();o.removeAllRanges(),o.addRange(n)}else e.doc.selection&&n.select&&n.select()},getSelectedText:function(){var e=this.selection;return e.text!==r?e.text:e+""}}}(navigator,window,document,jQuery);
;}catch(e){}
try{
!function(e){"use strict";e.extend(!0,e.trumbowyg,{langs:{en:{base64:"Image as base64",file:"File",errFileReaderNotSupported:"FileReader is not supported by your browser."},fr:{base64:"Image en base64",file:"Fichier"},cs:{base64:"Vložit obrázek",file:"Soubor"}},opts:{btnsDef:{base64:{isSupported:function(){return"undefined"==typeof FileReader?(void 0!==window.console&&console.err("[Trumbowyg - Plugin base64] FileReader is not supported by your browser."),!1):!0},func:function(o,r){var n;r.openModalInsert(r.lang.base64,{file:{type:"file",required:!0},alt:{label:"description"}},function(o){var t=new FileReader;t.onloadend=function(){r.execCmd("insertImage",t.result),e(['img[src="',t.result,'"]:not([alt])'].join(""),r.$box).attr("alt",o.alt),r.closeModal()},t.readAsDataURL(n)}),e("input[type=file]").on("change",function(e){n=e.target.files[0]})},ico:"insertImage"}}}})}(jQuery);
;}catch(e){}
try{
!function(o){"use strict";function f(f){var r=[];o.each(o.trumbowyg.opts.colors,function(e,d){var c="_"+f+d;o.trumbowyg.opts.btnsDef[c]={func:f,param:"#"+d,style:"background-color: #"+d+";"},r.push(c)});var e="_"+f+"transparent";return o.trumbowyg.opts.btnsDef[e]={func:f,param:"transparent",style:"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);"},r.push(e),r}o.extend(!0,o.trumbowyg,{langs:{cs:{foreColor:"Barva textu",backColor:"Barva pozadí"},en:{foreColor:"Text color",backColor:"Background color"},fr:{foreColor:"Couleur du texte",backColor:"Couleur de fond"},sk:{foreColor:"Farba textu",backColor:"Farba pozadia"}}}),o.extend(!0,o.trumbowyg,{opts:{btnsDef:{}}}),o.trumbowyg.opts.colors||(o.trumbowyg.opts.colors=["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646","ffff00","f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","fff2ca","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","ffe694","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","b7dde8","fac08f","f2c314","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","92cddc","e36c09","c09100","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","31859b","974806","7f6000"]),o.extend(!0,o.trumbowyg,{opts:{btnsDef:{foreColor:{dropdown:f("foreColor")},backColor:{dropdown:f("backColor")}}}})}(jQuery);
;}catch(e){}
try{
(function(b){function a(e,d){var g=d.shift(),f=d;if(e!==null){if(f.length===0){return e[g]}if(typeof e==="object"){return a(e[g],f)}}return e}c();b.extend(true,b.trumbowyg,{langs:{en:{upload:"Upload",file:"File",uploadError:"Error"},zh_cn:{upload:"上传",file:"文件",uploadError:"错误"}},upload:{serverPath:typeof(UPLOAD_ACTION_URL)!="undefined"?UPLOAD_ACTION_URL:(contextPath+"/savepic.umupload"),fileFieldName:"upfile",data:[],headers:{},urlPropertyName:"url",statusPropertyName:"state",success:undefined,error:undefined},opts:{btnsDef:{upload:{func:function(h,g){var e,f=g.o.prefix;var d=g.openModalInsert(g.lang.upload,{file:{type:"file",required:true},alt:{label:"description"}},function(i){var j=new FormData();j.append(b.trumbowyg.upload.fileFieldName,e);b.trumbowyg.upload.data.map(function(k){j.append(k.name,k.value)});if(b("."+f+"progress",d).length===0){b("."+f+"modal-title",d).after(b("<div/>",{"class":f+"progress"}).append(b("<div/>",{"class":f+"progress-bar"})))}b.ajax({url:b.trumbowyg.upload.serverPath,headers:b.trumbowyg.upload.headers,type:"POST",data:j,cache:false,dataType:"json",processData:false,contentType:false,progressUpload:function(k){b("."+f+"progress-bar").stop().animate({width:Math.round(k.loaded*100/k.total)+"%"},200)},success:b.trumbowyg.upload.success||function(l){if(!!a(l,b.trumbowyg.upload.statusPropertyName.split("."))){var k=contextPath+a(l,b.trumbowyg.upload.urlPropertyName.split("."));g.execCmd("insertImage",k);b('img[src="'+k+'"]:not([alt])',g.$box).attr("alt",i.alt);setTimeout(function(){g.closeModal()},250)}else{g.addErrorOnModalField(b("input[type=file]",d),g.lang[l.message])}},error:b.trumbowyg.upload.error||function(){g.addErrorOnModalField(b("input[type=file]",d),g.lang.uploadError)}})});b("input[type=file]").on("change",function(j){try{e=j.target.files[0]}catch(i){e=j.target.value}})},ico:"insertImage"}}}});function c(){if(!b.trumbowyg&&!b.trumbowyg.addedXhrProgressEvent){var d=b.ajaxSettings.xhr;b.ajaxSetup({xhr:function(){var f=d(),e=this;if(f&&typeof f.upload=="object"&&e.progressUpload!==undefined){f.upload.addEventListener("progress",function(g){e.progressUpload(g)},false)}return f}});b.trumbowyg.addedXhrProgressEvent=true}}})(jQuery);
;}catch(e){}
try{
!function(e){"use strict";e.extend(!0,e.trumbowyg,{langs:{en:{editLink:"Edit Link"},zh_cn:{editLink:"编辑链接"}},opts:{btnsDef:{editLink:{func:function(t,n){var a=n,r="",i="",l="_blank",o="",d=!1,c=a.doc.getSelection(),s=new Range;if("Caret"===c.type?(s.selectNode(c.baseNode),c.addRange(s),a.saveSelection(),o=a.selection.commonAncestorContainer):c.anchorOffset+c.focusOffset===c.focusNode.length?(s.selectNode(c.focusNode),c.addRange(s),a.saveSelection(),o=a.selection.commonAncestorContainer):(a.saveSelection(),o=a.selection.commonAncestorContainer.parentNode),""!==o&&"A"===e(o).prop("tagName")){var g=e(o);r=g.attr("href"),i=void 0!==g.attr("title")?g.attr("title"):g.text(),l=void 0!==g.attr("target")?g.attr("target"):l,d=!0}a.openModalInsert(a.lang.editLink,{url:{label:"URL",required:!0,value:r},title:{label:a.lang.title,value:i},text:{label:a.lang.text,value:a.getSelectedText()},target:{label:a.lang.target,value:l}},function(t){if(a.execCmd("createLink",t.url),!d)return!0;var n=e('a[href="'+t.url+'"]:not([title])',a.$box);return t.text.length>0&&n.text(t.text),t.title.length>0?n.attr("title",t.title):n.removeAttr("title"),t.target.length>0?n.attr("target",t.target):n.removeAttr("target"),!0})}},link:{dropdown:["createLink","editLink","unlink"]}}}})}(jQuery);
;}catch(e){}
try{
jQuery.trumbowyg.langs.zh_cn={viewHTML:"源代码",formatting:"格式",p:"段落",blockquote:"引用",code:"代码",header:"标题",bold:"加粗",italic:"斜体",strikethrough:"删除线",underline:"下划线",strong:"加粗",em:"斜体",del:"删除线",unorderedList:"无序列表",orderedList:"有序列表",insertImage:"插入图片",insertVideo:"插入视频",link:"超链接",createLink:"插入链接",unlink:"取消链接",justifyLeft:"居左对齐",justifyCenter:"居中对齐",justifyRight:"居右对齐",justifyFull:"两端对齐",horizontalRule:"插入分隔线",fullscreen:"全屏",close:"关闭",submit:"确定",reset:"取消",required:"必需的",description:"描述",title:"标题",text:"文字",foreColor:"文本颜色",backColor:"背景颜色",upload:"上传",file:"文件",uploadError:"上传出错",editLink:"编辑链接"};
;}catch(e){}
try{
(function(d,f,b){var g=null,j=null,i=true;var e={tit:"提示信息",w:{"*":"不能为空！","*6-16":"请填写6到16位任意字符！",n:"请填写数字！","n6-16":"请填写6到16位数字！",s:"不能输入特殊字符！","s6-18":"请填写6到18位字符！",p:"请填写邮政编码！",m:"请填写手机号码！",e:"邮箱地址格式不对！",url:"请填写网址！"},def:"请填写正确信息！",undef:"datatype未定义！",reck:"两次输入的内容不一致！",r:"",c:"正在检测信息…",s:"请{填写|选择}{0|信息}！",v:"所填信息没有经过验证，请稍后…",p:"正在提交数据…"};d.Tipmsg=e;var a=function(l,n,k){var n=d.extend({},a.defaults,n);n.datatype&&d.extend(a.util.dataType,n.datatype);var m=this;m.tipmsg={w:{}};m.forms=l;m.objects=[];if(k===true){return false}l.each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var p=this;p.settings=d.extend({},n);var o=d(p);p.validform_status="normal";o.data("tipmsg",m.tipmsg);o.delegate("[datatype]","blur",function(){var q=arguments[1];a.util.check.call(this,o,q)});o.delegate(":text","keypress",function(q){if(q.keyCode==13&&o.find(":submit").length==0){o.submit()}});a.util.enhance.call(o,p.settings.tiptype,p.settings.usePlugin,p.settings.tipSweep);p.settings.btnSubmit&&o.find(p.settings.btnSubmit).bind("click",function(){o.trigger("submit");return false});o.submit(function(){var q=a.util.submitForm.call(o,p.settings);q===b&&(q=true);return q});o.find("[type='reset']").add(o.find(p.settings.btnReset)).bind("click",function(){a.util.resetForm.call(o)})});if(n.tiptype==1||(n.tiptype==2||n.tiptype==3)&&n.ajaxPost){c()}};a.defaults={tiptype:1,tipSweep:false,showAllError:false,postonce:false,ajaxPost:false};a.util={dataType:{"*":/[\w\W]+/,"*6-16":/^[\w\W]{6,16}$/,n:/^\d+$/,"n6-16":/^\d{6,16}$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,"s6-18":/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{6,18}$/,p:/^[0-9]{6}$/,m:/^1[345678][0-9]{9}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/},toString:Object.prototype.toString,isEmpty:function(k){return k===""||k===d.trim(this.attr("tip"))},getValue:function(m){var l,k=this;if(m.is(":radio")){l=k.find(":radio[name='"+m.attr("name")+"']:checked").val();l=l===b?"":l}else{if(m.is(":checkbox")){l="";k.find(":checkbox[name='"+m.attr("name")+"']:checked").each(function(){l+=d(this).val()+","});l=l===b?"":l}else{l=m.val()}}l=d.trim(l);return a.util.isEmpty.call(m,l)?"":l},enhance:function(l,m,n,k){var o=this;o.find("[datatype]").each(function(){if(l==2){if(d(this).parents(".formControls").next().find(".Validform_checktip").length==0){d(this).parents(".formControls").next().append("<span class='Validform_checktip' />");d(this).siblings(".Validform_checktip").remove()}}else{if(l==3||l==4){if(d(this).siblings(".Validform_checktip").length==0){d(this).parent().append("<span class='Validform_checktip' />");d(this).parent().next().find(".Validform_checktip").remove();d(this).parents(".formControls").next().find(".Validform_checktip").remove()}}}});o.find("input[recheck]").each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var q=d(this);var p=o.find("input[name='"+d(this).attr("recheck")+"']");p.bind("keyup",function(){if(p.val()==q.val()&&p.val()!=""){if(p.attr("tip")){if(p.attr("tip")==p.val()){return false}}q.trigger("blur")}}).bind("blur",function(){if(p.val()!=q.val()&&q.val()!=""){if(q.attr("tip")){if(q.attr("tip")==q.val()){return false}}q.trigger("blur")}})});o.find("[tip]").each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var q=d(this).attr("tip");var p=d(this).attr("altercss");d(this).focus(function(){if(d(this).val()==q){d(this).val("");if(p){d(this).removeClass(p)}}}).blur(function(){if(d.trim(d(this).val())===""){d(this).val(q);if(p){d(this).addClass(p)}}})});o.find(":checkbox[datatype],:radio[datatype]").each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var q=d(this);var p=q.attr("name");o.find("[name='"+p+"']").filter(":checkbox,:radio").bind("click",function(){setTimeout(function(){q.trigger("blur")},0)})});o.find("select[datatype][multiple]").bind("click",function(){var p=d(this);setTimeout(function(){p.trigger("blur")},0)});a.util.usePlugin.call(o,m,l,n,k)},usePlugin:function(o,l,n,r){var s=this,o=o||{};if(s.find("input[plugin='swfupload']").length&&typeof(swfuploadhandler)!="undefined"){var k={custom_settings:{form:s,showmsg:function(v,t,u){a.util.showmsg.call(s,v,l,{obj:s.find("input[plugin='swfupload']"),type:t,sweep:n})}}};k=d.extend(true,{},o.swfupload,k);s.find("input[plugin='swfupload']").each(function(t){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";d(this).val("");swfuploadhandler.init(k,t)})}if(s.find("input[plugin='datepicker']").length&&d.fn.datePicker){o.datepicker=o.datepicker||{};if(o.datepicker.format){Date.format=o.datepicker.format;delete o.datepicker.format}if(o.datepicker.firstDayOfWeek){Date.firstDayOfWeek=o.datepicker.firstDayOfWeek;delete o.datepicker.firstDayOfWeek}s.find("input[plugin='datepicker']").each(function(t){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";o.datepicker.callback&&d(this).bind("dateSelected",function(){var u=new Date(d.event._dpCache[this._dpId].getSelected()[0]).asString(Date.format);o.datepicker.callback(u,this)});d(this).datePicker(o.datepicker)})}if(s.find("input[plugin*='passwordStrength']").length&&d.fn.passwordStrength){o.passwordstrength=o.passwordstrength||{};o.passwordstrength.showmsg=function(u,v,t){a.util.showmsg.call(s,v,l,{obj:u,type:t,sweep:n})};s.find("input[plugin='passwordStrength']").each(function(t){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";d(this).passwordStrength(o.passwordstrength)})}if(r!="addRule"&&o.jqtransform&&d.fn.jqTransSelect){if(s[0].jqTransSelected=="true"){return}s[0].jqTransSelected="true";var m=function(t){var u=d(".jqTransformSelectWrapper ul:visible");u.each(function(){var v=d(this).parents(".jqTransformSelectWrapper:first").find("select").get(0);if(!(t&&v.oLabel&&v.oLabel.get(0)==t.get(0))){d(this).hide()}})};var p=function(t){if(d(t.target).parents(".jqTransformSelectWrapper").length===0){m(d(t.target))}};var q=function(){d(document).mousedown(p)};if(o.jqtransform.selector){s.find(o.jqtransform.selector).filter('input:submit, input:reset, input[type="button"]').jqTransInputButton();s.find(o.jqtransform.selector).filter("input:text, input:password").jqTransInputText();s.find(o.jqtransform.selector).filter("input:checkbox").jqTransCheckBox();s.find(o.jqtransform.selector).filter("input:radio").jqTransRadio();s.find(o.jqtransform.selector).filter("textarea").jqTransTextarea();if(s.find(o.jqtransform.selector).filter("select").length>0){s.find(o.jqtransform.selector).filter("select").jqTransSelect();q()}}else{s.jqTransform()}s.find(".jqTransformSelectWrapper").find("li a").click(function(){d(this).parents(".jqTransformSelectWrapper").find("select").trigger("blur")})}},getNullmsg:function(o){var n=this;var m=/[\u4E00-\u9FA5\uf900-\ufa2da-zA-Z\s]+/g;var k;var l=o[0].settings.label||".Validform_label";l=n.siblings(l).eq(0).text()||n.siblings().find(l).eq(0).text()||n.parent().siblings(l).eq(0).text()||n.parent().siblings().find(l).eq(0).text();l=l.replace(/\s(?![a-zA-Z])/g,"").match(m);l=l?l.join(""):[""];m=/\{(.+)\|(.+)\}/;k=o.data("tipmsg").s||e.s;if(l!=""){k=k.replace(/\{0\|(.+)\}/,l);if(n.attr("recheck")){k=k.replace(/\{(.+)\}/,"");n.attr("nullmsg",k);return k}}else{k=n.is(":checkbox,:radio,select")?k.replace(/\{0\|(.+)\}/,""):k.replace(/\{0\|(.+)\}/,"$1")}k=n.is(":checkbox,:radio,select")?k.replace(m,"$2"):k.replace(m,"$1");n.attr("nullmsg",k);return k},getErrormsg:function(s,n,u){var o=/^(.+?)((\d+)-(\d+))?$/,m=/^(.+?)(\d+)-(\d+)$/,l=/(.*?)\d+(.+?)\d+(.*)/,q=n.match(o),t,r;if(u=="recheck"){r=s.data("tipmsg").reck||e.reck;return r}var p=d.extend({},e.w,s.data("tipmsg").w);if(q[0] in p){return s.data("tipmsg").w[q[0]]||e.w[q[0]]}for(var k in p){if(k.indexOf(q[1])!=-1&&m.test(k)){r=(s.data("tipmsg").w[k]||e.w[k]).replace(l,"$1"+q[3]+"$2"+q[4]+"$3");s.data("tipmsg").w[q[0]]=r;return r}}return s.data("tipmsg").def||e.def},_regcheck:function(t,n,u,A){var A=A,y=null,v=false,o=/\/.+\//g,k=/^(.+?)(\d+)-(\d+)$/,l=3;if(o.test(t)){var s=t.match(o)[0].slice(1,-1);var r=t.replace(o,"");var q=RegExp(s,r);v=q.test(n)}else{if(a.util.toString.call(a.util.dataType[t])=="[object Function]"){v=a.util.dataType[t](n,u,A,a.util.dataType);if(v===true||v===b){v=true}else{y=v;v=false}}else{if(!(t in a.util.dataType)){var m=t.match(k),z;if(!m){v=false;y=A.data("tipmsg").undef||e.undef}else{for(var B in a.util.dataType){z=B.match(k);if(!z){continue}if(m[1]===z[1]){var w=a.util.dataType[B].toString(),r=w.match(/\/[mgi]*/g)[1].replace("/",""),x=new RegExp("\\{"+z[2]+","+z[3]+"\\}","g");w=w.replace(/\/[mgi]*/g,"/").replace(x,"{"+m[2]+","+m[3]+"}").replace(/^\//,"").replace(/\/$/,"");a.util.dataType[t]=new RegExp(w,r);break}}}}if(a.util.toString.call(a.util.dataType[t])=="[object RegExp]"){v=a.util.dataType[t].test(n)}}}if(v){l=2;y=u.attr("sucmsg")||A.data("tipmsg").r||e.r;if(u.attr("recheck")){var p=A.find("input[name='"+u.attr("recheck")+"']:first");if(n!=p.val()){v=false;l=3;y=u.attr("errormsg")||a.util.getErrormsg.call(u,A,t,"recheck")}}}else{y=y||u.attr("errormsg")||a.util.getErrormsg.call(u,A,t);if(a.util.isEmpty.call(u,n)){y=u.attr("nullmsg")||a.util.getNullmsg.call(u,A)}}return{passed:v,type:l,info:y}},regcheck:function(n,s,m){var t=this,k=null,l=false,r=3;if(m.attr("ignore")==="ignore"&&a.util.isEmpty.call(m,s)){if(m.data("cked")){k=""}return{passed:true,type:4,info:k}}m.data("cked","cked");var u=a.util.parseDatatype(n);var q;for(var p=0;p<u.length;p++){for(var o=0;o<u[p].length;o++){q=a.util._regcheck(u[p][o],s,m,t);if(!q.passed){break}}if(q.passed){break}}return q},parseDatatype:function(r){var q=/\/.+?\/[mgi]*(?=(,|$|\||\s))|[\w\*-]+/g,o=r.match(q),p=r.replace(q,"").replace(/\s*/g,"").split(""),l=[],k=0;l[0]=[];l[0].push(o[0]);for(var s=0;s<p.length;s++){if(p[s]=="|"){k++;l[k]=[]}l[k].push(o[s+1])}return l},showmsg:function(n,l,m,k){if(n==undefined){return}if(k=="bycheck"&&m.sweep&&(m.obj&&!m.obj.is(".Validform_error")||typeof l=="function")){return}d.extend(m,{curform:this});if(typeof l=="function"){l(n,m,a.util.cssctl);return}if(l==1||k=="byajax"&&l!=4){}if(l==1&&k!="bycheck"&&m.type!=2||k=="byajax"&&l!=4){if(n){layer.msg(n,{icon:2})}}if(l==2&&m.obj){m.obj.parents(".formControls").next().find(".Validform_checktip").html(n);a.util.cssctl(m.obj.parents(".formControls").next().find(".Validform_checktip"),m.type)}if((l==3||l==4)&&m.obj){m.obj.siblings(".Validform_checktip").html(n);a.util.cssctl(m.obj.siblings(".Validform_checktip"),m.type)}},cssctl:function(l,k){switch(k){case 1:l.removeClass("Validform_right Validform_wrong").addClass("Validform_checktip Validform_loading");break;case 2:l.removeClass("Validform_wrong Validform_loading").addClass("Validform_checktip Validform_right");break;case 4:l.removeClass("Validform_right Validform_wrong Validform_loading").addClass("Validform_checktip");break;default:l.removeClass("Validform_right Validform_loading").addClass("Validform_checktip Validform_wrong")}},check:function(v,t,n){var o=v[0].settings;var t=t||"";var k=a.util.getValue.call(v,d(this));if(o.ignoreHidden&&d(this).is(":hidden")||d(this).data("dataIgnore")==="dataIgnore"){return true}if(o.dragonfly&&!d(this).data("cked")&&a.util.isEmpty.call(d(this),k)&&d(this).attr("ignore")!="ignore"){return false}var s=a.util.regcheck.call(v,d(this).attr("datatype"),k,d(this));if(k==this.validform_lastval&&!d(this).attr("recheck")&&t==""){return s.passed?true:false}this.validform_lastval=k;var r;g=r=d(this);if(!s.passed){a.util.abort.call(r[0]);if(!n){a.util.showmsg.call(v,s.info,o.tiptype,{obj:d(this),type:s.type,sweep:o.tipSweep},"bycheck");!o.tipSweep&&r.addClass("Validform_error")}return false}var q=d(this).attr("ajaxurl");if(q&&!a.util.isEmpty.call(d(this),k)&&!n){var m=d(this);if(t=="postform"){m[0].validform_subpost="postform"}else{m[0].validform_subpost=""}if(m[0].validform_valid==="posting"&&k==m[0].validform_ckvalue){return"ajax"}m[0].validform_valid="posting";m[0].validform_ckvalue=k;a.util.showmsg.call(v,v.data("tipmsg").c||e.c,o.tiptype,{obj:m,type:1,sweep:o.tipSweep},"bycheck");a.util.abort.call(r[0]);var u=d.extend(true,{},o.ajaxurl||{});var p={type:"POST",cache:false,url:q,data:"param="+encodeURIComponent(k)+"&name="+encodeURIComponent(d(this).attr("name")),success:function(x){if(d.trim(x.status)==="y"){m[0].validform_valid="true";m.attr("sucmsg",x.info);a.util.showmsg.call(v,m.attr("sucmsg")||v.data("tipmsg").r||e.r,o.tiptype,{obj:m,type:2,sweep:o.tipSweep},"bycheck");r.removeClass("Validform_error");g=null;if(m[0].validform_subpost=="postform"){v.trigger("submit")}}else{m[0].validform_valid=x.info;a.util.showmsg.call(v,x.info,o.tiptype,{obj:m,type:3,sweep:o.tipSweep});r.addClass("Validform_error")}r[0].validform_ajax=null},error:function(x){if(x.status=="200"){if(x.responseText=="y"){u.success({status:"y"})}else{u.success({status:"n",info:x.responseText})}return false}if(x.statusText!=="abort"){var y="status: "+x.status+"; statusText: "+x.statusText;a.util.showmsg.call(v,y,o.tiptype,{obj:m,type:3,sweep:o.tipSweep});r.addClass("Validform_error")}m[0].validform_valid=x.statusText;r[0].validform_ajax=null;return true}};if(u.success){var w=u.success;u.success=function(x){p.success(x);w(x,m)}}if(u.error){var l=u.error;u.error=function(x){p.error(x)&&l(x,m)}}u=d.extend({},p,u,{dataType:"json"});r[0].validform_ajax=d.ajax(u);return"ajax"}else{if(q&&a.util.isEmpty.call(d(this),k)){a.util.abort.call(r[0]);r[0].validform_valid="true"}}if(!n){a.util.showmsg.call(v,s.info,o.tiptype,{obj:d(this),type:s.type,sweep:o.tipSweep},"bycheck");r.removeClass("Validform_error")}g=null;return true},submitForm:function(o,l,k,r,t){var w=this;if(w[0].validform_status==="posting"){return false}if(o.postonce&&w[0].validform_status==="posted"){return false}var v=o.beforeCheck&&o.beforeCheck(w);if(v===false){return false}var s=true,n;w.find("[datatype]").each(function(){if(l){return false}if(o.ignoreHidden&&d(this).is(":hidden")||d(this).data("dataIgnore")==="dataIgnore"){return true}var z=a.util.getValue.call(w,d(this)),A;g=A=d(this);n=a.util.regcheck.call(w,d(this).attr("datatype"),z,d(this));if(!n.passed){a.util.showmsg.call(w,n.info,o.tiptype,{obj:d(this),type:n.type,sweep:o.tipSweep});A.addClass("Validform_error");if(!o.showAllError){A.focus();s=false;return false}s&&(s=false);return true}if(d(this).attr("ajaxurl")&&!a.util.isEmpty.call(d(this),z)){if(this.validform_valid!=="true"){var y=d(this);a.util.showmsg.call(w,w.data("tipmsg").v||e.v,o.tiptype,{obj:y,type:3,sweep:o.tipSweep});A.addClass("Validform_error");y.trigger("blur",["postform"]);if(!o.showAllError){s=false;return false}s&&(s=false);return true}}else{if(d(this).attr("ajaxurl")&&a.util.isEmpty.call(d(this),z)){a.util.abort.call(this);this.validform_valid="true"}}a.util.showmsg.call(w,n.info,o.tiptype,{obj:d(this),type:n.type,sweep:o.tipSweep});A.removeClass("Validform_error");g=null});if(o.showAllError){w.find(".Validform_error:first").focus()}if(s){var q=o.beforeSubmit&&o.beforeSubmit(w);if(q===false){return false}w[0].validform_status="posting";if(o.ajaxPost||r==="ajaxPost"){var u=d.extend(true,{},o.ajaxpost||{});u.url=k||u.url||o.url||w.attr("action");a.util.showmsg.call(w,w.data("tipmsg").p||e.p,o.tiptype,{obj:w,type:1,sweep:o.tipSweep},"byajax");if(t){u.async=false}else{if(t===false){u.async=true}}if(u.success){var x=u.success;u.success=function(y){o.callback&&o.callback(y);w[0].validform_ajax=null;if(d.trim(y.status)==="y"){w[0].validform_status="posted"}else{w[0].validform_status="normal"}x(y,w)}}if(u.error){var m=u.error;u.error=function(y){o.callback&&o.callback(y);w[0].validform_status="normal";w[0].validform_ajax=null;m(y,w)}}var p={type:"POST",async:true,data:w.serializeArray(),success:function(y){if(d.trim(y.status)==="y"){w[0].validform_status="posted";a.util.showmsg.call(w,y.info,o.tiptype,{obj:w,type:2,sweep:o.tipSweep},"byajax")}else{w[0].validform_status="normal";a.util.showmsg.call(w,y.info,o.tiptype,{obj:w,type:3,sweep:o.tipSweep},"byajax")}o.callback&&o.callback(y);w[0].validform_ajax=null},error:function(y){var z="status: "+y.status+"; statusText: "+y.statusText;a.util.showmsg.call(w,z,o.tiptype,{obj:w,type:3,sweep:o.tipSweep},"byajax");o.callback&&o.callback(y);w[0].validform_status="normal";w[0].validform_ajax=null}};u=d.extend({},p,u,{dataType:"json"});w[0].validform_ajax=d.ajax(u)}else{if(!o.postonce){w[0].validform_status="normal"}var k=k||o.url;if(k){w.attr("action",k)}return o.callback&&o.callback(w)}}return false},resetForm:function(){var k=this;k.each(function(){this.reset&&this.reset();this.validform_status="normal"});k.find(".Validform_right").text("");k.find(".passwordStrength").children().removeClass("bgStrength");k.find(".Validform_checktip").removeClass("Validform_wrong Validform_right Validform_loading");k.find(".Validform_error").removeClass("Validform_error");k.find("[datatype]").removeData("cked").removeData("dataIgnore").each(function(){this.validform_lastval=null});k.eq(0).find("input:first").focus()},abort:function(){if(this.validform_ajax){this.validform_ajax.abort()}}};d.Datatype=a.util.dataType;a.prototype={dataType:a.util.dataType,eq:function(l){var k=this;if(l>=k.forms.length){return null}if(!(l in k.objects)){k.objects[l]=new a(d(k.forms[l]).get(),{},true)}return k.objects[l]},resetStatus:function(){var k=this;d(k.forms).each(function(){this.validform_status="normal"});return this},setStatus:function(k){var l=this;d(l.forms).each(function(){this.validform_status=k||"posting"});return this},getStatus:function(){var l=this;var k=d(l.forms)[0].validform_status;return k},ignore:function(k){var l=this;var k=k||"[datatype]";d(l.forms).find(k).each(function(){d(this).data("dataIgnore","dataIgnore").removeClass("Validform_error")});return this},unignore:function(k){var l=this;var k=k||"[datatype]";d(l.forms).find(k).each(function(){d(this).removeData("dataIgnore")});return this},addRule:function(n){var m=this;var n=n||[];for(var l=0;l<n.length;l++){var p=d(m.forms).find(n[l].ele);for(var k in n[l]){k!=="ele"&&p.attr(k,n[l][k])}}d(m.forms).each(function(){var o=d(this);a.util.enhance.call(o,this.settings.tiptype,this.settings.usePlugin,this.settings.tipSweep,"addRule")});return this},ajaxPost:function(k,m,l){var n=this;d(n.forms).each(function(){if(this.settings.tiptype==1||this.settings.tiptype==2||this.settings.tiptype==3){c()}a.util.submitForm.call(d(n.forms[0]),this.settings,k,l,"ajaxPost",m)});return this},submitForm:function(k,l){var m=this;d(m.forms).each(function(){var n=a.util.submitForm.call(d(this),this.settings,k,l);n===b&&(n=true);if(n===true){this.submit()}});return this},resetForm:function(){var k=this;a.util.resetForm.call(d(k.forms));return this},abort:function(){var k=this;d(k.forms).each(function(){a.util.abort.call(this)});return this},check:function(m,k){var k=k||"[datatype]",o=this,n=d(o.forms),l=true;n.find(k).each(function(){a.util.check.call(this,n,"",m)||(l=false)});return l},config:function(k){var l=this;k=k||{};d(l.forms).each(function(){var m=d(this);this.settings=d.extend(true,this.settings,k);a.util.enhance.call(m,this.settings.tiptype,this.settings.usePlugin,this.settings.tipSweep)});return this}};d.fn.Validform=function(k){return new a(this,k)};function h(n,m){var l=(d(window).width()-n.outerWidth())/2,k=(d(window).height()-n.outerHeight())/2,k=(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(k>0?k:0);n.css({left:l}).animate({top:k},{duration:m,queue:false})}function c(){return false;if(d("#Validform_msg").length!==0){return false}j=d('<div id="Validform_msg"><div class="Validform_title">'+e.tit+'<a class="Validform_close" href="javascript:void(0);">&chi;</a></div><div class="Validform_info"></div><div class="iframe"><iframe frameborder="0" scrolling="no" height="100%" width="100%"></iframe></div></div>').appendTo("body");j.find("a.Validform_close").click(function(){j.hide();i=true;if(g){g.focus().addClass("Validform_error")}return false}).focus(function(){this.blur()});d(window).bind("scroll resize",function(){!i&&h(j,400)})}d.Showmsg=function(k){k=d.trim(k);if(!k){return false}layer.msg(k,{icon:2})};d.Hidemsg=function(){j.hide();i=true}})(jQuery,window);
;}catch(e){}
try{
/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(f){var c={};c.fileapi=f("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;var e=!!f.fn.prop;f.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments)}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g}return this.attr.apply(this,arguments)};f.fn.ajaxSubmit=function(j){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var i,C,m,o=this;if(typeof j=="function"){j={success:j}}else{if(j===undefined){j={}}}i=j.type||this.attr2("method");C=j.url||this.attr2("action");m=(typeof C==="string")?f.trim(C):"";m=m||window.location.href||"";if(m){m=(m.match(/^([^#]+)/)||[])[1]}j=f.extend(true,{url:m,success:f.ajaxSettings.success,type:i||f.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},j);var u={};this.trigger("form-pre-serialize",[this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(j.beforeSerialize&&j.beforeSerialize(this,j)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n=j.traditional;if(n===undefined){n=f.ajaxSettings.traditional}var s=[];var E,F=this.formToArray(j.semantic,s);if(j.data){j.extraData=j.data;E=f.param(j.data,n)}if(j.beforeSubmit&&j.beforeSubmit(F,this,j)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[F,this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=f.param(F,n);if(E){y=(y?(y+"&"+E):E)}if(j.type.toUpperCase()=="GET"){j.url+=(j.url.indexOf("?")>=0?"&":"?")+y;j.data=null}else{j.data=y}var H=[];if(j.resetForm){H.push(function(){o.resetForm()})}if(j.clearForm){H.push(function(){o.clearForm(j.includeHidden)})}if(!j.dataType&&j.target){var l=j.success||function(){};H.push(function(q){var k=j.replaceTarget?"replaceWith":"html";f(j.target)[k](q).each(l,arguments)})}else{if(j.success){H.push(j.success)}}j.success=function(K,q,L){var J=j.context||this;for(var I=0,k=H.length;I<k;I++){H[I].apply(J,[K,q,L||o,o])}};if(j.error){var z=j.error;j.error=function(J,k,q){var I=j.context||this;z.apply(I,[J,k,q,o])}}if(j.complete){var h=j.complete;j.complete=function(I,k){var q=j.context||this;h.apply(q,[I,k,o])}}var D=f("input[type=file]:enabled",this).filter(function(){return f(this).val()!==""});var p=D.length>0;var B="multipart/form-data";var x=(o.attr("enctype")==B||o.attr("encoding")==B);var w=c.fileapi&&c.formdata;d("fileAPI :"+w);var r=(p||x)&&!w;var v;if(j.iframe!==false&&(j.iframe||r)){if(j.closeKeepAlive){f.get(j.closeKeepAlive,function(){v=G(F)})}else{v=G(F)}}else{if((p||x)&&w){v=t(F)}else{v=f.ajax(j)}}o.removeData("jqxhr").data("jqxhr",v);for(var A=0;A<s.length;A++){s[A]=null}this.trigger("form-submit-notify",[this,j]);return this;function g(K){var L=f.param(K,j.traditional).split("&");var q=L.length;var k=[];var J,I;for(J=0;J<q;J++){L[J]=L[J].replace(/\+/g," ");I=L[J].split("=");k.push([decodeURIComponent(I[0]),decodeURIComponent(I[1])])}return k}function t(q){var k=new FormData();for(var I=0;I<q.length;I++){k.append(q[I].name,q[I].value)}if(j.extraData){var L=g(j.extraData);for(I=0;I<L.length;I++){if(L[I]){k.append(L[I][0],L[I][1])}}}j.data=null;var K=f.extend(true,{},f.ajaxSettings,j,{contentType:false,processData:false,cache:false,type:i||"POST"});if(j.uploadProgress){K.xhr=function(){var M=f.ajaxSettings.xhr();if(M.upload){M.upload.addEventListener("progress",function(Q){var P=0;var N=Q.loaded||Q.position;var O=Q.total;if(Q.lengthComputable){P=Math.ceil(N/O*100)}j.uploadProgress(Q,N,O,P)},false)}return M}}K.data=null;var J=K.beforeSend;K.beforeSend=function(N,M){if(j.formData){M.data=j.formData}else{M.data=k}if(J){J.call(this,N,M)}};return f.ajax(K)}function G(af){var L=o[0],K,ab,V,ad,Y,N,Q,O,P,Z,ac,T;var ai=f.Deferred();ai.abort=function(aj){O.abort(aj)};if(af){for(ab=0;ab<s.length;ab++){K=f(s[ab]);if(e){K.prop("disabled",false)}else{K.removeAttr("disabled")}}}V=f.extend(true,{},f.ajaxSettings,j);V.context=V.context||V;Y="jqFormIO"+(new Date().getTime());if(V.iframeTarget){N=f(V.iframeTarget);Z=N.attr2("name");if(!Z){N.attr2("name",Y)}else{Y=Z}}else{N=f('<iframe name="'+Y+'" src="'+V.iframeSrc+'" />');N.css({position:"absolute",top:"-1000px",left:"-1000px"})}Q=N[0];O={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ak=(aj==="timeout"?"timeout":"aborted");d("aborting upload... "+ak);this.aborted=1;try{if(Q.contentWindow.document.execCommand){Q.contentWindow.document.execCommand("Stop")}}catch(al){}N.attr("src",V.iframeSrc);O.error=ak;if(V.error){V.error.call(V.context,O,ak,aj)}if(ad){f.event.trigger("ajaxError",[O,V,ak])}if(V.complete){V.complete.call(V.context,O,ak)}}};ad=V.global;if(ad&&0===f.active++){f.event.trigger("ajaxStart")}if(ad){f.event.trigger("ajaxSend",[O,V])}if(V.beforeSend&&V.beforeSend.call(V.context,O,V)===false){if(V.global){f.active--}ai.reject();return ai}if(O.aborted){ai.reject();return ai}P=L.clk;if(P){Z=P.name;if(Z&&!P.disabled){V.extraData=V.extraData||{};V.extraData[Z]=P.value;if(P.type=="image"){V.extraData[Z+".x"]=L.clk_x;V.extraData[Z+".y"]=L.clk_y}}}var U=1;var R=2;function S(al){var ak=null;try{if(al.contentWindow){ak=al.contentWindow.document}}catch(aj){d("cannot get iframe.contentWindow document: "+aj)}if(ak){return ak}try{ak=al.contentDocument?al.contentDocument:al.document}catch(aj){d("cannot get iframe.contentDocument: "+aj);ak=al.document}return ak}var J=f("meta[name=csrf-token]").attr("content");var I=f("meta[name=csrf-param]").attr("content");if(I&&J){V.extraData=V.extraData||{};V.extraData[I]=J}function aa(){var ar=o.attr2("target"),an=o.attr2("action"),al="multipart/form-data",ao=o.attr("enctype")||o.attr("encoding")||al;L.setAttribute("target",Y);if(!i||/post/i.test(i)){L.setAttribute("method","POST")}if(an!=V.url){L.setAttribute("action",V.url)}if(!V.skipEncodingOverride&&(!i||/post/i.test(i))){o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(V.timeout){T=setTimeout(function(){ac=true;X(U)},V.timeout)}function ap(){try{var at=S(Q).readyState;d("state = "+at);if(at&&at.toLowerCase()=="uninitialized"){setTimeout(ap,50)}}catch(au){d("Server abort: ",au," (",au.name,")");X(R);if(T){clearTimeout(T)}T=undefined}}var aq=[];try{if(V.extraData){for(var ak in V.extraData){if(V.extraData.hasOwnProperty(ak)){if(f.isPlainObject(V.extraData[ak])&&V.extraData[ak].hasOwnProperty("name")&&V.extraData[ak].hasOwnProperty("value")){aq.push(f('<input type="hidden" name="'+V.extraData[ak].name+'">').val(V.extraData[ak].value).appendTo(L)[0])}else{aq.push(f('<input type="hidden" name="'+ak+'">').val(V.extraData[ak]).appendTo(L)[0])}}}}if(!V.iframeTarget){N.appendTo("body")}if(Q.attachEvent){Q.attachEvent("onload",X)}else{Q.addEventListener("load",X,false)}setTimeout(ap,15);try{L.submit()}catch(am){var aj=document.createElement("form").submit;aj.apply(L)}}finally{L.setAttribute("action",an);L.setAttribute("enctype",ao);if(ar){L.setAttribute("target",ar)}else{o.removeAttr("target")}f(aq).remove()}}if(V.forceSync){aa()}else{setTimeout(aa,10)}var ag,ah,ae=50,M;function X(ap){if(O.aborted||M){return}ah=S(Q);if(!ah){d("cannot access response document");ap=R}if(ap===U&&O){O.abort("timeout");ai.reject(O,"timeout");return}else{if(ap==R&&O){O.abort("server abort");ai.reject(O,"error","server abort");return}}if(!ah||ah.location.href==V.iframeSrc){if(!ac){return}}if(Q.detachEvent){Q.detachEvent("onload",X)}else{Q.removeEventListener("load",X,false)}var an="success",ar;try{if(ac){throw"timeout"}var am=V.dataType=="xml"||ah.XMLDocument||f.isXMLDoc(ah);d("isXml="+am);if(!am&&window.opera&&(ah.body===null||!ah.body.innerHTML)){if(--ae){d("requeing onLoad callback, DOM not available");setTimeout(X,250);return}}var at=ah.body?ah.body:ah.documentElement;O.responseText=at?at.innerHTML:null;O.responseXML=ah.XMLDocument?ah.XMLDocument:ah;if(am){V.dataType="xml"}O.getResponseHeader=function(aw){var av={"content-type":V.dataType};return av[aw.toLowerCase()]};if(at){O.status=Number(at.getAttribute("status"))||O.status;O.statusText=at.getAttribute("statusText")||O.statusText}var aj=(V.dataType||"").toLowerCase();var aq=/(json|script|text)/.test(aj);if(aq||V.textarea){var ao=ah.getElementsByTagName("textarea")[0];if(ao){O.responseText=ao.value;O.status=Number(ao.getAttribute("status"))||O.status;O.statusText=ao.getAttribute("statusText")||O.statusText}else{if(aq){var ak=ah.getElementsByTagName("pre")[0];var au=ah.getElementsByTagName("body")[0];if(ak){O.responseText=ak.textContent?ak.textContent:ak.innerText}else{if(au){O.responseText=au.textContent?au.textContent:au.innerText}}}}}else{if(aj=="xml"&&!O.responseXML&&O.responseText){O.responseXML=W(O.responseText)}}try{ag=k(O,aj,V)}catch(al){an="parsererror";O.error=ar=(al||an)}}catch(al){d("error caught: ",al);an="error";O.error=ar=(al||an)}if(O.aborted){d("upload aborted");an=null}if(O.status){an=(O.status>=200&&O.status<300||O.status===304)?"success":"error"}if(an==="success"){if(V.success){V.success.call(V.context,ag,"success",O)}ai.resolve(O.responseText,"success",O);if(ad){f.event.trigger("ajaxSuccess",[O,V])}}else{if(an){if(ar===undefined){ar=O.statusText}if(V.error){V.error.call(V.context,O,an,ar)}ai.reject(O,"error",ar);if(ad){f.event.trigger("ajaxError",[O,V,ar])}}}if(ad){f.event.trigger("ajaxComplete",[O,V])}if(ad&&!--f.active){f.event.trigger("ajaxStop")}if(V.complete){V.complete.call(V.context,O,an)}M=true;if(V.timeout){clearTimeout(T)}setTimeout(function(){if(!V.iframeTarget){N.remove()}else{N.attr("src",V.iframeSrc)}O.responseXML=null},100)}var W=f.parseXML||function(aj,ak){if(window.ActiveXObject){ak=new ActiveXObject("Microsoft.XMLDOM");ak.async="false";ak.loadXML(aj)}else{ak=(new DOMParser()).parseFromString(aj,"text/xml")}return(ak&&ak.documentElement&&ak.documentElement.nodeName!="parsererror")?ak:null};var q=f.parseJSON||function(aj){return window["eval"]("("+aj+")")};var k=function(ao,am,al){var ak=ao.getResponseHeader("content-type")||"",aj=am==="xml"||!am&&ak.indexOf("xml")>=0,an=aj?ao.responseXML:ao.responseText;if(aj&&an.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(al&&al.dataFilter){an=al.dataFilter(an,am)}if(typeof an==="string"){if(am==="json"||!am&&ak.indexOf("json")>=0){an=q(an)}else{if(am==="script"||!am&&ak.indexOf("javascript")>=0){f.globalEval(an)}}}return an};return ai}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){d("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}d("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(h.target).ajaxSubmit(g)}}function a(k){var j=k.target;var h=f(j);if(!(h.is("[type=submit],[type=image]"))){var g=h.closest("[type=submit]");if(g.length===0){return}j=g[0]}var i=this;i.clk=j;if(j.type=="image"){if(k.offsetX!==undefined){i.clk_x=k.offsetX;i.clk_y=k.offsetY}else{if(typeof f.fn.offset=="function"){var l=h.offset();i.clk_x=k.pageX-l.left;i.clk_y=k.pageY-l.top}else{i.clk_x=k.pageX-j.offsetLeft;i.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(x,g){var w=[];if(this.length===0){return w}var l=this[0];var z=this.attr("id");var q=x?l.getElementsByTagName("*"):l.elements;var A;if(q&&!/MSIE [678]/.test(navigator.userAgent)){q=f(q).get()}if(z){A=f(':input[form="'+z+'"]').get();if(A.length){q=(q||[]).concat(A)}}if(!q||!q.length){return w}var r,p,o,y,m,t,k;for(r=0,t=q.length;r<t;r++){m=q[r];o=m.name;if(!o||m.disabled){continue}if(x&&l.clk&&m.type=="image"){if(l.clk==m){w.push({name:o,value:f(m).val(),type:m.type});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}y=f.fieldValue(m,true);if(y&&y.constructor==Array){if(g){g.push(m)}for(p=0,k=y.length;p<k;p++){w.push({name:o,value:y[p]})}}else{if(c.fileapi&&m.type=="file"){if(g){g.push(m)}var h=m.files;if(h.length){for(p=0;p<h.length;p++){w.push({name:o,value:h[p],type:m.type})}}else{w.push({name:o,value:"",type:m.type})}}else{if(y!==null&&typeof y!="undefined"){if(g){g.push(m)}w.push({name:o,value:y,type:m.type,required:m.required})}}}}if(!x&&l.clk){var s=f(l.clk),u=s[0];o=u.name;if(o&&!u.disabled&&u.type=="image"){w.push({name:o,value:s.val()});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return w};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,u=g.type,w=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!g.checked||(u=="submit"||u=="image")&&g.form&&g.form.clk!=g||w=="select"&&g.selectedIndex==-1)){return null}if(w=="select"){var p=g.selectedIndex;if(p<0){return null}var r=[],h=g.options;var l=(u=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var s=m.value;if(!s){s=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return s}r.push(s)}}return r}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var j=this.type,i=this.tagName.toLowerCase();if(h.test(j)||i=="textarea"){this.value=""}else{if(j=="checkbox"||j=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(j=="file"){if(/MSIE/.test(navigator.userAgent)){f(this).replaceWith(f(this).clone(true))}else{f(this).val("")}}else{if(g){if((g===true&&/hidden/.test(j))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var i=f(this).parent("select");if(g&&i[0]&&i[0].type=="select-one"){i.find("option").selected(false)}this.selected=g}}})};f.fn.ajaxSubmit.debug=false;function d(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}}));
;}catch(e){}
try{
// iCheck v0.7, http://git.io/uhUPMA
(function(b){function m(a,b,d,c){var e=a[0],l=a.parent(),j=/disable|enable/.test(d)?"disabled":"checked",f="update"==d?{checked:e.checked,disabled:e.disabled}:e[j];if(/^check|disable/.test(d)&&!f)n(a,!0,l,j);else if(/uncheck|enable/.test(d)&&f)p(a,!0,l,j);else if("update"==d)for(j in f)f[j]?n(a,!1,l,j,c):p(a,!1,l,j,c);else b||(!0==d&&!e.disabled&&a.trigger("is.Clicked"),f?n(a,!0,l,j):p(a,!0,l,j))}function n(a,k,d,c,e){k&&(a[0][c]=!0);!0!==d.data(c)&&("checked"==c&&("radio"==a[0].type&&a[0].name)&&
b("input[name="+a[0].name+"]").each(function(){this!==a[0]&&b(this).data("icheck")&&p(b(this),!0,b(this).parent(),c)}),(k||e)&&a.trigger("is.Changed"),k&&a.trigger("is."+c.replace("di","Di").replace("ch","Ch")),d.data(c,!0).addClass(r(a,c)))}function p(a,b,d,c,e){var l="disabled"==c?"Enabled":"Unchecked";b&&(a[0][c]=!1);!1!==d.data(c)&&((b||e)&&a.trigger("is.Changed"),b&&a.trigger("is."+l),d.data(c,!1).removeClass(r(a,c)))}function u(a,k){if(a.data("icheck")){var d=a[0].id,c=b("label[for="+d+"]");
a.parent().html(a.attr("style",a.data("icheck").style||"").trigger(k||""));a.removeData("icheck").unbind(".df").unwrap();d&&c.length&&c.unbind(".df")}}function r(a,b){if(a.data("icheck"))return a.data("icheck").options[b+"Class"]}b.fn.iCheck=function(a){if(/^(check|uncheck|disable|enable|update|destroy)$/.test(a))return this.each(function(){/destroy/.test(a)?u(b(this),"is.Destroyed"):m(b(this),!0,a)});if("object"==typeof a||!a){var k=navigator.userAgent,d=b.extend({},{checkboxClass:"icheckbox",radioClass:"iradio",
checkedClass:"checked",disabledClass:"disabled",hoverClass:"hover",focusClass:"focus",activeClass:"active",labelHover:!0,labelHoverClass:"hover"},a),c=/^(checkbox|radio)$/.test(d.handle)?":"+d.handle:":checkbox, :radio",e=(""+d.increaseArea).replace("%","")|0;-50>e&&(e=-50);return this.each(function(){(b(this).is(c)?b(this):b(this).find(c)).each(function(){u(b(this));var a=this,c=a.id,f={position:"absolute",top:-e+"%",left:-e+"%",display:"block",width:100+2*e+"%",height:100+2*e+"%",margin:0,padding:0,
background:"#fff",border:0,opacity:0},r=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini/i.test(k)?{position:"absolute",visibility:"hidden"}:e|0?f:{position:"absolute",opacity:0},w="checkbox"==a.type?d.checkboxClass:d.radioClass,h=b(this).data("icheck",{style:b(this).attr("style"),options:d}).css(r),q=b("label[for="+c+"]"),g=h.wrap('<div class="'+w+'"/>').trigger("is.Created").parent().append(d.insert),f=b("<ins/>").css(f).appendTo(g).click(function(){h.click();m(h,!1,!0)}),s=d.hoverClass,
t=d.labelHoverClass,v;!0==d.cursor&&f.css("cursor","pointer");!0==d.inheritClass&&g.addClass(a.className);!0==d.inheritID&&c&&g.attr("id","icheck-"+c);"static"==g.css("position")&&g.css("position","relative");m(h,!0,"update");c&&q.length&&q.bind("click.df mouseenter.df mouseleave.df touchbegin.df touchend.df",function(c){var e=c.type,f=b(this);"click"==e?(c.preventDefault(),h.click(),m(h,!1,!0)):!0==d.labelHover&&!a.disabled&&(/mouseenter|touchbegin/.test(e)?(g.addClass(s),f.addClass(t)):(g.removeClass(s),
f.removeClass(t)))});h.bind("focus.df blur.df keyup.df keydown.df keypress.df",function(c){var b=c.type,e=c.keyCode||c.charCode||c.which;c=/MSIE [5-8]/.test(k)?"keyup"==b&&"keypress"!==v:"keyup"==b;e="keypress"==b&&32==e;/focus|blur/.test(b)?"focus"==b?g.addClass(d.focusClass):g.removeClass(d.focusClass):"radio"==a.type?(c?m(h,!0,"update",!0):e&&!a.checked&&n(h,!1,g,"checked",!0),v=b):"checkbox"==a.type&&e&&(a.checked?p(h,!1,g,"checked",!0):n(h,!1,g,"checked",!0))});f.bind("mousedown mouseup mouseout mouseenter mouseleave touchbegin touchend",
function(b){b=b.type;var e=/mousedown|mouseup|mouseout/.test(b)?d.activeClass:s;a.disabled||(/mousedown|mouseenter|touchbegin/.test(b)?g.addClass(e):g.removeClass(e),c&&(q.length&&!0==d.labelHover&&e==s)&&(/mouseleave|touchend/.test(b)?q.removeClass(t):q.addClass(t)))})})})}return this}})(jQuery);

;}catch(e){}
try{
jQuery.extend({createUploadIframe:function(d,b){var a="jUploadFrame"+d;var c='<iframe id="'+a+'" name="'+a+'" style="position:absolute; top:-9999px; left:-9999px"';if(window.ActiveXObject){if(typeof b=="boolean"){c+=' src="javascript:false"'}else{if(typeof b=="string"){c+=' src="'+b+'"'}}}c+=" />";jQuery(c).appendTo(document.body);return jQuery("#"+a).get(0)},createUploadForm:function(h,b,e){var f="jUploadForm"+h;var a="jUploadFile"+h;var d=jQuery('<form  action="" method="POST" name="'+f+'" id="'+f+'" enctype="multipart/form-data"></form>');var c=jQuery("#"+b);var g=jQuery(c).clone();jQuery(c).attr("id",a);jQuery(c).before(g);jQuery(c).appendTo(d);if(typeof(e)!="undefined"){$.each(e,function(i,j){$("<input type='hidden' name='"+i+"' value='"+j+"'/>").appendTo(d)})}jQuery(d).css("position","absolute");jQuery(d).css("top","-1200px");jQuery(d).css("left","-1200px");jQuery(d).appendTo("body");return d},ajaxFileUpload:function(k){k=jQuery.extend({},jQuery.ajaxSettings,k);var a=new Date().getTime();var b=jQuery.createUploadForm(a,k.fileElementId,k.data);var i=jQuery.createUploadIframe(a,k.secureuri);var h="jUploadFrame"+a;var j="jUploadForm"+a;if(k.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var c=false;var f={};if(k.global){jQuery.event.trigger("ajaxSend",[f,k])}var d=function(l){var p=document.getElementById(h);try{if(p.contentWindow){f.responseText=p.contentWindow.document.body?p.contentWindow.document.body.innerHTML:null;f.responseXML=p.contentWindow.document.XMLDocument?p.contentWindow.document.XMLDocument:p.contentWindow.document}else{if(p.contentDocument){f.responseText=p.contentDocument.document.body?p.contentDocument.document.body.innerHTML:null;f.responseXML=p.contentDocument.document.XMLDocument?p.contentDocument.document.XMLDocument:p.contentDocument.document}}}catch(o){jQuery.handleError(k,f,null,o)}if(f||l=="timeout"){c=true;var m;try{m=l!="timeout"?"success":"error";if(m!="error"){var n=jQuery.uploadHttpData(f,k.dataType);if(k.success){k.success(n,m)}if(k.global){jQuery.event.trigger("ajaxSuccess",[f,k])}}else{jQuery.handleError(k,f,m)}}catch(o){m="error";jQuery.handleError(k,f,m,o)}if(k.global){jQuery.event.trigger("ajaxComplete",[f,k])}if(k.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}if(k.complete){k.complete(f,m)}jQuery(p).unbind();setTimeout(function(){try{jQuery(p).remove();jQuery(b).remove()}catch(q){jQuery.handleError(k,f,null,q)}},100);f=null}};if(k.timeout>0){setTimeout(function(){if(!c){d("timeout")}},k.timeout)}try{var b=jQuery("#"+j);jQuery(b).attr("action",k.url);jQuery(b).attr("method","POST");jQuery(b).attr("target",h);if(b.encoding){jQuery(b).attr("encoding","multipart/form-data")}else{jQuery(b).attr("enctype","multipart/form-data")}jQuery(b).submit()}catch(g){jQuery.handleError(k,f,null,g)}jQuery("#"+h).load(d);return{abort:function(){}}},uploadHttpData:function(r,type){var data=!type;data=type=="xml"||data?r.responseXML:r.responseText;if(type=="script"){jQuery.globalEval(data)}if(type=="json"){eval("data = "+data)}return data},handleError:function(b,d,a,c){if(b.error){b.error.call(b.context||b,d,a,c)}if(b.global){(b.context?jQuery(b.context):jQuery.event).trigger("ajaxError",[d,b,c])}}});
;}catch(e){}
try{
(function(a){a.fn.queryFor=function(e){var b=[];var c=a(this).attr("name");if(!c){c=a(this).attr("id")}if(!c){c=a(this).attr("action")}var e=a(e);var d=function(){var g=window.localStorage.getItem(c);if(g){b=a.parseJSON(g)}};this.list=function(){return b};var f=function(){e.html('<option value="none">**查询历史**</option>');for(var h=0,g=b.length;h<g;h++){if(b[h]&&b[h]["text"]){e.append(a("<option>").attr("value",h).html(b[h].text))}}};this.add=function(g,h){b.push({text:g,value:h});window.localStorage.setItem(c,JSON.stringify(b));f()};this.getVal=function(g){if(!b){return 0}return b[g]["value"]};this.del=function(g){if(b[g]){delete b[g];window.localStorage.setItem(c,JSON.stringify(b));f()}};this.clear=function(g){window.localStorage.setItem(c,JSON.stringify(b))};d();f();return this}})(jQuery);
;}catch(e){}
try{
/*!
 * Copyright 2012, Chris Wanstrath
 * Released under the MIT License
 * https://github.com/defunkt/jquery-pjax
 */
(function(h){function l(H,I,J){var K=this;return this.on("click.pjax",H,function(M){var L=h.extend({},u(I,J));if(!L.container){L.container=h(this).attr("data-pjax")||K}m(M,L)})}function m(M,I,J){J=u(I,J);var L=M.currentTarget;if(L.tagName.toUpperCase()!=="A"){throw"$.fn.pjax or $.pjax.click requires an anchor element"}if(M.which>1||M.metaKey||M.ctrlKey||M.shiftKey||M.altKey){return}if(location.protocol!==L.protocol||location.hostname!==L.hostname){return}if(L.href.indexOf("#")>-1&&z(L)==z(location)){return}if(M.isDefaultPrevented()){return}var N={url:L.href,container:h(L).attr("data-pjax"),target:L};var K=h.extend({},N,J);var H=h.Event("pjax:click");h(L).trigger(H,[K]);if(!H.isDefaultPrevented()){C(K);M.preventDefault();h(L).trigger("pjax:clicked",[K])}}function s(L,H,J){J=u(H,J);var K=L.currentTarget;var I=h(K);if(K.tagName.toUpperCase()!=="FORM"){throw"$.pjax.submit requires a form element"}var M={type:(I.attr("method")||"GET").toUpperCase(),url:I.attr("action"),container:I.attr("data-pjax"),target:K};if(M.type!=="GET"&&window.FormData!==undefined){M.data=new FormData(K);M.processData=false;M.contentType=false}else{if(h(K).find(":file").length){return}M.data=h(K).serializeArray()}C(h.extend({},M,J));L.preventDefault()}function C(H){H=h.extend(true,{},h.ajaxSettings,C.defaults,H);if(h.isFunction(H.url)){H.url=H.url()}var M=H.target;var L=r(H.url,H.replaceStr).hash;var I=H.context=t(H.container);if(!H.data){H.data={}}if(h.isArray(H.data)){H.data.push({name:"_pjax",value:I.selector})}else{H.data._pjax=I.selector}function K(Q,O,P){if(!P){P={}}P.relatedTarget=M;var R=h.Event(Q,P);I.trigger(R,O);return !R.isDefaultPrevented()}var J;H.beforeSend=function(Q,P){if(P.type!=="GET"){P.timeout=0}Q.setRequestHeader("X-PJAX","true");Q.setRequestHeader("X-PJAX-Container",I.selector);if(!K("pjax:beforeSend",[Q,P])){return false}if(P.timeout>0){J=setTimeout(function(){if(K("pjax:timeout",[Q,H])){Q.abort("timeout")}},P.timeout);P.timeout=0}var O=r(P.url,H.replaceStr);if(L){O.hash=L}H.requestUrl=q(O)};H.complete=function(O,P){if(J){clearTimeout(J)}K("pjax:complete",[O,P,H]);K("pjax:end",[O,H])};H.error=function(R,S,P){var O=y("",R,H);var Q=K("pjax:error",[R,S,P,H]);if(H.type=="GET"&&S!=="abort"&&Q){A(O.url)}};H.success=function(T,S,aa){var W=C.state;var Z=(typeof h.pjax.defaults.version==="function")?h.pjax.defaults.version():h.pjax.defaults.version;var ab=aa.getResponseHeader("X-PJAX-Version");var Q=y(T,aa,H);var P=r(Q.url,H.replaceStr);if(L){P.hash=L;Q.url=P.href}if(Z&&ab&&Z!==ab){A(Q.url);return}if(!Q.contents){A(Q.url);return}C.state={id:H.id||n(),url:Q.url,title:Q.title,container:I.selector,fragment:H.fragment,timeout:H.timeout};if(H.push||H.replace){window.history.replaceState(C.state,Q.title,Q.url)}var R=h.contains(H.container,document.activeElement);if(R){try{document.activeElement.blur()}catch(Y){}}if(Q.title){document.title=Q.title}K("pjax:beforeReplace",[Q.contents,H],{state:C.state,previousState:W});I.html(Q.contents);var V=I.find("input[autofocus], textarea[autofocus]").last()[0];if(V&&document.activeElement!==V){V.focus()}a(Q.scripts);var U=H.scrollTo;if(L){var O=decodeURIComponent(L.slice(1));var X=document.getElementById(O)||document.getElementsByName(O)[0];if(X){U=h(X).offset().top}}if(typeof U=="number"){h(window).scrollTop(U)}K("pjax:success",[T,S,aa,H])};if(!C.state){C.state={id:n(),url:window.location.href,title:document.title,container:I.selector,fragment:H.fragment,timeout:H.timeout};window.history.replaceState(C.state,document.title)}F(C.xhr);C.options=H;var N=C.xhr=h.ajax(H);if(N.readyState>0){if(H.push&&!H.replace){k(C.state.id,D(I));window.history.pushState(null,"",H.requestUrl)}K("pjax:start",[N,H]);K("pjax:send",[N,H])}return C.xhr}function x(H,I){var J={url:window.location.href,push:false,replace:true,scrollTo:false};return C(h.extend(J,u(H,I)))}function A(H){window.history.replaceState(null,"",C.state.url);window.location.replace(H)}var j=true;var G=window.location.href;var E=window.history.state;if(E&&E.container){C.state=E}if("state" in window.history){j=false}function c(J){if(!j){F(C.xhr)}var O=C.state;var I=J.state;var P;if(I&&I.container){if(j&&G==I.url){return}if(O){if(O.id===I.id){return}P=O.id<I.id?"forward":"back"}var H=f[I.id]||[];var K=h(H[0]||I.container),M=H[1];if(K.length){if(O){v(P,O.id,D(K))}var N=h.Event("pjax:popstate",{state:I,direction:P});K.trigger(N);var Q={id:I.id,url:I.url,container:K,push:false,fragment:I.fragment,timeout:I.timeout,scrollTo:false};if(M){K.trigger("pjax:start",[null,Q]);C.state=I;if(I.title){document.title=I.title}var L=h.Event("pjax:beforeReplace",{state:I,previousState:O});K.trigger(L,[M,Q]);K.html(M);K.trigger("pjax:end",[null,Q])}else{C(Q)}K[0].offsetHeight}else{A(location.href)}}j=false}function e(I){var H=h.isFunction(I.url)?I.url():I.url,M=I.type?I.type.toUpperCase():"GET";var K=h("<form>",{method:M==="GET"?"GET":"POST",action:H,style:"display:none"});if(M!=="GET"&&M!=="POST"){K.append(h("<input>",{type:"hidden",name:"_method",value:M.toLowerCase()}))}var L=I.data;if(typeof L==="string"){h.each(L.split("&"),function(N,O){var P=O.split("=");K.append(h("<input>",{type:"hidden",name:P[0],value:P[1]}))})}else{if(h.isArray(L)){h.each(L,function(N,O){K.append(h("<input>",{type:"hidden",name:O.name,value:O.value}))})}else{if(typeof L==="object"){var J;for(J in L){K.append(h("<input>",{type:"hidden",name:J,value:L[J]}))}}}}h(document.body).append(K);K.submit()}function F(H){if(H&&H.readyState<4){H.onreadystatechange=h.noop;H.abort()}}function n(){return(new Date).getTime()}function D(I){var H=I.clone();H.find("script").each(function(){if(!this.src){jQuery._data(this,"globalEval",false)}});return[I.selector,H.contents()]}function q(H){H.search=H.search.replace(/([?&])(_pjax|_)=[^&]*/g,"");return H.href.replace(/\?($|#)/,"$1")}function r(I,J){var H=document.createElement("a");if(typeof(J)=="undefined"){J=".page"}H.href=I.replace(/\.pagelet/,J);return H}function z(H){return H.href.replace(/#.*/,"")}function u(H,I){if(H&&I){I.container=H}else{if(h.isPlainObject(H)){I=H}else{I={container:H}}}if(I.container){I.container=t(I.container)}return I}function t(H){H=h(H);if(!H.length){throw"no pjax container for "+H.selector}else{if(H.selector!==""&&H.context===document){return H}else{if(H.attr("id")){return h("#"+H.attr("id"))}else{throw"cant get selector for pjax container!"}}}}function o(I,H){return I.filter(H).add(I.find(H))}function w(H){return h.parseHTML(H,document,true)}function y(L,N,P){var K={},H=/<html/i.test(L);var I=N.getResponseHeader("X-PJAX-URL");K.url=I?q(r(I,P.replaceStr)):P.requestUrl;if(H){var M=h(w(L.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));var J=h(w(L.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else{var M=J=h(w(L))}if(J.length===0){return K}K.title=o(M,"title").last().text();if(P.fragment){if(P.fragment==="body"){var O=J}else{var O=o(J,P.fragment).first()}if(O.length){K.contents=P.fragment==="body"?O:O.contents();if(!K.title){K.title=O.attr("title")||O.data("title")}}}else{if(!H){K.contents=J}}if(K.contents){K.contents=K.contents.not(function(){return h(this).is("title")});K.contents.find("title").remove();K.scripts=o(K.contents,"script[src]").remove();K.contents=K.contents.not(K.scripts)}if(K.title){K.title=h.trim(K.title)}return K}function a(H){if(!H){return}var I=h("script[src]");H.each(function(){var L=this.src;var M=I.filter(function(){return this.src===L});if(M.length){return}var J=document.createElement("script");var K=h(this).attr("type");if(K){J.type=K}J.src=h(this).attr("src");document.head.appendChild(J)})}var f={};var g=[];var i=[];function k(I,H){f[I]=H;i.push(I);b(g,0);b(i,C.defaults.maxCacheLength)}function v(J,L,I){var K,H;f[L]=I;if(J==="forward"){K=i;H=g}else{K=g;H=i}K.push(L);if(L=H.pop()){delete f[L]}b(K,C.defaults.maxCacheLength)}function b(H,I){while(H.length>I){delete f[H.shift()]}}function B(){return h("meta").filter(function(){var H=h(this).attr("http-equiv");return H&&H.toUpperCase()==="X-PJAX-VERSION"}).attr("content")}function p(){h.fn.pjax=l;h.pjax=C;h.pjax.enable=h.noop;h.pjax.disable=d;h.pjax.click=m;h.pjax.submit=s;h.pjax.reload=x;h.pjax.defaults={timeout:650,push:true,replace:false,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:B};h(window).on("popstate.pjax",c)}function d(){h.fn.pjax=function(){return this};h.pjax=e;h.pjax.enable=p;h.pjax.disable=h.noop;h.pjax.click=h.noop;h.pjax.submit=h.noop;h.pjax.reload=function(){window.location.reload()};h(window).off("popstate.pjax",c)}if(h.inArray("state",h.event.props)<0){h.event.props.push("state")}h.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/);h.support.pjax?p():d()})(jQuery);
;}catch(e){}
try{
(function(){window.UEDITOR_HOME_URL=contextPath+"/ueditor/";var a=window.UEDITOR_HOME_URL||e();window.UEDITOR_CONFIG={UEDITOR_HOME_URL:a,serverUrl:contextPath+"jsp/controller.jsp",toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","|","rowspacingtop","rowspacingbottom","lineheight","|","paragraph","fontfamily","fontsize","|","indent","justifyleft","justifycenter","justifyright","justifyjustify","|","touppercase","tolowercase","|","link","unlink","anchor","|","imagenone","imageleft","imageright","imagecenter","|","simpleupload","insertimage","emotion","scrawl","attachment","map","insertframe","insertcode","template","|","horizontal","date","time","spechars","|","inserttable","preview","searchreplace","drafts"]],saveInterval:5000,elementPathEnabled:false,wordCount:false,autoHeightEnabled:false,allowDivTransToP:false,imageFormData:{tinyFrame:1}};function e(f,g){return c(f||self.document.URL||self.location.href,g||b())}function b(){var f=document.getElementsByTagName("script");return f[f.length-1].src}function c(f,g){var h=g;if(/^(\/|\\\\)/.test(g)){h=/^.+?\w(\/|\\\\)/.exec(f)[0]+g.replace(/^(\/|\\\\)/,"")}else{if(!/^[a-z]+:/i.test(g)){f=f.split("#")[0].split("?")[0].replace(/[^\\\/]+$/,"");h=f+""+g}}return d(h)}function d(h){var i=/^[a-z]+:\/\//.exec(h)[0],g=null,f=[];h=h.replace(i,"").split("?")[0].split("#")[0];h=h.replace(/\\/g,"/").split(/\//);h[h.length-1]="";while(h.length){if((g=h.shift())===".."){f.pop()}else{if(g!=="."){f.push(g)}}}return i+f.join("/")}window.UE={getUEBasePath:e}})();
;}catch(e){}
try{
/*!
 * UEditor
 * version: ueditor
 * build: Tue Aug 25 2015 15:27:16 GMT+0800 (CST)
*/
(function(){UEDITOR_CONFIG=window.UEDITOR_CONFIG||{};var baidu=window.baidu||{};window.baidu=baidu;window.UE=baidu.editor=window.UE||{};UE.plugins={};UE.commands={};UE.instants={};UE.I18N={};UE._customizeUI={};UE.version="1.4.3";var dom=UE.dom={};var browser=UE.browser=function(){var agent=navigator.userAgent.toLowerCase(),opera=window.opera,browser={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(agent),opera:(!!opera&&opera.version),webkit:(agent.indexOf(" applewebkit/")>-1),mac:(agent.indexOf("macintosh")>-1),quirks:(document.compatMode=="BackCompat")};browser.gecko=(navigator.product=="Gecko"&&!browser.webkit&&!browser.opera&&!browser.ie);var version=0;if(browser.ie){var v1=agent.match(/(?:msie\s([\w.]+))/);var v2=agent.match(/(?:trident.*rv:([\w.]+))/);if(v1&&v2&&v1[1]&&v2[1]){version=Math.max(v1[1]*1,v2[1]*1)}else{if(v1&&v1[1]){version=v1[1]*1}else{if(v2&&v2[1]){version=v2[1]*1}else{version=0}}}browser.ie11Compat=document.documentMode==11;browser.ie9Compat=document.documentMode==9;browser.ie8=!!document.documentMode;browser.ie8Compat=document.documentMode==8;browser.ie7Compat=((version==7&&!document.documentMode)||document.documentMode==7);browser.ie6Compat=(version<7||browser.quirks);browser.ie9above=version>8;browser.ie9below=version<9;browser.ie11above=version>10;browser.ie11below=version<11}if(browser.gecko){var geckoRelease=agent.match(/rv:([\d\.]+)/);if(geckoRelease){geckoRelease=geckoRelease[1].split(".");version=geckoRelease[0]*10000+(geckoRelease[1]||0)*100+(geckoRelease[2]||0)*1}}if(/chrome\/(\d+\.\d)/i.test(agent)){browser.chrome=+RegExp["\x241"]}if(/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(agent)&&!/chrome/i.test(agent)){browser.safari=+(RegExp["\x241"]||RegExp["\x242"])}if(browser.opera){version=parseFloat(opera.version())}if(browser.webkit){version=parseFloat(agent.match(/ applewebkit\/(\d+)/)[1])}browser.version=version;browser.isCompatible=!browser.mobile&&((browser.ie&&version>=6)||(browser.gecko&&version>=10801)||(browser.opera&&version>=9.5)||(browser.air&&version>=1)||(browser.webkit&&version>=522)||false);return browser}();var ie=browser.ie,webkit=browser.webkit,gecko=browser.gecko,opera=browser.opera;var utils=UE.utils={each:function(obj,iterator,context){if(obj==null){return}if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(iterator.call(context,obj[i],i,obj)===false){return false}}}else{for(var key in obj){if(obj.hasOwnProperty(key)){if(iterator.call(context,obj[key],key,obj)===false){return false}}}}},makeInstance:function(obj){var noop=new Function();noop.prototype=obj;obj=new noop;noop.prototype=null;return obj},extend:function(t,s,b){if(s){for(var k in s){if(!b||!t.hasOwnProperty(k)){t[k]=s[k]}}}return t},extend2:function(t){var a=arguments;for(var i=1;i<a.length;i++){var x=a[i];for(var k in x){if(!t.hasOwnProperty(k)){t[k]=x[k]}}}return t},inherits:function(subClass,superClass){var oldP=subClass.prototype,newP=utils.makeInstance(superClass.prototype);utils.extend(newP,oldP,true);subClass.prototype=newP;return(newP.constructor=subClass)},bind:function(fn,context){return function(){return fn.apply(context,arguments)}},defer:function(fn,delay,exclusion){var timerID;return function(){if(exclusion){clearTimeout(timerID)}timerID=setTimeout(fn,delay)}},indexOf:function(array,item,start){var index=-1;start=this.isNumber(start)?start:0;this.each(array,function(v,i){if(i>=start&&v===item){index=i;return false}});return index},removeItem:function(array,item){for(var i=0,l=array.length;i<l;i++){if(array[i]===item){array.splice(i,1);i--}}},trim:function(str){return str.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(list){if(!list){return{}}list=utils.isArray(list)?list:list.split(",");for(var i=0,ci,obj={};ci=list[i++];){obj[ci.toUpperCase()]=obj[ci]=1}return obj},unhtml:function(str,reg){return str?str.replace(reg||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp|#\d+);)?/g,function(a,b){if(b){return a}else{return{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[a]}}):""},html:function(str){return str?str.replace(/&((g|l|quo)t|amp|#39|nbsp);/g,function(m){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'","&nbsp;":" "}[m]}):""},cssStyleToDomStyle:function(){var test=document.createElement("div").style,cache={"float":test.cssFloat!=undefined?"cssFloat":test.styleFloat!=undefined?"styleFloat":"float"};return function(cssName){return cache[cssName]||(cache[cssName]=cssName.toLowerCase().replace(/-./g,function(match){return match.charAt(1).toUpperCase()}))}}(),loadFile:function(){var tmpList=[];function getItem(doc,obj){try{for(var i=0,ci;ci=tmpList[i++];){if(ci.doc===doc&&ci.url==(obj.src||obj.href)){return ci}}}catch(e){return null}}return function(doc,obj,fn){var item=getItem(doc,obj);if(item){if(item.ready){fn&&fn()}else{item.funs.push(fn)}return}tmpList.push({doc:doc,url:obj.src||obj.href,funs:[fn]});if(!doc.body){var html=[];for(var p in obj){if(p=="tag"){continue}html.push(p+'="'+obj[p]+'"')}doc.write("<"+obj.tag+" "+html.join(" ")+" ></"+obj.tag+">");return}if(obj.id&&doc.getElementById(obj.id)){return}var element=doc.createElement(obj.tag);delete obj.tag;for(var p in obj){element.setAttribute(p,obj[p])}element.onload=element.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){item=getItem(doc,obj);if(item.funs.length>0){item.ready=1;for(var fi;fi=item.funs.pop();){fi()}}element.onload=element.onreadystatechange=null}};element.onerror=function(){throw Error("The load "+(obj.href||obj.src)+" fails,check the url settings of file ueditor.config.js ")};doc.getElementsByTagName("head")[0].appendChild(element)}}(),isEmptyObject:function(obj){if(obj==null){return true}if(this.isArray(obj)||this.isString(obj)){return obj.length===0}for(var key in obj){if(obj.hasOwnProperty(key)){return false}}return true},fixColor:function(name,value){if(/color/i.test(name)&&/rgba?/.test(value)){var array=value.split(",");if(array.length>3){return""}value="#";for(var i=0,color;color=array[i++];){color=parseInt(color.replace(/[^\d]/gi,""),10).toString(16);value+=color.length==1?"0"+color:color}value=value.toUpperCase()}return value},optCss:function(val){var padding,margin,border;val=val.replace(/(padding|margin|border)\-([^:]+):([^;]+);?/gi,function(str,key,name,val){if(val.split(" ").length==1){switch(key){case"padding":!padding&&(padding={});padding[name]=val;return"";case"margin":!margin&&(margin={});margin[name]=val;return"";case"border":return val=="initial"?"":str}}return str});function opt(obj,name){if(!obj){return""}var t=obj.top,b=obj.bottom,l=obj.left,r=obj.right,val="";if(!t||!l||!b||!r){for(var p in obj){val+=";"+name+"-"+p+":"+obj[p]+";"}}else{val+=";"+name+":"+(t==b&&b==l&&l==r?t:t==b&&l==r?(t+" "+l):l==r?(t+" "+l+" "+b):(t+" "+r+" "+b+" "+l))+";"}return val}val+=opt(padding,"padding")+opt(margin,"margin");return val.replace(/^[ \n\r\t;]*|[ \n\r\t]*$/,"").replace(/;([ \n\r\t]+)|\1;/g,";").replace(/(&((l|g)t|quot|#39))?;{2,}/g,function(a,b){return b?b+";;":";"})},clone:function(source,target){var tmp;target=target||{};for(var i in source){if(source.hasOwnProperty(i)){tmp=source[i];if(typeof tmp=="object"){target[i]=utils.isArray(tmp)?[]:{};utils.clone(source[i],target[i])}else{target[i]=tmp}}}return target},transUnitToPx:function(val){if(!/(pt|cm)/.test(val)){return val}var unit;val.replace(/([\d.]+)(\w+)/,function(str,v,u){val=v;unit=u});switch(unit){case"cm":val=parseFloat(val)*25;break;case"pt":val=Math.round(parseFloat(val)*96/72)}return val+(val?"px":"")},domReady:function(){var fnArr=[];function doReady(doc){doc.isReady=true;for(var ci;ci=fnArr.pop();ci()){}}return function(onready,win){win=win||window;var doc=win.document;onready&&fnArr.push(onready);if(doc.readyState==="complete"){doReady(doc)}else{doc.isReady&&doReady(doc);if(browser.ie&&browser.version!=11){(function(){if(doc.isReady){return}try{doc.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return}doReady(doc)})();win.attachEvent("onload",function(){doReady(doc)})}else{doc.addEventListener("DOMContentLoaded",function(){doc.removeEventListener("DOMContentLoaded",arguments.callee,false);doReady(doc)},false);win.addEventListener("load",function(){doReady(doc)},false)}}}}(),cssRule:browser.ie&&browser.version!=11?function(key,style,doc){var indexList,index;if(style===undefined||style&&style.nodeType&&style.nodeType==9){doc=style&&style.nodeType&&style.nodeType==9?style:(doc||document);indexList=doc.indexList||(doc.indexList={});index=indexList[key];if(index!==undefined){return doc.styleSheets[index].cssText}return undefined}doc=doc||document;indexList=doc.indexList||(doc.indexList={});index=indexList[key];if(style===""){if(index!==undefined){doc.styleSheets[index].cssText="";delete indexList[key];return true}return false}if(index!==undefined){sheetStyle=doc.styleSheets[index]}else{sheetStyle=doc.createStyleSheet("",index=doc.styleSheets.length);indexList[key]=index}sheetStyle.cssText=style}:function(key,style,doc){var head,node;if(style===undefined||style&&style.nodeType&&style.nodeType==9){doc=style&&style.nodeType&&style.nodeType==9?style:(doc||document);node=doc.getElementById(key);return node?node.innerHTML:undefined}doc=doc||document;node=doc.getElementById(key);if(style===""){if(node){node.parentNode.removeChild(node);return true}return false}if(node){node.innerHTML=style}else{node=doc.createElement("style");node.id=key;node.innerHTML=style;doc.getElementsByTagName("head")[0].appendChild(node)}},sort:function(array,compareFn){compareFn=compareFn||function(item1,item2){return item1.localeCompare(item2)};for(var i=0,len=array.length;i<len;i++){for(var j=i,length=array.length;j<length;j++){if(compareFn(array[i],array[j])>0){var t=array[i];array[i]=array[j];array[j]=t}}}return array},serializeParam:function(json){var strArr=[];for(var i in json){if(i=="method"||i=="timeout"||i=="async"){continue}if(!((typeof json[i]).toLowerCase()=="function"||(typeof json[i]).toLowerCase()=="object")){strArr.push(encodeURIComponent(i)+"="+encodeURIComponent(json[i]))}else{if(utils.isArray(json[i])){for(var j=0;j<json[i].length;j++){strArr.push(encodeURIComponent(i)+"[]="+encodeURIComponent(json[i][j]))}}}}return strArr.join("&")},formatUrl:function(url){var u=url.replace(/&&/g,"&");u=u.replace(/\?&/g,"?");u=u.replace(/&$/g,"");u=u.replace(/&#/g,"#");u=u.replace(/&+/g,"&");return u},isCrossDomainUrl:function(url){var a=document.createElement("a");a.href=url;if(browser.ie){a.href=a.href}return !(a.protocol==location.protocol&&a.hostname==location.hostname&&(a.port==location.port||(a.port=="80"&&location.port=="")||(a.port==""&&location.port=="80")))},clearEmptyAttrs:function(obj){for(var p in obj){if(obj[p]===""){delete obj[p]}}return obj},str2json:function(s){if(!utils.isString(s)){return null}if(window.JSON){return JSON.parse(s)}else{return(new Function("return "+utils.trim(s||"")))()}},json2str:(function(){if(window.JSON){return JSON.stringify}else{var escapeMap={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function encodeString(source){if(/["\\\x00-\x1f]/.test(source)){source=source.replace(/["\\\x00-\x1f]/g,function(match){var c=escapeMap[match];if(c){return c}c=match.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})}return'"'+source+'"'}function encodeArray(source){var result=["["],l=source.length,preComma,i,item;for(i=0;i<l;i++){item=source[i];switch(typeof item){case"undefined":case"function":case"unknown":break;default:if(preComma){result.push(",")}result.push(utils.json2str(item));preComma=1}}result.push("]");return result.join("")}function pad(source){return source<10?"0"+source:source}function encodeDate(source){return'"'+source.getFullYear()+"-"+pad(source.getMonth()+1)+"-"+pad(source.getDate())+"T"+pad(source.getHours())+":"+pad(source.getMinutes())+":"+pad(source.getSeconds())+'"'}return function(value){switch(typeof value){case"undefined":return"undefined";case"number":return isFinite(value)?String(value):"null";case"string":return encodeString(value);case"boolean":return String(value);default:if(value===null){return"null"}else{if(utils.isArray(value)){return encodeArray(value)}else{if(utils.isDate(value)){return encodeDate(value)}else{var result=["{"],encode=utils.json2str,preComma,item;for(var key in value){if(Object.prototype.hasOwnProperty.call(value,key)){item=value[key];switch(typeof item){case"undefined":case"unknown":case"function":break;default:if(preComma){result.push(",")}preComma=1;result.push(encode(key)+":"+encode(item))}}}result.push("}");return result.join("")}}}}}}})()};utils.each(["String","Function","Array","Number","RegExp","Object","Date"],function(v){UE.utils["is"+v]=function(obj){return Object.prototype.toString.apply(obj)=="[object "+v+"]"}});var EventBase=UE.EventBase=function(){};EventBase.prototype={addListener:function(types,listener){types=utils.trim(types).split(/\s+/);for(var i=0,ti;ti=types[i++];){getListener(this,ti,true).push(listener)}},on:function(types,listener){return this.addListener(types,listener)},off:function(types,listener){return this.removeListener(types,listener)},trigger:function(){return this.fireEvent.apply(this,arguments)},removeListener:function(types,listener){types=utils.trim(types).split(/\s+/);for(var i=0,ti;ti=types[i++];){utils.removeItem(getListener(this,ti)||[],listener)}},fireEvent:function(){var types=arguments[0];types=utils.trim(types).split(" ");for(var i=0,ti;ti=types[i++];){var listeners=getListener(this,ti),r,t,k;if(listeners){k=listeners.length;while(k--){if(!listeners[k]){continue}t=listeners[k].apply(this,arguments);if(t===true){return t}if(t!==undefined){r=t}}}if(t=this["on"+ti.toLowerCase()]){r=t.apply(this,arguments)}}return r}};function getListener(obj,type,force){var allListeners;type=type.toLowerCase();return((allListeners=(obj.__allListeners||force&&(obj.__allListeners={})))&&(allListeners[type]||force&&(allListeners[type]=[])))}var dtd=dom.dtd=(function(){function _(s){for(var k in s){s[k.toUpperCase()]=s[k]}return s}var X=utils.extend2;var A=_({isindex:1,fieldset:1}),B=_({input:1,button:1,select:1,textarea:1,label:1}),C=X(_({a:1}),B),D=X({iframe:1},C),E=_({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),F=_({ins:1,del:1,script:1,style:1}),G=X(_({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),F),H=X(_({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),G),I=X(_({p:1}),H),J=X(_({iframe:1}),H,B),K=_({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),L=X(_({a:0}),J),M=_({tr:1}),N=_({"#":1}),O=X(_({param:1}),K),P=X(_({form:1}),A,D,E,I),Q=_({li:1,ol:1,ul:1}),R=_({style:1,script:1}),S=_({base:1,link:1,meta:1,title:1}),T=X(S,R),U=_({head:1,body:1}),V=_({html:1});var block=_({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),empty=_({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return _({$nonBodyContent:X(V,U,S),$block:block,$inline:L,$inlineWithA:X(_({a:1}),L),$body:X(_({script:1,style:1}),block),$cdata:_({script:1,style:1}),$empty:empty,$nonChild:_({iframe:1,textarea:1}),$listItem:_({dd:1,dt:1,li:1}),$list:_({ul:1,ol:1,dl:1}),$isNotEmpty:_({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:_({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1}),$removeEmptyBlock:_({p:1,div:1}),$tableContent:_({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:_({pre:1,script:1,style:1,textarea:1}),html:U,head:T,style:N,script:N,body:P,base:{},link:{},meta:{},title:N,col:{},tr:_({td:1,th:1}),img:{},embed:{},colgroup:_({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:P,td:P,br:{},th:P,center:P,kbd:L,button:X(I,E),basefont:{},h5:L,h4:L,samp:L,h6:L,ol:Q,h1:L,h3:L,option:N,h2:L,form:X(A,D,E,I),select:_({optgroup:1,option:1}),font:L,ins:L,menu:Q,abbr:L,label:L,table:_({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:L,tfoot:M,cite:L,li:P,input:{},iframe:P,strong:L,textarea:N,noframes:P,big:L,small:L,span:_({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:L,dt:L,sub:L,optgroup:_({option:1}),param:{},bdo:L,"var":L,div:P,object:O,sup:L,dd:P,strike:L,area:{},dir:Q,map:X(_({area:1,form:1,p:1}),A,F,E),applet:O,dl:_({dt:1,dd:1}),del:L,isindex:{},fieldset:X(_({legend:1}),K),thead:M,ul:Q,acronym:L,b:L,a:X(_({a:1}),J),blockquote:X(_({td:1,tr:1,tbody:1,li:1}),P),caption:L,i:L,u:L,tbody:M,s:L,address:X(D,I),tt:L,legend:L,q:L,pre:X(G,C),p:X(_({a:1}),L),em:L,dfn:L})})();function getDomNode(node,start,ltr,startFromChild,fn,guard){var tmpNode=startFromChild&&node[start],parent;!tmpNode&&(tmpNode=node[ltr]);while(!tmpNode&&(parent=(parent||node).parentNode)){if(parent.tagName=="BODY"||guard&&!guard(parent)){return null}tmpNode=parent[ltr]}if(tmpNode&&fn&&!fn(tmpNode)){return getDomNode(tmpNode,start,ltr,false,fn)}return tmpNode}var attrFix=ie&&browser.version<9?{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},styleBlock=utils.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]);var domUtils=dom.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:ie&&browser.version=="6"?"\ufeff":"\u200B",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(nodeA,nodeB){if(nodeA===nodeB){return 0}var node,parentsA=[nodeA],parentsB=[nodeB];node=nodeA;while(node=node.parentNode){if(node===nodeB){return 10}parentsA.push(node)}node=nodeB;while(node=node.parentNode){if(node===nodeA){return 20}parentsB.push(node)}parentsA.reverse();parentsB.reverse();if(parentsA[0]!==parentsB[0]){return 1}var i=-1;while(i++,parentsA[i]===parentsB[i]){}nodeA=parentsA[i];nodeB=parentsB[i];while(nodeA=nodeA.nextSibling){if(nodeA===nodeB){return 4}}return 2},getNodeIndex:function(node,ignoreTextNode){var preNode=node,i=0;while(preNode=preNode.previousSibling){if(ignoreTextNode&&preNode.nodeType==3){if(preNode.nodeType!=preNode.nextSibling.nodeType){i++}continue}i++}return i},inDoc:function(node,doc){return domUtils.getPosition(node,doc)==10},findParent:function(node,filterFn,includeSelf){if(node&&!domUtils.isBody(node)){node=includeSelf?node:node.parentNode;while(node){if(!filterFn||filterFn(node)||domUtils.isBody(node)){return filterFn&&!filterFn(node)&&domUtils.isBody(node)?null:node}node=node.parentNode}}return null},findParentByTagName:function(node,tagNames,includeSelf,excludeFn){tagNames=utils.listToMap(utils.isArray(tagNames)?tagNames:[tagNames]);return domUtils.findParent(node,function(node){return tagNames[node.tagName]&&!(excludeFn&&excludeFn(node))},includeSelf)},findParents:function(node,includeSelf,filterFn,closerFirst){var parents=includeSelf&&(filterFn&&filterFn(node)||!filterFn)?[node]:[];while(node=domUtils.findParent(node,filterFn)){parents.push(node)}return closerFirst?parents:parents.reverse()},insertAfter:function(node,newNode){return node.nextSibling?node.parentNode.insertBefore(newNode,node.nextSibling):node.parentNode.appendChild(newNode)},remove:function(node,keepChildren){var parent=node.parentNode,child;if(parent){if(keepChildren&&node.hasChildNodes()){while(child=node.firstChild){parent.insertBefore(child,node)}}parent.removeChild(node)}return node},getNextDomNode:function(node,startFromChild,filterFn,guard){return getDomNode(node,"firstChild","nextSibling",startFromChild,filterFn,guard)},getPreDomNode:function(node,startFromChild,filterFn,guard){return getDomNode(node,"lastChild","previousSibling",startFromChild,filterFn,guard)},isBookmarkNode:function(node){return node.nodeType==1&&node.id&&/^_baidu_bookmark_/i.test(node.id)},getWindow:function(node){var doc=node.ownerDocument||node;return doc.defaultView||doc.parentWindow},getCommonAncestor:function(nodeA,nodeB){if(nodeA===nodeB){return nodeA}var parentsA=[nodeA],parentsB=[nodeB],parent=nodeA,i=-1;while(parent=parent.parentNode){if(parent===nodeB){return parent}parentsA.push(parent)}parent=nodeB;while(parent=parent.parentNode){if(parent===nodeA){return parent}parentsB.push(parent)}parentsA.reverse();parentsB.reverse();while(i++,parentsA[i]===parentsB[i]){}return i==0?null:parentsA[i-1]},clearEmptySibling:function(node,ignoreNext,ignorePre){function clear(next,dir){var tmpNode;while(next&&!domUtils.isBookmarkNode(next)&&(domUtils.isEmptyInlineElement(next)||!new RegExp("[^\t\n\r"+domUtils.fillChar+"]").test(next.nodeValue))){tmpNode=next[dir];domUtils.remove(next);next=tmpNode}}!ignoreNext&&clear(node.nextSibling,"nextSibling");!ignorePre&&clear(node.previousSibling,"previousSibling")},split:function(node,offset){var doc=node.ownerDocument;if(browser.ie&&offset==node.nodeValue.length){var next=doc.createTextNode("");return domUtils.insertAfter(node,next)}var retval=node.splitText(offset);if(browser.ie8){var tmpNode=doc.createTextNode("");domUtils.insertAfter(retval,tmpNode);domUtils.remove(tmpNode)}return retval},isWhitespace:function(node){return !new RegExp("[^ \t\n\r"+domUtils.fillChar+"]").test(node.nodeValue)},getXY:function(element){var x=0,y=0;while(element.offsetParent){y+=element.offsetTop;x+=element.offsetLeft;element=element.offsetParent}return{x:x,y:y}},on:function(element,type,handler){var types=utils.isArray(type)?type:utils.trim(type).split(/\s+/),k=types.length;if(k){while(k--){type=types[k];if(element.addEventListener){element.addEventListener(type,handler,false)}else{if(!handler._d){handler._d={els:[]}}var key=type+handler.toString(),index=utils.indexOf(handler._d.els,element);if(!handler._d[key]||index==-1){if(index==-1){handler._d.els.push(element)}if(!handler._d[key]){handler._d[key]=function(evt){return handler.call(evt.srcElement,evt||window.event)}}element.attachEvent("on"+type,handler._d[key])}}}}element=null},un:function(element,type,handler){var types=utils.isArray(type)?type:utils.trim(type).split(/\s+/),k=types.length;if(k){while(k--){type=types[k];if(element.removeEventListener){element.removeEventListener(type,handler,false)}else{var key=type+handler.toString();try{element.detachEvent("on"+type,handler._d?handler._d[key]:handler)}catch(e){}if(handler._d&&handler._d[key]){var index=utils.indexOf(handler._d.els,element);if(index!=-1){handler._d.els.splice(index,1)}handler._d.els.length==0&&delete handler._d[key]}}}}},isSameElement:function(nodeA,nodeB){if(nodeA.tagName!=nodeB.tagName){return false}var thisAttrs=nodeA.attributes,otherAttrs=nodeB.attributes;if(!ie&&thisAttrs.length!=otherAttrs.length){return false}var attrA,attrB,al=0,bl=0;for(var i=0;attrA=thisAttrs[i++];){if(attrA.nodeName=="style"){if(attrA.specified){al++}if(domUtils.isSameStyle(nodeA,nodeB)){continue}else{return false}}if(ie){if(attrA.specified){al++;attrB=otherAttrs.getNamedItem(attrA.nodeName)}else{continue}}else{attrB=nodeB.attributes[attrA.nodeName]}if(!attrB.specified||attrA.nodeValue!=attrB.nodeValue){return false}}if(ie){for(i=0;attrB=otherAttrs[i++];){if(attrB.specified){bl++}}if(al!=bl){return false}}return true},isSameStyle:function(nodeA,nodeB){var styleA=nodeA.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),styleB=nodeB.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":");if(browser.opera){styleA=nodeA.style;styleB=nodeB.style;if(styleA.length!=styleB.length){return false}for(var p in styleA){if(/^(\d+|csstext)$/i.test(p)){continue}if(styleA[p]!=styleB[p]){return false}}return true}if(!styleA||!styleB){return styleA==styleB}styleA=styleA.split(";");styleB=styleB.split(";");if(styleA.length!=styleB.length){return false}for(var i=0,ci;ci=styleA[i++];){if(utils.indexOf(styleB,ci)==-1){return false}}return true},isBlockElm:function(node){return node.nodeType==1&&(dtd.$block[node.tagName]||styleBlock[domUtils.getComputedStyle(node,"display")])&&!dtd.$nonChild[node.tagName]},isBody:function(node){return node&&node.nodeType==1&&node.tagName.toLowerCase()=="body"},breakParent:function(node,parent){var tmpNode,parentClone=node,clone=node,leftNodes,rightNodes;do{parentClone=parentClone.parentNode;if(leftNodes){tmpNode=parentClone.cloneNode(false);tmpNode.appendChild(leftNodes);leftNodes=tmpNode;tmpNode=parentClone.cloneNode(false);tmpNode.appendChild(rightNodes);rightNodes=tmpNode}else{leftNodes=parentClone.cloneNode(false);rightNodes=leftNodes.cloneNode(false)}while(tmpNode=clone.previousSibling){leftNodes.insertBefore(tmpNode,leftNodes.firstChild)}while(tmpNode=clone.nextSibling){rightNodes.appendChild(tmpNode)}clone=parentClone}while(parent!==parentClone);tmpNode=parent.parentNode;tmpNode.insertBefore(leftNodes,parent);tmpNode.insertBefore(rightNodes,parent);tmpNode.insertBefore(node,rightNodes);domUtils.remove(parent);return node},isEmptyInlineElement:function(node){if(node.nodeType!=1||!dtd.$removeEmpty[node.tagName]){return 0}node=node.firstChild;while(node){if(domUtils.isBookmarkNode(node)){return 0}if(node.nodeType==1&&!domUtils.isEmptyInlineElement(node)||node.nodeType==3&&!domUtils.isWhitespace(node)){return 0}node=node.nextSibling}return 1},trimWhiteTextNode:function(node){function remove(dir){var child;while((child=node[dir])&&child.nodeType==3&&domUtils.isWhitespace(child)){node.removeChild(child)}}remove("firstChild");remove("lastChild")},mergeChild:function(node,tagName,attrs){var list=domUtils.getElementsByTagName(node,node.tagName.toLowerCase());for(var i=0,ci;ci=list[i++];){if(!ci.parentNode||domUtils.isBookmarkNode(ci)){continue}if(ci.tagName.toLowerCase()=="span"){if(node===ci.parentNode){domUtils.trimWhiteTextNode(node);if(node.childNodes.length==1){node.style.cssText=ci.style.cssText+";"+node.style.cssText;domUtils.remove(ci,true);continue}}ci.style.cssText=node.style.cssText+";"+ci.style.cssText;if(attrs){var style=attrs.style;if(style){style=style.split(";");for(var j=0,s;s=style[j++];){ci.style[utils.cssStyleToDomStyle(s.split(":")[0])]=s.split(":")[1]}}}if(domUtils.isSameStyle(ci,node)){domUtils.remove(ci,true)}continue}if(domUtils.isSameElement(node,ci)){domUtils.remove(ci,true)}}},getElementsByTagName:function(node,name,filter){if(filter&&utils.isString(filter)){var className=filter;filter=function(node){return domUtils.hasClass(node,className)}}name=utils.trim(name).replace(/[ ]{2,}/g," ").split(" ");var arr=[];for(var n=0,ni;ni=name[n++];){var list=node.getElementsByTagName(ni);for(var i=0,ci;ci=list[i++];){if(!filter||filter(ci)){arr.push(ci)}}}return arr},mergeToParent:function(node){var parent=node.parentNode;while(parent&&dtd.$removeEmpty[parent.tagName]){if(parent.tagName==node.tagName||parent.tagName=="A"){domUtils.trimWhiteTextNode(parent);if(parent.tagName=="SPAN"&&!domUtils.isSameStyle(parent,node)||(parent.tagName=="A"&&node.tagName=="SPAN")){if(parent.childNodes.length>1||parent!==node.parentNode){node.style.cssText=parent.style.cssText+";"+node.style.cssText;parent=parent.parentNode;continue}else{parent.style.cssText+=";"+node.style.cssText;if(parent.tagName=="A"){parent.style.textDecoration="underline"}}}if(parent.tagName!="A"){parent===node.parentNode&&domUtils.remove(node,true);break}}parent=parent.parentNode}},mergeSibling:function(node,ignorePre,ignoreNext){function merge(rtl,start,node){var next;if((next=node[rtl])&&!domUtils.isBookmarkNode(next)&&next.nodeType==1&&domUtils.isSameElement(node,next)){while(next.firstChild){if(start=="firstChild"){node.insertBefore(next.lastChild,node.firstChild)}else{node.appendChild(next.firstChild)}}domUtils.remove(next)}}!ignorePre&&merge("previousSibling","firstChild",node);!ignoreNext&&merge("nextSibling","lastChild",node)},unSelectable:ie&&browser.ie9below||browser.opera?function(node){node.onselectstart=function(){return false};node.onclick=node.onkeyup=node.onkeydown=function(){return false};node.unselectable="on";node.setAttribute("unselectable","on");for(var i=0,ci;ci=node.all[i++];){switch(ci.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:ci.unselectable="on";node.setAttribute("unselectable","on")}}}:function(node){node.style.MozUserSelect=node.style.webkitUserSelect=node.style.msUserSelect=node.style.KhtmlUserSelect="none"},removeAttributes:function(node,attrNames){attrNames=utils.isArray(attrNames)?attrNames:utils.trim(attrNames).replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci;ci=attrNames[i++];){ci=attrFix[ci]||ci;switch(ci){case"className":node[ci]="";break;case"style":node.style.cssText="";var val=node.getAttributeNode("style");!browser.ie&&val&&node.removeAttributeNode(val)}node.removeAttribute(ci)}},createElement:function(doc,tag,attrs){return domUtils.setAttributes(doc.createElement(tag),attrs)},setAttributes:function(node,attrs){for(var attr in attrs){if(attrs.hasOwnProperty(attr)){var value=attrs[attr];switch(attr){case"class":node.className=value;break;case"style":node.style.cssText=node.style.cssText+";"+value;break;case"innerHTML":node[attr]=value;break;case"value":node.value=value;break;default:node.setAttribute(attrFix[attr]||attr,value)}}}return node},getComputedStyle:function(element,styleName){var pros="width height top left";if(pros.indexOf(styleName)>-1){return element["offset"+styleName.replace(/^\w/,function(s){return s.toUpperCase()})]+"px"}if(element.nodeType==3){element=element.parentNode}if(browser.ie&&browser.version<9&&styleName=="font-size"&&!element.style.fontSize&&!dtd.$empty[element.tagName]&&!dtd.$nonChild[element.tagName]){var span=element.ownerDocument.createElement("span");span.style.cssText="padding:0;border:0;font-family:simsun;";span.innerHTML=".";element.appendChild(span);var result=span.offsetHeight;element.removeChild(span);span=null;return result+"px"}try{var value=domUtils.getStyle(element,styleName)||(window.getComputedStyle?domUtils.getWindow(element).getComputedStyle(element,"").getPropertyValue(styleName):(element.currentStyle||element.style)[utils.cssStyleToDomStyle(styleName)])}catch(e){return""}return utils.transUnitToPx(utils.fixColor(styleName,value))},removeClasses:function(elm,classNames){classNames=utils.isArray(classNames)?classNames:utils.trim(classNames).replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci,cls=elm.className;ci=classNames[i++];){cls=cls.replace(new RegExp("\\b"+ci+"\\b"),"")}cls=utils.trim(cls).replace(/[ ]{2,}/g," ");if(cls){elm.className=cls}else{domUtils.removeAttributes(elm,["class"])}},addClass:function(elm,classNames){if(!elm){return}classNames=utils.trim(classNames).replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci,cls=elm.className;ci=classNames[i++];){if(!new RegExp("\\b"+ci+"\\b").test(cls)){cls+=" "+ci}}elm.className=utils.trim(cls)},hasClass:function(element,className){if(utils.isRegExp(className)){return className.test(element.className)}className=utils.trim(className).replace(/[ ]{2,}/g," ").split(" ");for(var i=0,ci,cls=element.className;ci=className[i++];){if(!new RegExp("\\b"+ci+"\\b","i").test(cls)){return false}}return i-1==className.length},preventDefault:function(evt){evt.preventDefault?evt.preventDefault():(evt.returnValue=false)},removeStyle:function(element,name){if(browser.ie){if(name=="color"){name="(^|;)"+name}element.style.cssText=element.style.cssText.replace(new RegExp(name+"[^:]*:[^;]+;?","ig"),"")}else{if(element.style.removeProperty){element.style.removeProperty(name)}else{element.style.removeAttribute(utils.cssStyleToDomStyle(name))}}if(!element.style.cssText){domUtils.removeAttributes(element,["style"])}},getStyle:function(element,name){var value=element.style[utils.cssStyleToDomStyle(name)];return utils.fixColor(name,value)},setStyle:function(element,name,value){element.style[utils.cssStyleToDomStyle(name)]=value;if(!utils.trim(element.style.cssText)){this.removeAttributes(element,"style")}},setStyles:function(element,styles){for(var name in styles){if(styles.hasOwnProperty(name)){domUtils.setStyle(element,name,styles[name])}}},removeDirtyAttr:function(node){for(var i=0,ci,nodes=node.getElementsByTagName("*");ci=nodes[i++];){ci.removeAttribute("_moz_dirty")}node.removeAttribute("_moz_dirty")},getChildCount:function(node,fn){var count=0,first=node.firstChild;fn=fn||function(){return 1};while(first){if(fn(first)){count++}first=first.nextSibling}return count},isEmptyNode:function(node){return !node.firstChild||domUtils.getChildCount(node,function(node){return !domUtils.isBr(node)&&!domUtils.isBookmarkNode(node)&&!domUtils.isWhitespace(node)})==0},clearSelectedArr:function(nodes){var node;while(node=nodes.pop()){domUtils.removeAttributes(node,["class"])}},scrollToView:function(node,win,offsetTop){var getViewPaneSize=function(){var doc=win.document,mode=doc.compatMode=="CSS1Compat";return{width:(mode?doc.documentElement.clientWidth:doc.body.clientWidth)||0,height:(mode?doc.documentElement.clientHeight:doc.body.clientHeight)||0}},getScrollPosition=function(win){if("pageXOffset" in win){return{x:win.pageXOffset||0,y:win.pageYOffset||0}}else{var doc=win.document;return{x:doc.documentElement.scrollLeft||doc.body.scrollLeft||0,y:doc.documentElement.scrollTop||doc.body.scrollTop||0}}};var winHeight=getViewPaneSize().height,offset=winHeight*-1+offsetTop;offset+=(node.offsetHeight||0);var elementPosition=domUtils.getXY(node);offset+=elementPosition.y;var currentScroll=getScrollPosition(win).y;if(offset>currentScroll||offset<currentScroll-winHeight){win.scrollTo(0,offset+(offset<0?-20:20))}},isBr:function(node){return node.nodeType==1&&node.tagName=="BR"},isFillChar:function(node,isInStart){if(node.nodeType!=3){return false}var text=node.nodeValue;if(isInStart){return new RegExp("^"+domUtils.fillChar).test(text)}return !text.replace(new RegExp(domUtils.fillChar,"g"),"").length},isStartInblock:function(range){var tmpRange=range.cloneRange(),flag=0,start=tmpRange.startContainer,tmp;if(start.nodeType==1&&start.childNodes[tmpRange.startOffset]){start=start.childNodes[tmpRange.startOffset];var pre=start.previousSibling;while(pre&&domUtils.isFillChar(pre)){start=pre;pre=pre.previousSibling}}if(this.isFillChar(start,true)&&tmpRange.startOffset==1){tmpRange.setStartBefore(start);start=tmpRange.startContainer}while(start&&domUtils.isFillChar(start)){tmp=start;start=start.previousSibling}if(tmp){tmpRange.setStartBefore(tmp);start=tmpRange.startContainer}if(start.nodeType==1&&domUtils.isEmptyNode(start)&&tmpRange.startOffset==1){tmpRange.setStart(start,0).collapse(true)}while(!tmpRange.startOffset){start=tmpRange.startContainer;if(domUtils.isBlockElm(start)||domUtils.isBody(start)){flag=1;break}var pre=tmpRange.startContainer.previousSibling,tmpNode;if(!pre){tmpRange.setStartBefore(tmpRange.startContainer)}else{while(pre&&domUtils.isFillChar(pre)){tmpNode=pre;pre=pre.previousSibling}if(tmpNode){tmpRange.setStartBefore(tmpNode)}else{tmpRange.setStartBefore(tmpRange.startContainer)}}}return flag&&!domUtils.isBody(tmpRange.startContainer)?1:0},isEmptyBlock:function(node,reg){if(node.nodeType!=1){return 0}reg=reg||new RegExp("[ \xa0\t\r\n"+domUtils.fillChar+"]","g");if(node[browser.ie?"innerText":"textContent"].replace(reg,"").length>0){return 0}for(var n in dtd.$isNotEmpty){if(node.getElementsByTagName(n).length){return 0}}return 1},setViewportOffset:function(element,offset){var left=parseInt(element.style.left)|0;var top=parseInt(element.style.top)|0;var rect=element.getBoundingClientRect();var offsetLeft=offset.left-rect.left;var offsetTop=offset.top-rect.top;if(offsetLeft){element.style.left=left+offsetLeft+"px"}if(offsetTop){element.style.top=top+offsetTop+"px"}},fillNode:function(doc,node){var tmpNode=browser.ie?doc.createTextNode(domUtils.fillChar):doc.createElement("br");node.innerHTML="";node.appendChild(tmpNode)},moveChild:function(src,tag,dir){while(src.firstChild){if(dir&&tag.firstChild){tag.insertBefore(src.lastChild,tag.firstChild)}else{tag.appendChild(src.firstChild)}}},hasNoAttributes:function(node){return browser.ie?/^<\w+\s*?>/.test(node.outerHTML):node.attributes.length==0},isCustomeNode:function(node){return node.nodeType==1&&node.getAttribute("_ue_custom_node_")},isTagNode:function(node,tagNames){return node.nodeType==1&&new RegExp("\\b"+node.tagName+"\\b","i").test(tagNames)},filterNodeList:function(nodelist,filter,forAll){var results=[];if(!utils.isFunction(filter)){var str=filter;filter=function(n){return utils.indexOf(utils.isArray(str)?str:str.split(" "),n.tagName.toLowerCase())!=-1}}utils.each(nodelist,function(n){filter(n)&&results.push(n)});return results.length==0?null:results.length==1||!forAll?results[0]:results},isInNodeEndBoundary:function(rng,node){var start=rng.startContainer;if(start.nodeType==3&&rng.startOffset!=start.nodeValue.length){return 0}if(start.nodeType==1&&rng.startOffset!=start.childNodes.length){return 0}while(start!==node){if(start.nextSibling){return 0}start=start.parentNode}return 1},isBoundaryNode:function(node,dir){var tmp;while(!domUtils.isBody(node)){tmp=node;node=node.parentNode;if(tmp!==node[dir]){return false}}return true},fillHtml:browser.ie11below?"&nbsp;":"<br/>"};var fillCharReg=new RegExp(domUtils.fillChar,"g");(function(){var guid=0,fillChar=domUtils.fillChar,fillData;function updateCollapse(range){range.collapsed=range.startContainer&&range.endContainer&&range.startContainer===range.endContainer&&range.startOffset==range.endOffset}function selectOneNode(rng){return !rng.collapsed&&rng.startContainer.nodeType==1&&rng.startContainer===rng.endContainer&&rng.endOffset-rng.startOffset==1}function setEndPoint(toStart,node,offset,range){if(node.nodeType==1&&(dtd.$empty[node.tagName]||dtd.$nonChild[node.tagName])){offset=domUtils.getNodeIndex(node)+(toStart?0:1);node=node.parentNode}if(toStart){range.startContainer=node;range.startOffset=offset;if(!range.endContainer){range.collapse(true)}}else{range.endContainer=node;range.endOffset=offset;if(!range.startContainer){range.collapse(false)}}updateCollapse(range);return range}function execContentsAction(range,action){var start=range.startContainer,end=range.endContainer,startOffset=range.startOffset,endOffset=range.endOffset,doc=range.document,frag=doc.createDocumentFragment(),tmpStart,tmpEnd;if(start.nodeType==1){start=start.childNodes[startOffset]||(tmpStart=start.appendChild(doc.createTextNode("")))}if(end.nodeType==1){end=end.childNodes[endOffset]||(tmpEnd=end.appendChild(doc.createTextNode("")))}if(start===end&&start.nodeType==3){frag.appendChild(doc.createTextNode(start.substringData(startOffset,endOffset-startOffset)));if(action){start.deleteData(startOffset,endOffset-startOffset);range.collapse(true)}return frag}var current,currentLevel,clone=frag,startParents=domUtils.findParents(start,true),endParents=domUtils.findParents(end,true);for(var i=0;startParents[i]==endParents[i];){i++}for(var j=i,si;si=startParents[j];j++){current=si.nextSibling;if(si==start){if(!tmpStart){if(range.startContainer.nodeType==3){clone.appendChild(doc.createTextNode(start.nodeValue.slice(startOffset)));if(action){start.deleteData(startOffset,start.nodeValue.length-startOffset)}}else{clone.appendChild(!action?start.cloneNode(true):start)}}}else{currentLevel=si.cloneNode(false);clone.appendChild(currentLevel)}while(current){if(current===end||current===endParents[j]){break}si=current.nextSibling;clone.appendChild(!action?current.cloneNode(true):current);current=si}clone=currentLevel}clone=frag;if(!startParents[i]){clone.appendChild(startParents[i-1].cloneNode(false));clone=clone.firstChild}for(var j=i,ei;ei=endParents[j];j++){current=ei.previousSibling;if(ei==end){if(!tmpEnd&&range.endContainer.nodeType==3){clone.appendChild(doc.createTextNode(end.substringData(0,endOffset)));if(action){end.deleteData(0,endOffset)}}}else{currentLevel=ei.cloneNode(false);clone.appendChild(currentLevel)}if(j!=i||!startParents[i]){while(current){if(current===start){break}ei=current.previousSibling;clone.insertBefore(!action?current.cloneNode(true):current,clone.firstChild);current=ei}}clone=currentLevel}if(action){range.setStartBefore(!endParents[i]?endParents[i-1]:!startParents[i]?startParents[i-1]:endParents[i]).collapse(true)}tmpStart&&domUtils.remove(tmpStart);tmpEnd&&domUtils.remove(tmpEnd);return frag}var Range=dom.Range=function(document){var me=this;me.startContainer=me.startOffset=me.endContainer=me.endOffset=null;me.document=document;me.collapsed=true};function removeFillData(doc,excludeNode){try{if(fillData&&domUtils.inDoc(fillData,doc)){if(!fillData.nodeValue.replace(fillCharReg,"").length){var tmpNode=fillData.parentNode;domUtils.remove(fillData);while(tmpNode&&domUtils.isEmptyInlineElement(tmpNode)&&(browser.safari?!(domUtils.getPosition(tmpNode,excludeNode)&domUtils.POSITION_CONTAINS):!tmpNode.contains(excludeNode))){fillData=tmpNode.parentNode;domUtils.remove(tmpNode);tmpNode=fillData}}else{fillData.nodeValue=fillData.nodeValue.replace(fillCharReg,"")}}}catch(e){}}function mergeSibling(node,dir){var tmpNode;node=node[dir];while(node&&domUtils.isFillChar(node)){tmpNode=node[dir];domUtils.remove(node);node=tmpNode}}Range.prototype={cloneContents:function(){return this.collapsed?null:execContentsAction(this,0)},deleteContents:function(){var txt;if(!this.collapsed){execContentsAction(this,1)}if(browser.webkit){txt=this.startContainer;if(txt.nodeType==3&&!txt.nodeValue.length){this.setStartBefore(txt).collapse(true);domUtils.remove(txt)}}return this},extractContents:function(){return this.collapsed?null:execContentsAction(this,2)},setStart:function(node,offset){return setEndPoint(true,node,offset,this)},setEnd:function(node,offset){return setEndPoint(false,node,offset,this)},setStartAfter:function(node){return this.setStart(node.parentNode,domUtils.getNodeIndex(node)+1)},setStartBefore:function(node){return this.setStart(node.parentNode,domUtils.getNodeIndex(node))},setEndAfter:function(node){return this.setEnd(node.parentNode,domUtils.getNodeIndex(node)+1)},setEndBefore:function(node){return this.setEnd(node.parentNode,domUtils.getNodeIndex(node))},setStartAtFirst:function(node){return this.setStart(node,0)},setStartAtLast:function(node){return this.setStart(node,node.nodeType==3?node.nodeValue.length:node.childNodes.length)},setEndAtFirst:function(node){return this.setEnd(node,0)},setEndAtLast:function(node){return this.setEnd(node,node.nodeType==3?node.nodeValue.length:node.childNodes.length)},selectNode:function(node){return this.setStartBefore(node).setEndAfter(node)},selectNodeContents:function(node){return this.setStart(node,0).setEndAtLast(node)},cloneRange:function(){var me=this;return new Range(me.document).setStart(me.startContainer,me.startOffset).setEnd(me.endContainer,me.endOffset)},collapse:function(toStart){var me=this;if(toStart){me.endContainer=me.startContainer;me.endOffset=me.startOffset}else{me.startContainer=me.endContainer;me.startOffset=me.endOffset}me.collapsed=true;return me},shrinkBoundary:function(ignoreEnd){var me=this,child,collapsed=me.collapsed;function check(node){return node.nodeType==1&&!domUtils.isBookmarkNode(node)&&!dtd.$empty[node.tagName]&&!dtd.$nonChild[node.tagName]}while(me.startContainer.nodeType==1&&(child=me.startContainer.childNodes[me.startOffset])&&check(child)){me.setStart(child,0)}if(collapsed){return me.collapse(true)}if(!ignoreEnd){while(me.endContainer.nodeType==1&&me.endOffset>0&&(child=me.endContainer.childNodes[me.endOffset-1])&&check(child)){me.setEnd(child,child.childNodes.length)}}return me},getCommonAncestor:function(includeSelf,ignoreTextNode){var me=this,start=me.startContainer,end=me.endContainer;if(start===end){if(includeSelf&&selectOneNode(this)){start=start.childNodes[me.startOffset];if(start.nodeType==1){return start}}return ignoreTextNode&&start.nodeType==3?start.parentNode:start}return domUtils.getCommonAncestor(start,end)},trimBoundary:function(ignoreEnd){this.txtToElmBoundary();var start=this.startContainer,offset=this.startOffset,collapsed=this.collapsed,end=this.endContainer;if(start.nodeType==3){if(offset==0){this.setStartBefore(start)}else{if(offset>=start.nodeValue.length){this.setStartAfter(start)}else{var textNode=domUtils.split(start,offset);if(start===end){this.setEnd(textNode,this.endOffset-offset)}else{if(start.parentNode===end){this.endOffset+=1}}this.setStartBefore(textNode)}}if(collapsed){return this.collapse(true)}}if(!ignoreEnd){offset=this.endOffset;end=this.endContainer;if(end.nodeType==3){if(offset==0){this.setEndBefore(end)}else{offset<end.nodeValue.length&&domUtils.split(end,offset);this.setEndAfter(end)}}}return this},txtToElmBoundary:function(ignoreCollapsed){function adjust(r,c){var container=r[c+"Container"],offset=r[c+"Offset"];if(container.nodeType==3){if(!offset){r["set"+c.replace(/(\w)/,function(a){return a.toUpperCase()})+"Before"](container)}else{if(offset>=container.nodeValue.length){r["set"+c.replace(/(\w)/,function(a){return a.toUpperCase()})+"After"](container)}}}}if(ignoreCollapsed||!this.collapsed){adjust(this,"start");adjust(this,"end")}return this},insertNode:function(node){var first=node,length=1;if(node.nodeType==11){first=node.firstChild;length=node.childNodes.length}this.trimBoundary(true);var start=this.startContainer,offset=this.startOffset;var nextNode=start.childNodes[offset];if(nextNode){start.insertBefore(node,nextNode)}else{start.appendChild(node)}if(first.parentNode===this.endContainer){this.endOffset=this.endOffset+length}return this.setStartBefore(first)},setCursor:function(toEnd,noFillData){return this.collapse(!toEnd).select(noFillData)},createBookmark:function(serialize,same){var endNode,startNode=this.document.createElement("span");startNode.style.cssText="display:none;line-height:0px;";startNode.appendChild(this.document.createTextNode("\u200D"));startNode.id="_baidu_bookmark_start_"+(same?"":guid++);if(!this.collapsed){endNode=startNode.cloneNode(true);endNode.id="_baidu_bookmark_end_"+(same?"":guid++)}this.insertNode(startNode);if(endNode){this.collapse().insertNode(endNode).setEndBefore(endNode)}this.setStartAfter(startNode);return{start:serialize?startNode.id:startNode,end:endNode?serialize?endNode.id:endNode:null,id:serialize}},moveToBookmark:function(bookmark){var start=bookmark.id?this.document.getElementById(bookmark.start):bookmark.start,end=bookmark.end&&bookmark.id?this.document.getElementById(bookmark.end):bookmark.end;this.setStartBefore(start);domUtils.remove(start);if(end){this.setEndBefore(end);domUtils.remove(end)}else{this.collapse(true)}return this},enlarge:function(toBlock,stopFn){var isBody=domUtils.isBody,pre,node,tmp=this.document.createTextNode("");if(toBlock){node=this.startContainer;if(node.nodeType==1){if(node.childNodes[this.startOffset]){pre=node=node.childNodes[this.startOffset]}else{node.appendChild(tmp);pre=node=tmp}}else{pre=node}while(1){if(domUtils.isBlockElm(node)){node=pre;while((pre=node.previousSibling)&&!domUtils.isBlockElm(pre)){node=pre}this.setStartBefore(node);break}pre=node;node=node.parentNode}node=this.endContainer;if(node.nodeType==1){if(pre=node.childNodes[this.endOffset]){node.insertBefore(tmp,pre)}else{node.appendChild(tmp)}pre=node=tmp}else{pre=node}while(1){if(domUtils.isBlockElm(node)){node=pre;while((pre=node.nextSibling)&&!domUtils.isBlockElm(pre)){node=pre}this.setEndAfter(node);break}pre=node;node=node.parentNode}if(tmp.parentNode===this.endContainer){this.endOffset--}domUtils.remove(tmp)}if(!this.collapsed){while(this.startOffset==0){if(stopFn&&stopFn(this.startContainer)){break}if(isBody(this.startContainer)){break}this.setStartBefore(this.startContainer)}while(this.endOffset==(this.endContainer.nodeType==1?this.endContainer.childNodes.length:this.endContainer.nodeValue.length)){if(stopFn&&stopFn(this.endContainer)){break}if(isBody(this.endContainer)){break}this.setEndAfter(this.endContainer)}}return this},enlargeToBlockElm:function(ignoreEnd){while(!domUtils.isBlockElm(this.startContainer)){this.setStartBefore(this.startContainer)}if(!ignoreEnd){while(!domUtils.isBlockElm(this.endContainer)){this.setEndAfter(this.endContainer)}}return this},adjustmentBoundary:function(){if(!this.collapsed){while(!domUtils.isBody(this.startContainer)&&this.startOffset==this.startContainer[this.startContainer.nodeType==3?"nodeValue":"childNodes"].length&&this.startContainer[this.startContainer.nodeType==3?"nodeValue":"childNodes"].length){this.setStartAfter(this.startContainer)}while(!domUtils.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[this.endContainer.nodeType==3?"nodeValue":"childNodes"].length){this.setEndBefore(this.endContainer)}}return this},applyInlineStyle:function(tagName,attrs,list){if(this.collapsed){return this}this.trimBoundary().enlarge(false,function(node){return node.nodeType==1&&domUtils.isBlockElm(node)}).adjustmentBoundary();var bookmark=this.createBookmark(),end=bookmark.end,filterFn=function(node){return node.nodeType==1?node.tagName.toLowerCase()!="br":!domUtils.isWhitespace(node)},current=domUtils.getNextDomNode(bookmark.start,false,filterFn),node,pre,range=this.cloneRange();while(current&&(domUtils.getPosition(current,end)&domUtils.POSITION_PRECEDING)){if(current.nodeType==3||dtd[tagName][current.tagName]){range.setStartBefore(current);node=current;while(node&&(node.nodeType==3||dtd[tagName][node.tagName])&&node!==end){pre=node;node=domUtils.getNextDomNode(node,node.nodeType==1,null,function(parent){return dtd[tagName][parent.tagName]})}var frag=range.setEndAfter(pre).extractContents(),elm;if(list&&list.length>0){var level,top;top=level=list[0].cloneNode(false);for(var i=1,ci;ci=list[i++];){level.appendChild(ci.cloneNode(false));level=level.firstChild}elm=level}else{elm=range.document.createElement(tagName)}if(attrs){domUtils.setAttributes(elm,attrs)}elm.appendChild(frag);range.insertNode(list?top:elm);var aNode;if(tagName=="span"&&attrs.style&&/text\-decoration/.test(attrs.style)&&(aNode=domUtils.findParentByTagName(elm,"a",true))){domUtils.setAttributes(aNode,attrs);domUtils.remove(elm,true);elm=aNode}else{domUtils.mergeSibling(elm);domUtils.clearEmptySibling(elm)}domUtils.mergeChild(elm,attrs);current=domUtils.getNextDomNode(elm,false,filterFn);domUtils.mergeToParent(elm);if(node===end){break}}else{current=domUtils.getNextDomNode(current,true,filterFn)}}return this.moveToBookmark(bookmark)},removeInlineStyle:function(tagNames){if(this.collapsed){return this}tagNames=utils.isArray(tagNames)?tagNames:[tagNames];this.shrinkBoundary().adjustmentBoundary();var start=this.startContainer,end=this.endContainer;while(1){if(start.nodeType==1){if(utils.indexOf(tagNames,start.tagName.toLowerCase())>-1){break}if(start.tagName.toLowerCase()=="body"){start=null;break}}start=start.parentNode}while(1){if(end.nodeType==1){if(utils.indexOf(tagNames,end.tagName.toLowerCase())>-1){break}if(end.tagName.toLowerCase()=="body"){end=null;break}}end=end.parentNode}var bookmark=this.createBookmark(),frag,tmpRange;if(start){tmpRange=this.cloneRange().setEndBefore(bookmark.start).setStartBefore(start);frag=tmpRange.extractContents();tmpRange.insertNode(frag);domUtils.clearEmptySibling(start,true);start.parentNode.insertBefore(bookmark.start,start)}if(end){tmpRange=this.cloneRange().setStartAfter(bookmark.end).setEndAfter(end);frag=tmpRange.extractContents();tmpRange.insertNode(frag);domUtils.clearEmptySibling(end,false,true);end.parentNode.insertBefore(bookmark.end,end.nextSibling)}var current=domUtils.getNextDomNode(bookmark.start,false,function(node){return node.nodeType==1}),next;while(current&&current!==bookmark.end){next=domUtils.getNextDomNode(current,true,function(node){return node.nodeType==1});if(utils.indexOf(tagNames,current.tagName.toLowerCase())>-1){domUtils.remove(current,true)}current=next}return this.moveToBookmark(bookmark)},getClosedNode:function(){var node;if(!this.collapsed){var range=this.cloneRange().adjustmentBoundary().shrinkBoundary();if(selectOneNode(range)){var child=range.startContainer.childNodes[range.startOffset];if(child&&child.nodeType==1&&(dtd.$empty[child.tagName]||dtd.$nonChild[child.tagName])){node=child}}}return node},select:browser.ie?function(noFillData,textRange){var nativeRange;if(!this.collapsed){this.shrinkBoundary()}var node=this.getClosedNode();if(node&&!textRange){try{nativeRange=this.document.body.createControlRange();nativeRange.addElement(node);nativeRange.select()}catch(e){}return this}var bookmark=this.createBookmark(),start=bookmark.start,end;nativeRange=this.document.body.createTextRange();nativeRange.moveToElementText(start);nativeRange.moveStart("character",1);if(!this.collapsed){var nativeRangeEnd=this.document.body.createTextRange();end=bookmark.end;nativeRangeEnd.moveToElementText(end);nativeRange.setEndPoint("EndToEnd",nativeRangeEnd)}else{if(!noFillData&&this.startContainer.nodeType!=3){var tmpText=this.document.createTextNode(fillChar),tmp=this.document.createElement("span");tmp.appendChild(this.document.createTextNode(fillChar));start.parentNode.insertBefore(tmp,start);start.parentNode.insertBefore(tmpText,start);removeFillData(this.document,tmpText);fillData=tmpText;mergeSibling(tmp,"previousSibling");mergeSibling(start,"nextSibling");nativeRange.moveStart("character",-1);nativeRange.collapse(true)}}this.moveToBookmark(bookmark);tmp&&domUtils.remove(tmp);try{nativeRange.select()}catch(e){}return this}:function(notInsertFillData){function checkOffset(rng){function check(node,offset,dir){if(node.nodeType==3&&node.nodeValue.length<offset){rng[dir+"Offset"]=node.nodeValue.length}}check(rng.startContainer,rng.startOffset,"start");check(rng.endContainer,rng.endOffset,"end")}var win=domUtils.getWindow(this.document),sel=win.getSelection(),txtNode;browser.gecko?this.document.body.focus():win.focus();if(sel){sel.removeAllRanges();if(this.collapsed&&!notInsertFillData){var start=this.startContainer,child=start;if(start.nodeType==1){child=start.childNodes[this.startOffset]}if(!(start.nodeType==3&&this.startOffset)&&(child?(!child.previousSibling||child.previousSibling.nodeType!=3):(!start.lastChild||start.lastChild.nodeType!=3))){txtNode=this.document.createTextNode(fillChar);this.insertNode(txtNode);removeFillData(this.document,txtNode);mergeSibling(txtNode,"previousSibling");mergeSibling(txtNode,"nextSibling");fillData=txtNode;this.setStart(txtNode,browser.webkit?1:0).collapse(true)}}var nativeRange=this.document.createRange();if(this.collapsed&&browser.opera&&this.startContainer.nodeType==1){var child=this.startContainer.childNodes[this.startOffset];if(!child){child=this.startContainer.lastChild;if(child&&domUtils.isBr(child)){this.setStartBefore(child).collapse(true)}}else{while(child&&domUtils.isBlockElm(child)){if(child.nodeType==1&&child.childNodes[0]){child=child.childNodes[0]}else{break}}child&&this.setStartBefore(child).collapse(true)}}checkOffset(this);nativeRange.setStart(this.startContainer,this.startOffset);nativeRange.setEnd(this.endContainer,this.endOffset);sel.addRange(nativeRange)}return this},scrollToView:function(win,offset){win=win?window:domUtils.getWindow(this.document);var me=this,span=me.document.createElement("span");span.innerHTML="&nbsp;";me.cloneRange().insertNode(span);domUtils.scrollToView(span,win,offset);domUtils.remove(span);return me},inFillChar:function(){var start=this.startContainer;if(this.collapsed&&start.nodeType==3&&start.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"").length+1==start.nodeValue.length){return true}return false},createAddress:function(ignoreEnd,ignoreTxt){var addr={},me=this;function getAddress(isStart){var node=isStart?me.startContainer:me.endContainer;var parents=domUtils.findParents(node,true,function(node){return !domUtils.isBody(node)}),addrs=[];for(var i=0,ci;ci=parents[i++];){addrs.push(domUtils.getNodeIndex(ci,ignoreTxt))}var firstIndex=0;if(ignoreTxt){if(node.nodeType==3){var tmpNode=node.previousSibling;while(tmpNode&&tmpNode.nodeType==3){firstIndex+=tmpNode.nodeValue.replace(fillCharReg,"").length;tmpNode=tmpNode.previousSibling}firstIndex+=(isStart?me.startOffset:me.endOffset)}else{node=node.childNodes[isStart?me.startOffset:me.endOffset];if(node){firstIndex=domUtils.getNodeIndex(node,ignoreTxt)}else{node=isStart?me.startContainer:me.endContainer;var first=node.firstChild;while(first){if(domUtils.isFillChar(first)){first=first.nextSibling;continue}firstIndex++;if(first.nodeType==3){while(first&&first.nodeType==3){first=first.nextSibling}}else{first=first.nextSibling}}}}}else{firstIndex=isStart?domUtils.isFillChar(node)?0:me.startOffset:me.endOffset}if(firstIndex<0){firstIndex=0}addrs.push(firstIndex);return addrs}addr.startAddress=getAddress(true);if(!ignoreEnd){addr.endAddress=me.collapsed?[].concat(addr.startAddress):getAddress()}return addr},moveToAddress:function(addr,ignoreEnd){var me=this;function getNode(address,isStart){var tmpNode=me.document.body,parentNode,offset;for(var i=0,ci,l=address.length;i<l;i++){ci=address[i];parentNode=tmpNode;tmpNode=tmpNode.childNodes[ci];if(!tmpNode){offset=ci;break}}if(isStart){if(tmpNode){me.setStartBefore(tmpNode)}else{me.setStart(parentNode,offset)}}else{if(tmpNode){me.setEndBefore(tmpNode)}else{me.setEnd(parentNode,offset)}}}getNode(addr.startAddress,true);!ignoreEnd&&addr.endAddress&&getNode(addr.endAddress);return me},equals:function(rng){for(var p in this){if(this.hasOwnProperty(p)){if(this[p]!==rng[p]){return false}}}return true},traversal:function(doFn,filterFn){if(this.collapsed){return this}var bookmark=this.createBookmark(),end=bookmark.end,current=domUtils.getNextDomNode(bookmark.start,false,filterFn);while(current&&current!==end&&(domUtils.getPosition(current,end)&domUtils.POSITION_PRECEDING)){var tmpNode=domUtils.getNextDomNode(current,false,filterFn);doFn(current);current=tmpNode}return this.moveToBookmark(bookmark)}}})();(function(){function getBoundaryInformation(range,start){var getIndex=domUtils.getNodeIndex;range=range.duplicate();range.collapse(start);var parent=range.parentElement();if(!parent.hasChildNodes()){return{container:parent,offset:0}}var siblings=parent.children,child,testRange=range.duplicate(),startIndex=0,endIndex=siblings.length-1,index=-1,distance;while(startIndex<=endIndex){index=Math.floor((startIndex+endIndex)/2);child=siblings[index];testRange.moveToElementText(child);var position=testRange.compareEndPoints("StartToStart",range);if(position>0){endIndex=index-1}else{if(position<0){startIndex=index+1}else{return{container:parent,offset:getIndex(child)}}}}if(index==-1){testRange.moveToElementText(parent);testRange.setEndPoint("StartToStart",range);distance=testRange.text.replace(/(\r\n|\r)/g,"\n").length;siblings=parent.childNodes;if(!distance){child=siblings[siblings.length-1];return{container:child,offset:child.nodeValue.length}}var i=siblings.length;while(distance>0){distance-=siblings[--i].nodeValue.length}return{container:siblings[i],offset:-distance}}testRange.collapse(position>0);testRange.setEndPoint(position>0?"StartToStart":"EndToStart",range);distance=testRange.text.replace(/(\r\n|\r)/g,"\n").length;if(!distance){return dtd.$empty[child.tagName]||dtd.$nonChild[child.tagName]?{container:parent,offset:getIndex(child)+(position>0?0:1)}:{container:child,offset:position>0?0:child.childNodes.length}}while(distance>0){try{var pre=child;child=child[position>0?"previousSibling":"nextSibling"];distance-=child.nodeValue.length}catch(e){return{container:parent,offset:getIndex(pre)}}}return{container:child,offset:position>0?-distance:child.nodeValue.length+distance}}function transformIERangeToRange(ieRange,range){if(ieRange.item){range.selectNode(ieRange.item(0))}else{var bi=getBoundaryInformation(ieRange,true);range.setStart(bi.container,bi.offset);if(ieRange.compareEndPoints("StartToEnd",ieRange)!=0){bi=getBoundaryInformation(ieRange,false);range.setEnd(bi.container,bi.offset)}}return range}function _getIERange(sel){var ieRange;try{ieRange=sel.getNative().createRange()}catch(e){return null}var el=ieRange.item?ieRange.item(0):ieRange.parentElement();if((el.ownerDocument||el)===sel.document){return ieRange}return null}var Selection=dom.Selection=function(doc){var me=this,iframe;me.document=doc;if(browser.ie9below){iframe=domUtils.getWindow(doc).frameElement;domUtils.on(iframe,"beforedeactivate",function(){me._bakIERange=me.getIERange()});domUtils.on(iframe,"activate",function(){try{if(!_getIERange(me)&&me._bakIERange){me._bakIERange.select()}}catch(ex){}me._bakIERange=null})}iframe=doc=null};Selection.prototype={rangeInBody:function(rng,txtRange){var node=browser.ie9below||txtRange?rng.item?rng.item():rng.parentElement():rng.startContainer;return node===this.document.body||domUtils.inDoc(node,this.document)},getNative:function(){var doc=this.document;try{return !doc?null:browser.ie9below?doc.selection:domUtils.getWindow(doc).getSelection()}catch(e){return null}},getIERange:function(){var ieRange=_getIERange(this);if(!ieRange){if(this._bakIERange){return this._bakIERange}}return ieRange},cache:function(){this.clear();this._cachedRange=this.getRange();this._cachedStartElement=this.getStart();this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath){return this._cachedStartElementPath}var start=this.getStart();if(start){return domUtils.findParents(start,true,null,true)}return[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){try{if(browser.ie9below){var nativeRange=_getIERange(this);return !!(nativeRange&&this.rangeInBody(nativeRange))}else{return !!this.getNative().rangeCount}}catch(e){return false}},getRange:function(){var me=this;function optimze(range){var child=me.document.body.firstChild,collapsed=range.collapsed;while(child&&child.firstChild){range.setStart(child,0);child=child.firstChild}if(!range.startContainer){range.setStart(me.document.body,0)}if(collapsed){range.collapse(true)}}if(me._cachedRange!=null){return this._cachedRange}var range=new baidu.editor.dom.Range(me.document);if(browser.ie9below){var nativeRange=me.getIERange();if(nativeRange){try{transformIERangeToRange(nativeRange,range)}catch(e){optimze(range)}}else{optimze(range)}}else{var sel=me.getNative();if(sel&&sel.rangeCount){var firstRange=sel.getRangeAt(0);var lastRange=sel.getRangeAt(sel.rangeCount-1);range.setStart(firstRange.startContainer,firstRange.startOffset).setEnd(lastRange.endContainer,lastRange.endOffset);if(range.collapsed&&domUtils.isBody(range.startContainer)&&!range.startOffset){optimze(range)}}else{if(this._bakRange&&domUtils.inDoc(this._bakRange.startContainer,this.document)){return this._bakRange}optimze(range)}}return this._bakRange=range},getStart:function(){if(this._cachedStartElement){return this._cachedStartElement}var range=browser.ie9below?this.getIERange():this.getRange(),tmpRange,start,tmp,parent;if(browser.ie9below){if(!range){return this.document.body.firstChild}if(range.item){return range.item(0)}tmpRange=range.duplicate();tmpRange.text.length>0&&tmpRange.moveStart("character",1);tmpRange.collapse(1);start=tmpRange.parentElement();parent=tmp=range.parentElement();while(tmp=tmp.parentNode){if(tmp==start){start=parent;break}}}else{range.shrinkBoundary();start=range.startContainer;if(start.nodeType==1&&start.hasChildNodes()){start=start.childNodes[Math.min(start.childNodes.length-1,range.startOffset)]}if(start.nodeType==3){return start.parentNode}}return start},getText:function(){var nativeSel,nativeRange;if(this.isFocus()&&(nativeSel=this.getNative())){nativeRange=browser.ie9below?nativeSel.createRange():nativeSel.getRangeAt(0);return browser.ie9below?nativeRange.text:nativeRange.toString()}return""},clearRange:function(){this.getNative()[browser.ie9below?"empty":"removeAllRanges"]()}}})();(function(){var uid=0,_selectionChangeTimer;function setValue(form,editor){var textarea;if(editor.textarea){if(utils.isString(editor.textarea)){for(var i=0,ti,tis=domUtils.getElementsByTagName(form,"textarea");ti=tis[i++];){if(ti.id=="ueditor_textarea_"+editor.options.textarea){textarea=ti;break}}}else{textarea=editor.textarea}}if(!textarea){form.appendChild(textarea=domUtils.createElement(document,"textarea",{name:editor.options.textarea,id:"ueditor_textarea_"+editor.options.textarea,style:"display:none"}));editor.textarea=textarea}!textarea.getAttribute("name")&&textarea.setAttribute("name",editor.options.textarea);textarea.value=editor.hasContents()?(editor.options.allHtmlEnabled?editor.getAllHtml():editor.getContent(null,null,true)):""}function loadPlugins(me){for(var pi in UE.plugins){UE.plugins[pi].call(me)}}function checkCurLang(I18N){for(var lang in I18N){return lang}}function langReadied(me){me.langIsReady=true;me.fireEvent("langReady")}var Editor=UE.Editor=function(options){var me=this;me.uid=uid++;EventBase.call(me);me.commands={};me.options=utils.extend(utils.clone(options||{}),UEDITOR_CONFIG,true);me.shortcutkeys={};me.inputRules=[];me.outputRules=[];me.setOpt(Editor.defaultOptions(me));me.loadServerConfig();if(!utils.isEmptyObject(UE.I18N)){me.options.lang=checkCurLang(UE.I18N);UE.plugin.load(me);langReadied(me)}else{utils.loadFile(document,{src:me.options.langPath+me.options.lang+"/"+me.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){UE.plugin.load(me);langReadied(me)})}UE.instants["ueditorInstant"+me.uid]=me};Editor.prototype={registerCommand:function(name,obj){this.commands[name]=obj},ready:function(fn){var me=this;if(fn){me.isReady?fn.apply(me):me.addListener("ready",fn)}},setOpt:function(key,val){var obj={};if(utils.isString(key)){obj[key]=val}else{obj=key}utils.extend(this.options,obj,true)},getOpt:function(key){return this.options[key]},destroy:function(){var me=this;me.fireEvent("destroy");var container=me.container.parentNode;var textarea=me.textarea;if(!textarea){textarea=document.createElement("textarea");container.parentNode.insertBefore(textarea,container)}else{textarea.style.display=""}textarea.style.width=me.iframe.offsetWidth+"px";textarea.style.height=me.iframe.offsetHeight+"px";textarea.value=me.getContent();textarea.id=me.key;container.innerHTML="";domUtils.remove(container);var key=me.key;for(var p in me){if(me.hasOwnProperty(p)){delete this[p]}}UE.delEditor(key)},render:function(container){var me=this,options=me.options,getStyleValue=function(attr){return parseInt(domUtils.getComputedStyle(container,attr))};if(utils.isString(container)){container=document.getElementById(container)}if(container){if(options.initialFrameWidth){options.minFrameWidth=options.initialFrameWidth}else{options.minFrameWidth=options.initialFrameWidth=container.offsetWidth}if(options.initialFrameHeight){options.minFrameHeight=options.initialFrameHeight}else{options.initialFrameHeight=options.minFrameHeight=container.offsetHeight}container.style.width=/%$/.test(options.initialFrameWidth)?"100%":options.initialFrameWidth-getStyleValue("padding-left")-getStyleValue("padding-right")+"px";container.style.height=/%$/.test(options.initialFrameHeight)?"100%":options.initialFrameHeight-getStyleValue("padding-top")-getStyleValue("padding-bottom")+"px";container.style.zIndex=options.zIndex;var html=(ie&&browser.version<9?"":"<!DOCTYPE html>")+"<html xmlns='http://www.w3.org/1999/xhtml' class='view' ><head><style type='text/css'>.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\nbody{margin:8px;font-family:sans-serif;font-size:16px;}p{margin:5px 0;}</style>"+(options.iframeCssUrl?"<link rel='stylesheet' type='text/css' href='"+utils.unhtml(options.iframeCssUrl)+"'/>":"")+(options.initialStyle?"<style>"+options.initialStyle+"</style>":"")+"</head><body class='view' ></body><script type='text/javascript' "+(ie?"defer='defer'":"")+" id='_initialScript'>setTimeout(function(){editor = window.parent.UE.instants['ueditorInstant"+me.uid+"'];editor._setup(document);},0);var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);<\/script></html>";container.appendChild(domUtils.createElement(document,"iframe",{id:"ueditor_"+me.uid,width:"100%",height:"100%",frameborder:"0",src:"javascript:void(function(){document.open();"+(options.customDomain&&document.domain!=location.hostname?'document.domain="'+document.domain+'";':"")+'document.write("'+html+'");document.close();}())'}));container.style.overflow="hidden";setTimeout(function(){if(/%$/.test(options.initialFrameWidth)){options.minFrameWidth=options.initialFrameWidth=container.offsetWidth}if(/%$/.test(options.initialFrameHeight)){options.minFrameHeight=options.initialFrameHeight=container.offsetHeight;container.style.height=options.initialFrameHeight+"px"}})}},_setup:function(doc){var me=this,options=me.options;if(ie){doc.body.disabled=true;doc.body.contentEditable=true;doc.body.disabled=false}else{doc.body.contentEditable=true}doc.body.spellcheck=false;me.document=doc;me.window=doc.defaultView||doc.parentWindow;me.iframe=me.window.frameElement;me.body=doc.body;me.selection=new dom.Selection(doc);var geckoSel;if(browser.gecko&&(geckoSel=this.selection.getNative())){geckoSel.removeAllRanges()}this._initEvents();for(var form=this.iframe.parentNode;!domUtils.isBody(form);form=form.parentNode){if(form.tagName=="FORM"){me.form=form;if(me.options.autoSyncData){domUtils.on(me.window,"blur",function(){setValue(form,me)})}else{domUtils.on(form,"submit",function(){setValue(this,me)})}break}}if(options.initialContent){if(options.autoClearinitialContent){var oldExecCommand=me.execCommand;me.execCommand=function(){me.fireEvent("firstBeforeExecCommand");return oldExecCommand.apply(me,arguments)};this._setDefaultContent(options.initialContent)}else{this.setContent(options.initialContent,false,true)}}if(domUtils.isEmptyNode(me.body)){me.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>"}if(options.focus){setTimeout(function(){me.focus(me.options.focusInEnd);!me.options.autoClearinitialContent&&me._selectionChange()},0)}if(!me.container){me.container=this.iframe.parentNode}if(options.fullscreen&&me.ui){me.ui.setFullScreen(true)}try{me.document.execCommand("2D-position",false,false)}catch(e){}try{me.document.execCommand("enableInlineTableEditing",false,false)}catch(e){}try{me.document.execCommand("enableObjectResizing",false,false)}catch(e){}me._bindshortcutKeys();me.isReady=1;me.fireEvent("ready");options.onready&&options.onready.call(me);if(!browser.ie9below){domUtils.on(me.window,["blur","focus"],function(e){if(e.type=="blur"){me._bakRange=me.selection.getRange();try{me._bakNativeRange=me.selection.getNative().getRangeAt(0);me.selection.getNative().removeAllRanges()}catch(e){me._bakNativeRange=null}}else{try{me._bakRange&&me._bakRange.select()}catch(e){}}})}if(browser.gecko&&browser.version<=10902){me.body.contentEditable=false;setTimeout(function(){me.body.contentEditable=true},100);setInterval(function(){me.body.style.height=me.iframe.offsetHeight-20+"px"},100)}!options.isShow&&me.setHide();options.readonly&&me.setDisabled()},sync:function(formId){var me=this,form=formId?document.getElementById(formId):domUtils.findParent(me.iframe.parentNode,function(node){return node.tagName=="FORM"},true);form&&setValue(form,me)},setHeight:function(height,notSetHeight){if(height!==parseInt(this.iframe.parentNode.style.height)){this.iframe.parentNode.style.height=height+"px"}!notSetHeight&&(this.options.minFrameHeight=this.options.initialFrameHeight=height);this.body.style.height=height+"px";!notSetHeight&&this.trigger("setHeight")},addshortcutkey:function(cmd,keys){var obj={};if(keys){obj[cmd]=keys}else{obj=cmd}utils.extend(this.shortcutkeys,obj)},_bindshortcutKeys:function(){var me=this,shortcutkeys=this.shortcutkeys;me.addListener("keydown",function(type,e){var keyCode=e.keyCode||e.which;for(var i in shortcutkeys){var tmp=shortcutkeys[i].split(",");for(var t=0,ti;ti=tmp[t++];){ti=ti.split(":");var key=ti[0],param=ti[1];if(/^(ctrl)(\+shift)?\+(\d+)$/.test(key.toLowerCase())||/^(\d+)$/.test(key)){if(((RegExp.$1=="ctrl"?(e.ctrlKey||e.metaKey):0)&&(RegExp.$2!=""?e[RegExp.$2.slice(1)+"Key"]:1)&&keyCode==RegExp.$3)||keyCode==RegExp.$1){if(me.queryCommandState(i,param)!=-1){me.execCommand(i,param)}domUtils.preventDefault(e)}}}}})},getContent:function(cmd,fn,notSetCursor,ignoreBlank,formatter){var me=this;if(cmd&&utils.isFunction(cmd)){fn=cmd;cmd=""}if(fn?!fn():!this.hasContents()){return""}me.fireEvent("beforegetcontent");var root=UE.htmlparser(me.body.innerHTML,ignoreBlank);me.filterOutputRule(root);me.fireEvent("aftergetcontent",cmd,root);return root.toHtml(formatter)},getAllHtml:function(){var me=this,headHtml=[],html="";me.fireEvent("getAllHtml",headHtml);if(browser.ie&&browser.version>8){var headHtmlForIE9="";utils.each(me.document.styleSheets,function(si){headHtmlForIE9+=(si.href?'<link rel="stylesheet" type="text/css" href="'+si.href+'" />':"<style>"+si.cssText+"</style>")});utils.each(me.document.getElementsByTagName("script"),function(si){headHtmlForIE9+=si.outerHTML})}return"<html><head>"+(me.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+me.options.charset+'"/>':"")+(headHtmlForIE9||me.document.getElementsByTagName("head")[0].innerHTML)+headHtml.join("\n")+"</head><body "+(ie&&browser.version<9?'class="view"':"")+">"+me.getContent(null,null,true)+"</body></html>"},getPlainTxt:function(){var reg=new RegExp(domUtils.fillChar,"g"),html=this.body.innerHTML.replace(/[\n\r]/g,"");html=html.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(a,b,c){return dtd.$block[c]?"\n":b?b:""});return html.replace(reg,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){var reg=new RegExp(domUtils.fillChar,"g");return this.body[browser.ie?"innerText":"textContent"].replace(reg,"").replace(/\u00a0/g," ")},setContent:function(html,isAppendTo,notFireSelectionchange){var me=this;me.fireEvent("beforesetcontent",html);var root=UE.htmlparser(html);me.filterInputRule(root);html=root.toHtml();me.body.innerHTML=(isAppendTo?me.body.innerHTML:"")+html;function isCdataDiv(node){return node.tagName=="DIV"&&node.getAttribute("cdata_tag")}if(me.options.enterTag=="p"){var child=this.body.firstChild,tmpNode;if(!child||child.nodeType==1&&(dtd.$cdata[child.tagName]||isCdataDiv(child)||domUtils.isCustomeNode(child))&&child===this.body.lastChild){this.body.innerHTML="<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>"+this.body.innerHTML}else{var p=me.document.createElement("p");while(child){while(child&&(child.nodeType==3||child.nodeType==1&&dtd.p[child.tagName]&&!dtd.$cdata[child.tagName])){tmpNode=child.nextSibling;p.appendChild(child);child=tmpNode}if(p.firstChild){if(!child){me.body.appendChild(p);break}else{child.parentNode.insertBefore(p,child);p=me.document.createElement("p")}}child=child.nextSibling}}}me.fireEvent("aftersetcontent");me.fireEvent("contentchange");!notFireSelectionchange&&me._selectionChange();me._bakRange=me._bakIERange=me._bakNativeRange=null;var geckoSel;if(browser.gecko&&(geckoSel=this.selection.getNative())){geckoSel.removeAllRanges()}if(me.options.autoSyncData){me.form&&setValue(me.form,me)}},focus:function(toEnd){try{var me=this,rng=me.selection.getRange();if(toEnd){var node=me.body.lastChild;if(node&&node.nodeType==1&&!dtd.$empty[node.tagName]){if(domUtils.isEmptyBlock(node)){rng.setStartAtFirst(node)}else{rng.setStartAtLast(node)}rng.collapse(true)}rng.setCursor(true)}else{if(!rng.collapsed&&domUtils.isBody(rng.startContainer)&&rng.startOffset==0){var node=me.body.firstChild;if(node&&node.nodeType==1&&!dtd.$empty[node.tagName]){rng.setStartAtFirst(node).collapse(true)}}rng.select(true)}this.fireEvent("focus selectionchange")}catch(e){}},isFocus:function(){return this.selection.isFocus()},blur:function(){var sel=this.selection.getNative();if(sel.empty&&browser.ie){var nativeRng=document.body.createTextRange();nativeRng.moveToElementText(document.body);nativeRng.collapse(true);nativeRng.select();sel.empty()}else{sel.removeAllRanges()}},_initEvents:function(){var me=this,doc=me.document,win=me.window;me._proxyDomEvent=utils.bind(me._proxyDomEvent,me);domUtils.on(doc,["click","contextmenu","mousedown","keydown","keyup","keypress","mouseup","mouseover","mouseout","selectstart"],me._proxyDomEvent);domUtils.on(win,["focus","blur"],me._proxyDomEvent);domUtils.on(me.body,"drop",function(e){if(browser.gecko&&e.stopPropagation){e.stopPropagation()}me.fireEvent("contentchange")});domUtils.on(doc,["mouseup","keydown"],function(evt){if(evt.type=="keydown"&&(evt.ctrlKey||evt.metaKey||evt.shiftKey||evt.altKey)){return}if(evt.button==2){return}me._selectionChange(250,evt)})},_proxyDomEvent:function(evt){if(this.fireEvent("before"+evt.type.replace(/^on/,"").toLowerCase())===false){return false}if(this.fireEvent(evt.type.replace(/^on/,""),evt)===false){return false}return this.fireEvent("after"+evt.type.replace(/^on/,"").toLowerCase())},_selectionChange:function(delay,evt){var me=this;var hackForMouseUp=false;var mouseX,mouseY;if(browser.ie&&browser.version<9&&evt&&evt.type=="mouseup"){var range=this.selection.getRange();if(!range.collapsed){hackForMouseUp=true;mouseX=evt.clientX;mouseY=evt.clientY}}clearTimeout(_selectionChangeTimer);_selectionChangeTimer=setTimeout(function(){if(!me.selection||!me.selection.getNative()){return}var ieRange;if(hackForMouseUp&&me.selection.getNative().type=="None"){ieRange=me.document.body.createTextRange();try{ieRange.moveToPoint(mouseX,mouseY)}catch(ex){ieRange=null}}var bakGetIERange;if(ieRange){bakGetIERange=me.selection.getIERange;me.selection.getIERange=function(){return ieRange}}me.selection.cache();if(bakGetIERange){me.selection.getIERange=bakGetIERange}if(me.selection._cachedRange&&me.selection._cachedStartElement){me.fireEvent("beforeselectionchange");me.fireEvent("selectionchange",!!evt);me.fireEvent("afterselectionchange");me.selection.clear()}},delay||50)},_callCmdFn:function(fnName,args){var cmdName=args[0].toLowerCase(),cmd,cmdFn;cmd=this.commands[cmdName]||UE.commands[cmdName];cmdFn=cmd&&cmd[fnName];if((!cmd||!cmdFn)&&fnName=="queryCommandState"){return 0}else{if(cmdFn){return cmdFn.apply(this,args)}}},execCommand:function(cmdName){cmdName=cmdName.toLowerCase();var me=this,result,cmd=me.commands[cmdName]||UE.commands[cmdName];if(!cmd||!cmd.execCommand){return null}if(!cmd.notNeedUndo&&!me.__hasEnterExecCommand){me.__hasEnterExecCommand=true;if(me.queryCommandState.apply(me,arguments)!=-1){me.fireEvent("saveScene");me.fireEvent.apply(me,["beforeexeccommand",cmdName].concat(arguments));result=this._callCmdFn("execCommand",arguments);me.fireEvent.apply(me,["afterexeccommand",cmdName].concat(arguments));me.fireEvent("saveScene")}me.__hasEnterExecCommand=false}else{result=this._callCmdFn("execCommand",arguments);(!me.__hasEnterExecCommand&&!cmd.ignoreContentChange&&!me._ignoreContentChange)&&me.fireEvent("contentchange")}(!me.__hasEnterExecCommand&&!cmd.ignoreContentChange&&!me._ignoreContentChange)&&me._selectionChange();return result},queryCommandState:function(cmdName){return this._callCmdFn("queryCommandState",arguments)},queryCommandValue:function(cmdName){return this._callCmdFn("queryCommandValue",arguments)},hasContents:function(tags){if(tags){for(var i=0,ci;ci=tags[i++];){if(this.document.getElementsByTagName(ci).length>0){return true}}}if(!domUtils.isEmptyBlock(this.body)){return true}tags=["div"];for(i=0;ci=tags[i++];){var nodes=domUtils.getElementsByTagName(this.document,ci);for(var n=0,cn;cn=nodes[n++];){if(domUtils.isCustomeNode(cn)){return true}}}return false},reset:function(){this.fireEvent("reset")},setEnabled:function(){var me=this,range;if(me.body.contentEditable=="false"){me.body.contentEditable=true;range=me.selection.getRange();try{range.moveToBookmark(me.lastBk);delete me.lastBk}catch(e){range.setStartAtFirst(me.body).collapse(true)}range.select(true);if(me.bkqueryCommandState){me.queryCommandState=me.bkqueryCommandState;delete me.bkqueryCommandState}if(me.bkqueryCommandValue){me.queryCommandValue=me.bkqueryCommandValue;delete me.bkqueryCommandValue}me.fireEvent("selectionchange")}},enable:function(){return this.setEnabled()},setDisabled:function(except){var me=this;except=except?utils.isArray(except)?except:[except]:[];if(me.body.contentEditable=="true"){if(!me.lastBk){me.lastBk=me.selection.getRange().createBookmark(true)}me.body.contentEditable=false;me.bkqueryCommandState=me.queryCommandState;me.bkqueryCommandValue=me.queryCommandValue;me.queryCommandState=function(type){if(utils.indexOf(except,type)!=-1){return me.bkqueryCommandState.apply(me,arguments)}return -1};me.queryCommandValue=function(type){if(utils.indexOf(except,type)!=-1){return me.bkqueryCommandValue.apply(me,arguments)}return null};me.fireEvent("selectionchange")}},disable:function(except){return this.setDisabled(except)},_setDefaultContent:function(){function clear(){var me=this;if(me.document.getElementById("initContent")){me.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>";me.removeListener("firstBeforeExecCommand focus",clear);setTimeout(function(){me.focus();me._selectionChange()},0)}}return function(cont){var me=this;me.body.innerHTML='<p id="initContent">'+cont+"</p>";me.addListener("firstBeforeExecCommand focus",clear)}}(),setShow:function(){var me=this,range=me.selection.getRange();if(me.container.style.display=="none"){try{range.moveToBookmark(me.lastBk);delete me.lastBk}catch(e){range.setStartAtFirst(me.body).collapse(true)}setTimeout(function(){range.select(true)},100);me.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){var me=this;if(!me.lastBk){me.lastBk=me.selection.getRange().createBookmark(true)}me.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(path){var lang=UE.I18N[this.options.lang];if(!lang){throw Error("not import language file")}path=(path||"").split(".");for(var i=0,ci;ci=path[i++];){lang=lang[ci];if(!lang){break}}return lang},getContentLength:function(ingoneHtml,tagNames){var count=this.getContent(false,false,true).length;if(ingoneHtml){tagNames=(tagNames||[]).concat(["hr","img","iframe"]);count=this.getContentTxt().replace(/[\t\r\n]+/g,"").length;for(var i=0,ci;ci=tagNames[i++];){count+=this.document.getElementsByTagName(ci).length}}return count},addInputRule:function(rule){this.inputRules.push(rule)},filterInputRule:function(root){for(var i=0,ci;ci=this.inputRules[i++];){ci.call(this,root)}},addOutputRule:function(rule){this.outputRules.push(rule)},filterOutputRule:function(root){for(var i=0,ci;ci=this.outputRules[i++];){ci.call(this,root)}},getActionUrl:function(action){var actionName=this.getOpt(action)||action,imageUrl=this.getOpt("imageUrl"),serverUrl=this.getOpt("serverUrl");if(!serverUrl&&imageUrl){serverUrl=imageUrl.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2")}if(serverUrl){serverUrl=serverUrl+(serverUrl.indexOf("?")==-1?"?":"&")+"action="+(actionName||"");return utils.formatUrl(serverUrl)}else{return""}}};utils.inherits(Editor,EventBase)})();UE.Editor.defaultOptions=function(editor){var _url=editor.options.UEDITOR_HOME_URL;return{isShow:true,initialContent:"",initialStyle:"",autoClearinitialContent:false,iframeCssUrl:_url+"themes/iframe.css",textarea:"editorValue",focus:false,focusInEnd:true,autoClearEmptyNode:true,fullscreen:false,readonly:false,zIndex:999,imagePopup:true,enterTag:"p",customDomain:false,lang:"zh-cn",langPath:_url+"lang/",theme:"default",themePath:_url+"themes/",allHtmlEnabled:false,scaleEnabled:false,tableNativeEditInFF:false,autoSyncData:true,fileNameFormat:"{time}{rand:6}"}};(function(){UE.Editor.prototype.loadServerConfig=function(){var me=this;setTimeout(function(){try{me.options.imageUrl&&me.setOpt("serverUrl",me.options.imageUrl.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2"));var configUrl=me.getActionUrl("config"),isJsonp=utils.isCrossDomainUrl(configUrl);me._serverConfigLoaded=false;configUrl&&UE.ajax.request(configUrl,{method:"GET",dataType:isJsonp?"jsonp":"",onsuccess:function(r){try{var config=isJsonp?r:eval("("+r.responseText+")");utils.extend(me.options,config);me.fireEvent("serverConfigLoaded");me._serverConfigLoaded=true}catch(e){showErrorMsg(me.getLang("loadconfigFormatError"))}},onerror:function(){showErrorMsg(me.getLang("loadconfigHttpError"))}})}catch(e){showErrorMsg(me.getLang("loadconfigError"))}});function showErrorMsg(msg){console&&console.error(msg)}};UE.Editor.prototype.isServerConfigLoaded=function(){var me=this;return me._serverConfigLoaded||false};UE.Editor.prototype.afterConfigReady=function(handler){if(!handler||!utils.isFunction(handler)){return}var me=this;var readyHandler=function(){handler.apply(me,arguments);me.removeListener("serverConfigLoaded",readyHandler)};if(me.isServerConfigLoaded()){handler.call(me,"serverConfigLoaded")}else{me.addListener("serverConfigLoaded",readyHandler)}}})();UE.ajax=function(){var fnStr="XMLHttpRequest()";try{new ActiveXObject("Msxml2.XMLHTTP");fnStr="ActiveXObject('Msxml2.XMLHTTP')"}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP");fnStr="ActiveXObject('Microsoft.XMLHTTP')"}catch(e){}}var creatAjaxRequest=new Function("return new "+fnStr);function json2str(json){var strArr=[];for(var i in json){if(i=="method"||i=="timeout"||i=="async"||i=="dataType"||i=="callback"){continue}if(json[i]==undefined||json[i]==null){continue}if(!((typeof json[i]).toLowerCase()=="function"||(typeof json[i]).toLowerCase()=="object")){strArr.push(encodeURIComponent(i)+"="+encodeURIComponent(json[i]))}else{if(utils.isArray(json[i])){for(var j=0;j<json[i].length;j++){strArr.push(encodeURIComponent(i)+"[]="+encodeURIComponent(json[i][j]))}}}}return strArr.join("&")}function doAjax(url,ajaxOptions){var xhr=creatAjaxRequest(),timeIsOut=false,defaultAjaxOptions={method:"POST",timeout:5000,async:true,data:{},onsuccess:function(){},onerror:function(){}};if(typeof url==="object"){ajaxOptions=url;url=ajaxOptions.url}if(!xhr||!url){return}var ajaxOpts=ajaxOptions?utils.extend(defaultAjaxOptions,ajaxOptions):defaultAjaxOptions;var submitStr=json2str(ajaxOpts);if(!utils.isEmptyObject(ajaxOpts.data)){submitStr+=(submitStr?"&":"")+json2str(ajaxOpts.data)}var timerID=setTimeout(function(){if(xhr.readyState!=4){timeIsOut=true;xhr.abort();clearTimeout(timerID)}},ajaxOpts.timeout);var method=ajaxOpts.method.toUpperCase();var str=url+(url.indexOf("?")==-1?"?":"&")+(method=="POST"?"":submitStr+"&noCache="+ +new Date);xhr.open(method,str,ajaxOpts.async);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(!timeIsOut&&xhr.status==200){ajaxOpts.onsuccess(xhr)}else{ajaxOpts.onerror(xhr)}}};if(method=="POST"){xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xhr.send(submitStr)}else{xhr.send(null)}}function doJsonp(url,opts){var successhandler=opts.onsuccess||function(){},scr=document.createElement("SCRIPT"),options=opts||{},charset=options.charset,callbackField=options.jsonp||"callback",callbackFnName,timeOut=options.timeOut||0,timer,reg=new RegExp("(\\?|&)"+callbackField+"=([^&]*)"),matches;if(utils.isFunction(successhandler)){callbackFnName="bd__editor__"+Math.floor(Math.random()*2147483648).toString(36);window[callbackFnName]=getCallBack(0)}else{if(utils.isString(successhandler)){callbackFnName=successhandler}else{if(matches=reg.exec(url)){callbackFnName=matches[2]}}}url=url.replace(reg,"\x241"+callbackField+"="+callbackFnName);if(url.search(reg)<0){url+=(url.indexOf("?")<0?"?":"&")+callbackField+"="+callbackFnName}var queryStr=json2str(opts);if(!utils.isEmptyObject(opts.data)){queryStr+=(queryStr?"&":"")+json2str(opts.data)}if(queryStr){url=url.replace(/\?/,"?"+queryStr+"&")}scr.onerror=getCallBack(1);if(timeOut){timer=setTimeout(getCallBack(1),timeOut)}createScriptTag(scr,url,charset);function createScriptTag(scr,url,charset){scr.setAttribute("type","text/javascript");scr.setAttribute("defer","defer");charset&&scr.setAttribute("charset",charset);scr.setAttribute("src",url);document.getElementsByTagName("head")[0].appendChild(scr)}function getCallBack(onTimeOut){return function(){try{if(onTimeOut){options.onerror&&options.onerror()}else{try{clearTimeout(timer);successhandler.apply(window,arguments)}catch(e){}}}catch(exception){options.onerror&&options.onerror.call(window,exception)}finally{options.oncomplete&&options.oncomplete.apply(window,arguments);scr.parentNode&&scr.parentNode.removeChild(scr);window[callbackFnName]=null;try{delete window[callbackFnName]}catch(e){}}}}}return{request:function(url,opts){if(opts&&opts.dataType=="jsonp"){doJsonp(url,opts)}else{doAjax(url,opts)}},getJSONP:function(url,data,fn){var opts={data:data,oncomplete:fn};doJsonp(url,opts)}}}();var filterWord=UE.filterWord=function(){function isWordDocument(str){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/ig.test(str)}function transUnit(v){v=v.replace(/[\d.]+\w+/g,function(m){return utils.transUnitToPx(m)});return v}function filterPasteWord(str){return str.replace(/[\t\r\n]+/g," ").replace(/<!--[\s\S]*?-->/ig,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(str){if(browser.opera){return""}try{if(/Bitmap/i.test(str)){return""}var width=str.match(/width:([ \d.]*p[tx])/i)[1],height=str.match(/height:([ \d.]*p[tx])/i)[1],src=str.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+transUnit(width)+'" height="'+transUnit(height)+'" src="'+src+'" />'}catch(e){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/ig,function(str,name,marks,val){return name=="class"&&val=="MsoListParagraph"?str:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(a,b,c){return c.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(str,tag,tmp,style){var n=[],s=style.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").replace(/[\d.]+(cm|pt)/g,function(str){return utils.transUnitToPx(str)}).split(/;\s*/g);for(var i=0,v;v=s[i];i++){var name,value,parts=v.split(":");if(parts.length==2){name=parts[0].toLowerCase();value=parts[1].toLowerCase();if(/^(background)\w*/.test(name)&&value.replace(/(initial|\s)/g,"").length==0||/^(margin)\w*/.test(name)&&/^0\w+$/.test(value)){continue}switch(name){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":if(!/<table/.test(tag)){n[i]=name.replace(/^mso-|-alt$/g,"")+":"+transUnit(value)}continue;case"horiz-align":n[i]="text-align:"+value;continue;case"vert-align":n[i]="vertical-align:"+value;continue;case"font-color":case"mso-foreground":n[i]="color:"+value;continue;case"mso-background":case"mso-highlight":n[i]="background:"+value;continue;case"mso-default-height":n[i]="min-height:"+transUnit(value);continue;case"mso-default-width":n[i]="min-width:"+transUnit(value);continue;case"mso-padding-between-alt":n[i]="border-collapse:separate;border-spacing:"+transUnit(value);continue;case"text-line-through":if((value=="single")||(value=="double")){n[i]="text-decoration:line-through"}continue;case"mso-zero-height":if(value=="yes"){n[i]="display:none"}continue;case"margin":if(!/[1-9]/.test(value)){continue}}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(name)||/text\-indent|padding|margin/.test(name)&&/\-[\d.]+/.test(value)){continue}n[i]=name+":"+parts[1]}}return tag+(n.length?' style="'+n.join(";").replace(/;{2,}/g,";")+'"':"")})}return function(html){return(isWordDocument(html)?filterPasteWord(html):html)}}();(function(){var uNode=UE.uNode=function(obj){this.type=obj.type;this.data=obj.data;this.tagName=obj.tagName;this.parentNode=obj.parentNode;this.attrs=obj.attrs||{};this.children=obj.children};var notTransAttrs={href:1,src:1,_src:1,_href:1,cdata_data:1};var notTransTagName={style:1,script:1};var indentChar="    ",breakChar="\n";function insertLine(arr,current,begin){arr.push(breakChar);return current+(begin?1:-1)}function insertIndent(arr,current){for(var i=0;i<current;i++){arr.push(indentChar)}}uNode.createElement=function(html){if(/[<>]/.test(html)){return UE.htmlparser(html).children[0]}else{return new uNode({type:"element",children:[],tagName:html})}};uNode.createText=function(data,noTrans){return new UE.uNode({type:"text",data:noTrans?data:utils.unhtml(data||"")})};function nodeToHtml(node,arr,formatter,current){switch(node.type){case"root":for(var i=0,ci;ci=node.children[i++];){if(formatter&&ci.type=="element"&&!dtd.$inlineWithA[ci.tagName]&&i>1){insertLine(arr,current,true);insertIndent(arr,current)}nodeToHtml(ci,arr,formatter,current)}break;case"text":isText(node,arr);break;case"element":isElement(node,arr,formatter,current);break;case"comment":isComment(node,arr,formatter)}return arr}function isText(node,arr){if(node.parentNode.tagName=="pre"){arr.push(node.data)}else{arr.push(notTransTagName[node.parentNode.tagName]?utils.html(node.data):node.data.replace(/[ ]{2}/g," &nbsp;"))}}function isElement(node,arr,formatter,current){var attrhtml="";if(node.attrs){attrhtml=[];var attrs=node.attrs;for(var a in attrs){attrhtml.push(a+(attrs[a]!==undefined?'="'+(notTransAttrs[a]?utils.html(attrs[a]).replace(/["]/g,function(a){return"&quot;"}):utils.unhtml(attrs[a]))+'"':""))}attrhtml=attrhtml.join(" ")}arr.push("<"+node.tagName+(attrhtml?" "+attrhtml:"")+(dtd.$empty[node.tagName]?"/":"")+">");if(formatter&&!dtd.$inlineWithA[node.tagName]&&node.tagName!="pre"){if(node.children&&node.children.length){current=insertLine(arr,current,true);insertIndent(arr,current)}}if(node.children&&node.children.length){for(var i=0,ci;ci=node.children[i++];){if(formatter&&ci.type=="element"&&!dtd.$inlineWithA[ci.tagName]&&i>1){insertLine(arr,current);insertIndent(arr,current)}nodeToHtml(ci,arr,formatter,current)}}if(!dtd.$empty[node.tagName]){if(formatter&&!dtd.$inlineWithA[node.tagName]&&node.tagName!="pre"){if(node.children&&node.children.length){current=insertLine(arr,current);insertIndent(arr,current)}}arr.push("</"+node.tagName+">")}}function isComment(node,arr){arr.push("<!--"+node.data+"-->")}function getNodeById(root,id){var node;if(root.type=="element"&&root.getAttr("id")==id){return root}if(root.children&&root.children.length){for(var i=0,ci;ci=root.children[i++];){if(node=getNodeById(ci,id)){return node}}}}function getNodesByTagName(node,tagName,arr){if(node.type=="element"&&node.tagName==tagName){arr.push(node)}if(node.children&&node.children.length){for(var i=0,ci;ci=node.children[i++];){getNodesByTagName(ci,tagName,arr)}}}function nodeTraversal(root,fn){if(root.children&&root.children.length){for(var i=0,ci;ci=root.children[i];){nodeTraversal(ci,fn);if(ci.parentNode){if(ci.children&&ci.children.length){fn(ci)}if(ci.parentNode){i++}}}}else{fn(root)}}uNode.prototype={toHtml:function(formatter){var arr=[];nodeToHtml(this,arr,formatter,0);return arr.join("")},innerHTML:function(htmlstr){if(this.type!="element"||dtd.$empty[this.tagName]){return this}if(utils.isString(htmlstr)){if(this.children){for(var i=0,ci;ci=this.children[i++];){ci.parentNode=null}}this.children=[];var tmpRoot=UE.htmlparser(htmlstr);for(var i=0,ci;ci=tmpRoot.children[i++];){this.children.push(ci);ci.parentNode=this}return this}else{var tmpRoot=new UE.uNode({type:"root",children:this.children});return tmpRoot.toHtml()}},innerText:function(textStr,noTrans){if(this.type!="element"||dtd.$empty[this.tagName]){return this}if(textStr){if(this.children){for(var i=0,ci;ci=this.children[i++];){ci.parentNode=null}}this.children=[];this.appendChild(uNode.createText(textStr,noTrans));return this}else{return this.toHtml().replace(/<[^>]+>/g,"")}},getData:function(){if(this.type=="element"){return""}return this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){var parent=this.parentNode;for(var i=0,ci;ci=parent.children[i];i++){if(ci===this){return i==0?null:parent.children[i-1]}}},nextSibling:function(){var parent=this.parentNode;for(var i=0,ci;ci=parent.children[i++];){if(ci===this){return parent.children[i]}}},replaceChild:function(target,source){if(this.children){if(target.parentNode){target.parentNode.removeChild(target)}for(var i=0,ci;ci=this.children[i];i++){if(ci===source){this.children.splice(i,1,target);source.parentNode=null;target.parentNode=this;return target}}}},appendChild:function(node){if(this.type=="root"||(this.type=="element"&&!dtd.$empty[this.tagName])){if(!this.children){this.children=[]}if(node.parentNode){node.parentNode.removeChild(node)}for(var i=0,ci;ci=this.children[i];i++){if(ci===node){this.children.splice(i,1);break}}this.children.push(node);node.parentNode=this;return node}},insertBefore:function(target,source){if(this.children){if(target.parentNode){target.parentNode.removeChild(target)}for(var i=0,ci;ci=this.children[i];i++){if(ci===source){this.children.splice(i,0,target);target.parentNode=this;return target}}}},insertAfter:function(target,source){if(this.children){if(target.parentNode){target.parentNode.removeChild(target)}for(var i=0,ci;ci=this.children[i];i++){if(ci===source){this.children.splice(i+1,0,target);target.parentNode=this;return target}}}},removeChild:function(node,keepChildren){if(this.children){for(var i=0,ci;ci=this.children[i];i++){if(ci===node){this.children.splice(i,1);ci.parentNode=null;if(keepChildren&&ci.children&&ci.children.length){for(var j=0,cj;cj=ci.children[j];j++){this.children.splice(i+j,0,cj);cj.parentNode=this}}return ci}}}},getAttr:function(attrName){return this.attrs&&this.attrs[attrName.toLowerCase()]},setAttr:function(attrName,attrVal){if(!attrName){delete this.attrs;return}if(!this.attrs){this.attrs={}}if(utils.isObject(attrName)){for(var a in attrName){if(!attrName[a]){delete this.attrs[a]}else{this.attrs[a.toLowerCase()]=attrName[a]}}}else{if(!attrVal){delete this.attrs[attrName]}else{this.attrs[attrName.toLowerCase()]=attrVal}}},getIndex:function(){var parent=this.parentNode;for(var i=0,ci;ci=parent.children[i];i++){if(ci===this){return i}}return -1},getNodeById:function(id){var node;if(this.children&&this.children.length){for(var i=0,ci;ci=this.children[i++];){if(node=getNodeById(ci,id)){return node}}}},getNodesByTagName:function(tagNames){tagNames=utils.trim(tagNames).replace(/[ ]{2,}/g," ").split(" ");var arr=[],me=this;utils.each(tagNames,function(tagName){if(me.children&&me.children.length){for(var i=0,ci;ci=me.children[i++];){getNodesByTagName(ci,tagName,arr)}}});return arr},getStyle:function(name){var cssStyle=this.getAttr("style");if(!cssStyle){return""}var reg=new RegExp("(^|;)\\s*"+name+":([^;]+)","i");var match=cssStyle.match(reg);if(match&&match[0]){return match[2]}return""},setStyle:function(name,val){function exec(name,val){var reg=new RegExp("(^|;)\\s*"+name+":([^;]+;?)","gi");cssStyle=cssStyle.replace(reg,"$1");if(val){cssStyle=name+":"+utils.unhtml(val)+";"+cssStyle}}var cssStyle=this.getAttr("style");if(!cssStyle){cssStyle=""}if(utils.isObject(name)){for(var a in name){exec(a,name[a])}}else{exec(name,val)}this.setAttr("style",utils.trim(cssStyle))},traversal:function(fn){if(this.children&&this.children.length){nodeTraversal(this,fn)}return this}}})();var htmlparser=UE.htmlparser=function(htmlstr,ignoreBlank){var re_tag=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/<>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,re_attr=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g;var allowEmptyTags={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};htmlstr=htmlstr.replace(new RegExp(domUtils.fillChar,"g"),"");if(!ignoreBlank){htmlstr=htmlstr.replace(new RegExp("[\\r\\t\\n"+(ignoreBlank?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(ignoreBlank?"":" ")+"]*","g"),function(a,b){if(b&&allowEmptyTags[b.toLowerCase()]){return a.replace(/(^[\n\r]+)|([\n\r]+$)/g,"")}return a.replace(new RegExp("^[\\r\\n"+(ignoreBlank?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(ignoreBlank?"":" ")+"]+$"),"")})}var notTransAttrs={href:1,src:1};var uNode=UE.uNode,needParentNode={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},needChild={ol:"li",ul:"li"};function text(parent,data){if(needChild[parent.tagName]){var tmpNode=uNode.createElement(needChild[parent.tagName]);parent.appendChild(tmpNode);tmpNode.appendChild(uNode.createText(data));parent=tmpNode}else{parent.appendChild(uNode.createText(data))}}function element(parent,tagName,htmlattr){var needParentTag;if(needParentTag=needParentNode[tagName]){var tmpParent=parent,hasParent;while(tmpParent.type!="root"){if(utils.isArray(needParentTag)?utils.indexOf(needParentTag,tmpParent.tagName)!=-1:needParentTag==tmpParent.tagName){parent=tmpParent;hasParent=true;break}tmpParent=tmpParent.parentNode}if(!hasParent){parent=element(parent,utils.isArray(needParentTag)?needParentTag[0]:needParentTag)}}var elm=new uNode({parentNode:parent,type:"element",tagName:tagName.toLowerCase(),children:dtd.$empty[tagName]?null:[]});if(htmlattr){var attrs={},match;while(match=re_attr.exec(htmlattr)){attrs[match[1].toLowerCase()]=notTransAttrs[match[1].toLowerCase()]?(match[2]||match[3]||match[4]):utils.unhtml(match[2]||match[3]||match[4])}elm.attrs=attrs}parent.children.push(elm);return dtd.$empty[tagName]?parent:elm}function comment(parent,data){parent.children.push(new uNode({type:"comment",data:data,parentNode:parent}))}var match,currentIndex=0,nextIndex=0;var root=new uNode({type:"root",children:[]});var currentParent=root;while(match=re_tag.exec(htmlstr)){currentIndex=match.index;try{if(currentIndex>nextIndex){text(currentParent,htmlstr.slice(nextIndex,currentIndex))}if(match[3]){if(dtd.$cdata[currentParent.tagName]){text(currentParent,match[0])}else{currentParent=element(currentParent,match[3].toLowerCase(),match[4])}}else{if(match[1]){if(currentParent.type!="root"){if(dtd.$cdata[currentParent.tagName]&&!dtd.$cdata[match[1]]){text(currentParent,match[0])}else{var tmpParent=currentParent;while(currentParent.type=="element"&&currentParent.tagName!=match[1].toLowerCase()){currentParent=currentParent.parentNode;if(currentParent.type=="root"){currentParent=tmpParent;throw"break"}}currentParent=currentParent.parentNode}}}else{if(match[2]){comment(currentParent,match[2])}}}}catch(e){}nextIndex=re_tag.lastIndex}if(nextIndex<htmlstr.length){text(currentParent,htmlstr.slice(nextIndex))}return root};var filterNode=UE.filterNode=function(){function filterNode(node,rules){switch(node.type){case"text":break;case"element":var val;if(val=rules[node.tagName]){if(val==="-"){node.parentNode.removeChild(node)}else{if(utils.isFunction(val)){var parentNode=node.parentNode,index=node.getIndex();val(node);if(node.parentNode){if(node.children){for(var i=0,ci;ci=node.children[i];){filterNode(ci,rules);if(ci.parentNode){i++}}}}else{for(var i=index,ci;ci=parentNode.children[i];){filterNode(ci,rules);if(ci.parentNode){i++}}}}else{var attrs=val["$"];if(attrs&&node.attrs){var tmpAttrs={},tmpVal;for(var a in attrs){tmpVal=node.getAttr(a);if(a=="style"&&utils.isArray(attrs[a])){var tmpCssStyle=[];utils.each(attrs[a],function(v){var tmp;if(tmp=node.getStyle(v)){tmpCssStyle.push(v+":"+tmp)}});tmpVal=tmpCssStyle.join(";")}if(tmpVal){tmpAttrs[a]=tmpVal}}node.attrs=tmpAttrs}if(node.children){for(var i=0,ci;ci=node.children[i];){filterNode(ci,rules);if(ci.parentNode){i++}}}}}}else{if(dtd.$cdata[node.tagName]){node.parentNode.removeChild(node)}else{var parentNode=node.parentNode,index=node.getIndex();node.parentNode.removeChild(node,true);for(var i=index,ci;ci=parentNode.children[i];){filterNode(ci,rules);if(ci.parentNode){i++}}}}break;case"comment":node.parentNode.removeChild(node)}}return function(root,rules){if(utils.isEmptyObject(rules)){return root}var val;if(val=rules["-"]){utils.each(val.split(" "),function(k){rules[k]="-"})}for(var i=0,ci;ci=root.children[i];){filterNode(ci,rules);if(ci.parentNode){i++}}return root}}();UE.plugin=function(){var _plugins={};return{register:function(pluginName,fn,oldOptionName,afterDisabled){if(oldOptionName&&utils.isFunction(oldOptionName)){afterDisabled=oldOptionName;oldOptionName=null}_plugins[pluginName]={optionName:oldOptionName||pluginName,execFn:fn,afterDisabled:afterDisabled}},load:function(editor){utils.each(_plugins,function(plugin){var _export=plugin.execFn.call(editor);if(editor.options[plugin.optionName]!==false){if(_export){utils.each(_export,function(v,k){switch(k.toLowerCase()){case"shortcutkey":editor.addshortcutkey(v);break;case"bindevents":utils.each(v,function(fn,eventName){editor.addListener(eventName,fn)});break;case"bindmultievents":utils.each(utils.isArray(v)?v:[v],function(event){var types=utils.trim(event.type).split(/\s+/);utils.each(types,function(eventName){editor.addListener(eventName,event.handler)})});break;case"commands":utils.each(v,function(execFn,execName){editor.commands[execName]=execFn});break;case"outputrule":editor.addOutputRule(v);break;case"inputrule":editor.addInputRule(v);break;case"defaultoptions":editor.setOpt(v)}})}}else{if(plugin.afterDisabled){plugin.afterDisabled.call(editor)}}});utils.each(UE.plugins,function(plugin){plugin.call(editor)})},run:function(pluginName,editor){var plugin=_plugins[pluginName];if(plugin){plugin.exeFn.call(editor)}}}}();var keymap=UE.keymap={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Insert:45,Del:46,NumLock:144,Cmd:91,"=":187,"-":189,b:66,i:73,z:90,y:89,v:86,x:88,s:83,n:78};var LocalStorage=UE.LocalStorage=(function(){var storage=window.localStorage||getUserData()||null,LOCAL_FILE="localStorage";return{saveLocalData:function(key,data){if(storage&&data){storage.setItem(key,data);return true}return false},getLocalData:function(key){if(storage){return storage.getItem(key)}return null},removeItem:function(key){storage&&storage.removeItem(key)}};function getUserData(){var container=document.createElement("div");container.style.display="none";if(!container.addBehavior){return null}container.addBehavior("#default#userdata");return{getItem:function(key){var result=null;try{document.body.appendChild(container);container.load(LOCAL_FILE);result=container.getAttribute(key);document.body.removeChild(container)}catch(e){}return result},setItem:function(key,value){document.body.appendChild(container);container.setAttribute(key,value);container.save(LOCAL_FILE);document.body.removeChild(container)},removeItem:function(key){document.body.appendChild(container);container.removeAttribute(key);container.save(LOCAL_FILE);document.body.removeChild(container)}}}})();(function(){var ROOTKEY="ueditor_preference";UE.Editor.prototype.setPreferences=function(key,value){var obj={};if(utils.isString(key)){obj[key]=value}else{obj=key}var data=LocalStorage.getLocalData(ROOTKEY);if(data&&(data=utils.str2json(data))){utils.extend(data,obj)}else{data=obj}data&&LocalStorage.saveLocalData(ROOTKEY,utils.json2str(data))};UE.Editor.prototype.getPreferences=function(key){var data=LocalStorage.getLocalData(ROOTKEY);if(data&&(data=utils.str2json(data))){return key?data[key]:data}return null};UE.Editor.prototype.removePreferences=function(key){var data=LocalStorage.getLocalData(ROOTKEY);if(data&&(data=utils.str2json(data))){data[key]=undefined;delete data[key]}data&&LocalStorage.saveLocalData(ROOTKEY,utils.json2str(data))}})();UE.plugins.defaultfilter=function(){var me=this;me.setOpt({allowDivTransToP:true,disabledTableInTable:true});me.addInputRule(function(root){var allowDivTransToP=this.options.allowDivTransToP;var val;function tdParent(node){while(node&&node.type=="element"){if(node.tagName=="td"){return true}node=node.parentNode}return false}root.traversal(function(node){if(node.type=="element"){if(!dtd.$cdata[node.tagName]&&me.options.autoClearEmptyNode&&dtd.$inline[node.tagName]&&!dtd.$empty[node.tagName]&&(!node.attrs||utils.isEmptyObject(node.attrs))){if(!node.firstChild()){node.parentNode.removeChild(node)}else{if(node.tagName=="span"&&(!node.attrs||utils.isEmptyObject(node.attrs))){node.parentNode.removeChild(node,true)}}return}switch(node.tagName){case"style":case"script":node.setAttr({cdata_tag:node.tagName,cdata_data:(node.innerHTML()||""),_ue_custom_node_:"true"});node.tagName="div";node.innerHTML("");break;case"a":if(val=node.getAttr("href")){node.setAttr("_href",val)}break;case"img":if(val=node.getAttr("src")){if(/^data:/.test(val)){node.parentNode.removeChild(node);break}}node.setAttr("_src",node.getAttr("src"));break;case"span":if(browser.webkit&&(val=node.getStyle("white-space"))){if(/nowrap|normal/.test(val)){node.setStyle("white-space","");if(me.options.autoClearEmptyNode&&utils.isEmptyObject(node.attrs)){node.parentNode.removeChild(node,true)}}}val=node.getAttr("id");if(val&&/^_baidu_bookmark_/i.test(val)){node.parentNode.removeChild(node)}break;case"p":if(val=node.getAttr("align")){node.setAttr("align");node.setStyle("text-align",val)}utils.each(node.children,function(n){if(n.type=="element"&&n.tagName=="p"){var next=n.nextSibling();node.parentNode.insertAfter(n,node);var last=n;while(next){var tmp=next.nextSibling();node.parentNode.insertAfter(next,last);last=next;next=tmp}return false}});if(!node.firstChild()){node.innerHTML(browser.ie?"&nbsp;":"<br/>")}break;case"div":if(node.getAttr("cdata_tag")){break}val=node.getAttr("class");if(val&&/^line number\d+/.test(val)){break}if(!allowDivTransToP){break}var tmpNode,p=UE.uNode.createElement("p");while(tmpNode=node.firstChild()){if(tmpNode.type=="text"||!UE.dom.dtd.$block[tmpNode.tagName]){p.appendChild(tmpNode)}else{if(p.firstChild()){node.parentNode.insertBefore(p,node);p=UE.uNode.createElement("p")}else{node.parentNode.insertBefore(tmpNode,node)}}}if(p.firstChild()){node.parentNode.insertBefore(p,node)}node.parentNode.removeChild(node);break;case"dl":node.tagName="ul";break;case"dt":case"dd":node.tagName="li";break;case"td":case"th":case"caption":if(!node.children||!node.children.length){node.appendChild(browser.ie11below?UE.uNode.createText(" "):UE.uNode.createElement("br"))}break;case"table":if(me.options.disabledTableInTable&&tdParent(node)){node.parentNode.insertBefore(UE.uNode.createText(node.innerText()),node);node.parentNode.removeChild(node)}}}})});me.addOutputRule(function(root){var val;root.traversal(function(node){if(node.type=="element"){if(me.options.autoClearEmptyNode&&dtd.$inline[node.tagName]&&!dtd.$empty[node.tagName]&&(!node.attrs||utils.isEmptyObject(node.attrs))){if(!node.firstChild()){node.parentNode.removeChild(node)}else{if(node.tagName=="span"&&(!node.attrs||utils.isEmptyObject(node.attrs))){node.parentNode.removeChild(node,true)}}return}switch(node.tagName){case"div":if(val=node.getAttr("cdata_tag")){node.tagName=val;node.appendChild(UE.uNode.createText(node.getAttr("cdata_data")));node.setAttr({cdata_tag:"",cdata_data:"",_ue_custom_node_:""})}break;case"a":if(val=node.getAttr("_href")){node.setAttr({href:utils.html(val),_href:""})}break;break;case"span":val=node.getAttr("id");if(val&&/^_baidu_bookmark_/i.test(val)){node.parentNode.removeChild(node)}break;case"img":if(val=node.getAttr("_src")){node.setAttr({src:node.getAttr("_src"),_src:""})}}}})})};UE.commands.inserthtml={execCommand:function(command,html,notNeedFilter){var me=this,range,div;if(!html){return}if(me.fireEvent("beforeinserthtml",html)===true){return}range=me.selection.getRange();div=range.document.createElement("div");div.style.display="inline";if(!notNeedFilter){var root=UE.htmlparser(html);if(me.options.filterRules){UE.filterNode(root,me.options.filterRules)}me.filterInputRule(root);html=root.toHtml()}div.innerHTML=utils.trim(html);if(!range.collapsed){var tmpNode=range.startContainer;if(domUtils.isFillChar(tmpNode)){range.setStartBefore(tmpNode)}tmpNode=range.endContainer;if(domUtils.isFillChar(tmpNode)){range.setEndAfter(tmpNode)}range.txtToElmBoundary();if(range.endContainer&&range.endContainer.nodeType==1){tmpNode=range.endContainer.childNodes[range.endOffset];if(tmpNode&&domUtils.isBr(tmpNode)){range.setEndAfter(tmpNode)}}if(range.startOffset==0){tmpNode=range.startContainer;if(domUtils.isBoundaryNode(tmpNode,"firstChild")){tmpNode=range.endContainer;if(range.endOffset==(tmpNode.nodeType==3?tmpNode.nodeValue.length:tmpNode.childNodes.length)&&domUtils.isBoundaryNode(tmpNode,"lastChild")){me.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>";range.setStart(me.body.firstChild,0).collapse(true)}}}!range.collapsed&&range.deleteContents();if(range.startContainer.nodeType==1){var child=range.startContainer.childNodes[range.startOffset],pre;if(child&&domUtils.isBlockElm(child)&&(pre=child.previousSibling)&&domUtils.isBlockElm(pre)){range.setEnd(pre,pre.childNodes.length).collapse();while(child.firstChild){pre.appendChild(child.firstChild)}domUtils.remove(child)}}}var child,parent,pre,tmp,hadBreak=0,nextNode;if(range.inFillChar()){child=range.startContainer;if(domUtils.isFillChar(child)){range.setStartBefore(child).collapse(true);domUtils.remove(child)}else{if(domUtils.isFillChar(child,true)){child.nodeValue=child.nodeValue.replace(fillCharReg,"");range.startOffset--;range.collapsed&&range.collapse(true)}}}var li=domUtils.findParentByTagName(range.startContainer,"li",true);if(li){var next,last;while(child=div.firstChild){while(child&&(child.nodeType==3||!domUtils.isBlockElm(child)||child.tagName=="HR")){next=child.nextSibling;range.insertNode(child).collapse();last=child;child=next}if(child){if(/^(ol|ul)$/i.test(child.tagName)){while(child.firstChild){last=child.firstChild;domUtils.insertAfter(li,child.firstChild);li=li.nextSibling}domUtils.remove(child)}else{var tmpLi;next=child.nextSibling;tmpLi=me.document.createElement("li");domUtils.insertAfter(li,tmpLi);tmpLi.appendChild(child);last=child;child=next;li=tmpLi}}}li=domUtils.findParentByTagName(range.startContainer,"li",true);if(domUtils.isEmptyBlock(li)){domUtils.remove(li)}if(last){range.setStartAfter(last).collapse(true).select(true)}}else{while(child=div.firstChild){if(hadBreak){var p=me.document.createElement("p");while(child&&(child.nodeType==3||!dtd.$block[child.tagName])){nextNode=child.nextSibling;p.appendChild(child);child=nextNode}if(p.firstChild){child=p}}range.insertNode(child);nextNode=child.nextSibling;if(!hadBreak&&child.nodeType==domUtils.NODE_ELEMENT&&domUtils.isBlockElm(child)){parent=domUtils.findParent(child,function(node){return domUtils.isBlockElm(node)});if(parent&&parent.tagName.toLowerCase()!="body"&&!(dtd[parent.tagName][child.nodeName]&&child.parentNode===parent)){if(!dtd[parent.tagName][child.nodeName]){pre=parent}else{tmp=child.parentNode;while(tmp!==parent){pre=tmp;tmp=tmp.parentNode}}domUtils.breakParent(child,pre||tmp);var pre=child.previousSibling;domUtils.trimWhiteTextNode(pre);if(!pre.childNodes.length){domUtils.remove(pre)}if(!browser.ie&&(next=child.nextSibling)&&domUtils.isBlockElm(next)&&next.lastChild&&!domUtils.isBr(next.lastChild)){next.appendChild(me.document.createElement("br"))}hadBreak=1}}var next=child.nextSibling;if(!div.firstChild&&next&&domUtils.isBlockElm(next)){range.setStart(next,0).collapse(true);break}range.setEndAfter(child).collapse()}child=range.startContainer;if(nextNode&&domUtils.isBr(nextNode)){domUtils.remove(nextNode)}if(domUtils.isBlockElm(child)&&domUtils.isEmptyNode(child)){if(nextNode=child.nextSibling){domUtils.remove(child);if(nextNode.nodeType==1&&dtd.$block[nextNode.tagName]){range.setStart(nextNode,0).collapse(true).shrinkBoundary()}}else{try{child.innerHTML=browser.ie?domUtils.fillChar:"<br/>"}catch(e){range.setStartBefore(child);domUtils.remove(child)}}}try{range.select(true)}catch(e){}}setTimeout(function(){range=me.selection.getRange();range.scrollToView(me.autoHeightEnabled,me.autoHeightEnabled?domUtils.getXY(me.iframe).y:0);me.fireEvent("afterinserthtml",html)},200)}};UE.plugins.autotypeset=function(){this.setOpt({autotypeset:{mergeEmptyline:true,removeClass:true,removeEmptyline:false,textAlign:"left",imageBlockLine:"center",pasteFilter:false,clearFontSize:false,clearFontFamily:false,removeEmptyNode:false,removeTagNames:utils.extend({div:1},dtd.$removeEmpty),indent:false,indentValue:"2em",bdc2sb:false,tobdc:false}});var me=this,opt=me.options.autotypeset,remainClass={selectTdClass:1,pagebreak:1,anchorclass:1},remainTag={li:1},tags={div:1,p:1,blockquote:1,center:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,span:1},highlightCont;if(!opt){return}readLocalOpts();function isLine(node,notEmpty){if(!node||node.nodeType==3){return 0}if(domUtils.isBr(node)){return 1}if(node&&node.parentNode&&tags[node.tagName.toLowerCase()]){if(highlightCont&&highlightCont.contains(node)||node.getAttribute("pagebreak")){return 0}return notEmpty?!domUtils.isEmptyBlock(node):domUtils.isEmptyBlock(node,new RegExp("[\\s"+domUtils.fillChar+"]","g"))}}function removeNotAttributeSpan(node){if(!node.style.cssText){domUtils.removeAttributes(node,["style"]);if(node.tagName.toLowerCase()=="span"&&domUtils.hasNoAttributes(node)){domUtils.remove(node,true)}}}function autotype(type,html){var me=this,cont;if(html){if(!opt.pasteFilter){return}cont=me.document.createElement("div");cont.innerHTML=html.html}else{cont=me.document.body}var nodes=domUtils.getElementsByTagName(cont,"*");for(var i=0,ci;ci=nodes[i++];){if(me.fireEvent("excludeNodeinautotype",ci)===true){continue}if(opt.clearFontSize&&ci.style.fontSize){domUtils.removeStyle(ci,"font-size");removeNotAttributeSpan(ci)}if(opt.clearFontFamily&&ci.style.fontFamily){domUtils.removeStyle(ci,"font-family");removeNotAttributeSpan(ci)}if(isLine(ci)){if(opt.mergeEmptyline){var next=ci.nextSibling,tmpNode,isBr=domUtils.isBr(ci);while(isLine(next)){tmpNode=next;next=tmpNode.nextSibling;if(isBr&&(!next||next&&!domUtils.isBr(next))){break}domUtils.remove(tmpNode)}}if(opt.removeEmptyline&&domUtils.inDoc(ci,cont)&&!remainTag[ci.parentNode.tagName.toLowerCase()]){if(domUtils.isBr(ci)){next=ci.nextSibling;if(next&&!domUtils.isBr(next)){continue}}domUtils.remove(ci);continue}}if(isLine(ci,true)&&ci.tagName!="SPAN"){if(opt.indent){ci.style.textIndent=opt.indentValue}if(opt.textAlign){ci.style.textAlign=opt.textAlign}}if(opt.removeClass&&ci.className&&!remainClass[ci.className.toLowerCase()]){if(highlightCont&&highlightCont.contains(ci)){continue}domUtils.removeAttributes(ci,["class"])}if(opt.imageBlockLine&&ci.tagName.toLowerCase()=="img"&&!ci.getAttribute("emotion")){if(html){var img=ci;switch(opt.imageBlockLine){case"left":case"right":case"none":var pN=img.parentNode,tmpNode,pre,next;while(dtd.$inline[pN.tagName]||pN.tagName=="A"){pN=pN.parentNode}tmpNode=pN;if(tmpNode.tagName=="P"&&domUtils.getStyle(tmpNode,"text-align")=="center"){if(!domUtils.isBody(tmpNode)&&domUtils.getChildCount(tmpNode,function(node){return !domUtils.isBr(node)&&!domUtils.isWhitespace(node)})==1){pre=tmpNode.previousSibling;next=tmpNode.nextSibling;if(pre&&next&&pre.nodeType==1&&next.nodeType==1&&pre.tagName==next.tagName&&domUtils.isBlockElm(pre)){pre.appendChild(tmpNode.firstChild);while(next.firstChild){pre.appendChild(next.firstChild)}domUtils.remove(tmpNode);domUtils.remove(next)}else{domUtils.setStyle(tmpNode,"text-align","")}}}domUtils.setStyle(img,"float",opt.imageBlockLine);break;case"center":if(me.queryCommandValue("imagefloat")!="center"){pN=img.parentNode;domUtils.setStyle(img,"float","none");tmpNode=img;while(pN&&domUtils.getChildCount(pN,function(node){return !domUtils.isBr(node)&&!domUtils.isWhitespace(node)})==1&&(dtd.$inline[pN.tagName]||pN.tagName=="A")){tmpNode=pN;pN=pN.parentNode}var pNode=me.document.createElement("p");domUtils.setAttributes(pNode,{style:"text-align:center"});tmpNode.parentNode.insertBefore(pNode,tmpNode);pNode.appendChild(tmpNode);domUtils.setStyle(tmpNode,"float","")}}}else{var range=me.selection.getRange();range.selectNode(ci).select();me.execCommand("imagefloat",opt.imageBlockLine)}}if(opt.removeEmptyNode){if(opt.removeTagNames[ci.tagName.toLowerCase()]&&domUtils.hasNoAttributes(ci)&&domUtils.isEmptyBlock(ci)){domUtils.remove(ci)}}}if(opt.tobdc){var root=UE.htmlparser(cont.innerHTML);root.traversal(function(node){if(node.type=="text"){node.data=ToDBC(node.data)}});cont.innerHTML=root.toHtml()}if(opt.bdc2sb){var root=UE.htmlparser(cont.innerHTML);root.traversal(function(node){if(node.type=="text"){node.data=DBC2SB(node.data)}});cont.innerHTML=root.toHtml()}if(html){html.html=cont.innerHTML}}if(opt.pasteFilter){me.addListener("beforepaste",autotype)}function DBC2SB(str){var result="";for(var i=0;i<str.length;i++){var code=str.charCodeAt(i);if(code>=65281&&code<=65373){result+=String.fromCharCode(str.charCodeAt(i)-65248)}else{if(code==12288){result+=String.fromCharCode(str.charCodeAt(i)-12288+32)}else{result+=str.charAt(i)}}}return result}function ToDBC(txtstring){txtstring=utils.html(txtstring);var tmp="";var mark="";for(var i=0;i<txtstring.length;i++){if(txtstring.charCodeAt(i)==32){tmp=tmp+String.fromCharCode(12288)}else{if(txtstring.charCodeAt(i)<127){tmp=tmp+String.fromCharCode(txtstring.charCodeAt(i)+65248)}else{tmp+=txtstring.charAt(i)}}}return tmp}function readLocalOpts(){var cookieOpt=me.getPreferences("autotypeset");utils.extend(me.options.autotypeset,cookieOpt)}me.commands.autotypeset={execCommand:function(){me.removeListener("beforepaste",autotype);if(opt.pasteFilter){me.addListener("beforepaste",autotype)}autotype.call(me)}}};UE.plugin.register("autosubmit",function(){return{shortcutkey:{autosubmit:"ctrl+13"},commands:{autosubmit:{execCommand:function(){var me=this,form=domUtils.findParentByTagName(me.iframe,"form",false);if(form){if(me.fireEvent("beforesubmit")===false){return}me.sync();form.submit()}}}}}});UE.plugin.register("background",function(){var me=this,cssRuleId="editor_background",isSetColored,reg=new RegExp("body[\\s]*\\{(.+)\\}","i");function stringToObj(str){var obj={},styles=str.split(";");utils.each(styles,function(v){var index=v.indexOf(":"),key=utils.trim(v.substr(0,index)).toLowerCase();key&&(obj[key]=utils.trim(v.substr(index+1)||""))});return obj}function setBackground(obj){if(obj){var styles=[];for(var name in obj){if(obj.hasOwnProperty(name)){styles.push(name+":"+obj[name]+"; ")}}utils.cssRule(cssRuleId,styles.length?("body{"+styles.join("")+"}"):"",me.document)}else{utils.cssRule(cssRuleId,"",me.document)}}var orgFn=me.hasContents;me.hasContents=function(){if(me.queryCommandValue("background")){return true}return orgFn.apply(me,arguments)};return{bindEvents:{getAllHtml:function(type,headHtml){var body=this.body,su=domUtils.getComputedStyle(body,"background-image"),url="";if(su.indexOf(me.options.imagePath)>0){url=su.substring(su.indexOf(me.options.imagePath),su.length-1).replace(/"|\(|\)/ig,"")}else{url=su!="none"?su.replace(/url\("?|"?\)/ig,""):""}var html='<style type="text/css">body{';var bgObj={"background-color":domUtils.getComputedStyle(body,"background-color")||"#ffffff","background-image":url?"url("+url+")":"","background-repeat":domUtils.getComputedStyle(body,"background-repeat")||"","background-position":browser.ie?(domUtils.getComputedStyle(body,"background-position-x")+" "+domUtils.getComputedStyle(body,"background-position-y")):domUtils.getComputedStyle(body,"background-position"),height:domUtils.getComputedStyle(body,"height")};for(var name in bgObj){if(bgObj.hasOwnProperty(name)){html+=name+":"+bgObj[name]+"; "}}html+="}</style> ";headHtml.push(html)},aftersetcontent:function(){if(isSetColored==false){setBackground()}}},inputRule:function(root){isSetColored=false;utils.each(root.getNodesByTagName("p"),function(p){var styles=p.getAttr("data-background");if(styles){isSetColored=true;setBackground(stringToObj(styles));p.parentNode.removeChild(p)}})},outputRule:function(root){var me=this,styles=(utils.cssRule(cssRuleId,me.document)||"").replace(/[\n\r]+/g,"").match(reg);if(styles){root.appendChild(UE.uNode.createElement('<p style="display:none;" data-background="'+utils.trim(styles[1].replace(/"/g,"").replace(/[\s]+/g," "))+'"><br/></p>'))}},commands:{background:{execCommand:function(cmd,obj){setBackground(obj)},queryCommandValue:function(){var me=this,styles=(utils.cssRule(cssRuleId,me.document)||"").replace(/[\n\r]+/g,"").match(reg);return styles?stringToObj(styles[1]):null},notNeedUndo:true}}}});UE.commands.imagefloat={execCommand:function(cmd,align){var me=this,range=me.selection.getRange();if(!range.collapsed){var img=range.getClosedNode();if(img&&img.tagName=="IMG"){switch(align){case"left":case"right":case"none":var pN=img.parentNode,tmpNode,pre,next;while(dtd.$inline[pN.tagName]||pN.tagName=="A"){pN=pN.parentNode}tmpNode=pN;if(tmpNode.tagName=="P"&&domUtils.getStyle(tmpNode,"text-align")=="center"){if(!domUtils.isBody(tmpNode)&&domUtils.getChildCount(tmpNode,function(node){return !domUtils.isBr(node)&&!domUtils.isWhitespace(node)})==1){pre=tmpNode.previousSibling;next=tmpNode.nextSibling;if(pre&&next&&pre.nodeType==1&&next.nodeType==1&&pre.tagName==next.tagName&&domUtils.isBlockElm(pre)){pre.appendChild(tmpNode.firstChild);while(next.firstChild){pre.appendChild(next.firstChild)}domUtils.remove(tmpNode);domUtils.remove(next)}else{domUtils.setStyle(tmpNode,"text-align","")}}range.selectNode(img).select()}domUtils.setStyle(img,"float",align=="none"?"":align);if(align=="none"){domUtils.removeAttributes(img,"align")}break;case"center":if(me.queryCommandValue("imagefloat")!="center"){pN=img.parentNode;domUtils.setStyle(img,"float","");domUtils.removeAttributes(img,"align");tmpNode=img;while(pN&&domUtils.getChildCount(pN,function(node){return !domUtils.isBr(node)&&!domUtils.isWhitespace(node)})==1&&(dtd.$inline[pN.tagName]||pN.tagName=="A")){tmpNode=pN;pN=pN.parentNode}range.setStartBefore(tmpNode).setCursor(false);pN=me.document.createElement("div");pN.appendChild(tmpNode);domUtils.setStyle(tmpNode,"float","");me.execCommand("insertHtml",'<p id="_img_parent_tmp" style="text-align:center">'+pN.innerHTML+"</p>");tmpNode=me.document.getElementById("_img_parent_tmp");tmpNode.removeAttribute("id");tmpNode=tmpNode.firstChild;range.selectNode(tmpNode).select();next=tmpNode.parentNode.nextSibling;if(next&&domUtils.isEmptyNode(next)){domUtils.remove(next)}}break}}}},queryCommandValue:function(){var range=this.selection.getRange(),startNode,floatStyle;if(range.collapsed){return"none"}startNode=range.getClosedNode();if(startNode&&startNode.nodeType==1&&startNode.tagName=="IMG"){floatStyle=domUtils.getComputedStyle(startNode,"float")||startNode.getAttribute("align");if(floatStyle=="none"){floatStyle=domUtils.getComputedStyle(startNode.parentNode,"text-align")=="center"?"center":floatStyle}return{left:1,right:1,center:1}[floatStyle]?floatStyle:"none"}return"none"},queryCommandState:function(){var range=this.selection.getRange(),startNode;if(range.collapsed){return -1}startNode=range.getClosedNode();if(startNode&&startNode.nodeType==1&&startNode.tagName=="IMG"){return 0}return -1}};UE.commands.insertimage={execCommand:function(cmd,opt){opt=utils.isArray(opt)?opt:[opt];if(!opt.length){return}var me=this,range=me.selection.getRange(),img=range.getClosedNode();if(me.fireEvent("beforeinsertimage",opt)===true){return}if(img&&/img/i.test(img.tagName)&&(img.className!="edui-faked-video"||img.className.indexOf("edui-upload-video")!=-1)&&!img.getAttribute("word_img")){var first=opt.shift();var floatStyle=first.floatStyle;delete first.floatStyle;domUtils.setAttributes(img,first);me.execCommand("imagefloat",floatStyle);if(opt.length>0){range.setStartAfter(img).setCursor(false,true);me.execCommand("insertimage",opt)}}else{var html=[],str="",ci;ci=opt[0];if(opt.length==1){str='<img src="'+ci.src+'" '+(ci._src?' _src="'+ci._src+'" ':"")+(ci.width?'width="'+ci.width+'" ':"")+(ci.height?' height="'+ci.height+'" ':"")+(ci.floatStyle=="left"||ci.floatStyle=="right"?' style="float:'+ci.floatStyle+';"':"")+(ci.title&&ci.title!=""?' title="'+ci.title+'"':"")+(ci.border&&ci.border!="0"?' border="'+ci.border+'"':"")+(ci.alt&&ci.alt!=""?' alt="'+ci.alt+'"':"")+(ci.hspace&&ci.hspace!="0"?' hspace = "'+ci.hspace+'"':"")+(ci.vspace&&ci.vspace!="0"?' vspace = "'+ci.vspace+'"':"")+"/>";if(ci.floatStyle=="center"){str='<p style="text-align: center">'+str+"</p>"}html.push(str)}else{for(var i=0;ci=opt[i++];){str="<p "+(ci.floatStyle=="center"?'style="text-align: center" ':"")+'><img src="'+ci.src+'" '+(ci.width?'width="'+ci.width+'" ':"")+(ci._src?' _src="'+ci._src+'" ':"")+(ci.height?' height="'+ci.height+'" ':"")+' style="'+(ci.floatStyle&&ci.floatStyle!="center"?"float:"+ci.floatStyle+";":"")+(ci.border||"")+'" '+(ci.title?' title="'+ci.title+'"':"")+" /></p>";html.push(str)}}me.execCommand("insertHtml",html.join(""))}me.fireEvent("afterinsertimage",opt)}};UE.plugins.justify=function(){var me=this,block=domUtils.isBlockElm,defaultValue={left:1,right:1,center:1,justify:1},doJustify=function(range,style){var bookmark=range.createBookmark(),filterFn=function(node){return node.nodeType==1?node.tagName.toLowerCase()!="br"&&!domUtils.isBookmarkNode(node):!domUtils.isWhitespace(node)};range.enlarge(true);var bookmark2=range.createBookmark(),current=domUtils.getNextDomNode(bookmark2.start,false,filterFn),tmpRange=range.cloneRange(),tmpNode;while(current&&!(domUtils.getPosition(current,bookmark2.end)&domUtils.POSITION_FOLLOWING)){if(current.nodeType==3||!block(current)){tmpRange.setStartBefore(current);while(current&&current!==bookmark2.end&&!block(current)){tmpNode=current;current=domUtils.getNextDomNode(current,false,null,function(node){return !block(node)})}tmpRange.setEndAfter(tmpNode);var common=tmpRange.getCommonAncestor();if(!domUtils.isBody(common)&&block(common)){domUtils.setStyles(common,utils.isString(style)?{"text-align":style}:style);current=common}else{var p=range.document.createElement("p");domUtils.setStyles(p,utils.isString(style)?{"text-align":style}:style);var frag=tmpRange.extractContents();p.appendChild(frag);tmpRange.insertNode(p);current=p}current=domUtils.getNextDomNode(current,false,filterFn)}else{current=domUtils.getNextDomNode(current,true,filterFn)}}return range.moveToBookmark(bookmark2).moveToBookmark(bookmark)};UE.commands.justify={execCommand:function(cmdName,align){var range=this.selection.getRange(),txt;if(range.collapsed){txt=this.document.createTextNode("p");range.insertNode(txt)}doJustify(range,align);if(txt){range.setStartBefore(txt).collapse(true);domUtils.remove(txt)}range.select();return true},queryCommandValue:function(){var startNode=this.selection.getStart(),value=domUtils.getComputedStyle(startNode,"text-align");return defaultValue[value]?value:"left"},queryCommandState:function(){var start=this.selection.getStart(),cell=start&&domUtils.findParentByTagName(start,["td","th","caption"],true);return cell?-1:0}}};UE.plugins.font=function(){var me=this,fonts={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family",underline:"text-decoration",strikethrough:"text-decoration",fontborder:"border"},needCmd={underline:1,strikethrough:1,fontborder:1},needSetChild={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family"};me.setOpt({fontfamily:[{name:"songti",val:"宋体,SimSun"},{name:"yahei",val:"微软雅黑,Microsoft YaHei"},{name:"kaiti",val:"楷体,楷体_GB2312, SimKai"},{name:"heiti",val:"黑体, SimHei"},{name:"lishu",val:"隶书, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"}],fontsize:[10,11,12,14,16,18,20,24,36]});function mergeWithParent(node){var parent;while(parent=node.parentNode){if(parent.tagName=="SPAN"&&domUtils.getChildCount(parent,function(child){return !domUtils.isBookmarkNode(child)&&!domUtils.isBr(child)})==1){parent.style.cssText+=node.style.cssText;domUtils.remove(node,true);node=parent}else{break}}}function mergeChild(rng,cmdName,value){if(needSetChild[cmdName]){rng.adjustmentBoundary();if(!rng.collapsed&&rng.startContainer.nodeType==1){var start=rng.startContainer.childNodes[rng.startOffset];if(start&&domUtils.isTagNode(start,"span")){var bk=rng.createBookmark();utils.each(domUtils.getElementsByTagName(start,"span"),function(span){if(!span.parentNode||domUtils.isBookmarkNode(span)){return}if(cmdName=="backcolor"&&domUtils.getComputedStyle(span,"background-color").toLowerCase()===value){return}domUtils.removeStyle(span,needSetChild[cmdName]);if(span.style.cssText.replace(/^\s+$/,"").length==0){domUtils.remove(span,true)}});rng.moveToBookmark(bk)}}}}function mergesibling(rng,cmdName,value){var collapsed=rng.collapsed,bk=rng.createBookmark(),common;if(collapsed){common=bk.start.parentNode;while(dtd.$inline[common.tagName]){common=common.parentNode}}else{common=domUtils.getCommonAncestor(bk.start,bk.end)}utils.each(domUtils.getElementsByTagName(common,"span"),function(span){if(!span.parentNode||domUtils.isBookmarkNode(span)){return}if(/\s*border\s*:\s*none;?\s*/i.test(span.style.cssText)){if(/^\s*border\s*:\s*none;?\s*$/.test(span.style.cssText)){domUtils.remove(span,true)}else{domUtils.removeStyle(span,"border")}return}if(/border/i.test(span.style.cssText)&&span.parentNode.tagName=="SPAN"&&/border/i.test(span.parentNode.style.cssText)){span.style.cssText=span.style.cssText.replace(/border[^:]*:[^;]+;?/gi,"")}if(!(cmdName=="fontborder"&&value=="none")){var next=span.nextSibling;while(next&&next.nodeType==1&&next.tagName=="SPAN"){if(domUtils.isBookmarkNode(next)&&cmdName=="fontborder"){span.appendChild(next);next=span.nextSibling;continue}if(next.style.cssText==span.style.cssText){domUtils.moveChild(next,span);domUtils.remove(next)}if(span.nextSibling===next){break}next=span.nextSibling}}mergeWithParent(span);if(browser.ie&&browser.version>8){var parent=domUtils.findParent(span,function(n){return n.tagName=="SPAN"&&/background-color/.test(n.style.cssText)});if(parent&&!/background-color/.test(span.style.cssText)){span.style.backgroundColor=parent.style.backgroundColor}}});rng.moveToBookmark(bk);mergeChild(rng,cmdName,value)}me.addInputRule(function(root){utils.each(root.getNodesByTagName("u s del font strike"),function(node){if(node.tagName=="font"){var cssStyle=[];for(var p in node.attrs){switch(p){case"size":cssStyle.push("font-size:"+({"1":"10","2":"12","3":"16","4":"18","5":"24","6":"32","7":"48"}[node.attrs[p]]||node.attrs[p])+"px");break;case"color":cssStyle.push("color:"+node.attrs[p]);break;case"face":cssStyle.push("font-family:"+node.attrs[p]);break;case"style":cssStyle.push(node.attrs[p])}}node.attrs={style:cssStyle.join(";")}}else{var val=node.tagName=="u"?"underline":"line-through";node.attrs={style:(node.getAttr("style")||"")+"text-decoration:"+val+";"}}node.tagName="span"})});for(var p in fonts){(function(cmd,style){UE.commands[cmd]={execCommand:function(cmdName,value){value=value||(this.queryCommandState(cmdName)?"none":cmdName=="underline"?"underline":cmdName=="fontborder"?"1px solid #000":"line-through");var me=this,range=this.selection.getRange(),text;if(value=="default"){if(range.collapsed){text=me.document.createTextNode("font");range.insertNode(text).select()}me.execCommand("removeFormat","span,a",style);if(text){range.setStartBefore(text).collapse(true);domUtils.remove(text)}mergesibling(range,cmdName,value);range.select()}else{if(!range.collapsed){if(needCmd[cmd]&&me.queryCommandValue(cmd)){me.execCommand("removeFormat","span,a",style)}range=me.selection.getRange();range.applyInlineStyle("span",{style:style+":"+value});mergesibling(range,cmdName,value);range.select()}else{var span=domUtils.findParentByTagName(range.startContainer,"span",true);text=me.document.createTextNode("font");if(span&&!span.children.length&&!span[browser.ie?"innerText":"textContent"].replace(fillCharReg,"").length){range.insertNode(text);if(needCmd[cmd]){range.selectNode(text).select();me.execCommand("removeFormat","span,a",style,null);span=domUtils.findParentByTagName(text,"span",true);range.setStartBefore(text)}span&&(span.style.cssText+=";"+style+":"+value);range.collapse(true).select()}else{range.insertNode(text);range.selectNode(text).select();span=range.document.createElement("span");if(needCmd[cmd]){if(domUtils.findParentByTagName(text,"a",true)){range.setStartBefore(text).setCursor();domUtils.remove(text);return}me.execCommand("removeFormat","span,a",style)}span.style.cssText=style+":"+value;text.parentNode.insertBefore(span,text);if(!browser.ie||browser.ie&&browser.version==9){var spanParent=span.parentNode;while(!domUtils.isBlockElm(spanParent)){if(spanParent.tagName=="SPAN"){span.style.cssText=spanParent.style.cssText+";"+span.style.cssText}spanParent=spanParent.parentNode}}if(opera){setTimeout(function(){range.setStart(span,0).collapse(true);mergesibling(range,cmdName,value);range.select()})}else{range.setStart(span,0).collapse(true);mergesibling(range,cmdName,value);range.select()}}domUtils.remove(text)}}return true},queryCommandValue:function(cmdName){var startNode=this.selection.getStart();if(cmdName=="underline"||cmdName=="strikethrough"){var tmpNode=startNode,value;while(tmpNode&&!domUtils.isBlockElm(tmpNode)&&!domUtils.isBody(tmpNode)){if(tmpNode.nodeType==1){value=domUtils.getComputedStyle(tmpNode,style);if(value!="none"){return value}}tmpNode=tmpNode.parentNode}return"none"}if(cmdName=="fontborder"){var tmp=startNode,val;while(tmp&&dtd.$inline[tmp.tagName]){if(val=domUtils.getComputedStyle(tmp,"border")){if(/1px/.test(val)&&/solid/.test(val)){return val}}tmp=tmp.parentNode}return""}if(cmdName=="FontSize"){var styleVal=domUtils.getComputedStyle(startNode,style),tmp=/^([\d\.]+)(\w+)$/.exec(styleVal);if(tmp){return Math.floor(tmp[1])+tmp[2]}return styleVal}return domUtils.getComputedStyle(startNode,style)},queryCommandState:function(cmdName){if(!needCmd[cmdName]){return 0}var val=this.queryCommandValue(cmdName);if(cmdName=="fontborder"){return/1px/.test(val)&&/solid/.test(val)}else{return cmdName=="underline"?/underline/.test(val):/line\-through/.test(val)}}}})(p,fonts[p])}};UE.plugins.link=function(){function optimize(range){var start=range.startContainer,end=range.endContainer;if(start=domUtils.findParentByTagName(start,"a",true)){range.setStartBefore(start)}if(end=domUtils.findParentByTagName(end,"a",true)){range.setEndAfter(end)}}UE.commands.unlink={execCommand:function(){var range=this.selection.getRange(),bookmark;if(range.collapsed&&!domUtils.findParentByTagName(range.startContainer,"a",true)){return}bookmark=range.createBookmark();optimize(range);range.removeInlineStyle("a").moveToBookmark(bookmark).select()},queryCommandState:function(){return !this.highlight&&this.queryCommandValue("link")?0:-1}};function doLink(range,opt,me){var rngClone=range.cloneRange(),link=me.queryCommandValue("link");optimize(range=range.adjustmentBoundary());var start=range.startContainer;if(start.nodeType==1&&link){start=start.childNodes[range.startOffset];if(start&&start.nodeType==1&&start.tagName=="A"&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(start[browser.ie?"innerText":"textContent"])){start[browser.ie?"innerText":"textContent"]=utils.html(opt.textValue||opt.href)}}if(!rngClone.collapsed||link){range.removeInlineStyle("a");rngClone=range.cloneRange()}if(rngClone.collapsed){var a=range.document.createElement("a"),text="";if(opt.textValue){text=utils.html(opt.textValue);delete opt.textValue}else{text=utils.html(opt.href)}domUtils.setAttributes(a,opt);start=domUtils.findParentByTagName(rngClone.startContainer,"a",true);if(start&&domUtils.isInNodeEndBoundary(rngClone,start)){range.setStartAfter(start).collapse(true)}a[browser.ie?"innerText":"textContent"]=text;range.insertNode(a).selectNode(a)}else{range.applyInlineStyle("a",opt)}}UE.commands.link={execCommand:function(cmdName,opt){var range;opt._href&&(opt._href=utils.unhtml(opt._href,/[<">]/g));opt.href&&(opt.href=utils.unhtml(opt.href,/[<">]/g));opt.textValue&&(opt.textValue=utils.unhtml(opt.textValue,/[<">]/g));doLink(range=this.selection.getRange(),opt,this);range.collapse().select(true)},queryCommandValue:function(){var range=this.selection.getRange(),node;if(range.collapsed){node=range.startContainer;node=node.nodeType==1?node:node.parentNode;if(node&&(node=domUtils.findParentByTagName(node,"a",true))&&!domUtils.isInNodeEndBoundary(range,node)){return node}}else{range.shrinkBoundary();var start=range.startContainer.nodeType==3||!range.startContainer.childNodes[range.startOffset]?range.startContainer:range.startContainer.childNodes[range.startOffset],end=range.endContainer.nodeType==3||range.endOffset==0?range.endContainer:range.endContainer.childNodes[range.endOffset-1],common=range.getCommonAncestor();node=domUtils.findParentByTagName(common,"a",true);if(!node&&common.nodeType==1){var as=common.getElementsByTagName("a"),ps,pe;for(var i=0,ci;ci=as[i++];){ps=domUtils.getPosition(ci,start),pe=domUtils.getPosition(ci,end);if((ps&domUtils.POSITION_FOLLOWING||ps&domUtils.POSITION_CONTAINS)&&(pe&domUtils.POSITION_PRECEDING||pe&domUtils.POSITION_CONTAINS)){node=ci;break}}}return node}},queryCommandState:function(){var img=this.selection.getRange().getClosedNode(),flag=img&&(img.className=="edui-faked-video"||img.className.indexOf("edui-upload-video")!=-1);return flag?-1:0}}};UE.plugins.insertframe=function(){var me=this;function deleteIframe(){me._iframe&&delete me._iframe}me.addListener("selectionchange",function(){deleteIframe()})};UE.commands.scrawl={queryCommandState:function(){return(browser.ie&&browser.version<=8)?-1:0}};UE.plugins.removeformat=function(){var me=this;me.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"});me.commands.removeformat={execCommand:function(cmdName,tags,style,attrs,notIncludeA){var tagReg=new RegExp("^(?:"+(tags||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),removeFormatAttributes=style?[]:(attrs||this.options.removeFormatAttributes).split(","),range=new dom.Range(this.document),bookmark,node,parent,filter=function(node){return node.nodeType==1};function isRedundantSpan(node){if(node.nodeType==3||node.tagName.toLowerCase()!="span"){return 0}if(browser.ie){var attrs=node.attributes;if(attrs.length){for(var i=0,l=attrs.length;i<l;i++){if(attrs[i].specified){return 0}}return 1}}return !node.attributes.length}function doRemove(range){var bookmark1=range.createBookmark();if(range.collapsed){range.enlarge(true)}if(!notIncludeA){var aNode=domUtils.findParentByTagName(range.startContainer,"a",true);if(aNode){range.setStartBefore(aNode)}aNode=domUtils.findParentByTagName(range.endContainer,"a",true);if(aNode){range.setEndAfter(aNode)}}bookmark=range.createBookmark();node=bookmark.start;while((parent=node.parentNode)&&!domUtils.isBlockElm(parent)){domUtils.breakParent(node,parent);domUtils.clearEmptySibling(node)}if(bookmark.end){node=bookmark.end;while((parent=node.parentNode)&&!domUtils.isBlockElm(parent)){domUtils.breakParent(node,parent);domUtils.clearEmptySibling(node)}var current=domUtils.getNextDomNode(bookmark.start,false,filter),next;while(current){if(current==bookmark.end){break}next=domUtils.getNextDomNode(current,true,filter);if(!dtd.$empty[current.tagName.toLowerCase()]&&!domUtils.isBookmarkNode(current)){if(tagReg.test(current.tagName)){if(style){domUtils.removeStyle(current,style);if(isRedundantSpan(current)&&style!="text-decoration"){domUtils.remove(current,true)}}else{domUtils.remove(current,true)}}else{if(!dtd.$tableContent[current.tagName]&&!dtd.$list[current.tagName]){domUtils.removeAttributes(current,removeFormatAttributes);if(isRedundantSpan(current)){domUtils.remove(current,true)}}}}current=next}}var pN=bookmark.start.parentNode;if(domUtils.isBlockElm(pN)&&!dtd.$tableContent[pN.tagName]&&!dtd.$list[pN.tagName]){domUtils.removeAttributes(pN,removeFormatAttributes)}pN=bookmark.end.parentNode;if(bookmark.end&&domUtils.isBlockElm(pN)&&!dtd.$tableContent[pN.tagName]&&!dtd.$list[pN.tagName]){domUtils.removeAttributes(pN,removeFormatAttributes)}range.moveToBookmark(bookmark).moveToBookmark(bookmark1);var node=range.startContainer,tmp,collapsed=range.collapsed;while(node.nodeType==1&&domUtils.isEmptyNode(node)&&dtd.$removeEmpty[node.tagName]){tmp=node.parentNode;range.setStartBefore(node);if(range.startContainer===range.endContainer){range.endOffset--}domUtils.remove(node);node=tmp}if(!collapsed){node=range.endContainer;while(node.nodeType==1&&domUtils.isEmptyNode(node)&&dtd.$removeEmpty[node.tagName]){tmp=node.parentNode;range.setEndBefore(node);domUtils.remove(node);node=tmp}}}range=this.selection.getRange();doRemove(range);range.select()}}};UE.plugins.blockquote=function(){var me=this;function getObj(editor){return domUtils.filterNodeList(editor.selection.getStartElementPath(),"blockquote")}me.commands.blockquote={execCommand:function(cmdName,attrs){var range=this.selection.getRange(),obj=getObj(this),blockquote=dtd.blockquote,bookmark=range.createBookmark();if(obj){var start=range.startContainer,startBlock=domUtils.isBlockElm(start)?start:domUtils.findParent(start,function(node){return domUtils.isBlockElm(node)}),end=range.endContainer,endBlock=domUtils.isBlockElm(end)?end:domUtils.findParent(end,function(node){return domUtils.isBlockElm(node)});startBlock=domUtils.findParentByTagName(startBlock,"li",true)||startBlock;endBlock=domUtils.findParentByTagName(endBlock,"li",true)||endBlock;if(startBlock.tagName=="LI"||startBlock.tagName=="TD"||startBlock===obj||domUtils.isBody(startBlock)){domUtils.remove(obj,true)}else{domUtils.breakParent(startBlock,obj)}if(startBlock!==endBlock){obj=domUtils.findParentByTagName(endBlock,"blockquote");if(obj){if(endBlock.tagName=="LI"||endBlock.tagName=="TD"||domUtils.isBody(endBlock)){obj.parentNode&&domUtils.remove(obj,true)}else{domUtils.breakParent(endBlock,obj)}}}var blockquotes=domUtils.getElementsByTagName(this.document,"blockquote");for(var i=0,bi;bi=blockquotes[i++];){if(!bi.childNodes.length){domUtils.remove(bi)}else{if(domUtils.getPosition(bi,startBlock)&domUtils.POSITION_FOLLOWING&&domUtils.getPosition(bi,endBlock)&domUtils.POSITION_PRECEDING){domUtils.remove(bi,true)}}}}else{var tmpRange=range.cloneRange(),node=tmpRange.startContainer.nodeType==1?tmpRange.startContainer:tmpRange.startContainer.parentNode,preNode=node,doEnd=1;while(1){if(domUtils.isBody(node)){if(preNode!==node){if(range.collapsed){tmpRange.selectNode(preNode);doEnd=0}else{tmpRange.setStartBefore(preNode)}}else{tmpRange.setStart(node,0)}break}if(!blockquote[node.tagName]){if(range.collapsed){tmpRange.selectNode(preNode)}else{tmpRange.setStartBefore(preNode)}break}preNode=node;node=node.parentNode}if(doEnd){preNode=node=node=tmpRange.endContainer.nodeType==1?tmpRange.endContainer:tmpRange.endContainer.parentNode;while(1){if(domUtils.isBody(node)){if(preNode!==node){tmpRange.setEndAfter(preNode)}else{tmpRange.setEnd(node,node.childNodes.length)}break}if(!blockquote[node.tagName]){tmpRange.setEndAfter(preNode);break}preNode=node;node=node.parentNode}}node=range.document.createElement("blockquote");domUtils.setAttributes(node,attrs);node.appendChild(tmpRange.extractContents());tmpRange.insertNode(node);var childs=domUtils.getElementsByTagName(node,"blockquote");for(var i=0,ci;ci=childs[i++];){if(ci.parentNode){domUtils.remove(ci,true)}}}range.moveToBookmark(bookmark).select()},queryCommandState:function(){return getObj(this)?1:0}}};UE.commands.touppercase=UE.commands.tolowercase={execCommand:function(cmd){var me=this;var rng=me.selection.getRange();if(rng.collapsed){return rng}var bk=rng.createBookmark(),bkEnd=bk.end,filterFn=function(node){return !domUtils.isBr(node)&&!domUtils.isWhitespace(node)},curNode=domUtils.getNextDomNode(bk.start,false,filterFn);while(curNode&&(domUtils.getPosition(curNode,bkEnd)&domUtils.POSITION_PRECEDING)){if(curNode.nodeType==3){curNode.nodeValue=curNode.nodeValue[cmd=="touppercase"?"toUpperCase":"toLowerCase"]()}curNode=domUtils.getNextDomNode(curNode,true,filterFn);if(curNode===bkEnd){break}}rng.moveToBookmark(bk).select()}};UE.commands.indent={execCommand:function(){var me=this,value=me.queryCommandState("indent")?"0em":(me.options.indentValue||"2em");me.execCommand("Paragraph","p",{style:"text-indent:"+value})},queryCommandState:function(){var pN=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return pN&&pN.style.textIndent&&parseInt(pN.style.textIndent)?1:0}};UE.commands.print={execCommand:function(){this.window.print()},notNeedUndo:1};UE.commands.preview={execCommand:function(){var w=window.open("","_blank",""),d=w.document;d.open();d.write('<!DOCTYPE html><html><head><meta charset="utf-8"/><script src="'+this.options.UEDITOR_HOME_URL+"ueditor.parse.js\"><\/script><script>setTimeout(function(){uParse('div',{rootPath: '"+this.options.UEDITOR_HOME_URL+"'})},300)<\/script></head><body><div>"+this.getContent(null,null,true)+"</div></body></html>");d.close()},notNeedUndo:1};UE.plugins.selectall=function(){var me=this;me.commands.selectall={execCommand:function(){var me=this,body=me.body,range=me.selection.getRange();range.selectNodeContents(body);if(domUtils.isEmptyBlock(body)){if(browser.opera&&body.firstChild&&body.firstChild.nodeType==1){range.setStartAtFirst(body.firstChild)}range.collapse(true)}range.select(true)},notNeedUndo:1};me.addshortcutkey({selectAll:"ctrl+65"})};UE.plugins.paragraph=function(){var me=this,block=domUtils.isBlockElm,notExchange=["TD","LI","PRE"],doParagraph=function(range,style,attrs,sourceCmdName){var bookmark=range.createBookmark(),filterFn=function(node){return node.nodeType==1?node.tagName.toLowerCase()!="br"&&!domUtils.isBookmarkNode(node):!domUtils.isWhitespace(node)},para;range.enlarge(true);var bookmark2=range.createBookmark(),current=domUtils.getNextDomNode(bookmark2.start,false,filterFn),tmpRange=range.cloneRange(),tmpNode;while(current&&!(domUtils.getPosition(current,bookmark2.end)&domUtils.POSITION_FOLLOWING)){if(current.nodeType==3||!block(current)){tmpRange.setStartBefore(current);while(current&&current!==bookmark2.end&&!block(current)){tmpNode=current;current=domUtils.getNextDomNode(current,false,null,function(node){return !block(node)})}tmpRange.setEndAfter(tmpNode);para=range.document.createElement(style);if(attrs){domUtils.setAttributes(para,attrs);if(sourceCmdName&&sourceCmdName=="customstyle"&&attrs.style){para.style.cssText=attrs.style}}para.appendChild(tmpRange.extractContents());if(domUtils.isEmptyNode(para)){domUtils.fillChar(range.document,para)}tmpRange.insertNode(para);var parent=para.parentNode;if(block(parent)&&!domUtils.isBody(para.parentNode)&&utils.indexOf(notExchange,parent.tagName)==-1){if(!(sourceCmdName&&sourceCmdName=="customstyle")){parent.getAttribute("dir")&&para.setAttribute("dir",parent.getAttribute("dir"));parent.style.cssText&&(para.style.cssText=parent.style.cssText+";"+para.style.cssText);parent.style.textAlign&&!para.style.textAlign&&(para.style.textAlign=parent.style.textAlign);parent.style.textIndent&&!para.style.textIndent&&(para.style.textIndent=parent.style.textIndent);parent.style.padding&&!para.style.padding&&(para.style.padding=parent.style.padding)}if(attrs&&/h\d/i.test(parent.tagName)&&!/h\d/i.test(para.tagName)){domUtils.setAttributes(parent,attrs);if(sourceCmdName&&sourceCmdName=="customstyle"&&attrs.style){parent.style.cssText=attrs.style}domUtils.remove(para,true);para=parent}else{domUtils.remove(para.parentNode,true)}}if(utils.indexOf(notExchange,parent.tagName)!=-1){current=parent}else{current=para}current=domUtils.getNextDomNode(current,false,filterFn)}else{current=domUtils.getNextDomNode(current,true,filterFn)}}return range.moveToBookmark(bookmark2).moveToBookmark(bookmark)};me.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""});me.commands.paragraph={execCommand:function(cmdName,style,attrs,sourceCmdName){var range=this.selection.getRange();if(range.collapsed){var txt=this.document.createTextNode("p");range.insertNode(txt);if(browser.ie){var node=txt.previousSibling;if(node&&domUtils.isWhitespace(node)){domUtils.remove(node)}node=txt.nextSibling;if(node&&domUtils.isWhitespace(node)){domUtils.remove(node)}}}range=doParagraph(range,style,attrs,sourceCmdName);if(txt){range.setStartBefore(txt).collapse(true);pN=txt.parentNode;domUtils.remove(txt);if(domUtils.isBlockElm(pN)&&domUtils.isEmptyNode(pN)){domUtils.fillNode(this.document,pN)}}if(browser.gecko&&range.collapsed&&range.startContainer.nodeType==1){var child=range.startContainer.childNodes[range.startOffset];if(child&&child.nodeType==1&&child.tagName.toLowerCase()==style){range.setStart(child,0).collapse(true)}}range.select();return true},queryCommandValue:function(){var node=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return node?node.tagName.toLowerCase():""}}};(function(){var block=domUtils.isBlockElm,getObj=function(editor){return domUtils.filterNodeList(editor.selection.getStartElementPath(),function(n){return n&&n.nodeType==1&&n.getAttribute("dir")})},doDirectionality=function(range,editor,forward){var bookmark,filterFn=function(node){return node.nodeType==1?!domUtils.isBookmarkNode(node):!domUtils.isWhitespace(node)},obj=getObj(editor);if(obj&&range.collapsed){obj.setAttribute("dir",forward);return range}bookmark=range.createBookmark();range.enlarge(true);var bookmark2=range.createBookmark(),current=domUtils.getNextDomNode(bookmark2.start,false,filterFn),tmpRange=range.cloneRange(),tmpNode;while(current&&!(domUtils.getPosition(current,bookmark2.end)&domUtils.POSITION_FOLLOWING)){if(current.nodeType==3||!block(current)){tmpRange.setStartBefore(current);while(current&&current!==bookmark2.end&&!block(current)){tmpNode=current;current=domUtils.getNextDomNode(current,false,null,function(node){return !block(node)})}tmpRange.setEndAfter(tmpNode);var common=tmpRange.getCommonAncestor();if(!domUtils.isBody(common)&&block(common)){common.setAttribute("dir",forward);current=common}else{var p=range.document.createElement("p");p.setAttribute("dir",forward);var frag=tmpRange.extractContents();p.appendChild(frag);tmpRange.insertNode(p);current=p}current=domUtils.getNextDomNode(current,false,filterFn)}else{current=domUtils.getNextDomNode(current,true,filterFn)}}return range.moveToBookmark(bookmark2).moveToBookmark(bookmark)};UE.commands.directionality={execCommand:function(cmdName,forward){var range=this.selection.getRange();if(range.collapsed){var txt=this.document.createTextNode("d");range.insertNode(txt)}doDirectionality(range,this,forward);if(txt){range.setStartBefore(txt).collapse(true);domUtils.remove(txt)}range.select();return true},queryCommandValue:function(){var node=getObj(this);return node?node.getAttribute("dir"):"ltr"}}})();UE.plugins.horizontal=function(){var me=this;me.commands.horizontal={execCommand:function(cmdName){var me=this;if(me.queryCommandState(cmdName)!==-1){me.execCommand("insertHtml","<hr>");var range=me.selection.getRange(),start=range.startContainer;if(start.nodeType==1&&!start.childNodes[range.startOffset]){var tmp;if(tmp=start.childNodes[range.startOffset-1]){if(tmp.nodeType==1&&tmp.tagName=="HR"){if(me.options.enterTag=="p"){tmp=me.document.createElement("p");range.insertNode(tmp);range.setStart(tmp,0).setCursor()}else{tmp=me.document.createElement("br");range.insertNode(tmp);range.setStartBefore(tmp).setCursor()}}}}return true}},queryCommandState:function(){return domUtils.filterNodeList(this.selection.getStartElementPath(),"table")?-1:0}};me.addListener("delkeydown",function(name,evt){var rng=this.selection.getRange();rng.txtToElmBoundary(true);if(domUtils.isStartInblock(rng)){var tmpNode=rng.startContainer;var pre=tmpNode.previousSibling;if(pre&&domUtils.isTagNode(pre,"hr")){domUtils.remove(pre);rng.select();domUtils.preventDefault(evt);return true}}})};UE.commands.time=UE.commands.date={execCommand:function(cmd,format){var date=new Date;function formatTime(date,format){var hh=("0"+date.getHours()).slice(-2),ii=("0"+date.getMinutes()).slice(-2),ss=("0"+date.getSeconds()).slice(-2);format=format||"hh:ii:ss";return format.replace(/hh/ig,hh).replace(/ii/ig,ii).replace(/ss/ig,ss)}function formatDate(date,format){var yyyy=("000"+date.getFullYear()).slice(-4),yy=yyyy.slice(-2),mm=("0"+(date.getMonth()+1)).slice(-2),dd=("0"+date.getDate()).slice(-2);format=format||"yyyy-mm-dd";return format.replace(/yyyy/ig,yyyy).replace(/yy/ig,yy).replace(/mm/ig,mm).replace(/dd/ig,dd)}this.execCommand("insertHtml",cmd=="time"?formatTime(date,format):formatDate(date,format))}};UE.plugins.rowspacing=function(){var me=this;me.setOpt({rowspacingtop:["5","10","15","20","25"],rowspacingbottom:["5","10","15","20","25"]});me.commands.rowspacing={execCommand:function(cmdName,value,dir){this.execCommand("paragraph","p",{style:"margin-"+dir+":"+value+"px"});return true},queryCommandValue:function(cmdName,dir){var pN=domUtils.filterNodeList(this.selection.getStartElementPath(),function(node){return domUtils.isBlockElm(node)}),value;if(pN){value=domUtils.getComputedStyle(pN,"margin-"+dir).replace(/[^\d]/g,"");return !value?0:value}return 0}}};UE.plugins.lineheight=function(){var me=this;me.setOpt({lineheight:["1","1.5","1.75","2","3","4","5"]});me.commands.lineheight={execCommand:function(cmdName,value){this.execCommand("paragraph","p",{style:"line-height:"+(value=="1"?"normal":value+"em")});return true},queryCommandValue:function(){var pN=domUtils.filterNodeList(this.selection.getStartElementPath(),function(node){return domUtils.isBlockElm(node)});if(pN){var value=domUtils.getComputedStyle(pN,"line-height");return value=="normal"?1:value.replace(/[^\d.]*/ig,"")}}}};UE.plugins.insertcode=function(){var me=this;me.ready(function(){utils.cssRule("pre","pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}",me.document)});me.setOpt("insertcode",{as3:"ActionScript3",bash:"Bash/Shell",cpp:"C/C++",css:"Css",cf:"CodeFunction","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"Html",java:"Java",jfx:"JavaFx",js:"Javascript",pl:"Perl",php:"Php",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"Sql",vb:"Vb",xml:"Xml"});me.commands.insertcode={execCommand:function(cmd,lang){var me=this,rng=me.selection.getRange(),pre=domUtils.findParentByTagName(rng.startContainer,"pre",true);if(pre){pre.className="brush:"+lang+";toolbar:false;"}else{var code="";if(rng.collapsed){code=browser.ie&&browser.ie11below?(browser.version<=8?"&nbsp;":""):"<br/>"}else{var frag=rng.extractContents();var div=me.document.createElement("div");div.appendChild(frag);utils.each(UE.filterNode(UE.htmlparser(div.innerHTML.replace(/[\r\t]/g,"")),me.options.filterTxtRules).children,function(node){if(browser.ie&&browser.ie11below&&browser.version>8){if(node.type=="element"){if(node.tagName=="br"){code+="\n"}else{if(!dtd.$empty[node.tagName]){utils.each(node.children,function(cn){if(cn.type=="element"){if(cn.tagName=="br"){code+="\n"}else{if(!dtd.$empty[node.tagName]){code+=cn.innerText()}}}else{code+=cn.data}});if(!/\n$/.test(code)){code+="\n"}}}}else{code+=node.data+"\n"}if(!node.nextSibling()&&/\n$/.test(code)){code=code.replace(/\n$/,"")}}else{if(browser.ie&&browser.ie11below){if(node.type=="element"){if(node.tagName=="br"){code+="<br>"}else{if(!dtd.$empty[node.tagName]){utils.each(node.children,function(cn){if(cn.type=="element"){if(cn.tagName=="br"){code+="<br>"}else{if(!dtd.$empty[node.tagName]){code+=cn.innerText()}}}else{code+=cn.data}});if(!/br>$/.test(code)){code+="<br>"}}}}else{code+=node.data+"<br>"}if(!node.nextSibling()&&/<br>$/.test(code)){code=code.replace(/<br>$/,"")}}else{code+=(node.type=="element"?(dtd.$empty[node.tagName]?"":node.innerText()):node.data);if(!/br\/?\s*>$/.test(code)){if(!node.nextSibling()){return}code+="<br>"}}}})}me.execCommand("inserthtml",'<pre id="coder"class="brush:'+lang+';toolbar:false">'+code+"</pre>",true);pre=me.document.getElementById("coder");domUtils.removeAttributes(pre,"id");var tmpNode=pre.previousSibling;if(tmpNode&&(tmpNode.nodeType==3&&tmpNode.nodeValue.length==1&&browser.ie&&browser.version==6||domUtils.isEmptyBlock(tmpNode))){domUtils.remove(tmpNode)}var rng=me.selection.getRange();if(domUtils.isEmptyBlock(pre)){rng.setStart(pre,0).setCursor(false,true)}else{rng.selectNodeContents(pre).select()}}},queryCommandValue:function(){var path=this.selection.getStartElementPath();var lang="";utils.each(path,function(node){if(node.nodeName=="PRE"){var match=node.className.match(/brush:([^;]+)/);lang=match&&match[1]?match[1]:"";return false}});return lang}};me.addInputRule(function(root){utils.each(root.getNodesByTagName("pre"),function(pre){var brs=pre.getNodesByTagName("br");if(brs.length){browser.ie&&browser.ie11below&&browser.version>8&&utils.each(brs,function(br){var txt=UE.uNode.createText("\n");br.parentNode.insertBefore(txt,br);br.parentNode.removeChild(br)});return}if(browser.ie&&browser.ie11below&&browser.version>8){return}var code=pre.innerText().split(/\n/);pre.innerHTML("");utils.each(code,function(c){if(c.length){pre.appendChild(UE.uNode.createText(c))}pre.appendChild(UE.uNode.createElement("br"))})})});me.addOutputRule(function(root){utils.each(root.getNodesByTagName("pre"),function(pre){var code="";utils.each(pre.children,function(n){if(n.type=="text"){code+=n.data.replace(/[ ]/g,"&nbsp;").replace(/\n$/,"")}else{if(n.tagName=="br"){code+="\n"}else{code+=(!dtd.$empty[n.tagName]?"":n.innerText())}}});pre.innerText(code.replace(/(&nbsp;|\n)+$/,""))})});me.notNeedCodeQuery={help:1,undo:1,redo:1,source:1,print:1,searchreplace:1,fullscreen:1,preview:1,insertparagraph:1,elementpath:1,insertcode:1,inserthtml:1,selectall:1};var orgQuery=me.queryCommandState;me.queryCommandState=function(cmd){var me=this;if(!me.notNeedCodeQuery[cmd.toLowerCase()]&&me.selection&&me.queryCommandValue("insertcode")){return -1}return UE.Editor.prototype.queryCommandState.apply(this,arguments)};me.addListener("beforeenterkeydown",function(){var rng=me.selection.getRange();var pre=domUtils.findParentByTagName(rng.startContainer,"pre",true);if(pre){me.fireEvent("saveScene");if(!rng.collapsed){rng.deleteContents()}if(!browser.ie||browser.ie9above){var tmpNode=me.document.createElement("br"),pre;rng.insertNode(tmpNode).setStartAfter(tmpNode).collapse(true);var next=tmpNode.nextSibling;if(!next&&(!browser.ie||browser.version>10)){rng.insertNode(tmpNode.cloneNode(false))}else{rng.setStartAfter(tmpNode)}pre=tmpNode.previousSibling;var tmp;while(pre){tmp=pre;pre=pre.previousSibling;if(!pre||pre.nodeName=="BR"){pre=tmp;break}}if(pre){var str="";while(pre&&pre.nodeName!="BR"&&new RegExp("^[\\s"+domUtils.fillChar+"]*$").test(pre.nodeValue)){str+=pre.nodeValue;pre=pre.nextSibling}if(pre.nodeName!="BR"){var match=pre.nodeValue.match(new RegExp("^([\\s"+domUtils.fillChar+"]+)"));if(match&&match[1]){str+=match[1]}}if(str){str=me.document.createTextNode(str);rng.insertNode(str).setStartAfter(str)}}rng.collapse(true).select(true)}else{if(browser.version>8){var txt=me.document.createTextNode("\n");var start=rng.startContainer;if(rng.startOffset==0){var preNode=start.previousSibling;if(preNode){rng.insertNode(txt);var fillchar=me.document.createTextNode(" ");rng.setStartAfter(txt).insertNode(fillchar).setStart(fillchar,0).collapse(true).select(true)}}else{rng.insertNode(txt).setStartAfter(txt);var fillchar=me.document.createTextNode(" ");start=rng.startContainer.childNodes[rng.startOffset];if(start&&!/^\n/.test(start.nodeValue)){rng.setStartBefore(txt)}rng.insertNode(fillchar).setStart(fillchar,0).collapse(true).select(true)}}else{var tmpNode=me.document.createElement("br");rng.insertNode(tmpNode);rng.insertNode(me.document.createTextNode(domUtils.fillChar));rng.setStartAfter(tmpNode);pre=tmpNode.previousSibling;var tmp;while(pre){tmp=pre;pre=pre.previousSibling;if(!pre||pre.nodeName=="BR"){pre=tmp;break}}if(pre){var str="";while(pre&&pre.nodeName!="BR"&&new RegExp("^[ "+domUtils.fillChar+"]*$").test(pre.nodeValue)){str+=pre.nodeValue;pre=pre.nextSibling}if(pre.nodeName!="BR"){var match=pre.nodeValue.match(new RegExp("^([ "+domUtils.fillChar+"]+)"));if(match&&match[1]){str+=match[1]}}str=me.document.createTextNode(str);rng.insertNode(str).setStartAfter(str)}rng.collapse(true).select()}}me.fireEvent("saveScene");return true}});me.addListener("tabkeydown",function(cmd,evt){var rng=me.selection.getRange();var pre=domUtils.findParentByTagName(rng.startContainer,"pre",true);if(pre){me.fireEvent("saveScene");if(evt.shiftKey){}else{if(!rng.collapsed){var bk=rng.createBookmark();var start=bk.start.previousSibling;while(start){if(pre.firstChild===start&&!domUtils.isBr(start)){pre.insertBefore(me.document.createTextNode("    "),start);break}if(domUtils.isBr(start)){pre.insertBefore(me.document.createTextNode("    "),start.nextSibling);break}start=start.previousSibling}var end=bk.end;start=bk.start.nextSibling;if(pre.firstChild===bk.start){pre.insertBefore(me.document.createTextNode("    "),start.nextSibling)}while(start&&start!==end){if(domUtils.isBr(start)&&start.nextSibling){if(start.nextSibling===end){break}pre.insertBefore(me.document.createTextNode("    "),start.nextSibling)}start=start.nextSibling}rng.moveToBookmark(bk).select()}else{var tmpNode=me.document.createTextNode("    ");rng.insertNode(tmpNode).setStartAfter(tmpNode).collapse(true).select(true)}}me.fireEvent("saveScene");return true}});me.addListener("beforeinserthtml",function(evtName,html){var me=this,rng=me.selection.getRange(),pre=domUtils.findParentByTagName(rng.startContainer,"pre",true);if(pre){if(!rng.collapsed){rng.deleteContents()}var htmlstr="";if(browser.ie&&browser.version>8){utils.each(UE.filterNode(UE.htmlparser(html),me.options.filterTxtRules).children,function(node){if(node.type=="element"){if(node.tagName=="br"){htmlstr+="\n"}else{if(!dtd.$empty[node.tagName]){utils.each(node.children,function(cn){if(cn.type=="element"){if(cn.tagName=="br"){htmlstr+="\n"}else{if(!dtd.$empty[node.tagName]){htmlstr+=cn.innerText()}}}else{htmlstr+=cn.data}});if(!/\n$/.test(htmlstr)){htmlstr+="\n"}}}}else{htmlstr+=node.data+"\n"}if(!node.nextSibling()&&/\n$/.test(htmlstr)){htmlstr=htmlstr.replace(/\n$/,"")}});var tmpNode=me.document.createTextNode(utils.html(htmlstr.replace(/&nbsp;/g," ")));rng.insertNode(tmpNode).selectNode(tmpNode).select()}else{var frag=me.document.createDocumentFragment();utils.each(UE.filterNode(UE.htmlparser(html),me.options.filterTxtRules).children,function(node){if(node.type=="element"){if(node.tagName=="br"){frag.appendChild(me.document.createElement("br"))}else{if(!dtd.$empty[node.tagName]){utils.each(node.children,function(cn){if(cn.type=="element"){if(cn.tagName=="br"){frag.appendChild(me.document.createElement("br"))}else{if(!dtd.$empty[node.tagName]){frag.appendChild(me.document.createTextNode(utils.html(cn.innerText().replace(/&nbsp;/g," "))))}}}else{frag.appendChild(me.document.createTextNode(utils.html(cn.data.replace(/&nbsp;/g," "))))}});if(frag.lastChild.nodeName!="BR"){frag.appendChild(me.document.createElement("br"))}}}}else{frag.appendChild(me.document.createTextNode(utils.html(node.data.replace(/&nbsp;/g," "))))}if(!node.nextSibling()&&frag.lastChild.nodeName=="BR"){frag.removeChild(frag.lastChild)}});rng.insertNode(frag).select()}return true}});me.addListener("keydown",function(cmd,evt){var me=this,keyCode=evt.keyCode||evt.which;if(keyCode==40){var rng=me.selection.getRange(),pre,start=rng.startContainer;if(rng.collapsed&&(pre=domUtils.findParentByTagName(rng.startContainer,"pre",true))&&!pre.nextSibling){var last=pre.lastChild;while(last&&last.nodeName=="BR"){last=last.previousSibling}if(last===start||rng.startContainer===pre&&rng.startOffset==pre.childNodes.length){me.execCommand("insertparagraph");domUtils.preventDefault(evt)}}}});me.addListener("delkeydown",function(type,evt){var rng=this.selection.getRange();rng.txtToElmBoundary(true);var start=rng.startContainer;if(domUtils.isTagNode(start,"pre")&&rng.collapsed&&domUtils.isStartInblock(rng)){var p=me.document.createElement("p");domUtils.fillNode(me.document,p);start.parentNode.insertBefore(p,start);domUtils.remove(start);rng.setStart(p,0).setCursor(false,true);domUtils.preventDefault(evt);return true}})};UE.commands.cleardoc={execCommand:function(cmdName){var me=this,enterTag=me.options.enterTag,range=me.selection.getRange();if(enterTag=="br"){me.body.innerHTML="<br/>";range.setStart(me.body,0).setCursor()}else{me.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>";range.setStart(me.body.firstChild,0).setCursor(false,true)}setTimeout(function(){me.fireEvent("clearDoc")},0)}};UE.plugin.register("anchor",function(){return{bindEvents:{ready:function(){utils.cssRule("anchor",".anchorclass{background: url('"+this.options.themePath+this.options.theme+"/images/anchor.gif') no-repeat scroll left center transparent;cursor: auto;display: inline-block;height: 16px;width: 15px;}",this.document)}},outputRule:function(root){utils.each(root.getNodesByTagName("img"),function(a){var val;if(val=a.getAttr("anchorname")){a.tagName="a";a.setAttr({anchorname:"",name:val,"class":""})}})},inputRule:function(root){utils.each(root.getNodesByTagName("a"),function(a){var val;if((val=a.getAttr("name"))&&!a.getAttr("href")){a.tagName="img";a.setAttr({anchorname:a.getAttr("name"),"class":"anchorclass"});a.setAttr("name")}})},commands:{anchor:{execCommand:function(cmd,name){var range=this.selection.getRange(),img=range.getClosedNode();if(img&&img.getAttribute("anchorname")){if(name){img.setAttribute("anchorname",name)}else{range.setStartBefore(img).setCursor();domUtils.remove(img)}}else{if(name){var anchor=this.document.createElement("img");range.collapse(true);domUtils.setAttributes(anchor,{anchorname:name,"class":"anchorclass"});range.insertNode(anchor).setStartAfter(anchor).setCursor(false,true)}}}}}}});UE.plugins.wordcount=function(){var me=this;me.setOpt("wordCount",true);me.addListener("contentchange",function(){me.fireEvent("wordcount")});var timer;me.addListener("ready",function(){var me=this;domUtils.on(me.body,"keyup",function(evt){var code=evt.keyCode||evt.which,ignores={"16":1,"18":1,"20":1,"37":1,"38":1,"39":1,"40":1};if(code in ignores){return}clearTimeout(timer);timer=setTimeout(function(){me.fireEvent("wordcount")},200)})})};UE.plugins.pagebreak=function(){var me=this,notBreakTags=["td"];me.setOpt("pageBreakTag","_ueditor_page_break_tag_");function fillNode(node){if(domUtils.isEmptyBlock(node)){var firstChild=node.firstChild,tmpNode;while(firstChild&&firstChild.nodeType==1&&domUtils.isEmptyBlock(firstChild)){tmpNode=firstChild;firstChild=firstChild.firstChild}!tmpNode&&(tmpNode=node);domUtils.fillNode(me.document,tmpNode)}}me.ready(function(){utils.cssRule("pagebreak",".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}",me.document)});function isHr(node){return node&&node.nodeType==1&&node.tagName=="HR"&&node.className=="pagebreak"}me.addInputRule(function(root){root.traversal(function(node){if(node.type=="text"&&node.data==me.options.pageBreakTag){var hr=UE.uNode.createElement('<hr class="pagebreak" noshade="noshade" size="5" style="-webkit-user-select: none;">');node.parentNode.insertBefore(hr,node);node.parentNode.removeChild(node)}})});me.addOutputRule(function(node){utils.each(node.getNodesByTagName("hr"),function(n){if(n.getAttr("class")=="pagebreak"){var txt=UE.uNode.createText(me.options.pageBreakTag);n.parentNode.insertBefore(txt,n);n.parentNode.removeChild(n)}})});me.commands.pagebreak={execCommand:function(){var range=me.selection.getRange(),hr=me.document.createElement("hr");domUtils.setAttributes(hr,{"class":"pagebreak",noshade:"noshade",size:"5"});domUtils.unSelectable(hr);var node=domUtils.findParentByTagName(range.startContainer,notBreakTags,true),parents=[],pN;if(node){switch(node.tagName){case"TD":pN=node.parentNode;if(!pN.previousSibling){var table=domUtils.findParentByTagName(pN,"table");table.parentNode.insertBefore(hr,table);parents=domUtils.findParents(hr,true)}else{pN.parentNode.insertBefore(hr,pN);parents=domUtils.findParents(hr)}pN=parents[1];if(hr!==pN){domUtils.breakParent(hr,pN)}me.fireEvent("afteradjusttable",me.document)}}else{if(!range.collapsed){range.deleteContents();var start=range.startContainer;while(!domUtils.isBody(start)&&domUtils.isBlockElm(start)&&domUtils.isEmptyNode(start)){range.setStartBefore(start).collapse(true);domUtils.remove(start);start=range.startContainer}}range.insertNode(hr);var pN=hr.parentNode,nextNode;while(!domUtils.isBody(pN)){domUtils.breakParent(hr,pN);nextNode=hr.nextSibling;if(nextNode&&domUtils.isEmptyBlock(nextNode)){domUtils.remove(nextNode)}pN=hr.parentNode}nextNode=hr.nextSibling;var pre=hr.previousSibling;if(isHr(pre)){domUtils.remove(pre)}else{pre&&fillNode(pre)}if(!nextNode){var p=me.document.createElement("p");hr.parentNode.appendChild(p);domUtils.fillNode(me.document,p);range.setStart(p,0).collapse(true)}else{if(isHr(nextNode)){domUtils.remove(nextNode)}else{fillNode(nextNode)}range.setEndAfter(hr).collapse(false)}range.select(true)}}}};UE.plugin.register("wordimage",function(){var me=this,images=[];return{commands:{wordimage:{execCommand:function(){var images=domUtils.getElementsByTagName(me.body,"img");var urlList=[];for(var i=0,ci;ci=images[i++];){var url=ci.getAttribute("word_img");url&&urlList.push(url)}return urlList},queryCommandState:function(){images=domUtils.getElementsByTagName(me.body,"img");for(var i=0,ci;ci=images[i++];){if(ci.getAttribute("word_img")){return 1}}return -1},notNeedUndo:true}},inputRule:function(root){utils.each(root.getNodesByTagName("img"),function(img){var attrs=img.attrs,flag=parseInt(attrs.width)<128||parseInt(attrs.height)<43,opt=me.options,src=opt.UEDITOR_HOME_URL+"themes/default/images/spacer.gif";if(attrs.src&&/^(?:(file:\/+))/.test(attrs.src)){img.setAttr({width:attrs.width,height:attrs.height,alt:attrs.alt,word_img:attrs.src,src:src,style:"background:url("+(flag?opt.themePath+opt.theme+"/images/word.gif":opt.langPath+opt.lang+"/images/localimage.png")+") no-repeat center center;border:1px solid #ddd"})}})}}});UE.plugins.dragdrop=function(){var me=this;me.ready(function(){domUtils.on(this.body,"dragend",function(){var rng=me.selection.getRange();var node=rng.getClosedNode()||me.selection.getStart();if(node&&node.tagName=="IMG"){var pre=node.previousSibling,next;while(next=node.nextSibling){if(next.nodeType==1&&next.tagName=="SPAN"&&!next.firstChild){domUtils.remove(next)}else{break}}if((pre&&pre.nodeType==1&&!domUtils.isEmptyBlock(pre)||!pre)&&(!next||next&&!domUtils.isEmptyBlock(next))){if(pre&&pre.tagName=="P"&&!domUtils.isEmptyBlock(pre)){pre.appendChild(node);domUtils.moveChild(next,pre);domUtils.remove(next)}else{if(next&&next.tagName=="P"&&!domUtils.isEmptyBlock(next)){next.insertBefore(node,next.firstChild)}}if(pre&&pre.tagName=="P"&&domUtils.isEmptyBlock(pre)){domUtils.remove(pre)}if(next&&next.tagName=="P"&&domUtils.isEmptyBlock(next)){domUtils.remove(next)}rng.selectNode(node).select();me.fireEvent("saveScene")}}})});me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which;if(keyCode==13){var rng=me.selection.getRange(),node;if(node=domUtils.findParentByTagName(rng.startContainer,"p",true)){if(domUtils.getComputedStyle(node,"text-align")=="center"){domUtils.removeStyle(node,"text-align")}}}})};UE.plugins.undo=function(){var saveSceneTimer;var me=this,maxUndoCount=me.options.maxUndoCount||20,maxInputCount=me.options.maxInputCount||20,fillchar=new RegExp(domUtils.fillChar+"|</hr>","gi");var noNeedFillCharTags={ol:1,ul:1,table:1,tbody:1,tr:1,body:1};var orgState=me.options.autoClearEmptyNode;function compareAddr(indexA,indexB){if(indexA.length!=indexB.length){return 0}for(var i=0,l=indexA.length;i<l;i++){if(indexA[i]!=indexB[i]){return 0}}return 1}function compareRangeAddress(rngAddrA,rngAddrB){if(rngAddrA.collapsed!=rngAddrB.collapsed){return 0}if(!compareAddr(rngAddrA.startAddress,rngAddrB.startAddress)||!compareAddr(rngAddrA.endAddress,rngAddrB.endAddress)){return 0}return 1}function UndoManager(){this.list=[];this.index=0;this.hasUndo=false;this.hasRedo=false;this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&this.list.length==1){this.reset();return}while(this.list[this.index].content==this.list[this.index-1].content){this.index--;if(this.index==0){return this.restore(0)}}this.restore(--this.index)}};this.redo=function(){if(this.hasRedo){while(this.list[this.index].content==this.list[this.index+1].content){this.index++;if(this.index==this.list.length-1){return this.restore(this.index)}}this.restore(++this.index)}};this.restore=function(){var me=this.editor;var scene=this.list[this.index];var root=UE.htmlparser(scene.content.replace(fillchar,""));me.options.autoClearEmptyNode=false;me.filterInputRule(root);me.options.autoClearEmptyNode=orgState;me.document.body.innerHTML=root.toHtml();me.fireEvent("afterscencerestore");if(browser.ie){utils.each(domUtils.getElementsByTagName(me.document,"td th caption p"),function(node){if(domUtils.isEmptyNode(node)){domUtils.fillNode(me.document,node)}})}try{var rng=new dom.Range(me.document).moveToAddress(scene.address);rng.select(noNeedFillCharTags[rng.startContainer.nodeName.toLowerCase()])}catch(e){}this.update();this.clearKey();me.fireEvent("reset",true)};this.getScene=function(){var me=this.editor;var rng=me.selection.getRange(),rngAddress=rng.createAddress(false,true);me.fireEvent("beforegetscene");var root=UE.htmlparser(me.body.innerHTML);me.options.autoClearEmptyNode=false;me.filterOutputRule(root);me.options.autoClearEmptyNode=orgState;var cont=root.toHtml();me.fireEvent("aftergetscene");return{address:rngAddress,content:cont}};this.save=function(notCompareRange,notSetCursor){clearTimeout(saveSceneTimer);var currentScene=this.getScene(notSetCursor),lastScene=this.list[this.index];if(lastScene&&lastScene.content!=currentScene.content){me.trigger("contentchange")}if(lastScene&&lastScene.content==currentScene.content&&(notCompareRange?1:compareRangeAddress(lastScene.address,currentScene.address))){return}this.list=this.list.slice(0,this.index+1);this.list.push(currentScene);if(this.list.length>maxUndoCount){this.list.shift()}this.index=this.list.length-1;this.clearKey();this.update()};this.update=function(){this.hasRedo=!!this.list[this.index+1];this.hasUndo=!!this.list[this.index-1]};this.reset=function(){this.list=[];this.index=0;this.hasUndo=false;this.hasRedo=false;this.clearKey()};this.clearKey=function(){keycont=0;lastKeyCode=null}}me.undoManger=new UndoManager();me.undoManger.editor=me;function saveScene(){this.undoManger.save()}me.addListener("saveScene",function(){var args=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,args)});me.addListener("reset",function(type,exclude){if(!exclude){this.undoManger.reset()}});me.commands.redo=me.commands.undo={execCommand:function(cmdName){this.undoManger[cmdName]()},queryCommandState:function(cmdName){return this.undoManger["has"+(cmdName.toLowerCase()=="undo"?"Undo":"Redo")]?0:-1},notNeedUndo:1};var keys={16:1,17:1,18:1,37:1,38:1,39:1,40:1},keycont=0,lastKeyCode;var inputType=false;me.addListener("ready",function(){domUtils.on(this.body,"compositionstart",function(){inputType=true});domUtils.on(this.body,"compositionend",function(){inputType=false})});me.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89"});var isCollapsed=true;me.addListener("keydown",function(type,evt){var me=this;var keyCode=evt.keyCode||evt.which;if(!keys[keyCode]&&!evt.ctrlKey&&!evt.metaKey&&!evt.shiftKey&&!evt.altKey){if(inputType){return}if(!me.selection.getRange().collapsed){me.undoManger.save(false,true);isCollapsed=false;return}if(me.undoManger.list.length==0){me.undoManger.save(true)}clearTimeout(saveSceneTimer);function save(cont){cont.undoManger.save(false,true);cont.fireEvent("selectionchange")}saveSceneTimer=setTimeout(function(){if(inputType){var interalTimer=setInterval(function(){if(!inputType){save(me);clearInterval(interalTimer)}},300);return}save(me)},200);lastKeyCode=keyCode;keycont++;if(keycont>=maxInputCount){save(me)}}});me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which;if(!keys[keyCode]&&!evt.ctrlKey&&!evt.metaKey&&!evt.shiftKey&&!evt.altKey){if(inputType){return}if(!isCollapsed){this.undoManger.save(false,true);isCollapsed=true}}});me.stopCmdUndo=function(){me.__hasEnterExecCommand=true};me.startCmdUndo=function(){me.__hasEnterExecCommand=false}};UE.plugin.register("copy",function(){var me=this;function initZeroClipboard(){ZeroClipboard.config({debug:false,swfPath:me.options.UEDITOR_HOME_URL+"third-party/zeroclipboard/ZeroClipboard.swf"});var client=me.zeroclipboard=new ZeroClipboard();client.on("copy",function(e){var client=e.client,rng=me.selection.getRange(),div=document.createElement("div");div.appendChild(rng.cloneContents());client.setText(div.innerText||div.textContent);client.setHtml(div.innerHTML);rng.select()});client.on("mouseover mouseout",function(e){var target=e.target;if(e.type=="mouseover"){domUtils.addClass(target,"edui-state-hover")}else{if(e.type=="mouseout"){domUtils.removeClasses(target,"edui-state-hover")}}});client.on("wrongflash noflash",function(){ZeroClipboard.destroy()})}return{bindEvents:{ready:function(){if(!browser.ie){if(window.ZeroClipboard){initZeroClipboard()}else{utils.loadFile(document,{src:me.options.UEDITOR_HOME_URL+"third-party/zeroclipboard/ZeroClipboard.js",tag:"script",type:"text/javascript",defer:"defer"},function(){initZeroClipboard()})}}}},commands:{copy:{execCommand:function(cmd){if(!me.document.execCommand("copy")){alert(me.getLang("copymsg"))}}}}}});UE.plugins.paste=function(){function getClipboardData(callback){var doc=this.document;if(doc.getElementById("baidu_pastebin")){return}var range=this.selection.getRange(),bk=range.createBookmark(),pastebin=doc.createElement("div");pastebin.id="baidu_pastebin";browser.webkit&&pastebin.appendChild(doc.createTextNode(domUtils.fillChar+domUtils.fillChar));doc.body.appendChild(pastebin);bk.start.style.display="";pastebin.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+domUtils.getXY(bk.start).y+"px";range.selectNodeContents(pastebin).select(true);setTimeout(function(){if(browser.webkit){for(var i=0,pastebins=doc.querySelectorAll("#baidu_pastebin"),pi;pi=pastebins[i++];){if(domUtils.isEmptyNode(pi)){domUtils.remove(pi)}else{pastebin=pi;break}}}try{pastebin.parentNode.removeChild(pastebin)}catch(e){}range.moveToBookmark(bk).select(true);callback(pastebin)},0)}var me=this;me.setOpt({retainOnlyLabelPasted:false});var txtContent,htmlContent,address;function getPureHtml(html){return html.replace(/<(\/?)([\w\-]+)([^>]*)>/gi,function(a,b,tagName,attrs){tagName=tagName.toLowerCase();if({img:1}[tagName]){return a}attrs=attrs.replace(/([\w\-]*?)\s*=\s*(("([^"]*)")|('([^']*)')|([^\s>]+))/gi,function(str,atr,val){if({src:1,href:1,name:1}[atr.toLowerCase()]){return atr+"="+val+" "}return""});if({span:1,div:1}[tagName]){return""}else{return"<"+b+tagName+" "+utils.trim(attrs)+">"}})}function filter(div){var html;if(div.firstChild){var nodes=domUtils.getElementsByTagName(div,"span");for(var i=0,ni;ni=nodes[i++];){if(ni.id=="_baidu_cut_start"||ni.id=="_baidu_cut_end"){domUtils.remove(ni)}}if(browser.webkit){var brs=div.querySelectorAll("div br");for(var i=0,bi;bi=brs[i++];){var pN=bi.parentNode;if(pN.tagName=="DIV"&&pN.childNodes.length==1){pN.innerHTML="<p><br/></p>";domUtils.remove(pN)}}var divs=div.querySelectorAll("#baidu_pastebin");for(var i=0,di;di=divs[i++];){var tmpP=me.document.createElement("p");di.parentNode.insertBefore(tmpP,di);while(di.firstChild){tmpP.appendChild(di.firstChild)}domUtils.remove(di)}var metas=div.querySelectorAll("meta");for(var i=0,ci;ci=metas[i++];){domUtils.remove(ci)}var brs=div.querySelectorAll("br");for(i=0;ci=brs[i++];){if(/^apple-/i.test(ci.className)){domUtils.remove(ci)}}}if(browser.gecko){var dirtyNodes=div.querySelectorAll("[_moz_dirty]");for(i=0;ci=dirtyNodes[i++];){ci.removeAttribute("_moz_dirty")}}if(!browser.ie){var spans=div.querySelectorAll("span.Apple-style-span");for(var i=0,ci;ci=spans[i++];){domUtils.remove(ci,true)}}html=div.innerHTML;html=UE.filterWord(html);var root=UE.htmlparser(html);if(me.options.filterRules){UE.filterNode(root,me.options.filterRules)}me.filterInputRule(root);if(browser.webkit){var br=root.lastChild();if(br&&br.type=="element"&&br.tagName=="br"){root.removeChild(br)}utils.each(me.body.querySelectorAll("div"),function(node){if(domUtils.isEmptyBlock(node)){domUtils.remove(node,true)}})}html={html:root.toHtml()};me.fireEvent("beforepaste",html,root);if(!html.html){return}root=UE.htmlparser(html.html,true);if(me.queryCommandState("pasteplain")===1){me.execCommand("insertHtml",UE.filterNode(root,me.options.filterTxtRules).toHtml(),true)}else{UE.filterNode(root,me.options.filterTxtRules);txtContent=root.toHtml();htmlContent=html.html;address=me.selection.getRange().createAddress(true);me.execCommand("insertHtml",me.getOpt("retainOnlyLabelPasted")===true?getPureHtml(htmlContent):htmlContent,true)}me.fireEvent("afterpaste",html)}}me.addListener("pasteTransfer",function(cmd,plainType){if(address&&txtContent&&htmlContent&&txtContent!=htmlContent){var range=me.selection.getRange();range.moveToAddress(address,true);if(!range.collapsed){while(!domUtils.isBody(range.startContainer)){var start=range.startContainer;if(start.nodeType==1){start=start.childNodes[range.startOffset];if(!start){range.setStartBefore(range.startContainer);continue}var pre=start.previousSibling;if(pre&&pre.nodeType==3&&new RegExp("^[\n\r\t "+domUtils.fillChar+"]*$").test(pre.nodeValue)){range.setStartBefore(pre)}}if(range.startOffset==0){range.setStartBefore(range.startContainer)}else{break}}while(!domUtils.isBody(range.endContainer)){var end=range.endContainer;if(end.nodeType==1){end=end.childNodes[range.endOffset];if(!end){range.setEndAfter(range.endContainer);continue}var next=end.nextSibling;if(next&&next.nodeType==3&&new RegExp("^[\n\r\t"+domUtils.fillChar+"]*$").test(next.nodeValue)){range.setEndAfter(next)}}if(range.endOffset==range.endContainer[range.endContainer.nodeType==3?"nodeValue":"childNodes"].length){range.setEndAfter(range.endContainer)}else{break}}}range.deleteContents();range.select(true);me.__hasEnterExecCommand=true;var html=htmlContent;if(plainType===2){html=getPureHtml(html)}else{if(plainType){html=txtContent}}me.execCommand("inserthtml",html,true);me.__hasEnterExecCommand=false;var rng=me.selection.getRange();while(!domUtils.isBody(rng.startContainer)&&!rng.startOffset&&rng.startContainer[rng.startContainer.nodeType==3?"nodeValue":"childNodes"].length){rng.setStartBefore(rng.startContainer)}var tmpAddress=rng.createAddress(true);address.endAddress=tmpAddress.startAddress}});me.addListener("ready",function(){domUtils.on(me.body,"cut",function(){var range=me.selection.getRange();if(!range.collapsed&&me.undoManger){me.undoManger.save()}});domUtils.on(me.body,browser.ie||browser.opera?"keydown":"paste",function(e){if((browser.ie||browser.opera)&&((!e.ctrlKey&&!e.metaKey)||e.keyCode!="86")){return}getClipboardData.call(me,function(div){filter(div)})})});me.commands.paste={execCommand:function(cmd){if(browser.ie){getClipboardData.call(me,function(div){filter(div)});me.document.execCommand("paste")}else{alert(me.getLang("pastemsg"))}}}};UE.plugins.pasteplain=function(){var me=this;me.setOpt({pasteplain:false,filterTxtRules:function(){function transP(node){node.tagName="p";node.setStyle()}function removeNode(node){node.parentNode.removeChild(node,true)}return{"-":"script style object iframe embed input select",p:{$:{}},br:{$:{}},div:function(node){var tmpNode,p=UE.uNode.createElement("p");while(tmpNode=node.firstChild()){if(tmpNode.type=="text"||!UE.dom.dtd.$block[tmpNode.tagName]){p.appendChild(tmpNode)}else{if(p.firstChild()){node.parentNode.insertBefore(p,node);p=UE.uNode.createElement("p")}else{node.parentNode.insertBefore(tmpNode,node)}}}if(p.firstChild()){node.parentNode.insertBefore(p,node)}node.parentNode.removeChild(node)},ol:removeNode,ul:removeNode,dl:removeNode,dt:removeNode,dd:removeNode,li:removeNode,caption:transP,th:transP,tr:transP,h1:transP,h2:transP,h3:transP,h4:transP,h5:transP,h6:transP,td:function(node){var txt=!!node.innerText();if(txt){node.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"),node)}node.parentNode.removeChild(node,node.innerText())}}}()});var pasteplain=me.options.pasteplain;me.commands.pasteplain={queryCommandState:function(){return pasteplain?1:0},execCommand:function(){pasteplain=!pasteplain|0},notNeedUndo:1}};UE.plugins.list=function(){var me=this,notExchange={TD:1,PRE:1,BLOCKQUOTE:1};var customStyle={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};me.setOpt({autoTransWordToList:false,insertorderedlist:{num:"",num1:"",num2:"",cn:"",cn1:"",cn2:"",decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:"",dash:"",dot:""},listDefaultPaddingLeft:"30",listiconpath:"http://bs.baidu.com/listicon/",maxListLevel:-1,disablePInList:false});function listToArray(list){var arr=[];for(var p in list){arr.push(p)}return arr}var listStyle={OL:listToArray(me.options.insertorderedlist),UL:listToArray(me.options.insertunorderedlist)};var liiconpath=me.options.listiconpath;for(var s in customStyle){if(!me.options.insertorderedlist.hasOwnProperty(s)&&!me.options.insertunorderedlist.hasOwnProperty(s)){delete customStyle[s]}}me.ready(function(){var customCss=[];for(var p in customStyle){if(p=="dash"||p=="dot"){customCss.push("li.list-"+customStyle[p]+"{background-image:url("+liiconpath+customStyle[p]+".gif)}");customCss.push("ul.custom_"+p+"{list-style:none;}ul.custom_"+p+" li{background-position:0 3px;background-repeat:no-repeat}")}else{for(var i=0;i<99;i++){customCss.push("li.list-"+customStyle[p]+i+"{background-image:url("+liiconpath+"list-"+customStyle[p]+i+".gif)}")}customCss.push("ol.custom_"+p+"{list-style:none;}ol.custom_"+p+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(p){case"cn":customCss.push("li.list-"+p+"-paddingleft-1{padding-left:25px}");customCss.push("li.list-"+p+"-paddingleft-2{padding-left:40px}");customCss.push("li.list-"+p+"-paddingleft-3{padding-left:55px}");break;case"cn1":customCss.push("li.list-"+p+"-paddingleft-1{padding-left:30px}");customCss.push("li.list-"+p+"-paddingleft-2{padding-left:40px}");customCss.push("li.list-"+p+"-paddingleft-3{padding-left:55px}");break;case"cn2":customCss.push("li.list-"+p+"-paddingleft-1{padding-left:40px}");customCss.push("li.list-"+p+"-paddingleft-2{padding-left:55px}");customCss.push("li.list-"+p+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":customCss.push("li.list-"+p+"-paddingleft-1{padding-left:25px}");break;case"num2":customCss.push("li.list-"+p+"-paddingleft-1{padding-left:35px}");customCss.push("li.list-"+p+"-paddingleft-2{padding-left:40px}");break;case"dash":customCss.push("li.list-"+p+"-paddingleft{padding-left:35px}");break;case"dot":customCss.push("li.list-"+p+"-paddingleft{padding-left:20px}")}}customCss.push(".list-paddingleft-1{padding-left:0}");customCss.push(".list-paddingleft-2{padding-left:"+me.options.listDefaultPaddingLeft+"px}");customCss.push(".list-paddingleft-3{padding-left:"+me.options.listDefaultPaddingLeft*2+"px}");utils.cssRule("list","ol,ul{margin:0;pading:0;"+(browser.ie?"":"width:95%")+"}li{clear:both;}"+customCss.join("\n"),me.document)});me.ready(function(){domUtils.on(me.body,"cut",function(){setTimeout(function(){var rng=me.selection.getRange(),li;if(!rng.collapsed){if(li=domUtils.findParentByTagName(rng.startContainer,"li",true)){if(!li.nextSibling&&domUtils.isEmptyBlock(li)){var pn=li.parentNode,node;if(node=pn.previousSibling){domUtils.remove(pn);rng.setStartAtLast(node).collapse(true);rng.select(true)}else{if(node=pn.nextSibling){domUtils.remove(pn);rng.setStartAtFirst(node).collapse(true);rng.select(true)}else{var tmpNode=me.document.createElement("p");domUtils.fillNode(me.document,tmpNode);pn.parentNode.insertBefore(tmpNode,pn);domUtils.remove(pn);rng.setStart(tmpNode,0).collapse(true);rng.select(true)}}}}}})})});function getStyle(node){var cls=node.className;if(domUtils.hasClass(node,/custom_/)){return cls.match(/custom_(\w+)/)[1]}return domUtils.getStyle(node,"list-style-type")}me.addListener("beforepaste",function(type,html){var me=this,rng=me.selection.getRange(),li;var root=UE.htmlparser(html.html,true);if(li=domUtils.findParentByTagName(rng.startContainer,"li",true)){var list=li.parentNode,tagName=list.tagName=="OL"?"ul":"ol";utils.each(root.getNodesByTagName(tagName),function(n){n.tagName=list.tagName;n.setAttr();if(n.parentNode===root){type=getStyle(list)||(list.tagName=="OL"?"decimal":"disc")}else{var className=n.parentNode.getAttr("class");if(className&&/custom_/.test(className)){type=className.match(/custom_(\w+)/)[1]}else{type=n.parentNode.getStyle("list-style-type")}if(!type){type=list.tagName=="OL"?"decimal":"disc"}}var index=utils.indexOf(listStyle[list.tagName],type);if(n.parentNode!==root){index=index+1==listStyle[list.tagName].length?0:index+1}var currentStyle=listStyle[list.tagName][index];if(customStyle[currentStyle]){n.setAttr("class","custom_"+currentStyle)}else{n.setStyle("list-style-type",currentStyle)}})}html.html=root.toHtml()});me.getOpt("disablePInList")===true&&me.addOutputRule(function(root){utils.each(root.getNodesByTagName("li"),function(li){var newChildrens=[],index=0;utils.each(li.children,function(n){if(n.tagName=="p"){var tmpNode;while(tmpNode=n.children.pop()){newChildrens.splice(index,0,tmpNode);tmpNode.parentNode=li;lastNode=tmpNode}tmpNode=newChildrens[newChildrens.length-1];if(!tmpNode||tmpNode.type!="element"||tmpNode.tagName!="br"){var br=UE.uNode.createElement("br");br.parentNode=li;newChildrens.push(br)}index=newChildrens.length}});if(newChildrens.length){li.children=newChildrens}})});me.addInputRule(function(root){if(me.options.autoTransWordToList){var orderlisttype={num1:/^\d+\)/,decimal:/^\d+\./,"lower-alpha":/^[a-z]+\)/,"upper-alpha":/^[A-Z]+\./,cn:/^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,cn2:/^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/},unorderlisttype={square:"n"};function checkListType(content,container){var span=container.firstChild();if(span&&span.type=="element"&&span.tagName=="span"&&/Wingdings|Symbol/.test(span.getStyle("font-family"))){for(var p in unorderlisttype){if(unorderlisttype[p]==span.data){return p}}return"disc"}for(var p in orderlisttype){if(orderlisttype[p].test(content)){return p}}}utils.each(root.getNodesByTagName("p"),function(node){if(node.getAttr("class")!="MsoListParagraph"){return}node.setStyle("margin","");node.setStyle("margin-left","");node.setAttr("class","");function appendLi(list,p,type){if(list.tagName=="ol"){if(browser.ie){var first=p.firstChild();if(first.type=="element"&&first.tagName=="span"&&orderlisttype[type].test(first.innerText())){p.removeChild(first)}}else{p.innerHTML(p.innerHTML().replace(orderlisttype[type],""))}}else{p.removeChild(p.firstChild())}var li=UE.uNode.createElement("li");li.appendChild(p);list.appendChild(li)}var tmp=node,type,cacheNode=node;if(node.parentNode.tagName!="li"&&(type=checkListType(node.innerText(),node))){var list=UE.uNode.createElement(me.options.insertorderedlist.hasOwnProperty(type)?"ol":"ul");if(customStyle[type]){list.setAttr("class","custom_"+type)}else{list.setStyle("list-style-type",type)}while(node&&node.parentNode.tagName!="li"&&checkListType(node.innerText(),node)){tmp=node.nextSibling();if(!tmp){node.parentNode.insertBefore(list,node)}appendLi(list,node,type);node=tmp}if(!list.parentNode&&node&&node.parentNode){node.parentNode.insertBefore(list,node)}}var span=cacheNode.firstChild();if(span&&span.type=="element"&&span.tagName=="span"&&/^\s*(&nbsp;)+\s*$/.test(span.innerText())){span.parentNode.removeChild(span)}})}});me.addListener("contentchange",function(){adjustListStyle(me.document)});function adjustListStyle(doc,ignore){utils.each(domUtils.getElementsByTagName(doc,"ol ul"),function(node){if(!domUtils.inDoc(node,doc)){return}var parent=node.parentNode;if(parent.tagName==node.tagName){var nodeStyleType=getStyle(node)||(node.tagName=="OL"?"decimal":"disc"),parentStyleType=getStyle(parent)||(parent.tagName=="OL"?"decimal":"disc");if(nodeStyleType==parentStyleType){var styleIndex=utils.indexOf(listStyle[node.tagName],nodeStyleType);styleIndex=styleIndex+1==listStyle[node.tagName].length?0:styleIndex+1;setListStyle(node,listStyle[node.tagName][styleIndex])}}var index=0,type=2;if(domUtils.hasClass(node,/custom_/)){if(!(/[ou]l/i.test(parent.tagName)&&domUtils.hasClass(parent,/custom_/))){type=1}}else{if(/[ou]l/i.test(parent.tagName)&&domUtils.hasClass(parent,/custom_/)){type=3}}var style=domUtils.getStyle(node,"list-style-type");style&&(node.style.cssText="list-style-type:"+style);utils.each(domUtils.getElementsByTagName(node,"li"),function(li){if(!li.firstChild){domUtils.remove(li);return}if(li.parentNode!==node){return}index++;if(domUtils.hasClass(node,/custom_/)){var paddingLeft=1,currentStyle=getStyle(node);if(node.tagName=="OL"){if(currentStyle){switch(currentStyle){case"cn":case"cn1":case"cn2":if(index>10&&(index%10==0||index>10&&index<20)){paddingLeft=2}else{if(index>20){paddingLeft=3}}break;case"num2":if(index>9){paddingLeft=2}}}li.className="list-"+customStyle[currentStyle]+index+" list-"+currentStyle+"-paddingleft-"+paddingLeft}else{li.className="list-"+customStyle[currentStyle]+" list-"+currentStyle+"-paddingleft"}}else{li.className=li.className.replace(/list-[\w\-]+/gi,"")}var className=li.getAttribute("class");if(className!==null&&!className.replace(/\s/g,"")){domUtils.removeAttributes(li,"class")}});!ignore&&adjustList(node,node.tagName.toLowerCase(),getStyle(node)||domUtils.getStyle(node,"list-style-type"),true)})}function adjustList(list,tag,style,ignoreEmpty){var nextList=list.nextSibling;if(nextList&&nextList.nodeType==1&&nextList.tagName.toLowerCase()==tag&&(getStyle(nextList)||domUtils.getStyle(nextList,"list-style-type")||(tag=="ol"?"decimal":"disc"))==style){domUtils.moveChild(nextList,list);if(nextList.childNodes.length==0){domUtils.remove(nextList)}}if(nextList&&domUtils.isFillChar(nextList)){domUtils.remove(nextList)}var preList=list.previousSibling;if(preList&&preList.nodeType==1&&preList.tagName.toLowerCase()==tag&&(getStyle(preList)||domUtils.getStyle(preList,"list-style-type")||(tag=="ol"?"decimal":"disc"))==style){domUtils.moveChild(list,preList)}if(preList&&domUtils.isFillChar(preList)){domUtils.remove(preList)}!ignoreEmpty&&domUtils.isEmptyBlock(list)&&domUtils.remove(list);if(getStyle(list)){adjustListStyle(list.ownerDocument,true)}}function setListStyle(list,style){if(customStyle[style]){list.className="custom_"+style}try{domUtils.setStyle(list,"list-style-type",style)}catch(e){}}function clearEmptySibling(node){var tmpNode=node.previousSibling;if(tmpNode&&domUtils.isEmptyBlock(tmpNode)){domUtils.remove(tmpNode)}tmpNode=node.nextSibling;if(tmpNode&&domUtils.isEmptyBlock(tmpNode)){domUtils.remove(tmpNode)}}me.addListener("keydown",function(type,evt){function preventAndSave(){evt.preventDefault?evt.preventDefault():(evt.returnValue=false);me.fireEvent("contentchange");me.undoManger&&me.undoManger.save()}function findList(node,filterFn){while(node&&!domUtils.isBody(node)){if(filterFn(node)){return null}if(node.nodeType==1&&/[ou]l/i.test(node.tagName)){return node}node=node.parentNode}return null}var keyCode=evt.keyCode||evt.which;if(keyCode==13&&!evt.shiftKey){var rng=me.selection.getRange(),parent=domUtils.findParent(rng.startContainer,function(node){return domUtils.isBlockElm(node)},true),li=domUtils.findParentByTagName(rng.startContainer,"li",true);if(parent&&parent.tagName!="PRE"&&!li){var html=parent.innerHTML.replace(new RegExp(domUtils.fillChar,"g"),"");if(/^\s*1\s*\.[^\d]/.test(html)){parent.innerHTML=html.replace(/^\s*1\s*\./,"");rng.setStartAtLast(parent).collapse(true).select();me.__hasEnterExecCommand=true;me.execCommand("insertorderedlist");me.__hasEnterExecCommand=false}}var range=me.selection.getRange(),start=findList(range.startContainer,function(node){return node.tagName=="TABLE"}),end=range.collapsed?start:findList(range.endContainer,function(node){return node.tagName=="TABLE"});if(start&&end&&start===end){if(!range.collapsed){start=domUtils.findParentByTagName(range.startContainer,"li",true);end=domUtils.findParentByTagName(range.endContainer,"li",true);if(start&&end&&start===end){range.deleteContents();li=domUtils.findParentByTagName(range.startContainer,"li",true);if(li&&domUtils.isEmptyBlock(li)){pre=li.previousSibling;next=li.nextSibling;p=me.document.createElement("p");domUtils.fillNode(me.document,p);parentList=li.parentNode;if(pre&&next){range.setStart(next,0).collapse(true).select(true);domUtils.remove(li)}else{if(!pre&&!next||!pre){parentList.parentNode.insertBefore(p,parentList)}else{li.parentNode.parentNode.insertBefore(p,parentList.nextSibling)}domUtils.remove(li);if(!parentList.firstChild){domUtils.remove(parentList)}range.setStart(p,0).setCursor()}preventAndSave();return}}else{var tmpRange=range.cloneRange(),bk=tmpRange.collapse(false).createBookmark();range.deleteContents();tmpRange.moveToBookmark(bk);var li=domUtils.findParentByTagName(tmpRange.startContainer,"li",true);clearEmptySibling(li);tmpRange.select();preventAndSave();return}}li=domUtils.findParentByTagName(range.startContainer,"li",true);if(li){if(domUtils.isEmptyBlock(li)){bk=range.createBookmark();var parentList=li.parentNode;if(li!==parentList.lastChild){domUtils.breakParent(li,parentList);clearEmptySibling(li)}else{parentList.parentNode.insertBefore(li,parentList.nextSibling);if(domUtils.isEmptyNode(parentList)){domUtils.remove(parentList)}}if(!dtd.$list[li.parentNode.tagName]){if(!domUtils.isBlockElm(li.firstChild)){p=me.document.createElement("p");li.parentNode.insertBefore(p,li);while(li.firstChild){p.appendChild(li.firstChild)}domUtils.remove(li)}else{domUtils.remove(li,true)}}range.moveToBookmark(bk).select()}else{var first=li.firstChild;if(!first||!domUtils.isBlockElm(first)){var p=me.document.createElement("p");!li.firstChild&&domUtils.fillNode(me.document,p);while(li.firstChild){p.appendChild(li.firstChild)}li.appendChild(p);first=p}var span=me.document.createElement("span");range.insertNode(span);domUtils.breakParent(span,li);var nextLi=span.nextSibling;first=nextLi.firstChild;if(!first){p=me.document.createElement("p");domUtils.fillNode(me.document,p);nextLi.appendChild(p);first=p}if(domUtils.isEmptyNode(first)){first.innerHTML="";domUtils.fillNode(me.document,first)}range.setStart(first,0).collapse(true).shrinkBoundary().select();domUtils.remove(span);var pre=nextLi.previousSibling;if(pre&&domUtils.isEmptyBlock(pre)){pre.innerHTML="<p></p>";domUtils.fillNode(me.document,pre.firstChild)}}preventAndSave()}}}if(keyCode==8){range=me.selection.getRange();if(range.collapsed&&domUtils.isStartInblock(range)){tmpRange=range.cloneRange().trimBoundary();li=domUtils.findParentByTagName(range.startContainer,"li",true);if(li&&domUtils.isStartInblock(tmpRange)){start=domUtils.findParentByTagName(range.startContainer,"p",true);if(start&&start!==li.firstChild){var parentList=domUtils.findParentByTagName(start,["ol","ul"]);domUtils.breakParent(start,parentList);clearEmptySibling(start);me.fireEvent("contentchange");range.setStart(start,0).setCursor(false,true);me.fireEvent("saveScene");domUtils.preventDefault(evt);return}if(li&&(pre=li.previousSibling)){if(keyCode==46&&li.childNodes.length){return}if(dtd.$list[pre.tagName]){pre=pre.lastChild}me.undoManger&&me.undoManger.save();first=li.firstChild;if(domUtils.isBlockElm(first)){if(domUtils.isEmptyNode(first)){pre.appendChild(first);range.setStart(first,0).setCursor(false,true);while(li.firstChild){pre.appendChild(li.firstChild)}}else{span=me.document.createElement("span");range.insertNode(span);if(domUtils.isEmptyBlock(pre)){pre.innerHTML=""}domUtils.moveChild(li,pre);range.setStartBefore(span).collapse(true).select(true);domUtils.remove(span)}}else{if(domUtils.isEmptyNode(li)){var p=me.document.createElement("p");pre.appendChild(p);range.setStart(p,0).setCursor()}else{range.setEnd(pre,pre.childNodes.length).collapse().select(true);while(li.firstChild){pre.appendChild(li.firstChild)}}}domUtils.remove(li);me.fireEvent("contentchange");me.fireEvent("saveScene");domUtils.preventDefault(evt);return}if(li&&!li.previousSibling){var parentList=li.parentNode;var bk=range.createBookmark();if(domUtils.isTagNode(parentList.parentNode,"ol ul")){parentList.parentNode.insertBefore(li,parentList);if(domUtils.isEmptyNode(parentList)){domUtils.remove(parentList)}}else{while(li.firstChild){parentList.parentNode.insertBefore(li.firstChild,parentList)}domUtils.remove(li);if(domUtils.isEmptyNode(parentList)){domUtils.remove(parentList)}}range.moveToBookmark(bk).setCursor(false,true);me.fireEvent("contentchange");me.fireEvent("saveScene");domUtils.preventDefault(evt);return}}}}});me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which;if(keyCode==8){var rng=me.selection.getRange(),list;if(list=domUtils.findParentByTagName(rng.startContainer,["ol","ul"],true)){adjustList(list,list.tagName.toLowerCase(),getStyle(list)||domUtils.getComputedStyle(list,"list-style-type"),true)}}});me.addListener("tabkeydown",function(){var range=me.selection.getRange();function checkLevel(li){if(me.options.maxListLevel!=-1){var level=li.parentNode,levelNum=0;while(/[ou]l/i.test(level.tagName)){levelNum++;level=level.parentNode}if(levelNum>=me.options.maxListLevel){return true}}}var li=domUtils.findParentByTagName(range.startContainer,"li",true);if(li){var bk;if(range.collapsed){if(checkLevel(li)){return true}var parentLi=li.parentNode,list=me.document.createElement(parentLi.tagName),index=utils.indexOf(listStyle[list.tagName],getStyle(parentLi)||domUtils.getComputedStyle(parentLi,"list-style-type"));index=index+1==listStyle[list.tagName].length?0:index+1;var currentStyle=listStyle[list.tagName][index];setListStyle(list,currentStyle);if(domUtils.isStartInblock(range)){me.fireEvent("saveScene");bk=range.createBookmark();parentLi.insertBefore(list,li);list.appendChild(li);adjustList(list,list.tagName.toLowerCase(),currentStyle);me.fireEvent("contentchange");range.moveToBookmark(bk).select(true);return true}}else{me.fireEvent("saveScene");bk=range.createBookmark();for(var i=0,closeList,parents=domUtils.findParents(li),ci;ci=parents[i++];){if(domUtils.isTagNode(ci,"ol ul")){closeList=ci;break}}var current=li;if(bk.end){while(current&&!(domUtils.getPosition(current,bk.end)&domUtils.POSITION_FOLLOWING)){if(checkLevel(current)){current=domUtils.getNextDomNode(current,false,null,function(node){return node!==closeList});continue}var parentLi=current.parentNode,list=me.document.createElement(parentLi.tagName),index=utils.indexOf(listStyle[list.tagName],getStyle(parentLi)||domUtils.getComputedStyle(parentLi,"list-style-type"));var currentIndex=index+1==listStyle[list.tagName].length?0:index+1;var currentStyle=listStyle[list.tagName][currentIndex];setListStyle(list,currentStyle);parentLi.insertBefore(list,current);while(current&&!(domUtils.getPosition(current,bk.end)&domUtils.POSITION_FOLLOWING)){li=current.nextSibling;list.appendChild(current);if(!li||domUtils.isTagNode(li,"ol ul")){if(li){while(li=li.firstChild){if(li.tagName=="LI"){break}}}else{li=domUtils.getNextDomNode(current,false,null,function(node){return node!==closeList})}break}current=li}adjustList(list,list.tagName.toLowerCase(),currentStyle);current=li}}me.fireEvent("contentchange");range.moveToBookmark(bk).select();return true}}});function getLi(start){while(start&&!domUtils.isBody(start)){if(start.nodeName=="TABLE"){return null}if(start.nodeName=="LI"){return start}start=start.parentNode}}me.commands.insertorderedlist=me.commands.insertunorderedlist={execCommand:function(command,style){if(!style){style=command.toLowerCase()=="insertorderedlist"?"decimal":"disc"}var me=this,range=this.selection.getRange(),filterFn=function(node){return node.nodeType==1?node.tagName.toLowerCase()!="br":!domUtils.isWhitespace(node)},tag=command.toLowerCase()=="insertorderedlist"?"ol":"ul",frag=me.document.createDocumentFragment();range.adjustmentBoundary().shrinkBoundary();var bko=range.createBookmark(true),start=getLi(me.document.getElementById(bko.start)),modifyStart=0,end=getLi(me.document.getElementById(bko.end)),modifyEnd=0,startParent,endParent,list,tmp;if(start||end){start&&(startParent=start.parentNode);if(!bko.end){end=start}end&&(endParent=end.parentNode);if(startParent===endParent){while(start!==end){tmp=start;start=start.nextSibling;if(!domUtils.isBlockElm(tmp.firstChild)){var p=me.document.createElement("p");while(tmp.firstChild){p.appendChild(tmp.firstChild)}tmp.appendChild(p)}frag.appendChild(tmp)}tmp=me.document.createElement("span");startParent.insertBefore(tmp,end);if(!domUtils.isBlockElm(end.firstChild)){p=me.document.createElement("p");while(end.firstChild){p.appendChild(end.firstChild)}end.appendChild(p)}frag.appendChild(end);domUtils.breakParent(tmp,startParent);if(domUtils.isEmptyNode(tmp.previousSibling)){domUtils.remove(tmp.previousSibling)}if(domUtils.isEmptyNode(tmp.nextSibling)){domUtils.remove(tmp.nextSibling)}var nodeStyle=getStyle(startParent)||domUtils.getComputedStyle(startParent,"list-style-type")||(command.toLowerCase()=="insertorderedlist"?"decimal":"disc");if(startParent.tagName.toLowerCase()==tag&&nodeStyle==style){for(var i=0,ci,tmpFrag=me.document.createDocumentFragment();ci=frag.firstChild;){if(domUtils.isTagNode(ci,"ol ul")){tmpFrag.appendChild(ci)}else{while(ci.firstChild){tmpFrag.appendChild(ci.firstChild);domUtils.remove(ci)}}}tmp.parentNode.insertBefore(tmpFrag,tmp)}else{list=me.document.createElement(tag);setListStyle(list,style);list.appendChild(frag);tmp.parentNode.insertBefore(list,tmp)}domUtils.remove(tmp);list&&adjustList(list,tag,style);range.moveToBookmark(bko).select();return}if(start){while(start){tmp=start.nextSibling;if(domUtils.isTagNode(start,"ol ul")){frag.appendChild(start)}else{var tmpfrag=me.document.createDocumentFragment(),hasBlock=0;while(start.firstChild){if(domUtils.isBlockElm(start.firstChild)){hasBlock=1}tmpfrag.appendChild(start.firstChild)}if(!hasBlock){var tmpP=me.document.createElement("p");tmpP.appendChild(tmpfrag);frag.appendChild(tmpP)}else{frag.appendChild(tmpfrag)}domUtils.remove(start)}start=tmp}startParent.parentNode.insertBefore(frag,startParent.nextSibling);if(domUtils.isEmptyNode(startParent)){range.setStartBefore(startParent);domUtils.remove(startParent)}else{range.setStartAfter(startParent)}modifyStart=1}if(end&&domUtils.inDoc(endParent,me.document)){start=endParent.firstChild;while(start&&start!==end){tmp=start.nextSibling;if(domUtils.isTagNode(start,"ol ul")){frag.appendChild(start)}else{tmpfrag=me.document.createDocumentFragment();hasBlock=0;while(start.firstChild){if(domUtils.isBlockElm(start.firstChild)){hasBlock=1}tmpfrag.appendChild(start.firstChild)}if(!hasBlock){tmpP=me.document.createElement("p");tmpP.appendChild(tmpfrag);frag.appendChild(tmpP)}else{frag.appendChild(tmpfrag)}domUtils.remove(start)}start=tmp}var tmpDiv=domUtils.createElement(me.document,"div",{tmpDiv:1});domUtils.moveChild(end,tmpDiv);frag.appendChild(tmpDiv);domUtils.remove(end);endParent.parentNode.insertBefore(frag,endParent);range.setEndBefore(endParent);if(domUtils.isEmptyNode(endParent)){domUtils.remove(endParent)}modifyEnd=1}}if(!modifyStart){range.setStartBefore(me.document.getElementById(bko.start))}if(bko.end&&!modifyEnd){range.setEndAfter(me.document.getElementById(bko.end))}range.enlarge(true,function(node){return notExchange[node.tagName]});frag=me.document.createDocumentFragment();var bk=range.createBookmark(),current=domUtils.getNextDomNode(bk.start,false,filterFn),tmpRange=range.cloneRange(),tmpNode,block=domUtils.isBlockElm;while(current&&current!==bk.end&&(domUtils.getPosition(current,bk.end)&domUtils.POSITION_PRECEDING)){if(current.nodeType==3||dtd.li[current.tagName]){if(current.nodeType==1&&dtd.$list[current.tagName]){while(current.firstChild){frag.appendChild(current.firstChild)}tmpNode=domUtils.getNextDomNode(current,false,filterFn);domUtils.remove(current);current=tmpNode;continue}tmpNode=current;tmpRange.setStartBefore(current);while(current&&current!==bk.end&&(!block(current)||domUtils.isBookmarkNode(current))){tmpNode=current;current=domUtils.getNextDomNode(current,false,null,function(node){return !notExchange[node.tagName]})}if(current&&block(current)){tmp=domUtils.getNextDomNode(tmpNode,false,filterFn);if(tmp&&domUtils.isBookmarkNode(tmp)){current=domUtils.getNextDomNode(tmp,false,filterFn);tmpNode=tmp}}tmpRange.setEndAfter(tmpNode);current=domUtils.getNextDomNode(tmpNode,false,filterFn);var li=range.document.createElement("li");li.appendChild(tmpRange.extractContents());if(domUtils.isEmptyNode(li)){var tmpNode=range.document.createElement("p");while(li.firstChild){tmpNode.appendChild(li.firstChild)}li.appendChild(tmpNode)}frag.appendChild(li)}else{current=domUtils.getNextDomNode(current,true,filterFn)}}range.moveToBookmark(bk).collapse(true);list=me.document.createElement(tag);setListStyle(list,style);list.appendChild(frag);range.insertNode(list);adjustList(list,tag,style);for(var i=0,ci,tmpDivs=domUtils.getElementsByTagName(list,"div");ci=tmpDivs[i++];){if(ci.getAttribute("tmpDiv")){domUtils.remove(ci,true)}}range.moveToBookmark(bko).select()},queryCommandState:function(command){var tag=command.toLowerCase()=="insertorderedlist"?"ol":"ul";var path=this.selection.getStartElementPath();for(var i=0,ci;ci=path[i++];){if(ci.nodeName=="TABLE"){return 0}if(tag==ci.nodeName.toLowerCase()){return 1}}return 0},queryCommandValue:function(command){var tag=command.toLowerCase()=="insertorderedlist"?"ol":"ul";var path=this.selection.getStartElementPath(),node;for(var i=0,ci;ci=path[i++];){if(ci.nodeName=="TABLE"){node=null;break}if(tag==ci.nodeName.toLowerCase()){node=ci;break}}return node?getStyle(node)||domUtils.getComputedStyle(node,"list-style-type"):null}}};(function(){var sourceEditors={textarea:function(editor,holder){var textarea=holder.ownerDocument.createElement("textarea");textarea.style.cssText="position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;";if(browser.ie&&browser.version<8){textarea.style.width=holder.offsetWidth+"px";textarea.style.height=holder.offsetHeight+"px";holder.onresize=function(){textarea.style.width=holder.offsetWidth+"px";textarea.style.height=holder.offsetHeight+"px"}}holder.appendChild(textarea);return{setContent:function(content){textarea.value=content},getContent:function(){return textarea.value},select:function(){var range;if(browser.ie){range=textarea.createTextRange();range.collapse(true);range.select()}else{textarea.setSelectionRange(0,0);textarea.focus()}},dispose:function(){holder.removeChild(textarea);holder.onresize=null;textarea=null;holder=null}}},codemirror:function(editor,holder){var codeEditor=window.CodeMirror(holder,{mode:"text/html",tabMode:"indent",lineNumbers:true,lineWrapping:true});var dom=codeEditor.getWrapperElement();dom.style.cssText='position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,"Courier new",monospace;font-size:13px;';codeEditor.getScrollerElement().style.cssText="position:absolute;left:0;top:0;width:100%;height:100%;";codeEditor.refresh();return{getCodeMirror:function(){return codeEditor},setContent:function(content){codeEditor.setValue(content)},getContent:function(){return codeEditor.getValue()},select:function(){codeEditor.focus()},dispose:function(){holder.removeChild(dom);dom=null;codeEditor=null}}}};UE.plugins.source=function(){var me=this;var opt=this.options;var sourceMode=false;var sourceEditor;var orgSetContent;opt.sourceEditor=browser.ie?"textarea":(opt.sourceEditor||"codemirror");me.setOpt({sourceEditorFirst:false});function createSourceEditor(holder){return sourceEditors[opt.sourceEditor=="codemirror"&&window.CodeMirror?"codemirror":"textarea"](me,holder)}var bakCssText;var oldGetContent,bakAddress;me.commands.source={execCommand:function(){sourceMode=!sourceMode;if(sourceMode){bakAddress=me.selection.getRange().createAddress(false,true);me.undoManger&&me.undoManger.save(true);if(browser.gecko){me.body.contentEditable=false}bakCssText=me.iframe.style.cssText;me.iframe.style.cssText+="position:absolute;left:-32768px;top:-32768px;";me.fireEvent("beforegetcontent");var root=UE.htmlparser(me.body.innerHTML);me.filterOutputRule(root);root.traversal(function(node){if(node.type=="element"){switch(node.tagName){case"td":case"th":case"caption":if(node.children&&node.children.length==1){if(node.firstChild().tagName=="br"){node.removeChild(node.firstChild())}}break;case"pre":node.innerText(node.innerText().replace(/&nbsp;/g," "))}}});me.fireEvent("aftergetcontent");var content=root.toHtml(true);sourceEditor=createSourceEditor(me.iframe.parentNode);sourceEditor.setContent(content);orgSetContent=me.setContent;me.setContent=function(html){var root=UE.htmlparser(html);me.filterInputRule(root);html=root.toHtml();sourceEditor.setContent(html)};setTimeout(function(){sourceEditor.select();me.addListener("fullscreenchanged",function(){try{sourceEditor.getCodeMirror().refresh()}catch(e){}})});oldGetContent=me.getContent;me.getContent=function(){return sourceEditor.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>"}}else{me.iframe.style.cssText=bakCssText;var cont=sourceEditor.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>";cont=cont.replace(new RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>","g"),function(a,b){if(b&&!dtd.$inlineWithA[b.toLowerCase()]){return a.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g,"")}return a.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g,"")});me.setContent=orgSetContent;me.setContent(cont);sourceEditor.dispose();sourceEditor=null;me.getContent=oldGetContent;var first=me.body.firstChild;if(!first){me.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>";first=me.body.firstChild}me.undoManger&&me.undoManger.save(true);if(browser.gecko){var input=document.createElement("input");input.style.cssText="position:absolute;left:0;top:-32768px";document.body.appendChild(input);me.body.contentEditable=false;setTimeout(function(){domUtils.setViewportOffset(input,{left:-32768,top:0});input.focus();setTimeout(function(){me.body.contentEditable=true;me.selection.getRange().moveToAddress(bakAddress).select(true);domUtils.remove(input)})})}else{try{me.selection.getRange().moveToAddress(bakAddress).select(true)}catch(e){}}}this.fireEvent("sourcemodechanged",sourceMode)},queryCommandState:function(){return sourceMode|0},notNeedUndo:1};var oldQueryCommandState=me.queryCommandState;me.queryCommandState=function(cmdName){cmdName=cmdName.toLowerCase();if(sourceMode){return cmdName in {source:1,fullscreen:1}?1:-1}return oldQueryCommandState.apply(this,arguments)};if(opt.sourceEditor=="codemirror"){me.addListener("ready",function(){utils.loadFile(document,{src:opt.codeMirrorJsUrl||opt.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.js",tag:"script",type:"text/javascript",defer:"defer"},function(){if(opt.sourceEditorFirst){setTimeout(function(){me.execCommand("source")},0)}});utils.loadFile(document,{tag:"link",rel:"stylesheet",type:"text/css",href:opt.codeMirrorCssUrl||opt.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.css"})})}}})();UE.plugins.enterkey=function(){var hTag,me=this,tag=me.options.enterTag;me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which;if(keyCode==13){var range=me.selection.getRange(),start=range.startContainer,doSave;if(!browser.ie){if(/h\d/i.test(hTag)){if(browser.gecko){var h=domUtils.findParentByTagName(start,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],true);if(!h){me.document.execCommand("formatBlock",false,"<p>");doSave=1}}else{if(start.nodeType==1){var tmp=me.document.createTextNode(""),div;range.insertNode(tmp);div=domUtils.findParentByTagName(tmp,"div",true);if(div){var p=me.document.createElement("p");while(div.firstChild){p.appendChild(div.firstChild)}div.parentNode.insertBefore(p,div);domUtils.remove(div);range.setStartBefore(tmp).setCursor();doSave=1}domUtils.remove(tmp)}}if(me.undoManger&&doSave){me.undoManger.save()}}browser.opera&&range.select()}else{me.fireEvent("saveScene",true,true)}}});me.addListener("keydown",function(type,evt){var keyCode=evt.keyCode||evt.which;if(keyCode==13){if(me.fireEvent("beforeenterkeydown")){domUtils.preventDefault(evt);return}me.fireEvent("saveScene",true,true);hTag="";var range=me.selection.getRange();if(!range.collapsed){var start=range.startContainer,end=range.endContainer,startTd=domUtils.findParentByTagName(start,"td",true),endTd=domUtils.findParentByTagName(end,"td",true);if(startTd&&endTd&&startTd!==endTd||!startTd&&endTd||startTd&&!endTd){evt.preventDefault?evt.preventDefault():(evt.returnValue=false);return}}if(tag=="p"){if(!browser.ie){start=domUtils.findParentByTagName(range.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption"],true);if(!start&&!browser.opera){me.document.execCommand("formatBlock",false,"<p>");if(browser.gecko){range=me.selection.getRange();start=domUtils.findParentByTagName(range.startContainer,"p",true);start&&domUtils.removeDirtyAttr(start)}}else{hTag=start.tagName;start.tagName.toLowerCase()=="p"&&browser.gecko&&domUtils.removeDirtyAttr(start)}}}else{evt.preventDefault?evt.preventDefault():(evt.returnValue=false);if(!range.collapsed){range.deleteContents();start=range.startContainer;if(start.nodeType==1&&(start=start.childNodes[range.startOffset])){while(start.nodeType==1){if(dtd.$empty[start.tagName]){range.setStartBefore(start).setCursor();if(me.undoManger){me.undoManger.save()}return false}if(!start.firstChild){var br=range.document.createElement("br");start.appendChild(br);range.setStart(start,0).setCursor();if(me.undoManger){me.undoManger.save()}return false}start=start.firstChild}if(start===range.startContainer.childNodes[range.startOffset]){br=range.document.createElement("br");range.insertNode(br).setCursor()}else{range.setStart(start,0).setCursor()}}else{br=range.document.createElement("br");range.insertNode(br).setStartAfter(br).setCursor()}}else{br=range.document.createElement("br");range.insertNode(br);var parent=br.parentNode;if(parent.lastChild===br){br.parentNode.insertBefore(br.cloneNode(true),br);range.setStartBefore(br)}else{range.setStartAfter(br)}range.setCursor()}}}})};UE.plugins.keystrokes=function(){var me=this;var collapsed=true;me.addListener("keydown",function(type,evt){var keyCode=evt.keyCode||evt.which,rng=me.selection.getRange();if(!rng.collapsed&&!(evt.ctrlKey||evt.shiftKey||evt.altKey||evt.metaKey)&&(keyCode>=65&&keyCode<=90||keyCode>=48&&keyCode<=57||keyCode>=96&&keyCode<=111||{13:1,8:1,46:1}[keyCode])){var tmpNode=rng.startContainer;if(domUtils.isFillChar(tmpNode)){rng.setStartBefore(tmpNode)}tmpNode=rng.endContainer;if(domUtils.isFillChar(tmpNode)){rng.setEndAfter(tmpNode)}rng.txtToElmBoundary();if(rng.endContainer&&rng.endContainer.nodeType==1){tmpNode=rng.endContainer.childNodes[rng.endOffset];if(tmpNode&&domUtils.isBr(tmpNode)){rng.setEndAfter(tmpNode)}}if(rng.startOffset==0){tmpNode=rng.startContainer;if(domUtils.isBoundaryNode(tmpNode,"firstChild")){tmpNode=rng.endContainer;if(rng.endOffset==(tmpNode.nodeType==3?tmpNode.nodeValue.length:tmpNode.childNodes.length)&&domUtils.isBoundaryNode(tmpNode,"lastChild")){me.fireEvent("saveScene");me.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>";rng.setStart(me.body.firstChild,0).setCursor(false,true);me._selectionChange();return}}}}if(keyCode==keymap.Backspace){rng=me.selection.getRange();collapsed=rng.collapsed;if(me.fireEvent("delkeydown",evt)){return}var start,end;if(rng.collapsed&&rng.inFillChar()){start=rng.startContainer;if(domUtils.isFillChar(start)){rng.setStartBefore(start).shrinkBoundary(true).collapse(true);domUtils.remove(start)}else{start.nodeValue=start.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"");rng.startOffset--;rng.collapse(true).select(true)}}if(start=rng.getClosedNode()){me.fireEvent("saveScene");rng.setStartBefore(start);domUtils.remove(start);rng.setCursor();me.fireEvent("saveScene");domUtils.preventDefault(evt);return}if(!browser.ie){start=domUtils.findParentByTagName(rng.startContainer,"table",true);end=domUtils.findParentByTagName(rng.endContainer,"table",true);if(start&&!end||!start&&end||start!==end){evt.preventDefault();return}}}if(keyCode==keymap.Tab){var excludeTagNameForTabKey={ol:1,ul:1,table:1};if(me.fireEvent("tabkeydown",evt)){domUtils.preventDefault(evt);return}var range=me.selection.getRange();me.fireEvent("saveScene");for(var i=0,txt="",tabSize=me.options.tabSize||4,tabNode=me.options.tabNode||"&nbsp;";i<tabSize;i++){txt+=tabNode}var span=me.document.createElement("span");span.innerHTML=txt+domUtils.fillChar;if(range.collapsed){range.insertNode(span.cloneNode(true).firstChild).setCursor(true)}else{var filterFn=function(node){return domUtils.isBlockElm(node)&&!excludeTagNameForTabKey[node.tagName.toLowerCase()]};start=domUtils.findParent(range.startContainer,filterFn,true);end=domUtils.findParent(range.endContainer,filterFn,true);if(start&&end&&start===end){range.deleteContents();range.insertNode(span.cloneNode(true).firstChild).setCursor(true)}else{var bookmark=range.createBookmark();range.enlarge(true);var bookmark2=range.createBookmark(),current=domUtils.getNextDomNode(bookmark2.start,false,filterFn);while(current&&!(domUtils.getPosition(current,bookmark2.end)&domUtils.POSITION_FOLLOWING)){current.insertBefore(span.cloneNode(true).firstChild,current.firstChild);current=domUtils.getNextDomNode(current,false,filterFn)}range.moveToBookmark(bookmark2).moveToBookmark(bookmark).select()}}domUtils.preventDefault(evt)}if(browser.gecko&&keyCode==46){range=me.selection.getRange();if(range.collapsed){start=range.startContainer;if(domUtils.isEmptyBlock(start)){var parent=start.parentNode;while(domUtils.getChildCount(parent)==1&&!domUtils.isBody(parent)){start=parent;parent=parent.parentNode}if(start===parent.lastChild){evt.preventDefault()}return}}}});me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which,rng,me=this;if(keyCode==keymap.Backspace){if(me.fireEvent("delkeyup")){return}rng=me.selection.getRange();if(rng.collapsed){var tmpNode,autoClearTagName=["h1","h2","h3","h4","h5","h6"];if(tmpNode=domUtils.findParentByTagName(rng.startContainer,autoClearTagName,true)){if(domUtils.isEmptyBlock(tmpNode)){var pre=tmpNode.previousSibling;if(pre&&pre.nodeName!="TABLE"){domUtils.remove(tmpNode);rng.setStartAtLast(pre).setCursor(false,true);return}else{var next=tmpNode.nextSibling;if(next&&next.nodeName!="TABLE"){domUtils.remove(tmpNode);rng.setStartAtFirst(next).setCursor(false,true);return}}}}if(domUtils.isBody(rng.startContainer)){var tmpNode=domUtils.createElement(me.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"});rng.insertNode(tmpNode).setStart(tmpNode,0).setCursor(false,true)}}if(!collapsed&&(rng.startContainer.nodeType==3||rng.startContainer.nodeType==1&&domUtils.isEmptyBlock(rng.startContainer))){if(browser.ie){var span=rng.document.createElement("span");rng.insertNode(span).setStartBefore(span).collapse(true);rng.select();domUtils.remove(span)}else{rng.select()}}}})};UE.plugins.fiximgclick=(function(){var elementUpdated=false;function Scale(){this.editor=null;this.resizer=null;this.cover=null;this.doc=document;this.prePos={x:0,y:0};this.startPos={x:0,y:0}}(function(){var rect=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]];Scale.prototype={init:function(editor){var me=this;me.editor=editor;me.startPos=this.prePos={x:0,y:0};me.dragId=-1;var hands=[],cover=me.cover=document.createElement("div"),resizer=me.resizer=document.createElement("div");cover.id=me.editor.ui.id+"_imagescale_cover";cover.style.cssText="position:absolute;display:none;z-index:"+(me.editor.options.zIndex)+";filter:alpha(opacity=0); opacity:0;background:#CCC;";domUtils.on(cover,"mousedown click",function(){me.hide()});for(i=0;i<8;i++){hands.push('<span class="edui-editor-imagescale-hand'+i+'"></span>')}resizer.id=me.editor.ui.id+"_imagescale";resizer.className="edui-editor-imagescale";resizer.innerHTML=hands.join("");resizer.style.cssText+=";display:none;border:1px solid #3b77ff;z-index:"+(me.editor.options.zIndex)+";";me.editor.ui.getDom().appendChild(cover);me.editor.ui.getDom().appendChild(resizer);me.initStyle();me.initEvents()},initStyle:function(){utils.cssRule("imagescale",".edui-editor-imagescale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}.edui-editor-imagescale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-editor-imagescale .edui-editor-imagescale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},initEvents:function(){var me=this;me.startPos.x=me.startPos.y=0;me.isDraging=false},_eventHandler:function(e){var me=this;switch(e.type){case"mousedown":var hand=e.target||e.srcElement,hand;if(hand.className.indexOf("edui-editor-imagescale-hand")!=-1&&me.dragId==-1){me.dragId=hand.className.slice(-1);me.startPos.x=me.prePos.x=e.clientX;me.startPos.y=me.prePos.y=e.clientY;domUtils.on(me.doc,"mousemove",me.proxy(me._eventHandler,me))}break;case"mousemove":if(me.dragId!=-1){me.updateContainerStyle(me.dragId,{x:e.clientX-me.prePos.x,y:e.clientY-me.prePos.y});me.prePos.x=e.clientX;me.prePos.y=e.clientY;elementUpdated=true;me.updateTargetElement()}break;case"mouseup":if(me.dragId!=-1){me.updateContainerStyle(me.dragId,{x:e.clientX-me.prePos.x,y:e.clientY-me.prePos.y});me.updateTargetElement();if(me.target.parentNode){me.attachTo(me.target)}me.dragId=-1}domUtils.un(me.doc,"mousemove",me.proxy(me._eventHandler,me));if(elementUpdated){elementUpdated=false;me.editor.fireEvent("contentchange")}break;default:break}},updateTargetElement:function(){var me=this;domUtils.setStyles(me.target,{width:me.resizer.style.width,height:me.resizer.style.height});me.target.width=parseInt(me.resizer.style.width);me.target.height=parseInt(me.resizer.style.height);me.attachTo(me.target)},updateContainerStyle:function(dir,offset){var me=this,dom=me.resizer,tmp;if(rect[dir][0]!=0){tmp=parseInt(dom.style.left)+offset.x;dom.style.left=me._validScaledProp("left",tmp)+"px"}if(rect[dir][1]!=0){tmp=parseInt(dom.style.top)+offset.y;dom.style.top=me._validScaledProp("top",tmp)+"px"}if(rect[dir][2]!=0){tmp=dom.clientWidth+rect[dir][2]*offset.x;dom.style.width=me._validScaledProp("width",tmp)+"px"}if(rect[dir][3]!=0){tmp=dom.clientHeight+rect[dir][3]*offset.y;dom.style.height=me._validScaledProp("height",tmp)+"px"}},_validScaledProp:function(prop,value){var ele=this.resizer,wrap=document;value=isNaN(value)?0:value;switch(prop){case"left":return value<0?0:(value+ele.clientWidth)>wrap.clientWidth?wrap.clientWidth-ele.clientWidth:value;case"top":return value<0?0:(value+ele.clientHeight)>wrap.clientHeight?wrap.clientHeight-ele.clientHeight:value;case"width":return value<=0?1:(value+ele.offsetLeft)>wrap.clientWidth?wrap.clientWidth-ele.offsetLeft:value;case"height":return value<=0?1:(value+ele.offsetTop)>wrap.clientHeight?wrap.clientHeight-ele.offsetTop:value}},hideCover:function(){this.cover.style.display="none"},showCover:function(){var me=this,editorPos=domUtils.getXY(me.editor.ui.getDom()),iframePos=domUtils.getXY(me.editor.iframe);domUtils.setStyles(me.cover,{width:me.editor.iframe.offsetWidth+"px",height:me.editor.iframe.offsetHeight+"px",top:iframePos.y-editorPos.y+"px",left:iframePos.x-editorPos.x+"px",position:"absolute",display:""})},show:function(targetObj){var me=this;me.resizer.style.display="block";if(targetObj){me.attachTo(targetObj)}domUtils.on(this.resizer,"mousedown",me.proxy(me._eventHandler,me));domUtils.on(me.doc,"mouseup",me.proxy(me._eventHandler,me));me.showCover();me.editor.fireEvent("afterscaleshow",me);me.editor.fireEvent("saveScene")},hide:function(){var me=this;me.hideCover();me.resizer.style.display="none";domUtils.un(me.resizer,"mousedown",me.proxy(me._eventHandler,me));domUtils.un(me.doc,"mouseup",me.proxy(me._eventHandler,me));me.editor.fireEvent("afterscalehide",me)},proxy:function(fn,context){return function(e){return fn.apply(context||this,arguments)}},attachTo:function(targetObj){var me=this,target=me.target=targetObj,resizer=this.resizer,imgPos=domUtils.getXY(target),iframePos=domUtils.getXY(me.editor.iframe),editorPos=domUtils.getXY(resizer.parentNode);domUtils.setStyles(resizer,{width:target.width+"px",height:target.height+"px",left:iframePos.x+imgPos.x-me.editor.document.body.scrollLeft-editorPos.x-parseInt(resizer.style.borderLeftWidth)+"px",top:iframePos.y+imgPos.y-me.editor.document.body.scrollTop-editorPos.y-parseInt(resizer.style.borderTopWidth)+"px"})}}})();return function(){var me=this,imageScale;me.setOpt("imageScaleEnabled",true);if(!browser.ie&&me.options.imageScaleEnabled){me.addListener("click",function(type,e){var range=me.selection.getRange(),img=range.getClosedNode();if(img&&img.tagName=="IMG"&&me.body.contentEditable!="false"){if(img.className.indexOf("edui-faked-music")!=-1||img.getAttribute("anchorname")||domUtils.hasClass(img,"loadingclass")||domUtils.hasClass(img,"loaderrorclass")){return}if(!imageScale){imageScale=new Scale();imageScale.init(me);me.ui.getDom().appendChild(imageScale.resizer);var _keyDownHandler=function(e){imageScale.hide();if(imageScale.target){me.selection.getRange().selectNode(imageScale.target).select()}},_mouseDownHandler=function(e){var ele=e.target||e.srcElement;if(ele&&(ele.className===undefined||ele.className.indexOf("edui-editor-imagescale")==-1)){_keyDownHandler(e)}},timer;me.addListener("afterscaleshow",function(e){me.addListener("beforekeydown",_keyDownHandler);me.addListener("beforemousedown",_mouseDownHandler);domUtils.on(document,"keydown",_keyDownHandler);domUtils.on(document,"mousedown",_mouseDownHandler);me.selection.getNative().removeAllRanges()});me.addListener("afterscalehide",function(e){me.removeListener("beforekeydown",_keyDownHandler);me.removeListener("beforemousedown",_mouseDownHandler);domUtils.un(document,"keydown",_keyDownHandler);domUtils.un(document,"mousedown",_mouseDownHandler);var target=imageScale.target;if(target.parentNode){me.selection.getRange().selectNode(target).select()}});domUtils.on(imageScale.resizer,"mousedown",function(e){me.selection.getNative().removeAllRanges();var ele=e.target||e.srcElement;if(ele&&ele.className.indexOf("edui-editor-imagescale-hand")==-1){timer=setTimeout(function(){imageScale.hide();if(imageScale.target){me.selection.getRange().selectNode(ele).select()}},200)}});domUtils.on(imageScale.resizer,"mouseup",function(e){var ele=e.target||e.srcElement;if(ele&&ele.className.indexOf("edui-editor-imagescale-hand")==-1){clearTimeout(timer)}})}imageScale.show(img)}else{if(imageScale&&imageScale.resizer.style.display!="none"){imageScale.hide()}}})}if(browser.webkit){me.addListener("click",function(type,e){if(e.target.tagName=="IMG"&&me.body.contentEditable!="false"){var range=new dom.Range(me.document);range.selectNode(e.target).select()}})}}})();UE.plugin.register("autolink",function(){var cont=0;return !browser.ie?{bindEvents:{reset:function(){cont=0},keydown:function(type,evt){var me=this;var keyCode=evt.keyCode||evt.which;if(keyCode==32||keyCode==13){var sel=me.selection.getNative(),range=sel.getRangeAt(0).cloneRange(),offset,charCode;var start=range.startContainer;while(start.nodeType==1&&range.startOffset>0){start=range.startContainer.childNodes[range.startOffset-1];if(!start){break}range.setStart(start,start.nodeType==1?start.childNodes.length:start.nodeValue.length);range.collapse(true);start=range.startContainer}do{if(range.startOffset==0){start=range.startContainer.previousSibling;while(start&&start.nodeType==1){start=start.lastChild}if(!start||domUtils.isFillChar(start)){break}offset=start.nodeValue.length}else{start=range.startContainer;offset=range.startOffset}range.setStart(start,offset-1);charCode=range.toString().charCodeAt(0)}while(charCode!=160&&charCode!=32);if(range.toString().replace(new RegExp(domUtils.fillChar,"g"),"").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)){while(range.toString().length){if(/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(range.toString())){break}try{range.setStart(range.startContainer,range.startOffset+1)}catch(e){var start=range.startContainer;while(!(next=start.nextSibling)){if(domUtils.isBody(start)){return}start=start.parentNode}range.setStart(next,0)}}if(domUtils.findParentByTagName(range.startContainer,"a",true)){return}var a=me.document.createElement("a"),text=me.document.createTextNode(" "),href;me.undoManger&&me.undoManger.save();a.appendChild(range.extractContents());a.href=a.innerHTML=a.innerHTML.replace(/<[^>]+>/g,"");href=a.getAttribute("href").replace(new RegExp(domUtils.fillChar,"g"),"");href=/^(?:https?:\/\/)/ig.test(href)?href:"http://"+href;a.setAttribute("_src",utils.html(href));a.href=utils.html(href);range.insertNode(a);a.parentNode.insertBefore(text,a.nextSibling);range.setStart(text,0);range.collapse(true);sel.removeAllRanges();sel.addRange(range);me.undoManger&&me.undoManger.save()}}}}}:{}},function(){var keyCodes={37:1,38:1,39:1,40:1,13:1,32:1};function checkIsCludeLink(node){if(node.nodeType==3){return null}if(node.nodeName=="A"){return node}var lastChild=node.lastChild;while(lastChild){if(lastChild.nodeName=="A"){return lastChild}if(lastChild.nodeType==3){if(domUtils.isWhitespace(lastChild)){lastChild=lastChild.previousSibling;continue}return null}lastChild=lastChild.lastChild}}browser.ie&&this.addListener("keyup",function(cmd,evt){var me=this,keyCode=evt.keyCode;if(keyCodes[keyCode]){var rng=me.selection.getRange();var start=rng.startContainer;if(keyCode==13){while(start&&!domUtils.isBody(start)&&!domUtils.isBlockElm(start)){start=start.parentNode}if(start&&!domUtils.isBody(start)&&start.nodeName=="P"){var pre=start.previousSibling;if(pre&&pre.nodeType==1){var pre=checkIsCludeLink(pre);if(pre&&!pre.getAttribute("_href")){domUtils.remove(pre,true)}}}}else{if(keyCode==32){if(start.nodeType==3&&/^\s$/.test(start.nodeValue)){start=start.previousSibling;if(start&&start.nodeName=="A"&&!start.getAttribute("_href")){domUtils.remove(start,true)}}}else{start=domUtils.findParentByTagName(start,"a",true);if(start&&!start.getAttribute("_href")){var bk=rng.createBookmark();domUtils.remove(start,true);rng.moveToBookmark(bk).select(true)}}}}})});UE.plugins.autoheight=function(){var me=this;me.autoHeightEnabled=me.options.autoHeightEnabled!==false;if(!me.autoHeightEnabled){return}var bakOverflow,lastHeight=0,options=me.options,currentHeight,timer;function adjustHeight(){var me=this;clearTimeout(timer);if(isFullscreen){return}if(!me.queryCommandState||me.queryCommandState&&me.queryCommandState("source")!=1){timer=setTimeout(function(){var node=me.body.lastChild;while(node&&node.nodeType!=1){node=node.previousSibling}if(node&&node.nodeType==1){node.style.clear="both";currentHeight=Math.max(domUtils.getXY(node).y+node.offsetHeight+25,Math.max(options.minFrameHeight,options.initialFrameHeight));if(currentHeight!=lastHeight){if(currentHeight!==parseInt(me.iframe.parentNode.style.height)){me.iframe.parentNode.style.height=currentHeight+"px"}me.body.style.height=currentHeight+"px";lastHeight=currentHeight}domUtils.removeStyle(node,"clear")}},50)}}var isFullscreen;me.addListener("fullscreenchanged",function(cmd,f){isFullscreen=f});me.addListener("destroy",function(){me.removeListener("contentchange afterinserthtml keyup mouseup",adjustHeight)});me.enableAutoHeight=function(){var me=this;if(!me.autoHeightEnabled){return}var doc=me.document;me.autoHeightEnabled=true;bakOverflow=doc.body.style.overflowY;doc.body.style.overflowY="hidden";me.addListener("contentchange afterinserthtml keyup mouseup",adjustHeight);setTimeout(function(){adjustHeight.call(me)},browser.gecko?100:0);me.fireEvent("autoheightchanged",me.autoHeightEnabled)};me.disableAutoHeight=function(){me.body.style.overflowY=bakOverflow||"";me.removeListener("contentchange",adjustHeight);me.removeListener("keyup",adjustHeight);me.removeListener("mouseup",adjustHeight);me.autoHeightEnabled=false;me.fireEvent("autoheightchanged",me.autoHeightEnabled)};me.on("setHeight",function(){me.disableAutoHeight()});me.addListener("ready",function(){me.enableAutoHeight();var timer;domUtils.on(browser.ie?me.body:me.document,browser.webkit?"dragover":"drop",function(){clearTimeout(timer);timer=setTimeout(function(){adjustHeight.call(me)},100)});var lastScrollY;window.onscroll=function(){if(lastScrollY===null){lastScrollY=this.scrollY}else{if(this.scrollY==0&&lastScrollY!=0){me.window.scrollTo(0,0);lastScrollY=null}}}})};UE.plugins.autofloat=function(){var me=this,lang=me.getLang();me.setOpt({topOffset:0});var optsAutoFloatEnabled=me.options.autoFloatEnabled!==false,topOffset=me.options.topOffset;if(!optsAutoFloatEnabled){return}var uiUtils=UE.ui.uiUtils,LteIE6=browser.ie&&browser.version<=6,quirks=browser.quirks;function checkHasUI(){if(!UE.ui){alert(lang.autofloatMsg);return 0}return 1}function fixIE6FixedPos(){var docStyle=document.body.style;docStyle.backgroundImage='url("about:blank")';docStyle.backgroundAttachment="fixed"}var bakCssText,placeHolder=document.createElement("div"),toolbarBox,orgTop,getPosition,flag=true;function setFloating(){var toobarBoxPos=domUtils.getXY(toolbarBox),origalFloat=domUtils.getComputedStyle(toolbarBox,"position"),origalLeft=domUtils.getComputedStyle(toolbarBox,"left");toolbarBox.style.width=toolbarBox.offsetWidth+"px";toolbarBox.style.zIndex=me.options.zIndex*1+1;toolbarBox.parentNode.insertBefore(placeHolder,toolbarBox);if(LteIE6||(quirks&&browser.ie)){if(toolbarBox.style.position!="absolute"){toolbarBox.style.position="absolute"}toolbarBox.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-orgTop+topOffset+"px"}else{if(browser.ie7Compat&&flag){flag=false;toolbarBox.style.left=domUtils.getXY(toolbarBox).x-document.documentElement.getBoundingClientRect().left+2+"px"}if(toolbarBox.style.position!="fixed"){toolbarBox.style.position="fixed";toolbarBox.style.top=topOffset+"px";((origalFloat=="absolute"||origalFloat=="relative")&&parseFloat(origalLeft))&&(toolbarBox.style.left=toobarBoxPos.x+"px")}}}function unsetFloating(){flag=true;if(placeHolder.parentNode){placeHolder.parentNode.removeChild(placeHolder)}toolbarBox.style.cssText=bakCssText}function updateFloating(){var rect3=getPosition(me.container);var offset=me.options.toolbarTopOffset||0;if(rect3.top<0&&rect3.bottom-toolbarBox.offsetHeight>offset){setFloating()}else{unsetFloating()}}var defer_updateFloating=utils.defer(function(){updateFloating()},browser.ie?200:100,true);me.addListener("destroy",function(){domUtils.un(window,["scroll","resize"],updateFloating);me.removeListener("keydown",defer_updateFloating)});me.addListener("ready",function(){if(checkHasUI(me)){if(!me.ui){return}getPosition=uiUtils.getClientRect;toolbarBox=me.ui.getDom("toolbarbox");orgTop=getPosition(toolbarBox).top;bakCssText=toolbarBox.style.cssText;placeHolder.style.height=toolbarBox.offsetHeight+"px";if(LteIE6){fixIE6FixedPos()}domUtils.on(window,["scroll","resize"],updateFloating);me.addListener("keydown",defer_updateFloating);me.addListener("beforefullscreenchange",function(t,enabled){if(enabled){unsetFloating()}});me.addListener("fullscreenchanged",function(t,enabled){if(!enabled){updateFloating()}});me.addListener("sourcemodechanged",function(t,enabled){setTimeout(function(){updateFloating()},0)});me.addListener("clearDoc",function(){setTimeout(function(){updateFloating()},0)})}})};UE.plugins.video=function(){var me=this;function creatInsertStr(url,width,height,id,align,classname,type){var str;switch(type){case"image":str="<img "+(id?'id="'+id+'"':"")+' width="'+width+'" height="'+height+'" _url="'+url+'" class="'+classname.replace(/\bvideo-js\b/,"")+'" src="'+me.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+me.options.UEDITOR_HOME_URL+"themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;"+(align?"float:"+align+";":"")+'" />';break;case"embed":str='<embed type="application/x-shockwave-flash" class="'+classname+'" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+utils.html(url)+'" width="'+width+'" height="'+height+'"'+(align?' style="float:'+align+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >';break;case"video":var ext=url.substr(url.lastIndexOf(".")+1);if(ext=="ogv"){ext="ogg"}str="<video"+(id?' id="'+id+'"':"")+' class="'+classname+' video-js" '+(align?' style="float:'+align+'"':"")+' controls preload="none" width="'+width+'" height="'+height+'" src="'+url+'" data-setup="{}"><source src="'+url+'" type="video/'+ext+'" /></video>';break}return str}function switchImgAndVideo(root,img2video){utils.each(root.getNodesByTagName(img2video?"img":"embed video"),function(node){var className=node.getAttr("class");if(className&&className.indexOf("edui-faked-video")!=-1){var html=creatInsertStr(img2video?node.getAttr("_url"):node.getAttr("src"),node.getAttr("width"),node.getAttr("height"),null,node.getStyle("float")||"",className,img2video?"embed":"image");node.parentNode.replaceChild(UE.uNode.createElement(html),node)}if(className&&className.indexOf("edui-upload-video")!=-1){var html=creatInsertStr(img2video?node.getAttr("_url"):node.getAttr("src"),node.getAttr("width"),node.getAttr("height"),null,node.getStyle("float")||"",className,img2video?"video":"image");node.parentNode.replaceChild(UE.uNode.createElement(html),node)}})}me.addOutputRule(function(root){switchImgAndVideo(root,true)});me.addInputRule(function(root){switchImgAndVideo(root)});me.commands.insertvideo={execCommand:function(cmd,videoObjs,type){videoObjs=utils.isArray(videoObjs)?videoObjs:[videoObjs];var html=[],id="tmpVedio",cl;for(var i=0,vi,len=videoObjs.length;i<len;i++){vi=videoObjs[i];cl=(type=="upload"?"edui-upload-video video-js vjs-default-skin":"edui-faked-video");html.push(creatInsertStr(vi.url,vi.width||420,vi.height||280,id+i,null,cl,"image"))}me.execCommand("inserthtml",html.join(""),true);var rng=this.selection.getRange();for(var i=0,len=videoObjs.length;i<len;i++){var img=this.document.getElementById("tmpVedio"+i);domUtils.removeAttributes(img,"id");rng.selectNode(img).select();me.execCommand("imagefloat",videoObjs[i].align)}},queryCommandState:function(){var img=me.selection.getRange().getClosedNode(),flag=img&&(img.className=="edui-faked-video"||img.className.indexOf("edui-upload-video")!=-1);return flag?1:0}}};(function(){var UETable=UE.UETable=function(table){this.table=table;this.indexTable=[];this.selectedTds=[];this.cellsRange={};this.update(table)};UETable.removeSelectedClass=function(cells){utils.each(cells,function(cell){domUtils.removeClasses(cell,"selectTdClass")})};UETable.addSelectedClass=function(cells){utils.each(cells,function(cell){domUtils.addClass(cell,"selectTdClass")})};UETable.isEmptyBlock=function(node){var reg=new RegExp(domUtils.fillChar,"g");if(node[browser.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(reg,"").length>0){return 0}for(var i in dtd.$isNotEmpty){if(dtd.$isNotEmpty.hasOwnProperty(i)){if(node.getElementsByTagName(i).length){return 0}}}return 1};UETable.getWidth=function(cell){if(!cell){return 0}return parseInt(domUtils.getComputedStyle(cell,"width"),10)};UETable.getTableCellAlignState=function(cells){!utils.isArray(cells)&&(cells=[cells]);var result={},status=["align","valign"],tempStatus=null,isSame=true;utils.each(cells,function(cellNode){utils.each(status,function(currentState){tempStatus=cellNode.getAttribute(currentState);if(!result[currentState]&&tempStatus){result[currentState]=tempStatus}else{if(!result[currentState]||(tempStatus!==result[currentState])){isSame=false;return false}}});return isSame});return isSame?result:null};UETable.getTableItemsByRange=function(editor){var start=editor.selection.getStart();if(start&&start.id&&start.id.indexOf("_baidu_bookmark_start_")===0&&start.nextSibling){start=start.nextSibling}var cell=start&&domUtils.findParentByTagName(start,["td","th"],true),tr=cell&&cell.parentNode,caption=start&&domUtils.findParentByTagName(start,"caption",true),table=caption?caption.parentNode:tr&&tr.parentNode.parentNode;return{cell:cell,tr:tr,table:table,caption:caption}};UETable.getUETableBySelected=function(editor){var table=UETable.getTableItemsByRange(editor).table;if(table&&table.ueTable&&table.ueTable.selectedTds.length){return table.ueTable}return null};UETable.getDefaultValue=function(editor,table){var borderMap={thin:"0px",medium:"1px",thick:"2px"},tableBorder,tdPadding,tdBorder,tmpValue;if(!table){table=editor.document.createElement("table");table.insertRow(0).insertCell(0).innerHTML="xxx";editor.body.appendChild(table);var td=table.getElementsByTagName("td")[0];tmpValue=domUtils.getComputedStyle(table,"border-left-width");tableBorder=parseInt(borderMap[tmpValue]||tmpValue,10);tmpValue=domUtils.getComputedStyle(td,"padding-left");tdPadding=parseInt(borderMap[tmpValue]||tmpValue,10);tmpValue=domUtils.getComputedStyle(td,"border-left-width");tdBorder=parseInt(borderMap[tmpValue]||tmpValue,10);domUtils.remove(table);return{tableBorder:tableBorder,tdPadding:tdPadding,tdBorder:tdBorder}}else{td=table.getElementsByTagName("td")[0];tmpValue=domUtils.getComputedStyle(table,"border-left-width");tableBorder=parseInt(borderMap[tmpValue]||tmpValue,10);tmpValue=domUtils.getComputedStyle(td,"padding-left");tdPadding=parseInt(borderMap[tmpValue]||tmpValue,10);tmpValue=domUtils.getComputedStyle(td,"border-left-width");tdBorder=parseInt(borderMap[tmpValue]||tmpValue,10);return{tableBorder:tableBorder,tdPadding:tdPadding,tdBorder:tdBorder}}};UETable.getUETable=function(tdOrTable){var tag=tdOrTable.tagName.toLowerCase();tdOrTable=(tag=="td"||tag=="th"||tag=="caption")?domUtils.findParentByTagName(tdOrTable,"table",true):tdOrTable;if(!tdOrTable.ueTable){tdOrTable.ueTable=new UETable(tdOrTable)}return tdOrTable.ueTable};UETable.cloneCell=function(cell,ignoreMerge,keepPro){if(!cell||utils.isString(cell)){return this.table.ownerDocument.createElement(cell||"td")}var flag=domUtils.hasClass(cell,"selectTdClass");flag&&domUtils.removeClasses(cell,"selectTdClass");var tmpCell=cell.cloneNode(true);if(ignoreMerge){tmpCell.rowSpan=tmpCell.colSpan=1}!keepPro&&domUtils.removeAttributes(tmpCell,"width height");!keepPro&&domUtils.removeAttributes(tmpCell,"style");tmpCell.style.borderLeftStyle="";tmpCell.style.borderTopStyle="";tmpCell.style.borderLeftColor=cell.style.borderRightColor;tmpCell.style.borderLeftWidth=cell.style.borderRightWidth;tmpCell.style.borderTopColor=cell.style.borderBottomColor;tmpCell.style.borderTopWidth=cell.style.borderBottomWidth;flag&&domUtils.addClass(cell,"selectTdClass");return tmpCell};UETable.prototype={getMaxRows:function(){var rows=this.table.rows,maxLen=1;for(var i=0,row;row=rows[i];i++){var currentMax=1;for(var j=0,cj;cj=row.cells[j++];){currentMax=Math.max(cj.rowSpan||1,currentMax)}maxLen=Math.max(currentMax+i,maxLen)}return maxLen},getMaxCols:function(){var rows=this.table.rows,maxLen=0,cellRows={};for(var i=0,row;row=rows[i];i++){var cellsNum=0;for(var j=0,cj;cj=row.cells[j++];){cellsNum+=(cj.colSpan||1);if(cj.rowSpan&&cj.rowSpan>1){for(var k=1;k<cj.rowSpan;k++){if(!cellRows["row_"+(i+k)]){cellRows["row_"+(i+k)]=(cj.colSpan||1)}else{cellRows["row_"+(i+k)]++}}}}cellsNum+=cellRows["row_"+i]||0;maxLen=Math.max(cellsNum,maxLen)}return maxLen},getCellColIndex:function(cell){},getHSideCell:function(cell,right){try{var cellInfo=this.getCellInfo(cell),previewRowIndex,previewColIndex;var len=this.selectedTds.length,range=this.cellsRange;if((!right&&(!len?!cellInfo.colIndex:!range.beginColIndex))||(right&&(!len?(cellInfo.colIndex==(this.colsNum-1)):(range.endColIndex==this.colsNum-1)))){return null}previewRowIndex=!len?cellInfo.rowIndex:range.beginRowIndex;previewColIndex=!right?(!len?(cellInfo.colIndex<1?0:(cellInfo.colIndex-1)):range.beginColIndex-1):(!len?cellInfo.colIndex+1:range.endColIndex+1);return this.getCell(this.indexTable[previewRowIndex][previewColIndex].rowIndex,this.indexTable[previewRowIndex][previewColIndex].cellIndex)}catch(e){showError(e)}},getTabNextCell:function(cell,preRowIndex){var cellInfo=this.getCellInfo(cell),rowIndex=preRowIndex||cellInfo.rowIndex,colIndex=cellInfo.colIndex+1+(cellInfo.colSpan-1),nextCell;try{nextCell=this.getCell(this.indexTable[rowIndex][colIndex].rowIndex,this.indexTable[rowIndex][colIndex].cellIndex)}catch(e){try{rowIndex=rowIndex*1+1;colIndex=0;nextCell=this.getCell(this.indexTable[rowIndex][colIndex].rowIndex,this.indexTable[rowIndex][colIndex].cellIndex)}catch(e){}}return nextCell},getVSideCell:function(cell,bottom,ignoreRange){try{var cellInfo=this.getCellInfo(cell),nextRowIndex,nextColIndex;var len=this.selectedTds.length&&!ignoreRange,range=this.cellsRange;if((!bottom&&(cellInfo.rowIndex==0))||(bottom&&(!len?(cellInfo.rowIndex+cellInfo.rowSpan>this.rowsNum-1):(range.endRowIndex==this.rowsNum-1)))){return null}nextRowIndex=!bottom?(!len?cellInfo.rowIndex-1:range.beginRowIndex-1):(!len?(cellInfo.rowIndex+cellInfo.rowSpan):range.endRowIndex+1);nextColIndex=!len?cellInfo.colIndex:range.beginColIndex;return this.getCell(this.indexTable[nextRowIndex][nextColIndex].rowIndex,this.indexTable[nextRowIndex][nextColIndex].cellIndex)}catch(e){showError(e)}},getSameEndPosCells:function(cell,xOrY){try{var flag=(xOrY.toLowerCase()==="x"),end=domUtils.getXY(cell)[flag?"x":"y"]+cell["offset"+(flag?"Width":"Height")],rows=this.table.rows,cells=null,returns=[];for(var i=0;i<this.rowsNum;i++){cells=rows[i].cells;for(var j=0,tmpCell;tmpCell=cells[j++];){var tmpEnd=domUtils.getXY(tmpCell)[flag?"x":"y"]+tmpCell["offset"+(flag?"Width":"Height")];if(tmpEnd>end&&flag){break}if(cell==tmpCell||end==tmpEnd){if(tmpCell[flag?"colSpan":"rowSpan"]==1){returns.push(tmpCell)}if(flag){break}}}}return returns}catch(e){showError(e)}},setCellContent:function(cell,content){cell.innerHTML=content||(browser.ie?domUtils.fillChar:"<br />")},cloneCell:UETable.cloneCell,getSameStartPosXCells:function(cell){try{var start=domUtils.getXY(cell).x+cell.offsetWidth,rows=this.table.rows,cells,returns=[];for(var i=0;i<this.rowsNum;i++){cells=rows[i].cells;for(var j=0,tmpCell;tmpCell=cells[j++];){var tmpStart=domUtils.getXY(tmpCell).x;if(tmpStart>start){break}if(tmpStart==start&&tmpCell.colSpan==1){returns.push(tmpCell);break}}}return returns}catch(e){showError(e)}},update:function(table){this.table=table||this.table;this.selectedTds=[];this.cellsRange={};this.indexTable=[];var rows=this.table.rows,rowsNum=this.getMaxRows(),dNum=rowsNum-rows.length,colsNum=this.getMaxCols();while(dNum--){this.table.insertRow(rows.length)}this.rowsNum=rowsNum;this.colsNum=colsNum;for(var i=0,len=rows.length;i<len;i++){this.indexTable[i]=new Array(colsNum)}for(var rowIndex=0,row;row=rows[rowIndex];rowIndex++){for(var cellIndex=0,cell,cells=row.cells;cell=cells[cellIndex];cellIndex++){if(cell.rowSpan>rowsNum){cell.rowSpan=rowsNum}var colIndex=cellIndex,rowSpan=cell.rowSpan||1,colSpan=cell.colSpan||1;while(this.indexTable[rowIndex][colIndex]){colIndex++}for(var j=0;j<rowSpan;j++){for(var k=0;k<colSpan;k++){this.indexTable[rowIndex+j][colIndex+k]={rowIndex:rowIndex,cellIndex:cellIndex,colIndex:colIndex,rowSpan:rowSpan,colSpan:colSpan}}}}}for(j=0;j<rowsNum;j++){for(k=0;k<colsNum;k++){if(this.indexTable[j][k]===undefined){row=rows[j];cell=row.cells[row.cells.length-1];cell=cell?cell.cloneNode(true):this.table.ownerDocument.createElement("td");this.setCellContent(cell);if(cell.colSpan!==1){cell.colSpan=1}if(cell.rowSpan!==1){cell.rowSpan=1}row.appendChild(cell);this.indexTable[j][k]={rowIndex:j,cellIndex:cell.cellIndex,colIndex:k,rowSpan:1,colSpan:1}}}}var tds=domUtils.getElementsByTagName(this.table,"td"),selectTds=[];utils.each(tds,function(td){if(domUtils.hasClass(td,"selectTdClass")){selectTds.push(td)}});if(selectTds.length){var start=selectTds[0],end=selectTds[selectTds.length-1],startInfo=this.getCellInfo(start),endInfo=this.getCellInfo(end);this.selectedTds=selectTds;this.cellsRange={beginRowIndex:startInfo.rowIndex,beginColIndex:startInfo.colIndex,endRowIndex:endInfo.rowIndex+endInfo.rowSpan-1,endColIndex:endInfo.colIndex+endInfo.colSpan-1}}if(!domUtils.hasClass(this.table.rows[0],"firstRow")){domUtils.addClass(this.table.rows[0],"firstRow");for(var i=1;i<this.table.rows.length;i++){domUtils.removeClasses(this.table.rows[i],"firstRow")}}},getCellInfo:function(cell){if(!cell){return}var cellIndex=cell.cellIndex,rowIndex=cell.parentNode.rowIndex,rowInfo=this.indexTable[rowIndex],numCols=this.colsNum;for(var colIndex=cellIndex;colIndex<numCols;colIndex++){var cellInfo=rowInfo[colIndex];if(cellInfo.rowIndex===rowIndex&&cellInfo.cellIndex===cellIndex){return cellInfo}}},getCell:function(rowIndex,cellIndex){return rowIndex<this.rowsNum&&this.table.rows[rowIndex].cells[cellIndex]||null},deleteCell:function(cell,rowIndex){rowIndex=typeof rowIndex=="number"?rowIndex:cell.parentNode.rowIndex;var row=this.table.rows[rowIndex];row.deleteCell(cell.cellIndex)},getCellsRange:function(cellA,cellB){function checkRange(beginRowIndex,beginColIndex,endRowIndex,endColIndex){var tmpBeginRowIndex=beginRowIndex,tmpBeginColIndex=beginColIndex,tmpEndRowIndex=endRowIndex,tmpEndColIndex=endColIndex,cellInfo,colIndex,rowIndex;if(beginRowIndex>0){for(colIndex=beginColIndex;colIndex<endColIndex;colIndex++){cellInfo=me.indexTable[beginRowIndex][colIndex];rowIndex=cellInfo.rowIndex;if(rowIndex<beginRowIndex){tmpBeginRowIndex=Math.min(rowIndex,tmpBeginRowIndex)}}}if(endColIndex<me.colsNum){for(rowIndex=beginRowIndex;rowIndex<endRowIndex;rowIndex++){cellInfo=me.indexTable[rowIndex][endColIndex];colIndex=cellInfo.colIndex+cellInfo.colSpan-1;if(colIndex>endColIndex){tmpEndColIndex=Math.max(colIndex,tmpEndColIndex)}}}if(endRowIndex<me.rowsNum){for(colIndex=beginColIndex;colIndex<endColIndex;colIndex++){cellInfo=me.indexTable[endRowIndex][colIndex];rowIndex=cellInfo.rowIndex+cellInfo.rowSpan-1;if(rowIndex>endRowIndex){tmpEndRowIndex=Math.max(rowIndex,tmpEndRowIndex)}}}if(beginColIndex>0){for(rowIndex=beginRowIndex;rowIndex<endRowIndex;rowIndex++){cellInfo=me.indexTable[rowIndex][beginColIndex];colIndex=cellInfo.colIndex;if(colIndex<beginColIndex){tmpBeginColIndex=Math.min(cellInfo.colIndex,tmpBeginColIndex)}}}if(tmpBeginRowIndex!=beginRowIndex||tmpBeginColIndex!=beginColIndex||tmpEndRowIndex!=endRowIndex||tmpEndColIndex!=endColIndex){return checkRange(tmpBeginRowIndex,tmpBeginColIndex,tmpEndRowIndex,tmpEndColIndex)}else{return{beginRowIndex:beginRowIndex,beginColIndex:beginColIndex,endRowIndex:endRowIndex,endColIndex:endColIndex}}}try{var me=this,cellAInfo=me.getCellInfo(cellA);if(cellA===cellB){return{beginRowIndex:cellAInfo.rowIndex,beginColIndex:cellAInfo.colIndex,endRowIndex:cellAInfo.rowIndex+cellAInfo.rowSpan-1,endColIndex:cellAInfo.colIndex+cellAInfo.colSpan-1}}var cellBInfo=me.getCellInfo(cellB);var beginRowIndex=Math.min(cellAInfo.rowIndex,cellBInfo.rowIndex),beginColIndex=Math.min(cellAInfo.colIndex,cellBInfo.colIndex),endRowIndex=Math.max(cellAInfo.rowIndex+cellAInfo.rowSpan-1,cellBInfo.rowIndex+cellBInfo.rowSpan-1),endColIndex=Math.max(cellAInfo.colIndex+cellAInfo.colSpan-1,cellBInfo.colIndex+cellBInfo.colSpan-1);return checkRange(beginRowIndex,beginColIndex,endRowIndex,endColIndex)}catch(e){}},getCells:function(range){this.clearSelected();var beginRowIndex=range.beginRowIndex,beginColIndex=range.beginColIndex,endRowIndex=range.endRowIndex,endColIndex=range.endColIndex,cellInfo,rowIndex,colIndex,tdHash={},returnTds=[];for(var i=beginRowIndex;i<=endRowIndex;i++){for(var j=beginColIndex;j<=endColIndex;j++){cellInfo=this.indexTable[i][j];rowIndex=cellInfo.rowIndex;colIndex=cellInfo.colIndex;var key=rowIndex+"|"+colIndex;if(tdHash[key]){continue}tdHash[key]=1;if(rowIndex<i||colIndex<j||rowIndex+cellInfo.rowSpan-1>endRowIndex||colIndex+cellInfo.colSpan-1>endColIndex){return null}returnTds.push(this.getCell(rowIndex,cellInfo.cellIndex))}}return returnTds},clearSelected:function(){UETable.removeSelectedClass(this.selectedTds);this.selectedTds=[];this.cellsRange={}},setSelected:function(range){var cells=this.getCells(range);UETable.addSelectedClass(cells);this.selectedTds=cells;this.cellsRange=range},isFullRow:function(){var range=this.cellsRange;return(range.endColIndex-range.beginColIndex+1)==this.colsNum},isFullCol:function(){var range=this.cellsRange,table=this.table,ths=table.getElementsByTagName("th"),rows=range.endRowIndex-range.beginRowIndex+1;return !ths.length?rows==this.rowsNum:rows==this.rowsNum||(rows==this.rowsNum-1)},getNextCell:function(cell,bottom,ignoreRange){try{var cellInfo=this.getCellInfo(cell),nextRowIndex,nextColIndex;var len=this.selectedTds.length&&!ignoreRange,range=this.cellsRange;if((!bottom&&(cellInfo.rowIndex==0))||(bottom&&(!len?(cellInfo.rowIndex+cellInfo.rowSpan>this.rowsNum-1):(range.endRowIndex==this.rowsNum-1)))){return null}nextRowIndex=!bottom?(!len?cellInfo.rowIndex-1:range.beginRowIndex-1):(!len?(cellInfo.rowIndex+cellInfo.rowSpan):range.endRowIndex+1);nextColIndex=!len?cellInfo.colIndex:range.beginColIndex;return this.getCell(this.indexTable[nextRowIndex][nextColIndex].rowIndex,this.indexTable[nextRowIndex][nextColIndex].cellIndex)}catch(e){showError(e)}},getPreviewCell:function(cell,top){try{var cellInfo=this.getCellInfo(cell),previewRowIndex,previewColIndex;var len=this.selectedTds.length,range=this.cellsRange;if((!top&&(!len?!cellInfo.colIndex:!range.beginColIndex))||(top&&(!len?(cellInfo.rowIndex>(this.colsNum-1)):(range.endColIndex==this.colsNum-1)))){return null}previewRowIndex=!top?(!len?cellInfo.rowIndex:range.beginRowIndex):(!len?(cellInfo.rowIndex<1?0:(cellInfo.rowIndex-1)):range.beginRowIndex);previewColIndex=!top?(!len?(cellInfo.colIndex<1?0:(cellInfo.colIndex-1)):range.beginColIndex-1):(!len?cellInfo.colIndex:range.endColIndex+1);return this.getCell(this.indexTable[previewRowIndex][previewColIndex].rowIndex,this.indexTable[previewRowIndex][previewColIndex].cellIndex)}catch(e){showError(e)}},moveContent:function(cellTo,cellFrom){if(UETable.isEmptyBlock(cellFrom)){return}if(UETable.isEmptyBlock(cellTo)){cellTo.innerHTML=cellFrom.innerHTML;return}var child=cellTo.lastChild;if(child.nodeType==3||!dtd.$block[child.tagName]){cellTo.appendChild(cellTo.ownerDocument.createElement("br"))}while(child=cellFrom.firstChild){cellTo.appendChild(child)}},mergeRight:function(cell){var cellInfo=this.getCellInfo(cell),rightColIndex=cellInfo.colIndex+cellInfo.colSpan,rightCellInfo=this.indexTable[cellInfo.rowIndex][rightColIndex],rightCell=this.getCell(rightCellInfo.rowIndex,rightCellInfo.cellIndex);cell.colSpan=cellInfo.colSpan+rightCellInfo.colSpan;cell.removeAttribute("width");this.moveContent(cell,rightCell);this.deleteCell(rightCell,rightCellInfo.rowIndex);this.update()},mergeDown:function(cell){var cellInfo=this.getCellInfo(cell),downRowIndex=cellInfo.rowIndex+cellInfo.rowSpan,downCellInfo=this.indexTable[downRowIndex][cellInfo.colIndex],downCell=this.getCell(downCellInfo.rowIndex,downCellInfo.cellIndex);cell.rowSpan=cellInfo.rowSpan+downCellInfo.rowSpan;cell.removeAttribute("height");this.moveContent(cell,downCell);this.deleteCell(downCell,downCellInfo.rowIndex);this.update()},mergeRange:function(){var range=this.cellsRange,leftTopCell=this.getCell(range.beginRowIndex,this.indexTable[range.beginRowIndex][range.beginColIndex].cellIndex);if(leftTopCell.tagName=="TH"&&range.endRowIndex!==range.beginRowIndex){var index=this.indexTable,info=this.getCellInfo(leftTopCell);leftTopCell=this.getCell(1,index[1][info.colIndex].cellIndex);range=this.getCellsRange(leftTopCell,this.getCell(index[this.rowsNum-1][info.colIndex].rowIndex,index[this.rowsNum-1][info.colIndex].cellIndex))}var cells=this.getCells(range);for(var i=0,ci;ci=cells[i++];){if(ci!==leftTopCell){this.moveContent(leftTopCell,ci);this.deleteCell(ci)}}leftTopCell.rowSpan=range.endRowIndex-range.beginRowIndex+1;leftTopCell.rowSpan>1&&leftTopCell.removeAttribute("height");leftTopCell.colSpan=range.endColIndex-range.beginColIndex+1;leftTopCell.colSpan>1&&leftTopCell.removeAttribute("width");if(leftTopCell.rowSpan==this.rowsNum&&leftTopCell.colSpan!=1){leftTopCell.colSpan=1}if(leftTopCell.colSpan==this.colsNum&&leftTopCell.rowSpan!=1){var rowIndex=leftTopCell.parentNode.rowIndex;if(this.table.deleteRow){for(var i=rowIndex+1,curIndex=rowIndex+1,len=leftTopCell.rowSpan;i<len;i++){this.table.deleteRow(curIndex)}}else{for(var i=0,len=leftTopCell.rowSpan-1;i<len;i++){var row=this.table.rows[rowIndex+1];row.parentNode.removeChild(row)}}leftTopCell.rowSpan=1}this.update()},insertRow:function(rowIndex,sourceCell){var numCols=this.colsNum,table=this.table,row=table.insertRow(rowIndex),cell,isInsertTitle=typeof sourceCell=="string"&&sourceCell.toUpperCase()=="TH";function replaceTdToTh(colIndex,cell,tableRow){if(colIndex==0){var tr=tableRow.nextSibling||tableRow.previousSibling,th=tr.cells[colIndex];if(th.tagName=="TH"){th=cell.ownerDocument.createElement("th");th.appendChild(cell.firstChild);tableRow.insertBefore(th,cell);domUtils.remove(cell)}}else{if(cell.tagName=="TH"){var td=cell.ownerDocument.createElement("td");td.appendChild(cell.firstChild);tableRow.insertBefore(td,cell);domUtils.remove(cell)}}}if(rowIndex==0||rowIndex==this.rowsNum){for(var colIndex=0;colIndex<numCols;colIndex++){cell=this.cloneCell(sourceCell,true);this.setCellContent(cell);cell.getAttribute("vAlign")&&cell.setAttribute("vAlign",cell.getAttribute("vAlign"));row.appendChild(cell);if(!isInsertTitle){replaceTdToTh(colIndex,cell,row)}}}else{var infoRow=this.indexTable[rowIndex],cellIndex=0;for(colIndex=0;colIndex<numCols;colIndex++){var cellInfo=infoRow[colIndex];if(cellInfo.rowIndex<rowIndex){cell=this.getCell(cellInfo.rowIndex,cellInfo.cellIndex);cell.rowSpan=cellInfo.rowSpan+1}else{cell=this.cloneCell(sourceCell,true);this.setCellContent(cell);row.appendChild(cell)}if(!isInsertTitle){replaceTdToTh(colIndex,cell,row)}}}this.update();return row},deleteRow:function(rowIndex){var row=this.table.rows[rowIndex],infoRow=this.indexTable[rowIndex],colsNum=this.colsNum,count=0;for(var colIndex=0;colIndex<colsNum;){var cellInfo=infoRow[colIndex],cell=this.getCell(cellInfo.rowIndex,cellInfo.cellIndex);if(cell.rowSpan>1){if(cellInfo.rowIndex==rowIndex){var clone=cell.cloneNode(true);clone.rowSpan=cell.rowSpan-1;clone.innerHTML="";cell.rowSpan=1;var nextRowIndex=rowIndex+1,nextRow=this.table.rows[nextRowIndex],insertCellIndex,preMerged=this.getPreviewMergedCellsNum(nextRowIndex,colIndex)-count;if(preMerged<colIndex){insertCellIndex=colIndex-preMerged-1;domUtils.insertAfter(nextRow.cells[insertCellIndex],clone)}else{if(nextRow.cells.length){nextRow.insertBefore(clone,nextRow.cells[0])}}count+=1}}colIndex+=cell.colSpan||1}var deleteTds=[],cacheMap={};for(colIndex=0;colIndex<colsNum;colIndex++){var tmpRowIndex=infoRow[colIndex].rowIndex,tmpCellIndex=infoRow[colIndex].cellIndex,key=tmpRowIndex+"_"+tmpCellIndex;if(cacheMap[key]){continue}cacheMap[key]=1;cell=this.getCell(tmpRowIndex,tmpCellIndex);deleteTds.push(cell)}var mergeTds=[];utils.each(deleteTds,function(td){if(td.rowSpan==1){td.parentNode.removeChild(td)}else{mergeTds.push(td)}});utils.each(mergeTds,function(td){td.rowSpan--});row.parentNode.removeChild(row);this.update()},insertCol:function(colIndex,sourceCell,defaultValue){var rowsNum=this.rowsNum,rowIndex=0,tableRow,cell,backWidth=parseInt((this.table.offsetWidth-(this.colsNum+1)*20-(this.colsNum+1))/(this.colsNum+1),10),isInsertTitleCol=typeof sourceCell=="string"&&sourceCell.toUpperCase()=="TH";function replaceTdToTh(rowIndex,cell,tableRow){if(rowIndex==0){var th=cell.nextSibling||cell.previousSibling;if(th.tagName=="TH"){th=cell.ownerDocument.createElement("th");th.appendChild(cell.firstChild);tableRow.insertBefore(th,cell);domUtils.remove(cell)}}else{if(cell.tagName=="TH"){var td=cell.ownerDocument.createElement("td");td.appendChild(cell.firstChild);tableRow.insertBefore(td,cell);domUtils.remove(cell)}}}var preCell;if(colIndex==0||colIndex==this.colsNum){for(;rowIndex<rowsNum;rowIndex++){tableRow=this.table.rows[rowIndex];preCell=tableRow.cells[colIndex==0?colIndex:tableRow.cells.length];cell=this.cloneCell(sourceCell,true);this.setCellContent(cell);cell.setAttribute("vAlign",cell.getAttribute("vAlign"));preCell&&cell.setAttribute("width",preCell.getAttribute("width"));if(!colIndex){tableRow.insertBefore(cell,tableRow.cells[0])}else{domUtils.insertAfter(tableRow.cells[tableRow.cells.length-1],cell)}if(!isInsertTitleCol){replaceTdToTh(rowIndex,cell,tableRow)}}}else{for(;rowIndex<rowsNum;rowIndex++){var cellInfo=this.indexTable[rowIndex][colIndex];if(cellInfo.colIndex<colIndex){cell=this.getCell(cellInfo.rowIndex,cellInfo.cellIndex);cell.colSpan=cellInfo.colSpan+1}else{tableRow=this.table.rows[rowIndex];preCell=tableRow.cells[cellInfo.cellIndex];cell=this.cloneCell(sourceCell,true);this.setCellContent(cell);cell.setAttribute("vAlign",cell.getAttribute("vAlign"));preCell&&cell.setAttribute("width",preCell.getAttribute("width"));preCell?tableRow.insertBefore(cell,preCell):tableRow.appendChild(cell)}if(!isInsertTitleCol){replaceTdToTh(rowIndex,cell,tableRow)}}}this.update();this.updateWidth(backWidth,defaultValue||{tdPadding:10,tdBorder:1})},updateWidth:function(width,defaultValue){var table=this.table,tmpWidth=UETable.getWidth(table)-defaultValue.tdPadding*2-defaultValue.tdBorder+width;if(tmpWidth<table.ownerDocument.body.offsetWidth){table.setAttribute("width",tmpWidth);return}var tds=domUtils.getElementsByTagName(this.table,"td th");utils.each(tds,function(td){td.setAttribute("width",width)})},deleteCol:function(colIndex){var indexTable=this.indexTable,tableRows=this.table.rows,backTableWidth=this.table.getAttribute("width"),backTdWidth=0,rowsNum=this.rowsNum,cacheMap={};for(var rowIndex=0;rowIndex<rowsNum;){var infoRow=indexTable[rowIndex],cellInfo=infoRow[colIndex],key=cellInfo.rowIndex+"_"+cellInfo.colIndex;if(cacheMap[key]){continue}cacheMap[key]=1;var cell=this.getCell(cellInfo.rowIndex,cellInfo.cellIndex);if(!backTdWidth){backTdWidth=cell&&parseInt(cell.offsetWidth/cell.colSpan,10).toFixed(0)}if(cell.colSpan>1){cell.colSpan--}else{tableRows[rowIndex].deleteCell(cellInfo.cellIndex)}rowIndex+=cellInfo.rowSpan||1}this.table.setAttribute("width",backTableWidth-backTdWidth);this.update()},splitToCells:function(cell){var me=this,cells=this.splitToRows(cell);utils.each(cells,function(cell){me.splitToCols(cell)})},splitToRows:function(cell){var cellInfo=this.getCellInfo(cell),rowIndex=cellInfo.rowIndex,colIndex=cellInfo.colIndex,results=[];cell.rowSpan=1;results.push(cell);for(var i=rowIndex,endRow=rowIndex+cellInfo.rowSpan;i<endRow;i++){if(i==rowIndex){continue}var tableRow=this.table.rows[i],tmpCell=tableRow.insertCell(colIndex-this.getPreviewMergedCellsNum(i,colIndex));tmpCell.colSpan=cellInfo.colSpan;this.setCellContent(tmpCell);tmpCell.setAttribute("vAlign",cell.getAttribute("vAlign"));tmpCell.setAttribute("align",cell.getAttribute("align"));if(cell.style.cssText){tmpCell.style.cssText=cell.style.cssText}results.push(tmpCell)}this.update();return results},getPreviewMergedCellsNum:function(rowIndex,colIndex){var indexRow=this.indexTable[rowIndex],num=0;for(var i=0;i<colIndex;){var colSpan=indexRow[i].colSpan,tmpRowIndex=indexRow[i].rowIndex;num+=(colSpan-(tmpRowIndex==rowIndex?1:0));i+=colSpan}return num},splitToCols:function(cell){var backWidth=(cell.offsetWidth/cell.colSpan-22).toFixed(0),cellInfo=this.getCellInfo(cell),rowIndex=cellInfo.rowIndex,colIndex=cellInfo.colIndex,results=[];cell.colSpan=1;cell.setAttribute("width",backWidth);results.push(cell);for(var j=colIndex,endCol=colIndex+cellInfo.colSpan;j<endCol;j++){if(j==colIndex){continue}var tableRow=this.table.rows[rowIndex],tmpCell=tableRow.insertCell(this.indexTable[rowIndex][j].cellIndex+1);tmpCell.rowSpan=cellInfo.rowSpan;this.setCellContent(tmpCell);tmpCell.setAttribute("vAlign",cell.getAttribute("vAlign"));tmpCell.setAttribute("align",cell.getAttribute("align"));tmpCell.setAttribute("width",backWidth);if(cell.style.cssText){tmpCell.style.cssText=cell.style.cssText}if(cell.tagName=="TH"){var th=cell.ownerDocument.createElement("th");th.appendChild(tmpCell.firstChild);th.setAttribute("vAlign",cell.getAttribute("vAlign"));th.rowSpan=tmpCell.rowSpan;tableRow.insertBefore(th,tmpCell);domUtils.remove(tmpCell)}results.push(tmpCell)}this.update();return results},isLastCell:function(cell,rowsNum,colsNum){rowsNum=rowsNum||this.rowsNum;colsNum=colsNum||this.colsNum;var cellInfo=this.getCellInfo(cell);return((cellInfo.rowIndex+cellInfo.rowSpan)==rowsNum)&&((cellInfo.colIndex+cellInfo.colSpan)==colsNum)},getLastCell:function(cells){cells=cells||this.table.getElementsByTagName("td");var firstInfo=this.getCellInfo(cells[0]);var me=this,last=cells[0],tr=last.parentNode,cellsNum=0,cols=0,rows;utils.each(cells,function(cell){if(cell.parentNode==tr){cols+=cell.colSpan||1}cellsNum+=cell.rowSpan*cell.colSpan||1});rows=cellsNum/cols;utils.each(cells,function(cell){if(me.isLastCell(cell,rows,cols)){last=cell;return false}});return last},selectRow:function(rowIndex){var indexRow=this.indexTable[rowIndex],start=this.getCell(indexRow[0].rowIndex,indexRow[0].cellIndex),end=this.getCell(indexRow[this.colsNum-1].rowIndex,indexRow[this.colsNum-1].cellIndex),range=this.getCellsRange(start,end);this.setSelected(range)},selectTable:function(){var tds=this.table.getElementsByTagName("td"),range=this.getCellsRange(tds[0],tds[tds.length-1]);this.setSelected(range)},setBackground:function(cells,value){if(typeof value==="string"){utils.each(cells,function(cell){cell.style.backgroundColor=value})}else{if(typeof value==="object"){value=utils.extend({repeat:true,colorList:["#ddd","#fff"]},value);var rowIndex=this.getCellInfo(cells[0]).rowIndex,count=0,colors=value.colorList,getColor=function(list,index,repeat){return list[index]?list[index]:repeat?list[index%list.length]:""};for(var i=0,cell;cell=cells[i++];){var cellInfo=this.getCellInfo(cell);cell.style.backgroundColor=getColor(colors,((rowIndex+count)==cellInfo.rowIndex)?count:++count,value.repeat)}}}},removeBackground:function(cells){utils.each(cells,function(cell){cell.style.backgroundColor=""})}};function showError(e){}})();(function(){var UT=UE.UETable,getTableItemsByRange=function(editor){return UT.getTableItemsByRange(editor)},getUETableBySelected=function(editor){return UT.getUETableBySelected(editor)},getDefaultValue=function(editor,table){return UT.getDefaultValue(editor,table)},getUETable=function(tdOrTable){return UT.getUETable(tdOrTable)};UE.commands.inserttable={queryCommandState:function(){return getTableItemsByRange(this).table?-1:0},execCommand:function(cmd,opt){function createTable(opt,tdWidth){var html=[],rowsNum=opt.numRows,colsNum=opt.numCols;for(var r=0;r<rowsNum;r++){html.push("<tr"+(r==0?' class="firstRow"':"")+">");for(var c=0;c<colsNum;c++){html.push('<td width="'+tdWidth+'"  vAlign="'+opt.tdvalign+'" >'+(browser.ie&&browser.version<11?domUtils.fillChar:"<br/>")+"</td>")}html.push("</tr>")}return"<table><tbody>"+html.join("")+"</tbody></table>"}if(!opt){opt=utils.extend({},{numCols:this.options.defaultCols,numRows:this.options.defaultRows,tdvalign:this.options.tdvalign})}var me=this;var range=this.selection.getRange(),start=range.startContainer,firstParentBlock=domUtils.findParent(start,function(node){return domUtils.isBlockElm(node)},true)||me.body;var defaultValue=getDefaultValue(me),tableWidth=firstParentBlock.offsetWidth,tdWidth=Math.floor(tableWidth/opt.numCols-defaultValue.tdPadding*2-defaultValue.tdBorder);!opt.tdvalign&&(opt.tdvalign=me.options.tdvalign);me.execCommand("inserthtml",createTable(opt,tdWidth))}};UE.commands.insertparagraphbeforetable={queryCommandState:function(){return getTableItemsByRange(this).cell?0:-1},execCommand:function(){var table=getTableItemsByRange(this).table;if(table){var p=this.document.createElement("p");p.innerHTML=browser.ie?"&nbsp;":"<br />";table.parentNode.insertBefore(p,table);this.selection.getRange().setStart(p,0).setCursor()}}};UE.commands.deletetable={queryCommandState:function(){var rng=this.selection.getRange();return domUtils.findParentByTagName(rng.startContainer,"table",true)?0:-1},execCommand:function(cmd,table){var rng=this.selection.getRange();table=table||domUtils.findParentByTagName(rng.startContainer,"table",true);if(table){var next=table.nextSibling;if(!next){next=domUtils.createElement(this.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"});table.parentNode.insertBefore(next,table)}domUtils.remove(table);rng=this.selection.getRange();if(next.nodeType==3){rng.setStartBefore(next)}else{rng.setStart(next,0)}rng.setCursor(false,true);this.fireEvent("tablehasdeleted")}}};UE.commands.cellalign={queryCommandState:function(){return getSelectedArr(this).length?0:-1},execCommand:function(cmd,align){var selectedTds=getSelectedArr(this);if(selectedTds.length){for(var i=0,ci;ci=selectedTds[i++];){ci.setAttribute("align",align)}}}};UE.commands.cellvalign={queryCommandState:function(){return getSelectedArr(this).length?0:-1},execCommand:function(cmd,valign){var selectedTds=getSelectedArr(this);if(selectedTds.length){for(var i=0,ci;ci=selectedTds[i++];){ci.setAttribute("vAlign",valign)}}}};UE.commands.insertcaption={queryCommandState:function(){var table=getTableItemsByRange(this).table;if(table){return table.getElementsByTagName("caption").length==0?1:-1}return -1},execCommand:function(){var table=getTableItemsByRange(this).table;if(table){var caption=this.document.createElement("caption");caption.innerHTML=browser.ie?domUtils.fillChar:"<br/>";table.insertBefore(caption,table.firstChild);var range=this.selection.getRange();range.setStart(caption,0).setCursor()}}};UE.commands.deletecaption={queryCommandState:function(){var rng=this.selection.getRange(),table=domUtils.findParentByTagName(rng.startContainer,"table");if(table){return table.getElementsByTagName("caption").length==0?-1:1}return -1},execCommand:function(){var rng=this.selection.getRange(),table=domUtils.findParentByTagName(rng.startContainer,"table");if(table){domUtils.remove(table.getElementsByTagName("caption")[0]);var range=this.selection.getRange();range.setStart(table.rows[0].cells[0],0).setCursor()}}};UE.commands.inserttitle={queryCommandState:function(){var table=getTableItemsByRange(this).table;if(table){var firstRow=table.rows[0];return firstRow.cells[firstRow.cells.length-1].tagName.toLowerCase()!="th"?0:-1}return -1},execCommand:function(){var table=getTableItemsByRange(this).table;if(table){getUETable(table).insertRow(0,"th")}var th=table.getElementsByTagName("th")[0];this.selection.getRange().setStart(th,0).setCursor(false,true)}};UE.commands.deletetitle={queryCommandState:function(){var table=getTableItemsByRange(this).table;if(table){var firstRow=table.rows[0];return firstRow.cells[firstRow.cells.length-1].tagName.toLowerCase()=="th"?0:-1}return -1},execCommand:function(){var table=getTableItemsByRange(this).table;if(table){domUtils.remove(table.rows[0])}var td=table.getElementsByTagName("td")[0];this.selection.getRange().setStart(td,0).setCursor(false,true)}};UE.commands.inserttitlecol={queryCommandState:function(){var table=getTableItemsByRange(this).table;if(table){var lastRow=table.rows[table.rows.length-1];return lastRow.getElementsByTagName("th").length?-1:0}return -1},execCommand:function(cmd){var table=getTableItemsByRange(this).table;if(table){getUETable(table).insertCol(0,"th")}resetTdWidth(table,this);var th=table.getElementsByTagName("th")[0];this.selection.getRange().setStart(th,0).setCursor(false,true)}};UE.commands.deletetitlecol={queryCommandState:function(){var table=getTableItemsByRange(this).table;if(table){var lastRow=table.rows[table.rows.length-1];return lastRow.getElementsByTagName("th").length?0:-1}return -1},execCommand:function(){var table=getTableItemsByRange(this).table;if(table){for(var i=0;i<table.rows.length;i++){domUtils.remove(table.rows[i].children[0])}}resetTdWidth(table,this);var td=table.getElementsByTagName("td")[0];this.selection.getRange().setStart(td,0).setCursor(false,true)}};UE.commands.mergeright={queryCommandState:function(cmd){var tableItems=getTableItemsByRange(this),table=tableItems.table,cell=tableItems.cell;if(!table||!cell){return -1}var ut=getUETable(table);if(ut.selectedTds.length){return -1}var cellInfo=ut.getCellInfo(cell),rightColIndex=cellInfo.colIndex+cellInfo.colSpan;if(rightColIndex>=ut.colsNum){return -1}var rightCellInfo=ut.indexTable[cellInfo.rowIndex][rightColIndex],rightCell=table.rows[rightCellInfo.rowIndex].cells[rightCellInfo.cellIndex];if(!rightCell||cell.tagName!=rightCell.tagName){return -1}return(rightCellInfo.rowIndex==cellInfo.rowIndex&&rightCellInfo.rowSpan==cellInfo.rowSpan)?0:-1},execCommand:function(cmd){var rng=this.selection.getRange(),bk=rng.createBookmark(true);var cell=getTableItemsByRange(this).cell,ut=getUETable(cell);ut.mergeRight(cell);rng.moveToBookmark(bk).select()}};UE.commands.mergedown={queryCommandState:function(cmd){var tableItems=getTableItemsByRange(this),table=tableItems.table,cell=tableItems.cell;if(!table||!cell){return -1}var ut=getUETable(table);if(ut.selectedTds.length){return -1}var cellInfo=ut.getCellInfo(cell),downRowIndex=cellInfo.rowIndex+cellInfo.rowSpan;if(downRowIndex>=ut.rowsNum){return -1}var downCellInfo=ut.indexTable[downRowIndex][cellInfo.colIndex],downCell=table.rows[downCellInfo.rowIndex].cells[downCellInfo.cellIndex];if(!downCell||cell.tagName!=downCell.tagName){return -1}return(downCellInfo.colIndex==cellInfo.colIndex&&downCellInfo.colSpan==cellInfo.colSpan)?0:-1},execCommand:function(){var rng=this.selection.getRange(),bk=rng.createBookmark(true);var cell=getTableItemsByRange(this).cell,ut=getUETable(cell);ut.mergeDown(cell);rng.moveToBookmark(bk).select()}};UE.commands.mergecells={queryCommandState:function(){return getUETableBySelected(this)?0:-1},execCommand:function(){var ut=getUETableBySelected(this);if(ut&&ut.selectedTds.length){var cell=ut.selectedTds[0];ut.mergeRange();var rng=this.selection.getRange();if(domUtils.isEmptyBlock(cell)){rng.setStart(cell,0).collapse(true)}else{rng.selectNodeContents(cell)}rng.select()}}};UE.commands.insertrow={queryCommandState:function(){var tableItems=getTableItemsByRange(this),cell=tableItems.cell;return cell&&(cell.tagName=="TD"||(cell.tagName=="TH"&&tableItems.tr!==tableItems.table.rows[0]))&&getUETable(tableItems.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var rng=this.selection.getRange(),bk=rng.createBookmark(true);var tableItems=getTableItemsByRange(this),cell=tableItems.cell,table=tableItems.table,ut=getUETable(table),cellInfo=ut.getCellInfo(cell);if(!ut.selectedTds.length){ut.insertRow(cellInfo.rowIndex,cell)}else{var range=ut.cellsRange;for(var i=0,len=range.endRowIndex-range.beginRowIndex+1;i<len;i++){ut.insertRow(range.beginRowIndex,cell)}}rng.moveToBookmark(bk).select();if(table.getAttribute("interlaced")==="enabled"){this.fireEvent("interlacetable",table)}}};UE.commands.insertrownext={queryCommandState:function(){var tableItems=getTableItemsByRange(this),cell=tableItems.cell;return cell&&(cell.tagName=="TD")&&getUETable(tableItems.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var rng=this.selection.getRange(),bk=rng.createBookmark(true);var tableItems=getTableItemsByRange(this),cell=tableItems.cell,table=tableItems.table,ut=getUETable(table),cellInfo=ut.getCellInfo(cell);if(!ut.selectedTds.length){ut.insertRow(cellInfo.rowIndex+cellInfo.rowSpan,cell)}else{var range=ut.cellsRange;for(var i=0,len=range.endRowIndex-range.beginRowIndex+1;i<len;i++){ut.insertRow(range.endRowIndex+1,cell)}}rng.moveToBookmark(bk).select();if(table.getAttribute("interlaced")==="enabled"){this.fireEvent("interlacetable",table)}}};UE.commands.deleterow={queryCommandState:function(){var tableItems=getTableItemsByRange(this);return tableItems.cell?0:-1},execCommand:function(){var cell=getTableItemsByRange(this).cell,ut=getUETable(cell),cellsRange=ut.cellsRange,cellInfo=ut.getCellInfo(cell),preCell=ut.getVSideCell(cell),nextCell=ut.getVSideCell(cell,true),rng=this.selection.getRange();if(utils.isEmptyObject(cellsRange)){ut.deleteRow(cellInfo.rowIndex)}else{for(var i=cellsRange.beginRowIndex;i<cellsRange.endRowIndex+1;i++){ut.deleteRow(cellsRange.beginRowIndex)}}var table=ut.table;if(!table.getElementsByTagName("td").length){var nextSibling=table.nextSibling;domUtils.remove(table);if(nextSibling){rng.setStart(nextSibling,0).setCursor(false,true)}}else{if(cellInfo.rowSpan==1||cellInfo.rowSpan==cellsRange.endRowIndex-cellsRange.beginRowIndex+1){if(nextCell||preCell){rng.selectNodeContents(nextCell||preCell).setCursor(false,true)}}else{var newCell=ut.getCell(cellInfo.rowIndex,ut.indexTable[cellInfo.rowIndex][cellInfo.colIndex].cellIndex);if(newCell){rng.selectNodeContents(newCell).setCursor(false,true)}}}if(table.getAttribute("interlaced")==="enabled"){this.fireEvent("interlacetable",table)}}};UE.commands.insertcol={queryCommandState:function(cmd){var tableItems=getTableItemsByRange(this),cell=tableItems.cell;return cell&&(cell.tagName=="TD"||(cell.tagName=="TH"&&cell!==tableItems.tr.cells[0]))&&getUETable(tableItems.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(cmd){var rng=this.selection.getRange(),bk=rng.createBookmark(true);if(this.queryCommandState(cmd)==-1){return}var cell=getTableItemsByRange(this).cell,ut=getUETable(cell),cellInfo=ut.getCellInfo(cell);if(!ut.selectedTds.length){ut.insertCol(cellInfo.colIndex,cell)}else{var range=ut.cellsRange;for(var i=0,len=range.endColIndex-range.beginColIndex+1;i<len;i++){ut.insertCol(range.beginColIndex,cell)}}rng.moveToBookmark(bk).select(true)}};UE.commands.insertcolnext={queryCommandState:function(){var tableItems=getTableItemsByRange(this),cell=tableItems.cell;return cell&&getUETable(tableItems.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(){var rng=this.selection.getRange(),bk=rng.createBookmark(true);var cell=getTableItemsByRange(this).cell,ut=getUETable(cell),cellInfo=ut.getCellInfo(cell);if(!ut.selectedTds.length){ut.insertCol(cellInfo.colIndex+cellInfo.colSpan,cell)}else{var range=ut.cellsRange;for(var i=0,len=range.endColIndex-range.beginColIndex+1;i<len;i++){ut.insertCol(range.endColIndex+1,cell)}}rng.moveToBookmark(bk).select()}};UE.commands.deletecol={queryCommandState:function(){var tableItems=getTableItemsByRange(this);return tableItems.cell?0:-1},execCommand:function(){var cell=getTableItemsByRange(this).cell,ut=getUETable(cell),range=ut.cellsRange,cellInfo=ut.getCellInfo(cell),preCell=ut.getHSideCell(cell),nextCell=ut.getHSideCell(cell,true);if(utils.isEmptyObject(range)){ut.deleteCol(cellInfo.colIndex)}else{for(var i=range.beginColIndex;i<range.endColIndex+1;i++){ut.deleteCol(range.beginColIndex)}}var table=ut.table,rng=this.selection.getRange();if(!table.getElementsByTagName("td").length){var nextSibling=table.nextSibling;domUtils.remove(table);if(nextSibling){rng.setStart(nextSibling,0).setCursor(false,true)}}else{if(domUtils.inDoc(cell,this.document)){rng.setStart(cell,0).setCursor(false,true)}else{if(nextCell&&domUtils.inDoc(nextCell,this.document)){rng.selectNodeContents(nextCell).setCursor(false,true)}else{if(preCell&&domUtils.inDoc(preCell,this.document)){rng.selectNodeContents(preCell).setCursor(true,true)}}}}}};UE.commands.splittocells={queryCommandState:function(){var tableItems=getTableItemsByRange(this),cell=tableItems.cell;if(!cell){return -1}var ut=getUETable(tableItems.table);if(ut.selectedTds.length>0){return -1}return cell&&(cell.colSpan>1||cell.rowSpan>1)?0:-1},execCommand:function(){var rng=this.selection.getRange(),bk=rng.createBookmark(true);var cell=getTableItemsByRange(this).cell,ut=getUETable(cell);ut.splitToCells(cell);rng.moveToBookmark(bk).select()}};UE.commands.splittorows={queryCommandState:function(){var tableItems=getTableItemsByRange(this),cell=tableItems.cell;if(!cell){return -1}var ut=getUETable(tableItems.table);if(ut.selectedTds.length>0){return -1}return cell&&cell.rowSpan>1?0:-1},execCommand:function(){var rng=this.selection.getRange(),bk=rng.createBookmark(true);var cell=getTableItemsByRange(this).cell,ut=getUETable(cell);ut.splitToRows(cell);rng.moveToBookmark(bk).select()}};UE.commands.splittocols={queryCommandState:function(){var tableItems=getTableItemsByRange(this),cell=tableItems.cell;if(!cell){return -1}var ut=getUETable(tableItems.table);if(ut.selectedTds.length>0){return -1}return cell&&cell.colSpan>1?0:-1},execCommand:function(){var rng=this.selection.getRange(),bk=rng.createBookmark(true);var cell=getTableItemsByRange(this).cell,ut=getUETable(cell);ut.splitToCols(cell);rng.moveToBookmark(bk).select()}};UE.commands.adaptbytext=UE.commands.adaptbywindow={queryCommandState:function(){return getTableItemsByRange(this).table?0:-1},execCommand:function(cmd){var tableItems=getTableItemsByRange(this),table=tableItems.table;if(table){if(cmd=="adaptbywindow"){resetTdWidth(table,this)}else{var cells=domUtils.getElementsByTagName(table,"td th");utils.each(cells,function(cell){cell.removeAttribute("width")});table.removeAttribute("width")}}}};UE.commands.averagedistributecol={queryCommandState:function(){var ut=getUETableBySelected(this);if(!ut){return -1}return ut.isFullRow()||ut.isFullCol()?0:-1},execCommand:function(cmd){var me=this,ut=getUETableBySelected(me);function getAverageWidth(){var tb=ut.table,averageWidth,sumWidth=0,colsNum=0,tbAttr=getDefaultValue(me,tb);if(ut.isFullRow()){sumWidth=tb.offsetWidth;colsNum=ut.colsNum}else{var begin=ut.cellsRange.beginColIndex,end=ut.cellsRange.endColIndex,node;for(var i=begin;i<=end;){node=ut.selectedTds[i];sumWidth+=node.offsetWidth;i+=node.colSpan;colsNum+=1}}averageWidth=Math.ceil(sumWidth/colsNum)-tbAttr.tdBorder*2-tbAttr.tdPadding*2;return averageWidth}function setAverageWidth(averageWidth){utils.each(domUtils.getElementsByTagName(ut.table,"th"),function(node){node.setAttribute("width","")});var cells=ut.isFullRow()?domUtils.getElementsByTagName(ut.table,"td"):ut.selectedTds;utils.each(cells,function(node){if(node.colSpan==1){node.setAttribute("width",averageWidth)}})}if(ut&&ut.selectedTds.length){setAverageWidth(getAverageWidth())}}};UE.commands.averagedistributerow={queryCommandState:function(){var ut=getUETableBySelected(this);if(!ut){return -1}if(ut.selectedTds&&/th/ig.test(ut.selectedTds[0].tagName)){return -1}return ut.isFullRow()||ut.isFullCol()?0:-1},execCommand:function(cmd){var me=this,ut=getUETableBySelected(me);function getAverageHeight(){var averageHeight,rowNum,sumHeight=0,tb=ut.table,tbAttr=getDefaultValue(me,tb),tdpadding=parseInt(domUtils.getComputedStyle(tb.getElementsByTagName("td")[0],"padding-top"));if(ut.isFullCol()){var captionArr=domUtils.getElementsByTagName(tb,"caption"),thArr=domUtils.getElementsByTagName(tb,"th"),captionHeight,thHeight;if(captionArr.length>0){captionHeight=captionArr[0].offsetHeight}if(thArr.length>0){thHeight=thArr[0].offsetHeight}sumHeight=tb.offsetHeight-(captionHeight||0)-(thHeight||0);rowNum=thArr.length==0?ut.rowsNum:(ut.rowsNum-1)}else{var begin=ut.cellsRange.beginRowIndex,end=ut.cellsRange.endRowIndex,count=0,trs=domUtils.getElementsByTagName(tb,"tr");for(var i=begin;i<=end;i++){sumHeight+=trs[i].offsetHeight;count+=1}rowNum=count}if(browser.ie&&browser.version<9){averageHeight=Math.ceil(sumHeight/rowNum)}else{averageHeight=Math.ceil(sumHeight/rowNum)-tbAttr.tdBorder*2-tdpadding*2}return averageHeight}function setAverageHeight(averageHeight){var cells=ut.isFullCol()?domUtils.getElementsByTagName(ut.table,"td"):ut.selectedTds;utils.each(cells,function(node){if(node.rowSpan==1){node.setAttribute("height",averageHeight)}})}if(ut&&ut.selectedTds.length){setAverageHeight(getAverageHeight())}}};UE.commands.cellalignment={queryCommandState:function(){return getTableItemsByRange(this).table?0:-1},execCommand:function(cmd,data){var me=this,ut=getUETableBySelected(me);if(!ut){var start=me.selection.getStart(),cell=start&&domUtils.findParentByTagName(start,["td","th","caption"],true);if(!/caption/ig.test(cell.tagName)){domUtils.setAttributes(cell,data)}else{cell.style.textAlign=data.align;cell.style.verticalAlign=data.vAlign}me.selection.getRange().setCursor(true)}else{utils.each(ut.selectedTds,function(cell){domUtils.setAttributes(cell,data)})}},queryCommandValue:function(cmd){var activeMenuCell=getTableItemsByRange(this).cell;if(!activeMenuCell){activeMenuCell=getSelectedArr(this)[0]}if(!activeMenuCell){return null}else{var cells=UE.UETable.getUETable(activeMenuCell).selectedTds;!cells.length&&(cells=activeMenuCell);return UE.UETable.getTableCellAlignState(cells)}}};UE.commands.tablealignment={queryCommandState:function(){if(browser.ie&&browser.version<8){return -1}return getTableItemsByRange(this).table?0:-1},execCommand:function(cmd,value){var me=this,start=me.selection.getStart(),table=start&&domUtils.findParentByTagName(start,["table"],true);if(table){table.setAttribute("align",value)}}};UE.commands.edittable={queryCommandState:function(){return getTableItemsByRange(this).table?0:-1},execCommand:function(cmd,color){var rng=this.selection.getRange(),table=domUtils.findParentByTagName(rng.startContainer,"table");if(table){var arr=domUtils.getElementsByTagName(table,"td").concat(domUtils.getElementsByTagName(table,"th"),domUtils.getElementsByTagName(table,"caption"));utils.each(arr,function(node){node.style.borderColor=color})}}};UE.commands.edittd={queryCommandState:function(){return getTableItemsByRange(this).table?0:-1},execCommand:function(cmd,bkColor){var me=this,ut=getUETableBySelected(me);if(!ut){var start=me.selection.getStart(),cell=start&&domUtils.findParentByTagName(start,["td","th","caption"],true);if(cell){cell.style.backgroundColor=bkColor}}else{utils.each(ut.selectedTds,function(cell){cell.style.backgroundColor=bkColor})}}};UE.commands.settablebackground={queryCommandState:function(){return getSelectedArr(this).length>1?0:-1},execCommand:function(cmd,value){var cells,ut;cells=getSelectedArr(this);ut=getUETable(cells[0]);ut.setBackground(cells,value)}};UE.commands.cleartablebackground={queryCommandState:function(){var cells=getSelectedArr(this);if(!cells.length){return -1}for(var i=0,cell;cell=cells[i++];){if(cell.style.backgroundColor!==""){return 0}}return -1},execCommand:function(){var cells=getSelectedArr(this),ut=getUETable(cells[0]);ut.removeBackground(cells)}};UE.commands.interlacetable=UE.commands.uninterlacetable={queryCommandState:function(cmd){var table=getTableItemsByRange(this).table;if(!table){return -1}var interlaced=table.getAttribute("interlaced");if(cmd=="interlacetable"){return(interlaced==="enabled")?-1:0}else{return(!interlaced||interlaced==="disabled")?-1:0}},execCommand:function(cmd,classList){var table=getTableItemsByRange(this).table;if(cmd=="interlacetable"){table.setAttribute("interlaced","enabled");this.fireEvent("interlacetable",table,classList)}else{table.setAttribute("interlaced","disabled");this.fireEvent("uninterlacetable",table)}}};UE.commands.setbordervisible={queryCommandState:function(cmd){var table=getTableItemsByRange(this).table;if(!table){return -1}return 0},execCommand:function(){var table=getTableItemsByRange(this).table;utils.each(domUtils.getElementsByTagName(table,"td"),function(td){td.style.borderWidth="1px";td.style.borderStyle="solid"})}};function resetTdWidth(table,editor){var tds=domUtils.getElementsByTagName(table,"td th");utils.each(tds,function(td){td.removeAttribute("width")});table.setAttribute("width",getTableWidth(editor,true,getDefaultValue(editor,table)));var tdsWidths=[];setTimeout(function(){utils.each(tds,function(td){(td.colSpan==1)&&tdsWidths.push(td.offsetWidth)});utils.each(tds,function(td,i){(td.colSpan==1)&&td.setAttribute("width",tdsWidths[i]+"")})},0)}function getTableWidth(editor,needIEHack,defaultValue){var body=editor.body;return body.offsetWidth-(needIEHack?parseInt(domUtils.getComputedStyle(body,"margin-left"),10)*2:0)-defaultValue.tableBorder*2-(editor.options.offsetWidth||0)}function getSelectedArr(editor){var cell=getTableItemsByRange(editor).cell;if(cell){var ut=getUETable(cell);return ut.selectedTds.length?ut.selectedTds:[cell]}else{return[]}}})();UE.plugins.table=function(){var me=this,tabTimer=null,tableDragTimer=null,tableResizeTimer=null,cellMinWidth=5,isInResizeBuffer=false,cellBorderWidth=5,offsetOfTableCell=10,singleClickState=0,userActionStatus=null,dblclickTime=360,UT=UE.UETable,getUETable=function(tdOrTable){return UT.getUETable(tdOrTable)},getUETableBySelected=function(editor){return UT.getUETableBySelected(editor)},getDefaultValue=function(editor,table){return UT.getDefaultValue(editor,table)},removeSelectedClass=function(cells){return UT.removeSelectedClass(cells)};function showError(e){}me.ready(function(){var me=this;var orgGetText=me.selection.getText;me.selection.getText=function(){var table=getUETableBySelected(me);if(table){var str="";utils.each(table.selectedTds,function(td){str+=td[browser.ie?"innerText":"textContent"]});return str}else{return orgGetText.call(me.selection)}}});var startTd=null,currentTd=null,onDrag="",onBorder=false,dragButton=null,dragOver=false,dragLine=null,dragTd=null;var mousedown=false,needIEHack=true;me.setOpt({maxColNum:20,maxRowNum:100,defaultCols:5,defaultRows:5,tdvalign:"top",cursorpath:me.options.UEDITOR_HOME_URL+"themes/default/images/cursor_",tableDragable:false,classList:["ue-table-interlace-color-single","ue-table-interlace-color-double"]});me.getUETable=getUETable;var commands={deletetable:1,inserttable:1,cellvalign:1,insertcaption:1,deletecaption:1,inserttitle:1,deletetitle:1,mergeright:1,mergedown:1,mergecells:1,insertrow:1,insertrownext:1,deleterow:1,insertcol:1,insertcolnext:1,deletecol:1,splittocells:1,splittorows:1,splittocols:1,adaptbytext:1,adaptbywindow:1,adaptbycustomer:1,insertparagraph:1,insertparagraphbeforetable:1,averagedistributecol:1,averagedistributerow:1};me.ready(function(){utils.cssRule("table",".selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:1px solid #BBB;background-color:#F7F7F7;}table tr.firstRow th{border-top-width:2px;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}",me.document);var tableCopyList,isFullCol,isFullRow;me.addListener("keydown",function(cmd,evt){var me=this;var keyCode=evt.keyCode||evt.which;if(keyCode==8){var ut=getUETableBySelected(me);if(ut&&ut.selectedTds.length){if(ut.isFullCol()){me.execCommand("deletecol")}else{if(ut.isFullRow()){me.execCommand("deleterow")}else{me.fireEvent("delcells")}}domUtils.preventDefault(evt)}var caption=domUtils.findParentByTagName(me.selection.getStart(),"caption",true),range=me.selection.getRange();if(range.collapsed&&caption&&isEmptyBlock(caption)){me.fireEvent("saveScene");var table=caption.parentNode;domUtils.remove(caption);if(table){range.setStart(table.rows[0].cells[0],0).setCursor(false,true)}me.fireEvent("saveScene")}}if(keyCode==46){ut=getUETableBySelected(me);if(ut){me.fireEvent("saveScene");for(var i=0,ci;ci=ut.selectedTds[i++];){domUtils.fillNode(me.document,ci)}me.fireEvent("saveScene");domUtils.preventDefault(evt)}}if(keyCode==13){var rng=me.selection.getRange(),caption=domUtils.findParentByTagName(rng.startContainer,"caption",true);if(caption){var table=domUtils.findParentByTagName(caption,"table");if(!rng.collapsed){rng.deleteContents();me.fireEvent("saveScene")}else{if(caption){rng.setStart(table.rows[0].cells[0],0).setCursor(false,true)}}domUtils.preventDefault(evt);return}if(rng.collapsed){var table=domUtils.findParentByTagName(rng.startContainer,"table");if(table){var cell=table.rows[0].cells[0],start=domUtils.findParentByTagName(me.selection.getStart(),["td","th"],true),preNode=table.previousSibling;if(cell===start&&(!preNode||preNode.nodeType==1&&preNode.tagName=="TABLE")&&domUtils.isStartInblock(rng)){var first=domUtils.findParent(me.selection.getStart(),function(n){return domUtils.isBlockElm(n)},true);if(first&&(/t(h|d)/i.test(first.tagName)||first===start.firstChild)){me.execCommand("insertparagraphbeforetable");domUtils.preventDefault(evt)}}}}}if((evt.ctrlKey||evt.metaKey)&&evt.keyCode=="67"){tableCopyList=null;var ut=getUETableBySelected(me);if(ut){var tds=ut.selectedTds;isFullCol=ut.isFullCol();isFullRow=ut.isFullRow();tableCopyList=[[ut.cloneCell(tds[0],null,true)]];for(var i=1,ci;ci=tds[i];i++){if(ci.parentNode!==tds[i-1].parentNode){tableCopyList.push([ut.cloneCell(ci,null,true)])}else{tableCopyList[tableCopyList.length-1].push(ut.cloneCell(ci,null,true))}}}}});me.addListener("tablehasdeleted",function(){toggleDraggableState(this,false,"",null);if(dragButton){domUtils.remove(dragButton)}});me.addListener("beforepaste",function(cmd,html){var me=this;var rng=me.selection.getRange();if(domUtils.findParentByTagName(rng.startContainer,"caption",true)){var div=me.document.createElement("div");div.innerHTML=html.html;html.html=div[browser.ie9below?"innerText":"textContent"];return}var table=getUETableBySelected(me);if(tableCopyList){me.fireEvent("saveScene");var rng=me.selection.getRange();var td=domUtils.findParentByTagName(rng.startContainer,["td","th"],true),tmpNode,preNode;if(td){var ut=getUETable(td);if(isFullRow){var rowIndex=ut.getCellInfo(td).rowIndex;if(td.tagName=="TH"){rowIndex++}for(var i=0,ci;ci=tableCopyList[i++];){var tr=ut.insertRow(rowIndex++,"td");for(var j=0,cj;cj=ci[j];j++){var cell=tr.cells[j];if(!cell){cell=tr.insertCell(j)}cell.innerHTML=cj.innerHTML;cj.getAttribute("width")&&cell.setAttribute("width",cj.getAttribute("width"));cj.getAttribute("vAlign")&&cell.setAttribute("vAlign",cj.getAttribute("vAlign"));cj.getAttribute("align")&&cell.setAttribute("align",cj.getAttribute("align"));cj.style.cssText&&(cell.style.cssText=cj.style.cssText)}for(var j=0,cj;cj=tr.cells[j];j++){if(!ci[j]){break}cj.innerHTML=ci[j].innerHTML;ci[j].getAttribute("width")&&cj.setAttribute("width",ci[j].getAttribute("width"));ci[j].getAttribute("vAlign")&&cj.setAttribute("vAlign",ci[j].getAttribute("vAlign"));ci[j].getAttribute("align")&&cj.setAttribute("align",ci[j].getAttribute("align"));ci[j].style.cssText&&(cj.style.cssText=ci[j].style.cssText)}}}else{if(isFullCol){cellInfo=ut.getCellInfo(td);var maxColNum=0;for(var j=0,ci=tableCopyList[0],cj;cj=ci[j++];){maxColNum+=cj.colSpan||1}me.__hasEnterExecCommand=true;for(i=0;i<maxColNum;i++){me.execCommand("insertcol")}me.__hasEnterExecCommand=false;td=ut.table.rows[0].cells[cellInfo.cellIndex];if(td.tagName=="TH"){td=ut.table.rows[1].cells[cellInfo.cellIndex]}}for(var i=0,ci;ci=tableCopyList[i++];){tmpNode=td;for(var j=0,cj;cj=ci[j++];){if(td){td.innerHTML=cj.innerHTML;cj.getAttribute("width")&&td.setAttribute("width",cj.getAttribute("width"));cj.getAttribute("vAlign")&&td.setAttribute("vAlign",cj.getAttribute("vAlign"));cj.getAttribute("align")&&td.setAttribute("align",cj.getAttribute("align"));cj.style.cssText&&(td.style.cssText=cj.style.cssText);preNode=td;td=td.nextSibling}else{var cloneTd=cj.cloneNode(true);domUtils.removeAttributes(cloneTd,["class","rowSpan","colSpan"]);preNode.parentNode.appendChild(cloneTd)}}td=ut.getNextCell(tmpNode,true,true);if(!tableCopyList[i]){break}if(!td){var cellInfo=ut.getCellInfo(tmpNode);ut.table.insertRow(ut.table.rows.length);ut.update();td=ut.getVSideCell(tmpNode,true)}}}ut.update()}else{table=me.document.createElement("table");for(var i=0,ci;ci=tableCopyList[i++];){var tr=table.insertRow(table.rows.length);for(var j=0,cj;cj=ci[j++];){cloneTd=UT.cloneCell(cj,null,true);domUtils.removeAttributes(cloneTd,["class"]);tr.appendChild(cloneTd)}if(j==2&&cloneTd.rowSpan>1){cloneTd.rowSpan=1}}var defaultValue=getDefaultValue(me),width=me.body.offsetWidth-(needIEHack?parseInt(domUtils.getComputedStyle(me.body,"margin-left"),10)*2:0)-defaultValue.tableBorder*2-(me.options.offsetWidth||0);me.execCommand("insertHTML","<table  "+(isFullCol&&isFullRow?'width="'+width+'"':"")+">"+table.innerHTML.replace(/>\s*</g,"><").replace(/\bth\b/gi,"td")+"</table>")}me.fireEvent("contentchange");me.fireEvent("saveScene");html.html="";return true}else{var div=me.document.createElement("div"),tables;div.innerHTML=html.html;tables=div.getElementsByTagName("table");if(domUtils.findParentByTagName(me.selection.getStart(),"table")){utils.each(tables,function(t){domUtils.remove(t)});if(domUtils.findParentByTagName(me.selection.getStart(),"caption",true)){div.innerHTML=div[browser.ie?"innerText":"textContent"]}}else{utils.each(tables,function(table){removeStyleSize(table,true);domUtils.removeAttributes(table,["style","border"]);utils.each(domUtils.getElementsByTagName(table,"td"),function(td){if(isEmptyBlock(td)){domUtils.fillNode(me.document,td)}removeStyleSize(td,true)})})}html.html=div.innerHTML}});me.addListener("afterpaste",function(){utils.each(domUtils.getElementsByTagName(me.body,"table"),function(table){if(table.offsetWidth>me.body.offsetWidth){var defaultValue=getDefaultValue(me,table);table.style.width=me.body.offsetWidth-(needIEHack?parseInt(domUtils.getComputedStyle(me.body,"margin-left"),10)*2:0)-defaultValue.tableBorder*2-(me.options.offsetWidth||0)+"px"}})});me.addListener("blur",function(){tableCopyList=null});var timer;me.addListener("keydown",function(){clearTimeout(timer);timer=setTimeout(function(){var rng=me.selection.getRange(),cell=domUtils.findParentByTagName(rng.startContainer,["th","td"],true);if(cell){var table=cell.parentNode.parentNode.parentNode;if(table.offsetWidth>table.getAttribute("width")){cell.style.wordBreak="break-all"}}},100)});me.addListener("selectionchange",function(){toggleDraggableState(me,false,"",null)});me.addListener("contentchange",function(){var me=this;hideDragLine(me);if(getUETableBySelected(me)){return}var rng=me.selection.getRange();var start=rng.startContainer;start=domUtils.findParentByTagName(start,["td","th"],true);utils.each(domUtils.getElementsByTagName(me.document,"table"),function(table){if(me.fireEvent("excludetable",table)===true){return}table.ueTable=new UT(table);table.onmouseover=function(){me.fireEvent("tablemouseover",table)};table.onmousemove=function(){me.fireEvent("tablemousemove",table);me.options.tableDragable&&toggleDragButton(true,this,me);utils.defer(function(){me.fireEvent("contentchange",50)},true)};table.onmouseout=function(){me.fireEvent("tablemouseout",table);toggleDraggableState(me,false,"",null);hideDragLine(me)};table.onclick=function(evt){evt=me.window.event||evt;var target=getParentTdOrTh(evt.target||evt.srcElement);if(!target){return}var ut=getUETable(target),table=ut.table,cellInfo=ut.getCellInfo(target),cellsRange,rng=me.selection.getRange();if(inTableSide(table,target,evt,true)){var endTdCol=ut.getCell(ut.indexTable[ut.rowsNum-1][cellInfo.colIndex].rowIndex,ut.indexTable[ut.rowsNum-1][cellInfo.colIndex].cellIndex);if(evt.shiftKey&&ut.selectedTds.length){if(ut.selectedTds[0]!==endTdCol){cellsRange=ut.getCellsRange(ut.selectedTds[0],endTdCol);ut.setSelected(cellsRange)}else{rng&&rng.selectNodeContents(endTdCol).select()}}else{if(target!==endTdCol){cellsRange=ut.getCellsRange(target,endTdCol);ut.setSelected(cellsRange)}else{rng&&rng.selectNodeContents(endTdCol).select()}}return}if(inTableSide(table,target,evt)){var endTdRow=ut.getCell(ut.indexTable[cellInfo.rowIndex][ut.colsNum-1].rowIndex,ut.indexTable[cellInfo.rowIndex][ut.colsNum-1].cellIndex);if(evt.shiftKey&&ut.selectedTds.length){if(ut.selectedTds[0]!==endTdRow){cellsRange=ut.getCellsRange(ut.selectedTds[0],endTdRow);ut.setSelected(cellsRange)}else{rng&&rng.selectNodeContents(endTdRow).select()}}else{if(target!==endTdRow){cellsRange=ut.getCellsRange(target,endTdRow);ut.setSelected(cellsRange)}else{rng&&rng.selectNodeContents(endTdRow).select()}}}}});switchBorderColor(me,true)});domUtils.on(me.document,"mousemove",mouseMoveEvent);domUtils.on(me.document,"mouseout",function(evt){var target=evt.target||evt.srcElement;if(target.tagName=="TABLE"){toggleDraggableState(me,false,"",null)}});me.addListener("interlacetable",function(type,table,classList){if(!table){return}var me=this,rows=table.rows,len=rows.length,getClass=function(list,index,repeat){return list[index]?list[index]:repeat?list[index%list.length]:""};for(var i=0;i<len;i++){rows[i].className=getClass(classList||me.options.classList,i,true)}});me.addListener("uninterlacetable",function(type,table){if(!table){return}var me=this,rows=table.rows,classList=me.options.classList,len=rows.length;for(var i=0;i<len;i++){domUtils.removeClasses(rows[i],classList)}});me.addListener("mousedown",mouseDownEvent);me.addListener("mouseup",mouseUpEvent);domUtils.on(me.body,"dragstart",function(evt){mouseUpEvent.call(me,"dragstart",evt)});me.addOutputRule(function(root){utils.each(root.getNodesByTagName("div"),function(n){if(n.getAttr("id")=="ue_tableDragLine"){n.parentNode.removeChild(n)}})});var currentRowIndex=0;me.addListener("mousedown",function(){currentRowIndex=0});me.addListener("tabkeydown",function(){var range=this.selection.getRange(),common=range.getCommonAncestor(true,true),table=domUtils.findParentByTagName(common,"table");if(table){if(domUtils.findParentByTagName(common,"caption",true)){var cell=domUtils.getElementsByTagName(table,"th td");if(cell&&cell.length){range.setStart(cell[0],0).setCursor(false,true)}}else{var cell=domUtils.findParentByTagName(common,["td","th"],true),ua=getUETable(cell);currentRowIndex=cell.rowSpan>1?currentRowIndex:ua.getCellInfo(cell).rowIndex;var nextCell=ua.getTabNextCell(cell,currentRowIndex);if(nextCell){if(isEmptyBlock(nextCell)){range.setStart(nextCell,0).setCursor(false,true)}else{range.selectNodeContents(nextCell).select()}}else{me.fireEvent("saveScene");me.__hasEnterExecCommand=true;this.execCommand("insertrownext");me.__hasEnterExecCommand=false;range=this.selection.getRange();range.setStart(table.rows[table.rows.length-1].cells[0],0).setCursor();me.fireEvent("saveScene")}}return true}});browser.ie&&me.addListener("selectionchange",function(){toggleDraggableState(this,false,"",null)});me.addListener("keydown",function(type,evt){var me=this;var keyCode=evt.keyCode||evt.which;if(keyCode==8||keyCode==46){return}var notCtrlKey=!evt.ctrlKey&&!evt.metaKey&&!evt.shiftKey&&!evt.altKey;notCtrlKey&&removeSelectedClass(domUtils.getElementsByTagName(me.body,"td"));var ut=getUETableBySelected(me);if(!ut){return}notCtrlKey&&ut.clearSelected()});me.addListener("beforegetcontent",function(){switchBorderColor(this,false);browser.ie&&utils.each(this.document.getElementsByTagName("caption"),function(ci){if(domUtils.isEmptyNode(ci)){ci.innerHTML="&nbsp;"}})});me.addListener("aftergetcontent",function(){switchBorderColor(this,true)});me.addListener("getAllHtml",function(){removeSelectedClass(me.document.getElementsByTagName("td"))});me.addListener("fullscreenchanged",function(type,fullscreen){if(!fullscreen){var ratio=this.body.offsetWidth/document.body.offsetWidth,tables=domUtils.getElementsByTagName(this.body,"table");utils.each(tables,function(table){if(table.offsetWidth<me.body.offsetWidth){return false}var tds=domUtils.getElementsByTagName(table,"td"),backWidths=[];utils.each(tds,function(td){backWidths.push(td.offsetWidth)});for(var i=0,td;td=tds[i];i++){td.setAttribute("width",Math.floor(backWidths[i]*ratio))}table.setAttribute("width",Math.floor(getTableWidth(me,needIEHack,getDefaultValue(me))))})}});var oldExecCommand=me.execCommand;me.execCommand=function(cmd,datatat){var me=this,args=arguments;cmd=cmd.toLowerCase();var ut=getUETableBySelected(me),tds,range=new dom.Range(me.document),cmdFun=me.commands[cmd]||UE.commands[cmd],result;if(!cmdFun){return}if(ut&&!commands[cmd]&&!cmdFun.notNeedUndo&&!me.__hasEnterExecCommand){me.__hasEnterExecCommand=true;me.fireEvent("beforeexeccommand",cmd);tds=ut.selectedTds;var lastState=-2,lastValue=-2,value,state;for(var i=0,td;td=tds[i];i++){if(isEmptyBlock(td)){range.setStart(td,0).setCursor(false,true)}else{range.selectNode(td).select(true)}state=me.queryCommandState(cmd);value=me.queryCommandValue(cmd);if(state!=-1){if(lastState!==state||lastValue!==value){me._ignoreContentChange=true;result=oldExecCommand.apply(me,arguments);me._ignoreContentChange=false}lastState=me.queryCommandState(cmd);lastValue=me.queryCommandValue(cmd);if(domUtils.isEmptyBlock(td)){domUtils.fillNode(me.document,td)}}}range.setStart(tds[0],0).shrinkBoundary(true).setCursor(false,true);me.fireEvent("contentchange");me.fireEvent("afterexeccommand",cmd);me.__hasEnterExecCommand=false;me._selectionChange()}else{result=oldExecCommand.apply(me,arguments)}return result}});function removeStyleSize(obj,replaceToProperty){removeStyle(obj,"width",true);removeStyle(obj,"height",true)}function removeStyle(obj,styleName,replaceToProperty){if(obj.style[styleName]){replaceToProperty&&obj.setAttribute(styleName,parseInt(obj.style[styleName],10));obj.style[styleName]=""}}function getParentTdOrTh(ele){if(ele.tagName=="TD"||ele.tagName=="TH"){return ele}var td;if(td=domUtils.findParentByTagName(ele,"td",true)||domUtils.findParentByTagName(ele,"th",true)){return td}return null}function isEmptyBlock(node){var reg=new RegExp(domUtils.fillChar,"g");if(node[browser.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(reg,"").length>0){return 0}for(var n in dtd.$isNotEmpty){if(node.getElementsByTagName(n).length){return 0}}return 1}function mouseCoords(evt){if(evt.pageX||evt.pageY){return{x:evt.pageX,y:evt.pageY}}return{x:evt.clientX+me.document.body.scrollLeft-me.document.body.clientLeft,y:evt.clientY+me.document.body.scrollTop-me.document.body.clientTop}}function mouseMoveEvent(evt){if(isEditorDisabled()){return}try{var target=getParentTdOrTh(evt.target||evt.srcElement),pos;if(isInResizeBuffer){me.body.style.webkitUserSelect="none";if(Math.abs(userActionStatus.x-evt.clientX)>offsetOfTableCell||Math.abs(userActionStatus.y-evt.clientY)>offsetOfTableCell){clearTableDragTimer();isInResizeBuffer=false;singleClickState=0;tableBorderDrag(evt)}}if(onDrag&&dragTd){singleClickState=0;me.body.style.webkitUserSelect="none";me.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"]();pos=mouseCoords(evt);toggleDraggableState(me,true,onDrag,pos,target);if(onDrag=="h"){dragLine.style.left=getPermissionX(dragTd,evt)+"px"}else{if(onDrag=="v"){dragLine.style.top=getPermissionY(dragTd,evt)+"px"}}return}if(target){if(me.fireEvent("excludetable",target)===true){return}pos=mouseCoords(evt);var state=getRelation(target,pos),table=domUtils.findParentByTagName(target,"table",true);if(inTableSide(table,target,evt,true)){if(me.fireEvent("excludetable",table)===true){return}me.body.style.cursor="url("+me.options.cursorpath+"h.png),pointer"}else{if(inTableSide(table,target,evt)){if(me.fireEvent("excludetable",table)===true){return}me.body.style.cursor="url("+me.options.cursorpath+"v.png),pointer"}else{me.body.style.cursor="text";var curCell=target;if(/\d/.test(state)){state=state.replace(/\d/,"");target=getUETable(target).getPreviewCell(target,state=="v")}toggleDraggableState(me,target?!!state:false,target?state:"",pos,target)}}}else{toggleDragButton(false,table,me)}}catch(e){showError(e)}}var dragButtonTimer;function toggleDragButton(show,table,editor){if(!show){if(dragOver){return}dragButtonTimer=setTimeout(function(){!dragOver&&dragButton&&dragButton.parentNode&&dragButton.parentNode.removeChild(dragButton)},2000)}else{createDragButton(table,editor)}}function createDragButton(table,editor){var pos=domUtils.getXY(table),doc=table.ownerDocument;if(dragButton&&dragButton.parentNode){return dragButton}dragButton=doc.createElement("div");dragButton.contentEditable=false;dragButton.innerHTML="";dragButton.style.cssText="width:15px;height:15px;background-image:url("+editor.options.UEDITOR_HOME_URL+"dialogs/table/dragicon.png);position: absolute;cursor:move;top:"+(pos.y-15)+"px;left:"+(pos.x)+"px;";domUtils.unSelectable(dragButton);dragButton.onmouseover=function(evt){dragOver=true};dragButton.onmouseout=function(evt){dragOver=false};domUtils.on(dragButton,"click",function(type,evt){doClick(evt,this)});domUtils.on(dragButton,"dblclick",function(type,evt){doDblClick(evt)});domUtils.on(dragButton,"dragstart",function(type,evt){domUtils.preventDefault(evt)});var timer;function doClick(evt,button){clearTimeout(timer);timer=setTimeout(function(){editor.fireEvent("tableClicked",table,button)},300)}function doDblClick(evt){clearTimeout(timer);var ut=getUETable(table),start=table.rows[0].cells[0],end=ut.getLastCell(),range=ut.getCellsRange(start,end);editor.selection.getRange().setStart(start,0).setCursor(false,true);ut.setSelected(range)}doc.body.appendChild(dragButton)}function inTableSide(table,cell,evt,top){var pos=mouseCoords(evt),state=getRelation(cell,pos);if(top){var caption=table.getElementsByTagName("caption")[0],capHeight=caption?caption.offsetHeight:0;return(state=="v1")&&((pos.y-domUtils.getXY(table).y-capHeight)<8)}else{return(state=="h1")&&((pos.x-domUtils.getXY(table).x)<8)}}function getPermissionX(dragTd,evt){var ut=getUETable(dragTd);if(ut){var preTd=ut.getSameEndPosCells(dragTd,"x")[0],nextTd=ut.getSameStartPosXCells(dragTd)[0],mouseX=mouseCoords(evt).x,left=(preTd?domUtils.getXY(preTd).x:domUtils.getXY(ut.table).x)+20,right=nextTd?domUtils.getXY(nextTd).x+nextTd.offsetWidth-20:(me.body.offsetWidth+5||parseInt(domUtils.getComputedStyle(me.body,"width"),10));left+=cellMinWidth;right-=cellMinWidth;return mouseX<left?left:mouseX>right?right:mouseX}}function getPermissionY(dragTd,evt){try{var top=domUtils.getXY(dragTd).y,mousePosY=mouseCoords(evt).y;return mousePosY<top?top:mousePosY}catch(e){showError(e)}}function toggleDraggableState(editor,draggable,dir,mousePos,cell){try{editor.body.style.cursor=dir=="h"?"col-resize":dir=="v"?"row-resize":"text";if(browser.ie){if(dir&&!mousedown&&!getUETableBySelected(editor)){getDragLine(editor,editor.document);showDragLineAt(dir,cell)}else{hideDragLine(editor)}}onBorder=draggable}catch(e){showError(e)}}function getResizeLineByUETable(){var lineId="_UETableResizeLine",line=this.document.getElementById(lineId);if(!line){line=this.document.createElement("div");line.id=lineId;line.contnetEditable=false;line.setAttribute("unselectable","on");var styles={width:2*cellBorderWidth+1+"px",position:"absolute","z-index":100000,cursor:"col-resize",background:"red",display:"none"};line.onmouseout=function(){this.style.display="none"};utils.extend(line.style,styles);this.document.body.appendChild(line)}return line}function updateResizeLine(cell,uetable){var line=getResizeLineByUETable.call(this),table=uetable.table,styles={top:domUtils.getXY(table).y+"px",left:domUtils.getXY(cell).x+cell.offsetWidth-cellBorderWidth+"px",display:"block",height:table.offsetHeight+"px"};utils.extend(line.style,styles)}function showResizeLine(cell){var uetable=getUETable(cell);updateResizeLine.call(this,cell,uetable)}function getRelation(ele,mousePos){var elePos=domUtils.getXY(ele);if(!elePos){return""}if(elePos.x+ele.offsetWidth-mousePos.x<cellBorderWidth){return"h"}if(mousePos.x-elePos.x<cellBorderWidth){return"h1"}if(elePos.y+ele.offsetHeight-mousePos.y<cellBorderWidth){return"v"}if(mousePos.y-elePos.y<cellBorderWidth){return"v1"}return""}function mouseDownEvent(type,evt){if(isEditorDisabled()){return}userActionStatus={x:evt.clientX,y:evt.clientY};if(evt.button==2){var ut=getUETableBySelected(me),flag=false;if(ut){var td=getTargetTd(me,evt);utils.each(ut.selectedTds,function(ti){if(ti===td){flag=true}});if(!flag){removeSelectedClass(domUtils.getElementsByTagName(me.body,"th td"));ut.clearSelected()}else{td=ut.selectedTds[0];setTimeout(function(){me.selection.getRange().setStart(td,0).setCursor(false,true)},0)}}}else{tableClickHander(evt)}}function clearTableTimer(){tabTimer&&clearTimeout(tabTimer);tabTimer=null}function tableDbclickHandler(evt){singleClickState=0;evt=evt||me.window.event;var target=getParentTdOrTh(evt.target||evt.srcElement);if(target){var h;if(h=getRelation(target,mouseCoords(evt))){hideDragLine(me);if(h=="h1"){h="h";if(inTableSide(domUtils.findParentByTagName(target,"table"),target,evt)){me.execCommand("adaptbywindow")}else{target=getUETable(target).getPreviewCell(target);if(target){var rng=me.selection.getRange();rng.selectNodeContents(target).setCursor(true,true)}}}if(h=="h"){var ut=getUETable(target),table=ut.table,cells=getCellsByMoveBorder(target,table,true);cells=extractArray(cells,"left");ut.width=ut.offsetWidth;var oldWidth=[],newWidth=[];utils.each(cells,function(cell){oldWidth.push(cell.offsetWidth)});utils.each(cells,function(cell){cell.removeAttribute("width")});window.setTimeout(function(){var changeable=true;utils.each(cells,function(cell,index){var width=cell.offsetWidth;if(width>oldWidth[index]){changeable=false;return false}newWidth.push(width)});var change=changeable?newWidth:oldWidth;utils.each(cells,function(cell,index){cell.width=change[index]-getTabcellSpace()})},0)}}}}function tableClickHander(evt){removeSelectedClass(domUtils.getElementsByTagName(me.body,"td th"));utils.each(me.document.getElementsByTagName("table"),function(t){t.ueTable=null});startTd=getTargetTd(me,evt);if(!startTd){return}var table=domUtils.findParentByTagName(startTd,"table",true);ut=getUETable(table);ut&&ut.clearSelected();if(!onBorder){me.document.body.style.webkitUserSelect="";mousedown=true;me.addListener("mouseover",mouseOverEvent)}else{borderActionHandler(evt)}}function borderActionHandler(evt){if(browser.ie){evt=reconstruct(evt)}clearTableDragTimer();isInResizeBuffer=true;tableDragTimer=setTimeout(function(){tableBorderDrag(evt)},dblclickTime)}function extractArray(originArr,key){var result=[],tmp=null;for(var i=0,len=originArr.length;i<len;i++){tmp=originArr[i][key];if(tmp){result.push(tmp)}}return result}function clearTableDragTimer(){tableDragTimer&&clearTimeout(tableDragTimer);tableDragTimer=null}function reconstruct(obj){var attrs=["pageX","pageY","clientX","clientY","srcElement","target"],newObj={};if(obj){for(var i=0,key,val;key=attrs[i];i++){val=obj[key];val&&(newObj[key]=val)}}return newObj}function tableBorderDrag(evt){isInResizeBuffer=false;startTd=evt.target||evt.srcElement;if(!startTd){return}var state=getRelation(startTd,mouseCoords(evt));if(/\d/.test(state)){state=state.replace(/\d/,"");startTd=getUETable(startTd).getPreviewCell(startTd,state=="v")}hideDragLine(me);getDragLine(me,me.document);me.fireEvent("saveScene");showDragLineAt(state,startTd);mousedown=true;onDrag=state;dragTd=startTd}function mouseUpEvent(type,evt){if(isEditorDisabled()){return}clearTableDragTimer();isInResizeBuffer=false;if(onBorder){singleClickState=++singleClickState%3;userActionStatus={x:evt.clientX,y:evt.clientY};tableResizeTimer=setTimeout(function(){singleClickState>0&&singleClickState--},dblclickTime);if(singleClickState===2){singleClickState=0;tableDbclickHandler(evt);return}}if(evt.button==2){return}var me=this;var range=me.selection.getRange(),start=domUtils.findParentByTagName(range.startContainer,"table",true),end=domUtils.findParentByTagName(range.endContainer,"table",true);if(start||end){if(start===end){start=domUtils.findParentByTagName(range.startContainer,["td","th","caption"],true);end=domUtils.findParentByTagName(range.endContainer,["td","th","caption"],true);if(start!==end){me.selection.clearRange()}}else{me.selection.clearRange()}}mousedown=false;me.document.body.style.webkitUserSelect="";if(onDrag&&dragTd){me.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"]();singleClickState=0;dragLine=me.document.getElementById("ue_tableDragLine");if(dragLine){var dragTdPos=domUtils.getXY(dragTd),dragLinePos=domUtils.getXY(dragLine);switch(onDrag){case"h":changeColWidth(dragTd,dragLinePos.x-dragTdPos.x);break;case"v":changeRowHeight(dragTd,dragLinePos.y-dragTdPos.y-dragTd.offsetHeight);break;default:}onDrag="";dragTd=null;hideDragLine(me);me.fireEvent("saveScene");return}}if(!startTd){var target=domUtils.findParentByTagName(evt.target||evt.srcElement,"td",true);if(!target){target=domUtils.findParentByTagName(evt.target||evt.srcElement,"th",true)}if(target&&(target.tagName=="TD"||target.tagName=="TH")){if(me.fireEvent("excludetable",target)===true){return}range=new dom.Range(me.document);range.setStart(target,0).setCursor(false,true)}}else{var ut=getUETable(startTd),cell=ut?ut.selectedTds[0]:null;if(cell){range=new dom.Range(me.document);if(domUtils.isEmptyBlock(cell)){range.setStart(cell,0).setCursor(false,true)}else{range.selectNodeContents(cell).shrinkBoundary().setCursor(false,true)}}else{range=me.selection.getRange().shrinkBoundary();if(!range.collapsed){var start=domUtils.findParentByTagName(range.startContainer,["td","th"],true),end=domUtils.findParentByTagName(range.endContainer,["td","th"],true);if(start&&!end||!start&&end||start&&end&&start!==end){range.setCursor(false,true)}}}startTd=null;me.removeListener("mouseover",mouseOverEvent)}me._selectionChange(250,evt)}function mouseOverEvent(type,evt){if(isEditorDisabled()){return}var me=this,tar=evt.target||evt.srcElement;currentTd=domUtils.findParentByTagName(tar,"td",true)||domUtils.findParentByTagName(tar,"th",true);if(startTd&&currentTd&&((startTd.tagName=="TD"&&currentTd.tagName=="TD")||(startTd.tagName=="TH"&&currentTd.tagName=="TH"))&&domUtils.findParentByTagName(startTd,"table")==domUtils.findParentByTagName(currentTd,"table")){var ut=getUETable(currentTd);if(startTd!=currentTd){me.document.body.style.webkitUserSelect="none";me.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"]();var range=ut.getCellsRange(startTd,currentTd);ut.setSelected(range)}else{me.document.body.style.webkitUserSelect="";ut.clearSelected()}}evt.preventDefault?evt.preventDefault():(evt.returnValue=false)}function setCellHeight(cell,height,backHeight){var lineHight=parseInt(domUtils.getComputedStyle(cell,"line-height"),10),tmpHeight=backHeight+height;height=tmpHeight<lineHight?lineHight:tmpHeight;if(cell.style.height){cell.style.height=""}cell.rowSpan==1?cell.setAttribute("height",height):(cell.removeAttribute&&cell.removeAttribute("height"))}function getWidth(cell){if(!cell){return 0}return parseInt(domUtils.getComputedStyle(cell,"width"),10)}function changeColWidth(cell,changeValue){var ut=getUETable(cell);if(ut){var table=ut.table,cells=getCellsByMoveBorder(cell,table);table.style.width="";table.removeAttribute("width");changeValue=correctChangeValue(changeValue,cell,cells);if(cell.nextSibling){var i=0;utils.each(cells,function(cellGroup){cellGroup.left.width=(+cellGroup.left.width)+changeValue;cellGroup.right&&(cellGroup.right.width=(+cellGroup.right.width)-changeValue)})}else{utils.each(cells,function(cellGroup){cellGroup.left.width-=-changeValue})}}}function isEditorDisabled(){return me.body.contentEditable==="false"}function changeRowHeight(td,changeValue){if(Math.abs(changeValue)<10){return}var ut=getUETable(td);if(ut){var cells=ut.getSameEndPosCells(td,"y"),backHeight=cells[0]?cells[0].offsetHeight:0;for(var i=0,cell;cell=cells[i++];){setCellHeight(cell,changeValue,backHeight)}}}function getCellsByMoveBorder(cell,table,isContainMergeCell){if(!table){table=domUtils.findParentByTagName(cell,"table")}if(!table){return null}var index=domUtils.getNodeIndex(cell),temp=cell,rows=table.rows,colIndex=0;while(temp){if(temp.nodeType===1){colIndex+=(temp.colSpan||1)}temp=temp.previousSibling}temp=null;var borderCells=[];utils.each(rows,function(tabRow){var cells=tabRow.cells,currIndex=0;utils.each(cells,function(tabCell){currIndex+=(tabCell.colSpan||1);if(currIndex===colIndex){borderCells.push({left:tabCell,right:tabCell.nextSibling||null});return false}else{if(currIndex>colIndex){if(isContainMergeCell){borderCells.push({left:tabCell})}return false}}})});return borderCells}function getMinWidthByTableCells(cells){var minWidth=Number.MAX_VALUE;for(var i=0,curCell;curCell=cells[i];i++){minWidth=Math.min(minWidth,curCell.width||getTableCellWidth(curCell))}return minWidth}function correctChangeValue(changeValue,relatedCell,cells){changeValue-=getTabcellSpace();if(changeValue<0){return 0}changeValue-=getTableCellWidth(relatedCell);var direction=changeValue<0?"left":"right";changeValue=Math.abs(changeValue);utils.each(cells,function(cellGroup){var curCell=cellGroup[direction];if(curCell){changeValue=Math.min(changeValue,getTableCellWidth(curCell)-cellMinWidth)}});changeValue=changeValue<0?0:changeValue;return direction==="left"?-changeValue:changeValue}function getTableCellWidth(cell){var width=0,offset=0,width=cell.offsetWidth-getTabcellSpace();if(!cell.nextSibling){width-=getTableCellOffset(cell)}width=width<0?0:width;try{cell.width=width}catch(e){}return width}function getTableCellOffset(cell){tab=domUtils.findParentByTagName(cell,"table",false);if(tab.offsetVal===undefined){var prev=cell.previousSibling;if(prev){tab.offsetVal=cell.offsetWidth-prev.offsetWidth===UT.borderWidth?UT.borderWidth:0}else{tab.offsetVal=0}}return tab.offsetVal}function getTabcellSpace(){if(UT.tabcellSpace===undefined){var cell=null,tab=me.document.createElement("table"),tbody=me.document.createElement("tbody"),trow=me.document.createElement("tr"),tabcell=me.document.createElement("td"),mirror=null;tabcell.style.cssText="border: 0;";tabcell.width=1;trow.appendChild(tabcell);trow.appendChild(mirror=tabcell.cloneNode(false));tbody.appendChild(trow);tab.appendChild(tbody);tab.style.cssText="visibility: hidden;";me.body.appendChild(tab);UT.paddingSpace=tabcell.offsetWidth-1;var tmpTabWidth=tab.offsetWidth;tabcell.style.cssText="";mirror.style.cssText="";UT.borderWidth=(tab.offsetWidth-tmpTabWidth)/3;UT.tabcellSpace=UT.paddingSpace+UT.borderWidth;me.body.removeChild(tab)}getTabcellSpace=function(){return UT.tabcellSpace};return UT.tabcellSpace}function getDragLine(editor,doc){if(mousedown){return}dragLine=editor.document.createElement("div");domUtils.setAttributes(dragLine,{id:"ue_tableDragLine",unselectable:"on",contenteditable:false,onresizestart:"return false",ondragstart:"return false",onselectstart:"return false",style:"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)"});editor.body.appendChild(dragLine)}function hideDragLine(editor){if(mousedown){return}var line;while(line=editor.document.getElementById("ue_tableDragLine")){domUtils.remove(line)}}function showDragLineAt(state,cell){if(!cell){return}var table=domUtils.findParentByTagName(cell,"table"),caption=table.getElementsByTagName("caption"),width=table.offsetWidth,height=table.offsetHeight-(caption.length>0?caption[0].offsetHeight:0),tablePos=domUtils.getXY(table),cellPos=domUtils.getXY(cell),css;switch(state){case"h":css="height:"+height+"px;top:"+(tablePos.y+(caption.length>0?caption[0].offsetHeight:0))+"px;left:"+(cellPos.x+cell.offsetWidth);dragLine.style.cssText=css+"px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)";break;case"v":css="width:"+width+"px;left:"+tablePos.x+"px;top:"+(cellPos.y+cell.offsetHeight);dragLine.style.cssText=css+"px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)";break;default:}}function switchBorderColor(editor,flag){var tableArr=domUtils.getElementsByTagName(editor.body,"table"),color;for(var i=0,node;node=tableArr[i++];){var td=domUtils.getElementsByTagName(node,"td");if(td[0]){if(flag){color=(td[0].style.borderColor).replace(/\s/g,"");if(/(#ffffff)|(rgb\(255,255,255\))/ig.test(color)){domUtils.addClass(node,"noBorderTable")}}else{domUtils.removeClasses(node,"noBorderTable")}}}}function getTableWidth(editor,needIEHack,defaultValue){var body=editor.body;return body.offsetWidth-(needIEHack?parseInt(domUtils.getComputedStyle(body,"margin-left"),10)*2:0)-defaultValue.tableBorder*2-(editor.options.offsetWidth||0)}function getTargetTd(editor,evt){var target=domUtils.findParentByTagName(evt.target||evt.srcElement,["td","th"],true),dir=null;if(!target){return null}dir=getRelation(target,mouseCoords(evt));if(!target){return null}if(dir==="h1"&&target.previousSibling){var position=domUtils.getXY(target),cellWidth=target.offsetWidth;if(Math.abs(position.x+cellWidth-evt.clientX)>cellWidth/3){target=target.previousSibling}}else{if(dir==="v1"&&target.parentNode.previousSibling){var position=domUtils.getXY(target),cellHeight=target.offsetHeight;if(Math.abs(position.y+cellHeight-evt.clientY)>cellHeight/3){target=target.parentNode.previousSibling.firstChild}}}return target&&!(editor.fireEvent("excludetable",target)===true)?target:null}};UE.UETable.prototype.sortTable=function(sortByCellIndex,compareFn){var table=this.table,rows=table.rows,trArray=[],flag=rows[0].cells[0].tagName==="TH",lastRowIndex=0;if(this.selectedTds.length){var range=this.cellsRange,len=range.endRowIndex+1;for(var i=range.beginRowIndex;i<len;i++){trArray[i]=rows[i]}trArray.splice(0,range.beginRowIndex);lastRowIndex=(range.endRowIndex+1)===this.rowsNum?0:range.endRowIndex+1}else{for(var i=0,len=rows.length;i<len;i++){trArray[i]=rows[i]}}var Fn={reversecurrent:function(td1,td2){return 1},orderbyasc:function(td1,td2){var value1=td1.innerText||td1.textContent,value2=td2.innerText||td2.textContent;return value1.localeCompare(value2)},reversebyasc:function(td1,td2){var value1=td1.innerHTML,value2=td2.innerHTML;return value2.localeCompare(value1)},orderbynum:function(td1,td2){var value1=td1[browser.ie?"innerText":"textContent"].match(/\d+/),value2=td2[browser.ie?"innerText":"textContent"].match(/\d+/);if(value1){value1=+value1[0]}if(value2){value2=+value2[0]}return(value1||0)-(value2||0)},reversebynum:function(td1,td2){var value1=td1[browser.ie?"innerText":"textContent"].match(/\d+/),value2=td2[browser.ie?"innerText":"textContent"].match(/\d+/);if(value1){value1=+value1[0]}if(value2){value2=+value2[0]}return(value2||0)-(value1||0)}};table.setAttribute("data-sort-type",compareFn&&typeof compareFn==="string"&&Fn[compareFn]?compareFn:"");flag&&trArray.splice(0,1);trArray=utils.sort(trArray,function(tr1,tr2){var result;if(compareFn&&typeof compareFn==="function"){result=compareFn.call(this,tr1.cells[sortByCellIndex],tr2.cells[sortByCellIndex])}else{if(compareFn&&typeof compareFn==="number"){result=1}else{if(compareFn&&typeof compareFn==="string"&&Fn[compareFn]){result=Fn[compareFn].call(this,tr1.cells[sortByCellIndex],tr2.cells[sortByCellIndex])}else{result=Fn.orderbyasc.call(this,tr1.cells[sortByCellIndex],tr2.cells[sortByCellIndex])}}}return result});var fragment=table.ownerDocument.createDocumentFragment();for(var j=0,len=trArray.length;j<len;j++){fragment.appendChild(trArray[j])}var tbody=table.getElementsByTagName("tbody")[0];if(!lastRowIndex){tbody.appendChild(fragment)}else{tbody.insertBefore(fragment,rows[lastRowIndex-range.endRowIndex+range.beginRowIndex-1])}};UE.plugins.tablesort=function(){var me=this,UT=UE.UETable,getUETable=function(tdOrTable){return UT.getUETable(tdOrTable)},getTableItemsByRange=function(editor){return UT.getTableItemsByRange(editor)};me.ready(function(){utils.cssRule("tablesort","table.sortEnabled tr.firstRow th,table.sortEnabled tr.firstRow td{padding-right:20px;background-repeat: no-repeat;background-position: center right;   background-image:url("+me.options.themePath+me.options.theme+"/images/sortable.png);}",me.document);me.addListener("afterexeccommand",function(type,cmd){if(cmd=="mergeright"||cmd=="mergedown"||cmd=="mergecells"){this.execCommand("disablesort")}})});UE.commands.sorttable={queryCommandState:function(){var me=this,tableItems=getTableItemsByRange(me);if(!tableItems.cell){return -1}var table=tableItems.table,cells=table.getElementsByTagName("td");for(var i=0,cell;cell=cells[i++];){if(cell.rowSpan!=1||cell.colSpan!=1){return -1}}return 0},execCommand:function(cmd,fn){var me=this,range=me.selection.getRange(),bk=range.createBookmark(true),tableItems=getTableItemsByRange(me),cell=tableItems.cell,ut=getUETable(tableItems.table),cellInfo=ut.getCellInfo(cell);ut.sortTable(cellInfo.cellIndex,fn);range.moveToBookmark(bk);try{range.select()}catch(e){}}};UE.commands.enablesort=UE.commands.disablesort={queryCommandState:function(cmd){var table=getTableItemsByRange(this).table;if(table&&cmd=="enablesort"){var cells=domUtils.getElementsByTagName(table,"th td");for(var i=0;i<cells.length;i++){if(cells[i].getAttribute("colspan")>1||cells[i].getAttribute("rowspan")>1){return -1}}}return !table?-1:cmd=="enablesort"^table.getAttribute("data-sort")!="sortEnabled"?-1:0},execCommand:function(cmd){var table=getTableItemsByRange(this).table;table.setAttribute("data-sort",cmd=="enablesort"?"sortEnabled":"sortDisabled");cmd=="enablesort"?domUtils.addClass(table,"sortEnabled"):domUtils.removeClasses(table,"sortEnabled")}}};UE.plugins.contextmenu=function(){var me=this;me.setOpt("enableContextMenu",true);if(me.getOpt("enableContextMenu")===false){return}var lang=me.getLang("contextMenu"),menu,items=me.options.contextMenu||[{label:lang.selectall,cmdName:"selectall"},{label:lang.cleardoc,cmdName:"cleardoc",exec:function(){if(confirm(lang.confirmclear)){this.execCommand("cleardoc")}}},"-",{label:lang.unlink,cmdName:"unlink"},"-",{group:lang.paragraph,icon:"justifyjustify",subMenu:[{label:lang.justifyleft,cmdName:"justify",value:"left"},{label:lang.justifyright,cmdName:"justify",value:"right"},{label:lang.justifycenter,cmdName:"justify",value:"center"},{label:lang.justifyjustify,cmdName:"justify",value:"justify"}]},"-",{group:lang.table,icon:"table",subMenu:[{label:lang.inserttable,cmdName:"inserttable"},{label:lang.deletetable,cmdName:"deletetable"},"-",{label:lang.deleterow,cmdName:"deleterow"},{label:lang.deletecol,cmdName:"deletecol"},{label:lang.insertcol,cmdName:"insertcol"},{label:lang.insertcolnext,cmdName:"insertcolnext"},{label:lang.insertrow,cmdName:"insertrow"},{label:lang.insertrownext,cmdName:"insertrownext"},"-",{label:lang.insertcaption,cmdName:"insertcaption"},{label:lang.deletecaption,cmdName:"deletecaption"},{label:lang.inserttitle,cmdName:"inserttitle"},{label:lang.deletetitle,cmdName:"deletetitle"},{label:lang.inserttitlecol,cmdName:"inserttitlecol"},{label:lang.deletetitlecol,cmdName:"deletetitlecol"},"-",{label:lang.mergecells,cmdName:"mergecells"},{label:lang.mergeright,cmdName:"mergeright"},{label:lang.mergedown,cmdName:"mergedown"},"-",{label:lang.splittorows,cmdName:"splittorows"},{label:lang.splittocols,cmdName:"splittocols"},{label:lang.splittocells,cmdName:"splittocells"},"-",{label:lang.averageDiseRow,cmdName:"averagedistributerow"},{label:lang.averageDisCol,cmdName:"averagedistributecol"},"-",{label:lang.edittd,cmdName:"edittd",exec:function(){if(UE.ui.edittd){new UE.ui.edittd(this)}this.getDialog("edittd").open()}},{label:lang.edittable,cmdName:"edittable",exec:function(){if(UE.ui.edittable){new UE.ui.edittable(this)}this.getDialog("edittable").open()}},{label:lang.setbordervisible,cmdName:"setbordervisible"}]},{group:lang.tablesort,icon:"tablesort",subMenu:[{label:lang.enablesort,cmdName:"enablesort"},{label:lang.disablesort,cmdName:"disablesort"},"-",{label:lang.reversecurrent,cmdName:"sorttable",value:"reversecurrent"},{label:lang.orderbyasc,cmdName:"sorttable",value:"orderbyasc"},{label:lang.reversebyasc,cmdName:"sorttable",value:"reversebyasc"},{label:lang.orderbynum,cmdName:"sorttable",value:"orderbynum"},{label:lang.reversebynum,cmdName:"sorttable",value:"reversebynum"}]},{group:lang.borderbk,icon:"borderBack",subMenu:[{label:lang.setcolor,cmdName:"interlacetable",exec:function(){this.execCommand("interlacetable")}},{label:lang.unsetcolor,cmdName:"uninterlacetable",exec:function(){this.execCommand("uninterlacetable")}},{label:lang.setbackground,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:true,colorList:["#bbb","#ccc"]})}},{label:lang.unsetbackground,cmdName:"cleartablebackground",exec:function(){this.execCommand("cleartablebackground")}},{label:lang.redandblue,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:true,colorList:["red","blue"]})}},{label:lang.threecolorgradient,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:true,colorList:["#aaa","#bbb","#ccc"]})}}]},{group:lang.aligntd,icon:"aligntd",subMenu:[{cmdName:"cellalignment",value:{align:"left",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"bottom"}}]},{group:lang.aligntable,icon:"aligntable",subMenu:[{cmdName:"tablealignment",className:"left",label:lang.tableleft,value:"left"},{cmdName:"tablealignment",className:"center",label:lang.tablecenter,value:"center"},{cmdName:"tablealignment",className:"right",label:lang.tableright,value:"right"}]},"-",{label:lang.insertparagraphbefore,cmdName:"insertparagraph",value:true},{label:lang.insertparagraphafter,cmdName:"insertparagraph"},{label:lang.copy,cmdName:"copy"},{label:lang.paste,cmdName:"paste"}];if(!items.length){return}var uiUtils=UE.ui.uiUtils;me.addListener("contextmenu",function(type,evt){var offset=uiUtils.getViewportOffsetByEvent(evt);me.fireEvent("beforeselectionchange");if(menu){menu.destroy()}for(var i=0,ti,contextItems=[];ti=items[i];i++){var last;(function(item){if(item=="-"){if((last=contextItems[contextItems.length-1])&&last!=="-"){contextItems.push("-")}}else{if(item.hasOwnProperty("group")){for(var j=0,cj,subMenu=[];cj=item.subMenu[j];j++){(function(subItem){if(subItem=="-"){if((last=subMenu[subMenu.length-1])&&last!=="-"){subMenu.push("-")}else{subMenu.splice(subMenu.length-1)}}else{if((me.commands[subItem.cmdName]||UE.commands[subItem.cmdName]||subItem.query)&&(subItem.query?subItem.query():me.queryCommandState(subItem.cmdName))>-1){subMenu.push({label:subItem.label||me.getLang("contextMenu."+subItem.cmdName+(subItem.value||""))||"",className:"edui-for-"+subItem.cmdName+(subItem.className?(" edui-for-"+subItem.cmdName+"-"+subItem.className):""),onclick:subItem.exec?function(){subItem.exec.call(me)}:function(){me.execCommand(subItem.cmdName,subItem.value)}})}}})(cj)}if(subMenu.length){function getLabel(){switch(item.icon){case"table":return me.getLang("contextMenu.table");case"justifyjustify":return me.getLang("contextMenu.paragraph");case"aligntd":return me.getLang("contextMenu.aligntd");case"aligntable":return me.getLang("contextMenu.aligntable");case"tablesort":return lang.tablesort;case"borderBack":return lang.borderbk;default:return""}}contextItems.push({label:getLabel(),className:"edui-for-"+item.icon,subMenu:{items:subMenu,editor:me}})}}else{if((me.commands[item.cmdName]||UE.commands[item.cmdName]||item.query)&&(item.query?item.query.call(me):me.queryCommandState(item.cmdName))>-1){contextItems.push({label:item.label||me.getLang("contextMenu."+item.cmdName),className:"edui-for-"+(item.icon?item.icon:item.cmdName+(item.value||"")),onclick:item.exec?function(){item.exec.call(me)}:function(){me.execCommand(item.cmdName,item.value)}})}}}})(ti)}if(contextItems[contextItems.length-1]=="-"){contextItems.pop()}menu=new UE.ui.Menu({items:contextItems,className:"edui-contextmenu",editor:me});menu.render();menu.showAt(offset);me.fireEvent("aftershowcontextmenu",menu);domUtils.preventDefault(evt);if(browser.ie){var ieRange;try{ieRange=me.selection.getNative().createRange()}catch(e){return}if(ieRange.item){var range=new dom.Range(me.document);range.selectNode(ieRange.item(0)).select(true,true)}}});me.addListener("aftershowcontextmenu",function(type,menu){if(me.zeroclipboard){var items=menu.items;for(var key in items){if(items[key].className=="edui-for-copy"){me.zeroclipboard.clip(items[key].getDom())}}}})};UE.plugins.shortcutmenu=function(){var me=this,menu,items=me.options.shortcutMenu||[];if(!items.length){return}me.addListener("contextmenu mouseup",function(type,e){var me=this,customEvt={type:type,target:e.target||e.srcElement,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY};setTimeout(function(){var rng=me.selection.getRange();if(rng.collapsed===false||type=="contextmenu"){if(!menu){menu=new baidu.editor.ui.ShortCutMenu({editor:me,items:items,theme:me.options.theme,className:"edui-shortcutmenu"});menu.render();me.fireEvent("afterrendershortcutmenu",menu)}menu.show(customEvt,!!UE.plugins.contextmenu)}});if(type=="contextmenu"){domUtils.preventDefault(e);if(browser.ie9below){var ieRange;try{ieRange=me.selection.getNative().createRange()}catch(e){return}if(ieRange.item){var range=new dom.Range(me.document);range.selectNode(ieRange.item(0)).select(true,true)}}}});me.addListener("keydown",function(type){if(type=="keydown"){menu&&!menu.isHidden&&menu.hide()}})};UE.plugins.basestyle=function(){var basestyles={bold:["strong","b"],italic:["em","i"],subscript:["sub"],superscript:["sup"]},getObj=function(editor,tagNames){return domUtils.filterNodeList(editor.selection.getStartElementPath(),tagNames)},me=this;me.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+85"});me.addInputRule(function(root){utils.each(root.getNodesByTagName("b i"),function(node){switch(node.tagName){case"b":node.tagName="strong";break;case"i":node.tagName="em"}})});for(var style in basestyles){(function(cmd,tagNames){me.commands[cmd]={execCommand:function(cmdName){var range=me.selection.getRange(),obj=getObj(this,tagNames);if(range.collapsed){if(obj){var tmpText=me.document.createTextNode("");range.insertNode(tmpText).removeInlineStyle(tagNames);range.setStartBefore(tmpText);domUtils.remove(tmpText)}else{var tmpNode=range.document.createElement(tagNames[0]);if(cmdName=="superscript"||cmdName=="subscript"){tmpText=me.document.createTextNode("");range.insertNode(tmpText).removeInlineStyle(["sub","sup"]).setStartBefore(tmpText).collapse(true)}range.insertNode(tmpNode).setStart(tmpNode,0)}range.collapse(true)}else{if(cmdName=="superscript"||cmdName=="subscript"){if(!obj||obj.tagName.toLowerCase()!=cmdName){range.removeInlineStyle(["sub","sup"])}}obj?range.removeInlineStyle(tagNames):range.applyInlineStyle(tagNames[0])}range.select()},queryCommandState:function(){return getObj(this,tagNames)?1:0}}})(style,basestyles[style])}};UE.plugins.elementpath=function(){var currentLevel,tagNames,me=this;me.setOpt("elementPathEnabled",true);if(!me.options.elementPathEnabled){return}me.commands.elementpath={execCommand:function(cmdName,level){var start=tagNames[level],range=me.selection.getRange();currentLevel=level*1;range.selectNode(start).select()},queryCommandValue:function(){var parents=[].concat(this.selection.getStartElementPath()).reverse(),names=[];tagNames=parents;for(var i=0,ci;ci=parents[i];i++){if(ci.nodeType==3){continue}var name=ci.tagName.toLowerCase();if(name=="img"&&ci.getAttribute("anchorname")){name="anchor"}names[i]=name;if(currentLevel==i){currentLevel=-1;break}}return names}}};UE.plugins.formatmatch=function(){var me=this,list=[],img,flag=0;me.addListener("reset",function(){list=[];flag=0});function addList(type,evt){if(browser.webkit){var target=evt.target.tagName=="IMG"?evt.target:null}function addFormat(range){if(text){range.selectNode(text)}return range.applyInlineStyle(list[list.length-1].tagName,null,list)}me.undoManger&&me.undoManger.save();var range=me.selection.getRange(),imgT=target||range.getClosedNode();if(img&&imgT&&imgT.tagName=="IMG"){imgT.style.cssText+=";float:"+(img.style.cssFloat||img.style.styleFloat||"none")+";display:"+(img.style.display||"inline");img=null}else{if(!img){var collapsed=range.collapsed;if(collapsed){var text=me.document.createTextNode("match");range.insertNode(text).select()}me.__hasEnterExecCommand=true;var removeFormatAttributes=me.options.removeFormatAttributes;me.options.removeFormatAttributes="";me.execCommand("removeformat");me.options.removeFormatAttributes=removeFormatAttributes;me.__hasEnterExecCommand=false;range=me.selection.getRange();if(list.length){addFormat(range)}if(text){range.setStartBefore(text).collapse(true)}range.select();text&&domUtils.remove(text)}}me.undoManger&&me.undoManger.save();me.removeListener("mouseup",addList);flag=0}me.commands.formatmatch={execCommand:function(cmdName){if(flag){flag=0;list=[];me.removeListener("mouseup",addList);return}var range=me.selection.getRange();img=range.getClosedNode();if(!img||img.tagName!="IMG"){range.collapse(true).shrinkBoundary();var start=range.startContainer;list=domUtils.findParents(start,true,function(node){return !domUtils.isBlockElm(node)&&node.nodeType==1});for(var i=0,ci;ci=list[i];i++){if(ci.tagName=="A"){list.splice(i,1);break}}}me.addListener("mouseup",addList);flag=1},queryCommandState:function(){return flag},notNeedUndo:1}};UE.plugin.register("searchreplace",function(){var me=this;var _blockElm={table:1,tbody:1,tr:1,ol:1,ul:1};function findTextInString(textContent,opt,currentIndex){var str=opt.searchStr;if(opt.dir==-1){textContent=textContent.split("").reverse().join("");str=str.split("").reverse().join("");currentIndex=textContent.length-currentIndex}var reg=new RegExp(str,"g"+(opt.casesensitive?"":"i")),match;while(match=reg.exec(textContent)){if(match.index>=currentIndex){return opt.dir==-1?textContent.length-match.index-opt.searchStr.length:match.index}}return -1}function findTextBlockElm(node,currentIndex,opt){var textContent,index,methodName=opt.all||opt.dir==1?"getNextDomNode":"getPreDomNode";if(domUtils.isBody(node)){node=node.firstChild}var first=1;while(node){textContent=node.nodeType==3?node.nodeValue:node[browser.ie?"innerText":"textContent"];index=findTextInString(textContent,opt,currentIndex);first=0;if(index!=-1){return{node:node,index:index}}node=domUtils[methodName](node);while(node&&_blockElm[node.nodeName.toLowerCase()]){node=domUtils[methodName](node,true)}if(node){currentIndex=opt.dir==-1?(node.nodeType==3?node.nodeValue:node[browser.ie?"innerText":"textContent"]).length:0}}}function findNTextInBlockElm(node,index,str){var currentIndex=0,currentNode=node.firstChild,currentNodeLength=0,result;while(currentNode){if(currentNode.nodeType==3){currentNodeLength=currentNode.nodeValue.replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length;currentIndex+=currentNodeLength;if(currentIndex>=index){return{node:currentNode,index:currentNodeLength-(currentIndex-index)}}}else{if(!dtd.$empty[currentNode.tagName]){currentNodeLength=currentNode[browser.ie?"innerText":"textContent"].replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length;currentIndex+=currentNodeLength;if(currentIndex>=index){result=findNTextInBlockElm(currentNode,currentNodeLength-(currentIndex-index),str);if(result){return result}}}}currentNode=domUtils.getNextDomNode(currentNode)}}function searchReplace(me,opt){var rng=me.selection.getRange(),startBlockNode,searchStr=opt.searchStr,span=me.document.createElement("span");span.innerHTML="$$ueditor_searchreplace_key$$";rng.shrinkBoundary(true);if(!rng.collapsed){rng.select();var rngText=me.selection.getText();if(new RegExp("^"+opt.searchStr+"$",(opt.casesensitive?"":"i")).test(rngText)){if(opt.replaceStr!=undefined){replaceText(rng,opt.replaceStr);rng.select();return true}else{rng.collapse(opt.dir==-1)}}}rng.insertNode(span);rng.enlargeToBlockElm(true);startBlockNode=rng.startContainer;var currentIndex=startBlockNode[browser.ie?"innerText":"textContent"].indexOf("$$ueditor_searchreplace_key$$");rng.setStartBefore(span);domUtils.remove(span);var result=findTextBlockElm(startBlockNode,currentIndex,opt);if(result){var rngStart=findNTextInBlockElm(result.node,result.index,searchStr);var rngEnd=findNTextInBlockElm(result.node,result.index+searchStr.length,searchStr);rng.setStart(rngStart.node,rngStart.index).setEnd(rngEnd.node,rngEnd.index);if(opt.replaceStr!==undefined){replaceText(rng,opt.replaceStr)}rng.select();return true}else{rng.setCursor()}}function replaceText(rng,str){str=me.document.createTextNode(str);rng.deleteContents().insertNode(str)}return{commands:{searchreplace:{execCommand:function(cmdName,opt){utils.extend(opt,{all:false,casesensitive:false,dir:1},true);var num=0;if(opt.all){var rng=me.selection.getRange(),first=me.body.firstChild;if(first&&first.nodeType==1){rng.setStart(first,0);rng.shrinkBoundary(true)}else{if(first.nodeType==3){rng.setStartBefore(first)}}rng.collapse(true).select(true);if(opt.replaceStr!==undefined){me.fireEvent("saveScene")}while(searchReplace(this,opt)){num++}if(num){me.fireEvent("saveScene")}}else{if(opt.replaceStr!==undefined){me.fireEvent("saveScene")}if(searchReplace(this,opt)){num++}if(num){me.fireEvent("saveScene")}}return num},notNeedUndo:1}}}});UE.plugins.customstyle=function(){var me=this;me.setOpt({customstyle:[{tag:"h1",name:"tc",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"},{tag:"h1",name:"tl",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;"},{tag:"span",name:"im",style:"font-size:16px;font-style:italic;font-weight:bold;line-height:18px;"},{tag:"span",name:"hi",style:"font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;"}]});me.commands.customstyle={execCommand:function(cmdName,obj){var me=this,tagName=obj.tag,node=domUtils.findParent(me.selection.getStart(),function(node){return node.getAttribute("label")},true),range,bk,tmpObj={};for(var p in obj){if(obj[p]!==undefined){tmpObj[p]=obj[p]}}delete tmpObj.tag;if(node&&node.getAttribute("label")==obj.label){range=this.selection.getRange();bk=range.createBookmark();if(range.collapsed){if(dtd.$block[node.tagName]){var fillNode=me.document.createElement("p");domUtils.moveChild(node,fillNode);node.parentNode.insertBefore(fillNode,node);domUtils.remove(node)}else{domUtils.remove(node,true)}}else{var common=domUtils.getCommonAncestor(bk.start,bk.end),nodes=domUtils.getElementsByTagName(common,tagName);if(new RegExp(tagName,"i").test(common.tagName)){nodes.push(common)}for(var i=0,ni;ni=nodes[i++];){if(ni.getAttribute("label")==obj.label){var ps=domUtils.getPosition(ni,bk.start),pe=domUtils.getPosition(ni,bk.end);if((ps&domUtils.POSITION_FOLLOWING||ps&domUtils.POSITION_CONTAINS)&&(pe&domUtils.POSITION_PRECEDING||pe&domUtils.POSITION_CONTAINS)){if(dtd.$block[tagName]){var fillNode=me.document.createElement("p");domUtils.moveChild(ni,fillNode);ni.parentNode.insertBefore(fillNode,ni)}}domUtils.remove(ni,true)}}node=domUtils.findParent(common,function(node){return node.getAttribute("label")==obj.label},true);if(node){domUtils.remove(node,true)}}range.moveToBookmark(bk).select()}else{if(dtd.$block[tagName]){this.execCommand("paragraph",tagName,tmpObj,"customstyle");range=me.selection.getRange();if(!range.collapsed){range.collapse();node=domUtils.findParent(me.selection.getStart(),function(node){return node.getAttribute("label")==obj.label},true);var pNode=me.document.createElement("p");domUtils.insertAfter(node,pNode);domUtils.fillNode(me.document,pNode);range.setStart(pNode,0).setCursor()}}else{range=me.selection.getRange();if(range.collapsed){node=me.document.createElement(tagName);domUtils.setAttributes(node,tmpObj);range.insertNode(node).setStart(node,0).setCursor();return}bk=range.createBookmark();range.applyInlineStyle(tagName,tmpObj).moveToBookmark(bk).select()}}},queryCommandValue:function(){var parent=domUtils.filterNodeList(this.selection.getStartElementPath(),function(node){return node.getAttribute("label")});return parent?parent.getAttribute("label"):""}};me.addListener("keyup",function(type,evt){var keyCode=evt.keyCode||evt.which;if(keyCode==32||keyCode==13){var range=me.selection.getRange();if(range.collapsed){var node=domUtils.findParent(me.selection.getStart(),function(node){return node.getAttribute("label")},true);if(node&&dtd.$block[node.tagName]&&domUtils.isEmptyNode(node)){var p=me.document.createElement("p");domUtils.insertAfter(node,p);domUtils.fillNode(me.document,p);domUtils.remove(node);range.setStart(p,0).setCursor()}}}})};UE.plugins.catchremoteimage=function(){var me=this,ajax=UE.ajax;if(me.options.catchRemoteImageEnable===false){return}me.setOpt({catchRemoteImageEnable:false});me.addListener("afterpaste",function(){me.fireEvent("catchRemoteImage")});me.addListener("catchRemoteImage",function(){var catcherLocalDomain=me.getOpt("catcherLocalDomain"),catcherActionUrl=me.getActionUrl(me.getOpt("catcherActionName")),catcherUrlPrefix=me.getOpt("catcherUrlPrefix"),catcherFieldName=me.getOpt("catcherFieldName");var remoteImages=[],imgs=domUtils.getElementsByTagName(me.document,"img"),test=function(src,urls){if(src.indexOf(location.host)!=-1||/(^\.)|(^\/)/.test(src)){return true}if(urls){for(var j=0,url;url=urls[j++];){if(src.indexOf(url)!==-1){return true}}}return false};for(var i=0,ci;ci=imgs[i++];){if(ci.getAttribute("word_img")){continue}var src=ci.getAttribute("_src")||ci.src||"";if(/^(https?|ftp):/i.test(src)&&!test(src,catcherLocalDomain)){remoteImages.push(src)}}if(remoteImages.length){catchremoteimage(remoteImages,{success:function(r){try{var info=r.state!==undefined?r:eval("("+r.responseText+")")}catch(e){return}var i,j,ci,cj,oldSrc,newSrc,list=info.list;for(i=0;ci=imgs[i++];){oldSrc=ci.getAttribute("_src")||ci.src||"";for(j=0;cj=list[j++];){if(oldSrc==cj.source&&cj.state=="SUCCESS"){newSrc=catcherUrlPrefix+cj.url;domUtils.setAttributes(ci,{src:newSrc,_src:newSrc});break}}}me.fireEvent("catchremotesuccess")},error:function(){me.fireEvent("catchremoteerror")}})}function catchremoteimage(imgs,callbacks){var params=utils.serializeParam(me.queryCommandValue("serverparam"))||"",url=utils.formatUrl(catcherActionUrl+(catcherActionUrl.indexOf("?")==-1?"?":"&")+params),isJsonp=utils.isCrossDomainUrl(url),opt={method:"POST",dataType:isJsonp?"jsonp":"",timeout:60000,onsuccess:callbacks.success,onerror:callbacks.error};opt[catcherFieldName]=imgs;ajax.request(url,opt)}})};UE.plugin.register("snapscreen",function(){var me=this;var snapplugin;function getLocation(url){var search,a=document.createElement("a"),params=utils.serializeParam(me.queryCommandValue("serverparam"))||"";a.href=url;if(browser.ie){a.href=a.href}search=a.search;if(params){search=search+(search.indexOf("?")==-1?"?":"&")+params;search=search.replace(/[&]+/ig,"&")}return{port:a.port,hostname:a.hostname,path:a.pathname+search||+a.hash}}return{commands:{snapscreen:{execCommand:function(cmd){var url,local,res;var lang=me.getLang("snapScreen_plugin");if(!snapplugin){var container=me.container;var doc=me.container.ownerDocument||me.container.document;snapplugin=doc.createElement("object");try{snapplugin.type="application/x-pluginbaidusnap"}catch(e){return}snapplugin.style.cssText="position:absolute;left:-9999px;width:0;height:0;";snapplugin.setAttribute("width","0");snapplugin.setAttribute("height","0");container.appendChild(snapplugin)}function onSuccess(rs){try{rs=eval("("+rs+")");if(rs.state=="SUCCESS"){var opt=me.options;me.execCommand("insertimage",{src:opt.snapscreenUrlPrefix+rs.url,_src:opt.snapscreenUrlPrefix+rs.url,alt:rs.title||"",floatStyle:opt.snapscreenImgAlign})}else{alert(rs.state)}}catch(e){alert(lang.callBackErrorMsg)}}url=me.getActionUrl(me.getOpt("snapscreenActionName"));local=getLocation(url);setTimeout(function(){try{res=snapplugin.saveSnapshot(local.hostname,local.path,local.port)}catch(e){me.ui._dialogs.snapscreenDialog.open();return}onSuccess(res)},50)},queryCommandState:function(){return(navigator.userAgent.indexOf("Windows",0)!=-1)?0:-1}}}}});UE.commands.insertparagraph={execCommand:function(cmdName,front){var me=this,range=me.selection.getRange(),start=range.startContainer,tmpNode;while(start){if(domUtils.isBody(start)){break}tmpNode=start;start=start.parentNode}if(tmpNode){var p=me.document.createElement("p");if(front){tmpNode.parentNode.insertBefore(p,tmpNode)}else{tmpNode.parentNode.insertBefore(p,tmpNode.nextSibling)}domUtils.fillNode(me.document,p);range.setStart(p,0).setCursor(false,true)}}};UE.plugin.register("webapp",function(){var me=this;function createInsertStr(obj,toEmbed){return !toEmbed?'<img title="'+obj.title+'" width="'+obj.width+'" height="'+obj.height+'" src="'+me.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" _logo_url="'+obj.logo+'" style="background:url('+obj.logo+') no-repeat center center; border:1px solid gray;" class="edui-faked-webapp" _url="'+obj.url+'" '+(obj.align&&!obj.cssfloat?'align="'+obj.align+'"':"")+(obj.cssfloat?'style="float:'+obj.cssfloat+'"':"")+"/>":'<iframe class="edui-faked-webapp" title="'+obj.title+'" '+(obj.align&&!obj.cssfloat?'align="'+obj.align+'"':"")+(obj.cssfloat?'style="float:'+obj.cssfloat+'"':"")+'width="'+obj.width+'" height="'+obj.height+'"  scrolling="no" frameborder="0" src="'+obj.url+'" logo_url = "'+obj.logo+'"></iframe>'}return{outputRule:function(root){utils.each(root.getNodesByTagName("img"),function(node){var html;if(node.getAttr("class")=="edui-faked-webapp"){html=createInsertStr({title:node.getAttr("title"),width:node.getAttr("width"),height:node.getAttr("height"),align:node.getAttr("align"),cssfloat:node.getStyle("float"),url:node.getAttr("_url"),logo:node.getAttr("_logo_url")},true);var embed=UE.uNode.createElement(html);node.parentNode.replaceChild(embed,node)}})},inputRule:function(root){utils.each(root.getNodesByTagName("iframe"),function(node){if(node.getAttr("class")=="edui-faked-webapp"){var img=UE.uNode.createElement(createInsertStr({title:node.getAttr("title"),width:node.getAttr("width"),height:node.getAttr("height"),align:node.getAttr("align"),cssfloat:node.getStyle("float"),url:node.getAttr("src"),logo:node.getAttr("logo_url")}));node.parentNode.replaceChild(img,node)}})},commands:{webapp:{execCommand:function(cmd,obj){var me=this,str=createInsertStr(utils.extend(obj,{align:"none"}),false);me.execCommand("inserthtml",str)},queryCommandState:function(){var me=this,img=me.selection.getRange().getClosedNode(),flag=img&&(img.className=="edui-faked-webapp");return flag?1:0}}}}});UE.plugins.template=function(){UE.commands.template={execCommand:function(cmd,obj){obj.html&&this.execCommand("inserthtml",obj.html)}};this.addListener("click",function(type,evt){var el=evt.target||evt.srcElement,range=this.selection.getRange();var tnode=domUtils.findParent(el,function(node){if(node.className&&domUtils.hasClass(node,"ue_t")){return node}},true);tnode&&range.selectNode(tnode).shrinkBoundary().select()});this.addListener("keydown",function(type,evt){var range=this.selection.getRange();if(!range.collapsed){if(!evt.ctrlKey&&!evt.metaKey&&!evt.shiftKey&&!evt.altKey){var tnode=domUtils.findParent(range.startContainer,function(node){if(node.className&&domUtils.hasClass(node,"ue_t")){return node}},true);if(tnode){domUtils.removeClasses(tnode,["ue_t"])}}}})};UE.plugin.register("music",function(){var me=this;function creatInsertStr(url,width,height,align,cssfloat,toEmbed){return !toEmbed?"<img "+(align&&!cssfloat?'align="'+align+'"':"")+(cssfloat?'style="float:'+cssfloat+'"':"")+' width="'+width+'" height="'+height+'" _url="'+url+'" class="edui-faked-music" src="'+me.options.langPath+me.options.lang+'/images/music.png" />':'<embed type="application/x-shockwave-flash" class="edui-faked-music" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+url+'" width="'+width+'" height="'+height+'" '+(align&&!cssfloat?'align="'+align+'"':"")+(cssfloat?'style="float:'+cssfloat+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >'}return{outputRule:function(root){utils.each(root.getNodesByTagName("img"),function(node){var html;if(node.getAttr("class")=="edui-faked-music"){var cssfloat=node.getStyle("float");var align=node.getAttr("align");html=creatInsertStr(node.getAttr("_url"),node.getAttr("width"),node.getAttr("height"),align,cssfloat,true);var embed=UE.uNode.createElement(html);node.parentNode.replaceChild(embed,node)}})},inputRule:function(root){utils.each(root.getNodesByTagName("embed"),function(node){if(node.getAttr("class")=="edui-faked-music"){var cssfloat=node.getStyle("float");var align=node.getAttr("align");html=creatInsertStr(node.getAttr("src"),node.getAttr("width"),node.getAttr("height"),align,cssfloat,false);var img=UE.uNode.createElement(html);node.parentNode.replaceChild(img,node)}})},commands:{music:{execCommand:function(cmd,musicObj){var me=this,str=creatInsertStr(musicObj.url,musicObj.width||400,musicObj.height||95,"none",false);me.execCommand("inserthtml",str)},queryCommandState:function(){var me=this,img=me.selection.getRange().getClosedNode(),flag=img&&(img.className=="edui-faked-music");return flag?1:0}}}}});UE.plugin.register("autoupload",function(){function sendAndInsertFile(file,editor){var me=editor;var fieldName,urlPrefix,maxSize,allowFiles,actionUrl,loadingHtml,errorHandler,successHandler,filetype=/image\/\w+/i.test(file.type)?"image":"file",loadingId="loading_"+(+new Date()).toString(36);fieldName=me.getOpt(filetype+"FieldName");urlPrefix=me.getOpt(filetype+"UrlPrefix");maxSize=me.getOpt(filetype+"MaxSize");allowFiles=me.getOpt(filetype+"AllowFiles");actionUrl=me.getActionUrl(me.getOpt(filetype+"ActionName"));errorHandler=function(title){var loader=me.document.getElementById(loadingId);loader&&domUtils.remove(loader);me.fireEvent("showmessage",{id:loadingId,content:title,type:"error",timeout:4000})};if(filetype=="image"){loadingHtml='<img class="loadingclass" id="'+loadingId+'" src="'+me.options.themePath+me.options.theme+'/images/spacer.gif" title="'+(me.getLang("autoupload.loading")||"")+'" >';successHandler=function(data){var link=urlPrefix+data.url,loader=me.document.getElementById(loadingId);if(loader){loader.setAttribute("src",link);loader.setAttribute("_src",link);loader.setAttribute("title",data.title||"");loader.setAttribute("alt",data.original||"");loader.removeAttribute("id");domUtils.removeClasses(loader,"loadingclass")}}}else{loadingHtml='<p><img class="loadingclass" id="'+loadingId+'" src="'+me.options.themePath+me.options.theme+'/images/spacer.gif" title="'+(me.getLang("autoupload.loading")||"")+'" ></p>';successHandler=function(data){var link=urlPrefix+data.url,loader=me.document.getElementById(loadingId);var rng=me.selection.getRange(),bk=rng.createBookmark();rng.selectNode(loader).select();me.execCommand("insertfile",{url:link});rng.moveToBookmark(bk).select()}}me.execCommand("inserthtml",loadingHtml);if(!me.getOpt(filetype+"ActionName")){errorHandler(me.getLang("autoupload.errorLoadConfig"));return}if(file.size>maxSize){errorHandler(me.getLang("autoupload.exceedSizeError"));return}var fileext=file.name?file.name.substr(file.name.lastIndexOf(".")):"";if((fileext&&filetype!="image")||(allowFiles&&(allowFiles.join("")+".").indexOf(fileext.toLowerCase()+".")==-1)){errorHandler(me.getLang("autoupload.exceedTypeError"));return}var xhr=new XMLHttpRequest(),fd=new FormData(),params=utils.serializeParam(me.queryCommandValue("serverparam"))||"",url=utils.formatUrl(actionUrl+(actionUrl.indexOf("?")==-1?"?":"&")+params);fd.append(fieldName,file,file.name||("blob."+file.type.substr("image/".length)));fd.append("type","ajax");$.each(me.options.imageFormData,function(key,value){fd.append(key,value)});xhr.open("post",url,true);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.addEventListener("load",function(e){try{var json=(new Function("return "+utils.trim(e.target.response)))();if(json.state.toLowerCase()=="success"&&json.url){successHandler(json)}else{errorHandler(json.state)}}catch(er){errorHandler(me.getLang("autoupload.loadError"))}});xhr.send(fd)}function getPasteImage(e){return e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length==1&&/^image\//.test(e.clipboardData.items[0].type)?e.clipboardData.items:null}function getDropImage(e){return e.dataTransfer&&e.dataTransfer.files?e.dataTransfer.files:null}return{outputRule:function(root){utils.each(root.getNodesByTagName("img"),function(n){if(/\b(loaderrorclass)|(bloaderrorclass)\b/.test(n.getAttr("class"))){n.parentNode.removeChild(n)}});utils.each(root.getNodesByTagName("p"),function(n){if(/\bloadpara\b/.test(n.getAttr("class"))){n.parentNode.removeChild(n)}})},bindEvents:{ready:function(e){var me=this;if(window.FormData&&window.FileReader){domUtils.on(me.body,"paste drop",function(e){var hasImg=false,items;items=e.type=="paste"?getPasteImage(e):getDropImage(e);if(items){var len=items.length,file;while(len--){file=items[len];if(file.getAsFile){file=file.getAsFile()}if(file&&file.size>0){sendAndInsertFile(file,me);hasImg=true}}hasImg&&e.preventDefault()}});domUtils.on(me.body,"dragover",function(e){if(e.dataTransfer.types[0]=="Files"){e.preventDefault()}});utils.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-left:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document)}}}}});UE.plugin.register("autosave",function(){var me=this,lastSaveTime=new Date(),MIN_TIME=20,saveKey=null;function save(editor){var saveData;if(new Date()-lastSaveTime<MIN_TIME){return}if(!editor.hasContents()){saveKey&&me.removePreferences(saveKey);return}lastSaveTime=new Date();editor._saveFlag=null;saveData=me.body.innerHTML;if(editor.fireEvent("beforeautosave",{content:saveData})===false){return}me.setPreferences(saveKey,saveData);editor.fireEvent("afterautosave",{content:saveData})}return{defaultOptions:{saveInterval:500},bindEvents:{ready:function(){var _suffix="-drafts-data",key=null;if(me.key){key=me.key+_suffix}else{key=(me.container.parentNode.id||"ue-common")+_suffix}saveKey=(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_")+key},contentchange:function(){if(!saveKey){return}if(me._saveFlag){window.clearTimeout(me._saveFlag)}if(me.options.saveInterval>0){me._saveFlag=window.setTimeout(function(){save(me)},me.options.saveInterval)}else{save(me)}}},commands:{clearlocaldata:{execCommand:function(cmd,name){if(saveKey&&me.getPreferences(saveKey)){me.removePreferences(saveKey)}},notNeedUndo:true,ignoreContentChange:true},getlocaldata:{execCommand:function(cmd,name){return saveKey?me.getPreferences(saveKey)||"":""},notNeedUndo:true,ignoreContentChange:true},drafts:{execCommand:function(cmd,name){if(saveKey){me.body.innerHTML=me.getPreferences(saveKey)||"<p>"+domUtils.fillHtml+"</p>";me.focus(true)}},queryCommandState:function(){return saveKey?(me.getPreferences(saveKey)===null?-1:0):-1},notNeedUndo:true,ignoreContentChange:true}}}});UE.plugin.register("charts",function(){var me=this;return{bindEvents:{chartserror:function(){}},commands:{charts:{execCommand:function(cmd,data){var tableNode=domUtils.findParentByTagName(this.selection.getRange().startContainer,"table",true),flagText=[],config={};if(!tableNode){return false}if(!validData(tableNode)){me.fireEvent("chartserror");return false}config.title=data.title||"";config.subTitle=data.subTitle||"";config.xTitle=data.xTitle||"";config.yTitle=data.yTitle||"";config.suffix=data.suffix||"";config.tip=data.tip||"";config.dataFormat=data.tableDataFormat||"";config.chartType=data.chartType||0;for(var key in config){if(!config.hasOwnProperty(key)){continue}flagText.push(key+":"+config[key])}tableNode.setAttribute("data-chart",flagText.join(";"));domUtils.addClass(tableNode,"edui-charts-table")},queryCommandState:function(cmd,name){var tableNode=domUtils.findParentByTagName(this.selection.getRange().startContainer,"table",true);return tableNode&&validData(tableNode)?0:-1}}},inputRule:function(root){utils.each(root.getNodesByTagName("table"),function(tableNode){if(tableNode.getAttr("data-chart")!==undefined){tableNode.setAttr("style")}})},outputRule:function(root){utils.each(root.getNodesByTagName("table"),function(tableNode){if(tableNode.getAttr("data-chart")!==undefined){tableNode.setAttr("style","display: none;")}})}};function validData(table){var firstRows=null,cellCount=0;if(table.rows.length<2){return false}if(table.rows[0].cells.length<2){return false}firstRows=table.rows[0].cells;cellCount=firstRows.length;for(var i=0,cell;cell=firstRows[i];i++){if(cell.tagName.toLowerCase()!=="th"){return false}}for(var i=1,row;row=table.rows[i];i++){if(row.cells.length!=cellCount){return false}if(row.cells[0].tagName.toLowerCase()!=="th"){return false}for(var j=1,cell;cell=row.cells[j];j++){var value=utils.trim((cell.innerText||cell.textContent||""));value=value.replace(new RegExp(UE.dom.domUtils.fillChar,"g"),"").replace(/^\s+|\s+$/g,"");if(!/^\d*\.?\d+$/.test(value)){return false}}}return true}});UE.plugin.register("section",function(){function Section(option){this.tag="";this.level=-1,this.dom=null;this.nextSection=null;this.previousSection=null;this.parentSection=null;this.startAddress=[];this.endAddress=[];this.children=[]}function getSection(option){var section=new Section();return utils.extend(section,option)}function getNodeFromAddress(startAddress,root){var current=root;for(var i=0;i<startAddress.length;i++){if(!current.childNodes){return null}current=current.childNodes[startAddress[i]]}return current}var me=this;return{bindMultiEvents:{type:"aftersetcontent afterscencerestore",handler:function(){me.fireEvent("updateSections")}},bindEvents:{ready:function(){me.fireEvent("updateSections");domUtils.on(me.body,"drop paste",function(){me.fireEvent("updateSections")})},afterexeccommand:function(type,cmd){if(cmd=="paragraph"){me.fireEvent("updateSections")}},keyup:function(type,e){var me=this,range=me.selection.getRange();if(range.collapsed!=true){me.fireEvent("updateSections")}else{var keyCode=e.keyCode||e.which;if(keyCode==13||keyCode==8||keyCode==46){me.fireEvent("updateSections")}}}},commands:{getsections:{execCommand:function(cmd,levels){var levelFn=levels||["h1","h2","h3","h4","h5","h6"];for(var i=0;i<levelFn.length;i++){if(typeof levelFn[i]=="string"){levelFn[i]=function(fn){return function(node){return node.tagName==fn.toUpperCase()}}(levelFn[i])}else{if(typeof levelFn[i]!="function"){levelFn[i]=function(node){return null}}}}function getSectionLevel(node){for(var i=0;i<levelFn.length;i++){if(levelFn[i](node)){return i}}return -1}var me=this,Directory=getSection({level:-1,title:"root"}),previous=Directory;function traversal(node,Directory){var level,tmpSection=null,parent,child,children=node.childNodes;for(var i=0,len=children.length;i<len;i++){child=children[i];level=getSectionLevel(child);if(level>=0){var address=me.selection.getRange().selectNode(child).createAddress(true).startAddress,current=getSection({tag:child.tagName,title:child.innerText||child.textContent||"",level:level,dom:child,startAddress:utils.clone(address,[]),endAddress:utils.clone(address,[]),children:[]});previous.nextSection=current;current.previousSection=previous;parent=previous;while(level<=parent.level){parent=parent.parentSection}current.parentSection=parent;parent.children.push(current);tmpSection=previous=current}else{child.nodeType===1&&traversal(child,Directory);tmpSection&&tmpSection.endAddress[tmpSection.endAddress.length-1]++}}}traversal(me.body,Directory);return Directory},notNeedUndo:true},movesection:{execCommand:function(cmd,sourceSection,targetSection,isAfter){var me=this,targetAddress,target;if(!sourceSection||!targetSection||targetSection.level==-1){return}targetAddress=isAfter?targetSection.endAddress:targetSection.startAddress;target=getNodeFromAddress(targetAddress,me.body);if(!targetAddress||!target||isContainsAddress(sourceSection.startAddress,sourceSection.endAddress,targetAddress)){return}var startNode=getNodeFromAddress(sourceSection.startAddress,me.body),endNode=getNodeFromAddress(sourceSection.endAddress,me.body),current,nextNode;if(isAfter){current=endNode;while(current&&!(domUtils.getPosition(startNode,current)&domUtils.POSITION_FOLLOWING)){nextNode=current.previousSibling;domUtils.insertAfter(target,current);if(current==startNode){break}current=nextNode}}else{current=startNode;while(current&&!(domUtils.getPosition(current,endNode)&domUtils.POSITION_FOLLOWING)){nextNode=current.nextSibling;target.parentNode.insertBefore(current,target);if(current==endNode){break}current=nextNode}}me.fireEvent("updateSections");function isContainsAddress(startAddress,endAddress,addressTarget){var isAfterStartAddress=false,isBeforeEndAddress=false;for(var i=0;i<startAddress.length;i++){if(i>=addressTarget.length){break}if(addressTarget[i]>startAddress[i]){isAfterStartAddress=true;break}else{if(addressTarget[i]<startAddress[i]){break}}}for(var i=0;i<endAddress.length;i++){if(i>=addressTarget.length){break}if(addressTarget[i]<startAddress[i]){isBeforeEndAddress=true;break}else{if(addressTarget[i]>startAddress[i]){break}}}return isAfterStartAddress&&isBeforeEndAddress}}},deletesection:{execCommand:function(cmd,section,keepChildren){var me=this;if(!section){return}function getNodeFromAddress(startAddress){var current=me.body;for(var i=0;i<startAddress.length;i++){if(!current.childNodes){return null}current=current.childNodes[startAddress[i]]}return current}var startNode=getNodeFromAddress(section.startAddress),endNode=getNodeFromAddress(section.endAddress),current=startNode,nextNode;if(!keepChildren){while(current&&domUtils.inDoc(endNode,me.document)&&!(domUtils.getPosition(current,endNode)&domUtils.POSITION_FOLLOWING)){nextNode=current.nextSibling;domUtils.remove(current);current=nextNode}}else{domUtils.remove(current)}me.fireEvent("updateSections")}},selectsection:{execCommand:function(cmd,section){if(!section&&!section.dom){return false}var me=this,range=me.selection.getRange(),address={startAddress:utils.clone(section.startAddress,[]),endAddress:utils.clone(section.endAddress,[])};address.endAddress[address.endAddress.length-1]++;range.moveToAddress(address).select().scrollToView();return true},notNeedUndo:true},scrolltosection:{execCommand:function(cmd,section){if(!section&&!section.dom){return false}var me=this,range=me.selection.getRange(),address={startAddress:section.startAddress,endAddress:section.endAddress};address.endAddress[address.endAddress.length-1]++;range.moveToAddress(address).scrollToView();return true},notNeedUndo:true}}}});UE.plugin.register("simpleupload",function(){var me=this,isLoaded=false,containerBtn;function initUploadBtn(){var w=containerBtn.offsetWidth||20,h=containerBtn.offsetHeight||20,btnIframe=document.createElement("iframe"),btnStyle="display:block;width:"+w+"px;height:"+h+"px;overflow:hidden;border:0;margin:0;padding:0;position:absolute;top:0;left:0;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity: 0;opacity: 0;cursor:pointer;";domUtils.on(btnIframe,"load",function(){var timestrap=(+new Date()).toString(36),wrapper,btnIframeDoc,btnIframeBody;btnIframeDoc=(btnIframe.contentDocument||btnIframe.contentWindow.document);btnIframeBody=btnIframeDoc.body;wrapper=btnIframeDoc.createElement("div");var wrapper_html="";wrapper_html='<form id="edui_form_'+timestrap+'" target="edui_iframe_'+timestrap+'" method="POST" enctype="multipart/form-data" action="'+me.getOpt("serverUrl")+'" style="'+btnStyle+'"><input id="edui_input_'+timestrap+'" type="file" accept="image/*" name="'+me.options.imageFieldName+'" style="'+btnStyle+'">';$.each(me.options.imageFormData,function(key,value){wrapper_html+="<input type='hidden' name='"+key+"' value='"+value+"'/>"});wrapper_html+='</form><iframe id="edui_iframe_'+timestrap+'" name="edui_iframe_'+timestrap+'" style="display:none;width:0;height:0;border:0;margin:0;padding:0;position:absolute;"></iframe>';wrapper.innerHTML=wrapper_html;wrapper.className="edui-"+me.options.theme;wrapper.id=me.ui.id+"_iframeupload";btnIframeBody.style.cssText=btnStyle;btnIframeBody.style.width=w+"px";btnIframeBody.style.height=h+"px";btnIframeBody.appendChild(wrapper);if(btnIframeBody.parentNode){btnIframeBody.parentNode.style.width=w+"px";btnIframeBody.parentNode.style.height=w+"px"}var form=btnIframeDoc.getElementById("edui_form_"+timestrap);var input=btnIframeDoc.getElementById("edui_input_"+timestrap);var iframe=btnIframeDoc.getElementById("edui_iframe_"+timestrap);domUtils.on(input,"change",function(){if(!input.value){return}var loadingId="loading_"+(+new Date()).toString(36);var params=utils.serializeParam(me.queryCommandValue("serverparam"))||"";var imageActionUrl=me.getActionUrl(me.getOpt("imageActionName"));var allowFiles=me.getOpt("imageAllowFiles");me.focus();me.execCommand("inserthtml",'<img class="loadingclass" id="'+loadingId+'" src="'+me.options.themePath+me.options.theme+'/images/spacer.gif" title="'+(me.getLang("simpleupload.loading")||"")+'" >');function callback(){try{var link,json,loader,body=(iframe.contentDocument||iframe.contentWindow.document).body,result=body.innerText||body.textContent||"";json=(new Function("return "+result))();link=me.options.imageUrlPrefix+json.url;if(json.state=="SUCCESS"&&json.url){loader=me.document.getElementById(loadingId);loader.setAttribute("src",link);loader.setAttribute("_src",link);loader.setAttribute("title",json.title||"");loader.setAttribute("alt",json.original||"");loader.removeAttribute("id");domUtils.removeClasses(loader,"loadingclass")}else{showErrorLoader&&showErrorLoader(json.state)}}catch(er){showErrorLoader&&showErrorLoader(me.getLang("simpleupload.loadError"))}form.reset();domUtils.un(iframe,"load",callback)}function showErrorLoader(title){if(loadingId){var loader=me.document.getElementById(loadingId);loader&&domUtils.remove(loader);me.fireEvent("showmessage",{id:loadingId,content:title,type:"error",timeout:4000})}}if(!me.getOpt("imageActionName")){errorHandler(me.getLang("autoupload.errorLoadConfig"));return}var filename=input.value,fileext=filename?filename.substr(filename.lastIndexOf(".")):"";if(!fileext||(allowFiles&&(allowFiles.join("")+".").indexOf(fileext.toLowerCase()+".")==-1)){showErrorLoader(me.getLang("simpleupload.exceedTypeError"));return}domUtils.on(iframe,"load",callback);form.action=utils.formatUrl(imageActionUrl+(imageActionUrl.indexOf("?")==-1?"?":"&")+params);form.submit()});var stateTimer;me.addListener("selectionchange",function(){clearTimeout(stateTimer);stateTimer=setTimeout(function(){var state=me.queryCommandState("simpleupload");if(state==-1){input.disabled="disabled"}else{input.disabled=false}},400)});isLoaded=true});btnIframe.style.cssText=btnStyle;containerBtn.appendChild(btnIframe)}return{bindEvents:{ready:function(){utils.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document)},simpleuploadbtnready:function(type,container){containerBtn=container;me.afterConfigReady(initUploadBtn)}},outputRule:function(root){utils.each(root.getNodesByTagName("img"),function(n){if(/\b(loaderrorclass)|(bloaderrorclass)\b/.test(n.getAttr("class"))){n.parentNode.removeChild(n)}})},commands:{simpleupload:{queryCommandState:function(){return isLoaded?0:-1}}}}});UE.plugin.register("serverparam",function(){var me=this,serverParam={};return{commands:{serverparam:{execCommand:function(cmd,key,value){if(key===undefined||key===null){serverParam={}}else{if(utils.isString(key)){if(value===undefined||value===null){delete serverParam[key]}else{serverParam[key]=value}}else{if(utils.isObject(key)){utils.extend(serverParam,key,true)}else{if(utils.isFunction(key)){utils.extend(serverParam,key(),true)}}}}},queryCommandValue:function(){return serverParam||{}}}}}});UE.plugin.register("insertfile",function(){var me=this;function getFileIcon(url){var ext=url.substr(url.lastIndexOf(".")+1).toLowerCase(),maps={rar:"icon_rar.gif",zip:"icon_rar.gif",tar:"icon_rar.gif",gz:"icon_rar.gif",bz2:"icon_rar.gif",doc:"icon_doc.gif",docx:"icon_doc.gif",pdf:"icon_pdf.gif",mp3:"icon_mp3.gif",xls:"icon_xls.gif",chm:"icon_chm.gif",ppt:"icon_ppt.gif",pptx:"icon_ppt.gif",avi:"icon_mv.gif",rmvb:"icon_mv.gif",wmv:"icon_mv.gif",flv:"icon_mv.gif",swf:"icon_mv.gif",rm:"icon_mv.gif",exe:"icon_exe.gif",psd:"icon_psd.gif",txt:"icon_txt.gif",jpg:"icon_jpg.gif",png:"icon_jpg.gif",jpeg:"icon_jpg.gif",gif:"icon_jpg.gif",ico:"icon_jpg.gif",bmp:"icon_jpg.gif"};return maps[ext]?maps[ext]:maps.txt}return{commands:{insertfile:{execCommand:function(command,filelist){filelist=utils.isArray(filelist)?filelist:[filelist];var i,item,icon,title,html="",URL=me.getOpt("UEDITOR_HOME_URL"),iconDir=URL+(URL.substr(URL.length-1)=="/"?"":"/")+"dialogs/attachment/fileTypeImages/";for(i=0;i<filelist.length;i++){item=filelist[i];icon=iconDir+getFileIcon(item.url);title=item.title||item.url.substr(item.url.lastIndexOf("/")+1);html+='<p style="line-height: 16px;"><img style="vertical-align: middle; margin-right: 2px;" src="'+icon+'" _src="'+icon+'" /><a style="font-size:12px; color:#0066cc;" href="'+item.url+'" title="'+title+'">'+title+"</a></p>"}me.execCommand("insertHtml",html)}}}}});var baidu=baidu||{};baidu.editor=baidu.editor||{};UE.ui=baidu.editor.ui={};(function(){var browser=baidu.editor.browser,domUtils=baidu.editor.dom.domUtils;var magic="$EDITORUI";var root=window[magic]={};var uidMagic="ID"+magic;var uidCount=0;var uiUtils=baidu.editor.ui.uiUtils={uid:function(obj){return(obj?obj[uidMagic]||(obj[uidMagic]=++uidCount):++uidCount)},hook:function(fn,callback){var dg;if(fn&&fn._callbacks){dg=fn}else{dg=function(){var q;if(fn){q=fn.apply(this,arguments)}var callbacks=dg._callbacks;var k=callbacks.length;while(k--){var r=callbacks[k].apply(this,arguments);if(q===undefined){q=r}}return q};dg._callbacks=[]}dg._callbacks.push(callback);return dg},createElementByHtml:function(html){var el=document.createElement("div");el.innerHTML=html;el=el.firstChild;el.parentNode.removeChild(el);return el},getViewportElement:function(){return(browser.ie&&browser.quirks)?document.body:document.documentElement},getClientRect:function(element){var bcr;try{bcr=element.getBoundingClientRect()}catch(e){bcr={left:0,top:0,height:0,width:0}}var rect={left:Math.round(bcr.left),top:Math.round(bcr.top),height:Math.round(bcr.bottom-bcr.top),width:Math.round(bcr.right-bcr.left)};var doc;while((doc=element.ownerDocument)!==document&&(element=domUtils.getWindow(doc).frameElement)){bcr=element.getBoundingClientRect();rect.left+=bcr.left;rect.top+=bcr.top}rect.bottom=rect.top+rect.height;rect.right=rect.left+rect.width;return rect},getViewportRect:function(){var viewportEl=uiUtils.getViewportElement();var width=(window.innerWidth||viewportEl.clientWidth)|0;var height=(window.innerHeight||viewportEl.clientHeight)|0;return{left:0,top:0,height:height,width:width,bottom:height,right:width}},setViewportOffset:function(element,offset){var rect;var fixedLayer=uiUtils.getFixedLayer();if(element.parentNode===fixedLayer){element.style.left=offset.left+"px";element.style.top=offset.top+"px"}else{domUtils.setViewportOffset(element,offset)}},getEventOffset:function(evt){var el=evt.target||evt.srcElement;var rect=uiUtils.getClientRect(el);var offset=uiUtils.getViewportOffsetByEvent(evt);return{left:offset.left-rect.left,top:offset.top-rect.top}},getViewportOffsetByEvent:function(evt){var el=evt.target||evt.srcElement;var frameEl=domUtils.getWindow(el).frameElement;var offset={left:evt.clientX,top:evt.clientY};if(frameEl&&el.ownerDocument!==document){var rect=uiUtils.getClientRect(frameEl);offset.left+=rect.left;offset.top+=rect.top}return offset},setGlobal:function(id,obj){root[id]=obj;return magic+'["'+id+'"]'},unsetGlobal:function(id){delete root[id]},copyAttributes:function(tgt,src){var attributes=src.attributes;var k=attributes.length;while(k--){var attrNode=attributes[k];if(attrNode.nodeName!="style"&&attrNode.nodeName!="class"&&(!browser.ie||attrNode.specified)){tgt.setAttribute(attrNode.nodeName,attrNode.nodeValue)}}if(src.className){domUtils.addClass(tgt,src.className)}if(src.style.cssText){tgt.style.cssText+=";"+src.style.cssText}},removeStyle:function(el,styleName){if(el.style.removeProperty){el.style.removeProperty(styleName)}else{if(el.style.removeAttribute){el.style.removeAttribute(styleName)}else{throw""}}},contains:function(elA,elB){return elA&&elB&&(elA===elB?false:(elA.contains?elA.contains(elB):elA.compareDocumentPosition(elB)&16))},startDrag:function(evt,callbacks,doc){var doc=doc||document;var startX=evt.clientX;var startY=evt.clientY;function handleMouseMove(evt){var x=evt.clientX-startX;var y=evt.clientY-startY;callbacks.ondragmove(x,y,evt);if(evt.stopPropagation){evt.stopPropagation()}else{evt.cancelBubble=true}}if(doc.addEventListener){function handleMouseUp(evt){doc.removeEventListener("mousemove",handleMouseMove,true);doc.removeEventListener("mouseup",handleMouseUp,true);window.removeEventListener("mouseup",handleMouseUp,true);callbacks.ondragstop()}doc.addEventListener("mousemove",handleMouseMove,true);doc.addEventListener("mouseup",handleMouseUp,true);window.addEventListener("mouseup",handleMouseUp,true);evt.preventDefault()}else{var elm=evt.srcElement;elm.setCapture();function releaseCaptrue(){elm.releaseCapture();elm.detachEvent("onmousemove",handleMouseMove);elm.detachEvent("onmouseup",releaseCaptrue);elm.detachEvent("onlosecaptrue",releaseCaptrue);callbacks.ondragstop()}elm.attachEvent("onmousemove",handleMouseMove);elm.attachEvent("onmouseup",releaseCaptrue);elm.attachEvent("onlosecaptrue",releaseCaptrue);evt.returnValue=false}callbacks.ondragstart()},getFixedLayer:function(){var layer=document.getElementById("edui_fixedlayer");if(layer==null){layer=document.createElement("div");layer.id="edui_fixedlayer";document.body.appendChild(layer);if(browser.ie&&browser.version<=8){layer.style.position="absolute";bindFixedLayer();setTimeout(updateFixedOffset)}else{layer.style.position="fixed"}layer.style.left="0";layer.style.top="0";layer.style.width="0";layer.style.height="0"}return layer},makeUnselectable:function(element){if(browser.opera||(browser.ie&&browser.version<9)){element.unselectable="on";if(element.hasChildNodes()){for(var i=0;i<element.childNodes.length;i++){if(element.childNodes[i].nodeType==1){uiUtils.makeUnselectable(element.childNodes[i])}}}}else{if(element.style.MozUserSelect!==undefined){element.style.MozUserSelect="none"}else{if(element.style.WebkitUserSelect!==undefined){element.style.WebkitUserSelect="none"}else{if(element.style.KhtmlUserSelect!==undefined){element.style.KhtmlUserSelect="none"}}}}}};function updateFixedOffset(){var layer=document.getElementById("edui_fixedlayer");uiUtils.setViewportOffset(layer,{left:0,top:0})}function bindFixedLayer(adjOffset){domUtils.on(window,"scroll",updateFixedOffset);domUtils.on(window,"resize",baidu.editor.utils.defer(updateFixedOffset,0,true))}})();(function(){var utils=baidu.editor.utils,uiUtils=baidu.editor.ui.uiUtils,EventBase=baidu.editor.EventBase,UIBase=baidu.editor.ui.UIBase=function(){};UIBase.prototype={className:"",uiName:"",initOptions:function(options){var me=this;for(var k in options){me[k]=options[k]}this.id=this.id||"edui"+uiUtils.uid()},initUIBase:function(){this._globalKey=utils.unhtml(uiUtils.setGlobal(this.id,this))},render:function(holder){var html=this.renderHtml();var el=uiUtils.createElementByHtml(html);var list=domUtils.getElementsByTagName(el,"*");var theme="edui-"+(this.theme||this.editor.options.theme);var layer=document.getElementById("edui_fixedlayer");for(var i=0,node;node=list[i++];){domUtils.addClass(node,theme)}domUtils.addClass(el,theme);if(layer){layer.className="";domUtils.addClass(layer,theme)}var seatEl=this.getDom();if(seatEl!=null){seatEl.parentNode.replaceChild(el,seatEl);uiUtils.copyAttributes(el,seatEl)}else{if(typeof holder=="string"){holder=document.getElementById(holder)}holder=holder||uiUtils.getFixedLayer();domUtils.addClass(holder,theme);holder.appendChild(el)}this.postRender()},getDom:function(name){if(!name){return document.getElementById(this.id)}else{return document.getElementById(this.id+"_"+name)}},postRender:function(){this.fireEvent("postrender")},getHtmlTpl:function(){return""},formatHtml:function(tpl){var prefix="edui-"+this.uiName;return(tpl.replace(/##/g,this.id).replace(/%%-/g,this.uiName?prefix+"-":"").replace(/%%/g,(this.uiName?prefix:"")+" "+this.className).replace(/\$\$/g,this._globalKey))},renderHtml:function(){return this.formatHtml(this.getHtmlTpl())},dispose:function(){var box=this.getDom();if(box){baidu.editor.dom.domUtils.remove(box)}uiUtils.unsetGlobal(this.id)}};utils.inherits(UIBase,EventBase)})();(function(){var utils=baidu.editor.utils,UIBase=baidu.editor.ui.UIBase,Separator=baidu.editor.ui.Separator=function(options){this.initOptions(options);this.initSeparator()};Separator.prototype={uiName:"separator",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"></div>'}};utils.inherits(Separator,UIBase)})();(function(){var utils=baidu.editor.utils,domUtils=baidu.editor.dom.domUtils,UIBase=baidu.editor.ui.UIBase,uiUtils=baidu.editor.ui.uiUtils;var Mask=baidu.editor.ui.Mask=function(options){this.initOptions(options);this.initUIBase()};Mask.prototype={getHtmlTpl:function(){return'<div id="##" class="edui-mask %%" onclick="return $$._onClick(event, this);" onmousedown="return $$._onMouseDown(event, this);"></div>'},postRender:function(){var me=this;domUtils.on(window,"resize",function(){setTimeout(function(){if(!me.isHidden()){me._fill()}})})},show:function(zIndex){this._fill();this.getDom().style.display="";this.getDom().style.zIndex=zIndex},hide:function(){this.getDom().style.display="none";this.getDom().style.zIndex=""},isHidden:function(){return this.getDom().style.display=="none"},_onMouseDown:function(){return false},_onClick:function(e,target){this.fireEvent("click",e,target)},_fill:function(){var el=this.getDom();var vpRect=uiUtils.getViewportRect();el.style.width=vpRect.width+"px";el.style.height=vpRect.height+"px"}};utils.inherits(Mask,UIBase)})();(function(){var utils=baidu.editor.utils,uiUtils=baidu.editor.ui.uiUtils,domUtils=baidu.editor.dom.domUtils,UIBase=baidu.editor.ui.UIBase,Popup=baidu.editor.ui.Popup=function(options){this.initOptions(options);this.initPopup()};var allPopups=[];function closeAllPopup(evt,el){for(var i=0;i<allPopups.length;i++){var pop=allPopups[i];if(!pop.isHidden()){if(pop.queryAutoHide(el)!==false){if(evt&&/scroll/ig.test(evt.type)&&pop.className=="edui-wordpastepop"){return}pop.hide()}}}if(allPopups.length){pop.editor.fireEvent("afterhidepop")}}Popup.postHide=closeAllPopup;var ANCHOR_CLASSES=["edui-anchor-topleft","edui-anchor-topright","edui-anchor-bottomleft","edui-anchor-bottomright"];Popup.prototype={SHADOW_RADIUS:5,content:null,_hidden:false,autoRender:true,canSideLeft:true,canSideUp:true,initPopup:function(){this.initUIBase();allPopups.push(this)},getHtmlTpl:function(){return'<div id="##" class="edui-popup %%" onmousedown="return false;"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-popup-content">'+this.getContentHtmlTpl()+"  </div> </div></div>"},getContentHtmlTpl:function(){if(this.content){if(typeof this.content=="string"){return this.content}return this.content.renderHtml()}else{return""}},_UIBase_postRender:UIBase.prototype.postRender,postRender:function(){if(this.content instanceof UIBase){this.content.postRender()}if(this.captureWheel&&!this.captured){this.captured=true;var winHeight=(document.documentElement.clientHeight||document.body.clientHeight)-80,_height=this.getDom().offsetHeight,_top=uiUtils.getClientRect(this.combox.getDom()).top,content=this.getDom("content"),ifr=this.getDom("body").getElementsByTagName("iframe"),me=this;ifr.length&&(ifr=ifr[0]);while(_top+_height>winHeight){_height-=30}content.style.height=_height+"px";ifr&&(ifr.style.height=_height+"px");if(window.XMLHttpRequest){domUtils.on(content,("onmousewheel" in document.body)?"mousewheel":"DOMMouseScroll",function(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}if(e.wheelDelta){content.scrollTop-=(e.wheelDelta/120)*60}else{content.scrollTop-=(e.detail/-3)*60}})}else{domUtils.on(this.getDom(),"mousewheel",function(e){e.returnValue=false;me.getDom("content").scrollTop-=(e.wheelDelta/120)*60})}}this.fireEvent("postRenderAfter");this.hide(true);this._UIBase_postRender()},_doAutoRender:function(){if(!this.getDom()&&this.autoRender){this.render()}},mesureSize:function(){var box=this.getDom("content");return uiUtils.getClientRect(box)},fitSize:function(){if(this.captureWheel&&this.sized){return this.__size}this.sized=true;var popBodyEl=this.getDom("body");popBodyEl.style.width="";popBodyEl.style.height="";var size=this.mesureSize();if(this.captureWheel){popBodyEl.style.width=-(-20-size.width)+"px";var height=parseInt(this.getDom("content").style.height,10);!window.isNaN(height)&&(size.height=height)}else{popBodyEl.style.width=size.width+"px"}popBodyEl.style.height=size.height+"px";this.__size=size;this.captureWheel&&(this.getDom("content").style.overflow="auto");return size},showAnchor:function(element,hoz){this.showAnchorRect(uiUtils.getClientRect(element),hoz)},showAnchorRect:function(rect,hoz,adj){this._doAutoRender();var vpRect=uiUtils.getViewportRect();this.getDom().style.visibility="hidden";this._show();var popSize=this.fitSize();var sideLeft,sideUp,left,top;if(hoz){sideLeft=this.canSideLeft&&(rect.right+popSize.width>vpRect.right&&rect.left>popSize.width);sideUp=this.canSideUp&&(rect.top+popSize.height>vpRect.bottom&&rect.bottom>popSize.height);left=(sideLeft?rect.left-popSize.width:rect.right);top=(sideUp?rect.bottom-popSize.height:rect.top)}else{sideLeft=this.canSideLeft&&(rect.right+popSize.width>vpRect.right&&rect.left>popSize.width);sideUp=this.canSideUp&&(rect.top+popSize.height>vpRect.bottom&&rect.bottom>popSize.height);left=(sideLeft?rect.right-popSize.width:rect.left);top=(sideUp?rect.top-popSize.height:rect.bottom)}var popEl=this.getDom();uiUtils.setViewportOffset(popEl,{left:left,top:top});domUtils.removeClasses(popEl,ANCHOR_CLASSES);popEl.className+=" "+ANCHOR_CLASSES[(sideUp?1:0)*2+(sideLeft?1:0)];if(this.editor){popEl.style.zIndex=this.editor.container.style.zIndex*1+10;baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=popEl.style.zIndex-1}this.getDom().style.visibility="visible"},showAt:function(offset){var left=offset.left;var top=offset.top;var rect={left:left,top:top,right:left,bottom:top,height:0,width:0};this.showAnchorRect(rect,false,true)},_show:function(){if(this._hidden){var box=this.getDom();box.style.display="";this._hidden=false;this.fireEvent("show")}},isHidden:function(){return this._hidden},show:function(){this._doAutoRender();this._show()},hide:function(notNofity){if(!this._hidden&&this.getDom()){this.getDom().style.display="none";this._hidden=true;if(!notNofity){this.fireEvent("hide")}}},queryAutoHide:function(el){return !el||!uiUtils.contains(this.getDom(),el)}};utils.inherits(Popup,UIBase);domUtils.on(document,"mousedown",function(evt){var el=evt.target||evt.srcElement;closeAllPopup(evt,el)});domUtils.on(window,"scroll",function(evt,el){closeAllPopup(evt,el)})})();(function(){var utils=baidu.editor.utils,UIBase=baidu.editor.ui.UIBase,ColorPicker=baidu.editor.ui.ColorPicker=function(options){this.initOptions(options);this.noColorText=this.noColorText||this.editor.getLang("clearColor");this.initUIBase()};ColorPicker.prototype={getHtmlTpl:function(){return genColorPicker(this.noColorText,this.editor)},_onTableClick:function(evt){var tgt=evt.target||evt.srcElement;var color=tgt.getAttribute("data-color");if(color){this.fireEvent("pickcolor",color)}},_onTableOver:function(evt){var tgt=evt.target||evt.srcElement;var color=tgt.getAttribute("data-color");if(color){this.getDom("preview").style.backgroundColor=color}},_onTableOut:function(){this.getDom("preview").style.backgroundColor=""},_onPickNoColor:function(){this.fireEvent("picknocolor")}};utils.inherits(ColorPicker,UIBase);var COLORS=("ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,").split(",");function genColorPicker(noColorText,editor){var html='<div id="##" class="edui-colorpicker %%"><div class="edui-colorpicker-topbar edui-clearfix"><div unselectable="on" id="##_preview" class="edui-colorpicker-preview"></div><div unselectable="on" class="edui-colorpicker-nocolor" onclick="$$._onPickNoColor(event, this);">'+noColorText+'</div></div><table  class="edui-box" style="border-collapse: collapse;" onmouseover="$$._onTableOver(event, this);" onmouseout="$$._onTableOut(event, this);" onclick="return $$._onTableClick(event, this);" cellspacing="0" cellpadding="0"><tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px"><td colspan="10">'+editor.getLang("themeColor")+'</td> </tr><tr class="edui-colorpicker-tablefirstrow" >';for(var i=0;i<COLORS.length;i++){if(i&&i%10===0){html+="</tr>"+(i==60?'<tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;"><td colspan="10">'+editor.getLang("standardColor")+"</td></tr>":"")+"<tr"+(i==60?' class="edui-colorpicker-tablefirstrow"':"")+">"}html+=i<70?'<td style="padding: 0 2px;"><a hidefocus title="'+COLORS[i]+'" onclick="return false;" href="javascript:" unselectable="on" class="edui-box edui-colorpicker-colorcell" data-color="#'+COLORS[i]+'" style="background-color:#'+COLORS[i]+";border:solid #ccc;"+(i<10||i>=60?"border-width:1px;":i>=10&&i<20?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"></a></td>':""}html+="</tr></table></div>";return html}})();(function(){var utils=baidu.editor.utils,uiUtils=baidu.editor.ui.uiUtils,UIBase=baidu.editor.ui.UIBase;var TablePicker=baidu.editor.ui.TablePicker=function(options){this.initOptions(options);this.initTablePicker()};TablePicker.prototype={defaultNumRows:10,defaultNumCols:10,maxNumRows:20,maxNumCols:20,numRows:10,numCols:10,lengthOfCellSide:22,initTablePicker:function(){this.initUIBase()},getHtmlTpl:function(){var me=this;return'<div id="##" class="edui-tablepicker %%"><div class="edui-tablepicker-body"><div class="edui-infoarea"><span id="##_label" class="edui-label"></span></div><div class="edui-pickarea" onmousemove="$$._onMouseMove(event, this);" onmouseover="$$._onMouseOver(event, this);" onmouseout="$$._onMouseOut(event, this);" onclick="$$._onClick(event, this);"><div id="##_overlay" class="edui-overlay"></div></div></div></div>'},_UIBase_render:UIBase.prototype.render,render:function(holder){this._UIBase_render(holder);this.getDom("label").innerHTML="0"+this.editor.getLang("t_row")+" x 0"+this.editor.getLang("t_col")},_track:function(numCols,numRows){var style=this.getDom("overlay").style;var sideLen=this.lengthOfCellSide;style.width=numCols*sideLen+"px";style.height=numRows*sideLen+"px";var label=this.getDom("label");label.innerHTML=numCols+this.editor.getLang("t_col")+" x "+numRows+this.editor.getLang("t_row");this.numCols=numCols;this.numRows=numRows},_onMouseOver:function(evt,el){var rel=evt.relatedTarget||evt.fromElement;if(!uiUtils.contains(el,rel)&&el!==rel){this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row");this.getDom("overlay").style.visibility=""}},_onMouseOut:function(evt,el){var rel=evt.relatedTarget||evt.toElement;if(!uiUtils.contains(el,rel)&&el!==rel){this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row");this.getDom("overlay").style.visibility="hidden"}},_onMouseMove:function(evt,el){var style=this.getDom("overlay").style;var offset=uiUtils.getEventOffset(evt);var sideLen=this.lengthOfCellSide;var numCols=Math.ceil(offset.left/sideLen);var numRows=Math.ceil(offset.top/sideLen);this._track(numCols,numRows)},_onClick:function(){this.fireEvent("picktable",this.numCols,this.numRows)}};utils.inherits(TablePicker,UIBase)})();(function(){var browser=baidu.editor.browser,domUtils=baidu.editor.dom.domUtils,uiUtils=baidu.editor.ui.uiUtils;var TPL_STATEFUL='onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"'+(browser.ie?(' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"'):(' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"'));baidu.editor.ui.Stateful={alwalysHoverable:false,target:null,Stateful_init:function(){this._Stateful_dGetHtmlTpl=this.getHtmlTpl;this.getHtmlTpl=this.Stateful_getHtmlTpl},Stateful_getHtmlTpl:function(){var tpl=this._Stateful_dGetHtmlTpl();return tpl.replace(/stateful/g,function(){return TPL_STATEFUL})},Stateful_onMouseEnter:function(evt,el){this.target=el;if(!this.isDisabled()||this.alwalysHoverable){this.addState("hover");this.fireEvent("over")}},Stateful_onMouseLeave:function(evt,el){if(!this.isDisabled()||this.alwalysHoverable){this.removeState("hover");this.removeState("active");this.fireEvent("out")}},Stateful_onMouseOver:function(evt,el){var rel=evt.relatedTarget;if(!uiUtils.contains(el,rel)&&el!==rel){this.Stateful_onMouseEnter(evt,el)}},Stateful_onMouseOut:function(evt,el){var rel=evt.relatedTarget;if(!uiUtils.contains(el,rel)&&el!==rel){this.Stateful_onMouseLeave(evt,el)}},Stateful_onMouseDown:function(evt,el){if(!this.isDisabled()){this.addState("active")}},Stateful_onMouseUp:function(evt,el){if(!this.isDisabled()){this.removeState("active")}},Stateful_postRender:function(){if(this.disabled&&!this.hasState("disabled")){this.addState("disabled")}},hasState:function(state){return domUtils.hasClass(this.getStateDom(),"edui-state-"+state)},addState:function(state){if(!this.hasState(state)){this.getStateDom().className+=" edui-state-"+state}},removeState:function(state){if(this.hasState(state)){domUtils.removeClasses(this.getStateDom(),["edui-state-"+state])}},getStateDom:function(){return this.getDom("state")},isChecked:function(){return this.hasState("checked")},setChecked:function(checked){if(!this.isDisabled()&&checked){this.addState("checked")}else{this.removeState("checked")}},isDisabled:function(){return this.hasState("disabled")},setDisabled:function(disabled){if(disabled){this.removeState("hover");this.removeState("checked");this.removeState("active");this.addState("disabled")}else{this.removeState("disabled")}}}})();(function(){var utils=baidu.editor.utils,UIBase=baidu.editor.ui.UIBase,Stateful=baidu.editor.ui.Stateful,Button=baidu.editor.ui.Button=function(options){if(options.name){var btnName=options.name;var cssRules=options.cssRules;if(!options.className){options.className="edui-for-"+btnName}options.cssRules=".edui-default  .edui-for-"+btnName+" .edui-icon {"+cssRules+"}"}this.initOptions(options);this.initButton()};Button.prototype={uiName:"button",label:"",title:"",showIcon:true,showText:true,cssRules:"",initButton:function(){this.initUIBase();this.Stateful_init();if(this.cssRules){utils.cssRule("edui-customize-"+this.name+"-style",this.cssRules)}},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" '+(this.title?'title="'+this.title+'"':"")+' class="%%-body" onmousedown="return $$._onMouseDown(event, this);" onclick="return $$._onClick(event, this);">'+(this.showIcon?'<div class="edui-box edui-icon"></div>':"")+(this.showText?'<div class="edui-box edui-label">'+this.label+"</div>":"")+"</div></div></div></div>"},postRender:function(){this.Stateful_postRender();this.setDisabled(this.disabled)},_onMouseDown:function(e){var target=e.target||e.srcElement,tagName=target&&target.tagName&&target.tagName.toLowerCase();if(tagName=="input"||tagName=="object"||tagName=="object"){return false}},_onClick:function(){if(!this.isDisabled()){this.fireEvent("click")}},setTitle:function(text){var label=this.getDom("label");label.innerHTML=text}};utils.inherits(Button,UIBase);utils.extend(Button.prototype,Stateful)})();(function(){var utils=baidu.editor.utils,uiUtils=baidu.editor.ui.uiUtils,domUtils=baidu.editor.dom.domUtils,UIBase=baidu.editor.ui.UIBase,Stateful=baidu.editor.ui.Stateful,SplitButton=baidu.editor.ui.SplitButton=function(options){this.initOptions(options);this.initSplitButton()};SplitButton.prototype={popup:null,uiName:"splitbutton",title:"",initSplitButton:function(){this.initUIBase();this.Stateful_init();var me=this;if(this.popup!=null){var popup=this.popup;this.popup=null;this.setPopup(popup)}},_UIBase_postRender:UIBase.prototype.postRender,postRender:function(){this.Stateful_postRender();this._UIBase_postRender()},setPopup:function(popup){if(this.popup===popup){return}if(this.popup!=null){this.popup.dispose()}popup.addListener("show",utils.bind(this._onPopupShow,this));popup.addListener("hide",utils.bind(this._onPopupHide,this));popup.addListener("postrender",utils.bind(function(){popup.getDom("body").appendChild(uiUtils.createElementByHtml('<div id="'+this.popup.id+'_bordereraser" class="edui-bordereraser edui-background" style="width:'+(uiUtils.getClientRect(this.getDom()).width+20)+'px"></div>'));popup.getDom().className+=" "+this.className},this));this.popup=popup},_onPopupShow:function(){this.addState("opened")},_onPopupHide:function(){this.removeState("opened")},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div '+(this.title?'title="'+this.title+'"':"")+' id="##_state" stateful><div class="%%-body"><div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);"><div class="edui-box edui-icon"></div></div><div class="edui-box edui-splitborder"></div><div class="edui-box edui-arrow" onclick="$$._onArrowClick();"></div></div></div></div>'},showPopup:function(){var rect=uiUtils.getClientRect(this.getDom());rect.top-=this.popup.SHADOW_RADIUS;rect.height+=this.popup.SHADOW_RADIUS;this.popup.showAnchorRect(rect)},_onArrowClick:function(event,el){if(!this.isDisabled()){this.showPopup()}},_onButtonClick:function(){if(!this.isDisabled()){this.fireEvent("buttonclick")}}};utils.inherits(SplitButton,UIBase);utils.extend(SplitButton.prototype,Stateful,true)})();(function(){var utils=baidu.editor.utils,uiUtils=baidu.editor.ui.uiUtils,ColorPicker=baidu.editor.ui.ColorPicker,Popup=baidu.editor.ui.Popup,SplitButton=baidu.editor.ui.SplitButton,ColorButton=baidu.editor.ui.ColorButton=function(options){this.initOptions(options);this.initColorButton()};ColorButton.prototype={initColorButton:function(){var me=this;this.popup=new Popup({content:new ColorPicker({noColorText:me.editor.getLang("clearColor"),editor:me.editor,onpickcolor:function(t,color){me._onPickColor(color)},onpicknocolor:function(t,color){me._onPickNoColor(color)}}),editor:me.editor});this.initSplitButton()},_SplitButton_postRender:SplitButton.prototype.postRender,postRender:function(){this._SplitButton_postRender();this.getDom("button_body").appendChild(uiUtils.createElementByHtml('<div id="'+this.id+'_colorlump" class="edui-colorlump"></div>'));this.getDom().className+=" edui-colorbutton"},setColor:function(color){this.getDom("colorlump").style.backgroundColor=color;this.color=color},_onPickColor:function(color){if(this.fireEvent("pickcolor",color)!==false){this.setColor(color);this.popup.hide()}},_onPickNoColor:function(color){if(this.fireEvent("picknocolor")!==false){this.popup.hide()}}};utils.inherits(ColorButton,SplitButton)})();(function(){var utils=baidu.editor.utils,Popup=baidu.editor.ui.Popup,TablePicker=baidu.editor.ui.TablePicker,SplitButton=baidu.editor.ui.SplitButton,TableButton=baidu.editor.ui.TableButton=function(options){this.initOptions(options);this.initTableButton()};TableButton.prototype={initTableButton:function(){var me=this;this.popup=new Popup({content:new TablePicker({editor:me.editor,onpicktable:function(t,numCols,numRows){me._onPickTable(numCols,numRows)}}),editor:me.editor});this.initSplitButton()},_onPickTable:function(numCols,numRows){if(this.fireEvent("picktable",numCols,numRows)!==false){this.popup.hide()}}};utils.inherits(TableButton,SplitButton)})();(function(){var utils=baidu.editor.utils,UIBase=baidu.editor.ui.UIBase;var AutoTypeSetPicker=baidu.editor.ui.AutoTypeSetPicker=function(options){this.initOptions(options);this.initAutoTypeSetPicker()};AutoTypeSetPicker.prototype={initAutoTypeSetPicker:function(){this.initUIBase()},getHtmlTpl:function(){var me=this.editor,opt=me.options.autotypeset,lang=me.getLang("autoTypeSet");var textAlignInputName="textAlignValue"+me.uid,imageBlockInputName="imageBlockLineValue"+me.uid,symbolConverInputName="symbolConverValue"+me.uid;return'<div id="##" class="edui-autotypesetpicker %%"><div class="edui-autotypesetpicker-body"><table ><tr><td nowrap><input type="checkbox" name="mergeEmptyline" '+(opt.mergeEmptyline?"checked":"")+">"+lang.mergeLine+'</td><td colspan="2"><input type="checkbox" name="removeEmptyline" '+(opt.removeEmptyline?"checked":"")+">"+lang.delLine+'</td></tr><tr><td nowrap><input type="checkbox" name="removeClass" '+(opt.removeClass?"checked":"")+">"+lang.removeFormat+'</td><td colspan="2"><input type="checkbox" name="indent" '+(opt.indent?"checked":"")+">"+lang.indent+'</td></tr><tr><td nowrap><input type="checkbox" name="textAlign" '+(opt.textAlign?"checked":"")+">"+lang.alignment+'</td><td colspan="2" id="'+textAlignInputName+'"><input type="radio" name="'+textAlignInputName+'" value="left" '+((opt.textAlign&&opt.textAlign=="left")?"checked":"")+">"+me.getLang("justifyleft")+'<input type="radio" name="'+textAlignInputName+'" value="center" '+((opt.textAlign&&opt.textAlign=="center")?"checked":"")+">"+me.getLang("justifycenter")+'<input type="radio" name="'+textAlignInputName+'" value="right" '+((opt.textAlign&&opt.textAlign=="right")?"checked":"")+">"+me.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="imageBlockLine" '+(opt.imageBlockLine?"checked":"")+">"+lang.imageFloat+'</td><td nowrap id="'+imageBlockInputName+'"><input type="radio" name="'+imageBlockInputName+'" value="none" '+((opt.imageBlockLine&&opt.imageBlockLine=="none")?"checked":"")+">"+me.getLang("default")+'<input type="radio" name="'+imageBlockInputName+'" value="left" '+((opt.imageBlockLine&&opt.imageBlockLine=="left")?"checked":"")+">"+me.getLang("justifyleft")+'<input type="radio" name="'+imageBlockInputName+'" value="center" '+((opt.imageBlockLine&&opt.imageBlockLine=="center")?"checked":"")+">"+me.getLang("justifycenter")+'<input type="radio" name="'+imageBlockInputName+'" value="right" '+((opt.imageBlockLine&&opt.imageBlockLine=="right")?"checked":"")+">"+me.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="clearFontSize" '+(opt.clearFontSize?"checked":"")+">"+lang.removeFontsize+'</td><td colspan="2"><input type="checkbox" name="clearFontFamily" '+(opt.clearFontFamily?"checked":"")+">"+lang.removeFontFamily+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="removeEmptyNode" '+(opt.removeEmptyNode?"checked":"")+">"+lang.removeHtml+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="pasteFilter" '+(opt.pasteFilter?"checked":"")+">"+lang.pasteFilter+'</td></tr><tr><td nowrap><input type="checkbox" name="symbolConver" '+(opt.bdc2sb||opt.tobdc?"checked":"")+">"+lang.symbol+'</td><td id="'+symbolConverInputName+'"><input type="radio" name="bdc" value="bdc2sb" '+(opt.bdc2sb?"checked":"")+">"+lang.bdc2sb+'<input type="radio" name="bdc" value="tobdc" '+(opt.tobdc?"checked":"")+">"+lang.tobdc+'</td><td nowrap align="right"><button >'+lang.run+"</button></td></tr></table></div></div>"},_UIBase_render:UIBase.prototype.render};utils.inherits(AutoTypeSetPicker,UIBase)})();(function(){var utils=baidu.editor.utils,Popup=baidu.editor.ui.Popup,AutoTypeSetPicker=baidu.editor.ui.AutoTypeSetPicker,SplitButton=baidu.editor.ui.SplitButton,AutoTypeSetButton=baidu.editor.ui.AutoTypeSetButton=function(options){this.initOptions(options);this.initAutoTypeSetButton()};function getPara(me){var opt={},cont=me.getDom(),editorId=me.editor.uid,inputType=null,attrName=null,ipts=domUtils.getElementsByTagName(cont,"input");for(var i=ipts.length-1,ipt;ipt=ipts[i--];){inputType=ipt.getAttribute("type");if(inputType=="checkbox"){attrName=ipt.getAttribute("name");opt[attrName]&&delete opt[attrName];if(ipt.checked){var attrValue=document.getElementById(attrName+"Value"+editorId);if(attrValue){if(/input/ig.test(attrValue.tagName)){opt[attrName]=attrValue.value}else{var iptChilds=attrValue.getElementsByTagName("input");for(var j=iptChilds.length-1,iptchild;iptchild=iptChilds[j--];){if(iptchild.checked){opt[attrName]=iptchild.value;break}}}}else{opt[attrName]=true}}else{opt[attrName]=false}}else{opt[ipt.getAttribute("value")]=ipt.checked}}var selects=domUtils.getElementsByTagName(cont,"select");for(var i=0,si;si=selects[i++];){var attr=si.getAttribute("name");opt[attr]=opt[attr]?si.value:""}utils.extend(me.editor.options.autotypeset,opt);me.editor.setPreferences("autotypeset",opt)}AutoTypeSetButton.prototype={initAutoTypeSetButton:function(){var me=this;this.popup=new Popup({content:new AutoTypeSetPicker({editor:me.editor}),editor:me.editor,hide:function(){if(!this._hidden&&this.getDom()){getPara(this);this.getDom().style.display="none";this._hidden=true;this.fireEvent("hide")}}});var flag=0;this.popup.addListener("postRenderAfter",function(){var popupUI=this;if(flag){return}var cont=this.getDom(),btn=cont.getElementsByTagName("button")[0];btn.onclick=function(){getPara(popupUI);me.editor.execCommand("autotypeset");popupUI.hide()};domUtils.on(cont,"click",function(e){var target=e.target||e.srcElement,editorId=me.editor.uid;if(target&&target.tagName=="INPUT"){if(target.name=="imageBlockLine"||target.name=="textAlign"||target.name=="symbolConver"){var checked=target.checked,radioTd=document.getElementById(target.name+"Value"+editorId),radios=radioTd.getElementsByTagName("input"),defalutSelect={imageBlockLine:"none",textAlign:"left",symbolConver:"tobdc"};for(var i=0;i<radios.length;i++){if(checked){if(radios[i].value==defalutSelect[target.name]){radios[i].checked="checked"}}else{radios[i].checked=false}}}if(target.name==("imageBlockLineValue"+editorId)||target.name==("textAlignValue"+editorId)||target.name=="bdc"){var checkboxs=target.parentNode.previousSibling.getElementsByTagName("input");checkboxs&&(checkboxs[0].checked=true)}getPara(popupUI)}});flag=1});this.initSplitButton()}};utils.inherits(AutoTypeSetButton,SplitButton)})();(function(){var utils=baidu.editor.utils,Popup=baidu.editor.ui.Popup,Stateful=baidu.editor.ui.Stateful,UIBase=baidu.editor.ui.UIBase;var CellAlignPicker=baidu.editor.ui.CellAlignPicker=function(options){this.initOptions(options);this.initSelected();this.initCellAlignPicker()};CellAlignPicker.prototype={initSelected:function(){var status={valign:{top:0,middle:1,bottom:2},align:{left:0,center:1,right:2},count:3},result=-1;if(this.selected){this.selectedIndex=status.valign[this.selected.valign]*status.count+status.align[this.selected.align]}},initCellAlignPicker:function(){this.initUIBase();this.Stateful_init()},getHtmlTpl:function(){var alignType=["left","center","right"],COUNT=9,tempClassName=null,tempIndex=-1,tmpl=[];for(var i=0;i<COUNT;i++){tempClassName=this.selectedIndex===i?' class="edui-cellalign-selected" ':"";tempIndex=i%3;tempIndex===0&&tmpl.push("<tr>");tmpl.push('<td index="'+i+'" '+tempClassName+' stateful><div class="edui-icon edui-'+alignType[tempIndex]+'"></div></td>');tempIndex===2&&tmpl.push("</tr>")}return'<div id="##" class="edui-cellalignpicker %%"><div class="edui-cellalignpicker-body"><table onclick="$$._onClick(event);">'+tmpl.join("")+"</table></div></div>"},getStateDom:function(){return this.target},_onClick:function(evt){var target=evt.target||evt.srcElement;if(/icon/.test(target.className)){this.items[target.parentNode.getAttribute("index")].onclick();Popup.postHide(evt)}},_UIBase_render:UIBase.prototype.render};utils.inherits(CellAlignPicker,UIBase);utils.extend(CellAlignPicker.prototype,Stateful,true)})();(function(){var utils=baidu.editor.utils,Stateful=baidu.editor.ui.Stateful,uiUtils=baidu.editor.ui.uiUtils,UIBase=baidu.editor.ui.UIBase;var PastePicker=baidu.editor.ui.PastePicker=function(options){this.initOptions(options);this.initPastePicker()};PastePicker.prototype={initPastePicker:function(){this.initUIBase();this.Stateful_init()},getHtmlTpl:function(){return'<div class="edui-pasteicon" onclick="$$._onClick(this)"></div><div class="edui-pastecontainer"><div class="edui-title">'+this.editor.getLang("pasteOpt")+'</div><div class="edui-button"><div title="'+this.editor.getLang("pasteSourceFormat")+'" onclick="$$.format(false)" stateful><div class="edui-richtxticon"></div></div><div title="'+this.editor.getLang("tagFormat")+'" onclick="$$.format(2)" stateful><div class="edui-tagicon"></div></div><div title="'+this.editor.getLang("pasteTextFormat")+'" onclick="$$.format(true)" stateful><div class="edui-plaintxticon"></div></div></div></div></div>'},getStateDom:function(){return this.target},format:function(param){this.editor.ui._isTransfer=true;this.editor.fireEvent("pasteTransfer",param)},_onClick:function(cur){var node=domUtils.getNextDomNode(cur),screenHt=uiUtils.getViewportRect().height,subPop=uiUtils.getClientRect(node);if((subPop.top+subPop.height)>screenHt){node.style.top=(-subPop.height-cur.offsetHeight)+"px"}else{node.style.top=""}if(/hidden/ig.test(domUtils.getComputedStyle(node,"visibility"))){node.style.visibility="visible";domUtils.addClass(cur,"edui-state-opened")}else{node.style.visibility="hidden";domUtils.removeClasses(cur,"edui-state-opened")}},_UIBase_render:UIBase.prototype.render};utils.inherits(PastePicker,UIBase);utils.extend(PastePicker.prototype,Stateful,true)})();(function(){var utils=baidu.editor.utils,uiUtils=baidu.editor.ui.uiUtils,UIBase=baidu.editor.ui.UIBase,Toolbar=baidu.editor.ui.Toolbar=function(options){this.initOptions(options);this.initToolbar()};Toolbar.prototype={items:null,initToolbar:function(){this.items=this.items||[];this.initUIBase()},add:function(item,index){if(index===undefined){this.items.push(item)}else{this.items.splice(index,0,item)}},getHtmlTpl:function(){var buff=[];for(var i=0;i<this.items.length;i++){buff[i]=this.items[i].renderHtml()}return'<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">'+buff.join("")+"</div>"},postRender:function(){var box=this.getDom();for(var i=0;i<this.items.length;i++){this.items[i].postRender()}uiUtils.makeUnselectable(box)},_onMouseDown:function(e){var target=e.target||e.srcElement,tagName=target&&target.tagName&&target.tagName.toLowerCase();if(tagName=="input"||tagName=="object"||tagName=="object"){return false}}};utils.inherits(Toolbar,UIBase)})();(function(){var utils=baidu.editor.utils,domUtils=baidu.editor.dom.domUtils,uiUtils=baidu.editor.ui.uiUtils,UIBase=baidu.editor.ui.UIBase,Popup=baidu.editor.ui.Popup,Stateful=baidu.editor.ui.Stateful,CellAlignPicker=baidu.editor.ui.CellAlignPicker,Menu=baidu.editor.ui.Menu=function(options){this.initOptions(options);this.initMenu()};var menuSeparator={renderHtml:function(){return'<div class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner"></div></div>'},postRender:function(){},queryAutoHide:function(){return true}};Menu.prototype={items:null,uiName:"menu",initMenu:function(){this.items=this.items||[];this.initPopup();this.initItems()},initItems:function(){for(var i=0;i<this.items.length;i++){var item=this.items[i];if(item=="-"){this.items[i]=this.getSeparator()}else{if(!(item instanceof MenuItem)){item.editor=this.editor;item.theme=this.editor.options.theme;this.items[i]=this.createItem(item)}}}},getSeparator:function(){return menuSeparator},createItem:function(item){item.menu=this;return new MenuItem(item)},_Popup_getContentHtmlTpl:Popup.prototype.getContentHtmlTpl,getContentHtmlTpl:function(){if(this.items.length==0){return this._Popup_getContentHtmlTpl()}var buff=[];for(var i=0;i<this.items.length;i++){var item=this.items[i];buff[i]=item.renderHtml()}return('<div class="%%-body">'+buff.join("")+"</div>")},_Popup_postRender:Popup.prototype.postRender,postRender:function(){var me=this;for(var i=0;i<this.items.length;i++){var item=this.items[i];item.ownerMenu=this;item.postRender()}domUtils.on(this.getDom(),"mouseover",function(evt){evt=evt||event;var rel=evt.relatedTarget||evt.fromElement;var el=me.getDom();if(!uiUtils.contains(el,rel)&&el!==rel){me.fireEvent("over")}});this._Popup_postRender()},queryAutoHide:function(el){if(el){if(uiUtils.contains(this.getDom(),el)){return false}for(var i=0;i<this.items.length;i++){var item=this.items[i];if(item.queryAutoHide(el)===false){return false}}}},clearItems:function(){for(var i=0;i<this.items.length;i++){var item=this.items[i];clearTimeout(item._showingTimer);clearTimeout(item._closingTimer);if(item.subMenu){item.subMenu.destroy()}}this.items=[]},destroy:function(){if(this.getDom()){domUtils.remove(this.getDom())}this.clearItems()},dispose:function(){this.destroy()}};utils.inherits(Menu,Popup);var MenuItem=baidu.editor.ui.MenuItem=function(options){this.initOptions(options);this.initUIBase();this.Stateful_init();if(this.subMenu&&!(this.subMenu instanceof Menu)){if(options.className&&options.className.indexOf("aligntd")!=-1){var me=this;this.subMenu.selected=this.editor.queryCommandValue("cellalignment");this.subMenu=new Popup({content:new CellAlignPicker(this.subMenu),parentMenu:me,editor:me.editor,destroy:function(){if(this.getDom()){domUtils.remove(this.getDom())}}});this.subMenu.addListener("postRenderAfter",function(){domUtils.on(this.getDom(),"mouseover",function(){me.addState("opened")})})}else{this.subMenu=new Menu(this.subMenu)}}};MenuItem.prototype={label:"",subMenu:null,ownerMenu:null,uiName:"menuitem",alwalysHoverable:true,getHtmlTpl:function(){return'<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">'+this.renderLabelHtml()+"</div></div>"},postRender:function(){var me=this;this.addListener("over",function(){me.ownerMenu.fireEvent("submenuover",me);if(me.subMenu){me.delayShowSubMenu()}});if(this.subMenu){this.getDom().className+=" edui-hassubmenu";this.subMenu.render();this.addListener("out",function(){me.delayHideSubMenu()});this.subMenu.addListener("over",function(){clearTimeout(me._closingTimer);me._closingTimer=null;me.addState("opened")});this.ownerMenu.addListener("hide",function(){me.hideSubMenu()});this.ownerMenu.addListener("submenuover",function(t,subMenu){if(subMenu!==me){me.delayHideSubMenu()}});this.subMenu._bakQueryAutoHide=this.subMenu.queryAutoHide;this.subMenu.queryAutoHide=function(el){if(el&&uiUtils.contains(me.getDom(),el)){return false}return this._bakQueryAutoHide(el)}}this.getDom().style.tabIndex="-1";uiUtils.makeUnselectable(this.getDom());this.Stateful_postRender()},delayShowSubMenu:function(){var me=this;if(!me.isDisabled()){me.addState("opened");clearTimeout(me._showingTimer);clearTimeout(me._closingTimer);me._closingTimer=null;me._showingTimer=setTimeout(function(){me.showSubMenu()},250)}},delayHideSubMenu:function(){var me=this;if(!me.isDisabled()){me.removeState("opened");clearTimeout(me._showingTimer);if(!me._closingTimer){me._closingTimer=setTimeout(function(){if(!me.hasState("opened")){me.hideSubMenu()}me._closingTimer=null},400)}}},renderLabelHtml:function(){return'<div class="edui-arrow"></div><div class="edui-box edui-icon"></div><div class="edui-box edui-label %%-label">'+(this.label||"")+"</div>"},getStateDom:function(){return this.getDom()},queryAutoHide:function(el){if(this.subMenu&&this.hasState("opened")){return this.subMenu.queryAutoHide(el)}},_onClick:function(event,this_){if(this.hasState("disabled")){return}if(this.fireEvent("click",event,this_)!==false){if(this.subMenu){this.showSubMenu()}else{Popup.postHide(event)}}},showSubMenu:function(){var rect=uiUtils.getClientRect(this.getDom());rect.right-=5;rect.left+=2;rect.width-=7;rect.top-=4;rect.bottom+=4;rect.height+=8;this.subMenu.showAnchorRect(rect,true,true)},hideSubMenu:function(){this.subMenu.hide()}};utils.inherits(MenuItem,UIBase);utils.extend(MenuItem.prototype,Stateful,true)})();(function(){var utils=baidu.editor.utils,uiUtils=baidu.editor.ui.uiUtils,Menu=baidu.editor.ui.Menu,SplitButton=baidu.editor.ui.SplitButton,Combox=baidu.editor.ui.Combox=function(options){this.initOptions(options);this.initCombox()};Combox.prototype={uiName:"combox",onbuttonclick:function(){this.showPopup()},initCombox:function(){var me=this;this.items=this.items||[];for(var i=0;i<this.items.length;i++){var item=this.items[i];item.uiName="listitem";item.index=i;item.onclick=function(){me.selectByIndex(this.index)}}this.popup=new Menu({items:this.items,uiName:"list",editor:this.editor,captureWheel:true,combox:this});this.initSplitButton()},_SplitButton_postRender:SplitButton.prototype.postRender,postRender:function(){this._SplitButton_postRender();this.setLabel(this.label||"");this.setValue(this.initValue||"")},showPopup:function(){var rect=uiUtils.getClientRect(this.getDom());rect.top+=1;rect.bottom-=1;rect.height-=2;this.popup.showAnchorRect(rect)},getValue:function(){return this.value},setValue:function(value){var index=this.indexByValue(value);if(index!=-1){this.selectedIndex=index;this.setLabel(this.items[index].label);this.value=this.items[index].value}else{this.selectedIndex=-1;this.setLabel(this.getLabelForUnknowValue(value));this.value=value}},setLabel:function(label){this.getDom("button_body").innerHTML=label;this.label=label},getLabelForUnknowValue:function(value){return value},indexByValue:function(value){for(var i=0;i<this.items.length;i++){if(value==this.items[i].value){return i}}return -1},getItem:function(index){return this.items[index]},selectByIndex:function(index){if(index<this.items.length&&this.fireEvent("select",index)!==false){this.selectedIndex=index;this.value=this.items[index].value;this.setLabel(this.items[index].label)}}};utils.inherits(Combox,SplitButton)})();(function(){var utils=baidu.editor.utils,domUtils=baidu.editor.dom.domUtils,uiUtils=baidu.editor.ui.uiUtils,Mask=baidu.editor.ui.Mask,UIBase=baidu.editor.ui.UIBase,Button=baidu.editor.ui.Button,Dialog=baidu.editor.ui.Dialog=function(options){if(options.name){var name=options.name;var cssRules=options.cssRules;if(!options.className){options.className="edui-for-"+name}if(cssRules){options.cssRules=".edui-default .edui-for-"+name+" .edui-dialog-content  {"+cssRules+"}"}}this.initOptions(utils.extend({autoReset:true,draggable:true,onok:function(){},oncancel:function(){},onclose:function(t,ok){return ok?this.onok():this.oncancel()},holdScroll:false},options));this.initDialog()};var modalMask;var dragMask;var activeDialog;Dialog.prototype={draggable:false,uiName:"dialog",initDialog:function(){var me=this,theme=this.editor.options.theme;if(this.cssRules){utils.cssRule("edui-customize-"+this.name+"-style",this.cssRules)}this.initUIBase();this.modalMask=(modalMask||(modalMask=new Mask({className:"edui-dialog-modalmask",theme:theme,onclick:function(){activeDialog&&activeDialog.close(false)}})));this.dragMask=(dragMask||(dragMask=new Mask({className:"edui-dialog-dragmask",theme:theme})));this.closeButton=new Button({className:"edui-dialog-closebutton",title:me.closeDialog,theme:theme,onclick:function(){me.close(false)}});this.fullscreen&&this.initResizeEvent();if(this.buttons){for(var i=0;i<this.buttons.length;i++){if(!(this.buttons[i] instanceof Button)){this.buttons[i]=new Button(utils.extend(this.buttons[i],{editor:this.editor},true))}}}},initResizeEvent:function(){var me=this;domUtils.on(window,"resize",function(){if(me._hidden||me._hidden===undefined){return}if(me.__resizeTimer){window.clearTimeout(me.__resizeTimer)}me.__resizeTimer=window.setTimeout(function(){me.__resizeTimer=null;var dialogWrapNode=me.getDom(),contentNode=me.getDom("content"),wrapRect=UE.ui.uiUtils.getClientRect(dialogWrapNode),contentRect=UE.ui.uiUtils.getClientRect(contentNode),vpRect=uiUtils.getViewportRect();contentNode.style.width=(vpRect.width-wrapRect.width+contentRect.width)+"px";contentNode.style.height=(vpRect.height-wrapRect.height+contentRect.height)+"px";dialogWrapNode.style.width=vpRect.width+"px";dialogWrapNode.style.height=vpRect.height+"px";me.fireEvent("resize")},100)})},fitSize:function(){var popBodyEl=this.getDom("body");var size=this.mesureSize();popBodyEl.style.width=size.width+"px";popBodyEl.style.height=size.height+"px";return size},safeSetOffset:function(offset){var me=this;var el=me.getDom();var vpRect=uiUtils.getViewportRect();var rect=uiUtils.getClientRect(el);var left=offset.left;if(left+rect.width>vpRect.right){left=vpRect.right-rect.width}var top=offset.top;if(top+rect.height>vpRect.bottom){top=vpRect.bottom-rect.height}el.style.left=Math.max(left,0)+"px";el.style.top=Math.max(top,0)+"px"},showAtCenter:function(){var vpRect=uiUtils.getViewportRect();if(!this.fullscreen){this.getDom().style.display="";var popSize=this.fitSize();var titleHeight=this.getDom("titlebar").offsetHeight|0;var left=vpRect.width/2-popSize.width/2;var top=vpRect.height/2-(popSize.height-titleHeight)/2-titleHeight;var popEl=this.getDom();this.safeSetOffset({left:Math.max(left|0,0),top:Math.max(top|0,0)});if(!domUtils.hasClass(popEl,"edui-state-centered")){popEl.className+=" edui-state-centered"}}else{var dialogWrapNode=this.getDom(),contentNode=this.getDom("content");dialogWrapNode.style.display="block";var wrapRect=UE.ui.uiUtils.getClientRect(dialogWrapNode),contentRect=UE.ui.uiUtils.getClientRect(contentNode);dialogWrapNode.style.left="-100000px";contentNode.style.width=(vpRect.width-wrapRect.width+contentRect.width)+"px";contentNode.style.height=(vpRect.height-wrapRect.height+contentRect.height)+"px";dialogWrapNode.style.width=vpRect.width+"px";dialogWrapNode.style.height=vpRect.height+"px";dialogWrapNode.style.left=0;this._originalContext={html:{overflowX:document.documentElement.style.overflowX,overflowY:document.documentElement.style.overflowY},body:{overflowX:document.body.style.overflowX,overflowY:document.body.style.overflowY}};document.documentElement.style.overflowX="hidden";document.documentElement.style.overflowY="hidden";document.body.style.overflowX="hidden";document.body.style.overflowY="hidden"}this._show()},getContentHtml:function(){var contentHtml="";if(typeof this.content=="string"){contentHtml=this.content}else{if(this.iframeUrl){contentHtml='<span id="'+this.id+'_contmask" class="dialogcontmask"></span><iframe id="'+this.id+'_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="'+this.iframeUrl+'"></iframe>'}}return contentHtml},getHtmlTpl:function(){var footHtml="";if(this.buttons){var buff=[];for(var i=0;i<this.buttons.length;i++){buff[i]=this.buttons[i].renderHtml()}footHtml='<div class="%%-foot"><div id="##_buttons" class="%%-buttons">'+buff.join("")+"</div></div>"}return'<div id="##" class="%%"><div '+(!this.fullscreen?'class="%%"':'class="%%-wrap edui-dialog-fullscreen-flag"')+'><div id="##_body" class="%%-body"><div class="%%-shadow"></div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">'+(this.title||"")+"</span></div>"+this.closeButton.renderHtml()+'</div><div id="##_content" class="%%-content">'+(this.autoReset?"":this.getContentHtml())+"</div>"+footHtml+"</div></div></div>"},postRender:function(){if(!this.modalMask.getDom()){this.modalMask.render();this.modalMask.hide()}if(!this.dragMask.getDom()){this.dragMask.render();this.dragMask.hide()}var me=this;this.addListener("show",function(){me.modalMask.show(this.getDom().style.zIndex-2)});this.addListener("hide",function(){me.modalMask.hide()});if(this.buttons){for(var i=0;i<this.buttons.length;i++){this.buttons[i].postRender()}}domUtils.on(window,"resize",function(){setTimeout(function(){if(!me.isHidden()){me.safeSetOffset(uiUtils.getClientRect(me.getDom()))}})});this._hide()},mesureSize:function(){var body=this.getDom("body");var width=uiUtils.getClientRect(this.getDom("content")).width;var dialogBodyStyle=body.style;dialogBodyStyle.width=width;return uiUtils.getClientRect(body)},_onTitlebarMouseDown:function(evt,el){if(this.draggable){var rect;var vpRect=uiUtils.getViewportRect();var me=this;uiUtils.startDrag(evt,{ondragstart:function(){rect=uiUtils.getClientRect(me.getDom());me.getDom("contmask").style.visibility="visible";me.dragMask.show(me.getDom().style.zIndex-1)},ondragmove:function(x,y){var left=rect.left+x;var top=rect.top+y;me.safeSetOffset({left:left,top:top})},ondragstop:function(){me.getDom("contmask").style.visibility="hidden";domUtils.removeClasses(me.getDom(),["edui-state-centered"]);me.dragMask.hide()}})}},reset:function(){this.getDom("content").innerHTML=this.getContentHtml();this.fireEvent("dialogafterreset")},_show:function(){if(this._hidden){this.getDom().style.display="";this.editor.container.style.zIndex&&(this.getDom().style.zIndex=this.editor.container.style.zIndex*1+10);this._hidden=false;this.fireEvent("show");baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=this.getDom().style.zIndex-4}},isHidden:function(){return this._hidden},_hide:function(){if(!this._hidden){var wrapNode=this.getDom();wrapNode.style.display="none";wrapNode.style.zIndex="";wrapNode.style.width="";wrapNode.style.height="";this._hidden=true;this.fireEvent("hide")}},open:function(){if(this.autoReset){try{this.reset()}catch(e){this.render();this.open()}}this.showAtCenter();if(this.iframeUrl){try{this.getDom("iframe").focus()}catch(ex){}}activeDialog=this},_onCloseButtonClick:function(evt,el){this.close(false)},close:function(ok){if(this.fireEvent("close",ok)!==false){if(this.fullscreen){document.documentElement.style.overflowX=this._originalContext.html.overflowX;document.documentElement.style.overflowY=this._originalContext.html.overflowY;document.body.style.overflowX=this._originalContext.body.overflowX;document.body.style.overflowY=this._originalContext.body.overflowY;delete this._originalContext}this._hide();var content=this.getDom("content");var iframe=this.getDom("iframe");if(content&&iframe){var doc=iframe.contentDocument||iframe.contentWindow.document;doc&&(doc.body.innerHTML="");domUtils.remove(content)}}}};utils.inherits(Dialog,UIBase)})();(function(){var utils=baidu.editor.utils,Menu=baidu.editor.ui.Menu,SplitButton=baidu.editor.ui.SplitButton,MenuButton=baidu.editor.ui.MenuButton=function(options){this.initOptions(options);this.initMenuButton()};MenuButton.prototype={initMenuButton:function(){var me=this;this.uiName="menubutton";this.popup=new Menu({items:me.items,className:me.className,editor:me.editor});this.popup.addListener("show",function(){var list=this;for(var i=0;i<list.items.length;i++){list.items[i].removeState("checked");if(list.items[i].value==me._value){list.items[i].addState("checked");this.value=me._value}}});this.initSplitButton()},setValue:function(value){this._value=value}};utils.inherits(MenuButton,SplitButton)})();(function(){var utils=baidu.editor.utils,Popup=baidu.editor.ui.Popup,SplitButton=baidu.editor.ui.SplitButton,MultiMenuPop=baidu.editor.ui.MultiMenuPop=function(options){this.initOptions(options);this.initMultiMenu()};MultiMenuPop.prototype={initMultiMenu:function(){var me=this;this.popup=new Popup({content:"",editor:me.editor,iframe_rendered:false,onshow:function(){if(!this.iframe_rendered){this.iframe_rendered=true;this.getDom("content").innerHTML='<iframe id="'+me.id+'_iframe" src="'+me.iframeUrl+'" frameborder="0"></iframe>';me.editor.container.style.zIndex&&(this.getDom().style.zIndex=me.editor.container.style.zIndex*1+1)}}});this.onbuttonclick=function(){this.showPopup()};this.initSplitButton()}};utils.inherits(MultiMenuPop,SplitButton)})();(function(){var UI=baidu.editor.ui,UIBase=UI.UIBase,uiUtils=UI.uiUtils,utils=baidu.editor.utils,domUtils=baidu.editor.dom.domUtils;var allMenus=[],timeID,isSubMenuShow=false;var ShortCutMenu=UI.ShortCutMenu=function(options){this.initOptions(options);this.initShortCutMenu()};ShortCutMenu.postHide=hideAllMenu;ShortCutMenu.prototype={isHidden:true,SPACE:5,initShortCutMenu:function(){this.items=this.items||[];this.initUIBase();this.initItems();this.initEvent();allMenus.push(this)},initEvent:function(){var me=this,doc=me.editor.document;domUtils.on(doc,"mousemove",function(e){if(me.isHidden===false){if(me.getSubMenuMark()||me.eventType=="contextmenu"){return}var flag=true,el=me.getDom(),wt=el.offsetWidth,ht=el.offsetHeight,distanceX=wt/2+me.SPACE,distanceY=ht/2,x=Math.abs(e.screenX-me.left),y=Math.abs(e.screenY-me.top);clearTimeout(timeID);timeID=setTimeout(function(){if(y>0&&y<distanceY){me.setOpacity(el,"1")}else{if(y>distanceY&&y<distanceY+70){me.setOpacity(el,"0.5");flag=false}else{if(y>distanceY+70&&y<distanceY+140){me.hide()}}}if(flag&&x>0&&x<distanceX){me.setOpacity(el,"1")}else{if(x>distanceX&&x<distanceX+70){me.setOpacity(el,"0.5")}else{if(x>distanceX+70&&x<distanceX+140){me.hide()}}}})}});if(browser.chrome){domUtils.on(doc,"mouseout",function(e){var relatedTgt=e.relatedTarget||e.toElement;if(relatedTgt==null||relatedTgt.tagName=="HTML"){me.hide()}})}me.editor.addListener("afterhidepop",function(){if(!me.isHidden){isSubMenuShow=true}})},initItems:function(){if(utils.isArray(this.items)){for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i].toLowerCase();if(UI[item]){this.items[i]=new UI[item](this.editor);this.items[i].className+=" edui-shortcutsubmenu "}}}},setOpacity:function(el,value){if(browser.ie&&browser.version<9){el.style.filter="alpha(opacity = "+parseFloat(value)*100+");"}else{el.style.opacity=value}},getSubMenuMark:function(){isSubMenuShow=false;var layerEle=uiUtils.getFixedLayer();var list=domUtils.getElementsByTagName(layerEle,"div",function(node){return domUtils.hasClass(node,"edui-shortcutsubmenu edui-popup")});for(var i=0,node;node=list[i++];){if(node.style.display!="none"){isSubMenuShow=true}}return isSubMenuShow},show:function(e,hasContextmenu){var me=this,offset={},el=this.getDom(),fixedlayer=uiUtils.getFixedLayer();function setPos(offset){if(offset.left<0){offset.left=0}if(offset.top<0){offset.top=0}el.style.cssText="position:absolute;left:"+offset.left+"px;top:"+offset.top+"px;"}function setPosByCxtMenu(menu){if(!menu.tagName){menu=menu.getDom()}offset.left=parseInt(menu.style.left);offset.top=parseInt(menu.style.top);offset.top-=el.offsetHeight+15;setPos(offset)}me.eventType=e.type;el.style.cssText="display:block;left:-9999px";if(e.type=="contextmenu"&&hasContextmenu){var menu=domUtils.getElementsByTagName(fixedlayer,"div","edui-contextmenu")[0];if(menu){setPosByCxtMenu(menu)}else{me.editor.addListener("aftershowcontextmenu",function(type,menu){setPosByCxtMenu(menu)})}}else{offset=uiUtils.getViewportOffsetByEvent(e);offset.top-=el.offsetHeight+me.SPACE;offset.left+=me.SPACE+20;setPos(offset);me.setOpacity(el,0.2)}me.isHidden=false;me.left=e.screenX+el.offsetWidth/2-me.SPACE;me.top=e.screenY-(el.offsetHeight/2)-me.SPACE;if(me.editor){el.style.zIndex=me.editor.container.style.zIndex*1+10;fixedlayer.style.zIndex=el.style.zIndex-1}},hide:function(){if(this.getDom()){this.getDom().style.display="none"}this.isHidden=true},postRender:function(){if(utils.isArray(this.items)){for(var i=0,item;item=this.items[i++];){item.postRender()}}},getHtmlTpl:function(){var buff;if(utils.isArray(this.items)){buff=[];for(var i=0;i<this.items.length;i++){buff[i]=this.items[i].renderHtml()}buff=buff.join("")}else{buff=this.items}return'<div id="##" class="%% edui-toolbar" data-src="shortcutmenu" onmousedown="return false;" onselectstart="return false;" >'+buff+"</div>"}};utils.inherits(ShortCutMenu,UIBase);function hideAllMenu(e){var tgt=e.target||e.srcElement,cur=domUtils.findParent(tgt,function(node){return domUtils.hasClass(node,"edui-shortcutmenu")||domUtils.hasClass(node,"edui-popup")},true);if(!cur){for(var i=0,menu;menu=allMenus[i++];){menu.hide()}}}domUtils.on(document,"mousedown",function(e){hideAllMenu(e)});domUtils.on(window,"scroll",function(e){hideAllMenu(e)})})();(function(){var utils=baidu.editor.utils,UIBase=baidu.editor.ui.UIBase,Breakline=baidu.editor.ui.Breakline=function(options){this.initOptions(options);this.initSeparator()};Breakline.prototype={uiName:"Breakline",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return"<br/>"}};utils.inherits(Breakline,UIBase)})();(function(){var utils=baidu.editor.utils,domUtils=baidu.editor.dom.domUtils,UIBase=baidu.editor.ui.UIBase,Message=baidu.editor.ui.Message=function(options){this.initOptions(options);this.initMessage()};Message.prototype={initMessage:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-message %%"> <div id="##_closer" class="edui-message-closer">×</div> <div id="##_body" class="edui-message-body edui-message-type-info"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-message-content">  </div> </div></div>'},reset:function(opt){var me=this;if(!opt.keepshow){clearTimeout(this.timer);me.timer=setTimeout(function(){me.hide()},opt.timeout||4000)}opt.content!==undefined&&me.setContent(opt.content);opt.type!==undefined&&me.setType(opt.type);me.show()},postRender:function(){var me=this,closer=this.getDom("closer");closer&&domUtils.on(closer,"click",function(){me.hide()})},setContent:function(content){this.getDom("content").innerHTML=content},setType:function(type){type=type||"info";var body=this.getDom("body");body.className=body.className.replace(/edui-message-type-[\w-]+/,"edui-message-type-"+type)},getContent:function(){return this.getDom("content").innerHTML},getType:function(){var arr=this.getDom("body").match(/edui-message-type-([\w-]+)/);return arr?arr[1]:""},show:function(){this.getDom().style.display="block"},hide:function(){var dom=this.getDom();if(dom){dom.style.display="none";dom.parentNode&&dom.parentNode.removeChild(dom)}}};utils.inherits(Message,UIBase)})();(function(){var utils=baidu.editor.utils;var editorui=baidu.editor.ui;var _Dialog=editorui.Dialog;editorui.buttons={};editorui.Dialog=function(options){var dialog=new _Dialog(options);dialog.addListener("hide",function(){if(dialog.editor){var editor=dialog.editor;try{if(browser.gecko){var y=editor.window.scrollY,x=editor.window.scrollX;editor.body.focus();editor.window.scrollTo(x,y)}else{editor.focus()}}catch(ex){}}});return dialog};var iframeUrlMap={anchor:"~/dialogs/anchor/anchor.html",insertimage:"~/dialogs/image/image.html",link:"~/dialogs/link/link.html",spechars:"~/dialogs/spechars/spechars.html",searchreplace:"~/dialogs/searchreplace/searchreplace.html",map:"~/dialogs/map/map.html",gmap:"~/dialogs/gmap/gmap.html",insertvideo:"~/dialogs/video/video.html",help:"~/dialogs/help/help.html",preview:"~/dialogs/preview/preview.html",emotion:"~/dialogs/emotion/emotion.html",wordimage:"~/dialogs/wordimage/wordimage.html",attachment:"~/dialogs/attachment/attachment.html",insertframe:"~/dialogs/insertframe/insertframe.html",edittip:"~/dialogs/table/edittip.html",edittable:"~/dialogs/table/edittable.html",edittd:"~/dialogs/table/edittd.html",webapp:"~/dialogs/webapp/webapp.html",snapscreen:"~/dialogs/snapscreen/snapscreen.html",scrawl:"~/dialogs/scrawl/scrawl.html",music:"~/dialogs/music/music.html",template:"~/dialogs/template/template.html",background:"~/dialogs/background/background.html",charts:"~/dialogs/charts/charts.html"};var btnCmds=["undo","redo","formatmatch","bold","italic","underline","fontborder","touppercase","tolowercase","strikethrough","subscript","superscript","source","indent","outdent","blockquote","pasteplain","pagebreak","selectall","print","horizontal","removeformat","time","date","unlink","insertparagraphbeforetable","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","mergecells","deletetable","drafts"];for(var i=0,ci;ci=btnCmds[i++];){ci=ci.toLowerCase();editorui[ci]=function(cmd){return function(editor){var ui=new editorui.Button({className:"edui-for-"+cmd,title:editor.options.labelMap[cmd]||editor.getLang("labelMap."+cmd)||"",onclick:function(){editor.execCommand(cmd)},theme:editor.options.theme,showText:false});editorui.buttons[cmd]=ui;editor.addListener("selectionchange",function(type,causeByUi,uiReady){var state=editor.queryCommandState(cmd);if(state==-1){ui.setDisabled(true);ui.setChecked(false)}else{if(!uiReady){ui.setDisabled(false);ui.setChecked(state)}}});return ui}}(ci)}editorui.cleardoc=function(editor){var ui=new editorui.Button({className:"edui-for-cleardoc",title:editor.options.labelMap.cleardoc||editor.getLang("labelMap.cleardoc")||"",theme:editor.options.theme,onclick:function(){if(confirm(editor.getLang("confirmClear"))){editor.execCommand("cleardoc")}}});editorui.buttons.cleardoc=ui;editor.addListener("selectionchange",function(){ui.setDisabled(editor.queryCommandState("cleardoc")==-1)});return ui};var typeset={justify:["left","right","center","justify"],imagefloat:["none","left","center","right"],directionality:["ltr","rtl"]};for(var p in typeset){(function(cmd,val){for(var i=0,ci;ci=val[i++];){(function(cmd2){editorui[cmd.replace("float","")+cmd2]=function(editor){var ui=new editorui.Button({className:"edui-for-"+cmd.replace("float","")+cmd2,title:editor.options.labelMap[cmd.replace("float","")+cmd2]||editor.getLang("labelMap."+cmd.replace("float","")+cmd2)||"",theme:editor.options.theme,onclick:function(){editor.execCommand(cmd,cmd2)}});editorui.buttons[cmd]=ui;editor.addListener("selectionchange",function(type,causeByUi,uiReady){ui.setDisabled(editor.queryCommandState(cmd)==-1);ui.setChecked(editor.queryCommandValue(cmd)==cmd2&&!uiReady)});return ui}})(ci)}})(p,typeset[p])}for(var i=0,ci;ci=["backcolor","forecolor"][i++];){editorui[ci]=function(cmd){return function(editor){var ui=new editorui.ColorButton({className:"edui-for-"+cmd,color:"default",title:editor.options.labelMap[cmd]||editor.getLang("labelMap."+cmd)||"",editor:editor,onpickcolor:function(t,color){editor.execCommand(cmd,color)},onpicknocolor:function(){editor.execCommand(cmd,"default");this.setColor("transparent");this.color="default"},onbuttonclick:function(){editor.execCommand(cmd,this.color)}});editorui.buttons[cmd]=ui;editor.addListener("selectionchange",function(){ui.setDisabled(editor.queryCommandState(cmd)==-1)});return ui}}(ci)}var dialogBtns={noOk:["searchreplace","help","spechars","webapp","preview"],ok:["attachment","anchor","link","insertimage","map","gmap","insertframe","wordimage","insertvideo","insertframe","edittip","edittable","edittd","scrawl","template","music","background","charts"]};for(var p in dialogBtns){(function(type,vals){for(var i=0,ci;ci=vals[i++];){if(browser.opera&&ci==="searchreplace"){continue}(function(cmd){editorui[cmd]=function(editor,iframeUrl,title){iframeUrl=iframeUrl||(editor.options.iframeUrlMap||{})[cmd]||iframeUrlMap[cmd];title=editor.options.labelMap[cmd]||editor.getLang("labelMap."+cmd)||"";var dialog;if(iframeUrl){dialog=new editorui.Dialog(utils.extend({iframeUrl:editor.ui.mapUrl(iframeUrl),editor:editor,className:"edui-for-"+cmd,title:title,holdScroll:cmd==="insertimage",fullscreen:/charts|preview/.test(cmd),closeDialog:editor.getLang("closeDialog")},type=="ok"?{buttons:[{className:"edui-okbutton",label:editor.getLang("ok"),editor:editor,onclick:function(){dialog.close(true)}},{className:"edui-cancelbutton",label:editor.getLang("cancel"),editor:editor,onclick:function(){dialog.close(false)}}]}:{}));editor.ui._dialogs[cmd+"Dialog"]=dialog}var ui=new editorui.Button({className:"edui-for-"+cmd,title:title,onclick:function(){if(dialog){switch(cmd){case"wordimage":var images=editor.execCommand("wordimage");if(images&&images.length){dialog.render();dialog.open()}break;case"scrawl":if(editor.queryCommandState("scrawl")!=-1){dialog.render();dialog.open()}break;default:dialog.render();dialog.open()}}},theme:editor.options.theme,disabled:(cmd=="scrawl"&&editor.queryCommandState("scrawl")==-1)||(cmd=="charts")});editorui.buttons[cmd]=ui;editor.addListener("selectionchange",function(){var unNeedCheckState={edittable:1};if(cmd in unNeedCheckState){return}var state=editor.queryCommandState(cmd);if(ui.getDom()){ui.setDisabled(state==-1);ui.setChecked(state)}});return ui}})(ci.toLowerCase())}})(p,dialogBtns[p])}editorui.snapscreen=function(editor,iframeUrl,title){title=editor.options.labelMap.snapscreen||editor.getLang("labelMap.snapscreen")||"";var ui=new editorui.Button({className:"edui-for-snapscreen",title:title,onclick:function(){editor.execCommand("snapscreen")},theme:editor.options.theme});editorui.buttons.snapscreen=ui;iframeUrl=iframeUrl||(editor.options.iframeUrlMap||{})["snapscreen"]||iframeUrlMap.snapscreen;if(iframeUrl){var dialog=new editorui.Dialog({iframeUrl:editor.ui.mapUrl(iframeUrl),editor:editor,className:"edui-for-snapscreen",title:title,buttons:[{className:"edui-okbutton",label:editor.getLang("ok"),editor:editor,onclick:function(){dialog.close(true)}},{className:"edui-cancelbutton",label:editor.getLang("cancel"),editor:editor,onclick:function(){dialog.close(false)}}]});dialog.render();editor.ui._dialogs.snapscreenDialog=dialog}editor.addListener("selectionchange",function(){ui.setDisabled(editor.queryCommandState("snapscreen")==-1)});return ui};editorui.insertcode=function(editor,list,title){list=editor.options.insertcode||[];title=editor.options.labelMap.insertcode||editor.getLang("labelMap.insertcode")||"";var items=[];utils.each(list,function(key,val){items.push({label:key,value:val,theme:editor.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" >'+(this.label||"")+"</div>"}})});var ui=new editorui.Combox({editor:editor,items:items,onselect:function(t,index){editor.execCommand("insertcode",this.items[index].value)},onbuttonclick:function(){this.showPopup()},title:title,initValue:title,className:"edui-for-insertcode",indexByValue:function(value){if(value){for(var i=0,ci;ci=this.items[i];i++){if(ci.value.indexOf(value)!=-1){return i}}}return -1}});editorui.buttons.insertcode=ui;editor.addListener("selectionchange",function(type,causeByUi,uiReady){if(!uiReady){var state=editor.queryCommandState("insertcode");if(state==-1){ui.setDisabled(true)}else{ui.setDisabled(false);var value=editor.queryCommandValue("insertcode");if(!value){ui.setValue(title);return}value&&(value=value.replace(/['"]/g,"").split(",")[0]);ui.setValue(value)}}});return ui};editorui.fontfamily=function(editor,list,title){list=editor.options.fontfamily||[];title=editor.options.labelMap.fontfamily||editor.getLang("labelMap.fontfamily")||"";if(!list.length){return}for(var i=0,ci,items=[];ci=list[i];i++){var langLabel=editor.getLang("fontfamily")[ci.name]||"";(function(key,val){items.push({label:key,value:val,theme:editor.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="font-family:'+utils.unhtml(this.value)+'">'+(this.label||"")+"</div>"}})})(ci.label||langLabel,ci.val)}var ui=new editorui.Combox({editor:editor,items:items,onselect:function(t,index){editor.execCommand("FontFamily",this.items[index].value)},onbuttonclick:function(){this.showPopup()},title:title,initValue:title,className:"edui-for-fontfamily",indexByValue:function(value){if(value){for(var i=0,ci;ci=this.items[i];i++){if(ci.value.indexOf(value)!=-1){return i}}}return -1}});editorui.buttons.fontfamily=ui;editor.addListener("selectionchange",function(type,causeByUi,uiReady){if(!uiReady){var state=editor.queryCommandState("FontFamily");if(state==-1){ui.setDisabled(true)}else{ui.setDisabled(false);var value=editor.queryCommandValue("FontFamily");value&&(value=value.replace(/['"]/g,"").split(",")[0]);ui.setValue(value)}}});return ui};editorui.fontsize=function(editor,list,title){title=editor.options.labelMap.fontsize||editor.getLang("labelMap.fontsize")||"";list=list||editor.options.fontsize||[];if(!list.length){return}var items=[];for(var i=0;i<list.length;i++){var size=list[i]+"px";items.push({label:size,value:size,theme:editor.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="line-height:1;font-size:'+this.value+'">'+(this.label||"")+"</div>"}})}var ui=new editorui.Combox({editor:editor,items:items,title:title,initValue:title,onselect:function(t,index){editor.execCommand("FontSize",this.items[index].value)},onbuttonclick:function(){this.showPopup()},className:"edui-for-fontsize"});editorui.buttons.fontsize=ui;editor.addListener("selectionchange",function(type,causeByUi,uiReady){if(!uiReady){var state=editor.queryCommandState("FontSize");if(state==-1){ui.setDisabled(true)}else{ui.setDisabled(false);ui.setValue(editor.queryCommandValue("FontSize"))}}});return ui};editorui.paragraph=function(editor,list,title){title=editor.options.labelMap.paragraph||editor.getLang("labelMap.paragraph")||"";list=editor.options.paragraph||[];if(utils.isEmptyObject(list)){return}var items=[];for(var i in list){items.push({value:i,label:list[i]||editor.getLang("paragraph")[i],theme:editor.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><span class="edui-for-'+this.value+'">'+(this.label||"")+"</span></div>"}})}var ui=new editorui.Combox({editor:editor,items:items,title:title,initValue:title,className:"edui-for-paragraph",onselect:function(t,index){editor.execCommand("Paragraph",this.items[index].value)},onbuttonclick:function(){this.showPopup()}});editorui.buttons.paragraph=ui;editor.addListener("selectionchange",function(type,causeByUi,uiReady){if(!uiReady){var state=editor.queryCommandState("Paragraph");if(state==-1){ui.setDisabled(true)}else{ui.setDisabled(false);var value=editor.queryCommandValue("Paragraph");var index=ui.indexByValue(value);if(index!=-1){ui.setValue(value)}else{ui.setValue(ui.initValue)}}}});return ui};editorui.customstyle=function(editor){var list=editor.options.customstyle||[],title=editor.options.labelMap.customstyle||editor.getLang("labelMap.customstyle")||"";if(!list.length){return}var langCs=editor.getLang("customstyle");for(var i=0,items=[],t;t=list[i++];){(function(t){var ck={};ck.label=t.label?t.label:langCs[t.name];ck.style=t.style;ck.className=t.className;ck.tag=t.tag;items.push({label:ck.label,value:ck,theme:editor.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><'+ck.tag+" "+(ck.className?' class="'+ck.className+'"':"")+(ck.style?' style="'+ck.style+'"':"")+">"+ck.label+"</"+ck.tag+"></div>"}})})(t)}var ui=new editorui.Combox({editor:editor,items:items,title:title,initValue:title,className:"edui-for-customstyle",onselect:function(t,index){editor.execCommand("customstyle",this.items[index].value)},onbuttonclick:function(){this.showPopup()},indexByValue:function(value){for(var i=0,ti;ti=this.items[i++];){if(ti.label==value){return i-1}}return -1}});editorui.buttons.customstyle=ui;editor.addListener("selectionchange",function(type,causeByUi,uiReady){if(!uiReady){var state=editor.queryCommandState("customstyle");if(state==-1){ui.setDisabled(true)}else{ui.setDisabled(false);var value=editor.queryCommandValue("customstyle");var index=ui.indexByValue(value);if(index!=-1){ui.setValue(value)}else{ui.setValue(ui.initValue)}}}});return ui};editorui.inserttable=function(editor,iframeUrl,title){title=editor.options.labelMap.inserttable||editor.getLang("labelMap.inserttable")||"";var ui=new editorui.TableButton({editor:editor,title:title,className:"edui-for-inserttable",onpicktable:function(t,numCols,numRows){editor.execCommand("InsertTable",{numRows:numRows,numCols:numCols,border:1})},onbuttonclick:function(){this.showPopup()}});editorui.buttons.inserttable=ui;editor.addListener("selectionchange",function(){ui.setDisabled(editor.queryCommandState("inserttable")==-1)});return ui};editorui.lineheight=function(editor){var val=editor.options.lineheight||[];if(!val.length){return}for(var i=0,ci,items=[];ci=val[i++];){items.push({label:ci,value:ci,theme:editor.options.theme,onclick:function(){editor.execCommand("lineheight",this.value)}})}var ui=new editorui.MenuButton({editor:editor,className:"edui-for-lineheight",title:editor.options.labelMap.lineheight||editor.getLang("labelMap.lineheight")||"",items:items,onbuttonclick:function(){var value=editor.queryCommandValue("LineHeight")||this.value;editor.execCommand("LineHeight",value)}});editorui.buttons.lineheight=ui;editor.addListener("selectionchange",function(){var state=editor.queryCommandState("LineHeight");if(state==-1){ui.setDisabled(true)}else{ui.setDisabled(false);var value=editor.queryCommandValue("LineHeight");value&&ui.setValue((value+"").replace(/cm/,""));ui.setChecked(state)}});return ui};var rowspacings=["top","bottom"];for(var r=0,ri;ri=rowspacings[r++];){(function(cmd){editorui["rowspacing"+cmd]=function(editor){var val=editor.options["rowspacing"+cmd]||[];if(!val.length){return null}for(var i=0,ci,items=[];ci=val[i++];){items.push({label:ci,value:ci,theme:editor.options.theme,onclick:function(){editor.execCommand("rowspacing",this.value,cmd)}})}var ui=new editorui.MenuButton({editor:editor,className:"edui-for-rowspacing"+cmd,title:editor.options.labelMap["rowspacing"+cmd]||editor.getLang("labelMap.rowspacing"+cmd)||"",items:items,onbuttonclick:function(){var value=editor.queryCommandValue("rowspacing",cmd)||this.value;editor.execCommand("rowspacing",value,cmd)}});editorui.buttons[cmd]=ui;editor.addListener("selectionchange",function(){var state=editor.queryCommandState("rowspacing",cmd);if(state==-1){ui.setDisabled(true)}else{ui.setDisabled(false);var value=editor.queryCommandValue("rowspacing",cmd);value&&ui.setValue((value+"").replace(/%/,""));ui.setChecked(state)}});return ui}})(ri)}var lists=["insertorderedlist","insertunorderedlist"];for(var l=0,cl;cl=lists[l++];){(function(cmd){editorui[cmd]=function(editor){var vals=editor.options[cmd],_onMenuClick=function(){editor.execCommand(cmd,this.value)},items=[];for(var i in vals){items.push({label:vals[i]||editor.getLang()[cmd][i]||"",value:i,theme:editor.options.theme,onclick:_onMenuClick})}var ui=new editorui.MenuButton({editor:editor,className:"edui-for-"+cmd,title:editor.getLang("labelMap."+cmd)||"",items:items,onbuttonclick:function(){var value=editor.queryCommandValue(cmd)||this.value;editor.execCommand(cmd,value)}});editorui.buttons[cmd]=ui;editor.addListener("selectionchange",function(){var state=editor.queryCommandState(cmd);if(state==-1){ui.setDisabled(true)}else{ui.setDisabled(false);var value=editor.queryCommandValue(cmd);ui.setValue(value);ui.setChecked(state)}});return ui}})(cl)}editorui.fullscreen=function(editor,title){title=editor.options.labelMap.fullscreen||editor.getLang("labelMap.fullscreen")||"";var ui=new editorui.Button({className:"edui-for-fullscreen",title:title,theme:editor.options.theme,onclick:function(){if(editor.ui){editor.ui.setFullScreen(!editor.ui.isFullScreen())}this.setChecked(editor.ui.isFullScreen())}});editorui.buttons.fullscreen=ui;editor.addListener("selectionchange",function(){var state=editor.queryCommandState("fullscreen");ui.setDisabled(state==-1);ui.setChecked(editor.ui.isFullScreen())});return ui};editorui.emotion=function(editor,iframeUrl){var cmd="emotion";var ui=new editorui.MultiMenuPop({title:editor.options.labelMap[cmd]||editor.getLang("labelMap."+cmd+"")||"",editor:editor,className:"edui-for-"+cmd,iframeUrl:editor.ui.mapUrl(iframeUrl||(editor.options.iframeUrlMap||{})[cmd]||iframeUrlMap[cmd])});editorui.buttons[cmd]=ui;editor.addListener("selectionchange",function(){ui.setDisabled(editor.queryCommandState(cmd)==-1)});return ui};editorui.autotypeset=function(editor){var ui=new editorui.AutoTypeSetButton({editor:editor,title:editor.options.labelMap.autotypeset||editor.getLang("labelMap.autotypeset")||"",className:"edui-for-autotypeset",onbuttonclick:function(){editor.execCommand("autotypeset")}});editorui.buttons.autotypeset=ui;editor.addListener("selectionchange",function(){ui.setDisabled(editor.queryCommandState("autotypeset")==-1)});return ui};editorui.simpleupload=function(editor){var name="simpleupload",ui=new editorui.Button({className:"edui-for-"+name,title:editor.options.labelMap[name]||editor.getLang("labelMap."+name)||"",onclick:function(){},theme:editor.options.theme,showText:false});editorui.buttons[name]=ui;editor.addListener("ready",function(){var b=ui.getDom("body"),iconSpan=b.children[0];editor.fireEvent("simpleuploadbtnready",iconSpan)});editor.addListener("selectionchange",function(type,causeByUi,uiReady){var state=editor.queryCommandState(name);if(state==-1){ui.setDisabled(true);ui.setChecked(false)}else{if(!uiReady){ui.setDisabled(false);ui.setChecked(state)}}});return ui}})();(function(){var utils=baidu.editor.utils,uiUtils=baidu.editor.ui.uiUtils,UIBase=baidu.editor.ui.UIBase,domUtils=baidu.editor.dom.domUtils;var nodeStack=[];function EditorUI(options){this.initOptions(options);this.initEditorUI()}EditorUI.prototype={uiName:"editor",initEditorUI:function(){this.editor.ui=this;this._dialogs={};this.initUIBase();this._initToolbars();var editor=this.editor,me=this;editor.addListener("ready",function(){editor.getDialog=function(name){return editor.ui._dialogs[name+"Dialog"]};domUtils.on(editor.window,"scroll",function(evt){baidu.editor.ui.Popup.postHide(evt)});editor.ui._actualFrameWidth=editor.options.initialFrameWidth;UE.browser.ie&&UE.browser.version===6&&editor.container.ownerDocument.execCommand("BackgroundImageCache",false,true);if(editor.options.elementPathEnabled){editor.ui.getDom("elementpath").innerHTML='<div class="edui-editor-breadcrumb">'+editor.getLang("elementPathTip")+":</div>"}if(editor.options.wordCount){function countFn(){setCount(editor,me);domUtils.un(editor.document,"click",arguments.callee)}domUtils.on(editor.document,"click",countFn);editor.ui.getDom("wordcount").innerHTML=editor.getLang("wordCountTip")}editor.ui._scale();if(editor.options.scaleEnabled){if(editor.autoHeightEnabled){editor.disableAutoHeight()}me.enableScale()}else{me.disableScale()}if(!editor.options.elementPathEnabled&&!editor.options.wordCount&&!editor.options.scaleEnabled){editor.ui.getDom("elementpath").style.display="none";editor.ui.getDom("wordcount").style.display="none";editor.ui.getDom("scale").style.display="none"}if(!editor.selection.isFocus()){return}editor.fireEvent("selectionchange",false,true)});editor.addListener("mousedown",function(t,evt){var el=evt.target||evt.srcElement;baidu.editor.ui.Popup.postHide(evt,el);baidu.editor.ui.ShortCutMenu.postHide(evt)});editor.addListener("delcells",function(){if(UE.ui.edittip){new UE.ui.edittip(editor)}editor.getDialog("edittip").open()});var pastePop,isPaste=false,timer;editor.addListener("afterpaste",function(){if(editor.queryCommandState("pasteplain")){return}if(baidu.editor.ui.PastePicker){pastePop=new baidu.editor.ui.Popup({content:new baidu.editor.ui.PastePicker({editor:editor}),editor:editor,className:"edui-wordpastepop"});pastePop.render()}isPaste=true});editor.addListener("afterinserthtml",function(){clearTimeout(timer);timer=setTimeout(function(){if(pastePop&&(isPaste||editor.ui._isTransfer)){if(pastePop.isHidden()){var span=domUtils.createElement(editor.document,"span",{style:"line-height:0px;",innerHTML:"\ufeff"}),range=editor.selection.getRange();range.insertNode(span);var tmp=getDomNode(span,"firstChild","previousSibling");tmp&&pastePop.showAnchor(tmp.nodeType==3?tmp.parentNode:tmp);domUtils.remove(span)}else{pastePop.show()}delete editor.ui._isTransfer;isPaste=false}},200)});editor.addListener("contextmenu",function(t,evt){baidu.editor.ui.Popup.postHide(evt)});editor.addListener("keydown",function(t,evt){if(pastePop){pastePop.dispose(evt)}var keyCode=evt.keyCode||evt.which;if(evt.altKey&&keyCode==90){UE.ui.buttons.fullscreen.onclick()}});editor.addListener("wordcount",function(type){setCount(this,me)});function setCount(editor,ui){editor.setOpt({wordCount:true,maximumWords:10000,wordCountMsg:editor.options.wordCountMsg||editor.getLang("wordCountMsg"),wordOverFlowMsg:editor.options.wordOverFlowMsg||editor.getLang("wordOverFlowMsg")});var opt=editor.options,max=opt.maximumWords,msg=opt.wordCountMsg,errMsg=opt.wordOverFlowMsg,countDom=ui.getDom("wordcount");if(!opt.wordCount){return}var count=editor.getContentLength(true);if(count>max){countDom.innerHTML=errMsg;editor.fireEvent("wordcountoverflow")}else{countDom.innerHTML=msg.replace("{#leave}",max-count).replace("{#count}",count)}}editor.addListener("selectionchange",function(){if(editor.options.elementPathEnabled){me[(editor.queryCommandState("elementpath")==-1?"dis":"en")+"ableElementPath"]()}if(editor.options.scaleEnabled){me[(editor.queryCommandState("scale")==-1?"dis":"en")+"ableScale"]()}});var popup=new baidu.editor.ui.Popup({editor:editor,content:"",className:"edui-bubble",_onEditButtonClick:function(){this.hide();editor.ui._dialogs.linkDialog.open()},_onImgEditButtonClick:function(name){this.hide();editor.ui._dialogs[name]&&editor.ui._dialogs[name].open()},_onImgSetFloat:function(value){this.hide();editor.execCommand("imagefloat",value)},_setIframeAlign:function(value){var frame=popup.anchorEl;var newFrame=frame.cloneNode(true);switch(value){case -2:newFrame.setAttribute("align","");break;case -1:newFrame.setAttribute("align","left");break;case 1:newFrame.setAttribute("align","right");break}frame.parentNode.insertBefore(newFrame,frame);domUtils.remove(frame);popup.anchorEl=newFrame;popup.showAnchor(popup.anchorEl)},_updateIframe:function(){var frame=editor._iframe=popup.anchorEl;if(domUtils.hasClass(frame,"ueditor_baidumap")){editor.selection.getRange().selectNode(frame).select();editor.ui._dialogs.mapDialog.open();popup.hide()}else{editor.ui._dialogs.insertframeDialog.open();popup.hide()}},_onRemoveButtonClick:function(cmdName){editor.execCommand(cmdName);this.hide()},queryAutoHide:function(el){if(el&&el.ownerDocument==editor.document){if(el.tagName.toLowerCase()=="img"||domUtils.findParentByTagName(el,"a",true)){return el!==popup.anchorEl}}return baidu.editor.ui.Popup.prototype.queryAutoHide.call(this,el)}});popup.render();if(editor.options.imagePopup){editor.addListener("mouseover",function(t,evt){evt=evt||window.event;var el=evt.target||evt.srcElement;if(editor.ui._dialogs.insertframeDialog&&/iframe/ig.test(el.tagName)){var html=popup.formatHtml("<nobr>"+editor.getLang("property")+': <span onclick=$$._setIframeAlign(-2) class="edui-clickable">'+editor.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class="edui-clickable">'+editor.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class="edui-clickable">'+editor.getLang("justifyright")+'</span>&nbsp;&nbsp; <span onclick="$$._updateIframe( this);" class="edui-clickable">'+editor.getLang("modify")+"</span></nobr>");if(html){popup.getDom("content").innerHTML=html;popup.anchorEl=el;popup.showAnchor(popup.anchorEl)}else{popup.hide()}}});editor.addListener("selectionchange",function(t,causeByUi){if(!causeByUi){return}var html="",str="",img=editor.selection.getRange().getClosedNode(),dialogs=editor.ui._dialogs;if(img&&img.tagName=="IMG"){var dialogName="insertimageDialog";if(img.className.indexOf("edui-faked-video")!=-1||img.className.indexOf("edui-upload-video")!=-1){dialogName="insertvideoDialog"}if(img.className.indexOf("edui-faked-webapp")!=-1){dialogName="webappDialog"}if(img.src.indexOf("http://api.map.baidu.com")!=-1){dialogName="mapDialog"}if(img.className.indexOf("edui-faked-music")!=-1){dialogName="musicDialog"}if(img.src.indexOf("http://maps.google.com/maps/api/staticmap")!=-1){dialogName="gmapDialog"}if(img.getAttribute("anchorname")){dialogName="anchorDialog";html=popup.formatHtml("<nobr>"+editor.getLang("property")+': <span onclick=$$._onImgEditButtonClick("anchorDialog") class="edui-clickable">'+editor.getLang("modify")+"</span>&nbsp;&nbsp;<span onclick=$$._onRemoveButtonClick('anchor') class=\"edui-clickable\">"+editor.getLang("delete")+"</span></nobr>")}if(img.getAttribute("word_img")){editor.word_img=[img.getAttribute("word_img")];dialogName="wordimageDialog"}if(domUtils.hasClass(img,"loadingclass")||domUtils.hasClass(img,"loaderrorclass")){dialogName=""}if(!dialogs[dialogName]){return}str="<nobr>"+editor.getLang("property")+': <span onclick=$$._onImgSetFloat("none") class="edui-clickable">'+editor.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("left") class="edui-clickable">'+editor.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("right") class="edui-clickable">'+editor.getLang("justifyright")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("center") class="edui-clickable">'+editor.getLang("justifycenter")+"</span>&nbsp;&nbsp;<span onclick=\"$$._onImgEditButtonClick('"+dialogName+'\');" class="edui-clickable">'+editor.getLang("modify")+"</span></nobr>";!html&&(html=popup.formatHtml(str))}if(editor.ui._dialogs.linkDialog){var link=editor.queryCommandValue("link");var url;if(link&&(url=(link.getAttribute("_href")||link.getAttribute("href",2)))){var txt=url;if(url.length>30){txt=url.substring(0,20)+"..."}if(html){html+='<div style="height:5px;"></div>'}html+=popup.formatHtml("<nobr>"+editor.getLang("anthorMsg")+': <a target="_blank" href="'+url+'" title="'+url+'" >'+txt+'</a> <span class="edui-clickable" onclick="$$._onEditButtonClick();">'+editor.getLang("modify")+'</span> <span class="edui-clickable" onclick="$$._onRemoveButtonClick(\'unlink\');"> '+editor.getLang("clear")+"</span></nobr>");popup.showAnchor(link)}}if(html){popup.getDom("content").innerHTML=html;popup.anchorEl=img||link;popup.showAnchor(popup.anchorEl)}else{popup.hide()}})}},_initToolbars:function(){var editor=this.editor;var toolbars=this.toolbars||[];var toolbarUis=[];for(var i=0;i<toolbars.length;i++){var toolbar=toolbars[i];var toolbarUi=new baidu.editor.ui.Toolbar({theme:editor.options.theme});for(var j=0;j<toolbar.length;j++){var toolbarItem=toolbar[j];var toolbarItemUi=null;if(typeof toolbarItem=="string"){toolbarItem=toolbarItem.toLowerCase();if(toolbarItem=="|"){toolbarItem="Separator"}if(toolbarItem=="||"){toolbarItem="Breakline"}if(baidu.editor.ui[toolbarItem]){toolbarItemUi=new baidu.editor.ui[toolbarItem](editor)}if(toolbarItem=="fullscreen"){if(toolbarUis&&toolbarUis[0]){toolbarUis[0].items.splice(0,0,toolbarItemUi)}else{toolbarItemUi&&toolbarUi.items.splice(0,0,toolbarItemUi)}continue}}else{toolbarItemUi=toolbarItem}if(toolbarItemUi&&toolbarItemUi.id){toolbarUi.add(toolbarItemUi)}}toolbarUis[i]=toolbarUi}utils.each(UE._customizeUI,function(obj,key){var itemUI,index;if(obj.id&&obj.id!=editor.key){return false}itemUI=obj.execFn.call(editor,editor,key);if(itemUI){index=obj.index;if(index===undefined){index=toolbarUi.items.length}toolbarUi.add(itemUI,index)}});this.toolbars=toolbarUis},getHtmlTpl:function(){return'<div id="##" class="%%"><div id="##_toolbarbox" class="%%-toolbarbox">'+(this.toolbars.length?'<div id="##_toolbarboxouter" class="%%-toolbarboxouter"><div class="%%-toolbarboxinner">'+this.renderToolbarBoxHtml()+"</div></div>":"")+'<div id="##_toolbarmsg" class="%%-toolbarmsg" style="display:none;"><div id = "##_upload_dialog" class="%%-toolbarmsg-upload" onclick="$$.showWordImageDialog();">'+this.editor.getLang("clickToUpload")+'</div><div class="%%-toolbarmsg-close" onclick="$$.hideToolbarMsg();">x</div><div id="##_toolbarmsg_label" class="%%-toolbarmsg-label"></div><div style="height:0;overflow:hidden;clear:both;"></div></div><div id="##_message_holder" class="%%-messageholder"></div></div><div id="##_iframeholder" class="%%-iframeholder"></div><div id="##_bottombar" class="%%-bottomContainer"><table><tr><td id="##_elementpath" class="%%-bottombar"></td><td id="##_wordcount" class="%%-wordcount"></td><td id="##_scale" class="%%-scale"><div class="%%-icon"></div></td></tr></table></div><div id="##_scalelayer"></div></div>'},showWordImageDialog:function(){this._dialogs.wordimageDialog.open()},renderToolbarBoxHtml:function(){var buff=[];for(var i=0;i<this.toolbars.length;i++){buff.push(this.toolbars[i].renderHtml())}return buff.join("")},setFullScreen:function(fullscreen){var editor=this.editor,container=editor.container.parentNode.parentNode;if(this._fullscreen!=fullscreen){this._fullscreen=fullscreen;this.editor.fireEvent("beforefullscreenchange",fullscreen);if(baidu.editor.browser.gecko){var bk=editor.selection.getRange().createBookmark()}if(fullscreen){while(container.tagName!="BODY"){var position=baidu.editor.dom.domUtils.getComputedStyle(container,"position");nodeStack.push(position);container.style.position="static";container=container.parentNode}this._bakHtmlOverflow=document.documentElement.style.overflow;this._bakBodyOverflow=document.body.style.overflow;this._bakAutoHeight=this.editor.autoHeightEnabled;this._bakScrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this._bakEditorContaninerWidth=editor.iframe.parentNode.offsetWidth;if(this._bakAutoHeight){editor.autoHeightEnabled=false;this.editor.disableAutoHeight()}document.documentElement.style.overflow="hidden";window.scrollTo(0,window.scrollY);this._bakCssText=this.getDom().style.cssText;this._bakCssText1=this.getDom("iframeholder").style.cssText;editor.iframe.parentNode.style.width="";this._updateFullScreen()}else{while(container.tagName!="BODY"){container.style.position=nodeStack.shift();container=container.parentNode}this.getDom().style.cssText=this._bakCssText;this.getDom("iframeholder").style.cssText=this._bakCssText1;if(this._bakAutoHeight){editor.autoHeightEnabled=true;this.editor.enableAutoHeight()}document.documentElement.style.overflow=this._bakHtmlOverflow;document.body.style.overflow=this._bakBodyOverflow;editor.iframe.parentNode.style.width=this._bakEditorContaninerWidth+"px";window.scrollTo(0,this._bakScrollTop)}if(browser.gecko&&editor.body.contentEditable==="true"){var input=document.createElement("input");document.body.appendChild(input);editor.body.contentEditable=false;setTimeout(function(){input.focus();setTimeout(function(){editor.body.contentEditable=true;editor.fireEvent("fullscreenchanged",fullscreen);editor.selection.getRange().moveToBookmark(bk).select(true);baidu.editor.dom.domUtils.remove(input);fullscreen&&window.scroll(0,0)},0)},0)}if(editor.body.contentEditable==="true"){this.editor.fireEvent("fullscreenchanged",fullscreen);this.triggerLayout()}}},_updateFullScreen:function(){if(this._fullscreen){var vpRect=uiUtils.getViewportRect();this.getDom().style.cssText="border:0;position:absolute;left:0;top:"+(this.editor.options.topOffset||0)+"px;width:"+vpRect.width+"px;height:"+vpRect.height+"px;z-index:"+(this.getDom().style.zIndex*1+100);uiUtils.setViewportOffset(this.getDom(),{left:0,top:this.editor.options.topOffset||0});this.editor.setHeight(vpRect.height-this.getDom("toolbarbox").offsetHeight-this.getDom("bottombar").offsetHeight-(this.editor.options.topOffset||0),true);if(browser.gecko){try{window.onresize()}catch(e){}}}},_updateElementPath:function(){var bottom=this.getDom("elementpath"),list;if(this.elementPathEnabled&&(list=this.editor.queryCommandValue("elementpath"))){var buff=[];for(var i=0,ci;ci=list[i];i++){buff[i]=this.formatHtml('<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;'+i+'&quot;);">'+ci+"</span>")}bottom.innerHTML='<div class="edui-editor-breadcrumb" onmousedown="return false;">'+this.editor.getLang("elementPathTip")+": "+buff.join(" &gt; ")+"</div>"}else{bottom.style.display="none"}},disableElementPath:function(){var bottom=this.getDom("elementpath");bottom.innerHTML="";bottom.style.display="none";this.elementPathEnabled=false},enableElementPath:function(){var bottom=this.getDom("elementpath");bottom.style.display="";this.elementPathEnabled=true;this._updateElementPath()},_scale:function(){var doc=document,editor=this.editor,editorHolder=editor.container,editorDocument=editor.document,toolbarBox=this.getDom("toolbarbox"),bottombar=this.getDom("bottombar"),scale=this.getDom("scale"),scalelayer=this.getDom("scalelayer");var isMouseMove=false,position=null,minEditorHeight=0,minEditorWidth=editor.options.minFrameWidth,pageX=0,pageY=0,scaleWidth=0,scaleHeight=0;function down(){position=domUtils.getXY(editorHolder);if(!minEditorHeight){minEditorHeight=editor.options.minFrameHeight+toolbarBox.offsetHeight+bottombar.offsetHeight}scalelayer.style.cssText="position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:"+editorHolder.offsetWidth+"px;height:"+editorHolder.offsetHeight+"px;z-index:"+(editor.options.zIndex+1);domUtils.on(doc,"mousemove",move);domUtils.on(editorDocument,"mouseup",up);domUtils.on(doc,"mouseup",up)}var me=this;this.editor.addListener("fullscreenchanged",function(e,fullScreen){if(fullScreen){me.disableScale()}else{if(me.editor.options.scaleEnabled){me.enableScale();var tmpNode=me.editor.document.createElement("span");me.editor.body.appendChild(tmpNode);me.editor.body.style.height=Math.max(domUtils.getXY(tmpNode).y,me.editor.iframe.offsetHeight-20)+"px";domUtils.remove(tmpNode)}}});function move(event){clearSelection();var e=event||window.event;pageX=e.pageX||(doc.documentElement.scrollLeft+e.clientX);pageY=e.pageY||(doc.documentElement.scrollTop+e.clientY);scaleWidth=pageX-position.x;scaleHeight=pageY-position.y;if(scaleWidth>=minEditorWidth){isMouseMove=true;scalelayer.style.width=scaleWidth+"px"}if(scaleHeight>=minEditorHeight){isMouseMove=true;scalelayer.style.height=scaleHeight+"px"}}function up(){if(isMouseMove){isMouseMove=false;editor.ui._actualFrameWidth=scalelayer.offsetWidth-2;editorHolder.style.width=editor.ui._actualFrameWidth+"px";editor.setHeight(scalelayer.offsetHeight-bottombar.offsetHeight-toolbarBox.offsetHeight-2,true)}if(scalelayer){scalelayer.style.display="none"}clearSelection();domUtils.un(doc,"mousemove",move);domUtils.un(editorDocument,"mouseup",up);domUtils.un(doc,"mouseup",up)}function clearSelection(){if(browser.ie){doc.selection.clear()}else{window.getSelection().removeAllRanges()}}this.enableScale=function(){if(editor.queryCommandState("source")==1){return}scale.style.display="";this.scaleEnabled=true;domUtils.on(scale,"mousedown",down)};this.disableScale=function(){scale.style.display="none";this.scaleEnabled=false;domUtils.un(scale,"mousedown",down)}},isFullScreen:function(){return this._fullscreen},postRender:function(){UIBase.prototype.postRender.call(this);for(var i=0;i<this.toolbars.length;i++){this.toolbars[i].postRender()}var me=this;var timerId,domUtils=baidu.editor.dom.domUtils,updateFullScreenTime=function(){clearTimeout(timerId);timerId=setTimeout(function(){me._updateFullScreen()})};domUtils.on(window,"resize",updateFullScreenTime);me.addListener("destroy",function(){domUtils.un(window,"resize",updateFullScreenTime);clearTimeout(timerId)})},showToolbarMsg:function(msg,flag){this.getDom("toolbarmsg_label").innerHTML=msg;this.getDom("toolbarmsg").style.display="";if(!flag){var w=this.getDom("upload_dialog");w.style.display="none"}},hideToolbarMsg:function(){this.getDom("toolbarmsg").style.display="none"},mapUrl:function(url){return url?url.replace("~/",this.editor.options.UEDITOR_HOME_URL||""):""},triggerLayout:function(){var dom=this.getDom();if(dom.style.zoom=="1"){dom.style.zoom="100%"}else{dom.style.zoom="1"}}};utils.inherits(EditorUI,baidu.editor.ui.UIBase);var instances={};UE.ui.Editor=function(options){var editor=new UE.Editor(options);editor.options.editor=editor;utils.loadFile(document,{href:editor.options.themePath+editor.options.theme+"/css/ueditor.css",tag:"link",type:"text/css",rel:"stylesheet"});var oldRender=editor.render;editor.render=function(holder){if(holder.constructor===String){editor.key=holder;instances[holder]=editor}utils.domReady(function(){editor.langIsReady?renderUI():editor.addListener("langReady",renderUI);function renderUI(){editor.setOpt({labelMap:editor.options.labelMap||editor.getLang("labelMap")});new EditorUI(editor.options);if(holder){if(holder.constructor===String){holder=document.getElementById(holder)}holder&&holder.getAttribute("name")&&(editor.options.textarea=holder.getAttribute("name"));if(holder&&/script|textarea/ig.test(holder.tagName)){var newDiv=document.createElement("div");holder.parentNode.insertBefore(newDiv,holder);var cont=holder.value||holder.innerHTML;editor.options.initialContent=/^[\t\r\n ]*$/.test(cont)?editor.options.initialContent:cont.replace(/>[\n\r\t]+([ ]{4})+/g,">").replace(/[\n\r\t]+([ ]{4})+</g,"<").replace(/>[\n\r\t]+</g,"><");holder.className&&(newDiv.className=holder.className);holder.style.cssText&&(newDiv.style.cssText=holder.style.cssText);if(/textarea/i.test(holder.tagName)){editor.textarea=holder;editor.textarea.style.display="none"}else{holder.parentNode.removeChild(holder)}if(holder.id){newDiv.id=holder.id;domUtils.removeAttributes(holder,"id")}holder=newDiv;holder.innerHTML=""}}domUtils.addClass(holder,"edui-"+editor.options.theme);editor.ui.render(holder);var opt=editor.options;editor.container=editor.ui.getDom();var parents=domUtils.findParents(holder,true);var displays=[];for(var i=0,ci;ci=parents[i];i++){displays[i]=ci.style.display;ci.style.display="block"}if(opt.initialFrameWidth){opt.minFrameWidth=opt.initialFrameWidth}else{opt.minFrameWidth=opt.initialFrameWidth=holder.offsetWidth;var styleWidth=holder.style.width;if(/%$/.test(styleWidth)){opt.initialFrameWidth=styleWidth}}if(opt.initialFrameHeight){opt.minFrameHeight=opt.initialFrameHeight}else{opt.initialFrameHeight=opt.minFrameHeight=holder.offsetHeight}for(var i=0,ci;ci=parents[i];i++){ci.style.display=displays[i]}if(holder.style.height){holder.style.height=""}editor.container.style.width=opt.initialFrameWidth+(/%$/.test(opt.initialFrameWidth)?"":"px");editor.container.style.zIndex=opt.zIndex;oldRender.call(editor,editor.ui.getDom("iframeholder"));editor.fireEvent("afteruiready")}})};return editor};UE.getEditor=function(id,opt){var editor=instances[id];if(!editor){editor=instances[id]=new UE.ui.Editor(opt);editor.render(id)}return editor};UE.delEditor=function(id){$("#edui_fixedlayer").remove();var editor;if(editor=instances[id]){editor.key&&editor.destroy();delete instances[id]}};UE.registerUI=function(uiName,fn,index,editorId){utils.each(uiName.split(/\s+/),function(name){UE._customizeUI[name]={id:editorId,execFn:fn,index:index}})}})();UE.registerUI("message",function(editor){var editorui=baidu.editor.ui;var Message=editorui.Message;var holder;var _messageItems=[];var me=editor;me.addListener("ready",function(){holder=document.getElementById(me.ui.id+"_message_holder");updateHolderPos();setTimeout(function(){updateHolderPos()},500)});me.addListener("showmessage",function(type,opt){opt=utils.isString(opt)?{content:opt}:opt;var message=new Message({timeout:opt.timeout,type:opt.type,content:opt.content,keepshow:opt.keepshow,editor:me}),mid=opt.id||("msg_"+(+new Date()).toString(36));message.render(holder);_messageItems[mid]=message;message.reset(opt);updateHolderPos();return mid});me.addListener("updatemessage",function(type,id,opt){opt=utils.isString(opt)?{content:opt}:opt;var message=_messageItems[id];message.render(holder);message&&message.reset(opt)});me.addListener("hidemessage",function(type,id){var message=_messageItems[id];message&&message.hide()});function updateHolderPos(){var toolbarbox=me.ui.getDom("toolbarbox");if(toolbarbox){holder.style.top=toolbarbox.offsetHeight+3+"px"}holder.style.zIndex=Math.max(me.options.zIndex,me.iframe.style.zIndex)+1}});UE.registerUI("autosave",function(editor){var timer=null,uid=null;editor.on("afterautosave",function(){clearTimeout(timer);timer=setTimeout(function(){if(uid){editor.trigger("hidemessage",uid)}uid=editor.trigger("showmessage",{content:editor.getLang("autosave.success"),timeout:2000})},2000)})})})();
;}catch(e){}
try{
UE.I18N["zh-cn"]={labelMap:{anchor:"锚点",undo:"撤销",redo:"重做",bold:"加粗",indent:"首行缩进",snapscreen:"截图",italic:"斜体",underline:"下划线",strikethrough:"删除线",subscript:"下标",fontborder:"字符边框",superscript:"上标",formatmatch:"格式刷",source:"源代码",blockquote:"引用",pasteplain:"纯文本粘贴模式",selectall:"全选",print:"打印",preview:"预览",horizontal:"分隔线",removeformat:"清除格式",time:"时间",date:"日期",unlink:"取消链接",insertrow:"前插入行",insertcol:"前插入列",mergeright:"右合并单元格",mergedown:"下合并单元格",deleterow:"删除行",deletecol:"删除列",splittorows:"拆分成行",splittocols:"拆分成列",splittocells:"完全拆分单元格",deletecaption:"删除表格标题",inserttitle:"插入标题",mergecells:"合并多个单元格",deletetable:"删除表格",cleardoc:"清空文档",insertparagraphbeforetable:"表格前插入行",insertcode:"代码语言",fontfamily:"字体",fontsize:"字号",paragraph:"段落格式",simpleupload:"单图上传",insertimage:"多图上传",edittable:"表格属性",edittd:"单元格属性",link:"超链接",emotion:"表情",spechars:"特殊字符",searchreplace:"查询替换",map:"Baidu地图",gmap:"Google地图",insertvideo:"视频",help:"帮助",justifyleft:"居左对齐",justifyright:"居右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",forecolor:"字体颜色",backcolor:"背景色",insertorderedlist:"有序列表",insertunorderedlist:"无序列表",fullscreen:"全屏",directionalityltr:"从左向右输入",directionalityrtl:"从右向左输入",rowspacingtop:"段前距",rowspacingbottom:"段后距",pagebreak:"分页",insertframe:"插入Iframe",imagenone:"默认",imageleft:"左浮动",imageright:"右浮动",attachment:"附件",imagecenter:"居中",wordimage:"图片转存",lineheight:"行间距",edittip:"编辑提示",customstyle:"自定义标题",autotypeset:"自动排版",webapp:"百度应用",touppercase:"字母大写",tolowercase:"字母小写",background:"背景",template:"模板",scrawl:"涂鸦",music:"音乐",inserttable:"插入表格",drafts:"从草稿箱加载",charts:"图表"},insertorderedlist:{num:"1,2,3...",num1:"1),2),3)...",num2:"(1),(2),(3)...",cn:"一,二,三....",cn1:"一),二),三)....",cn2:"(一),(二),(三)....",decimal:"1,2,3...","lower-alpha":"a,b,c...","lower-roman":"i,ii,iii...","upper-alpha":"A,B,C...","upper-roman":"I,II,III..."},insertunorderedlist:{circle:"○ 大圆圈",disc:"● 小黑点",square:"■ 小方块 ",dash:"— 破折号",dot:" 。 小圆圈"},paragraph:{p:"段落",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},fontfamily:{songti:"宋体",kaiti:"楷体",heiti:"黑体",lishu:"隶书",yahei:"微软雅黑",andaleMono:"andale mono",arial:"arial",arialBlack:"arial black",comicSansMs:"comic sans ms",impact:"impact",timesNewRoman:"times new roman"},customstyle:{tc:"标题居中",tl:"标题居左",im:"强调",hi:"明显强调"},autoupload:{exceedSizeError:"文件大小超出限制",exceedTypeError:"文件格式不允许",jsonEncodeError:"服务器返回格式错误",loading:"正在上传...",loadError:"上传错误",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！"},simpleupload:{exceedSizeError:"文件大小超出限制",exceedTypeError:"文件格式不允许",jsonEncodeError:"服务器返回格式错误",loading:"正在上传...",loadError:"上传错误",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！"},elementPathTip:"元素路径",wordCountTip:"字数统计",wordCountMsg:"当前已输入{#count}个字符, 您还可以输入{#leave}个字符。 ",wordOverFlowMsg:'<span style="color:red;">字数超出最大允许值，服务器可能拒绝保存！</span>',ok:"确认",cancel:"取消",closeDialog:"关闭对话框",tableDrag:"表格拖动必须引入uiUtils.js文件！",autofloatMsg:"工具栏浮动依赖编辑器UI，您首先需要引入UI文件!",loadconfigError:"获取后台配置项请求出错，上传功能将不能正常使用！",loadconfigFormatError:"后台配置项返回格式出错，上传功能将不能正常使用！",loadconfigHttpError:"请求后台配置项http错误，上传功能将不能正常使用！",snapScreen_plugin:{browserMsg:"仅支持IE浏览器！",callBackErrorMsg:"服务器返回数据有误，请检查配置项之后重试。",uploadErrorMsg:"截图上传失败，请检查服务器端环境! "},insertcode:{as3:"ActionScript 3",bash:"Bash/Shell",cpp:"C/C++",css:"CSS",cf:"ColdFusion","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"HTML",java:"Java",jfx:"JavaFX",js:"JavaScript",pl:"Perl",php:"PHP",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"SQL",vb:"Visual Basic",xml:"XML"},confirmClear:"确定清空当前文档么？",contextMenu:{"delete":"删除",selectall:"全选",deletecode:"删除代码",cleardoc:"清空文档",confirmclear:"确定清空当前文档么？",unlink:"删除超链接",paragraph:"段落格式",edittable:"表格属性",aligntd:"单元格对齐方式",aligntable:"表格对齐方式",tableleft:"左浮动",tablecenter:"居中显示",tableright:"右浮动",edittd:"单元格属性",setbordervisible:"设置表格边线可见",justifyleft:"左对齐",justifyright:"右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",table:"表格",inserttable:"插入表格",deletetable:"删除表格",insertparagraphbefore:"前插入段落",insertparagraphafter:"后插入段落",deleterow:"删除当前行",deletecol:"删除当前列",insertrow:"前插入行",insertcol:"左插入列",insertrownext:"后插入行",insertcolnext:"右插入列",insertcaption:"插入表格名称",deletecaption:"删除表格名称",inserttitle:"插入表格标题行",deletetitle:"删除表格标题行",inserttitlecol:"插入表格标题列",deletetitlecol:"删除表格标题列",averageDiseRow:"平均分布各行",averageDisCol:"平均分布各列",mergeright:"向右合并",mergeleft:"向左合并",mergedown:"向下合并",mergecells:"合并单元格",splittocells:"完全拆分单元格",splittocols:"拆分成列",splittorows:"拆分成行",tablesort:"表格排序",enablesort:"设置表格可排序",disablesort:"取消表格可排序",reversecurrent:"逆序当前",orderbyasc:"按ASCII字符升序",reversebyasc:"按ASCII字符降序",orderbynum:"按数值大小升序",reversebynum:"按数值大小降序",borderbk:"边框底纹",setcolor:"表格隔行变色",unsetcolor:"取消表格隔行变色",setbackground:"选区背景隔行",unsetbackground:"取消选区背景",redandblue:"红蓝相间",threecolorgradient:"三色渐变",copy:"复制(Ctrl + c)",copymsg:"浏览器不支持,请使用 'Ctrl + c'",paste:"粘贴(Ctrl + v)",pastemsg:"浏览器不支持,请使用 'Ctrl + v'"},copymsg:"浏览器不支持,请使用 'Ctrl + c'",pastemsg:"浏览器不支持,请使用 'Ctrl + v'",anthorMsg:"链接",clearColor:"清空颜色",standardColor:"标准颜色",themeColor:"主题颜色",property:"属性","default":"默认",modify:"修改",justifyleft:"左对齐",justifyright:"右对齐",justifycenter:"居中",justify:"默认",clear:"清除",anchorMsg:"锚点","delete":"删除",clickToUpload:"点击上传",unset:"尚未设置语言文件",t_row:"行",t_col:"列",more:"更多",pasteOpt:"粘贴选项",pasteSourceFormat:"保留源格式",tagFormat:"只保留标签",pasteTextFormat:"只保留文本",autoTypeSet:{mergeLine:"合并空行",delLine:"清除空行",removeFormat:"清除格式",indent:"首行缩进",alignment:"对齐方式",imageFloat:"图片浮动",removeFontsize:"清除字号",removeFontFamily:"清除字体",removeHtml:"清除冗余HTML代码",pasteFilter:"粘贴过滤",run:"执行",symbol:"符号转换",bdc2sb:"全角转半角",tobdc:"半角转全角"},background:{"static":{lang_background_normal:"背景设置",lang_background_local:"在线图片",lang_background_set:"选项",lang_background_none:"无背景色",lang_background_colored:"有背景色",lang_background_color:"颜色设置",lang_background_netimg:"网络图片",lang_background_align:"对齐方式",lang_background_position:"精确定位",repeatType:{options:["居中","横向重复","纵向重复","平铺","自定义"]}},noUploadImage:"当前未上传过任何图片！",toggleSelect:"单击可切换选中状态\n原图尺寸: "},insertimage:{"static":{lang_tab_remote:"插入图片",lang_tab_upload:"本地上传",lang_tab_online:"在线管理",lang_tab_search:"图片搜索",lang_input_url:"地 址：",lang_input_size:"大 小：",lang_input_width:"宽度",lang_input_height:"高度",lang_input_border:"边 框：",lang_input_vhspace:"边 距：",lang_input_title:"描 述：",lang_input_align:"图片浮动方式：",lang_imgLoading:"　图片加载中……",lang_start_upload:"开始上传",lock:{title:"锁定宽高比例"},searchType:{title:"图片类型",options:["新闻","壁纸","表情","头像"]},searchTxt:{value:"请输入搜索关键词"},searchBtn:{value:"百度一下"},searchReset:{value:"清空搜索"},noneAlign:{title:"无浮动"},leftAlign:{title:"左浮动"},rightAlign:{title:"右浮动"},centerAlign:{title:"居中独占一行"}},uploadSelectFile:"点击选择图片",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",uploadNoPreview:"不能预览",updateStatusReady:"选中_张图片，共_KB。",updateStatusConfirm:"已成功上传_张照片，_张照片上传失败",updateStatusFinish:"共_张（_KB），_张上传成功",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错",remoteLockError:"宽高不正确,不能所定比例",numError:"请输入正确的长度或者宽度值！例如：123，400",imageUrlError:"不允许的图片格式或者图片域！",imageLoadError:"图片加载失败！请检查链接地址或网络状态！",searchRemind:"请输入搜索关键词",searchLoading:"图片加载中，请稍后……",searchRetry:" :( ，抱歉，没有找到图片！请重试一次！"},attachment:{"static":{lang_tab_upload:"上传附件",lang_tab_online:"在线附件",lang_start_upload:"开始上传",lang_drop_remind:"可以将文件拖到这里，单次最多可选100个文件"},uploadSelectFile:"点击选择文件",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",updateStatusReady:"选中_个文件，共_KB。",updateStatusConfirm:"已成功上传_个文件，_个文件上传失败",updateStatusFinish:"共_个（_KB），_个上传成功",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错"},insertvideo:{"static":{lang_tab_insertV:"插入视频",lang_tab_searchV:"搜索视频",lang_tab_uploadV:"上传视频",lang_video_url:"视频网址",lang_video_size:"视频尺寸",lang_videoW:"宽度",lang_videoH:"高度",lang_alignment:"对齐方式",videoSearchTxt:{value:"请输入搜索关键字！"},videoType:{options:["全部","热门","娱乐","搞笑","体育","科技","综艺"]},videoSearchBtn:{value:"百度一下"},videoSearchReset:{value:"清空结果"},lang_input_fileStatus:" 当前未上传文件",startUpload:{style:"background:url(upload.png) no-repeat;"},lang_upload_size:"视频尺寸",lang_upload_width:"宽度",lang_upload_height:"高度",lang_upload_alignment:"对齐方式",lang_format_advice:"建议使用mp4格式."},numError:"请输入正确的数值，如123,400",floatLeft:"左浮动",floatRight:"右浮动",'"default"':"默认",block:"独占一行",urlError:"输入的视频地址有误，请检查后再试！",loading:" &nbsp;视频加载中，请等待……",clickToSelect:"点击选中",goToSource:"访问源视频",noVideo:" &nbsp; &nbsp;抱歉，找不到对应的视频，请重试！",browseFiles:"浏览文件",uploadSuccess:"上传成功!",delSuccessFile:"从成功队列中移除",delFailSaveFile:"移除保存失败文件",statusPrompt:" 个文件已上传！ ",flashVersionError:"当前Flash版本过低，请更新FlashPlayer后重试！",flashLoadingError:"Flash加载失败!请检查路径或网络状态",fileUploadReady:"等待上传……",delUploadQueue:"从上传队列中移除",limitPrompt1:"单次不能选择超过",limitPrompt2:"个文件！请重新选择！",delFailFile:"移除失败文件",fileSizeLimit:"文件大小超出限制！",emptyFile:"空文件无法上传！",fileTypeError:"文件类型不允许！",unknownError:"未知错误！",fileUploading:"上传中，请等待……",cancelUpload:"取消上传",netError:"网络错误",failUpload:"上传失败!",serverIOError:"服务器IO错误！",noAuthority:"无权限！",fileNumLimit:"上传个数限制",failCheck:"验证失败，本次上传被跳过！",fileCanceling:"取消中，请等待……",stopUploading:"上传已停止……",uploadSelectFile:"点击选择文件",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",updateStatusReady:"选中_个文件，共_KB。",updateStatusConfirm:"成功上传_个，_个失败",updateStatusFinish:"共_个(_KB)，_个成功上传",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错"},webapp:{tip1:"本功能由百度APP提供，如看到此页面，请各位站长首先申请百度APPKey!",tip2:"申请完成之后请至ueditor.config.js中配置获得的appkey! ",applyFor:"点此申请",anthorApi:"百度API"},template:{"static":{lang_template_bkcolor:"背景颜色",lang_template_clear:"保留原有内容",lang_template_select:"选择模板"},blank:"空白文档",blog:"博客文章",resume:"个人简历",richText:"图文混排",sciPapers:"科技论文"},scrawl:{"static":{lang_input_previousStep:"上一步",lang_input_nextsStep:"下一步",lang_input_clear:"清空",lang_input_addPic:"添加背景",lang_input_ScalePic:"缩放背景",lang_input_removePic:"删除背景",J_imgTxt:{title:"添加背景图片"}},noScarwl:"尚未作画，白纸一张~",scrawlUpLoading:"涂鸦上传中,别急哦~",continueBtn:"继续",imageError:"糟糕，图片读取失败了！",backgroundUploading:"背景图片上传中,别急哦~"},music:{"static":{lang_input_tips:"输入歌手/歌曲/专辑，搜索您感兴趣的音乐！",J_searchBtn:{value:"搜索歌曲"}},emptyTxt:"未搜索到相关音乐结果，请换一个关键词试试。",chapter:"歌曲",singer:"歌手",special:"专辑",listenTest:"试听"},anchor:{"static":{lang_input_anchorName:"锚点名字："}},charts:{"static":{lang_data_source:"数据源：",lang_chart_format:"图表格式：",lang_data_align:"数据对齐方式",lang_chart_align_same:"数据源与图表X轴Y轴一致",lang_chart_align_reverse:"数据源与图表X轴Y轴相反",lang_chart_title:"图表标题",lang_chart_main_title:"主标题：",lang_chart_sub_title:"子标题：",lang_chart_x_title:"X轴标题：",lang_chart_y_title:"Y轴标题：",lang_chart_tip:"提示文字",lang_cahrt_tip_prefix:"提示文字前缀：",lang_cahrt_tip_description:"仅饼图有效， 当鼠标移动到饼图中相应的块上时，提示框内的文字的前缀",lang_chart_data_unit:"数据单位",lang_chart_data_unit_title:"单位：",lang_chart_data_unit_description:"显示在每个数据点上的数据的单位， 比如： 温度的单位 ℃",lang_chart_type:"图表类型：",lang_prev_btn:"上一个",lang_next_btn:"下一个"}},emotion:{"static":{lang_input_choice:"精选",lang_input_Tuzki:"兔斯基",lang_input_BOBO:"BOBO",lang_input_lvdouwa:"绿豆蛙",lang_input_babyCat:"baby猫",lang_input_bubble:"泡泡",lang_input_youa:"有啊"}},gmap:{"static":{lang_input_address:"地址",lang_input_search:"搜索",address:{value:"北京"}},searchError:"无法定位到该地址!"},help:{"static":{lang_input_about:"关于UEditor",lang_input_shortcuts:"快捷键",lang_input_introduction:"UEditor是由百度web前端研发部开发的所见即所得富文本web编辑器，具有轻量，可定制，注重用户体验等特点。开源基于BSD协议，允许自由使用和修改代码。",lang_Txt_shortcuts:"快捷键",lang_Txt_func:"功能",lang_Txt_bold:"给选中字设置为加粗",lang_Txt_copy:"复制选中内容",lang_Txt_cut:"剪切选中内容",lang_Txt_Paste:"粘贴",lang_Txt_undo:"重新执行上次操作",lang_Txt_redo:"撤销上一次操作",lang_Txt_italic:"给选中字设置为斜体",lang_Txt_underline:"给选中字加下划线",lang_Txt_selectAll:"全部选中",lang_Txt_visualEnter:"软回车",lang_Txt_fullscreen:"全屏"}},insertframe:{"static":{lang_input_address:"地址：",lang_input_width:"宽度：",lang_input_height:"高度：",lang_input_isScroll:"允许滚动条：",lang_input_frameborder:"显示框架边框：",lang_input_alignMode:"对齐方式：",align:{title:"对齐方式",options:["默认","左对齐","右对齐","居中"]}},enterAddress:"请输入地址!"},link:{"static":{lang_input_text:"文本内容：",lang_input_url:"链接地址：",lang_input_title:"标题：",lang_input_target:"是否在新窗口打开："},validLink:"只支持选中一个链接时生效",httpPrompt:"您输入的超链接中不包含http等协议名称，默认将为您添加http://前缀"},map:{"static":{lang_city:"城市",lang_address:"地址",city:{value:"北京"},lang_search:"搜索",lang_dynamicmap:"插入动态地图"},cityMsg:"请选择城市",errorMsg:"抱歉，找不到该位置！"},searchreplace:{"static":{lang_tab_search:"查找",lang_tab_replace:"替换",lang_search1:"查找",lang_search2:"查找",lang_replace:"替换",lang_searchReg:"支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”",lang_searchReg1:"支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”",lang_case_sensitive1:"区分大小写",lang_case_sensitive2:"区分大小写",nextFindBtn:{value:"下一个"},preFindBtn:{value:"上一个"},nextReplaceBtn:{value:"下一个"},preReplaceBtn:{value:"上一个"},repalceBtn:{value:"替换"},repalceAllBtn:{value:"全部替换"}},getEnd:"已经搜索到文章末尾！",getStart:"已经搜索到文章头部",countMsg:"总共替换了{#count}处！"},snapscreen:{"static":{lang_showMsg:"截图功能需要首先安装UEditor截图插件！ ",lang_download:"点此下载",lang_step1:"第一步，下载UEditor截图插件并运行安装。",lang_step2:"第二步，插件安装完成后即可使用，如不生效，请重启浏览器后再试！"}},spechars:{"static":{},tsfh:"特殊字符",lmsz:"罗马字符",szfh:"数学字符",rwfh:"日文字符",xlzm:"希腊字母",ewzm:"俄文字符",pyzm:"拼音字母",yyyb:"英语音标",zyzf:"其他"},edittable:{"static":{lang_tableStyle:"表格样式",lang_insertCaption:"添加表格名称行",lang_insertTitle:"添加表格标题行",lang_insertTitleCol:"添加表格标题列",lang_orderbycontent:"使表格内容可排序",lang_tableSize:"自动调整表格尺寸",lang_autoSizeContent:"按表格文字自适应",lang_autoSizePage:"按页面宽度自适应",lang_example:"示例",lang_borderStyle:"表格边框",lang_color:"颜色:"},captionName:"表格名称",titleName:"标题",cellsName:"内容",errorMsg:"有合并单元格，不可排序"},edittip:{"static":{lang_delRow:"删除整行",lang_delCol:"删除整列"}},edittd:{"static":{lang_tdBkColor:"背景颜色:"}},formula:{"static":{}},wordimage:{"static":{lang_resave:"转存步骤",uploadBtn:{src:"upload.png",alt:"上传"},clipboard:{style:"background: url(copy.png) -153px -1px no-repeat;"},lang_step:"1、点击顶部复制按钮，将地址复制到剪贴板；2、点击添加照片按钮，在弹出的对话框中使用Ctrl+V粘贴地址；3、点击打开后选择图片上传流程。"},fileType:"图片",flashError:"FLASH初始化失败，请检查FLASH插件是否正确安装！",netError:"网络连接错误，请重试！",copySuccess:"图片地址已经复制！",flashI18n:{}},autosave:{saving:"保存中...",success:"本地保存成功"}};
;}catch(e){}
try{
UE.Editor.prototype._bkGetActionUrl=UE.Editor.prototype.getActionUrl;UE.Editor.prototype.getActionUrl=function(a){if(a=="uploadimage"||a=="uploadscrawl"||a=="uploadimage"||a=="uploadfile"){return UPLOAD_ACTION_URL}else{if(a=="config"){return contextPath+"/org/tinygroup/ueditor/config.pagelet"}else{return this._bkGetActionUrl.call(this,a)}}};
;}catch(e){}
try{
window.ZENG=window.ZENG||{};ZENG.dom={getById:function(a){return document.getElementById(a)},get:function(a){return(typeof(a)=="string")?document.getElementById(a):a},createElementIn:function(d,f,e,c){var a=(f=ZENG.dom.get(f)||document.body).ownerDocument.createElement(d||"div"),b;if(typeof(c)=="object"){for(b in c){if(b=="class"){a.className=c[b]}else{if(b=="style"){a.style.cssText=c[b]}else{a[b]=c[b]}}}}e?f.insertBefore(a,f.firstChild):f.appendChild(a);return a},getStyle:function(b,f){b=ZENG.dom.get(b);if(!b||b.nodeType==9){return null}var a=document.defaultView&&document.defaultView.getComputedStyle,c=!a?null:document.defaultView.getComputedStyle(b,""),d="";switch(f){case"float":f=a?"cssFloat":"styleFloat";break;case"opacity":if(!a){var h=100;try{h=b.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(g){try{h=b.filters("alpha").opacity}catch(g){}}return h/100}else{return parseFloat((c||b.style)[f])}break;case"backgroundPositionX":if(a){f="backgroundPosition";return((c||b.style)[f]).split(" ")[0]}break;case"backgroundPositionY":if(a){f="backgroundPosition";return((c||b.style)[f]).split(" ")[1]}break}if(a){return(c||b.style)[f]}else{return(b.currentStyle[f]||b.style[f])}},setStyle:function(c,g,h){if(!(c=ZENG.dom.get(c))||c.nodeType!=1){return false}var e,b=true,d=(e=document.defaultView)&&e.getComputedStyle,f=/z-?index|font-?weight|opacity|zoom|line-?height/i;if(typeof(g)=="string"){e=g;g={};g[e]=h}for(var a in g){h=g[a];if(a=="float"){a=d?"cssFloat":"styleFloat"}else{if(a=="opacity"){if(!d){a="filter";h=h>=1?"":("alpha(opacity="+Math.round(h*100)+")")}}else{if(a=="backgroundPositionX"||a=="backgroundPositionY"){e=a.slice(-1)=="X"?"Y":"X";if(d){var i=ZENG.dom.getStyle(c,"backgroundPosition"+e);a="backgroundPosition";typeof(h)=="number"&&(h=h+"px");h=e=="Y"?(h+" "+(i||"top")):((i||"left")+" "+h)}}}}if(typeof c.style[a]!="undefined"){c.style[a]=h+(typeof h==="number"&&!f.test(a)?"px":"");b=b&&true}else{b=b&&false}}return b},getScrollTop:function(a){var b=a||document;return Math.max(b.documentElement.scrollTop,b.body.scrollTop)},getClientHeight:function(a){var b=a||document;return b.compatMode=="CSS1Compat"?b.documentElement.clientHeight:b.body.clientHeight}};ZENG.string={RegExps:{trim:/^\s+|\s+$/g,ltrim:/^\s+/,rtrim:/\s+$/,nl2br:/\n/g,s2nb:/[\x20]{2}/g,URIencode:/[\x09\x0A\x0D\x20\x21-\x29\x2B\x2C\x2F\x3A-\x3F\x5B-\x5E\x60\x7B-\x7E]/g,escHTML:{re_amp:/&/g,re_lt:/</g,re_gt:/>/g,re_apos:/\x27/g,re_quot:/\x22/g},escString:{bsls:/\\/g,sls:/\//g,nl:/\n/g,rt:/\r/g,tab:/\t/g},restXHTML:{re_amp:/&amp;/g,re_lt:/&lt;/g,re_gt:/&gt;/g,re_apos:/&(?:apos|#0?39);/g,re_quot:/&quot;/g},write:/\{(\d{1,2})(?:\:([xodQqb]))?\}/g,isURL:/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i,cut:/[\x00-\xFF]/,getRealLen:{r0:/[^\x00-\xFF]/g,r1:/[\x00-\xFF]/g},format:/\{([\d\w\.]+)\}/g},commonReplace:function(a,c,b){return a.replace(c,b)},format:function(c){var b=Array.prototype.slice.call(arguments),a;c=String(b.shift());if(b.length==1&&typeof(b[0])=="object"){b=b[0]}ZENG.string.RegExps.format.lastIndex=0;return c.replace(ZENG.string.RegExps.format,function(d,e){a=ZENG.object.route(b,e);return a===undefined?d:a})}};ZENG.object={routeRE:/([\d\w_]+)/g,route:function(d,c){d=d||{};c=String(c);var b=ZENG.object.routeRE,a;b.lastIndex=0;while((a=b.exec(c))!==null){d=d[a[0]];if(d===undefined||d===null){break}}return d}};var ua=ZENG.userAgent={},agent=navigator.userAgent;ua.ie=9-((agent.indexOf("Trident/5.0")>-1)?0:1)-(window.XDomainRequest?0:1)-(window.XMLHttpRequest?0:1);if(typeof(ZENG.msgbox)=="undefined"){ZENG.msgbox={}}ZENG.msgbox._timer=null;ZENG.msgbox.loadingAnimationPath=ZENG.msgbox.loadingAnimationPath||("loading.gif");ZENG.msgbox.show=function(c,g,h,a){if(typeof(a)=="number"){a={topPosition:a}}a=a||{};var j=ZENG.msgbox,i='<span class="zeng_msgbox_layer" style="display:none;z-index:10000;" id="mode_tips_v2"><span class="gtl_ico_{type}"></span>{loadIcon}{msgHtml}<span class="gtl_end"></span></span>',d='<span class="gtl_ico_loading"></span>',e=[0,0,0,0,"succ","fail","clear"],b,f;j._loadCss&&j._loadCss(a.cssPath);b=ZENG.dom.get("q_Msgbox")||ZENG.dom.createElementIn("div",document.body,false,{className:"zeng_msgbox_layer_wrap"});b.id="q_Msgbox";b.style.display="";b.innerHTML=ZENG.string.format(i,{type:e[g]||"hits",msgHtml:c||"",loadIcon:g==6?d:""});j._setPosition(b,h,a.topPosition)};ZENG.msgbox._setPosition=function(a,f,d){f=f||5000;var g=ZENG.msgbox,b=ZENG.dom.getScrollTop(),e=ZENG.dom.getClientHeight(),c=Math.floor(e/2)-40;ZENG.dom.setStyle(a,"top",((document.compatMode=="BackCompat"||ZENG.userAgent.ie<7)?b:0)+((typeof(d)=="number")?d:c)+"px");clearTimeout(g._timer);a.firstChild.style.display="";f&&(g._timer=setTimeout(g.hide,f))};ZENG.msgbox.hide=function(a){var b=ZENG.msgbox;if(a){clearTimeout(b._timer);b._timer=setTimeout(b._hide,a)}else{b._hide()}};ZENG.msgbox._hide=function(){var a=ZENG.dom.get("q_Msgbox"),b=ZENG.msgbox;clearTimeout(b._timer);if(a){var c=a.firstChild;ZENG.dom.setStyle(a,"display","none")}};
;}catch(e){}
try{
(function(b,a,c){(function(d){if(typeof define==="function"&&define.amd){define(["jquery"],d)}else{if(typeof exports==="object"){module.exports=d(require("jquery"))}else{d(b.jQuery)}}}(function(k){var n="webuiPopover";var t="webui-popover";var h="webui.popover";var j={placement:"auto",container:null,width:"auto",height:"auto",trigger:"click",style:"",delay:{show:null,hide:null},async:{type:"GET",before:null,success:null,error:null},cache:true,multi:false,arrow:true,title:"",content:"",closeable:false,padding:true,url:"",type:"html",animation:null,template:'<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:false,dismissible:true,onShow:null,onHide:null,abortXHR:true,autoHide:false,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""}};var l=[];var g=k('<div class="webui-popover-backdrop"></div>');var m=0;var f=false;var q=-2000;var i=k(a);var s=function(u,v){return isNaN(u)?(v||0):Number(u)};var r=function(u){return u.data("plugin_"+n)};var e=function(){var u=null;for(var v=0;v<l.length;v++){u=r(l[v]);if(u){u.hide(true)}}i.trigger("hiddenAll."+h)};var p=("ontouchstart" in a.documentElement)&&(/Mobi/.test(navigator.userAgent));var o=function(v){var u={x:0,y:0};if(v.type==="touchstart"||v.type==="touchmove"||v.type==="touchend"||v.type==="touchcancel"){var w=v.originalEvent.touches[0]||v.originalEvent.changedTouches[0];u.x=w.pageX;u.y=w.pageY}else{if(v.type==="mousedown"||v.type==="mouseup"||v.type==="click"){u.x=v.pageX;u.y=v.pageY}}return u};function d(v,u){this.$element=k(v);if(u){if(k.type(u.delay)==="string"||k.type(u.delay)==="number"){u.delay={show:u.delay,hide:u.delay}}}this.options=k.extend({},j,u);this._defaults=j;this._name=n;this._targetclick=false;this.init();l.push(this.$element)}d.prototype={init:function(){if(this.getTrigger()==="click"||p){this.$element.off("click touchend").on("click touchend",k.proxy(this.toggle,this))}else{if(this.getTrigger()==="hover"){this.$element.off("mouseenter mouseleave click").on("mouseenter",k.proxy(this.mouseenterHandler,this)).on("mouseleave",k.proxy(this.mouseleaveHandler,this))}}this._poped=false;this._inited=true;this._opened=false;this._idSeed=m;this.options.container=k(this.options.container||a.body).first();if(this.options.backdrop){g.appendTo(this.options.container).hide()}m++;if(this.getTrigger()==="sticky"){this.show()}},destroy:function(){var u=-1;for(var v=0;v<l.length;v++){if(l[v]===this.$element){u=v;break}}l.splice(u,1);this.hide();this.$element.data("plugin_"+n,null);if(this.getTrigger()==="click"){this.$element.off("click")}else{if(this.getTrigger()==="hover"){this.$element.off("mouseenter mouseleave")}}if(this.$target){this.$target.remove()}},hide:function(w,v){if(!w&&this.getTrigger()==="sticky"){return}if(!this._opened){return}if(v){v.preventDefault();v.stopPropagation()}if(this.xhr&&this.options.abortXHR===true){this.xhr.abort();this.xhr=null}var x=k.Event("hide."+h);this.$element.trigger(x,[this.$target]);if(this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var u=this;setTimeout(function(){u.$target.hide()},300)}if(this.options.backdrop){g.hide()}this._opened=false;this.$element.trigger("hidden."+h,[this.$target]);if(this.options.onHide){this.options.onHide(this.$target)}},resetAutoHide:function(){var v=this;var u=v.getAutoHide();if(u){if(v.autoHideHandler){clearTimeout(v.autoHideHandler)}v.autoHideHandler=setTimeout(function(){v.hide()},u)}},toggle:function(u){if(u){u.preventDefault();u.stopPropagation()}this[this.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){e()},show:function(){var u=this.getTarget().removeClass().addClass(t).addClass(this._customTargetClass);if(!this.options.multi){this.hideAll()}if(this._opened){return}if(!this.getCache()||!this._poped||this.content===""){this.content="";this.setTitle(this.getTitle());if(!this.options.closeable){u.find(".close").off("click").remove()}if(!this.isAsync()){this.setContent(this.getContent())}else{this.setContentASync(this.options.content)}u.show()}this.displayContent();if(this.options.onShow){this.options.onShow(u)}this.bindBodyEvents();if(this.options.backdrop){g.show()}this._opened=true;this.resetAutoHide()},displayContent:function(){var w=this.getElementPosition(),u=this.getTarget().removeClass().addClass(t).addClass(this._customTargetClass),F=this.getContentElement(),D=u[0].offsetWidth,B=u[0].offsetHeight,y="bottom",C=k.Event("show."+h);this.$element.trigger(C,[u]);var v=this.$element.data("width")||this.options.width;if(v===""){v=this._defaults.width}if(v!=="auto"){u.width(v)}var G=this.$element.data("height")||this.options.height;if(G===""){G=this._defaults.height}if(G!=="auto"){F.height(G)}if(this.options.style){this.$target.addClass(t+"-"+this.options.style)}if(!this.options.arrow){u.find(".webui-arrow").remove()}u.detach().css({top:q,left:q,display:"block"});if(this.getAnimation()){u.addClass(this.getAnimation())}u.appendTo(this.options.container);y=this.getPlacement(w);this.$element.trigger("added."+h);this.initTargetEvents();if(!this.options.padding){if(this.options.height!=="auto"){F.css("height",F.outerHeight())}this.$target.addClass("webui-no-padding")}D=u[0].offsetWidth;B=u[0].offsetHeight;var x=this.getTargetPositin(w,y,D,B);this.$target.css(x.position).addClass(y).addClass("in");if(this.options.type==="iframe"){var H=u.find("iframe");var A=u.width();var z=H.parent().height();if(this.options.iframeOptions.width!==""&&this.options.iframeOptions.width!=="auto"){A=this.options.iframeOptions.width}if(this.options.iframeOptions.height!==""&&this.options.iframeOptions.height!=="auto"){z=this.options.iframeOptions.height}H.width(A).height(z)}if(!this.options.arrow){this.$target.css({margin:0})}if(this.options.arrow){var E=this.$target.find(".webui-arrow");E.removeAttr("style");if(y==="left"||y==="right"){E.css({top:this.$target.height()/2})}else{if(y==="top"||y==="bottom"){E.css({left:this.$target.width()/2})}}if(x.arrowOffset){if(x.arrowOffset.left===-1||x.arrowOffset.top===-1){E.hide()}else{E.css(x.arrowOffset)}}}this._poped=true;this.$element.trigger("shown."+h,[this.$target])},isTargetLoaded:function(){return this.getTarget().find("i.glyphicon-refresh").length===0},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var u=n+this._idSeed;this.$target=k(this.options.template).attr("id",u).data("trigger-element",this.getTriggerElement());this._customTargetClass=this.$target.attr("class")!==t?this.$target.attr("class"):null;this.getTriggerElement().attr("data-target",u)}return this.$target},getTitleElement:function(){return this.getTarget().find("."+t+"-title")},getContentElement:function(){if(!this.$contentElement){this.$contentElement=this.getTarget().find("."+t+"-content")}return this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return s(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return s(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var u=this.$element.attr("data-cache");if(typeof(u)!=="undefined"){switch(u.toLowerCase()){case"true":case"yes":case"1":return true;case"false":case"no":case"0":return false}}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var u=this.$element.attr("data-delay-show");if(typeof(u)!=="undefined"){return u}return this.options.delay.show===0?0:this.options.delay.show||100},getHideDelay:function(){var u=this.$element.attr("data-delay-hide");if(typeof(u)!=="undefined"){return u}return this.options.delay.hide===0?0:this.options.delay.hide||100},getAnimation:function(){var u=this.$element.attr("data-animation");return u||this.options.animation},getHideAnimation:function(){var u=this.getAnimation();return u?u+"-out":"out"},setTitle:function(u){var v=this.getTitleElement();if(u){v.html(u)}else{v.remove()}},hasContent:function(){return this.getContent()},getIframe:function(){var v=k("<iframe></iframe>").attr("src",this.getUrl());var u=this;k.each(this._defaults.iframeOptions,function(w){if(typeof u.options.iframeOptions[w]!=="undefined"){v.attr(w,u.options.iframeOptions[w])}});return v},getContent:function(){if(this.getUrl()){switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=k(this.getUrl());if(!this.content.is(":visible")){this.content.show()}}catch(v){throw new Error("Unable to get popover content. Invalid selector specified.")}break}}else{if(!this.content){var w="";if(k.isFunction(this.options.content)){w=this.options.content.apply(this.$element[0],[this])}else{w=this.options.content}this.content=this.$element.attr("data-content")||w;if(!this.content){var u=this.$element.next();if(u&&u.hasClass(t+"-content")){this.content=u}}}}return this.content},setContent:function(w){var u=this.getTarget();var v=this.getContentElement();if(typeof w==="string"){v.html(w)}else{if(w instanceof jQuery){v.html("");if(!this.options.cache){w.clone(true,true).removeClass(t+"-content").appendTo(v)}else{w.removeClass(t+"-content").appendTo(v)}}}this.$target=u},isAsync:function(){return this.options.type==="async"},setContentASync:function(v){var u=this;if(this.xhr){return}this.xhr=k.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),beforeSend:function(w){if(u.options.async.before){u.options.async.before(u,w)}},success:function(x){u.bindBodyEvents();if(v&&k.isFunction(v)){u.content=v.apply(u.$element[0],[x])}else{u.content=x}u.setContent(u.content);var w=u.getContentElement();w.removeAttr("style");u.displayContent();if(u.options.async.success){u.options.async.success(u,x)}},complete:function(){u.xhr=null},error:function(x,w){if(u.options.async.error){u.options.async.error(u,x,w)}}})},bindBodyEvents:function(){if(f){return}if(this.options.dismissible&&this.getTrigger()==="click"){i.off("keyup.webui-popover").on("keyup.webui-popover",k.proxy(this.escapeHandler,this));i.off("click.webui-popover touchend.webui-popover").on("click.webui-popover touchend.webui-popover",k.proxy(this.bodyClickHandler,this))}else{if(this.getTrigger()==="hover"){i.off("touchend.webui-popover").on("touchend.webui-popover",k.proxy(this.bodyClickHandler,this))}}},mouseenterHandler:function(){var u=this;if(u._timeout){clearTimeout(u._timeout)}u._enterTimeout=setTimeout(function(){if(!u.getTarget().is(":visible")){u.show()}},this.getDelayShow())},mouseleaveHandler:function(){var u=this;clearTimeout(u._enterTimeout);u._timeout=setTimeout(function(){u.hide()},this.getHideDelay())},escapeHandler:function(u){if(u.keyCode===27){this.hideAll()}},bodyClickHandler:function(y){f=true;var z=true;for(var v=0;v<l.length;v++){var B=r(l[v]);if(B&&B._opened){var C=B.getTarget().offset().left;var x=B.getTarget().offset().top;var A=B.getTarget().offset().left+B.getTarget().width();var w=B.getTarget().offset().top+B.getTarget().height();var D=o(y);var u=D.x>=C&&D.x<=A&&D.y>=x&&D.y<=w;if(u){z=false;break}}}if(z){e()}},initTargetEvents:function(){if(this.getTrigger()==="hover"){this.$target.off("mouseenter mouseleave").on("mouseenter",k.proxy(this.mouseenterHandler,this)).on("mouseleave",k.proxy(this.mouseleaveHandler,this))}this.$target.find(".close").off("click").on("click",k.proxy(this.hide,this,true))},getPlacement:function(E){var B,v=this.options.container,F=v.innerWidth(),C=v.innerHeight(),x=v.scrollTop(),y=v.scrollLeft(),A=Math.max(0,E.left-y),z=Math.max(0,E.top-x);if(typeof(this.options.placement)==="function"){B=this.options.placement.call(this,this.getTarget()[0],this.$element[0])}else{B=this.$element.data("placement")||this.options.placement}var D=B==="horizontal";var u=B==="vertical";var w=B==="auto"||D||u;if(w){if(A<F/3){if(z<C/3){B=D?"right-bottom":"bottom-right"}else{if(z<C*2/3){if(u){B=z<=C/2?"bottom-right":"top-right"}else{B="right"}}else{B=D?"right-top":"top-right"}}}else{if(A<F*2/3){if(z<C/3){if(D){B=A<=F/2?"right-bottom":"left-bottom"}else{B="bottom"}}else{if(z<C*2/3){if(D){B=A<=F/2?"right":"left"}else{B=z<=C/2?"bottom":"top"}}else{if(D){B=A<=F/2?"right-top":"left-top"}else{B="top"}}}}else{if(z<C/3){B=D?"left-bottom":"bottom-left"}else{if(z<C*2/3){if(u){B=z<=C/2?"bottom-left":"top-left"}else{B="left"}}else{B=D?"left-top":"top-left"}}}}}else{if(B==="auto-top"){if(A<F/3){B="top-right"}else{if(A<F*2/3){B="top"}else{B="top-left"}}}else{if(B==="auto-bottom"){if(A<F/3){B="bottom-right"}else{if(A<F*2/3){B="bottom"}else{B="bottom-left"}}}else{if(B==="auto-left"){if(z<C/3){B="left-top"}else{if(z<C*2/3){B="left"}else{B="left-bottom"}}}else{if(B==="auto-right"){if(z<C/3){B="right-top"}else{if(z<C*2/3){B="right"}else{B="right-bottom"}}}}}}}return B},getElementPosition:function(){return k.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTargetPositin:function(O,J,y,z){var B=O,H=this.options.container,P=H.innerWidth(),A=H.innerHeight(),w=this.$element.outerWidth(),E=this.$element.outerHeight(),v=H.scrollTop(),N=H.scrollLeft(),R={},L=null,K=this.options.arrow?20:0,I=10,x=w<K+I?K:0,G=E<K+I?K:0,S=0,C=A+v,u=P+N;var M=B.left+B.width/2-x>0;var Q=B.left+B.width/2+x<u;var D=B.top+B.height/2-G>0;var F=B.top+B.height/2+G<C;switch(J){case"bottom":R={top:B.top+B.height,left:B.left+B.width/2-y/2};break;case"top":R={top:B.top-z,left:B.left+B.width/2-y/2};break;case"left":R={top:B.top+B.height/2-z/2,left:B.left-y};break;case"right":R={top:B.top+B.height/2-z/2,left:B.left+B.width};break;case"top-right":R={top:B.top-z,left:M?B.left-x:I};L={left:M?Math.min(w,y)/2+x:q};break;case"top-left":S=Q?x:-I;R={top:B.top-z,left:B.left-y+B.width+S};L={left:Q?y-Math.min(w,y)/2-x:q};break;case"bottom-right":R={top:B.top+B.height,left:M?B.left-x:I};L={left:M?Math.min(w,y)/2+x:q};break;case"bottom-left":S=Q?x:-I;R={top:B.top+B.height,left:B.left-y+B.width+S};L={left:Q?y-Math.min(w,y)/2-x:q};break;case"right-top":S=F?G:-I;R={top:B.top-z+B.height+S,left:B.left+B.width};L={top:F?z-Math.min(E,z)/2-G:q};break;case"right-bottom":R={top:D?B.top-G:I,left:B.left+B.width};L={top:D?Math.min(E,z)/2+G:q};break;case"left-top":S=F?G:-I;R={top:B.top-z+B.height+S,left:B.left-y};L={top:F?z-Math.min(E,z)/2-G:q};break;case"left-bottom":R={top:D?B.top-G:I,left:B.left-y};L={top:D?Math.min(E,z)/2+G:q};break}R.top+=this.getOffsetTop();R.left+=this.getOffsetLeft();return{position:R,arrowOffset:L}}};k.fn[n]=function(w,v){var x=[];var u=this.each(function(){var y=k.data(this,"plugin_"+n);if(!y){if(!w){y=new d(this,null)}else{if(typeof w==="string"){if(w!=="destroy"){if(!v){y=new d(this,null);x.push(y[w]())}}}else{if(typeof w==="object"){y=new d(this,w)}}}k.data(this,"plugin_"+n,y)}else{if(w==="destroy"){y.destroy()}else{if(typeof w==="string"){x.push(y[w]())}}}});return(x.length)?x:u}}))})(window,document);$(document).off("click.popover.data-api").on("click.popover.data-api",'[data-toggle="popover"]',function(){var c=$(this);var a={trigger:"click",title:"信息",content:"<p>信息.</p>",width:300,multi:true,closeable:false,style:"",padding:true};var b={};if(typeof(c.attr("href"))!="undefined"&&c.attr("href")){b={width:260,height:350,closeable:true,padding:false,cache:false,multi:false,url:c.attr("href"),type:"async",content:function(d){return d}}}c.off("click.popover.data-api").webuiPopover("destroy").webuiPopover($.extend({},a,b,c.data()));c.on("hidden.webui.popover",function(){c.webuiPopover("destroy")}).trigger("click");return false});
;}catch(e){}
try{
UE.plugins['macros'] = function () {
    var me = this,thePlugins = 'macros';
    me.commands[thePlugins] = {
        execCommand:function () {
            var dialog = new UE.ui.Dialog({
                iframeUrl:this.options.UEDITOR_HOME_URL +'macro/macro.pagelet',
                name:thePlugins,
                editor:this,
                title: '宏控件',
                cssRules:"width:600px;height:270px;",
                buttons:[
                    {
                        className:'edui-okbutton',
                        label:'确定',
                        onclick:function () {
                            dialog.close(true);
                        }
                    },
                    {
                        className:'edui-cancelbutton',
                        label:'取消',
                        onclick:function () {
                            dialog.close(false);
                        }
                    }]
            });
            dialog.render();
            dialog.open();
        }
    };
    var popup = new baidu.editor.ui.Popup( {
        editor:this,
        content: '',
        className: 'edui-bubble',
        _edittext: function () {
            baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;
            me.execCommand(thePlugins);
            this.hide();
        },
        _delete:function(){
            if( window.confirm('确认删除该控件吗？') ) {
                baidu.editor.dom.domUtils.remove(this.anchorEl,false);
            }
            this.hide();
        }
    } );
    popup.render();
    me.addListener( 'mouseover', function( t, evt ) {
        evt = evt || window.event;
        var el = evt.target || evt.srcElement;
        var tinyPlugins = el.getAttribute('tinyplugins');
        if ( /div/ig.test( el.tagName ) && tinyPlugins==thePlugins) {
            var html = popup.formatHtml(
                '<nobr>宏控件: <span onclick=$$._edittext() class="edui-clickable">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class="edui-clickable">删除</span></nobr>' );
            if ( html ) {
                popup.getDom( 'content' ).innerHTML = html;
                popup.anchorEl = el;
                popup.showAnchor( popup.anchorEl );
            } else {
                popup.hide();
            }
        }
    });
    var timer,clickcount=0;
    function dbclick(evt){
        evt = evt || window.event;
        var tinyPlugins,el = evt.target || evt.srcElement;
        var macroEl=$(el).closest("[tinyplugins]").get(0);
        if(typeof(macroEl)!='undefined'){
            tinyPlugins = macroEl.getAttribute('tinyplugins');
            if(tinyPlugins==thePlugins){
                baidu.editor.plugins[thePlugins].editdom=macroEl;
                me.execCommand(thePlugins);
            }
        }
    }
    me.addListener('click', function( t, evt ) {
        clickcount++;
        if(clickcount==2){
            dbclick(evt);
        }
        timer=setTimeout(function(){
            clickcount--;
        },500)
    });
};
UE.ueAddonPlus=function(id){
    UE.registerUI('button_macros',function(editor,uiName){
        editor.registerCommand(uiName,{
            execCommand:function(){
                editor.execCommand('macros');
            }
        });
        //创建一个button
        var btn = new UE.ui.Button({
            //按钮的名字
            name:uiName,
            //提示
            title:"宏编辑器",
            //需要添加的额外样式，指定icon图标，这里默认使用一个重复的icon
            cssRules :'background-position: -401px -40px;',
            //点击时执行的命令
            onclick:function () {
                //这里可以不用执行命令,做你自己的操作也可
                editor.execCommand(uiName);
            }
        });
        return btn;
    },99999,[id]);
};
;}catch(e){}
try{
$(document).ready(function(){$(".galleryImage").hover(function(){$(this).find("img").animate({width:100,marginTop:10,marginLeft:10},500)},function(){$(this).find("img").animate({width:325,marginTop:0,marginLeft:0},300)})});
;}catch(e){}
tinyTplList.push({sort:8, name: 'lightblue', title: '浅蓝'});tinyTplList.push({sort:7, name: 'greenyellow', title: '黄绿' });try{
(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());
;}catch(e){}
try{
var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());
;}catch(e){}
try{
!function(c){var b=function(f,d){this._id=(((1+Math.random())*65536)|0).toString(16);this._loadCount=0;this.opts=d;this._initLayout(c(f));this._initHead();this._initOptions();this._initEvents();this._setColsWidth();if(this.opts.fullWidthRows){this._fullWidthRows()}for(var e=0;e<this.opts.plugins.length;e++){var h=this.opts.plugins[e];h.init(c.extend(f,this))}if(d.autoLoad){var g=this;this.opts=d;setTimeout(function(){if(d.url){g.load()}else{g.load(d.items)}},0)}};var a=function(){var d=!!window.ActiveXObject;var h=d&&!!window.atob;var e=d&&document.addEventListener&&!window.atob;var f=d&&document.querySelector&&!document.addEventListener;var g=d&&window.XMLHttpRequest&&!document.querySelector;var i=d&&!window.XMLHttpRequest;return{isIE:d,isIE6:i,isIE7:g,isIE8:f,isIE9:e,isIE10:h}}();b.prototype={_initLayout:function(g){var h=this.opts;var f=g.parent();var e=g.index();var j=['<div class="mmGrid">',"<style></style>",'<div class="mmg-headWrapper">','<table class="mmg-head" cellspacing="0"></table>',"</div>",'<div class="mmg-colResizePointer"></div>','<div class="mmg-colResizePointer-before"></div>','<div class="mmg-backboard">','<a class="mmg-btnBackboardUp"></a>',"</div>",'<div class="mmg-bodyWrapper"></div>','<a class="mmg-btnBackboardDn"></a>','<div class="mmg-message">'+this.opts.noDataText+"</div>",'<div class="mmg-mask mmg-transparent"></div>','<div class="mmg-loading">','<div class="mmg-loadingImg"></div>','<div class="mmg-loadingText">'+this.opts.loadingText+"</div>","</div>","</div>"];if(a.isIE7||a.isIE6){g.prop("cellspacing",0)}var d=c(j.join(""));this.$mmGrid=d;this.$style=d.find("style");this.$headWrapper=d.find(".mmg-headWrapper");this.$head=d.find(".mmg-head");this.$backboard=d.find(".mmg-backboard");this.$bodyWrapper=d.find(".mmg-bodyWrapper");this.$body=g.removeAttr("style").addClass("mmg-body");this._insertEmptyRow();this.$body.appendTo(this.$bodyWrapper);if(e===0||f.children().length==0){f.prepend(this.$mmGrid)}else{f.children().eq(e-1).after(this.$mmGrid)}if(a.isIE6&&(!h.width||h.width==="auto")){d.width("100%");d.width(d.width()-(d.outerWidth(true)-d.width()))}else{d.width(h.width)}if(a.isIE6&&(!h.height||h.height==="auto")){d.height("100%");d.height(d.height()-(d.outerHeight(true)-d.height()))}else{d.height(h.height)}if(h.checkCol){var i=h.multiSelect?'<input type="checkbox" class="checkAll" >':'<input type="checkbox" disabled="disabled" class="checkAll">';h.cols.unshift({title:i,width:20,align:"center",lockWidth:true,checkCol:true,renderer:function(){return'<input type="checkbox" class="mmg-check">'}})}if(h.indexCol){h.cols.unshift({title:"#",width:h.indexColWidth,align:"center",lockWidth:true,indexCol:true,renderer:function(l,k,m){return'<label class="mmg-index">'+(m+1)+"</label>"}})}},_expandCols:function(g){var f=[];if(!g){return f}for(var e=0;e<g.length;e++){var d=g[e];if(d.cols){f.push(d);f.push.apply(f,this._expandCols(d.cols))}else{f.push(d)}}return f},_leafCols:function(){var g=this.opts;var f=[];var h=this._expandCols(g.cols);for(var e=0;e<h.length;e++){var d=h[e];if(!d.cols){f.push(d)}}return f},_expandThs:function(){return this.$head.find("th").sort(function(e,d){return parseInt(c(e).data("colindex"))-parseInt(c(d).data("colindex"))})},_leafThs:function(){return this.$head.find("th").filter(function(){return !c.data(this,"col").cols}).sort(function(e,d){return parseInt(c(e).data("colindex"))-parseInt(c(d).data("colindex"))})},_colsWithTitleDeep:function(h,d){var g=[];if(!h){return g}for(var f=0;f<h.length;f++){var e=h[f];if(d===1){g.push(e)}else{g.push.apply(g,this._colsWithTitleDeep(e.cols,d-1))}}return g},_titleDeep:function(g){var d=1;for(var f=0;f<g.length;f++){var e=g[f];if(e.cols){var h=1+this._titleDeep(e.cols);if(d<h){d=h}}}return d},_titleHtml:function(e,h){var f=this.opts;var g=[];if(!e.cols){g.push('<th class="');var d=c.inArray(e,this._expandCols(f.cols));g.push(this._genColClass(d));g.push(' " ');g.push(' rowspan="');g.push(h);g.push('" colspan="');g.push(1);g.push('" data-colIndex="');g.push(d);g.push('" >');g.push('<div class="mmg-titleWrapper" >');g.push('<span class="mmg-title ');if(e.sortable){g.push("mmg-canSort ")}g.push('">');if(e.titleHtml){g.push(e.titleHtml)}else{g.push(e.title)}g.push('</span><div class="mmg-sort"></div>');if(!e.lockWidth){g.push('<div class="mmg-colResize"></div>')}g.push("</div></th>")}else{var i=e.cols.length;c.each(e.cols,function(j,k){if(k.hidden){i--}});if(i===0){e.hidden=true}g.push('<th class="');var d=c.inArray(e,this._expandCols(f.cols));g.push(this._genColClass(d));g.push(' mmg-groupCol" ');g.push(' rowspan="');g.push(h-1);g.push('" colspan="');g.push(i);g.push('" data-colIndex="');g.push(d);g.push('" >');g.push('<div class="mmg-titleWrapper" >');g.push('<span class="mmg-title ');if(e.sortable){g.push("mmg-canSort ")}g.push('">');if(e.titleHtml){g.push(e.titleHtml)}else{g.push(e.title)}g.push('</span><div class="mmg-sort"></div>');g.push("</div></th>")}return g.join("")},_initHead:function(){var i=this;var d=this.opts;var j=this.$head;if(d.cols){var h=["<thead>"];var r=i._titleDeep(d.cols);for(var o=1;o<=r;o++){var l=i._colsWithTitleDeep(d.cols,o);h.push("<tr>");for(var n=0;n<l.length;n++){var g=l[n];h.push(this._titleHtml(g,r-o+1))}h.push("</tr>")}h.push("</thead>");j.html(h.join(""))}var k=this._expandThs();var f=this._expandCols(d.cols);c.each(k,function(s){if(!f[s].width){f[s].width=100}c.data(this,"col-width",f[s].width);c.data(this,"col",f[s])});var p=this.$mmGrid;var m=this.$headWrapper;var e=this.$bodyWrapper;if(d.height!=="auto"){e.height(p.height()-m.outerHeight(true))}if(d.sortName){for(var n=0;n<f.length;n++){var g=f[n];if(g.sortName===d.sortName||g.name===d.sortName){var q=k.eq(n);c.data(q.find(".mmg-title")[0],"sortStatus",d.sortStatus);q.find(".mmg-sort").addClass("mmg-"+d.sortStatus)}}}},_initOptions:function(){var g=this.opts;var d=this.$mmGrid;var i=this.$headWrapper;var h=this.$backboard;d.find("a.mmg-btnBackboardDn").css({top:i.outerHeight(true)}).slideUp("fast");var j=this._leafCols();if(j){var k=["<h1>显示列</h1>"];for(var f=0;f<j.length;f++){k.push("<label ");if(j[f].checkCol||j[f].indexCol){k.push('style="display:none;" ')}var e=j[f];k.push('><input type="checkbox"  ');if(!e.hidden){k.push('checked="checked"')}if(e.lockDisplay){k.push(' disabled="disabled"')}k.push("/><span>");if(e.title){k.push(e.title)}else{k.push("未命名")}k.push("</span></label>")}h.append(c(k.join("")))}},_initEvents:function(){var i=this;var d=this.opts;var n=this.$mmGrid;var m=this.$headWrapper;var j=this.$head;var f=this.$bodyWrapper;var h=this.$body;var o=this.$backboard;var k=this._expandThs();var e=this._expandCols(d.cols);var g=this._leafCols();if(d.width==="auto"||d.height==="auto"||(typeof d.width==="string"&&d.width.indexOf("%")===d.width.length-1)||typeof d.height==="string"&&d.height.indexOf("%")===d.height.length-1){c(window).on("resize",function(){i.resize()})}f.on("scroll",function(){j.css("left",-c(this).scrollLeft())});var l=n.find("a.mmg-btnBackboardDn").on("click",function(){var p=n.height()-m.outerHeight(true);if(d.height==="auto"&&d.backboardMinHeight!=="auto"&&p<d.backboardMinHeight){p=d.backboardMinHeight}o.height(p);if(d.height==="auto"){n.height(m.outerHeight(true)+o.outerHeight(true))}o.slideDown();l.slideUp("fast");i._hideMessage()});h.on("mouseenter",function(){l.slideUp("fast")});n.on("mouseleave",function(){l.slideUp("fast")});m.on("mouseenter",function(){if(o.is(":hidden")&&d.showBackboard){l.slideDown("fast")}});n.find("a.mmg-btnBackboardUp").on("click",function(){o.slideUp().queue(function(p){if(!i.rowsLength()||(i.rowsLength()===1&&h.find("tr.emptyRow").length===1)){i._showNoData()}if(d.height==="auto"){n.height("auto")}p()})});o.on("click",":checkbox",function(){var s=o.find("label").index(c(this).parent());var u=1;if(d.checkCol){u=u+1}if(d.indexCol){u=u+1}if(o.find("label :checked").length<u){this.checked=true;return}var q=g[s];if(this.checked){q.hidden=false}else{q.hidden=true}var t=j.find("th");for(var v=t.length-1;v>=0;v--){var x=t.eq(v);var w=x.data("col");if(w.cols){var r=true;var p=0;c.each(w.cols,function(y,z){if(!z.hidden){r=false;p++}});if(p!==0){x.prop("colspan",p)}w.hidden=r}}i._setColsWidth();o.height(n.height()-m.outerHeight(true));if(d.height!=="auto"){f.height(n.height()-m.outerHeight(true))}n.find("a.mmg-btnBackboardDn").css({top:m.outerHeight(true)})});j.on("click",".mmg-title",function(){var s=c(this);var p=k.find(".mmg-title");var q=s.parent().parent().data("col");if(!q.sortable){return}var r=c.data(this,"sortStatus")==="asc"?"desc":"asc";c.each(p,function(){c.removeData(this,"sortStatus")});k.find(".mmg-sort").removeClass("mmg-asc").removeClass("mmg-desc");c.data(this,"sortStatus",r);s.siblings(".mmg-sort").addClass("mmg-"+r);if(d.url&&d.remoteSort){i.load()}else{i._nativeSorter(c.inArray(q,g),r);i._setStyle()}}).on("mousedown",".mmg-colResize",function(s){var q=c(this);var u=s.pageX;var p=n.find(".mmg-colResizePointer").css("left",s.pageX-m.offset().left).show();var t=j.position().left;var r=n.find(".mmg-colResizePointer-before").css("left",q.parent().parent().position().left+t).show();document.selection&&document.selection.empty&&(document.selection.empty(),1)||window.getSelection&&window.getSelection().removeAllRanges();document.body.onselectstart=function(){return false};m.css("-moz-user-select","none");n.on("mousemove",function(v){p.css("left",v.pageX-m.offset().left)}).on("mouseup",function(x){var w=q.parent().parent();var v=w.width()+x.pageX-u;c.data(w[0],"col-width",v);i._setColsWidth();m.mouseleave()}).on("mouseleave",function(){n.off("mouseup").off("mouseleave").off("mousemove");p.hide();r.hide();document.body.onselectstart=function(){return true};m.css("-moz-user-select","text")})});var h=this.$body;h.on("click","td",function(r){var q=c(this);var p=jQuery.Event("cellSelected");p.target=r.target;i.$body.triggerHandler(p,[c.data(q.parent()[0],"item"),q.parent().index(),q.index()]);if(p.isPropagationStopped()){return}if(!q.parent().hasClass("selected")){i.select(q.parent().index())}else{i.deselect(q.parent().index())}});h.on("click","tr > td .mmg-check",function(q){q.stopPropagation();var p=c(this);if(this.checked){i.select(c(p.parents("tr")[0]).index())}else{i.deselect(c(p.parents("tr")[0]).index())}});if(d.checkCol){j.find("th .checkAll").on("click",function(){if(this.checked){i.select("all")}else{i.deselect("all")}})}if(a.isIE6){h.on("mouseenter","tr",function(){c(this).toggleClass("hover")}).on("mouseleave","tr",function(){c(this).toggleClass("hover")})}},_rowHtml:function(l,j){var d=this.opts;var e=this._expandCols(d.cols);var g=this._leafCols();if(c.isPlainObject(l)){var h=[];h.push("<tr>");for(var k=0;k<g.length;k++){var f=g[k];h.push('<td class="');var i=c.inArray(f,e);h.push(this._genColClass(i));if(d.nowrap){h.push(" nowrap")}h.push('"><span class="');if(d.nowrap){h.push("nowrap")}h.push('">');if(f.renderer){h.push(f.renderer(l[f.name],l,j))}else{h.push(l[f.name])}h.push("</span></td>")}h.push("</tr>");return h.join("")}},_populate:function(e){var g=this.opts;var i=this.$body;this._hideMessage();if(e&&e.length!==0&&g.cols){var h=[];h.push("<tbody>");for(var j=0;j<e.length;j++){var f=e[j];h.push(this._rowHtml(f,j))}h.push("</tbody>");i.empty().html(h.join(""));var d=i.find("tr");for(var j=0;j<e.length;j++){c.data(d.eq(j)[0],"item",e[j])}}else{this._insertEmptyRow();this._showNoData()}this._setStyle();if(g.fullWidthRows&&this._loadCount<=1){this._fullWidthRows()}},_insertEmptyRow:function(){var d=this.$body;d.empty().html('<tbody><tr class="emptyRow"><td  style="border: 0px;background: none;">&nbsp;</td></tr></tbody>')},_removeEmptyRow:function(){var d=this.$body;d.find("tr.emptyRow").remove()},_genColClass:function(d){return"mmg"+this._id+"-col"+d},_setStyle:function(){var d=this.$head;var e=this._expandThs();var f=this.$body;var h=this._leafCols();e.eq(0).addClass("first");e.eq(-1).addClass("last");f.find("tr,td").removeClass("even").removeClass("colSelected").removeClass("colSelectedEven");f.find("tr:odd").addClass("even");var g=c.inArray(d.find(".mmg-title").filter(function(){return c.data(this,"sortStatus")==="asc"||c(this).data("sortStatus")==="desc"}).parent().parent().data("col"),h);f.find("tr > td:nth-child("+(g+1)+")").addClass("colSelected").filter(":odd").addClass("colSelectedEven");this._resizeHeight()},_setColsWidth:function(){var d=this.opts;var e=this.$style;var n=this.$head;var h=this.$bodyWrapper;var m=this.$body;var o=this._expandThs();var i=this._expandCols(d.cols);var j=h.scrollTop();var l=n.position().left;h.width(9999);m.width("auto");var f=[];for(var q=0;q<o.length;q++){var r=o.eq(q);f.push(".mmGrid ."+this._genColClass(q)+" {");var g=c.data(r[0],"col-width");f.push("width: "+g+"px;");f.push("max-width: "+g+"px;");var k=i[q];if(k.align){f.push("text-align: "+k.align+";")}if(k.hidden){f.push("display: none; ")}f.push(" }")}m.detach();try{e.text(f.join(""))}catch(p){e[0].styleSheet.cssText=f.join("")}m.width(n.width());h.width("100%");h.append(m);h.scrollLeft(-l);if(h.scrollLeft()===0){n.css("left",0)}h.scrollTop(j)},_fullWidthRows:function(){var e=this.opts;var h=this.$bodyWrapper;var t=this.$mmGrid;var p=this.$head;var o=h.width()-h[0].clientWidth;if(o&&a.isIE){o=o+1}var g=t.width()-p.width()-o;if(g<-20){return}var d=[];var q=this._leafThs();var s=this._leafCols();for(var n=0;n<s.length;n++){var j=s[n];var u=q.eq(n);if(!j.lockWidth&&u.is(":visible")){d.push(u)}}var k=Math.floor(g/d.length);var r=0;for(var n=0;n<d.length;n++){var u=d[n];var m=c.data(u[0],"col-width")+k;c.data(u[0],"col-width",m);var l=c.data(d[r][0],"col-width");if(l<m){r=n}}var f=g-k*d.length;var l=c.data(d[r][0],"col-width");c.data(d[r][0],"col-width",l+f);this._setColsWidth()},_showLoading:function(){var d=this.$mmGrid;d.find(".mmg-mask").show();var e=d.find(".mmg-loading");e.css({left:(d.width()-e.width())/2,top:(d.height()-e.height())/2}).show()},_hideLoading:function(){var d=this.$mmGrid;d.find(".mmg-mask").hide();d.find(".mmg-loading").hide()},_showNoData:function(){this._showMessage(this.opts.noDataText)},_showLoadError:function(){this._showMessage(this.opts.loadErrorText)},_showMessage:function(g){var d=this.$mmGrid;var f=this.$headWrapper;var e=d.find(".mmg-message");e.css({left:(d.width()-e.width())/2,top:(d.height()+f.height()-e.height())/2}).text(g).show()},_hideMessage:function(){var d=this.$mmGrid;d.find(".mmg-message").hide()},_nativeSorter:function(e,f){var g=this._leafCols();var d=g[e];this.$body.find("tr > td:nth-child("+(e+1)+")").sortElements(function(j,i){var k=c.text(c(j));var h=c.text(c(i));if(d.type==="number"){k=parseFloat(k);h=parseFloat(h)}else{return f==="desc"?-k.localeCompare(h):k.localeCompare(h)}return k>h?(f==="desc"?-1:1):(f==="desc"?1:-1)},function(){return this.parentNode})},_refreshSortStatus:function(){var e=this.$head.find("th");var d=-1;var f="";e.find(".mmg-title").each(function(h,i){var g=c.data(i,"sortStatus");if(g){d=h;f=g}});var f=f==="desc"?"asc":"desc";if(d>=0){e.eq(d).find(".mmg-title").data("sortStatus",f).click()}},_loadAjax:function(o){var n=this;var d=this.opts;var j={};if(c.isFunction(d.params)){var f=d.params();if(!f){return}j=c.extend(j,f)}else{if(c.isPlainObject(d.params)){j=c.extend(j,d.params)}}if(d.remoteSort){var r="";var h="";var e=this.$head.find(".mmg-title");for(var s=0;s<e.length;s++){var k=c.data(e[s],"sortStatus");if(k){var g=e.eq(s).parent().parent().data("col");r=g.sortName?g.sortName:g.name;h=k}}if(r){j.sort=r+"."+h}}var q={};for(var l=0;l<this.opts.plugins.length;l++){var m=this.opts.plugins[l];c.extend(q,m.params())}j=c.extend(j,q);j=c.extend(j,o);n._showLoading();c.ajax({type:d.method,url:d.url,data:j,dataType:"json",cache:d.cache}).done(function(p){try{var i=p;if(c.isArray(p[d.root])){i=p[d.root]}n._populate(i);n._hideLoading();if(!d.remoteSort){n._refreshSortStatus()}if(p&&c.isArray(p[d.root])){p=c.extend(o,p)}n.$body.triggerHandler("loadSuccess",p)}catch(t){n._hideLoading();n._showLoadError();throw t}}).fail(function(i){n._hideLoading();n._showLoadError();n.$body.triggerHandler("loadError",i)})},_loadNative:function(d){this._populate(d);this._refreshSortStatus();this.$body.triggerHandler("loadSuccess",d)},load:function(d){try{var f=this.opts;this._hideMessage();this._loadCount=this._loadCount+1;if(c.isArray(d)){this._loadNative(d)}else{if(f.url){this._loadAjax(d)}else{if(f.items){this._loadNative(f.items)}else{this._loadNative([])}}}}catch(g){this._showLoadError();throw g}},resize:function(){var g=this.opts;var d=this.$mmGrid;var h=this.$headWrapper;var j=this.$bodyWrapper;if(a.isIE6&&(!g.width||g.width==="auto")){d.width("100%");d.width(d.width()-(d.outerWidth(true)-d.width()))}else{d.width(g.width)}if(g.height!=="auto"){if(a.isIE6&&(!g.height||g.height==="auto")){d.height("100%");d.height(d.height()-(d.outerHeight(true)-d.height()))}else{d.height(g.height)}j.height(d.height()-h.outerHeight(true))}var f=d.find(".mmg-message");if(f.is(":visible")){f.css({left:(d.width()-f.width())/2,top:(d.height()+h.height()-f.height())/2})}var i=d.find(".mmg-mask");if(i.is(":visible")){i.width(d.width()).height(d.height());var e=d.find(".mmg-loading");e.css({left:(d.width()-e.width())/2,top:(d.height()-e.height())/2})}j.trigger("scroll");this._resizeHeight()},_resizeHeight:function(){var d=this.opts;var f=this.$bodyWrapper;var e=this.$body;if(d.height==="auto"&&a.isIE7){f.height("auto");if(f.width()<e.width()){f.height(f.height()+f.height()-f[0].clientHeight+1)}}},select:function(e){var h=this.opts;var i=this.$body;var d=this.$head;if(typeof e==="number"){var g=i.find("tr").eq(e);if(!h.multiSelect){i.find("tr.selected").removeClass("selected");if(h.checkCol){i.find("tr > td").find(".mmg-check").prop("checked","")}}if(!g.hasClass("selected")){g.addClass("selected");if(h.checkCol){g.find("td .mmg-check").prop("checked","checked")}}}else{if(typeof e==="function"){c.each(i.find("tr"),function(j){if(e(c.data(this,"item"),j)){var k=c(this);if(!k.hasClass("selected")){k.addClass("selected");if(h.checkCol){k.find("td .mmg-check").prop("checked","checked")}}}})}else{if(e===undefined||(typeof e==="string"&&e==="all")){i.find("tr.selected").removeClass("selected");i.find("tr").addClass("selected");i.find("tr > td").find(".mmg-check").prop("checked","checked")}else{return}}}if(h.checkCol){var f=i.find("tr > td").find(".mmg-check");if(f.length===f.filter(":checked").length){d.find("th .checkAll").prop("checked","checked")}}},deselect:function(e){var f=this.opts;var g=this.$body;var d=this.$head;if(typeof e==="number"){g.find("tr").eq(e).removeClass("selected");if(f.checkCol){g.find("tr").eq(e).find("td .mmg-check").prop("checked","")}}else{if(typeof e==="function"){c.each(g.find("tr"),function(h){if(e(c.data(this,"item"),h)){c(this).removeClass("selected");if(f.checkCol){c(this).find("td .mmg-check").prop("checked","")}}})}else{if(e===undefined||(typeof e==="string"&&e==="all")){g.find("tr.selected").removeClass("selected");if(f.checkCol){g.find("tr > td").find(".mmg-check").prop("checked","")}}else{return}}}d.find("th .checkAll").prop("checked","")},selectedRows:function(){var e=this.$body;var d=[];c.each(e.find("tr.selected"),function(f,g){d.push(c.data(this,"item"))});return d},selectedRowsIndex:function(){var f=this.$body;var d=this.$body.find("tr");var e=[];c.each(f.find("tr.selected"),function(g){e.push(d.index(this))});return e},rows:function(){var e=this.$body;var d=[];c.each(e.find("tr"),function(){d.push(c.data(this,"item"))});return d},row:function(d){var f=this.$body;if(d!==undefined&&d>=0){var e=f.find("tr").eq(d);if(e.length!==0){return c.data(e[0],"item")}}},rowsLength:function(){var e=this.$body;var d=e.find("tr").length;if(d===1&&e.find("tr.emptyRow").length===1){return 0}return d},addRow:function(h,e){var d=this.$body.find("tbody");if(c.isArray(h)){for(var f=h.length-1;f>=0;f--){this.addRow(h[f],e)}return}if(!c.isPlainObject(h)){return}this._hideMessage();this._removeEmptyRow();var g;if(e===undefined||e<0){g=c(this._rowHtml(h,this.rowsLength()));d.append(g)}else{g=c(this._rowHtml(h,e));if(e===0){d.prepend(g)}else{var j=d.find("tr").eq(e-1);if(j.length===0){d.append(g)}else{j.after(c(g))}}}g.data("item",h);this._setStyle();this.$body.triggerHandler("rowInserted",[h,e])},updateRow:function(i,e){var h=this.opts;var d=this.$body.find("tbody");if(!c.isPlainObject(i)){return}var j=this.row(e);var g=d.find("tr").eq(e);var f=g.find("td:first :checkbox").is(":checked");g.html(this._rowHtml(i,e).slice(4,-5));if(h.checkCol){g.find("td:first :checkbox").prop("checked",f)}g.data("item",i);this._setStyle();this.$body.triggerHandler("rowUpdated",[j,i,e])},removeRow:function(f){var j=this;var d=j.$body.find("tbody");if(c.isArray(f)){for(var g=f.length-1;g>=0;g--){j.removeRow(f[g])}return}if(f===undefined){var e=d.find("tr");for(var g=e.length-1;g>=0;g--){j.removeRow(g)}}else{var h=j.row(f);d.find("tr").eq(f).remove();this.$body.triggerHandler("rowRemoved",[h,f])}this._setStyle();if(this.rowsLength()===0){this._showNoData();this._insertEmptyRow()}}};c.fn.mmGrid=function(){if(arguments.length===0||typeof arguments[0]==="object"){var g=arguments[0],h=this.data("mmGrid"),e=c.extend(true,{},c.fn.mmGrid.defaults,g);if(!h){h=new b(this,e);this.data("mmGrid",h)}return c.extend(true,this,h)}if(typeof arguments[0]==="string"){var h=this.data("mmGrid");var f=h[arguments[0]];if(f){var d=Array.prototype.slice.call(arguments);return f.apply(h,d.slice(1))}}};c.fn.mmGrid.defaults={width:"auto",height:"280px",cols:[],url:false,params:{},method:"POST",cache:false,root:"items",items:[],autoLoad:true,remoteSort:false,sortName:"",sortStatus:"asc",loadingText:"正在载入...",noDataText:"没有数据",loadErrorText:"数据加载出现异常",multiSelect:false,checkCol:false,indexCol:false,indexColWidth:30,fullWidthRows:false,nowrap:false,showBackboard:true,backboardMinHeight:125,plugins:[]};c.fn.mmGrid.Constructor=b;c.fn.sortElements=(function(){var d=[].sort;return function(f,g){g=g||function(){return this};var e=this.map(function(){var i=g.call(this),h=i.parentNode,j=h.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(h===this){throw new Error("You can't sort elements if any one is a descendant of another.")}h.insertBefore(this,j);h.removeChild(j)}});return d.call(this,f).each(function(h){e[h].call(g.call(this))})}})()}(window.jQuery);
;}catch(e){}
try{
!function(a){var b=function(d,c){this.$el=a(d);this.opts=c};b.prototype={_initLayout:function(){var e=this;var c=this.$el;var d=this.opts;c.addClass("mmPaginator");var g=['<div class="totalCountLabel"></div>','<ul class="pageList"></ul>','<div class="limit"><select></select></div>'];c.append(a(g.join("")));this.$totalCountLabel=c.find(".totalCountLabel");this.$pageList=c.find(".pageList");this.$limitList=c.find(".limit select");var f=this.$limitList;a.each(d.limitList,function(){var h=a("<option></option>").prop("value",this).text(e.formatString(d.limitLabel,[this]));f.append(h)});f.on("change",function(){c.data("page",1);e.$mmGrid.load()})},_plain:function(k,m,e){var h=this;var o=this.$el;var n=this.$pageList;var g=m%e===0?parseInt(m/e):parseInt(m/e)+1;g=g?g:0;if(g===0){k=1}else{if(k>g){k=g}else{if(k<1&&g!=0){k=1}}}var c=a('<li class="prev"><a>«</a></li>');if(k<=1){c.addClass("disable")}else{c.find("a").on("click",function(){o.data("page",k-1);h.$mmGrid.load()})}n.append(c);var j=[1];if(k>4){j.push("...")}for(var f=0;f<5;f++){var l=k-2+f;if(l>1&&l<=g-1){j.push(l)}}if(k+1<g-1){j.push("...")}if(g>1){j.push(g)}a.each(j,function(i,p){var q=a("<li><a></a></li>");if(p==="..."){q.addClass("").html("...")}else{if(p===k){q.addClass("active").find("a").text(p)}else{q.find("a").text(p).prop("title","第"+p+"页").on("click",function(r){o.data("page",p);h.$mmGrid.load()})}}n.append(q)});var d=a('<li class="next"><a title="下一页">»</a></li>');if(k>=g){d.addClass("disable")}else{d.find("a").on("click",function(){o.data("page",k+1);h.$mmGrid.load()})}n.append(d)},_search:function(e,d,c){},load:function(i){var e=this.$el;var h=this.$limitList;var f=this.opts;if(!i){i={}}var g=i[f.pageParamName];if(g===undefined||g===null){g=e.data("page")}e.data("page",g);var d=i[f.totalCountName];if(d===undefined){d=0}e.data("totalCount",d);var c=i[f.limitParamName];if(!c){c=h.val()}this.$limitList.val(c);this.$totalCountLabel.html(this.formatString(f.totalCountLabel,[d]));this.$pageList.empty();this._plain(g,d,this.$limitList.val())},formatString:function(d,c){return d.replace(/{(\d+)}/g,function(e,f){return typeof c[f]!="undefined"?c[f]:e})},params:function(){var d=this.opts;var c=this.$el;var e=this.$limitList;var f={};f[d.pageParamName]=c.data("page");f[d.limitParamName]=e.val();return f},init:function(c){var f=this;var e=f.opts;this.$mmGrid=c;this._initLayout();this.$mmGrid.on("loadSuccess",function(i,h){f.load(h)});var g={};g[e.totalCountName]=0;g[e.pageParamName]=e.page;g[e.limitParamName]=e.limit;this.load(g);if(c.opts.indexCol){var d=c.opts.cols[0];d.renderer=function(j,h,k){var i=f.params();return'<label class="mmg-index">'+(k+1+((i[e.pageParamName]-1)*i[e.limitParamName]))+"</label>"}}}};a.fn.mmPaginator=function(){if(arguments.length===0||typeof arguments[0]==="object"){var f=arguments[0],g=this.data("mmPaginator"),d=a.extend(true,{},a.fn.mmPaginator.defaults,f);if(!g){g=new b(this[0],d);this.data("mmPaginator",g)}return a.extend(true,this,g)}if(typeof arguments[0]==="string"){var g=this.data("mmPaginator");var e=g[arguments[0]];if(e){var c=Array.prototype.slice.call(arguments);return e.apply(g,c.slice(1))}}};a.fn.mmPaginator.defaults={style:"plain",totalCountName:"totalCount",page:1,pageParamName:"page",limitParamName:"limit",limitLabel:"每页{0}条",totalCountLabel:"共<span>{0}</span>条记录",limit:undefined,limitList:[20,30,40,50]};a.fn.mmPaginator.Constructor=b}(window.jQuery);
;}catch(e){} 
try{
/*!
 * ZUI - v1.3.0 - 2015-05-18
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2015 cnezsoft.com; Licensed MIT
 */
!function(b,c){if("undefined"==typeof b){throw new Error("ZUI requires jQuery")}b.zui||(b.zui=function(d){b.isPlainObject(d)&&b.extend(b.zui,d)});var a=0;b.zui({uuid:function(){return 1000*(new Date).getTime()+a++%1000},callEvent:function(g,d,e){if(b.isFunction(g)){"undefined"!=typeof e&&(g=b.proxy(g,e));var f=g(d);return d&&(d.result=f),!(void 0!==f&&!f)}return 1},clientLang:function(){var e,f=c.config;if("undefined"!=typeof f&&f.clientLang){e=f.clientLang}else{var d=b("html").attr("lang");e=d?d:navigator.userLanguage||navigator.userLanguage||"zh_cn"}return e.replace("-","_").toLowerCase()}}),b.fn.callEvent=function(g,h,i){var r=b(this),s=g.indexOf(".zui."),d=g;0>s&&i&&i.name?g+="."+i.name:d=g.substring(0,s);var e=b.Event(g,h);if("undefined"==typeof i&&s>0&&(i=r.data(g.substring(s+1))),i&&i.options){var f=i.options[d];b.isFunction(f)&&b.zui.callEvent(i.options[d],e,i)}return e}}(jQuery,window),function(g,h,i){function j(o){if(o=o.toLowerCase(),o&&d.test(o)){var p;if(4===o.length){var m="#";for(p=1;4>p;p+=1){m+=o.slice(p,p+1).concat(o.slice(p,p+1))}o=m}var n=[];for(p=1;7>p;p+=2){n.push(parseInt("0x"+o.slice(p,p+2)))}return{r:n[0],g:n[1],b:n[2],a:1}}throw new Error("function hexToRgb: Wrong hex string! (hex: "+o+")")}function k(m){return"string"==typeof m&&("transparent"===m.toLowerCase()||e[m.toLowerCase()]||d.test(g.trim(m.toLowerCase())))}function l(u){function m(v){return v=0>v?v+1:v>1?v-1:v,1>6*v?q+(t-q)*v*6:1>2*v?t:2>3*v?q+(t-q)*(2/3-v)*6:q}var n=u.h,o=u.s,p=u.l,s=u.a;n=c(n)%360/360,o=b(c(o)),p=b(c(p)),s=b(c(s));var t=0.5>=p?p*(o+1):p+o-p*o,q=2*p-t,r={r:255*m(n+1/3),g:255*m(n),b:255*m(n-1/3),a:s};return r}function a(m,n,o){return void 0===o&&(o=0),void 0===n&&(n=255),h.min(h.max(m,o),n)}function b(m,n){return a(m,n)}function c(m){return"number"==typeof m?m:parseFloat(m)}var d=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f=function(p,q,r,m){if(this.r=0,this.g=0,this.b=0,this.a=1,void 0!==m&&(this.a=b(c(m),1)),void 0!==p&&void 0!==q&&void 0!==r){this.r=parseInt(b(c(p),255)),this.g=parseInt(b(c(q),255)),this.b=parseInt(b(c(r),255))}else{if(void 0!==p){var n=typeof p;if("string"==n){p=p.toLowerCase(),"transparent"===p?this.a=0:this.rgb(e[p]?j(e[p]):j(p))}else{if("number"==n&&void 0===q){this.r=parseInt(b(p,255)),this.g=this.r,this.b=this.r}else{if("object"==n&&p.hasOwnProperty("r")){this.r=parseInt(b(c(p.r),255)),p.hasOwnProperty("g")&&(this.g=parseInt(b(c(p.g),255))),p.hasOwnProperty("b")&&(this.b=parseInt(b(c(p.b),255))),p.hasOwnProperty("a")&&(this.a=b(c(p.a),1))}else{if("object"==n&&p.hasOwnProperty("h")){var o={h:b(c(p.h),360),s:1,l:1,a:1};p.hasOwnProperty("s")&&(o.s=b(c(p.s),1)),p.hasOwnProperty("l")&&(o.l=b(c(p.l),1)),p.hasOwnProperty("a")&&(o.a=b(c(p.a),1)),this.rgb(l(o))}}}}}}};f.prototype.rgb=function(m){if(void 0!==m){if("object"==typeof m){m.hasOwnProperty("r")&&(this.r=parseInt(b(c(m.r),255))),m.hasOwnProperty("g")&&(this.g=parseInt(b(c(m.g),255))),m.hasOwnProperty("b")&&(this.b=parseInt(b(c(m.b),255))),m.hasOwnProperty("a")&&(this.a=b(c(m.a),1))}else{var n=parseInt(c(m));this.r=n,this.g=n,this.b=n}return this}return{r:this.r,g:this.g,b:this.b,a:this.a}},f.prototype.hue=function(m){var n=this.toHsl();return void 0===m?n.h:(n.h=b(c(m),360),this.rgb(l(n)),this)},f.prototype.darken=function(m){var n=this.toHsl();return n.l-=m/100,n.l=b(n.l,1),this.rgb(l(n)),this},f.prototype.clone=function(){return new f(this.r,this.g,this.b,this.a)},f.prototype.lighten=function(m){return this.darken(-m)},f.prototype.fade=function(m){return this.a=b(m/100,1),this},f.prototype.spin=function(n){var o=this.toHsl(),m=(o.h+n)%360;return o.h=0>m?360+m:m,this.rgb(l(o)),this},f.prototype.toHsl=function(){var u,v,m=this.r/255,n=this.g/255,o=this.b/255,p=this.a,r=h.max(m,n,o),t=h.min(m,n,o),q=(r+t)/2,s=r-t;if(r===t){u=v=0}else{switch(v=q>0.5?s/(2-r-t):s/(r+t),r){case m:u=(n-o)/s+(o>n?6:0);break;case n:u=(o-m)/s+2;break;case o:u=(m-n)/s+4}u/=6}return{h:360*u,s:v,l:q,a:p}},f.prototype.luma=function(){var m=this.r/255,n=this.g/255,o=this.b/255;return m=0.03928>=m?m/12.92:h.pow((m+0.055)/1.055,2.4),n=0.03928>=n?n/12.92:h.pow((n+0.055)/1.055,2.4),o=0.03928>=o?o/12.92:h.pow((o+0.055)/1.055,2.4),0.2126*m+0.7152*n+0.0722*o},f.prototype.saturate=function(m){var n=this.toHsl();return n.s+=m/100,n.s=b(n.s),this.rgb(l(n)),this},f.prototype.desaturate=function(m){return this.saturate(-m)},f.prototype.contrast=function(o,p,m){if(p="undefined"==typeof p?new f(255,255,255,1):new f(p),o="undefined"==typeof o?new f(0,0,0,1):new f(o),this.a<0.5){return o}if(m=void 0===m?0.43:c(m),o.luma()>p.luma()){var n=p;p=o,o=n}return this.luma()<m?p:o},f.prototype.hexStr=function(){var n=this.r.toString(16),o=this.g.toString(16),m=this.b.toString(16);return 1==n.length&&(n="0"+n),1==o.length&&(o="0"+o),1==m.length&&(m="0"+m),"#"+n+o+m},f.prototype.toCssStr=function(){return this.a>0?this.a<1?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":this.hexStr():"transparent"},f.prototype.isColor=k,g.zui({Color:f})}(jQuery,Math,window),function(c){var d=0,a=["primary","red","yellow","green","blue","purple","brown","dark"],b={theme:"light",primary:"#3280fc",secondary:"#145ccd",pale:"#ebf2f9",fore:"#353535",back:"#ffffff",grayDarker:"#222222",grayDark:"#333333",gray:"#808080",grayLight:"#dddddd",grayLighter:"#e5e5e5",grayPale:"#f1f1f1",white:"#ffffff",black:"#000000",red:"#ea644a",yellow:"#f1a325",green:"#38b03f",blue:"#03b8cf",purple:"#8666b8",brown:"#bd7b46",greenPale:"#ddf4df",yellowPale:"#fff0d5",redPale:"#ffe5e0",bluePale:"#ddf3f5",brownPale:"#f7ebe1",purplePale:"#f5eeff",light:"#ffffff",dark:"#353535",success:"#38b03f",warning:"#f1a325",danger:"#ea644a",info:"#03b8cf",important:"#bd7b46",special:"#8666b8",successPale:"#ddf4df",warningPale:"#fff0d5",dangerPale:"#ffe5e0",infoPale:"#ddf3f5",importantPale:"#f7ebe1",specialPale:"#f5eeff"};b.get=function(e){return("undefined"==typeof e||"random"===e)&&(e=a[d++%a.length]),new c.zui.Color(b[e]?b[e]:e)},c.zui({colorset:b}),c.zui.Color&&c.extend(c.zui.Color,b)}(jQuery),
/*!
 * ZUI - v1.3.1 - 2015-05-19
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2015 cnezsoft.com; Licensed MIT
 */
(function(r){var s=r&&r.zui?r.zui:this,t=(s.Chart,function(L){this.canvas=L.canvas,this.ctx=L;var M=function(N,O){return N["offset"+O]?N["offset"+O]:document.defaultView.getComputedStyle(N).getPropertyValue(O)},J=this.width=M(L.canvas,"Width"),K=this.height=M(L.canvas,"Height");L.canvas.width=J,L.canvas.height=K;var J=this.width=L.canvas.width,K=this.height=L.canvas.height;return this.aspectRatio=this.width/this.height,u.retinaScale(this),this});t.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},t.types={};var u=t.helpers={},v=u.each=function(N,O,J){var K=Array.prototype.slice.call(arguments,3);if(N){if(N.length===+N.length){var L;for(L=0;L<N.length;L++){O.apply(J,[N[L],L].concat(K))}}else{for(var M in N){O.apply(J,[N[M],M].concat(K))}}}},w=u.clone=function(J){var K={};return v(J,function(M,L){J.hasOwnProperty(L)&&(K[L]=M)}),K},x=u.extend=function(J){return v(Array.prototype.slice.call(arguments,1),function(K){v(K,function(L,M){K.hasOwnProperty(M)&&(J[M]=L)})}),J},y=u.merge=function(K,L){var J=Array.prototype.slice.call(arguments,0);return J.unshift({}),x.apply(null,J)},z=u.indexOf=function(K,L){if(Array.prototype.indexOf){return K.indexOf(L)}for(var J=0;J<K.length;J++){if(K[J]===L){return J}}return -1},A=(u.where=function(K,L){var J=[];return u.each(K,function(M){L(M)&&J.push(M)}),J},u.findNextWhere=function(M,N,J){J||(J=-1);for(var K=J+1;K<M.length;K++){var L=M[K];if(N(L)){return L}}},u.findPreviousWhere=function(M,N,J){J||(J=M.length);for(var K=J-1;K>=0;K--){var L=M[K];if(N(L)){return L}}},u.inherits=function(L){var M=this,J=L&&L.hasOwnProperty("constructor")?L.constructor:function(){return M.apply(this,arguments)},K=function(){this.constructor=J};return K.prototype=M.prototype,J.prototype=new K,J.extend=A,L&&x(J.prototype,L),J.__super__=M.prototype,J}),B=u.noop=function(){},C=u.uid=function(){var J=0;return function(){return"chart-"+J++}}(),D=u.warn=function(J){window.console&&"function"==typeof window.console.warn&&console.warn(J)},E=u.amd="function"==typeof define&&define.amd,F=u.isNumber=function(J){return !isNaN(parseFloat(J))&&isFinite(J)},G=u.max=function(J){return Math.max.apply(Math,J)},I=u.min=function(J){return Math.min.apply(Math,J)},b=(u.cap=function(K,L,J){if(F(L)){if(K>L){return L}}else{if(F(J)&&J>K){return J}}return K},u.getDecimalPlaces=function(J){return J%1!==0&&F(J)?J.toString().split(".")[1].length:0}),d=u.radians=function(J){return J*(Math.PI/180)},f=(u.getAngleFromPoint=function(N,O){var J=O.x-N.x,K=O.y-N.y,L=Math.sqrt(J*J+K*K),M=2*Math.PI+Math.atan2(K,J);return 0>J&&0>K&&(M+=2*Math.PI),{angle:M,distance:L}},u.aliasPixel=function(J){return J%2===0?0:0.5}),h=(u.splineCurve=function(L,M,N,O){var P=Math.sqrt(Math.pow(M.x-L.x,2)+Math.pow(M.y-L.y,2)),Q=Math.sqrt(Math.pow(N.x-M.x,2)+Math.pow(N.y-M.y,2)),J=O*P/(P+Q),K=O*Q/(P+Q);return{inner:{x:M.x-J*(N.x-L.x),y:M.y-J*(N.y-L.y)},outer:{x:M.x+K*(N.x-L.x),y:M.y+K*(N.y-L.y)}}},u.calculateOrderOfMagnitude=function(J){return Math.floor(Math.log(J)/Math.LN10)}),j=(u.calculateScaleRange=function(W,Y,Z,J,L){var N=2,O=Math.floor(Y/(1.5*Z)),P=N>=O,Q=G(W),R=I(W);Q===R&&(Q+=0.5,R>=0.5&&!J?R-=0.5:Q+=0.5);for(var S=Math.abs(Q-R),U=h(S),V=Math.ceil(Q/(1*Math.pow(10,U)))*Math.pow(10,U),X=J?0:Math.floor(R/(1*Math.pow(10,U)))*Math.pow(10,U),K=V-X,M=Math.pow(10,U),T=Math.round(K/M);(T>O||O>2*T)&&!P;){if(T>O){M*=2,T=Math.round(K/M),T%1!==0&&(P=!0)}else{if(L&&U>=0){if(M/2%1!==0){break}M/=2,T=Math.round(K/M)}else{M/=2,T=Math.round(K/M)}}}return P&&(T=N,M=K/T),{steps:T,stepValue:M,min:X,max:X+T*M}},u.template=function(L,M){function J(O,P){var N=/\W/.test(O)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+O.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):K[O]=K[O];return P?N(P):N}if(L instanceof Function){return L(M)}var K={};return J(L,M)}),l=(u.generateLabels=function(M,N,J,K){var L=new Array(N);return labelTemplateString&&v(L,function(P,O){L[O]=j(M,{value:J+K*(O+1)})}),L},u.easingEffects={linear:function(J){return J},easeInQuad:function(J){return J*J},easeOutQuad:function(J){return -1*J*(J-2)},easeInOutQuad:function(J){return(J/=0.5)<1?0.5*J*J:-0.5*(--J*(J-2)-1)},easeInCubic:function(J){return J*J*J},easeOutCubic:function(J){return 1*((J=J/1-1)*J*J+1)},easeInOutCubic:function(J){return(J/=0.5)<1?0.5*J*J*J:0.5*((J-=2)*J*J+2)},easeInQuart:function(J){return J*J*J*J},easeOutQuart:function(J){return -1*((J=J/1-1)*J*J*J-1)},easeInOutQuart:function(J){return(J/=0.5)<1?0.5*J*J*J*J:-0.5*((J-=2)*J*J*J-2)},easeInQuint:function(J){return 1*(J/=1)*J*J*J*J},easeOutQuint:function(J){return 1*((J=J/1-1)*J*J*J*J+1)},easeInOutQuint:function(J){return(J/=0.5)<1?0.5*J*J*J*J*J:0.5*((J-=2)*J*J*J*J+2)},easeInSine:function(J){return -1*Math.cos(J/1*(Math.PI/2))+1},easeOutSine:function(J){return 1*Math.sin(J/1*(Math.PI/2))},easeInOutSine:function(J){return -0.5*(Math.cos(Math.PI*J/1)-1)},easeInExpo:function(J){return 0===J?1:1*Math.pow(2,10*(J/1-1))},easeOutExpo:function(J){return 1===J?1:1*(-Math.pow(2,-10*J/1)+1)},easeInOutExpo:function(J){return 0===J?0:1===J?1:(J/=0.5)<1?0.5*Math.pow(2,10*(J-1)):0.5*(-Math.pow(2,-10*--J)+2)},easeInCirc:function(J){return J>=1?J:-1*(Math.sqrt(1-(J/=1)*J)-1)},easeOutCirc:function(J){return 1*Math.sqrt(1-(J=J/1-1)*J)},easeInOutCirc:function(J){return(J/=0.5)<1?-0.5*(Math.sqrt(1-J*J)-1):0.5*(Math.sqrt(1-(J-=2)*J)+1)},easeInElastic:function(L){var M=1.70158,J=0,K=1;return 0===L?0:1==(L/=1)?1:(J||(J=0.3),K<Math.abs(1)?(K=1,M=J/4):M=J/(2*Math.PI)*Math.asin(1/K),-(K*Math.pow(2,10*(L-=1))*Math.sin(2*(1*L-M)*Math.PI/J)))},easeOutElastic:function(L){var M=1.70158,J=0,K=1;return 0===L?0:1==(L/=1)?1:(J||(J=0.3),K<Math.abs(1)?(K=1,M=J/4):M=J/(2*Math.PI)*Math.asin(1/K),K*Math.pow(2,-10*L)*Math.sin(2*(1*L-M)*Math.PI/J)+1)},easeInOutElastic:function(L){var M=1.70158,J=0,K=1;return 0===L?0:2==(L/=0.5)?1:(J||(J=0.3*1.5),K<Math.abs(1)?(K=1,M=J/4):M=J/(2*Math.PI)*Math.asin(1/K),1>L?-0.5*K*Math.pow(2,10*(L-=1))*Math.sin(2*(1*L-M)*Math.PI/J):K*Math.pow(2,-10*(L-=1))*Math.sin(2*(1*L-M)*Math.PI/J)*0.5+1)},easeInBack:function(J){var K=1.70158;return 1*(J/=1)*J*((K+1)*J-K)},easeOutBack:function(J){var K=1.70158;return 1*((J=J/1-1)*J*((K+1)*J+K)+1)},easeInOutBack:function(J){var K=1.70158;return(J/=0.5)<1?0.5*J*J*(((K*=1.525)+1)*J-K):0.5*((J-=2)*J*(((K*=1.525)+1)*J+K)+2)},easeInBounce:function(J){return 1-l.easeOutBounce(1-J)},easeOutBounce:function(J){return(J/=1)<1/2.75?7.5625*J*J:2/2.75>J?1*(7.5625*(J-=1.5/2.75)*J+0.75):2.5/2.75>J?1*(7.5625*(J-=2.25/2.75)*J+0.9375):1*(7.5625*(J-=2.625/2.75)*J+0.984375)},easeInOutBounce:function(J){return 0.5>J?0.5*l.easeInBounce(2*J):0.5*l.easeOutBounce(2*J-1)+0.5}}),n=u.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(J){return window.setTimeout(J,1000/60)}}(),p=u.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(J){return window.clearTimeout(J,1000/60)}}(),q=(u.animationLoop=function(J,K,L,M,N,O){var P=0,Q=l[L]||l.linear,R=function(){P++;var T=P/K,S=Q(T);J.call(O,S,T,P),M.call(O,S,T),K>P?O.animationFrame=n(R):N.apply(O)};n(R)},u.getRelativePosition=function(N){var O,J,K=N.originalEvent||N,L=N.currentTarget||N.srcElement,M=L.getBoundingClientRect();return K.touches?(O=K.touches[0].clientX-M.left,J=K.touches[0].clientY-M.top):(O=K.clientX-M.left,J=K.clientY-M.top),{x:O,y:J}},u.addEvent=function(K,L,J){K.addEventListener?K.addEventListener(L,J):K.attachEvent?K.attachEvent("on"+L,J):K["on"+L]=J}),H=u.removeEvent=function(K,L,J){K.removeEventListener?K.removeEventListener(L,J,!1):K.detachEvent?K.detachEvent("on"+L,J):K["on"+L]=B},a=(u.bindEvents=function(K,L,J){K.events||(K.events={}),v(L,function(M){K.events[M]=function(){J.apply(K,arguments)},q(K.chart.canvas,M,K.events[M])})},u.unbindEvents=function(J,K){v(K,function(M,L){H(J.chart.canvas,L,M)})}),c=u.getMaximumWidth=function(J){var K=J.parentNode;return K.clientWidth},e=u.getMaximumHeight=function(J){var K=J.parentNode;return K.clientHeight},g=(u.getMaximumSize=u.getMaximumWidth,u.retinaScale=function(L){var M=L.ctx,J=L.canvas.width,K=L.canvas.height;window.devicePixelRatio&&(M.canvas.style.width=J+"px",M.canvas.style.height=K+"px",M.canvas.height=K*window.devicePixelRatio,M.canvas.width=J*window.devicePixelRatio,M.scale(window.devicePixelRatio,window.devicePixelRatio))}),i=u.clear=function(J){J.ctx.clearRect(0,0,J.width,J.height)},k=u.fontString=function(K,L,J){return L+" "+K+"px "+J},m=u.longestText=function(L,M,J){L.font=M;var K=0;return v(J,function(O){var N=L.measureText(O).width;K=N>K?N:K}),K},o=u.drawRoundedRectangle=function(N,O,J,K,L,M){N.beginPath(),N.moveTo(O+M,J),N.lineTo(O+K-M,J),N.quadraticCurveTo(O+K,J,O+K,J+M),N.lineTo(O+K,J+L-M),N.quadraticCurveTo(O+K,J+L,O+K-M,J+L),N.lineTo(O+M,J+L),N.quadraticCurveTo(O,J+L,O,J+L-M),N.lineTo(O,J+M),N.quadraticCurveTo(O,J,O+M,J),N.closePath()};t.instances={},t.Type=function(K,L,J){this.options=L,this.chart=J,this.id=C(),t.instances[this.id]=this,L.responsive&&this.resize(),this.initialize.call(this,K)},x(t.Type.prototype,{initialize:function(){return this},clear:function(){return i(this.chart),this},stop:function(){return p(this.animationFrame),this},resize:function(L){this.stop();var M=this.chart.canvas,J=c(this.chart.canvas),K=this.options.maintainAspectRatio?J/this.chart.aspectRatio:e(this.chart.canvas);return M.width=this.chart.width=J,M.height=this.chart.height=K,g(this.chart),"function"==typeof L&&L.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:B,render:function(J){return J&&this.reflow(),this.options.animation&&!J?u.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return j(this.options.legendTemplate,this)},destroy:function(){this.clear(),a(this,this.events);var J=this.chart.canvas;J.width=this.chart.width,J.height=this.chart.height,J.style.removeProperty?(J.style.removeProperty("width"),J.style.removeProperty("height")):(J.style.removeAttribute("width"),J.style.removeAttribute("height")),delete t.instances[this.id]},showTooltip:function(Q,R){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var J=function(S){var T=!1;return S.length!==this.activeElements.length?T=!0:(v(S,function(U,V){U!==this.activeElements[V]&&(T=!0)},this),T)}.call(this,Q);if(J||R){if(this.activeElements=Q,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),Q.length>0){if(this.datasets&&this.datasets.length>1){for(var K,L,M=this.datasets.length-1;M>=0&&(K=this.datasets[M].points||this.datasets[M].bars||this.datasets[M].segments,L=z(K,Q[0]),-1===L);M--){}var N=[],O=[],P=function(V){var W,X,Y,Z,aa,S=[],T=[],U=[];return u.each(this.datasets,function(ab){ab.showTooltips!==!1&&(W=ab.points||ab.bars||ab.segments,W[L]&&W[L].hasValue()&&S.push(W[L]))}),u.each(S,function(ab){T.push(ab.x),U.push(ab.y),N.push(u.template(this.options.multiTooltipTemplate,ab)),O.push({fill:ab._saved.fillColor||ab.fillColor,stroke:ab._saved.strokeColor||ab.strokeColor})},this),aa=I(U),Y=G(U),Z=I(T),X=G(T),{x:Z>this.chart.width/2?Z:X,y:(aa+Y)/2}}.call(this,L);new t.MultiTooltip({x:P.x,y:P.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:N,legendColors:O,legendColorBackground:this.options.multiTooltipKeyBackground,title:Q[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else{v(Q,function(S){var T=S.tooltipPosition();new t.Tooltip({x:Math.round(T.x),y:Math.round(T.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:j(this.options.tooltipTemplate,S),chart:this.chart,custom:this.options.customTooltips}).draw()},this)}}return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),t.Type.extend=function(M){var N=this,J=function(){return N.apply(this,arguments)};if(J.prototype=w(N.prototype),x(J.prototype,M),J.extend=t.Type.extend,M.name||N.prototype.name){var K=M.name||N.prototype.name,L=t.defaults[N.prototype.name]?w(t.defaults[N.prototype.name]):{};t.defaults[K]=x(L,M.defaults),t.types[K]=J,t.prototype[K]=function(P,Q){var O=y(t.defaults.global,t.defaults[K],Q||{});return new J(P,O,this)}}else{D("Name not provided for this chart, so it hasn't been registered")}return N},t.Element=function(J){x(this,J),this.initialize.apply(this,arguments),this.save()},x(t.Element.prototype,{initialize:function(){},restore:function(J){return J?v(J,function(K){this[K]=this._saved[K]},this):x(this,this._saved),this},save:function(){return this._saved=w(this),delete this._saved._saved,this},update:function(J){return v(J,function(K,L){this._saved[L]=this[L],this[L]=K},this),this},transition:function(J,K){return v(J,function(L,M){this[M]=(L-this._saved[M])*K+this._saved[M]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return F(this.value)}}),t.Element.extend=A,t.Point=t.Element.extend({display:!0,inRange:function(K,L){var J=this.hitDetectionRadius+this.radius;return Math.pow(K-this.x,2)+Math.pow(L-this.y,2)<Math.pow(J,2)},draw:function(){if(this.display){var J=this.ctx;J.beginPath(),J.arc(this.x,this.y,this.radius,0,2*Math.PI),J.closePath(),J.strokeStyle=this.strokeColor,J.lineWidth=this.strokeWidth,J.fillStyle=this.fillColor,J.fill(),J.stroke()}}}),t.Arc=t.Element.extend({inRange:function(M,N){var J=u.getAngleFromPoint(this,{x:M,y:N}),K=J.angle>=this.startAngle&&J.angle<=this.endAngle,L=J.distance>=this.innerRadius&&J.distance<=this.outerRadius;return K&&L},tooltipPosition:function(){var J=this.startAngle+(this.endAngle-this.startAngle)/2,K=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(J)*K,y:this.y+Math.sin(J)*K}},draw:function(J){var K=this.ctx;K.beginPath(),K.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),K.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),K.closePath(),K.strokeStyle=this.strokeColor,K.lineWidth=this.strokeWidth,K.fillStyle=this.fillColor,K.fill(),K.lineJoin="bevel",this.showStroke&&K.stroke()}}),t.Rectangle=t.Element.extend({draw:function(){var N=this.ctx,O=this.width/2,J=this.x-O,K=this.x+O,L=this.base-(this.base-this.y),M=this.strokeWidth/2;this.showStroke&&(J+=M,K-=M,L+=M),N.beginPath(),N.fillStyle=this.fillColor,N.strokeStyle=this.strokeColor,N.lineWidth=this.strokeWidth,N.moveTo(J,this.base),N.lineTo(J,L),N.lineTo(K,L),N.lineTo(K,this.base),N.fill(),this.showStroke&&N.stroke()},height:function(){return this.base-this.y},inRange:function(J,K){return J>=this.x-this.width/2&&J<=this.x+this.width/2&&K>=this.y&&K<=this.base}}),t.Tooltip=t.Element.extend({draw:function(){var M=this.chart.ctx;M.font=k(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var N=this.caretPadding=2,O=M.measureText(this.text).width+2*this.xPadding,P=this.fontSize+2*this.yPadding,J=P+this.caretHeight+N;this.x+O/2>this.chart.width?this.xAlign="left":this.x-O/2<0&&(this.xAlign="right"),this.y-J<0&&(this.yAlign="below");var K=this.x-O/2,L=this.y-J;if(M.fillStyle=this.fillColor,this.custom){this.custom(this)}else{switch(this.yAlign){case"above":M.beginPath(),M.moveTo(this.x,this.y-N),M.lineTo(this.x+this.caretHeight,this.y-(N+this.caretHeight)),M.lineTo(this.x-this.caretHeight,this.y-(N+this.caretHeight)),M.closePath(),M.fill();break;case"below":L=this.y+N+this.caretHeight,M.beginPath(),M.moveTo(this.x,this.y+N),M.lineTo(this.x+this.caretHeight,this.y+N+this.caretHeight),M.lineTo(this.x-this.caretHeight,this.y+N+this.caretHeight),M.closePath(),M.fill()}switch(this.xAlign){case"left":K=this.x-O+(this.cornerRadius+this.caretHeight);break;case"right":K=this.x-(this.cornerRadius+this.caretHeight)}o(M,K,L,O,P,this.cornerRadius),M.fill(),M.fillStyle=this.textColor,M.textAlign="center",M.textBaseline="middle",M.fillText(this.text,K+O/2,L+P/2)}}}),t.MultiTooltip=t.Element.extend({initialize:function(){this.font=k(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=k(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var L=this.ctx.measureText(this.title).width,M=m(this.ctx,this.font,this.labels)+this.fontSize+3,J=G([M,L]);this.width=J+2*this.xPadding;var K=this.height/2;this.y-K<0?this.y=K:this.y+K>this.chart.height&&(this.y=this.chart.height-K),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(K){var L=this.y-this.height/2+this.yPadding,J=K-1;return 0===K?L+this.titleFontSize/2:L+(1.5*this.fontSize*J+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom){this.custom(this)}else{o(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var J=this.ctx;J.fillStyle=this.fillColor,J.fill(),J.closePath(),J.textAlign="left",J.textBaseline="middle",J.fillStyle=this.titleTextColor,J.font=this.titleFont,J.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),J.font=this.font,u.each(this.labels,function(L,K){J.fillStyle=this.textColor,J.fillText(L,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(K+1)),J.fillStyle=this.legendColorBackground,J.fillRect(this.x+this.xPadding,this.getLineHeight(K+1)-this.fontSize/2,this.fontSize,this.fontSize),J.fillStyle=this.legendColors[K].fill,J.fillRect(this.x+this.xPadding,this.getLineHeight(K+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),t.Scale=t.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var J=b(this.stepValue),K=0;K<=this.steps;K++){this.yLabels.push(j(this.templateString,{value:(this.min+K*this.stepValue).toFixed(J)}))}this.yLabelWidth=this.display&&this.showLabels?m(this.ctx,this.font,this.yLabels):0},addXLabel:function(J){this.xLabels.push(J),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var J,K=this.endPoint-this.startPoint;for(this.calculateYRange(K),this.buildYLabels(),this.calculateXLabelRotation();K>this.endPoint-this.startPoint;){K=this.endPoint-this.startPoint,J=this.yLabelWidth,this.calculateYRange(K),this.buildYLabels(),J<this.yLabelWidth&&this.calculateXLabelRotation()}},calculateXLabelRotation:function(){this.ctx.font=this.font;var M,N,O=this.ctx.measureText(this.xLabels[0]).width,P=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=P/2+3,this.xScalePaddingLeft=O/2>this.yLabelWidth+10?O/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var J,K=m(this.ctx,this.font,this.xLabels);this.xLabelWidth=K;for(var L=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>L&&0===this.xLabelRotation||this.xLabelWidth>L&&this.xLabelRotation<=90&&this.xLabelRotation>0;){J=Math.cos(d(this.xLabelRotation)),M=J*O,N=J*P,M+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=M+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=J*K}this.xLabelRotation>0&&(this.endPoint-=Math.sin(d(this.xLabelRotation))*K+3)}else{this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding}},calculateYRange:B,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(J){var K=this.drawingArea()/(this.min-this.max);return this.endPoint-K*(J-this.min)},calculateX:function(L){var M=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),J=M/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),K=J*L+this.xScalePaddingLeft;return this.offsetGridLines&&(K+=J/2),Math.round(K)},update:function(J){u.extend(this,J),this.fit()},draw:function(){var K=this.ctx,L=(this.endPoint-this.startPoint)/this.steps,J=Math.round(this.xScalePaddingLeft);this.display&&(K.fillStyle=this.textColor,K.font=this.font,v(this.yLabels,function(N,O){var P=this.endPoint-L*O,Q=Math.round(P),M=this.showHorizontalLines;K.textAlign="right",K.textBaseline="middle",this.showLabels&&K.fillText(N,J-10,P),0!==O||M||(M=!0),M&&K.beginPath(),O>0?(K.lineWidth=this.gridLineWidth,K.strokeStyle=this.gridLineColor):(K.lineWidth=this.lineWidth,K.strokeStyle=this.lineColor),Q+=u.aliasPixel(K.lineWidth),M&&(K.moveTo(J,Q),K.lineTo(this.width,Q),K.stroke(),K.closePath()),K.lineWidth=this.lineWidth,K.strokeStyle=this.lineColor,K.beginPath(),K.moveTo(J-5,Q),K.lineTo(J,Q),K.stroke(),K.closePath()},this),v(this.xLabels,function(Q,R){var M=this.calculateX(R)+f(this.lineWidth),N=this.calculateX(R-(this.offsetGridLines?0.5:0))+f(this.lineWidth),O=this.xLabelRotation>0,P=this.showVerticalLines;0!==R||P||(P=!0),P&&K.beginPath(),R>0?(K.lineWidth=this.gridLineWidth,K.strokeStyle=this.gridLineColor):(K.lineWidth=this.lineWidth,K.strokeStyle=this.lineColor),P&&(K.moveTo(N,this.endPoint),K.lineTo(N,this.startPoint-3),K.stroke(),K.closePath()),K.lineWidth=this.lineWidth,K.strokeStyle=this.lineColor,K.beginPath(),K.moveTo(N,this.endPoint),K.lineTo(N,this.endPoint+5),K.stroke(),K.closePath(),K.save(),K.translate(M,O?this.endPoint+12:this.endPoint+8),K.rotate(-1*d(this.xLabelRotation)),K.font=this.font,K.textAlign=O?"right":"center",K.textBaseline=O?"middle":"top",K.fillText(Q,0,0),K.restore()},this))}}),t.RadialScale=t.Element.extend({initialize:function(){this.size=I([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(J){var K=this.drawingArea/(this.max-this.min);return(J-this.min)*K},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var J=b(this.stepValue),K=0;K<=this.steps;K++){this.yLabels.push(j(this.templateString,{value:(this.min+K*this.stepValue).toFixed(J)}))}},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var K,M,N,P,Q,R,S,T,U,V,W,X,J=I([this.height/2-this.pointLabelFontSize-5,this.width/2]),L=this.width,O=0;for(this.ctx.font=k(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),M=0;M<this.valuesCount;M++){K=this.getPointPosition(M,J),N=this.ctx.measureText(j(this.templateString,{value:this.labels[M]})).width+5,0===M||M===this.valuesCount/2?(P=N/2,K.x+P>L&&(L=K.x+P,Q=M),K.x-P<O&&(O=K.x-P,S=M)):M<this.valuesCount/2?K.x+N>L&&(L=K.x+N,Q=M):M>this.valuesCount/2&&K.x-N<O&&(O=K.x-N,S=M)}U=O,V=Math.ceil(L-this.width),R=this.getIndexAngle(Q),T=this.getIndexAngle(S),W=V/Math.sin(R+Math.PI/2),X=U/Math.sin(T+Math.PI/2),W=F(W)?W:0,X=F(X)?X:0,this.drawingArea=J-(X+W)/2,this.setCenterPoint(X,W)},setCenterPoint:function(L,M){var J=this.width-M-this.drawingArea,K=L+this.drawingArea;this.xCenter=(K+J)/2,this.yCenter=this.height/2},getIndexAngle:function(J){var K=2*Math.PI/this.valuesCount;return J*K-Math.PI/2},getPointPosition:function(K,L){var J=this.getIndexAngle(K);return{x:Math.cos(J)*L+this.xCenter,y:Math.sin(J)*L+this.yCenter}},draw:function(){if(this.display){var R=this.ctx;if(v(this.yLabels,function(W,Y){if(Y>0){var S,T=Y*(this.drawingArea/this.steps),U=this.yCenter-T;if(this.lineWidth>0){if(R.strokeStyle=this.lineColor,R.lineWidth=this.lineWidth,this.lineArc){R.beginPath(),R.arc(this.xCenter,this.yCenter,T,0,2*Math.PI),R.closePath(),R.stroke()}else{R.beginPath();for(var V=0;V<this.valuesCount;V++){S=this.getPointPosition(V,this.calculateCenterOffset(this.min+Y*this.stepValue)),0===V?R.moveTo(S.x,S.y):R.lineTo(S.x,S.y)}R.closePath(),R.stroke()}}if(this.showLabels){if(R.font=k(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var X=R.measureText(W).width;R.fillStyle=this.backdropColor,R.fillRect(this.xCenter-X/2-this.backdropPaddingX,U-this.fontSize/2-this.backdropPaddingY,X+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}R.textAlign="center",R.textBaseline="middle",R.fillStyle=this.fontColor,R.fillText(W,this.xCenter,U)}}},this),!this.lineArc){R.lineWidth=this.angleLineWidth,R.strokeStyle=this.angleLineColor;for(var J=this.valuesCount-1;J>=0;J--){if(this.angleLineWidth>0){var K=this.getPointPosition(J,this.calculateCenterOffset(this.max));R.beginPath(),R.moveTo(this.xCenter,this.yCenter),R.lineTo(K.x,K.y),R.stroke(),R.closePath()}var L=this.getPointPosition(J,this.calculateCenterOffset(this.max)+5);R.font=k(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),R.fillStyle=this.pointLabelFontColor;var M=this.labels.length,N=this.labels.length/2,O=N/2,P=O>J||J>M-O,Q=J===O||J===M-O;R.textAlign=0===J?"center":J===N?"center":N>J?"left":"right",R.textBaseline=Q?"middle":P?"bottom":"top",R.fillText(this.labels[J],L.x,L.y)}}}}}),u.addEvent(window,"resize",function(){var J;return function(){clearTimeout(J),J=setTimeout(function(){v(t.instances,function(K){K.options.responsive&&K.resize(K.render,!0)})},50)}}()),E?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t),s.Chart=t,r.fn.chart=function(){var J=[];return this.each(function(){J.push(new t(this.getContext("2d")))}),1===J.length?J[0]:J}}).call(this,jQuery),function(d){var e=d&&d.zui?d.zui:this,a=e.Chart,b=a.helpers,c={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:0.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};a.Type.extend({name:"Line",defaults:c,initialize:function(f){this.PointClass=a.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(g){return Math.pow(g-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&b.bindEvents(this,this.options.tooltipEvents,function(g){var h="mouseout"!==g.type?this.getPointsAtEvent(g):[];this.eachPoints(function(i){i.restore(["fillColor","strokeColor"])}),b.each(h,function(i){i.fillColor=i.highlightFill,i.strokeColor=i.highlightStroke}),this.showTooltip(h)}),b.each(f.datasets,function(h){if(d.zui&&d.zui.Color&&d.zui.Color.get){var i=d.zui.Color.get(h.color),j=i.toCssStr();h.fillColor||(h.fillColor=i.clone().fade(20).toCssStr()),h.strokeColor||(h.strokeColor=j),h.pointColor||(h.pointColor=j),h.pointStrokeColor||(h.pointStrokeColor="#fff"),h.pointHighlightFill||(h.pointHighlightFill="#fff"),h.pointHighlightStroke||(h.pointHighlightStroke=j)}var g={label:h.label||null,fillColor:h.fillColor,strokeColor:h.strokeColor,pointColor:h.pointColor,pointStrokeColor:h.pointStrokeColor,showTooltips:h.showTooltips!==!1,points:[]};this.datasets.push(g),b.each(h.data,function(l,k){g.points.push(new this.PointClass({value:l,label:f.labels[k],datasetLabel:h.label,strokeColor:h.pointStrokeColor,fillColor:h.pointColor,highlightFill:h.pointHighlightFill||h.pointColor,highlightStroke:h.pointHighlightStroke||h.pointStrokeColor}))},this),this.buildScale(f.labels),this.eachPoints(function(k,l){b.extend(k,{x:this.scale.calculateX(l),y:this.scale.endPoint}),k.save()},this)},this),this.render()},update:function(){this.scale.update(),b.each(this.activeElements,function(f){f.restore(["fillColor","strokeColor"])}),this.eachPoints(function(f){f.save()}),this.render()},eachPoints:function(f){b.each(this.datasets,function(g){b.each(g.points,f,this)},this)},getPointsAtEvent:function(g){var h=[],f=b.getRelativePosition(g);return b.each(this.datasets,function(i){b.each(i.points,function(j){j.inRange(f.x,f.y)&&h.push(j)})},this),h},buildScale:function(h){var i=this,f=function(){var j=[];return i.eachPoints(function(k){j.push(k.value)}),j},g={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:h.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(j){var k=b.calculateScaleRange(f(),j,this.fontSize,this.beginAtZero,this.integersOnly);b.extend(this,k)},xLabels:h,font:b.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&b.extend(g,{calculateYRange:b.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new a.Scale(g)},addData:function(f,g){b.each(f,function(h,i){this.datasets[i].points.push(new this.PointClass({value:h,label:g,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.addXLabel(g),this.update()},removeData:function(){this.scale.removeXLabel(),b.each(this.datasets,function(f){f.points.shift()},this),this.update()},reflow:function(){var f=b.extend({height:this.chart.height,width:this.chart.width});this.scale.update(f)},draw:function(g){var j=g||1;this.clear();var h=this.chart.ctx,i=function(l){return null!==l.value},k=function(m,n,l){return b.findNextWhere(n,i,l)||m},f=function(m,n,l){return b.findPreviousWhere(n,i,l)||m};this.scale.draw(j),b.each(this.datasets,function(l){var m=b.where(l.points,i);b.each(l.points,function(o,n){o.hasValue()&&o.transition({y:this.scale.calculateY(o.value),x:this.scale.calculateX(n)},j)},this),this.options.bezierCurve&&b.each(m,function(o,p){var n=p>0&&p<m.length-1?this.options.bezierCurveTension:0;o.controlPoints=b.splineCurve(f(o,m,p),o,k(o,m,p),n),o.controlPoints.outer.y>this.scale.endPoint?o.controlPoints.outer.y=this.scale.endPoint:o.controlPoints.outer.y<this.scale.startPoint&&(o.controlPoints.outer.y=this.scale.startPoint),o.controlPoints.inner.y>this.scale.endPoint?o.controlPoints.inner.y=this.scale.endPoint:o.controlPoints.inner.y<this.scale.startPoint&&(o.controlPoints.inner.y=this.scale.startPoint)},this),h.lineWidth=this.options.datasetStrokeWidth,h.strokeStyle=l.strokeColor,h.beginPath(),b.each(m,function(o,p){if(0===p){h.moveTo(o.x,o.y)}else{if(this.options.bezierCurve){var n=f(o,m,p);h.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,o.controlPoints.inner.x,o.controlPoints.inner.y,o.x,o.y)}else{h.lineTo(o.x,o.y)}}},this),h.stroke(),this.options.datasetFill&&m.length>0&&(h.lineTo(m[m.length-1].x,this.scale.endPoint),h.lineTo(m[0].x,this.scale.endPoint),h.fillStyle=l.fillColor,h.closePath(),h.fill()),b.each(m,function(n){n.draw()})},this)}}),d.fn.lineChart=function(h,f){var g=[];return this.each(function(){var i=d(this);g.push(new a(this.getContext("2d")).Line(h,d.extend(i.data(),f)))}),1===g.length?g[0]:g}}.call(this,jQuery),function(d){var e=d&&d.zui?d.zui:this,a=e.Chart,b=a.helpers,c={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:1,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};a.Type.extend({name:"Bar",defaults:c,initialize:function(g){var f=this.options;this.ScaleClass=a.Scale.extend({offsetGridLines:!0,calculateBarX:function(h,i,j){var k=this.calculateBaseWidth(),r=this.calculateX(j)-k/2,s=this.calculateBarWidth(h);return r+s*i+i*f.barDatasetSpacing+s/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*f.barValueSpacing},calculateBarWidth:function(h){var i=this.calculateBaseWidth()-(h-1)*f.barDatasetSpacing;return i/h}}),this.datasets=[],this.options.showTooltips&&b.bindEvents(this,this.options.tooltipEvents,function(h){var i="mouseout"!==h.type?this.getBarsAtEvent(h):[];this.eachBars(function(j){j.restore(["fillColor","strokeColor"])}),b.each(i,function(j){j.fillColor=j.highlightFill,j.strokeColor=j.highlightStroke}),this.showTooltip(i)}),this.BarClass=a.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),b.each(g.datasets,function(k,p){if(d.zui&&d.zui.Color&&d.zui.Color.get){var i=d.zui.Color.get(k.color),j=i.toCssStr();k.fillColor||(k.fillColor=i.clone().fade(50).toCssStr()),k.strokeColor||(k.strokeColor=j)}var h={label:k.label||null,fillColor:k.fillColor,strokeColor:k.strokeColor,bars:[]};this.datasets.push(h),b.each(k.data,function(m,l){h.bars.push(new this.BarClass({value:m,label:g.labels[l],datasetLabel:k.label,strokeColor:k.strokeColor,fillColor:k.fillColor,highlightFill:k.highlightFill||k.fillColor,highlightStroke:k.highlightStroke||k.strokeColor}))},this)},this),this.buildScale(g.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(h,i,j){b.extend(h,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,j,i),y:this.scale.endPoint}),h.save()},this),this.render()},update:function(){this.scale.update(),b.each(this.activeElements,function(f){f.restore(["fillColor","strokeColor"])}),this.eachBars(function(f){f.save()}),this.render()},eachBars:function(f){b.each(this.datasets,function(h,g){b.each(h.bars,f,this,g)},this)},getBarsAtEvent:function(g){for(var j,h=[],i=b.getRelativePosition(g),k=function(l){h.push(l.bars[j])},f=0;f<this.datasets.length;f++){for(j=0;j<this.datasets[f].bars.length;j++){if(this.datasets[f].bars[j].inRange(i.x,i.y)){return b.each(this.datasets,k),h}}}return h},buildScale:function(g){var h=this,i=function(){var j=[];return h.eachBars(function(k){j.push(k.value)}),j},f={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:g.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(j){var k=b.calculateScaleRange(i(),j,this.fontSize,this.beginAtZero,this.integersOnly);b.extend(this,k)},xLabels:g,font:b.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&b.extend(f,{calculateYRange:b.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(f)},addData:function(f,g){b.each(f,function(h,i){this.datasets[i].bars.push(new this.BarClass({value:h,label:g,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(g),this.update()},removeData:function(){this.scale.removeXLabel(),b.each(this.datasets,function(f){f.bars.shift()},this),this.update()},reflow:function(){b.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var f=b.extend({height:this.chart.height,width:this.chart.width});this.scale.update(f)},draw:function(f){var g=f||1;this.clear();this.chart.ctx;this.scale.draw(g),b.each(this.datasets,function(h,i){b.each(h.bars,function(j,k){j.hasValue()&&(j.base=this.scale.endPoint,j.transition({x:this.scale.calculateBarX(this.datasets.length,i,k),y:this.scale.calculateY(j.value),width:this.scale.calculateBarWidth(this.datasets.length)},g).draw())},this)},this)}}),d.fn.barChart=function(h,f){var g=[];return this.each(function(){var i=d(this);g.push(new a(this.getContext("2d")).Bar(h,d.extend(i.data(),f)))}),1===g.length?g[0]:g}}.call(this,jQuery);
;}catch(e){}
try{
/*! SmartAdmin - v1.5 - 2014-09-27*/!function(a,b,c,d){function e(b,c){this.obj=a(b),this.o=a.extend({},a.fn[f].defaults,c),this.objId=this.obj.attr("id"),this.pwCtrls=".jarviswidget-ctrls",this.widget=this.obj.find(this.o.widgets),this.toggleClass=this.o.toggleClass.split("|"),this.editClass=this.o.editClass.split("|"),this.fullscreenClass=this.o.fullscreenClass.split("|"),this.customClass=this.o.customClass.split("|"),this.storage={"enabled":this.o.localStorage},this.initialized=!1,this.init()}var f="jarvisWidgets",g=("ontouchstart"in b||b.DocumentTouch&&c instanceof DocumentTouch?"touchstart":"click")+"."+f;e.prototype={"_runLoaderWidget":function(a){var b=this;b.o.indicator===!0&&a.parents(b.o.widgets).find(".jarviswidget-loader:first").stop(!0,!0).fadeIn(100).delay(b.o.indicatorTime).fadeOut(100)},"_getPastTimestamp":function(a){var b=this,c=new Date(a),d=c.getMonth()+1,e=c.getDate(),f=c.getFullYear(),g=c.getHours(),h=c.getMinutes(),i=c.getUTCSeconds();10>d&&(d="0"+d),10>e&&(e="0"+e),10>g&&(g="0"+g),10>h&&(h="0"+h),10>i&&(i="0"+i);var j=b.o.timestampFormat.replace(/%d%/g,e).replace(/%m%/g,d).replace(/%y%/g,f).replace(/%h%/g,g).replace(/%i%/g,h).replace(/%s%/g,i);return j},"_loadAjaxFile":function(b,c,d){var e=this;b.find(".widget-body").load(c,function(c,d,f){var g=a(this);if("error"==d&&g.html('<h4 class="alert alert-danger">'+e.o.labelError+"<b> "+f.status+" "+f.statusText+"</b></h4>"),"success"==d){var h=b.find(e.o.timestampPlaceholder);h.length&&h.html(e._getPastTimestamp(new Date)),"function"==typeof e.o.afterLoad&&e.o.afterLoad.call(this,b)}e=null}),this._runLoaderWidget(d)},"_loadKeys":function(){var a=this;if(a.o.ajaxnav===!0){var b=location.hash.replace(/^#/,"");a.storage.keySettings="Plugin_settings_"+b+"_"+a.objId,a.storage.keyPosition="Plugin_position_"+b+"_"+a.objId}else if(a.initialized===!1){var b=a.o.pageKey||location.pathname;a.storage.keySettings="jarvisWidgets_settings_"+b+"_"+a.objId,a.storage.keyPosition="jarvisWidgets_position_"+b+"_"+a.objId}},"_saveSettingsWidget":function(){var b=this,c=b.storage;b._loadKeys();var d=b.obj.find(b.o.widgets).map(function(){var b={};return b.id=a(this).attr("id"),b.style=a(this).attr("data-widget-attstyle"),b.title=a(this).children("header").children("h2").text(),b.hidden="none"==a(this).css("display")?1:0,b.collapsed=a(this).hasClass("jarviswidget-collapsed")?1:0,b}).get(),e=JSON.stringify({"widget":d});c.enabled&&c.getKeySettings!=e&&(localStorage.setItem(c.keySettings,e),c.getKeySettings=e),"function"==typeof b.o.onSave&&b.o.onSave.call(this,null,e,c.keySettings)},"_savePositionWidget":function(){var b=this,c=b.storage;b._loadKeys();var d=b.obj.find(b.o.grid+".sortable-grid").map(function(){var c=a(this).children(b.o.widgets).map(function(){return{"id":a(this).attr("id")}}).get();return{"section":c}}).get(),e=JSON.stringify({"grid":d});c.enabled&&c.getKeyPosition!=e&&(localStorage.setItem(c.keyPosition,e),c.getKeyPosition=e),"function"==typeof b.o.onSave&&b.o.onSave.call(this,e,c.keyPosition)},"init":function(){var b=this;if(!b.initialized){if(b._initStorage(b.storage),a("#"+b.objId).length||alert("It looks like your using a class instead of an ID, dont do that!"),b.o.rtl===!0&&a("body").addClass("rtl"),a(b.o.grid).each(function(){a(this).find(b.o.widgets).length&&a(this).addClass("sortable-grid")}),b.storage.enabled&&b.storage.getKeyPosition){var c=JSON.parse(b.storage.getKeyPosition);for(var e in c.grid){var h=b.obj.find(b.o.grid+".sortable-grid").eq(e);for(var i in c.grid[e].section)h.append(a("#"+c.grid[e].section[i].id))}}if(b.storage.enabled&&b.storage.getKeySettings){var j=JSON.parse(b.storage.getKeySettings);for(var e in j.widget){var k=a("#"+j.widget[e].id);j.widget[e].style&&k.removeClassPrefix("jarviswidget-color-").addClass(j.widget[e].style).attr("data-widget-attstyle",""+j.widget[e].style),1==j.widget[e].hidden?k.hide(1):k.show(1).removeAttr("data-widget-hidden"),1==j.widget[e].collapsed&&k.addClass("jarviswidget-collapsed").children("div").hide(1),k.children("header").children("h2").text()!=j.widget[e].title&&k.children("header").children("h2").text(j.widget[e].title)}}if(b.widget.each(function(){var c,e,f,g,h,i,j,k,l=a(this),m=a(this).children("header");if(!m.parent().attr("role")){l.data("widget-hidden")===!0&&l.hide(),l.data("widget-collapsed")===!0&&l.addClass("jarviswidget-collapsed").children("div").hide(),c=b.o.customButton===!0&&l.data("widget-custombutton")===d&&0!==b.customClass[0].length?'<a href="javascript:void(0);" class="button-icon jarviswidget-custom-btn"><i class="'+b.customClass[0]+'"></i></a>':"",e=b.o.deleteButton===!0&&l.data("widget-deletebutton")===d?'<a href="javascript:void(0);" class="button-icon jarviswidget-delete-btn" rel="tooltip" title="删除" data-placement="bottom"><i class="'+b.o.deleteClass+'"></i></a>':"",f=b.o.editButton===!0&&l.data("widget-editbutton")===d?'<a href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="编辑" data-placement="bottom"><i class="'+b.editClass[0]+'"></i></a>':"",g=b.o.fullscreenButton===!0&&l.data("widget-fullscreenbutton")===d?'<a href="javascript:void(0);" class="button-icon jarviswidget-fullscreen-btn" rel="tooltip" title="全屏" data-placement="bottom"><i class="'+b.fullscreenClass[0]+'"></i></a>':"",b.o.colorButton===!0&&l.data("widget-colorbutton")===d?(h='<a data-toggle="dropdown" class="dropdown-toggle color-box selector" href="javascript:void(0);"></a><ul class="dropdown-menu arrow-box-up-right color-select pull-right"><li><span class="bg-color-green" data-widget-setstyle="jarviswidget-color-green" rel="tooltip" data-placement="left" data-original-title="绿草色"></span></li><li><span class="bg-color-greenDark" data-widget-setstyle="jarviswidget-color-greenDark" rel="tooltip" data-placement="top" data-original-title="深绿色"></span></li><li><span class="bg-color-greenLight" data-widget-setstyle="jarviswidget-color-greenLight" rel="tooltip" data-placement="top" data-original-title="亮绿色"></span></li><li><span class="bg-color-purple" data-widget-setstyle="jarviswidget-color-purple" rel="tooltip" data-placement="top" data-original-title="紫色"></span></li><li><span class="bg-color-magenta" data-widget-setstyle="jarviswidget-color-magenta" rel="tooltip" data-placement="top" data-original-title="品红色"></span></li><li><span class="bg-color-pink" data-widget-setstyle="jarviswidget-color-pink" rel="tooltip" data-placement="right" data-original-title="粉红色"></span></li><li><span class="bg-color-pinkDark" data-widget-setstyle="jarviswidget-color-pinkDark" rel="tooltip" data-placement="left" data-original-title="褪粉色"></span></li><li><span class="bg-color-blueLight" data-widget-setstyle="jarviswidget-color-blueLight" rel="tooltip" data-placement="top" data-original-title="浅蓝色"></span></li><li><span class="bg-color-teal" data-widget-setstyle="jarviswidget-color-teal" rel="tooltip" data-placement="top" data-original-title="青色"></span></li><li><span class="bg-color-blue" data-widget-setstyle="jarviswidget-color-blue" rel="tooltip" data-placement="top" data-original-title="海洋蓝色"></span></li><li><span class="bg-color-blueDark" data-widget-setstyle="jarviswidget-color-blueDark" rel="tooltip" data-placement="top" data-original-title="深灰色"></span></li><li><span class="bg-color-darken" data-widget-setstyle="jarviswidget-color-darken" rel="tooltip" data-placement="right" data-original-title="黑色"></span></li><li><span class="bg-color-yellow" data-widget-setstyle="jarviswidget-color-yellow" rel="tooltip" data-placement="left" data-original-title="土黄色"></span></li><li><span class="bg-color-orange" data-widget-setstyle="jarviswidget-color-orange" rel="tooltip" data-placement="bottom" data-original-title="Orange"></span></li><li><span class="bg-color-orangeDark" data-widget-setstyle="jarviswidget-color-orangeDark" rel="tooltip" data-placement="bottom" data-original-title="暗橙色"></span></li><li><span class="bg-color-red" data-widget-setstyle="jarviswidget-color-red" rel="tooltip" data-placement="bottom" data-original-title="玫瑰红"></span></li><li><span class="bg-color-redLight" data-widget-setstyle="jarviswidget-color-redLight" rel="tooltip" data-placement="bottom" data-original-title="淡红色"></span></li><li><span class="bg-color-white" data-widget-setstyle="jarviswidget-color-white" rel="tooltip" data-placement="right" data-original-title="Purity"></span></li><li><a href="javascript:void(0);" class="jarviswidget-remove-colors" data-widget-setstyle="" rel="tooltip" data-placement="bottom" data-original-title="重置部件颜色">重置</a></li></ul>',m.prepend('<div class="widget-toolbar">'+h+"</div>")):h="",b.o.toggleButton===!0&&l.data("widget-togglebutton")===d?(j=l.data("widget-collapsed")===!0||l.hasClass("jarviswidget-collapsed")?b.toggleClass[1]:b.toggleClass[0],i='<a href="javascript:void(0);" class="button-icon jarviswidget-toggle-btn" rel="tooltip" title="折叠" data-placement="bottom"><i class="'+j+'"></i></a>'):i="",k=b.o.refreshButton===!0&&l.data("widget-refreshbutton")!==!1&&l.data("widget-load")?'<a href="javascript:void(0);" class="button-icon jarviswidget-refresh-btn" data-loading-text="&nbsp;&nbsp;Loading...&nbsp;" rel="tooltip" title="Refresh" data-placement="bottom"><i class="'+b.o.refreshButtonClass+'"></i></a>':"";var n=b.o.buttonOrder.replace(/%refresh%/g,k).replace(/%delete%/g,e).replace(/%custom%/g,c).replace(/%fullscreen%/g,g).replace(/%edit%/g,f).replace(/%toggle%/g,i);(""!==k||""!==e||""!==c||""!==g||""!==f||""!==i)&&m.prepend('<div class="jarviswidget-ctrls">'+n+"</div>"),b.o.sortable===!0&&l.data("widget-sortable")===d&&l.addClass("jarviswidget-sortable"),l.find(b.o.editPlaceholder).length&&l.find(b.o.editPlaceholder).find("input").val(a.trim(m.children("h2").text())),m.append('<span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span>'),l.attr("role","widget").children("div").attr("role","content").prev("header").attr("role","heading").children("div").attr("role","menu")}}),b.o.buttonsHidden===!0&&a(b.o.pwCtrls).hide(),a(".jarviswidget header [rel=tooltip]").tooltip(),b.obj.find("[data-widget-load]").each(function(){{var c=a(this),d=c.children(),e=c.data("widget-load"),f=1e3*c.data("widget-refresh");c.children()}c.find(".jarviswidget-ajax-placeholder").length||(c.children("widget-body").append('<div class="jarviswidget-ajax-placeholder">'+b.o.loadingLabel+"</div>"),c.data("widget-refresh")>0?(b._loadAjaxFile(c,e,d),a.intervalArr.push(setInterval(function(){b._loadAjaxFile(c,e,d)},f))):b._loadAjaxFile(c,e,d))}),b.o.sortable===!0&&jQuery.ui){var l=b.obj.find(b.o.grid+".sortable-grid").not("[data-widget-excludegrid]");l.sortable({"items":l.find(b.o.widgets+".jarviswidget-sortable"),"connectWith":l,"placeholder":b.o.placeholderClass,"cursor":"move","revert":!0,"opacity":b.o.opacity,"delay":200,"cancel":".button-icon, #jarviswidget-fullscreen-mode > div","zIndex":1e4,"handle":b.o.dragHandle,"forcePlaceholderSize":!0,"forceHelperSize":!0,"update":function(a,c){b._runLoaderWidget(c.item.children()),b._savePositionWidget(),"function"==typeof b.o.onChange&&b.o.onChange.call(this,c.item)}})}b.o.buttonsHidden===!0&&b.widget.children("header").on("mouseenter."+f,function(){a(this).children(b.o.pwCtrls).stop(!0,!0).fadeTo(100,1)}).on("mouseleave."+f,function(){a(this).children(b.o.pwCtrls).stop(!0,!0).fadeTo(100,0)}),b._clickEvents(),b.storage.enabled&&(a(b.o.deleteSettingsKey).on(g,this,function(a){var c=confirm(b.o.settingsKeyLabel);c&&localStorage.removeItem(keySettings),a.preventDefault()}),a(b.o.deletePositionKey).on(g,this,function(a){var c=confirm(b.o.positionKeyLabel);c&&localStorage.removeItem(keyPosition),a.preventDefault()})),initialized=!0}},"_initStorage":function(a){a.enabled=a.enabled&&!!function(){var a,b=+new Date;try{return localStorage.setItem(b,b),a=localStorage.getItem(b)==b,localStorage.removeItem(b),a}catch(c){}}(),this._loadKeys(),a.enabled&&(a.getKeySettings=localStorage.getItem(a.keySettings),a.getKeyPosition=localStorage.getItem(a.keyPosition))},"_clickEvents":function(){function c(){if(a("#jarviswidget-fullscreen-mode").length){var c=a(b).height(),e=a("#jarviswidget-fullscreen-mode").children(d.o.widgets).children("header").height();a("#jarviswidget-fullscreen-mode").children(d.o.widgets).children("div").height(c-e-15)}}var d=this,e=d.widget.children("header");e.on(g,".jarviswidget-toggle-btn",function(b){var c=a(this),e=c.parents(d.o.widgets);d._runLoaderWidget(c),e.hasClass("jarviswidget-collapsed")?c.children().removeClass(d.toggleClass[1]).addClass(d.toggleClass[0]).parents(d.o.widgets).removeClass("jarviswidget-collapsed").children("[role=content]").slideDown(d.o.toggleSpeed,function(){d._saveSettingsWidget()}):c.children().removeClass(d.toggleClass[0]).addClass(d.toggleClass[1]).parents(d.o.widgets).addClass("jarviswidget-collapsed").children("[role=content]").slideUp(d.o.toggleSpeed,function(){d._saveSettingsWidget()}),"function"==typeof d.o.onToggle&&d.o.onToggle.call(this,e),b.preventDefault()}),e.on(g,".jarviswidget-fullscreen-btn",function(b){var e=a(this).parents(d.o.widgets),f=e.children("div");d._runLoaderWidget(a(this)),a("#jarviswidget-fullscreen-mode").length?(a(".nooverflow").removeClass("nooverflow"),e.unwrap("<div>").children("div").removeAttr("style").end().find(".jarviswidget-fullscreen-btn:first").children().removeClass(d.fullscreenClass[1]).addClass(d.fullscreenClass[0]).parents(d.pwCtrls).children("a").show(),f.hasClass("jarviswidget-visible")&&f.hide().removeClass("jarviswidget-visible")):(a("body").addClass("nooverflow"),e.wrap('<div id="jarviswidget-fullscreen-mode"/>').parent().find(".jarviswidget-fullscreen-btn:first").children().removeClass(d.fullscreenClass[0]).addClass(d.fullscreenClass[1]).parents(d.pwCtrls).children("a:not(.jarviswidget-fullscreen-btn)").hide(),f.is(":hidden")&&f.show().addClass("jarviswidget-visible")),c(),"function"==typeof d.o.onFullscreen&&d.o.onFullscreen.call(this,e),b.preventDefault()}),a(b).on("resize."+f,function(){c()}),e.on(g,".jarviswidget-edit-btn",function(b){var c=a(this).parents(d.o.widgets);d._runLoaderWidget(a(this)),c.find(d.o.editPlaceholder).is(":visible")?a(this).children().removeClass(d.editClass[1]).addClass(d.editClass[0]).parents(d.o.widgets).find(d.o.editPlaceholder).slideUp(d.o.editSpeed,function(){d._saveSettingsWidget()}):a(this).children().removeClass(d.editClass[0]).addClass(d.editClass[1]).parents(d.o.widgets).find(d.o.editPlaceholder).slideDown(d.o.editSpeed),"function"==typeof d.o.onEdit&&d.o.onEdit.call(this,c),b.preventDefault()}),a(d.o.editPlaceholder).find("input").keyup(function(){a(this).parents(d.o.widgets).children("header").children("h2").text(a(this).val())}),e.on(g,"[data-widget-setstyle]",function(b){var c=a(this).data("widget-setstyle"),e="";a(this).parents(d.o.editPlaceholder).find("[data-widget-setstyle]").each(function(){e+=a(this).data("widget-setstyle")+" "}),a(this).parents(d.o.widgets).attr("data-widget-attstyle",""+c).removeClassPrefix("jarviswidget-color-").addClass(c),d._runLoaderWidget(a(this)),d._saveSettingsWidget(),b.preventDefault()}),e.on(g,".jarviswidget-custom-btn",function(b){var c=a(this).parents(d.o.widgets);d._runLoaderWidget(a(this)),a(this).children("."+d.customClass[0]).length?(a(this).children().removeClass(d.customClass[0]).addClass(d.customClass[1]),"function"==typeof d.o.customStart&&d.o.customStart.call(this,c)):(a(this).children().removeClass(d.customClass[1]).addClass(d.customClass[0]),"function"==typeof d.o.customEnd&&d.o.customEnd.call(this,c)),d._saveSettingsWidget(),b.preventDefault()}),e.on(g,".jarviswidget-delete-btn",function(b){var c=a(this).parents(d.o.widgets),e=c.attr("id"),f=c.children("header").children("h2").text();a.SmartMessageBox?a.SmartMessageBox({"title":"<i class='fa fa-times' style='color:#ed1c24'></i> "+d.o.labelDelete+' "'+f+'"',"content":d.o.deleteMsg,"buttons":"[No][Yes]"},function(b){"Yes"==b&&(d._runLoaderWidget(a(this)),a("#"+e).fadeOut(d.o.deleteSpeed,function(){a(this).remove(),"function"==typeof d.o.onDelete&&d.o.onDelete.call(this,c)}))}):a("#"+e).fadeOut(d.o.deleteSpeed,function(){a(this).remove(),"function"==typeof d.o.onDelete&&d.o.onDelete.call(this,c)}),b.preventDefault()}),e.on(g,".jarviswidget-refresh-btn",function(b){var c=a(this).parents(d.o.widgets),e=c.data("widget-load"),f=c.children(),g=a(this);g.button("loading"),f.addClass("widget-body-ajax-loading"),setTimeout(function(){g.button("reset"),f.removeClass("widget-body-ajax-loading"),d._loadAjaxFile(c,e,f)},1e3),b.preventDefault()}),e=null},"destroy":function(){var c=this,d="."+f,e=c.obj.find(c.o.grid+".sortable-grid").not("[data-widget-excludegrid]");e.sortable("destroy"),c.widget.children("header").off(d),a(c.o.deleteSettingsKey).off(d),a(c.o.deletePositionKey).off(d),a(b).off(d),c.obj.removeData(f)}},a.fn[f]=function(b){return this.each(function(){var c=a(this),d=c.data(f);if(!d){var g="object"==typeof b&&b;c.data(f,d=new e(this,g))}"string"==typeof b&&d[b]()})},a.fn[f].defaults={"grid":"section","widgets":".jarviswidget","localStorage":!0,"deleteSettingsKey":"","settingsKeyLabel":"Reset settings?","deletePositionKey":"","positionKeyLabel":"Reset position?","sortable":!0,"buttonsHidden":!1,"toggleButton":!0,"toggleClass":"min-10 | plus-10","toggleSpeed":200,"onToggle":function(){},"deleteButton":!0,"deleteMsg":"Warning: This action cannot be undone","deleteClass":"trashcan-10","deleteSpeed":200,"onDelete":function(){},"editButton":!0,"editPlaceholder":".jarviswidget-editbox","editClass":"pencil-10 | delete-10","editSpeed":200,"onEdit":function(){},"colorButton":!0,"fullscreenButton":!0,"fullscreenClass":"fullscreen-10 | normalscreen-10","fullscreenDiff":3,"onFullscreen":function(){},"customButton":!0,"customClass":"","customStart":function(){},"customEnd":function(){},"buttonOrder":"%refresh% %delete% %custom% %edit% %fullscreen% %toggle%","opacity":1,"dragHandle":"> header","placeholderClass":"jarviswidget-placeholder","indicator":!0,"indicatorTime":600,"ajax":!0,"loadingLabel":"loading...","timestampPlaceholder":".jarviswidget-timestamp","timestampFormat":"Last update: %m%/%d%/%y% %h%:%i%:%s%","refreshButton":!0,"refreshButtonClass":"refresh-10","labelError":"Sorry but there was a error:","labelUpdated":"Last Update:","labelRefresh":"Refresh","labelDelete":"Delete widget:","afterLoad":function(){},"rtl":!1,"onChange":function(){},"onSave":function(){},"ajaxnav":!0},a.fn.removeClassPrefix=function(b){return this.each(function(c,d){var e=d.className.split(" ").map(function(a){return 0===a.indexOf(b)?"":a});d.className=a.trim(e.join(" "))}),this}}(jQuery,window,document);
;}catch(e){}
try{
function setup_widgets(){var b=true,c=true,a=true;$.fn.jarvisWidgets&&$("#widget-grid").jarvisWidgets({grid:"article",widgets:".jarviswidget",localStorage:c,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:a,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone!",deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-expand | fa fa-compress",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){},customEnd:function(){},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:false})};
;}catch(e){}
try{
jQuery.cookie=function(w,p,a){if(typeof p!="undefined"){a=a||{};if(p===null){p="";a.expires=-1}var t="";if(a.expires&&(typeof a.expires=="number"||a.expires.toUTCString)){var s;if(typeof a.expires=="number"){s=new Date();s.setTime(s.getTime()+(a.expires*24*60*60*1000))}else{s=a.expires}t="; expires="+s.toUTCString()}var e=a.path?"; path="+(a.path):"";var r=a.domain?"; domain="+(a.domain):"";var x=a.secure?"; secure":"";document.cookie=[w,"=",encodeURIComponent(p),t,e,r,x].join("")}else{var u=null;if(document.cookie&&document.cookie!=""){var i=document.cookie.split(";");for(var q=0;q<i.length;q++){var v=jQuery.trim(i[q]);if(v.substring(0,w.length+1)==(w+"=")){u=decodeURIComponent(v.substring(w.length+1));break}}}return u}};(function(d){d.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};function a(c){if(typeof c.data!=="string"){return}var e=c.handler,b=c.data.toLowerCase().split(" ");c.handler=function(s){if(this!==s.target&&(/textarea|select/i.test(s.target.nodeName)||s.target.type==="text")){return}var g=s.type!=="keypress"&&d.hotkeys.specialKeys[s.which],r=String.fromCharCode(s.which).toLowerCase(),u,t="",i={};if(s.altKey&&g!=="alt"){t+="alt+"}if(s.ctrlKey&&g!=="ctrl"){t+="ctrl+"}if(s.metaKey&&!s.ctrlKey&&g!=="meta"){t+="meta+"}if(s.shiftKey&&g!=="shift"){t+="shift+"}if(g){i[t+g]=true}else{i[t+r]=true;i[t+d.hotkeys.shiftNums[r]]=true;if(t==="shift+"){i[d.hotkeys.shiftNums[r]]=true}}for(var f=0,l=b.length;f<l;f++){if(i[b[f]]){return e.apply(this,arguments)}}}}d.each(["keydown","keyup","keypress"],function(){d.event.special[this]={add:a}})})(jQuery);(function(){var d,e,f,g,a,b={}.hasOwnProperty,c=function(h,j){function i(){this.constructor=h}for(var k in j){b.call(j,k)&&(h[k]=j[k])}return i.prototype=j.prototype,h.prototype=new i,h.__super__=j.prototype,h};g=function(){function h(){this.options_index=0,this.parsed=[]}return h.prototype.add_node=function(i){return"OPTGROUP"===i.nodeName.toUpperCase()?this.add_group(i):this.add_option(i)},h.prototype.add_group=function(o){var i,j,k,l,m,n;for(i=this.parsed.length,this.parsed.push({array_index:i,group:!0,label:this.escapeExpression(o.label),children:0,disabled:o.disabled,title:o.title,search_keys:d.trim(o.getAttribute("data-keys")||"").replace(/,/," ")}),m=o.childNodes,n=[],k=0,l=m.length;l>k;k++){j=m[k],n.push(this.add_option(j,i,o.disabled))}return n},h.prototype.add_option=function(j,k,i){return"OPTION"===j.nodeName.toUpperCase()?(""!==j.text?(null!=k&&(this.parsed[k].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:j.value,text:j.text,title:j.title,html:j.innerHTML,selected:j.selected,disabled:i===!0?i:j.disabled,group_array_index:k,classes:j.className,style:j.style.cssText,search_keys:d.trim(j.getAttribute("data-keys")||"").replace(/,/," ")})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},h.prototype.escapeExpression=function(j){var k,i;return null==j||j===!1?"":/[\&\<\>\"\'\`]/.test(j)?(k={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,j.replace(i,function(l){return k[l]||"&amp;"})):j},h}(),g.select_to_array=function(l){var m,h,i,j,k;for(h=new g,k=l.childNodes,i=0,j=k.length;j>i;i++){m=k[i],h.add_node(m)}return h.parsed},e=function(){function h(j,i){this.form_field=j,this.options=null!=i?i:{},h.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return h.prototype.set_default_values=function(){var i=this;return this.click_test_action=function(j){return i.test_active_click(j)},this.activate_action=function(j){return i.activate_field(j)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},h.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||h.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||h.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||h.default_no_result_text},h.prototype.mouse_enter=function(){return this.mouse_on_container=!0},h.prototype.mouse_leave=function(){return this.mouse_on_container=!1},h.prototype.input_focus=function(i){var j=this;if(this.is_multiple){if(!this.active_field){return setTimeout(function(){return j.container_mousedown()},50)}}else{if(!this.active_field){return this.activate_field()}}},h.prototype.input_blur=function(i){var j=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return j.blur_test()},100))},h.prototype.results_option_build=function(n){var l,i,j,k,m;for(l="",m=this.results_data,j=0,k=m.length;k>j;j++){i=m[j],l+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=n?n.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text))}return l},h.prototype.result_add_option=function(j){var k,i;return j.search_match&&this.include_option_in_results(j)?(k=[],j.disabled||j.selected&&this.is_multiple||k.push("active-result"),!j.disabled||j.selected&&this.is_multiple||k.push("disabled-result"),j.selected&&k.push("result-selected"),null!=j.group_array_index&&k.push("group-option"),""!==j.classes&&k.push(j.classes),i=document.createElement("li"),i.className=k.join(" "),i.style.cssText=j.style,i.title=j.title,i.setAttribute("data-option-array-index",j.array_index),i.innerHTML=j.search_text,this.outerHTML(i)):""},h.prototype.result_add_group=function(i){var j;return(i.search_match||i.group_match)&&i.active_options>0?(j=document.createElement("li"),j.className="group-result",j.title=i.title,j.innerHTML=i.search_text,this.outerHTML(j)):""},h.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},h.prototype.reset_single_select_options=function(){var j,l,i,k,m;for(k=this.results_data,m=[],l=0,i=k.length;i>l;l++){j=k[l],m.push(j.selected?j.selected=!1:void 0)}return m},h.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},h.prototype.results_search=function(i){return this.results_showing?this.winnow_results():this.results_show()},h.prototype.winnow_results=function(){var l,m,n,o,C,D,E,F,G,H,i,j,k;for(this.no_results_clear(),C=0,E=this.get_search_text(),l=E.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),o=this.search_contains?"":"^",n=new RegExp(o+l,"i"),H=new RegExp(l,"i"),k=this.results_data,i=0,j=k.length;j>i;i++){m=k[i],m.search_match=!1,D=null,this.include_option_in_results(m)&&(m.group&&(m.group_match=!1,m.active_options=0),null!=m.group_array_index&&this.results_data[m.group_array_index]&&(D=this.results_data[m.group_array_index],0===D.active_options&&D.search_match&&(C+=1),D.active_options+=1),(!m.group||this.group_search)&&(m.search_text=m.group?m.label:m.html,m.search_keys_match=this.search_string_match(m.search_keys,n),m.search_text_match=this.search_string_match(m.search_text,n),m.search_match=m.search_text_match||m.search_keys_match,m.search_match&&!m.group&&(C+=1),m.search_match?(m.search_text_match&&m.search_text.length?(F=m.search_text.search(H),G=m.search_text.substr(0,F+E.length)+"</em>"+m.search_text.substr(F+E.length),m.search_text=G.substr(0,F)+"<em>"+G.substr(F)):m.search_keys_match&&m.search_keys.length&&(F=m.search_keys.search(H),G=m.search_keys.substr(0,F+E.length)+"</em>"+m.search_keys.substr(F+E.length),m.search_text+='&nbsp; <small style="opacity: 0.7">'+G.substr(0,F)+"<em>"+G.substr(F)+"</small>"),null!=D&&(D.group_match=!0)):null!=m.group_array_index&&this.results_data[m.group_array_index].search_match&&(m.search_match=!0)))}return this.result_clear_highlight(),1>C&&E.length?(this.update_results_content(""),this.no_results(E)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},h.prototype.search_string_match=function(n,l){var i,j,k,m;if(l.test(n)){return !0}if(this.enable_split_word_search&&(n.indexOf(" ")>=0||0===n.indexOf("["))&&(j=n.replace(/\[|\]/g,"").split(" "),j.length)){for(k=0,m=j.length;m>k;k++){if(i=j[k],l.test(i)){return !0}}}},h.prototype.choices_count=function(){var i,k,j,l;if(null!=this.selected_option_count){return this.selected_option_count}for(this.selected_option_count=0,l=this.form_field.options,k=0,j=l.length;j>k;k++){i=l[k],i.selected&&""!=i.value&&(this.selected_option_count+=1)}return this.selected_option_count},h.prototype.choices_click=function(i){return i.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},h.prototype.keyup_checker=function(j){var k,i;switch(k=null!=(i=j.which)?i:j.keyCode,this.search_field_scale(),k){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}if(!this.pending_backstroke){return this.result_clear_highlight(),this.results_search()}break;case 13:if(j.preventDefault(),this.results_showing){return this.result_select(j)}break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},h.prototype.clipboard_event_checker=function(i){var j=this;return setTimeout(function(){return j.results_search()},50)},h.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},h.prototype.include_option_in_results=function(i){return this.is_multiple&&!this.display_selected_options&&i.selected?!1:!this.display_disabled_options&&i.disabled?!1:i.empty?!1:!0},h.prototype.search_results_touchstart=function(i){return this.touch_started=!0,this.search_results_mouseover(i)},h.prototype.search_results_touchmove=function(i){return this.touch_started=!1,this.search_results_mouseout(i)},h.prototype.search_results_touchend=function(i){return this.touch_started?this.search_results_mouseup(i):void 0},h.prototype.outerHTML=function(i){var j;return i.outerHTML?i.outerHTML:(j=document.createElement("div"),j.appendChild(i),j.innerHTML)},h.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},h.default_multiple_text="",h.default_single_text="",h.default_no_result_text="No results match",h}(),d=jQuery,d.fn.extend({chosen:function(h){return e.browser_is_supported()?this.each(function(k){var i,j;i=d(this),j=i.data("chosen"),"destroy"===h&&j?j.destroy():j||i.data("chosen",new f(this,h))}):this}}),f=function(i){function h(){return a=h.__super__.constructor.apply(this,arguments)}return c(h,i),h.prototype.setup=function(){return this.form_field_jq=d(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},h.prototype.set_up_html=function(){var j,k;j=["chosen-container"],j.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&j.push(this.form_field.className),this.is_rtl&&j.push("chosen-rtl");var l=this.form_field.getAttribute("data-css-class");return l&&j.push(l),k={"class":j.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(k.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=d("<div />",k),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.options.drop_width&&this.dropdown.css("width",this.options.drop_width).addClass("chosen-drop-size-limited"),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},h.prototype.register_observers=function(){var j=this;return this.container.bind("mousedown.chosen",function(k){j.container_mousedown(k)}),this.container.bind("mouseup.chosen",function(k){j.container_mouseup(k)}),this.container.bind("mouseenter.chosen",function(k){j.mouse_enter(k)}),this.container.bind("mouseleave.chosen",function(k){j.mouse_leave(k)}),this.search_results.bind("mouseup.chosen",function(k){j.search_results_mouseup(k)}),this.search_results.bind("mouseover.chosen",function(k){j.search_results_mouseover(k)}),this.search_results.bind("mouseout.chosen",function(k){j.search_results_mouseout(k)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(k){j.search_results_mousewheel(k)}),this.search_results.bind("touchstart.chosen",function(k){j.search_results_touchstart(k)}),this.search_results.bind("touchmove.chosen",function(k){j.search_results_touchmove(k)}),this.search_results.bind("touchend.chosen",function(k){j.search_results_touchend(k)}),this.form_field_jq.bind("chosen:updated.chosen",function(k){j.results_update_field(k)}),this.form_field_jq.bind("chosen:activate.chosen",function(k){j.activate_field(k)}),this.form_field_jq.bind("chosen:open.chosen",function(k){j.container_mousedown(k)}),this.form_field_jq.bind("chosen:close.chosen",function(k){j.input_blur(k)}),this.search_field.bind("blur.chosen",function(k){j.input_blur(k)}),this.search_field.bind("keyup.chosen",function(k){j.keyup_checker(k)}),this.search_field.bind("keydown.chosen",function(k){j.keydown_checker(k)}),this.search_field.bind("focus.chosen",function(k){j.input_focus(k)}),this.search_field.bind("cut.chosen",function(k){j.clipboard_event_checker(k)}),this.search_field.bind("paste.chosen",function(k){j.clipboard_event_checker(k)}),this.is_multiple?this.search_choices.bind("click.chosen",function(k){j.choices_click(k)}):this.container.bind("click.chosen",function(k){k.preventDefault()})},h.prototype.destroy=function(){return d(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},h.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},h.prototype.container_mousedown=function(j){return this.is_disabled||(j&&"mousedown"===j.type&&!this.results_showing&&j.preventDefault(),null!=j&&d(j.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!j||d(j.target)[0]!==this.selected_item[0]&&!d(j.target).parents("a.chosen-single").length||(j.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),d(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},h.prototype.container_mouseup=function(j){return"ABBR"!==j.target.nodeName||this.is_disabled?void 0:this.results_reset(j)},h.prototype.search_results_mousewheel=function(j){var k;return j.originalEvent&&(k=-j.originalEvent.wheelDelta||j.originalEvent.detail),null!=k?(j.preventDefault(),"DOMMouseScroll"===j.type&&(k=40*k),this.search_results.scrollTop(k+this.search_results.scrollTop())):void 0},h.prototype.blur_test=function(j){return !this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},h.prototype.close_field=function(){return d(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},h.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},h.prototype.test_active_click=function(j){var k;return k=d(j.target).closest(".chosen-container"),k.length&&this.container[0]===k[0]?this.active_field=!0:this.close_field()},h.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=g.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},h.prototype.result_do_highlight=function(o){var m,j,k,l,n;if(o.length){if(this.result_clear_highlight(),this.result_highlight=o,this.result_highlight.addClass("highlighted"),k=parseInt(this.search_results.css("maxHeight"),10),n=this.search_results.scrollTop(),l=k+n,j=this.result_highlight.position().top+this.search_results.scrollTop(),m=j+this.result_highlight.outerHeight(),m>=l){return this.search_results.scrollTop(m-k>0?m-k:0)}if(n>j){return this.search_results.scrollTop(j)}}},h.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},h.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},h.prototype.update_results_content=function(j){return this.search_results.html(j)},h.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},h.prototype.set_tab_index=function(j){var k;return this.form_field.tabIndex?(k=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=k):void 0},h.prototype.set_label_behavior=function(){var j=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=d("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(k){return j.is_multiple?j.container_mousedown(k):j.activate_field()}):void 0},h.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},h.prototype.search_results_mouseup=function(j){var k;return k=d(j.target).hasClass("active-result")?d(j.target):d(j.target).parents(".active-result").first(),k.length?(this.result_highlight=k,this.result_select(j),this.search_field.focus()):void 0},h.prototype.search_results_mouseover=function(j){var k;return k=d(j.target).hasClass("active-result")?d(j.target):d(j.target).parents(".active-result").first(),k?this.result_do_highlight(k):void 0},h.prototype.search_results_mouseout=function(j){return d(j.target).hasClass("active-result")?this.result_clear_highlight():void 0},h.prototype.choice_build=function(k){var j,l,m=this;return j=d("<li />",{"class":"search-choice"}).html("<span title='"+k.html+"'>"+k.html+"</span>"),k.disabled?j.addClass("search-choice-disabled"):(l=d("<a />",{"class":"search-choice-close","data-option-array-index":k.array_index}),l.bind("click.chosen",function(n){return m.choice_destroy_link_click(n)}),j.append(l)),this.search_container.before(j)},h.prototype.choice_destroy_link_click=function(j){return j.preventDefault(),j.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(d(j.target))},h.prototype.choice_destroy=function(j){return this.result_deselect(j[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),j.parents("li").first().remove(),this.search_field_scale()):void 0},h.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},h.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},h.prototype.result_select=function(l){var j,k;return this.result_highlight?(j=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?j.removeClass("active-result"):this.reset_single_select_options(),k=this.results_data[j[0].getAttribute("data-option-array-index")],k.selected=!0,this.form_field.options[k.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(k):this.single_set_selected_text(k.text),(l.metaKey||l.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[k.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},h.prototype.single_set_selected_text=function(j){return null==j&&(j=this.default_text),j===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").attr("title",j).text(j)},h.prototype.result_deselect=function(j){var k;return k=this.results_data[j],this.form_field.options[k.options_index].disabled?!1:(k.selected=!1,this.form_field.options[k.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[k.options_index].value}),this.search_field_scale(),!0)},h.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},h.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":d("<div/>").text(d.trim(this.search_field.val())).html()},h.prototype.winnow_results_set_highlight=function(){var j,k;return k=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),j=k.length?k.first():this.search_results.find(".active-result").first(),null!=j?this.result_do_highlight(j):void 0},h.prototype.no_results=function(j){var k;return k=d('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),k.find("span").first().html(j),this.search_results.append(k),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},h.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},h.prototype.keydown_arrow=function(){var j;return this.results_showing&&this.result_highlight?(j=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(j):void 0:this.results_show()},h.prototype.keyup_arrow=function(){var j;return this.results_showing||this.is_multiple?this.result_highlight?(j=this.result_highlight.prevAll("li.active-result"),j.length?this.result_do_highlight(j.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},h.prototype.keydown_backstroke=function(){var j;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(j=this.search_container.siblings("li.search-choice").last(),j.length&&!j.hasClass("search-choice-disabled")?(this.pending_backstroke=j,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},h.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},h.prototype.keydown_checker=function(l){var j,k;switch(j=null!=(k=l.which)?k:l.keyCode,this.search_field_scale(),8!==j&&this.pending_backstroke&&this.clear_backstroke(),j){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(l),this.mouse_on_container=!1;break;case 13:l.preventDefault();break;case 38:l.preventDefault(),this.keyup_arrow();break;case 40:l.preventDefault(),this.keydown_arrow()}},h.prototype.search_field_scale=function(){var m,n,o,y,z,A,j,k,l;if(this.is_multiple){for(o=0,j=0,z="position:absolute; left: -1000px; top: -1000px; display:none;",A=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],k=0,l=A.length;l>k;k++){y=A[k],z+=y+":"+this.search_field.css(y)+";"}return m=d("<div />",{style:z}),m.text(this.search_field.val()),d("body").append(m),j=m.width()+25,m.remove(),n=this.container.outerWidth(),j>n-10&&(j=n-10),this.search_field.css({width:j+"px"})}},h}(e)}).call(this);(function(a){a.extend(a.fn,{swapClass:function(b,c){var e=this.filter("."+b);this.filter("."+c).removeClass(c).addClass(b);e.removeClass(b).addClass(c);return this},replaceClass:function(b,c){return this.filter("."+b).removeClass(b).addClass(c).end()},hoverClass:function(b){b=b||"hover";return this.hover(function(){a(this).addClass(b)},function(){a(this).removeClass(b)})},heightToggle:function(c,b){c?this.animate({height:"toggle"},c,b):this.each(function(){jQuery(this)[jQuery(this).css("display")=="none"?"show":"hide"]();if(b){b.apply(this,arguments)}})},heightHide:function(c,b){if(c){this.animate({height:"hide"},c,b)}else{this.hide();if(b){this.each(b)}}},prepareBranches:function(b){if(!b.prerendered){this.filter(":last-child:not(ul)").addClass(d.last);this.filter((b.collapsed?"":"."+d.closed)+":not(."+d.open+")").find(">ul").hide()}return this.filter(":has(>ul)")},applyClasses:function(c,b){this.filter(":has(>ul):not(:has(>a))").find(">span").click(function(e){b.apply(a(this).next())}).add(a("a",this)).hoverClass();if(!c.prerendered){this.filter(":has(>ul:hidden)").addClass(d.expandable).replaceClass(d.last,d.lastExpandable);this.not(":has(>ul:hidden)").addClass(d.collapsable).replaceClass(d.last,d.lastCollapsable);this.prepend('<div class="'+d.hitarea+'"/>').find("div."+d.hitarea).each(function(){var e="";a.each(a(this).parent().attr("class").split(" "),function(){e+=this+"-hitarea "});a(this).addClass(e)})}this.find("div."+d.hitarea).click(b)},treeview:function(r){r=a.extend({cookieId:"treeview"},r);if(r.add){return this.trigger("add",[r.add])}if(r.toggle){var e=r.toggle;r.toggle=function(){return e.apply(a(this).parent()[0],arguments)}}function s(h,f){function g(j){return function(){p.apply(a("div."+d.hitarea,h).filter(function(){return j?a(this).parent("."+j).length:true}));return false}}a("a:eq(0)",f).click(g(d.collapsable));a("a:eq(1)",f).click(g(d.expandable));a("a:eq(2)",f).click(g())}function p(){a(this).parent().find(">.hitarea").swapClass(d.collapsableHitarea,d.expandableHitarea).swapClass(d.lastCollapsableHitarea,d.lastExpandableHitarea).end().swapClass(d.collapsable,d.expandable).swapClass(d.lastCollapsable,d.lastExpandable).find(">ul").heightToggle(r.animated,r.toggle);if(r.unique){a(this).parent().siblings().find(">.hitarea").replaceClass(d.collapsableHitarea,d.expandableHitarea).replaceClass(d.lastCollapsableHitarea,d.lastExpandableHitarea).end().replaceClass(d.collapsable,d.expandable).replaceClass(d.lastCollapsable,d.lastExpandable).find(">ul").heightHide(r.animated,r.toggle)}}function b(){function f(h){return h?1:0}var g=[];c.each(function(j,h){g[j]=a(h).is(":has(>ul:visible)")?1:0});a.cookie(r.cookieId,g.join(""))}function q(){var g=a.cookie(r.cookieId);if(g){var f=g.split("");c.each(function(j,h){a(h).find(">ul")[parseInt(f[j])?"show":"hide"]()})}}this.addClass("treeview");var c=this.find("li").prepareBranches(r);switch(r.persist){case"cookie":var i=r.toggle;r.toggle=function(){b();if(i){i.apply(this,arguments)}};q();break;case"location":var o=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()});if(o.length){o.addClass("selected").parents("ul, li").add(o.next()).show()}break}c.applyClasses(r,p);if(r.control){s(this,r.control);a(r.control).show()}return this.bind("add",function(f,g){a(g).prev().removeClass(d.last).removeClass(d.lastCollapsable).removeClass(d.lastExpandable).find(">.hitarea").removeClass(d.lastCollapsableHitarea).removeClass(d.lastExpandableHitarea);a(g).find("li").andSelf().prepareBranches(r).applyClasses(r,p)})}});var d=a.fn.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"};a.fn.Treeview=a.fn.treeview})(jQuery);
/*!
 * ZUI - v1.3.1 - 2015-05-19
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2015 cnezsoft.com; Licensed MIT
 */
(function(r){var s=r&&r.zui?r.zui:this,t=(s.Chart,function(L){this.canvas=L.canvas,this.ctx=L;var M=function(N,O){return N["offset"+O]?N["offset"+O]:document.defaultView.getComputedStyle(N).getPropertyValue(O)},J=this.width=M(L.canvas,"Width"),K=this.height=M(L.canvas,"Height");L.canvas.width=J,L.canvas.height=K;var J=this.width=L.canvas.width,K=this.height=L.canvas.height;return this.aspectRatio=this.width/this.height,u.retinaScale(this),this});t.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},t.types={};var u=t.helpers={},v=u.each=function(N,O,J){var K=Array.prototype.slice.call(arguments,3);if(N){if(N.length===+N.length){var L;for(L=0;L<N.length;L++){O.apply(J,[N[L],L].concat(K))}}else{for(var M in N){O.apply(J,[N[M],M].concat(K))}}}},w=u.clone=function(J){var K={};return v(J,function(M,L){J.hasOwnProperty(L)&&(K[L]=M)}),K},x=u.extend=function(J){return v(Array.prototype.slice.call(arguments,1),function(K){v(K,function(L,M){K.hasOwnProperty(M)&&(J[M]=L)})}),J},y=u.merge=function(K,L){var J=Array.prototype.slice.call(arguments,0);return J.unshift({}),x.apply(null,J)},z=u.indexOf=function(K,L){if(Array.prototype.indexOf){return K.indexOf(L)}for(var J=0;J<K.length;J++){if(K[J]===L){return J}}return -1},A=(u.where=function(K,L){var J=[];return u.each(K,function(M){L(M)&&J.push(M)}),J},u.findNextWhere=function(M,N,J){J||(J=-1);for(var K=J+1;K<M.length;K++){var L=M[K];if(N(L)){return L}}},u.findPreviousWhere=function(M,N,J){J||(J=M.length);for(var K=J-1;K>=0;K--){var L=M[K];if(N(L)){return L}}},u.inherits=function(L){var M=this,J=L&&L.hasOwnProperty("constructor")?L.constructor:function(){return M.apply(this,arguments)},K=function(){this.constructor=J};return K.prototype=M.prototype,J.prototype=new K,J.extend=A,L&&x(J.prototype,L),J.__super__=M.prototype,J}),B=u.noop=function(){},C=u.uid=function(){var J=0;return function(){return"chart-"+J++}}(),D=u.warn=function(J){window.console&&"function"==typeof window.console.warn&&console.warn(J)},E=u.amd="function"==typeof define&&define.amd,F=u.isNumber=function(J){return !isNaN(parseFloat(J))&&isFinite(J)},G=u.max=function(J){return Math.max.apply(Math,J)},I=u.min=function(J){return Math.min.apply(Math,J)},b=(u.cap=function(K,L,J){if(F(L)){if(K>L){return L}}else{if(F(J)&&J>K){return J}}return K},u.getDecimalPlaces=function(J){return J%1!==0&&F(J)?J.toString().split(".")[1].length:0}),d=u.radians=function(J){return J*(Math.PI/180)},f=(u.getAngleFromPoint=function(N,O){var J=O.x-N.x,K=O.y-N.y,L=Math.sqrt(J*J+K*K),M=2*Math.PI+Math.atan2(K,J);return 0>J&&0>K&&(M+=2*Math.PI),{angle:M,distance:L}},u.aliasPixel=function(J){return J%2===0?0:0.5}),h=(u.splineCurve=function(L,M,N,O){var P=Math.sqrt(Math.pow(M.x-L.x,2)+Math.pow(M.y-L.y,2)),Q=Math.sqrt(Math.pow(N.x-M.x,2)+Math.pow(N.y-M.y,2)),J=O*P/(P+Q),K=O*Q/(P+Q);return{inner:{x:M.x-J*(N.x-L.x),y:M.y-J*(N.y-L.y)},outer:{x:M.x+K*(N.x-L.x),y:M.y+K*(N.y-L.y)}}},u.calculateOrderOfMagnitude=function(J){return Math.floor(Math.log(J)/Math.LN10)}),j=(u.calculateScaleRange=function(W,Y,Z,J,L){var N=2,O=Math.floor(Y/(1.5*Z)),P=N>=O,Q=G(W),R=I(W);Q===R&&(Q+=0.5,R>=0.5&&!J?R-=0.5:Q+=0.5);for(var S=Math.abs(Q-R),U=h(S),V=Math.ceil(Q/(1*Math.pow(10,U)))*Math.pow(10,U),X=J?0:Math.floor(R/(1*Math.pow(10,U)))*Math.pow(10,U),K=V-X,M=Math.pow(10,U),T=Math.round(K/M);(T>O||O>2*T)&&!P;){if(T>O){M*=2,T=Math.round(K/M),T%1!==0&&(P=!0)}else{if(L&&U>=0){if(M/2%1!==0){break}M/=2,T=Math.round(K/M)}else{M/=2,T=Math.round(K/M)}}}return P&&(T=N,M=K/T),{steps:T,stepValue:M,min:X,max:X+T*M}},u.template=function(L,M){function J(O,P){var N=/\W/.test(O)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+O.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):K[O]=K[O];return P?N(P):N}if(L instanceof Function){return L(M)}var K={};return J(L,M)}),l=(u.generateLabels=function(M,N,J,K){var L=new Array(N);return labelTemplateString&&v(L,function(P,O){L[O]=j(M,{value:J+K*(O+1)})}),L},u.easingEffects={linear:function(J){return J},easeInQuad:function(J){return J*J},easeOutQuad:function(J){return -1*J*(J-2)},easeInOutQuad:function(J){return(J/=0.5)<1?0.5*J*J:-0.5*(--J*(J-2)-1)},easeInCubic:function(J){return J*J*J},easeOutCubic:function(J){return 1*((J=J/1-1)*J*J+1)},easeInOutCubic:function(J){return(J/=0.5)<1?0.5*J*J*J:0.5*((J-=2)*J*J+2)},easeInQuart:function(J){return J*J*J*J},easeOutQuart:function(J){return -1*((J=J/1-1)*J*J*J-1)},easeInOutQuart:function(J){return(J/=0.5)<1?0.5*J*J*J*J:-0.5*((J-=2)*J*J*J-2)},easeInQuint:function(J){return 1*(J/=1)*J*J*J*J},easeOutQuint:function(J){return 1*((J=J/1-1)*J*J*J*J+1)},easeInOutQuint:function(J){return(J/=0.5)<1?0.5*J*J*J*J*J:0.5*((J-=2)*J*J*J*J+2)},easeInSine:function(J){return -1*Math.cos(J/1*(Math.PI/2))+1},easeOutSine:function(J){return 1*Math.sin(J/1*(Math.PI/2))},easeInOutSine:function(J){return -0.5*(Math.cos(Math.PI*J/1)-1)},easeInExpo:function(J){return 0===J?1:1*Math.pow(2,10*(J/1-1))},easeOutExpo:function(J){return 1===J?1:1*(-Math.pow(2,-10*J/1)+1)},easeInOutExpo:function(J){return 0===J?0:1===J?1:(J/=0.5)<1?0.5*Math.pow(2,10*(J-1)):0.5*(-Math.pow(2,-10*--J)+2)},easeInCirc:function(J){return J>=1?J:-1*(Math.sqrt(1-(J/=1)*J)-1)},easeOutCirc:function(J){return 1*Math.sqrt(1-(J=J/1-1)*J)},easeInOutCirc:function(J){return(J/=0.5)<1?-0.5*(Math.sqrt(1-J*J)-1):0.5*(Math.sqrt(1-(J-=2)*J)+1)},easeInElastic:function(L){var M=1.70158,J=0,K=1;return 0===L?0:1==(L/=1)?1:(J||(J=0.3),K<Math.abs(1)?(K=1,M=J/4):M=J/(2*Math.PI)*Math.asin(1/K),-(K*Math.pow(2,10*(L-=1))*Math.sin(2*(1*L-M)*Math.PI/J)))},easeOutElastic:function(L){var M=1.70158,J=0,K=1;return 0===L?0:1==(L/=1)?1:(J||(J=0.3),K<Math.abs(1)?(K=1,M=J/4):M=J/(2*Math.PI)*Math.asin(1/K),K*Math.pow(2,-10*L)*Math.sin(2*(1*L-M)*Math.PI/J)+1)},easeInOutElastic:function(L){var M=1.70158,J=0,K=1;return 0===L?0:2==(L/=0.5)?1:(J||(J=0.3*1.5),K<Math.abs(1)?(K=1,M=J/4):M=J/(2*Math.PI)*Math.asin(1/K),1>L?-0.5*K*Math.pow(2,10*(L-=1))*Math.sin(2*(1*L-M)*Math.PI/J):K*Math.pow(2,-10*(L-=1))*Math.sin(2*(1*L-M)*Math.PI/J)*0.5+1)},easeInBack:function(J){var K=1.70158;return 1*(J/=1)*J*((K+1)*J-K)},easeOutBack:function(J){var K=1.70158;return 1*((J=J/1-1)*J*((K+1)*J+K)+1)},easeInOutBack:function(J){var K=1.70158;return(J/=0.5)<1?0.5*J*J*(((K*=1.525)+1)*J-K):0.5*((J-=2)*J*(((K*=1.525)+1)*J+K)+2)},easeInBounce:function(J){return 1-l.easeOutBounce(1-J)},easeOutBounce:function(J){return(J/=1)<1/2.75?7.5625*J*J:2/2.75>J?1*(7.5625*(J-=1.5/2.75)*J+0.75):2.5/2.75>J?1*(7.5625*(J-=2.25/2.75)*J+0.9375):1*(7.5625*(J-=2.625/2.75)*J+0.984375)},easeInOutBounce:function(J){return 0.5>J?0.5*l.easeInBounce(2*J):0.5*l.easeOutBounce(2*J-1)+0.5}}),n=u.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(J){return window.setTimeout(J,1000/60)}}(),p=u.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(J){return window.clearTimeout(J,1000/60)}}(),q=(u.animationLoop=function(J,K,L,M,N,O){var P=0,Q=l[L]||l.linear,R=function(){P++;var T=P/K,S=Q(T);J.call(O,S,T,P),M.call(O,S,T),K>P?O.animationFrame=n(R):N.apply(O)};n(R)},u.getRelativePosition=function(N){var O,J,K=N.originalEvent||N,L=N.currentTarget||N.srcElement,M=L.getBoundingClientRect();return K.touches?(O=K.touches[0].clientX-M.left,J=K.touches[0].clientY-M.top):(O=K.clientX-M.left,J=K.clientY-M.top),{x:O,y:J}},u.addEvent=function(K,L,J){K.addEventListener?K.addEventListener(L,J):K.attachEvent?K.attachEvent("on"+L,J):K["on"+L]=J}),H=u.removeEvent=function(K,L,J){K.removeEventListener?K.removeEventListener(L,J,!1):K.detachEvent?K.detachEvent("on"+L,J):K["on"+L]=B},a=(u.bindEvents=function(K,L,J){K.events||(K.events={}),v(L,function(M){K.events[M]=function(){J.apply(K,arguments)},q(K.chart.canvas,M,K.events[M])})},u.unbindEvents=function(J,K){v(K,function(M,L){H(J.chart.canvas,L,M)})}),c=u.getMaximumWidth=function(J){var K=J.parentNode;return K.clientWidth},e=u.getMaximumHeight=function(J){var K=J.parentNode;return K.clientHeight},g=(u.getMaximumSize=u.getMaximumWidth,u.retinaScale=function(L){var M=L.ctx,J=L.canvas.width,K=L.canvas.height;window.devicePixelRatio&&(M.canvas.style.width=J+"px",M.canvas.style.height=K+"px",M.canvas.height=K*window.devicePixelRatio,M.canvas.width=J*window.devicePixelRatio,M.scale(window.devicePixelRatio,window.devicePixelRatio))}),i=u.clear=function(J){J.ctx.clearRect(0,0,J.width,J.height)},k=u.fontString=function(K,L,J){return L+" "+K+"px "+J},m=u.longestText=function(L,M,J){L.font=M;var K=0;return v(J,function(O){var N=L.measureText(O).width;K=N>K?N:K}),K},o=u.drawRoundedRectangle=function(N,O,J,K,L,M){N.beginPath(),N.moveTo(O+M,J),N.lineTo(O+K-M,J),N.quadraticCurveTo(O+K,J,O+K,J+M),N.lineTo(O+K,J+L-M),N.quadraticCurveTo(O+K,J+L,O+K-M,J+L),N.lineTo(O+M,J+L),N.quadraticCurveTo(O,J+L,O,J+L-M),N.lineTo(O,J+M),N.quadraticCurveTo(O,J,O+M,J),N.closePath()};t.instances={},t.Type=function(K,L,J){this.options=L,this.chart=J,this.id=C(),t.instances[this.id]=this,L.responsive&&this.resize(),this.initialize.call(this,K)},x(t.Type.prototype,{initialize:function(){return this},clear:function(){return i(this.chart),this},stop:function(){return p(this.animationFrame),this},resize:function(L){this.stop();var M=this.chart.canvas,J=c(this.chart.canvas),K=this.options.maintainAspectRatio?J/this.chart.aspectRatio:e(this.chart.canvas);return M.width=this.chart.width=J,M.height=this.chart.height=K,g(this.chart),"function"==typeof L&&L.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:B,render:function(J){return J&&this.reflow(),this.options.animation&&!J?u.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return j(this.options.legendTemplate,this)},destroy:function(){this.clear(),a(this,this.events);var J=this.chart.canvas;J.width=this.chart.width,J.height=this.chart.height,J.style.removeProperty?(J.style.removeProperty("width"),J.style.removeProperty("height")):(J.style.removeAttribute("width"),J.style.removeAttribute("height")),delete t.instances[this.id]},showTooltip:function(Q,R){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var J=function(S){var T=!1;return S.length!==this.activeElements.length?T=!0:(v(S,function(U,V){U!==this.activeElements[V]&&(T=!0)},this),T)}.call(this,Q);if(J||R){if(this.activeElements=Q,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),Q.length>0){if(this.datasets&&this.datasets.length>1){for(var K,L,M=this.datasets.length-1;M>=0&&(K=this.datasets[M].points||this.datasets[M].bars||this.datasets[M].segments,L=z(K,Q[0]),-1===L);M--){}var N=[],O=[],P=function(V){var W,X,Y,Z,aa,S=[],T=[],U=[];return u.each(this.datasets,function(ab){ab.showTooltips!==!1&&(W=ab.points||ab.bars||ab.segments,W[L]&&W[L].hasValue()&&S.push(W[L]))}),u.each(S,function(ab){T.push(ab.x),U.push(ab.y),N.push(u.template(this.options.multiTooltipTemplate,ab)),O.push({fill:ab._saved.fillColor||ab.fillColor,stroke:ab._saved.strokeColor||ab.strokeColor})},this),aa=I(U),Y=G(U),Z=I(T),X=G(T),{x:Z>this.chart.width/2?Z:X,y:(aa+Y)/2}}.call(this,L);new t.MultiTooltip({x:P.x,y:P.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:N,legendColors:O,legendColorBackground:this.options.multiTooltipKeyBackground,title:Q[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else{v(Q,function(S){var T=S.tooltipPosition();new t.Tooltip({x:Math.round(T.x),y:Math.round(T.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:j(this.options.tooltipTemplate,S),chart:this.chart,custom:this.options.customTooltips}).draw()},this)}}return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),t.Type.extend=function(M){var N=this,J=function(){return N.apply(this,arguments)};if(J.prototype=w(N.prototype),x(J.prototype,M),J.extend=t.Type.extend,M.name||N.prototype.name){var K=M.name||N.prototype.name,L=t.defaults[N.prototype.name]?w(t.defaults[N.prototype.name]):{};t.defaults[K]=x(L,M.defaults),t.types[K]=J,t.prototype[K]=function(P,Q){var O=y(t.defaults.global,t.defaults[K],Q||{});return new J(P,O,this)}}else{D("Name not provided for this chart, so it hasn't been registered")}return N},t.Element=function(J){x(this,J),this.initialize.apply(this,arguments),this.save()},x(t.Element.prototype,{initialize:function(){},restore:function(J){return J?v(J,function(K){this[K]=this._saved[K]},this):x(this,this._saved),this},save:function(){return this._saved=w(this),delete this._saved._saved,this},update:function(J){return v(J,function(K,L){this._saved[L]=this[L],this[L]=K},this),this},transition:function(J,K){return v(J,function(L,M){this[M]=(L-this._saved[M])*K+this._saved[M]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return F(this.value)}}),t.Element.extend=A,t.Point=t.Element.extend({display:!0,inRange:function(K,L){var J=this.hitDetectionRadius+this.radius;return Math.pow(K-this.x,2)+Math.pow(L-this.y,2)<Math.pow(J,2)},draw:function(){if(this.display){var J=this.ctx;J.beginPath(),J.arc(this.x,this.y,this.radius,0,2*Math.PI),J.closePath(),J.strokeStyle=this.strokeColor,J.lineWidth=this.strokeWidth,J.fillStyle=this.fillColor,J.fill(),J.stroke()}}}),t.Arc=t.Element.extend({inRange:function(M,N){var J=u.getAngleFromPoint(this,{x:M,y:N}),K=J.angle>=this.startAngle&&J.angle<=this.endAngle,L=J.distance>=this.innerRadius&&J.distance<=this.outerRadius;return K&&L},tooltipPosition:function(){var J=this.startAngle+(this.endAngle-this.startAngle)/2,K=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(J)*K,y:this.y+Math.sin(J)*K}},draw:function(J){var K=this.ctx;K.beginPath(),K.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),K.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),K.closePath(),K.strokeStyle=this.strokeColor,K.lineWidth=this.strokeWidth,K.fillStyle=this.fillColor,K.fill(),K.lineJoin="bevel",this.showStroke&&K.stroke()}}),t.Rectangle=t.Element.extend({draw:function(){var N=this.ctx,O=this.width/2,J=this.x-O,K=this.x+O,L=this.base-(this.base-this.y),M=this.strokeWidth/2;this.showStroke&&(J+=M,K-=M,L+=M),N.beginPath(),N.fillStyle=this.fillColor,N.strokeStyle=this.strokeColor,N.lineWidth=this.strokeWidth,N.moveTo(J,this.base),N.lineTo(J,L),N.lineTo(K,L),N.lineTo(K,this.base),N.fill(),this.showStroke&&N.stroke()},height:function(){return this.base-this.y},inRange:function(J,K){return J>=this.x-this.width/2&&J<=this.x+this.width/2&&K>=this.y&&K<=this.base}}),t.Tooltip=t.Element.extend({draw:function(){var M=this.chart.ctx;M.font=k(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var N=this.caretPadding=2,O=M.measureText(this.text).width+2*this.xPadding,P=this.fontSize+2*this.yPadding,J=P+this.caretHeight+N;this.x+O/2>this.chart.width?this.xAlign="left":this.x-O/2<0&&(this.xAlign="right"),this.y-J<0&&(this.yAlign="below");var K=this.x-O/2,L=this.y-J;if(M.fillStyle=this.fillColor,this.custom){this.custom(this)}else{switch(this.yAlign){case"above":M.beginPath(),M.moveTo(this.x,this.y-N),M.lineTo(this.x+this.caretHeight,this.y-(N+this.caretHeight)),M.lineTo(this.x-this.caretHeight,this.y-(N+this.caretHeight)),M.closePath(),M.fill();break;case"below":L=this.y+N+this.caretHeight,M.beginPath(),M.moveTo(this.x,this.y+N),M.lineTo(this.x+this.caretHeight,this.y+N+this.caretHeight),M.lineTo(this.x-this.caretHeight,this.y+N+this.caretHeight),M.closePath(),M.fill()}switch(this.xAlign){case"left":K=this.x-O+(this.cornerRadius+this.caretHeight);break;case"right":K=this.x-(this.cornerRadius+this.caretHeight)}o(M,K,L,O,P,this.cornerRadius),M.fill(),M.fillStyle=this.textColor,M.textAlign="center",M.textBaseline="middle",M.fillText(this.text,K+O/2,L+P/2)}}}),t.MultiTooltip=t.Element.extend({initialize:function(){this.font=k(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=k(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var L=this.ctx.measureText(this.title).width,M=m(this.ctx,this.font,this.labels)+this.fontSize+3,J=G([M,L]);this.width=J+2*this.xPadding;var K=this.height/2;this.y-K<0?this.y=K:this.y+K>this.chart.height&&(this.y=this.chart.height-K),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(K){var L=this.y-this.height/2+this.yPadding,J=K-1;return 0===K?L+this.titleFontSize/2:L+(1.5*this.fontSize*J+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom){this.custom(this)}else{o(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var J=this.ctx;J.fillStyle=this.fillColor,J.fill(),J.closePath(),J.textAlign="left",J.textBaseline="middle",J.fillStyle=this.titleTextColor,J.font=this.titleFont,J.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),J.font=this.font,u.each(this.labels,function(L,K){J.fillStyle=this.textColor,J.fillText(L,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(K+1)),J.fillStyle=this.legendColorBackground,J.fillRect(this.x+this.xPadding,this.getLineHeight(K+1)-this.fontSize/2,this.fontSize,this.fontSize),J.fillStyle=this.legendColors[K].fill,J.fillRect(this.x+this.xPadding,this.getLineHeight(K+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),t.Scale=t.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var J=b(this.stepValue),K=0;K<=this.steps;K++){this.yLabels.push(j(this.templateString,{value:(this.min+K*this.stepValue).toFixed(J)}))}this.yLabelWidth=this.display&&this.showLabels?m(this.ctx,this.font,this.yLabels):0},addXLabel:function(J){this.xLabels.push(J),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var J,K=this.endPoint-this.startPoint;for(this.calculateYRange(K),this.buildYLabels(),this.calculateXLabelRotation();K>this.endPoint-this.startPoint;){K=this.endPoint-this.startPoint,J=this.yLabelWidth,this.calculateYRange(K),this.buildYLabels(),J<this.yLabelWidth&&this.calculateXLabelRotation()}},calculateXLabelRotation:function(){this.ctx.font=this.font;var M,N,O=this.ctx.measureText(this.xLabels[0]).width,P=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=P/2+3,this.xScalePaddingLeft=O/2>this.yLabelWidth+10?O/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var J,K=m(this.ctx,this.font,this.xLabels);this.xLabelWidth=K;for(var L=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>L&&0===this.xLabelRotation||this.xLabelWidth>L&&this.xLabelRotation<=90&&this.xLabelRotation>0;){J=Math.cos(d(this.xLabelRotation)),M=J*O,N=J*P,M+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=M+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=J*K}this.xLabelRotation>0&&(this.endPoint-=Math.sin(d(this.xLabelRotation))*K+3)}else{this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding}},calculateYRange:B,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(J){var K=this.drawingArea()/(this.min-this.max);return this.endPoint-K*(J-this.min)},calculateX:function(L){var M=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),J=M/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),K=J*L+this.xScalePaddingLeft;return this.offsetGridLines&&(K+=J/2),Math.round(K)},update:function(J){u.extend(this,J),this.fit()},draw:function(){var K=this.ctx,L=(this.endPoint-this.startPoint)/this.steps,J=Math.round(this.xScalePaddingLeft);this.display&&(K.fillStyle=this.textColor,K.font=this.font,v(this.yLabels,function(N,O){var P=this.endPoint-L*O,Q=Math.round(P),M=this.showHorizontalLines;K.textAlign="right",K.textBaseline="middle",this.showLabels&&K.fillText(N,J-10,P),0!==O||M||(M=!0),M&&K.beginPath(),O>0?(K.lineWidth=this.gridLineWidth,K.strokeStyle=this.gridLineColor):(K.lineWidth=this.lineWidth,K.strokeStyle=this.lineColor),Q+=u.aliasPixel(K.lineWidth),M&&(K.moveTo(J,Q),K.lineTo(this.width,Q),K.stroke(),K.closePath()),K.lineWidth=this.lineWidth,K.strokeStyle=this.lineColor,K.beginPath(),K.moveTo(J-5,Q),K.lineTo(J,Q),K.stroke(),K.closePath()},this),v(this.xLabels,function(Q,R){var M=this.calculateX(R)+f(this.lineWidth),N=this.calculateX(R-(this.offsetGridLines?0.5:0))+f(this.lineWidth),O=this.xLabelRotation>0,P=this.showVerticalLines;0!==R||P||(P=!0),P&&K.beginPath(),R>0?(K.lineWidth=this.gridLineWidth,K.strokeStyle=this.gridLineColor):(K.lineWidth=this.lineWidth,K.strokeStyle=this.lineColor),P&&(K.moveTo(N,this.endPoint),K.lineTo(N,this.startPoint-3),K.stroke(),K.closePath()),K.lineWidth=this.lineWidth,K.strokeStyle=this.lineColor,K.beginPath(),K.moveTo(N,this.endPoint),K.lineTo(N,this.endPoint+5),K.stroke(),K.closePath(),K.save(),K.translate(M,O?this.endPoint+12:this.endPoint+8),K.rotate(-1*d(this.xLabelRotation)),K.font=this.font,K.textAlign=O?"right":"center",K.textBaseline=O?"middle":"top",K.fillText(Q,0,0),K.restore()},this))}}),t.RadialScale=t.Element.extend({initialize:function(){this.size=I([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(J){var K=this.drawingArea/(this.max-this.min);return(J-this.min)*K},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var J=b(this.stepValue),K=0;K<=this.steps;K++){this.yLabels.push(j(this.templateString,{value:(this.min+K*this.stepValue).toFixed(J)}))}},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var K,M,N,P,Q,R,S,T,U,V,W,X,J=I([this.height/2-this.pointLabelFontSize-5,this.width/2]),L=this.width,O=0;for(this.ctx.font=k(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),M=0;M<this.valuesCount;M++){K=this.getPointPosition(M,J),N=this.ctx.measureText(j(this.templateString,{value:this.labels[M]})).width+5,0===M||M===this.valuesCount/2?(P=N/2,K.x+P>L&&(L=K.x+P,Q=M),K.x-P<O&&(O=K.x-P,S=M)):M<this.valuesCount/2?K.x+N>L&&(L=K.x+N,Q=M):M>this.valuesCount/2&&K.x-N<O&&(O=K.x-N,S=M)}U=O,V=Math.ceil(L-this.width),R=this.getIndexAngle(Q),T=this.getIndexAngle(S),W=V/Math.sin(R+Math.PI/2),X=U/Math.sin(T+Math.PI/2),W=F(W)?W:0,X=F(X)?X:0,this.drawingArea=J-(X+W)/2,this.setCenterPoint(X,W)},setCenterPoint:function(L,M){var J=this.width-M-this.drawingArea,K=L+this.drawingArea;this.xCenter=(K+J)/2,this.yCenter=this.height/2},getIndexAngle:function(J){var K=2*Math.PI/this.valuesCount;return J*K-Math.PI/2},getPointPosition:function(K,L){var J=this.getIndexAngle(K);return{x:Math.cos(J)*L+this.xCenter,y:Math.sin(J)*L+this.yCenter}},draw:function(){if(this.display){var R=this.ctx;if(v(this.yLabels,function(W,Y){if(Y>0){var S,T=Y*(this.drawingArea/this.steps),U=this.yCenter-T;if(this.lineWidth>0){if(R.strokeStyle=this.lineColor,R.lineWidth=this.lineWidth,this.lineArc){R.beginPath(),R.arc(this.xCenter,this.yCenter,T,0,2*Math.PI),R.closePath(),R.stroke()}else{R.beginPath();for(var V=0;V<this.valuesCount;V++){S=this.getPointPosition(V,this.calculateCenterOffset(this.min+Y*this.stepValue)),0===V?R.moveTo(S.x,S.y):R.lineTo(S.x,S.y)}R.closePath(),R.stroke()}}if(this.showLabels){if(R.font=k(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var X=R.measureText(W).width;R.fillStyle=this.backdropColor,R.fillRect(this.xCenter-X/2-this.backdropPaddingX,U-this.fontSize/2-this.backdropPaddingY,X+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}R.textAlign="center",R.textBaseline="middle",R.fillStyle=this.fontColor,R.fillText(W,this.xCenter,U)}}},this),!this.lineArc){R.lineWidth=this.angleLineWidth,R.strokeStyle=this.angleLineColor;for(var J=this.valuesCount-1;J>=0;J--){if(this.angleLineWidth>0){var K=this.getPointPosition(J,this.calculateCenterOffset(this.max));R.beginPath(),R.moveTo(this.xCenter,this.yCenter),R.lineTo(K.x,K.y),R.stroke(),R.closePath()}var L=this.getPointPosition(J,this.calculateCenterOffset(this.max)+5);R.font=k(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),R.fillStyle=this.pointLabelFontColor;var M=this.labels.length,N=this.labels.length/2,O=N/2,P=O>J||J>M-O,Q=J===O||J===M-O;R.textAlign=0===J?"center":J===N?"center":N>J?"left":"right",R.textBaseline=Q?"middle":P?"bottom":"top",R.fillText(this.labels[J],L.x,L.y)}}}}}),u.addEvent(window,"resize",function(){var J;return function(){clearTimeout(J),J=setTimeout(function(){v(t.instances,function(K){K.options.responsive&&K.resize(K.render,!0)})},50)}}()),E?define(function(){return t}):"object"==typeof module&&module.exports&&(module.exports=t),s.Chart=t,r.fn.chart=function(){var J=[];return this.each(function(){J.push(new t(this.getContext("2d")))}),1===J.length?J[0]:J}}).call(this,jQuery),function(d){var e=d&&d.zui?d.zui:this,a=e.Chart,b=a.helpers,c={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:1,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};a.Type.extend({name:"Bar",defaults:c,initialize:function(g){var f=this.options;this.ScaleClass=a.Scale.extend({offsetGridLines:!0,calculateBarX:function(h,i,j){var k=this.calculateBaseWidth(),r=this.calculateX(j)-k/2,s=this.calculateBarWidth(h);return r+s*i+i*f.barDatasetSpacing+s/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*f.barValueSpacing},calculateBarWidth:function(h){var i=this.calculateBaseWidth()-(h-1)*f.barDatasetSpacing;return i/h}}),this.datasets=[],this.options.showTooltips&&b.bindEvents(this,this.options.tooltipEvents,function(h){var i="mouseout"!==h.type?this.getBarsAtEvent(h):[];this.eachBars(function(j){j.restore(["fillColor","strokeColor"])}),b.each(i,function(j){j.fillColor=j.highlightFill,j.strokeColor=j.highlightStroke}),this.showTooltip(i)}),this.BarClass=a.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),b.each(g.datasets,function(k,p){if(d.zui&&d.zui.Color&&d.zui.Color.get){var i=d.zui.Color.get(k.color),j=i.toCssStr();k.fillColor||(k.fillColor=i.clone().fade(50).toCssStr()),k.strokeColor||(k.strokeColor=j)}var h={label:k.label||null,fillColor:k.fillColor,strokeColor:k.strokeColor,bars:[]};this.datasets.push(h),b.each(k.data,function(m,l){h.bars.push(new this.BarClass({value:m,label:g.labels[l],datasetLabel:k.label,strokeColor:k.strokeColor,fillColor:k.fillColor,highlightFill:k.highlightFill||k.fillColor,highlightStroke:k.highlightStroke||k.strokeColor}))},this)},this),this.buildScale(g.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(h,i,j){b.extend(h,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,j,i),y:this.scale.endPoint}),h.save()},this),this.render()},update:function(){this.scale.update(),b.each(this.activeElements,function(f){f.restore(["fillColor","strokeColor"])}),this.eachBars(function(f){f.save()}),this.render()},eachBars:function(f){b.each(this.datasets,function(h,g){b.each(h.bars,f,this,g)},this)},getBarsAtEvent:function(g){for(var j,h=[],i=b.getRelativePosition(g),k=function(l){h.push(l.bars[j])},f=0;f<this.datasets.length;f++){for(j=0;j<this.datasets[f].bars.length;j++){if(this.datasets[f].bars[j].inRange(i.x,i.y)){return b.each(this.datasets,k),h}}}return h},buildScale:function(g){var h=this,i=function(){var j=[];return h.eachBars(function(k){j.push(k.value)}),j},f={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:g.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(j){var k=b.calculateScaleRange(i(),j,this.fontSize,this.beginAtZero,this.integersOnly);b.extend(this,k)},xLabels:g,font:b.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&b.extend(f,{calculateYRange:b.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(f)},addData:function(f,g){b.each(f,function(h,i){this.datasets[i].bars.push(new this.BarClass({value:h,label:g,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(g),this.update()},removeData:function(){this.scale.removeXLabel(),b.each(this.datasets,function(f){f.bars.shift()},this),this.update()},reflow:function(){b.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var f=b.extend({height:this.chart.height,width:this.chart.width});this.scale.update(f)},draw:function(f){var g=f||1;this.clear();this.chart.ctx;this.scale.draw(g),b.each(this.datasets,function(h,i){b.each(h.bars,function(j,k){j.hasValue()&&(j.base=this.scale.endPoint,j.transition({x:this.scale.calculateBarX(this.datasets.length,i,k),y:this.scale.calculateY(j.value),width:this.scale.calculateBarWidth(this.datasets.length)},g).draw())},this)},this)}}),d.fn.barChart=function(h,f){var g=[];return this.each(function(){var i=d(this);g.push(new a(this.getContext("2d")).Bar(h,d.extend(i.data(),f)))}),1===g.length?g[0]:g}}.call(this,jQuery);
;}catch(e){}
tinyTplList.push({sort:3, name: 'deepblue', title: '深蓝'});